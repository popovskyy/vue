(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function hg(e,t){const n=Object.create(null),i=e.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const bt={},zs=[],Wr=()=>{},bO=()=>!1,sh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),dg=e=>e.startsWith("onUpdate:"),ln=Object.assign,pg=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},IO=Object.prototype.hasOwnProperty,Ze=(e,t)=>IO.call(e,t),xe=Array.isArray,Ws=e=>pc(e)==="[object Map]",ah=e=>pc(e)==="[object Set]",Vb=e=>pc(e)==="[object Date]",Me=e=>typeof e=="function",$t=e=>typeof e=="string",Wi=e=>typeof e=="symbol",mt=e=>e!==null&&typeof e=="object",RT=e=>(mt(e)||Me(e))&&Me(e.then)&&Me(e.catch),NT=Object.prototype.toString,pc=e=>NT.call(e),EO=e=>pc(e).slice(8,-1),OT=e=>pc(e)==="[object Object]",mg=e=>$t(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,uf=hg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),uh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},TO=/-(\w)/g,Yr=uh(e=>e.replace(TO,(t,n)=>n?n.toUpperCase():"")),SO=/\B([A-Z])/g,Sa=uh(e=>e.replace(SO,"-$1").toLowerCase()),ch=uh(e=>e.charAt(0).toUpperCase()+e.slice(1)),Dm=uh(e=>e?`on${ch(e)}`:""),Go=(e,t)=>!Object.is(e,t),cf=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},wf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},PT=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let jb;const lv=()=>jb||(jb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function zo(e){if(xe(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=$t(i)?CO(i):zo(i);if(o)for(const s in o)t[s]=o[s]}return t}else if($t(e)||mt(e))return e}const AO=/;(?![^(]*\))/g,kO=/:([^]+)/,xO=/\/\*[^]*?\*\//g;function CO(e){const t={};return e.replace(xO,"").split(AO).forEach(n=>{if(n){const i=n.split(kO);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function vn(e){let t="";if($t(e))t=e;else if(xe(e))for(let n=0;n<e.length;n++){const i=vn(e[n]);i&&(t+=i+" ")}else if(mt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const RO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",NO=hg(RO);function DT(e){return!!e||e===""}function OO(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=lh(e[i],t[i]);return n}function lh(e,t){if(e===t)return!0;let n=Vb(e),i=Vb(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Wi(e),i=Wi(t),n||i)return e===t;if(n=xe(e),i=xe(t),n||i)return n&&i?OO(e,t):!1;if(n=mt(e),i=mt(t),n||i){if(!n||!i)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const u in e){const l=e.hasOwnProperty(u),f=t.hasOwnProperty(u);if(l&&!f||!l&&f||!lh(e[u],t[u]))return!1}}return String(e)===String(t)}function PO(e,t){return e.findIndex(n=>lh(n,t))}const Ft=e=>$t(e)?e:e==null?"":xe(e)||mt(e)&&(e.toString===NT||!Me(e.toString))?JSON.stringify(e,LT,2):String(e),LT=(e,t)=>t&&t.__v_isRef?LT(e,t.value):Ws(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o],s)=>(n[Lm(i,s)+" =>"]=o,n),{})}:ah(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Lm(n))}:Wi(t)?Lm(t):mt(t)&&!xe(t)&&!OT(t)?String(t):t,Lm=(e,t="")=>{var n;return Wi(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let Zn;class MT{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Zn,!t&&Zn&&(this.index=(Zn.scopes||(Zn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Zn;try{return Zn=this,t()}finally{Zn=n}}}on(){Zn=this}off(){Zn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function FT(e){return new MT(e)}function DO(e,t=Zn){t&&t.active&&t.effects.push(e)}function UT(){return Zn}function LO(e){Zn&&Zn.cleanups.push(e)}const vg=e=>{const t=new Set(e);return t.w=0,t.n=0,t},VT=e=>(e.w&Xi)>0,jT=e=>(e.n&Xi)>0,MO=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Xi},FO=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const o=t[i];VT(o)&&!jT(o)?o.delete(e):t[n++]=o,o.w&=~Xi,o.n&=~Xi}t.length=n}},bf=new WeakMap;let Au=0,Xi=1;const fv=30;let Sr;const jo=Symbol(""),hv=Symbol("");class gg{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,DO(this,i)}run(){if(!this.active)return this.fn();let t=Sr,n=$i;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Sr,Sr=this,$i=!0,Xi=1<<++Au,Au<=fv?MO(this):Bb(this),this.fn()}finally{Au<=fv&&FO(this),Xi=1<<--Au,Sr=this.parent,$i=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Sr===this?this.deferStop=!0:this.active&&(Bb(this),this.onStop&&this.onStop(),this.active=!1)}}function Bb(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let $i=!0;const BT=[];function Aa(){BT.push($i),$i=!1}function ka(){const e=BT.pop();$i=e===void 0?!0:e}function Hn(e,t,n){if($i&&Sr){let i=bf.get(e);i||bf.set(e,i=new Map);let o=i.get(n);o||i.set(n,o=vg()),qT(o)}}function qT(e,t){let n=!1;Au<=fv?jT(e)||(e.n|=Xi,n=!VT(e)):n=!e.has(Sr),n&&(e.add(Sr),Sr.deps.push(e))}function li(e,t,n,i,o,s){const u=bf.get(e);if(!u)return;let l=[];if(t==="clear")l=[...u.values()];else if(n==="length"&&xe(e)){const f=Number(i);u.forEach((p,v)=>{(v==="length"||!Wi(v)&&v>=f)&&l.push(p)})}else switch(n!==void 0&&l.push(u.get(n)),t){case"add":xe(e)?mg(n)&&l.push(u.get("length")):(l.push(u.get(jo)),Ws(e)&&l.push(u.get(hv)));break;case"delete":xe(e)||(l.push(u.get(jo)),Ws(e)&&l.push(u.get(hv)));break;case"set":Ws(e)&&l.push(u.get(jo));break}if(l.length===1)l[0]&&dv(l[0]);else{const f=[];for(const p of l)p&&f.push(...p);dv(vg(f))}}function dv(e,t){const n=xe(e)?e:[...e];for(const i of n)i.computed&&qb(i);for(const i of n)i.computed||qb(i)}function qb(e,t){(e!==Sr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function UO(e,t){var n;return(n=bf.get(e))==null?void 0:n.get(t)}const VO=hg("__proto__,__v_isRef,__isVue"),$T=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Wi)),$b=jO();function jO(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=tt(this);for(let s=0,u=this.length;s<u;s++)Hn(i,"get",s+"");const o=i[t](...n);return o===-1||o===!1?i[t](...n.map(tt)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Aa();const i=tt(this)[t].apply(this,n);return ka(),i}}),e}function BO(e){const t=tt(this);return Hn(t,"has",e),t.hasOwnProperty(e)}class HT{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,i){const o=this._isReadonly,s=this._shallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(o?s?eP:WT:s?zT:GT).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const u=xe(t);if(!o){if(u&&Ze($b,n))return Reflect.get($b,n,i);if(n==="hasOwnProperty")return BO}const l=Reflect.get(t,n,i);return(Wi(n)?$T.has(n):VO(n))||(o||Hn(t,"get",n),s)?l:vt(l)?u&&mg(n)?l:l.value:mt(l)?o?wg(l):mi(l):l}}class KT extends HT{constructor(t=!1){super(!1,t)}set(t,n,i,o){let s=t[n];if(Zs(s)&&vt(s)&&!vt(i))return!1;if(!this._shallow&&(!If(i)&&!Zs(i)&&(s=tt(s),i=tt(i)),!xe(t)&&vt(s)&&!vt(i)))return s.value=i,!0;const u=xe(t)&&mg(n)?Number(n)<t.length:Ze(t,n),l=Reflect.set(t,n,i,o);return t===tt(o)&&(u?Go(i,s)&&li(t,"set",n,i):li(t,"add",n,i)),l}deleteProperty(t,n){const i=Ze(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&i&&li(t,"delete",n,void 0),o}has(t,n){const i=Reflect.has(t,n);return(!Wi(n)||!$T.has(n))&&Hn(t,"has",n),i}ownKeys(t){return Hn(t,"iterate",xe(t)?"length":jo),Reflect.ownKeys(t)}}class qO extends HT{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const $O=new KT,HO=new qO,KO=new KT(!0),yg=e=>e,fh=e=>Reflect.getPrototypeOf(e);function Vl(e,t,n=!1,i=!1){e=e.__v_raw;const o=tt(e),s=tt(t);n||(Go(t,s)&&Hn(o,"get",t),Hn(o,"get",s));const{has:u}=fh(o),l=i?yg:n?Ig:qu;if(u.call(o,t))return l(e.get(t));if(u.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function jl(e,t=!1){const n=this.__v_raw,i=tt(n),o=tt(e);return t||(Go(e,o)&&Hn(i,"has",e),Hn(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Bl(e,t=!1){return e=e.__v_raw,!t&&Hn(tt(e),"iterate",jo),Reflect.get(e,"size",e)}function Hb(e){e=tt(e);const t=tt(this);return fh(t).has.call(t,e)||(t.add(e),li(t,"add",e,e)),this}function Kb(e,t){t=tt(t);const n=tt(this),{has:i,get:o}=fh(n);let s=i.call(n,e);s||(e=tt(e),s=i.call(n,e));const u=o.call(n,e);return n.set(e,t),s?Go(t,u)&&li(n,"set",e,t):li(n,"add",e,t),this}function Gb(e){const t=tt(this),{has:n,get:i}=fh(t);let o=n.call(t,e);o||(e=tt(e),o=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return o&&li(t,"delete",e,void 0),s}function zb(){const e=tt(this),t=e.size!==0,n=e.clear();return t&&li(e,"clear",void 0,void 0),n}function ql(e,t){return function(i,o){const s=this,u=s.__v_raw,l=tt(u),f=t?yg:e?Ig:qu;return!e&&Hn(l,"iterate",jo),u.forEach((p,v)=>i.call(o,f(p),f(v),s))}}function $l(e,t,n){return function(...i){const o=this.__v_raw,s=tt(o),u=Ws(s),l=e==="entries"||e===Symbol.iterator&&u,f=e==="keys"&&u,p=o[e](...i),v=n?yg:t?Ig:qu;return!t&&Hn(s,"iterate",f?hv:jo),{next(){const{value:h,done:m}=p.next();return m?{value:h,done:m}:{value:l?[v(h[0]),v(h[1])]:v(h),done:m}},[Symbol.iterator](){return this}}}}function Ci(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function GO(){const e={get(s){return Vl(this,s)},get size(){return Bl(this)},has:jl,add:Hb,set:Kb,delete:Gb,clear:zb,forEach:ql(!1,!1)},t={get(s){return Vl(this,s,!1,!0)},get size(){return Bl(this)},has:jl,add:Hb,set:Kb,delete:Gb,clear:zb,forEach:ql(!1,!0)},n={get(s){return Vl(this,s,!0)},get size(){return Bl(this,!0)},has(s){return jl.call(this,s,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:ql(!0,!1)},i={get(s){return Vl(this,s,!0,!0)},get size(){return Bl(this,!0)},has(s){return jl.call(this,s,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:ql(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=$l(s,!1,!1),n[s]=$l(s,!0,!1),t[s]=$l(s,!1,!0),i[s]=$l(s,!0,!0)}),[e,n,t,i]}const[zO,WO,XO,QO]=GO();function _g(e,t){const n=t?e?QO:XO:e?WO:zO;return(i,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(Ze(n,o)&&o in i?n:i,o,s)}const YO={get:_g(!1,!1)},JO={get:_g(!1,!0)},ZO={get:_g(!0,!1)},GT=new WeakMap,zT=new WeakMap,WT=new WeakMap,eP=new WeakMap;function tP(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function nP(e){return e.__v_skip||!Object.isExtensible(e)?0:tP(EO(e))}function mi(e){return Zs(e)?e:bg(e,!1,$O,YO,GT)}function XT(e){return bg(e,!1,KO,JO,zT)}function wg(e){return bg(e,!0,HO,ZO,WT)}function bg(e,t,n,i,o){if(!mt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const u=nP(e);if(u===0)return e;const l=new Proxy(e,u===2?i:n);return o.set(e,l),l}function Hi(e){return Zs(e)?Hi(e.__v_raw):!!(e&&e.__v_isReactive)}function Zs(e){return!!(e&&e.__v_isReadonly)}function If(e){return!!(e&&e.__v_isShallow)}function QT(e){return Hi(e)||Zs(e)}function tt(e){const t=e&&e.__v_raw;return t?tt(t):e}function hh(e){return wf(e,"__v_skip",!0),e}const qu=e=>mt(e)?mi(e):e,Ig=e=>mt(e)?wg(e):e;function YT(e){$i&&Sr&&(e=tt(e),qT(e.dep||(e.dep=vg())))}function JT(e,t){e=tt(e);const n=e.dep;n&&dv(n)}function vt(e){return!!(e&&e.__v_isRef===!0)}function kn(e){return eS(e,!1)}function ZT(e){return eS(e,!0)}function eS(e,t){return vt(e)?e:new rP(e,t)}class rP{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:tt(t),this._value=n?t:qu(t)}get value(){return YT(this),this._value}set value(t){const n=this.__v_isShallow||If(t)||Zs(t);t=n?t:tt(t),Go(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:qu(t),JT(this))}}function et(e){return vt(e)?e.value:e}function at(e){return Me(e)?e():et(e)}const iP={get:(e,t,n)=>et(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return vt(o)&&!vt(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function tS(e){return Hi(e)?e:new Proxy(e,iP)}function oP(e){const t=xe(e)?new Array(e.length):{};for(const n in e)t[n]=nS(e,n);return t}class sP{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return UO(tt(this._object),this._key)}}class aP{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ro(e,t,n){return vt(e)?e:Me(e)?new aP(e):mt(e)&&arguments.length>1?nS(e,t,n):kn(e)}function nS(e,t,n){const i=e[t];return vt(i)?i:new sP(e,t,n)}class uP{constructor(t,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new gg(t,()=>{this._dirty||(this._dirty=!0,JT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const t=tt(this);return YT(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function cP(e,t,n=!1){let i,o;const s=Me(e);return s?(i=e,o=Wr):(i=e.get,o=e.set),new uP(i,o,s||!o,n)}function Ki(e,t,n,i){let o;try{o=i?e(...i):e()}catch(s){dh(s,t,n)}return o}function xr(e,t,n,i){if(Me(e)){const s=Ki(e,t,n,i);return s&&RT(s)&&s.catch(u=>{dh(u,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(xr(e[s],t,n,i));return o}function dh(e,t,n,i=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const u=t.proxy,l=n;for(;s;){const p=s.ec;if(p){for(let v=0;v<p.length;v++)if(p[v](e,u,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){Ki(f,null,10,[e,u,l]);return}}lP(e,n,o,i)}function lP(e,t,n,i=!0){console.error(e)}let $u=!1,pv=!1;const mn=[];let Gr=0;const Xs=[];let si=null,No=0;const rS=Promise.resolve();let Eg=null;function er(e){const t=Eg||rS;return e?t.then(this?e.bind(this):e):t}function fP(e){let t=Gr+1,n=mn.length;for(;t<n;){const i=t+n>>>1,o=mn[i],s=Hu(o);s<e||s===e&&o.pre?t=i+1:n=i}return t}function Tg(e){(!mn.length||!mn.includes(e,$u&&e.allowRecurse?Gr+1:Gr))&&(e.id==null?mn.push(e):mn.splice(fP(e.id),0,e),iS())}function iS(){!$u&&!pv&&(pv=!0,Eg=rS.then(sS))}function hP(e){const t=mn.indexOf(e);t>Gr&&mn.splice(t,1)}function dP(e){xe(e)?Xs.push(...e):(!si||!si.includes(e,e.allowRecurse?No+1:No))&&Xs.push(e),iS()}function Wb(e,t,n=$u?Gr+1:0){for(;n<mn.length;n++){const i=mn[n];if(i&&i.pre){if(e&&i.id!==e.uid)continue;mn.splice(n,1),n--,i()}}}function oS(e){if(Xs.length){const t=[...new Set(Xs)];if(Xs.length=0,si){si.push(...t);return}for(si=t,si.sort((n,i)=>Hu(n)-Hu(i)),No=0;No<si.length;No++)si[No]();si=null,No=0}}const Hu=e=>e.id==null?1/0:e.id,pP=(e,t)=>{const n=Hu(e)-Hu(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function sS(e){pv=!1,$u=!0,mn.sort(pP);try{for(Gr=0;Gr<mn.length;Gr++){const t=mn[Gr];t&&t.active!==!1&&Ki(t,null,14)}}finally{Gr=0,mn.length=0,oS(),$u=!1,Eg=null,(mn.length||Xs.length)&&sS()}}function mP(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||bt;let o=n;const s=t.startsWith("update:"),u=s&&t.slice(7);if(u&&u in i){const v=`${u==="modelValue"?"model":u}Modifiers`,{number:h,trim:m}=i[v]||bt;m&&(o=n.map(y=>$t(y)?y.trim():y)),h&&(o=n.map(PT))}let l,f=i[l=Dm(t)]||i[l=Dm(Yr(t))];!f&&s&&(f=i[l=Dm(Sa(t))]),f&&xr(f,e,6,o);const p=i[l+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,xr(p,e,6,o)}}function aS(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const s=e.emits;let u={},l=!1;if(!Me(e)){const f=p=>{const v=aS(p,t,!0);v&&(l=!0,ln(u,v))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(mt(e)&&i.set(e,null),null):(xe(s)?s.forEach(f=>u[f]=null):ln(u,s),mt(e)&&i.set(e,u),u)}function ph(e,t){return!e||!sh(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ze(e,t[0].toLowerCase()+t.slice(1))||Ze(e,Sa(t))||Ze(e,t))}let jn=null,mh=null;function Ef(e){const t=jn;return jn=e,mh=e&&e.type.__scopeId||null,t}function vP(e){mh=e}function gP(){mh=null}function Rn(e,t=jn,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&oI(-1);const s=Ef(t);let u;try{u=e(...o)}finally{Ef(s),i._d&&oI(1)}return u};return i._n=!0,i._c=!0,i._d=!0,i}function Mm(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[u],slots:l,attrs:f,emit:p,render:v,renderCache:h,data:m,setupState:y,ctx:_,inheritAttrs:I}=e;let E,T;const C=Ef(e);try{if(n.shapeFlag&4){const F=o||i,J=F;E=Kr(v.call(J,F,h,s,y,m,_)),T=f}else{const F=t;E=Kr(F.length>1?F(s,{attrs:f,slots:l,emit:p}):F(s,null)),T=t.props?f:yP(f)}}catch(F){Ou.length=0,dh(F,e,1),E=we(Wo)}let P=E;if(T&&I!==!1){const F=Object.keys(T),{shapeFlag:J}=P;F.length&&J&7&&(u&&F.some(dg)&&(T=_P(T,u)),P=ta(P,T))}return n.dirs&&(P=ta(P),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&(P.transition=n.transition),E=P,Ef(C),E}const yP=e=>{let t;for(const n in e)(n==="class"||n==="style"||sh(n))&&((t||(t={}))[n]=e[n]);return t},_P=(e,t)=>{const n={};for(const i in e)(!dg(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function wP(e,t,n){const{props:i,children:o,component:s}=e,{props:u,children:l,patchFlag:f}=t,p=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?Xb(i,u,p):!!u;if(f&8){const v=t.dynamicProps;for(let h=0;h<v.length;h++){const m=v[h];if(u[m]!==i[m]&&!ph(p,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===u?!1:i?u?Xb(i,u,p):!0:!!u;return!1}function Xb(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const s=i[o];if(t[s]!==e[s]&&!ph(n,s))return!0}return!1}function bP({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Sg="components";function gt(e,t){return cS(Sg,e,!0,t)||e}const uS=Symbol.for("v-ndc");function Ag(e){return $t(e)?cS(Sg,e,!1)||e:e||uS}function cS(e,t,n=!0,i=!1){const o=jn||Xt;if(o){const s=o.type;if(e===Sg){const l=hD(s,!1);if(l&&(l===t||l===Yr(t)||l===ch(Yr(t))))return s}const u=Qb(o[e]||s[e],t)||Qb(o.appContext[e],t);return!u&&i?s:u}}function Qb(e,t){return e&&(e[t]||e[Yr(t)]||e[ch(Yr(t))])}const IP=e=>e.__isSuspense;function EP(e,t){t&&t.pendingBranch?xe(e)?t.effects.push(...e):t.effects.push(e):dP(e)}function TP(e,t){return kg(e,null,t)}const Hl={};function mr(e,t,n){return kg(e,t,n)}function kg(e,t,{immediate:n,deep:i,flush:o,onTrack:s,onTrigger:u}=bt){var l;const f=UT()===((l=Xt)==null?void 0:l.scope)?Xt:null;let p,v=!1,h=!1;if(vt(e)?(p=()=>e.value,v=If(e)):Hi(e)?(p=()=>e,i=!0):xe(e)?(h=!0,v=e.some(F=>Hi(F)||If(F)),p=()=>e.map(F=>{if(vt(F))return F.value;if(Hi(F))return Do(F);if(Me(F))return Ki(F,f,2)})):Me(e)?t?p=()=>Ki(e,f,2):p=()=>{if(!(f&&f.isUnmounted))return m&&m(),xr(e,f,3,[y])}:p=Wr,t&&i){const F=p;p=()=>Do(F())}let m,y=F=>{m=C.onStop=()=>{Ki(F,f,4),m=C.onStop=void 0}},_;if(zu)if(y=Wr,t?n&&xr(t,f,3,[p(),h?[]:void 0,y]):p(),o==="sync"){const F=mD();_=F.__watcherHandles||(F.__watcherHandles=[])}else return Wr;let I=h?new Array(e.length).fill(Hl):Hl;const E=()=>{if(C.active)if(t){const F=C.run();(i||v||(h?F.some((J,U)=>Go(J,I[U])):Go(F,I)))&&(m&&m(),xr(t,f,3,[F,I===Hl?void 0:h&&I[0]===Hl?[]:I,y]),I=F)}else C.run()};E.allowRecurse=!!t;let T;o==="sync"?T=E:o==="post"?T=()=>Un(E,f&&f.suspense):(E.pre=!0,f&&(E.id=f.uid),T=()=>Tg(E));const C=new gg(p,T);t?n?E():I=C.run():o==="post"?Un(C.run.bind(C),f&&f.suspense):C.run();const P=()=>{C.stop(),f&&f.scope&&pg(f.scope.effects,C)};return _&&_.push(P),P}function SP(e,t,n){const i=this.proxy,o=$t(e)?e.includes(".")?lS(i,e):()=>i[e]:e.bind(i,i);let s;Me(t)?s=t:(s=t.handler,n=t);const u=Xt;na(this);const l=kg(o,s.bind(i),n);return u?na(u):Bo(),l}function lS(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function Do(e,t){if(!mt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),vt(e))Do(e.value,t);else if(xe(e))for(let n=0;n<e.length;n++)Do(e[n],t);else if(ah(e)||Ws(e))e.forEach(n=>{Do(n,t)});else if(OT(e))for(const n in e)Do(e[n],t);return e}function mv(e,t){const n=jn;if(n===null)return e;const i=wh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[u,l,f,p=bt]=t[s];u&&(Me(u)&&(u={mounted:u,updated:u}),u.deep&&Do(l),o.push({dir:u,instance:i,value:l,oldValue:void 0,arg:f,modifiers:p}))}return e}function Ao(e,t,n,i){const o=e.dirs,s=t&&t.dirs;for(let u=0;u<o.length;u++){const l=o[u];s&&(l.oldValue=s[u].value);let f=l.dir[i];f&&(Aa(),xr(f,n,8,[e.el,l,e,t]),ka())}}/*! #__NO_SIDE_EFFECTS__ */function mc(e,t){return Me(e)?ln({name:e.name},t,{setup:e}):e}const lf=e=>!!e.type.__asyncLoader,fS=e=>e.type.__isKeepAlive;function AP(e,t){hS(e,"a",t)}function kP(e,t){hS(e,"da",t)}function hS(e,t,n=Xt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(vh(t,i,n),n){let o=n.parent;for(;o&&o.parent;)fS(o.parent.vnode)&&xP(i,t,n,o),o=o.parent}}function xP(e,t,n,i){const o=vh(t,e,i,!0);pS(()=>{pg(i[t],o)},n)}function vh(e,t,n=Xt,i=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...u)=>{if(n.isUnmounted)return;Aa(),na(n);const l=xr(t,n,e,u);return Bo(),ka(),l});return i?o.unshift(s):o.push(s),s}}const gi=e=>(t,n=Xt)=>(!zu||e==="sp")&&vh(e,(...i)=>t(...i),n),CP=gi("bm"),xg=gi("m"),RP=gi("bu"),NP=gi("u"),dS=gi("bum"),pS=gi("um"),OP=gi("sp"),PP=gi("rtg"),DP=gi("rtc");function LP(e,t=Xt){vh("ec",e,t)}function vc(e,t,n,i){let o;const s=n&&n[i];if(xe(e)||$t(e)){o=new Array(e.length);for(let u=0,l=e.length;u<l;u++)o[u]=t(e[u],u,void 0,s&&s[u])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,s&&s[u])}else if(mt(e))if(e[Symbol.iterator])o=Array.from(e,(u,l)=>t(u,l,void 0,s&&s[l]));else{const u=Object.keys(e);o=new Array(u.length);for(let l=0,f=u.length;l<f;l++){const p=u[l];o[l]=t(e[p],p,l,s&&s[l])}}else o=[];return n&&(n[i]=o),o}const vv=e=>e?AS(e)?wh(e)||e.proxy:vv(e.parent):null,Nu=ln(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>vv(e.parent),$root:e=>vv(e.root),$emit:e=>e.emit,$options:e=>Cg(e),$forceUpdate:e=>e.f||(e.f=()=>Tg(e.update)),$nextTick:e=>e.n||(e.n=er.bind(e.proxy)),$watch:e=>SP.bind(e)}),Fm=(e,t)=>e!==bt&&!e.__isScriptSetup&&Ze(e,t),MP={get({_:e},t){const{ctx:n,setupState:i,data:o,props:s,accessCache:u,type:l,appContext:f}=e;let p;if(t[0]!=="$"){const y=u[t];if(y!==void 0)switch(y){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Fm(i,t))return u[t]=1,i[t];if(o!==bt&&Ze(o,t))return u[t]=2,o[t];if((p=e.propsOptions[0])&&Ze(p,t))return u[t]=3,s[t];if(n!==bt&&Ze(n,t))return u[t]=4,n[t];gv&&(u[t]=0)}}const v=Nu[t];let h,m;if(v)return t==="$attrs"&&Hn(e,"get",t),v(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==bt&&Ze(n,t))return u[t]=4,n[t];if(m=f.config.globalProperties,Ze(m,t))return m[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;return Fm(o,t)?(o[t]=n,!0):i!==bt&&Ze(i,t)?(i[t]=n,!0):Ze(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:s}},u){let l;return!!n[u]||e!==bt&&Ze(e,u)||Fm(t,u)||(l=s[0])&&Ze(l,u)||Ze(i,u)||Ze(Nu,u)||Ze(o.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ze(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Yb(e){return xe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let gv=!0;function FP(e){const t=Cg(e),n=e.proxy,i=e.ctx;gv=!1,t.beforeCreate&&Jb(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:u,watch:l,provide:f,inject:p,created:v,beforeMount:h,mounted:m,beforeUpdate:y,updated:_,activated:I,deactivated:E,beforeDestroy:T,beforeUnmount:C,destroyed:P,unmounted:F,render:J,renderTracked:U,renderTriggered:de,errorCaptured:G,serverPrefetch:Q,expose:x,inheritAttrs:Ke,components:ot,directives:st,filters:Je}=t;if(p&&UP(p,i,null),u)for(const De in u){const Ie=u[De];Me(Ie)&&(i[De]=Ie.bind(n))}if(o){const De=o.call(n,n);mt(De)&&(e.data=mi(De))}if(gv=!0,s)for(const De in s){const Ie=s[De],xt=Me(Ie)?Ie.bind(n,n):Me(Ie.get)?Ie.get.bind(n,n):Wr,Pt=!Me(Ie)&&Me(Ie.set)?Ie.set.bind(n):Wr,Gt=Fe({get:xt,set:Pt});Object.defineProperty(i,De,{enumerable:!0,configurable:!0,get:()=>Gt.value,set:Ut=>Gt.value=Ut})}if(l)for(const De in l)mS(l[De],i,n,De);if(f){const De=Me(f)?f.call(n):f;Reflect.ownKeys(De).forEach(Ie=>{Qs(Ie,De[Ie])})}v&&Jb(v,e,"c");function se(De,Ie){xe(Ie)?Ie.forEach(xt=>De(xt.bind(n))):Ie&&De(Ie.bind(n))}if(se(CP,h),se(xg,m),se(RP,y),se(NP,_),se(AP,I),se(kP,E),se(LP,G),se(DP,U),se(PP,de),se(dS,C),se(pS,F),se(OP,Q),xe(x))if(x.length){const De=e.exposed||(e.exposed={});x.forEach(Ie=>{Object.defineProperty(De,Ie,{get:()=>n[Ie],set:xt=>n[Ie]=xt})})}else e.exposed||(e.exposed={});J&&e.render===Wr&&(e.render=J),Ke!=null&&(e.inheritAttrs=Ke),ot&&(e.components=ot),st&&(e.directives=st)}function UP(e,t,n=Wr){xe(e)&&(e=yv(e));for(const i in e){const o=e[i];let s;mt(o)?"default"in o?s=vr(o.from||i,o.default,!0):s=vr(o.from||i):s=vr(o),vt(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):t[i]=s}}function Jb(e,t,n){xr(xe(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function mS(e,t,n,i){const o=i.includes(".")?lS(n,i):()=>n[i];if($t(e)){const s=t[e];Me(s)&&mr(o,s)}else if(Me(e))mr(o,e.bind(n));else if(mt(e))if(xe(e))e.forEach(s=>mS(s,t,n,i));else{const s=Me(e.handler)?e.handler.bind(n):t[e.handler];Me(s)&&mr(o,s,e)}}function Cg(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:u}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!i?f=t:(f={},o.length&&o.forEach(p=>Tf(f,p,u,!0)),Tf(f,t,u)),mt(t)&&s.set(t,f),f}function Tf(e,t,n,i=!1){const{mixins:o,extends:s}=t;s&&Tf(e,s,n,!0),o&&o.forEach(u=>Tf(e,u,n,!0));for(const u in t)if(!(i&&u==="expose")){const l=VP[u]||n&&n[u];e[u]=l?l(e[u],t[u]):t[u]}return e}const VP={data:Zb,props:eI,emits:eI,methods:ku,computed:ku,beforeCreate:Tn,created:Tn,beforeMount:Tn,mounted:Tn,beforeUpdate:Tn,updated:Tn,beforeDestroy:Tn,beforeUnmount:Tn,destroyed:Tn,unmounted:Tn,activated:Tn,deactivated:Tn,errorCaptured:Tn,serverPrefetch:Tn,components:ku,directives:ku,watch:BP,provide:Zb,inject:jP};function Zb(e,t){return t?e?function(){return ln(Me(e)?e.call(this,this):e,Me(t)?t.call(this,this):t)}:t:e}function jP(e,t){return ku(yv(e),yv(t))}function yv(e){if(xe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Tn(e,t){return e?[...new Set([].concat(e,t))]:t}function ku(e,t){return e?ln(Object.create(null),e,t):t}function eI(e,t){return e?xe(e)&&xe(t)?[...new Set([...e,...t])]:ln(Object.create(null),Yb(e),Yb(t??{})):t}function BP(e,t){if(!e)return t;if(!t)return e;const n=ln(Object.create(null),e);for(const i in t)n[i]=Tn(e[i],t[i]);return n}function vS(){return{app:null,config:{isNativeTag:bO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qP=0;function $P(e,t){return function(i,o=null){Me(i)||(i=ln({},i)),o!=null&&!mt(o)&&(o=null);const s=vS(),u=new WeakSet;let l=!1;const f=s.app={_uid:qP++,_component:i,_props:o,_container:null,_context:s,_instance:null,version:vD,get config(){return s.config},set config(p){},use(p,...v){return u.has(p)||(p&&Me(p.install)?(u.add(p),p.install(f,...v)):Me(p)&&(u.add(p),p(f,...v))),f},mixin(p){return s.mixins.includes(p)||s.mixins.push(p),f},component(p,v){return v?(s.components[p]=v,f):s.components[p]},directive(p,v){return v?(s.directives[p]=v,f):s.directives[p]},mount(p,v,h){if(!l){const m=we(i,o);return m.appContext=s,v&&t?t(m,p):e(m,p,h),l=!0,f._container=p,p.__vue_app__=f,wh(m.component)||m.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(p,v){return s.provides[p]=v,f},runWithContext(p){Ku=f;try{return p()}finally{Ku=null}}};return f}}let Ku=null;function Qs(e,t){if(Xt){let n=Xt.provides;const i=Xt.parent&&Xt.parent.provides;i===n&&(n=Xt.provides=Object.create(i)),n[e]=t}}function vr(e,t,n=!1){const i=Xt||jn;if(i||Ku){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Ku._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Me(t)?t.call(i&&i.proxy):t}}function HP(){return!!(Xt||jn||Ku)}function KP(e,t,n,i=!1){const o={},s={};wf(s,yh,1),e.propsDefaults=Object.create(null),gS(e,t,o,s);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);n?e.props=i?o:XT(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function GP(e,t,n,i){const{props:o,attrs:s,vnode:{patchFlag:u}}=e,l=tt(o),[f]=e.propsOptions;let p=!1;if((i||u>0)&&!(u&16)){if(u&8){const v=e.vnode.dynamicProps;for(let h=0;h<v.length;h++){let m=v[h];if(ph(e.emitsOptions,m))continue;const y=t[m];if(f)if(Ze(s,m))y!==s[m]&&(s[m]=y,p=!0);else{const _=Yr(m);o[_]=_v(f,l,_,y,e,!1)}else y!==s[m]&&(s[m]=y,p=!0)}}}else{gS(e,t,o,s)&&(p=!0);let v;for(const h in l)(!t||!Ze(t,h)&&((v=Sa(h))===h||!Ze(t,v)))&&(f?n&&(n[h]!==void 0||n[v]!==void 0)&&(o[h]=_v(f,l,h,void 0,e,!0)):delete o[h]);if(s!==l)for(const h in s)(!t||!Ze(t,h))&&(delete s[h],p=!0)}p&&li(e,"set","$attrs")}function gS(e,t,n,i){const[o,s]=e.propsOptions;let u=!1,l;if(t)for(let f in t){if(uf(f))continue;const p=t[f];let v;o&&Ze(o,v=Yr(f))?!s||!s.includes(v)?n[v]=p:(l||(l={}))[v]=p:ph(e.emitsOptions,f)||(!(f in i)||p!==i[f])&&(i[f]=p,u=!0)}if(s){const f=tt(n),p=l||bt;for(let v=0;v<s.length;v++){const h=s[v];n[h]=_v(o,f,h,p[h],e,!Ze(p,h))}}return u}function _v(e,t,n,i,o,s){const u=e[n];if(u!=null){const l=Ze(u,"default");if(l&&i===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&Me(f)){const{propsDefaults:p}=o;n in p?i=p[n]:(na(o),i=p[n]=f.call(null,t),Bo())}else i=f}u[0]&&(s&&!l?i=!1:u[1]&&(i===""||i===Sa(n))&&(i=!0))}return i}function yS(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const s=e.props,u={},l=[];let f=!1;if(!Me(e)){const v=h=>{f=!0;const[m,y]=yS(h,t,!0);ln(u,m),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}if(!s&&!f)return mt(e)&&i.set(e,zs),zs;if(xe(s))for(let v=0;v<s.length;v++){const h=Yr(s[v]);tI(h)&&(u[h]=bt)}else if(s)for(const v in s){const h=Yr(v);if(tI(h)){const m=s[v],y=u[h]=xe(m)||Me(m)?{type:m}:ln({},m);if(y){const _=iI(Boolean,y.type),I=iI(String,y.type);y[0]=_>-1,y[1]=I<0||_<I,(_>-1||Ze(y,"default"))&&l.push(h)}}}const p=[u,l];return mt(e)&&i.set(e,p),p}function tI(e){return e[0]!=="$"}function nI(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function rI(e,t){return nI(e)===nI(t)}function iI(e,t){return xe(t)?t.findIndex(n=>rI(n,e)):Me(t)&&rI(t,e)?0:-1}const _S=e=>e[0]==="_"||e==="$stable",Rg=e=>xe(e)?e.map(Kr):[Kr(e)],zP=(e,t,n)=>{if(t._n)return t;const i=Rn((...o)=>Rg(t(...o)),n);return i._c=!1,i},wS=(e,t,n)=>{const i=e._ctx;for(const o in e){if(_S(o))continue;const s=e[o];if(Me(s))t[o]=zP(o,s,i);else if(s!=null){const u=Rg(s);t[o]=()=>u}}},bS=(e,t)=>{const n=Rg(t);e.slots.default=()=>n},WP=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=tt(t),wf(t,"_",n)):wS(t,e.slots={})}else e.slots={},t&&bS(e,t);wf(e.slots,yh,1)},XP=(e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,u=bt;if(i.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(ln(o,t),!n&&l===1&&delete o._):(s=!t.$stable,wS(t,o)),u=t}else t&&(bS(e,t),u={default:1});if(s)for(const l in o)!_S(l)&&u[l]==null&&delete o[l]};function wv(e,t,n,i,o=!1){if(xe(e)){e.forEach((m,y)=>wv(m,t&&(xe(t)?t[y]:t),n,i,o));return}if(lf(i)&&!o)return;const s=i.shapeFlag&4?wh(i.component)||i.component.proxy:i.el,u=o?null:s,{i:l,r:f}=e,p=t&&t.r,v=l.refs===bt?l.refs={}:l.refs,h=l.setupState;if(p!=null&&p!==f&&($t(p)?(v[p]=null,Ze(h,p)&&(h[p]=null)):vt(p)&&(p.value=null)),Me(f))Ki(f,l,12,[u,v]);else{const m=$t(f),y=vt(f);if(m||y){const _=()=>{if(e.f){const I=m?Ze(h,f)?h[f]:v[f]:f.value;o?xe(I)&&pg(I,s):xe(I)?I.includes(s)||I.push(s):m?(v[f]=[s],Ze(h,f)&&(h[f]=v[f])):(f.value=[s],e.k&&(v[e.k]=f.value))}else m?(v[f]=u,Ze(h,f)&&(h[f]=u)):y&&(f.value=u,e.k&&(v[e.k]=u))};u?(_.id=-1,Un(_,n)):_()}}}const Un=EP;function QP(e){return YP(e)}function YP(e,t){const n=lv();n.__VUE__=!0;const{insert:i,remove:o,patchProp:s,createElement:u,createText:l,createComment:f,setText:p,setElementText:v,parentNode:h,nextSibling:m,setScopeId:y=Wr,insertStaticContent:_}=e,I=(A,k,N,V=null,B=null,z=null,re=!1,Z=null,oe=!!k.dynamicChildren)=>{if(A===k)return;A&&!wu(A,k)&&(V=M(A),Ut(A,B,z,!0),A=null),k.patchFlag===-2&&(oe=!1,k.dynamicChildren=null);const{type:Y,ref:ge,shapeFlag:le}=k;switch(Y){case gh:E(A,k,N,V);break;case Wo:T(A,k,N,V);break;case ff:A==null&&C(k,N,V,re);break;case en:ot(A,k,N,V,B,z,re,Z,oe);break;default:le&1?J(A,k,N,V,B,z,re,Z,oe):le&6?st(A,k,N,V,B,z,re,Z,oe):(le&64||le&128)&&Y.process(A,k,N,V,B,z,re,Z,oe,ne)}ge!=null&&B&&wv(ge,A&&A.ref,z,k||A,!k)},E=(A,k,N,V)=>{if(A==null)i(k.el=l(k.children),N,V);else{const B=k.el=A.el;k.children!==A.children&&p(B,k.children)}},T=(A,k,N,V)=>{A==null?i(k.el=f(k.children||""),N,V):k.el=A.el},C=(A,k,N,V)=>{[A.el,A.anchor]=_(A.children,k,N,V,A.el,A.anchor)},P=({el:A,anchor:k},N,V)=>{let B;for(;A&&A!==k;)B=m(A),i(A,N,V),A=B;i(k,N,V)},F=({el:A,anchor:k})=>{let N;for(;A&&A!==k;)N=m(A),o(A),A=N;o(k)},J=(A,k,N,V,B,z,re,Z,oe)=>{re=re||k.type==="svg",A==null?U(k,N,V,B,z,re,Z,oe):Q(A,k,B,z,re,Z,oe)},U=(A,k,N,V,B,z,re,Z)=>{let oe,Y;const{type:ge,props:le,shapeFlag:_e,transition:Re,dirs:Ve}=A;if(oe=A.el=u(A.type,z,le&&le.is,le),_e&8?v(oe,A.children):_e&16&&G(A.children,oe,null,V,B,z&&ge!=="foreignObject",re,Z),Ve&&Ao(A,null,V,"created"),de(oe,A,A.scopeId,re,V),le){for(const Xe in le)Xe!=="value"&&!uf(Xe)&&s(oe,Xe,null,le[Xe],z,A.children,V,B,ve);"value"in le&&s(oe,"value",null,le.value),(Y=le.onVnodeBeforeMount)&&$r(Y,V,A)}Ve&&Ao(A,null,V,"beforeMount");const Ee=JP(B,Re);Ee&&Re.beforeEnter(oe),i(oe,k,N),((Y=le&&le.onVnodeMounted)||Ee||Ve)&&Un(()=>{Y&&$r(Y,V,A),Ee&&Re.enter(oe),Ve&&Ao(A,null,V,"mounted")},B)},de=(A,k,N,V,B)=>{if(N&&y(A,N),V)for(let z=0;z<V.length;z++)y(A,V[z]);if(B){let z=B.subTree;if(k===z){const re=B.vnode;de(A,re,re.scopeId,re.slotScopeIds,B.parent)}}},G=(A,k,N,V,B,z,re,Z,oe=0)=>{for(let Y=oe;Y<A.length;Y++){const ge=A[Y]=Z?Mi(A[Y]):Kr(A[Y]);I(null,ge,k,N,V,B,z,re,Z)}},Q=(A,k,N,V,B,z,re)=>{const Z=k.el=A.el;let{patchFlag:oe,dynamicChildren:Y,dirs:ge}=k;oe|=A.patchFlag&16;const le=A.props||bt,_e=k.props||bt;let Re;N&&ko(N,!1),(Re=_e.onVnodeBeforeUpdate)&&$r(Re,N,k,A),ge&&Ao(k,A,N,"beforeUpdate"),N&&ko(N,!0);const Ve=B&&k.type!=="foreignObject";if(Y?x(A.dynamicChildren,Y,Z,N,V,Ve,z):re||Ie(A,k,Z,null,N,V,Ve,z,!1),oe>0){if(oe&16)Ke(Z,k,le,_e,N,V,B);else if(oe&2&&le.class!==_e.class&&s(Z,"class",null,_e.class,B),oe&4&&s(Z,"style",le.style,_e.style,B),oe&8){const Ee=k.dynamicProps;for(let Xe=0;Xe<Ee.length;Xe++){const R=Ee[Xe],O=le[R],K=_e[R];(K!==O||R==="value")&&s(Z,R,O,K,B,A.children,N,V,ve)}}oe&1&&A.children!==k.children&&v(Z,k.children)}else!re&&Y==null&&Ke(Z,k,le,_e,N,V,B);((Re=_e.onVnodeUpdated)||ge)&&Un(()=>{Re&&$r(Re,N,k,A),ge&&Ao(k,A,N,"updated")},V)},x=(A,k,N,V,B,z,re)=>{for(let Z=0;Z<k.length;Z++){const oe=A[Z],Y=k[Z],ge=oe.el&&(oe.type===en||!wu(oe,Y)||oe.shapeFlag&70)?h(oe.el):N;I(oe,Y,ge,null,V,B,z,re,!0)}},Ke=(A,k,N,V,B,z,re)=>{if(N!==V){if(N!==bt)for(const Z in N)!uf(Z)&&!(Z in V)&&s(A,Z,N[Z],null,re,k.children,B,z,ve);for(const Z in V){if(uf(Z))continue;const oe=V[Z],Y=N[Z];oe!==Y&&Z!=="value"&&s(A,Z,Y,oe,re,k.children,B,z,ve)}"value"in V&&s(A,"value",N.value,V.value)}},ot=(A,k,N,V,B,z,re,Z,oe)=>{const Y=k.el=A?A.el:l(""),ge=k.anchor=A?A.anchor:l("");let{patchFlag:le,dynamicChildren:_e,slotScopeIds:Re}=k;Re&&(Z=Z?Z.concat(Re):Re),A==null?(i(Y,N,V),i(ge,N,V),G(k.children,N,ge,B,z,re,Z,oe)):le>0&&le&64&&_e&&A.dynamicChildren?(x(A.dynamicChildren,_e,N,B,z,re,Z),(k.key!=null||B&&k===B.subTree)&&IS(A,k,!0)):Ie(A,k,N,ge,B,z,re,Z,oe)},st=(A,k,N,V,B,z,re,Z,oe)=>{k.slotScopeIds=Z,A==null?k.shapeFlag&512?B.ctx.activate(k,N,V,re,oe):Je(k,N,V,B,z,re,oe):We(A,k,oe)},Je=(A,k,N,V,B,z,re)=>{const Z=A.component=aD(A,V,B);if(fS(A)&&(Z.ctx.renderer=ne),uD(Z),Z.asyncDep){if(B&&B.registerDep(Z,se),!A.el){const oe=Z.subTree=we(Wo);T(null,oe,k,N)}return}se(Z,A,k,N,B,z,re)},We=(A,k,N)=>{const V=k.component=A.component;if(wP(A,k,N))if(V.asyncDep&&!V.asyncResolved){De(V,k,N);return}else V.next=k,hP(V.update),V.update();else k.el=A.el,V.vnode=k},se=(A,k,N,V,B,z,re)=>{const Z=()=>{if(A.isMounted){let{next:ge,bu:le,u:_e,parent:Re,vnode:Ve}=A,Ee=ge,Xe;ko(A,!1),ge?(ge.el=Ve.el,De(A,ge,re)):ge=Ve,le&&cf(le),(Xe=ge.props&&ge.props.onVnodeBeforeUpdate)&&$r(Xe,Re,ge,Ve),ko(A,!0);const R=Mm(A),O=A.subTree;A.subTree=R,I(O,R,h(O.el),M(O),A,B,z),ge.el=R.el,Ee===null&&bP(A,R.el),_e&&Un(_e,B),(Xe=ge.props&&ge.props.onVnodeUpdated)&&Un(()=>$r(Xe,Re,ge,Ve),B)}else{let ge;const{el:le,props:_e}=k,{bm:Re,m:Ve,parent:Ee}=A,Xe=lf(k);if(ko(A,!1),Re&&cf(Re),!Xe&&(ge=_e&&_e.onVnodeBeforeMount)&&$r(ge,Ee,k),ko(A,!0),le&&Ne){const R=()=>{A.subTree=Mm(A),Ne(le,A.subTree,A,B,null)};Xe?k.type.__asyncLoader().then(()=>!A.isUnmounted&&R()):R()}else{const R=A.subTree=Mm(A);I(null,R,N,V,A,B,z),k.el=R.el}if(Ve&&Un(Ve,B),!Xe&&(ge=_e&&_e.onVnodeMounted)){const R=k;Un(()=>$r(ge,Ee,R),B)}(k.shapeFlag&256||Ee&&lf(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&A.a&&Un(A.a,B),A.isMounted=!0,k=N=V=null}},oe=A.effect=new gg(Z,()=>Tg(Y),A.scope),Y=A.update=()=>oe.run();Y.id=A.uid,ko(A,!0),Y()},De=(A,k,N)=>{k.component=A;const V=A.vnode.props;A.vnode=k,A.next=null,GP(A,k.props,V,N),XP(A,k.children,N),Aa(),Wb(A),ka()},Ie=(A,k,N,V,B,z,re,Z,oe=!1)=>{const Y=A&&A.children,ge=A?A.shapeFlag:0,le=k.children,{patchFlag:_e,shapeFlag:Re}=k;if(_e>0){if(_e&128){Pt(Y,le,N,V,B,z,re,Z,oe);return}else if(_e&256){xt(Y,le,N,V,B,z,re,Z,oe);return}}Re&8?(ge&16&&ve(Y,B,z),le!==Y&&v(N,le)):ge&16?Re&16?Pt(Y,le,N,V,B,z,re,Z,oe):ve(Y,B,z,!0):(ge&8&&v(N,""),Re&16&&G(le,N,V,B,z,re,Z,oe))},xt=(A,k,N,V,B,z,re,Z,oe)=>{A=A||zs,k=k||zs;const Y=A.length,ge=k.length,le=Math.min(Y,ge);let _e;for(_e=0;_e<le;_e++){const Re=k[_e]=oe?Mi(k[_e]):Kr(k[_e]);I(A[_e],Re,N,null,B,z,re,Z,oe)}Y>ge?ve(A,B,z,!0,!1,le):G(k,N,V,B,z,re,Z,oe,le)},Pt=(A,k,N,V,B,z,re,Z,oe)=>{let Y=0;const ge=k.length;let le=A.length-1,_e=ge-1;for(;Y<=le&&Y<=_e;){const Re=A[Y],Ve=k[Y]=oe?Mi(k[Y]):Kr(k[Y]);if(wu(Re,Ve))I(Re,Ve,N,null,B,z,re,Z,oe);else break;Y++}for(;Y<=le&&Y<=_e;){const Re=A[le],Ve=k[_e]=oe?Mi(k[_e]):Kr(k[_e]);if(wu(Re,Ve))I(Re,Ve,N,null,B,z,re,Z,oe);else break;le--,_e--}if(Y>le){if(Y<=_e){const Re=_e+1,Ve=Re<ge?k[Re].el:V;for(;Y<=_e;)I(null,k[Y]=oe?Mi(k[Y]):Kr(k[Y]),N,Ve,B,z,re,Z,oe),Y++}}else if(Y>_e)for(;Y<=le;)Ut(A[Y],B,z,!0),Y++;else{const Re=Y,Ve=Y,Ee=new Map;for(Y=Ve;Y<=_e;Y++){const ke=k[Y]=oe?Mi(k[Y]):Kr(k[Y]);ke.key!=null&&Ee.set(ke.key,Y)}let Xe,R=0;const O=_e-Ve+1;let K=!1,te=0;const Ae=new Array(O);for(Y=0;Y<O;Y++)Ae[Y]=0;for(Y=Re;Y<=le;Y++){const ke=A[Y];if(R>=O){Ut(ke,B,z,!0);continue}let Qe;if(ke.key!=null)Qe=Ee.get(ke.key);else for(Xe=Ve;Xe<=_e;Xe++)if(Ae[Xe-Ve]===0&&wu(ke,k[Xe])){Qe=Xe;break}Qe===void 0?Ut(ke,B,z,!0):(Ae[Qe-Ve]=Y+1,Qe>=te?te=Qe:K=!0,I(ke,k[Qe],N,null,B,z,re,Z,oe),R++)}const me=K?ZP(Ae):zs;for(Xe=me.length-1,Y=O-1;Y>=0;Y--){const ke=Ve+Y,Qe=k[ke],qe=ke+1<ge?k[ke+1].el:V;Ae[Y]===0?I(null,Qe,N,qe,B,z,re,Z,oe):K&&(Xe<0||Y!==me[Xe]?Gt(Qe,N,qe,2):Xe--)}}},Gt=(A,k,N,V,B=null)=>{const{el:z,type:re,transition:Z,children:oe,shapeFlag:Y}=A;if(Y&6){Gt(A.component.subTree,k,N,V);return}if(Y&128){A.suspense.move(k,N,V);return}if(Y&64){re.move(A,k,N,ne);return}if(re===en){i(z,k,N);for(let le=0;le<oe.length;le++)Gt(oe[le],k,N,V);i(A.anchor,k,N);return}if(re===ff){P(A,k,N);return}if(V!==2&&Y&1&&Z)if(V===0)Z.beforeEnter(z),i(z,k,N),Un(()=>Z.enter(z),B);else{const{leave:le,delayLeave:_e,afterLeave:Re}=Z,Ve=()=>i(z,k,N),Ee=()=>{le(z,()=>{Ve(),Re&&Re()})};_e?_e(z,Ve,Ee):Ee()}else i(z,k,N)},Ut=(A,k,N,V=!1,B=!1)=>{const{type:z,props:re,ref:Z,children:oe,dynamicChildren:Y,shapeFlag:ge,patchFlag:le,dirs:_e}=A;if(Z!=null&&wv(Z,null,N,A,!0),ge&256){k.ctx.deactivate(A);return}const Re=ge&1&&_e,Ve=!lf(A);let Ee;if(Ve&&(Ee=re&&re.onVnodeBeforeUnmount)&&$r(Ee,k,A),ge&6)fe(A.component,N,V);else{if(ge&128){A.suspense.unmount(N,V);return}Re&&Ao(A,null,k,"beforeUnmount"),ge&64?A.type.remove(A,k,N,B,ne,V):Y&&(z!==en||le>0&&le&64)?ve(Y,k,N,!1,!0):(z===en&&le&384||!B&&ge&16)&&ve(oe,k,N),V&&_t(A)}(Ve&&(Ee=re&&re.onVnodeUnmounted)||Re)&&Un(()=>{Ee&&$r(Ee,k,A),Re&&Ao(A,null,k,"unmounted")},N)},_t=A=>{const{type:k,el:N,anchor:V,transition:B}=A;if(k===en){Xn(N,V);return}if(k===ff){F(A);return}const z=()=>{o(N),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(A.shapeFlag&1&&B&&!B.persisted){const{leave:re,delayLeave:Z}=B,oe=()=>re(N,z);Z?Z(A.el,z,oe):oe()}else z()},Xn=(A,k)=>{let N;for(;A!==k;)N=m(A),o(A),A=N;o(k)},fe=(A,k,N)=>{const{bum:V,scope:B,update:z,subTree:re,um:Z}=A;V&&cf(V),B.stop(),z&&(z.active=!1,Ut(re,A,k,N)),Z&&Un(Z,k),Un(()=>{A.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},ve=(A,k,N,V=!1,B=!1,z=0)=>{for(let re=z;re<A.length;re++)Ut(A[re],k,N,V,B)},M=A=>A.shapeFlag&6?M(A.component.subTree):A.shapeFlag&128?A.suspense.next():m(A.anchor||A.el),q=(A,k,N)=>{A==null?k._vnode&&Ut(k._vnode,null,null,!0):I(k._vnode||null,A,k,null,null,null,N),Wb(),oS(),k._vnode=A},ne={p:I,um:Ut,m:Gt,r:_t,mt:Je,mc:G,pc:Ie,pbc:x,n:M,o:e};let ue,Ne;return t&&([ue,Ne]=t(ne)),{render:q,hydrate:ue,createApp:$P(q,ue)}}function ko({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function JP(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function IS(e,t,n=!1){const i=e.children,o=t.children;if(xe(i)&&xe(o))for(let s=0;s<i.length;s++){const u=i[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Mi(o[s]),l.el=u.el),n||IS(u,l)),l.type===gh&&(l.el=u.el)}}function ZP(e){const t=e.slice(),n=[0];let i,o,s,u,l;const f=e.length;for(i=0;i<f;i++){const p=e[i];if(p!==0){if(o=n[n.length-1],e[o]<p){t[i]=o,n.push(i);continue}for(s=0,u=n.length-1;s<u;)l=s+u>>1,e[n[l]]<p?s=l+1:u=l;p<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,u=n[s-1];s-- >0;)n[s]=u,u=t[u];return n}const eD=e=>e.__isTeleport,en=Symbol.for("v-fgt"),gh=Symbol.for("v-txt"),Wo=Symbol.for("v-cmt"),ff=Symbol.for("v-stc"),Ou=[];let Ar=null;function je(e=!1){Ou.push(Ar=e?null:[])}function tD(){Ou.pop(),Ar=Ou[Ou.length-1]||null}let Gu=1;function oI(e){Gu+=e}function ES(e){return e.dynamicChildren=Gu>0?Ar||zs:null,tD(),Gu>0&&Ar&&Ar.push(e),e}function it(e,t,n,i,o,s){return ES(D(e,t,n,i,o,s,!0))}function ea(e,t,n,i,o){return ES(we(e,t,n,i,o,!0))}function bv(e){return e?e.__v_isVNode===!0:!1}function wu(e,t){return e.type===t.type&&e.key===t.key}const yh="__vInternal",TS=({key:e})=>e??null,hf=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?$t(e)||vt(e)||Me(e)?{i:jn,r:e,k:t,f:!!n}:e:null);function D(e,t=null,n=null,i=0,o=null,s=e===en?0:1,u=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&TS(t),ref:t&&hf(t),scopeId:mh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:jn};return l?(Ng(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=$t(n)?8:16),Gu>0&&!u&&Ar&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Ar.push(f),f}const we=nD;function nD(e,t=null,n=null,i=0,o=null,s=!1){if((!e||e===uS)&&(e=Wo),bv(e)){const l=ta(e,t,!0);return n&&Ng(l,n),Gu>0&&!s&&Ar&&(l.shapeFlag&6?Ar[Ar.indexOf(e)]=l:Ar.push(l)),l.patchFlag|=-2,l}if(dD(e)&&(e=e.__vccOpts),t){t=rD(t);let{class:l,style:f}=t;l&&!$t(l)&&(t.class=vn(l)),mt(f)&&(QT(f)&&!xe(f)&&(f=ln({},f)),t.style=zo(f))}const u=$t(e)?1:IP(e)?128:eD(e)?64:mt(e)?4:Me(e)?2:0;return D(e,t,n,i,o,u,s,!0)}function rD(e){return e?QT(e)||yh in e?ln({},e):e:null}function ta(e,t,n=!1){const{props:i,ref:o,patchFlag:s,children:u}=e,l=t?SS(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&TS(l),ref:t&&t.ref?n&&o?xe(o)?o.concat(hf(t)):[o,hf(t)]:hf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==en?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ta(e.ssContent),ssFallback:e.ssFallback&&ta(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ai(e=" ",t=0){return we(gh,null,e,t)}function iD(e,t){const n=we(ff,null,e);return n.staticCount=t,n}function Xo(e="",t=!1){return t?(je(),ea(Wo,null,e)):we(Wo,null,e)}function Kr(e){return e==null||typeof e=="boolean"?we(Wo):xe(e)?we(en,null,e.slice()):typeof e=="object"?Mi(e):we(gh,null,String(e))}function Mi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ta(e)}function Ng(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(xe(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),Ng(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(yh in t)?t._ctx=jn:o===3&&jn&&(jn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Me(t)?(t={default:t,_ctx:jn},n=32):(t=String(t),i&64?(n=16,t=[ai(t)]):n=8);e.children=t,e.shapeFlag|=n}function SS(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=vn([t.class,i.class]));else if(o==="style")t.style=zo([t.style,i.style]);else if(sh(o)){const s=t[o],u=i[o];u&&s!==u&&!(xe(s)&&s.includes(u))&&(t[o]=s?[].concat(s,u):u)}else o!==""&&(t[o]=i[o])}return t}function $r(e,t,n,i=null){xr(e,t,7,[n,i])}const oD=vS();let sD=0;function aD(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||oD,s={uid:sD++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new MT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yS(i,o),emitsOptions:aS(i,o),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:i.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=mP.bind(null,s),e.ce&&e.ce(s),s}let Xt=null;const _h=()=>Xt||jn;let Og,Ls,sI="__VUE_INSTANCE_SETTERS__";(Ls=lv()[sI])||(Ls=lv()[sI]=[]),Ls.push(e=>Xt=e),Og=e=>{Ls.length>1?Ls.forEach(t=>t(e)):Ls[0](e)};const na=e=>{Og(e),e.scope.on()},Bo=()=>{Xt&&Xt.scope.off(),Og(null)};function AS(e){return e.vnode.shapeFlag&4}let zu=!1;function uD(e,t=!1){zu=t;const{props:n,children:i}=e.vnode,o=AS(e);KP(e,n,o,t),WP(e,i);const s=o?cD(e,t):void 0;return zu=!1,s}function cD(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=hh(new Proxy(e.ctx,MP));const{setup:i}=n;if(i){const o=e.setupContext=i.length>1?fD(e):null;na(e),Aa();const s=Ki(i,e,0,[e.props,o]);if(ka(),Bo(),RT(s)){if(s.then(Bo,Bo),t)return s.then(u=>{aI(e,u,t)}).catch(u=>{dh(u,e,0)});e.asyncDep=s}else aI(e,s,t)}else kS(e,t)}function aI(e,t,n){Me(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:mt(t)&&(e.setupState=tS(t)),kS(e,n)}let uI;function kS(e,t,n){const i=e.type;if(!e.render){if(!t&&uI&&!i.render){const o=i.template||Cg(e).template;if(o){const{isCustomElement:s,compilerOptions:u}=e.appContext.config,{delimiters:l,compilerOptions:f}=i,p=ln(ln({isCustomElement:s,delimiters:l},u),f);i.render=uI(o,p)}}e.render=i.render||Wr}{na(e),Aa();try{FP(e)}finally{ka(),Bo()}}}function lD(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Hn(e,"get","$attrs"),t[n]}}))}function fD(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return lD(e)},slots:e.slots,emit:e.emit,expose:t}}function wh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(tS(hh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Nu)return Nu[n](e)},has(t,n){return n in t||n in Nu}}))}function hD(e,t=!0){return Me(e)?e.displayName||e.name:e.name||t&&e.__name}function dD(e){return Me(e)&&"__vccOpts"in e}const Fe=(e,t)=>cP(e,t,zu);function ra(e,t,n){const i=arguments.length;return i===2?mt(t)&&!xe(t)?bv(t)?we(e,null,[t]):we(e,t):we(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&bv(n)&&(n=[n]),we(e,t,n))}const pD=Symbol.for("v-scx"),mD=()=>vr(pD),vD="3.3.11",gD="http://www.w3.org/2000/svg",Oo=typeof document<"u"?document:null,cI=Oo&&Oo.createElement("template"),yD={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t?Oo.createElementNS(gD,e):Oo.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>Oo.createTextNode(e),createComment:e=>Oo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Oo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,s){const u=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{cI.innerHTML=i?`<svg>${e}</svg>`:e;const l=cI.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},_D=Symbol("_vtc");function wD(e,t,n){const i=e[_D];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Pg=Symbol("_vod"),lI={beforeMount(e,{value:t},{transition:n}){e[Pg]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):bu(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),bu(e,!0),i.enter(e)):i.leave(e,()=>{bu(e,!1)}):bu(e,t))},beforeUnmount(e,{value:t}){bu(e,t)}};function bu(e,t){e.style.display=t?e[Pg]:"none"}function bD(e,t,n){const i=e.style,o=$t(n);if(n&&!o){if(t&&!$t(t))for(const s in t)n[s]==null&&Iv(i,s,"");for(const s in n)Iv(i,s,n[s])}else{const s=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),Pg in e&&(i.display=s)}}const fI=/\s*!important$/;function Iv(e,t,n){if(xe(n))n.forEach(i=>Iv(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=ID(e,t);fI.test(n)?e.setProperty(Sa(i),n.replace(fI,""),"important"):e[i]=n}}const hI=["Webkit","Moz","ms"],Um={};function ID(e,t){const n=Um[t];if(n)return n;let i=Yr(t);if(i!=="filter"&&i in e)return Um[t]=i;i=ch(i);for(let o=0;o<hI.length;o++){const s=hI[o]+i;if(s in e)return Um[t]=s}return t}const dI="http://www.w3.org/1999/xlink";function ED(e,t,n,i,o){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(dI,t.slice(6,t.length)):e.setAttributeNS(dI,t,n);else{const s=NO(t);n==null||s&&!DT(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function TD(e,t,n,i,o,s,u){if(t==="innerHTML"||t==="textContent"){i&&u(i,o,s),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const p=l==="OPTION"?e.getAttribute("value"):e.value,v=n??"";p!==v&&(e.value=v),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const p=typeof e[t];p==="boolean"?n=DT(n):n==null&&p==="string"?(n="",f=!0):p==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function xS(e,t,n,i){e.addEventListener(t,n,i)}function SD(e,t,n,i){e.removeEventListener(t,n,i)}const pI=Symbol("_vei");function AD(e,t,n,i,o=null){const s=e[pI]||(e[pI]={}),u=s[t];if(i&&u)u.value=i;else{const[l,f]=kD(t);if(i){const p=s[t]=RD(i,o);xS(e,l,p,f)}else u&&(SD(e,l,u,f),s[t]=void 0)}}const mI=/(?:Once|Passive|Capture)$/;function kD(e){let t;if(mI.test(e)){t={};let i;for(;i=e.match(mI);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Sa(e.slice(2)),t]}let Vm=0;const xD=Promise.resolve(),CD=()=>Vm||(xD.then(()=>Vm=0),Vm=Date.now());function RD(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;xr(ND(i,n.value),t,5,[i])};return n.value=e,n.attached=CD(),n}function ND(e,t){if(xe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const vI=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,OD=(e,t,n,i,o=!1,s,u,l,f)=>{t==="class"?wD(e,i,o):t==="style"?bD(e,n,i):sh(t)?dg(t)||AD(e,t,n,i,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):PD(e,t,i,o))?TD(e,t,i,s,u,l,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),ED(e,t,i,o))};function PD(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&vI(t)&&Me(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return vI(t)&&$t(n)?!1:t in e}const gI=e=>{const t=e.props["onUpdate:modelValue"]||!1;return xe(t)?n=>cf(t,n):t},jm=Symbol("_assign"),DD={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const o=ah(t);xS(e,"change",()=>{const s=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>n?PT(Sf(u)):Sf(u));e[jm](e.multiple?o?new Set(s):s:s[0])}),e[jm]=gI(i)},mounted(e,{value:t}){yI(e,t)},beforeUpdate(e,t,n){e[jm]=gI(n)},updated(e,{value:t}){yI(e,t)}};function yI(e,t){const n=e.multiple;if(!(n&&!xe(t)&&!ah(t))){for(let i=0,o=e.options.length;i<o;i++){const s=e.options[i],u=Sf(s);if(n)xe(t)?s.selected=PO(t,u)>-1:s.selected=t.has(u);else if(lh(Sf(s),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Sf(e){return"_value"in e?e._value:e.value}const LD=["ctrl","shift","alt","meta"],MD={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>LD.some(n=>e[`${n}Key`]&&!t.includes(n))},Wt=(e,t)=>e._withMods||(e._withMods=(n,...i)=>{for(let o=0;o<t.length;o++){const s=MD[t[o]];if(s&&s(n,t))return}return e(n,...i)}),FD=ln({patchProp:OD},yD);let _I;function UD(){return _I||(_I=QP(FD))}const VD=(...e)=>{const t=UD().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=jD(i);if(!o)return;const s=t._component;!Me(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const u=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function jD(e){return $t(e)?document.querySelector(e):e}var BD=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let CS;const bh=e=>CS=e,RS=Symbol();function Ev(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Pu;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Pu||(Pu={}));function qD(){const e=FT(!0),t=e.run(()=>kn({}));let n=[],i=[];const o=hh({install(s){bh(o),o._a=s,s.provide(RS,o),s.config.globalProperties.$pinia=o,i.forEach(u=>n.push(u)),i=[]},use(s){return!this._a&&!BD?i.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const NS=()=>{};function wI(e,t,n,i=NS){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!n&&UT()&&LO(o),o}function Ms(e,...t){e.slice().forEach(n=>{n(...t)})}const $D=e=>e();function Tv(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],o=e[n];Ev(o)&&Ev(i)&&e.hasOwnProperty(n)&&!vt(i)&&!Hi(i)?e[n]=Tv(o,i):e[n]=i}return e}const HD=Symbol();function KD(e){return!Ev(e)||!e.hasOwnProperty(HD)}const{assign:Di}=Object;function GD(e){return!!(vt(e)&&e.effect)}function zD(e,t,n,i){const{state:o,actions:s,getters:u}=t,l=n.state.value[e];let f;function p(){l||(n.state.value[e]=o?o():{});const v=oP(n.state.value[e]);return Di(v,s,Object.keys(u||{}).reduce((h,m)=>(h[m]=hh(Fe(()=>{bh(n);const y=n._s.get(e);return u[m].call(y,y)})),h),{}))}return f=OS(e,p,t,n,i,!0),f}function OS(e,t,n={},i,o,s){let u;const l=Di({actions:{}},n),f={deep:!0};let p,v,h=[],m=[],y;const _=i.state.value[e];!s&&!_&&(i.state.value[e]={}),kn({});let I;function E(G){let Q;p=v=!1,typeof G=="function"?(G(i.state.value[e]),Q={type:Pu.patchFunction,storeId:e,events:y}):(Tv(i.state.value[e],G),Q={type:Pu.patchObject,payload:G,storeId:e,events:y});const x=I=Symbol();er().then(()=>{I===x&&(p=!0)}),v=!0,Ms(h,Q,i.state.value[e])}const T=s?function(){const{state:Q}=n,x=Q?Q():{};this.$patch(Ke=>{Di(Ke,x)})}:NS;function C(){u.stop(),h=[],m=[],i._s.delete(e)}function P(G,Q){return function(){bh(i);const x=Array.from(arguments),Ke=[],ot=[];function st(se){Ke.push(se)}function Je(se){ot.push(se)}Ms(m,{args:x,name:G,store:J,after:st,onError:Je});let We;try{We=Q.apply(this&&this.$id===e?this:J,x)}catch(se){throw Ms(ot,se),se}return We instanceof Promise?We.then(se=>(Ms(Ke,se),se)).catch(se=>(Ms(ot,se),Promise.reject(se))):(Ms(Ke,We),We)}}const F={_p:i,$id:e,$onAction:wI.bind(null,m),$patch:E,$reset:T,$subscribe(G,Q={}){const x=wI(h,G,Q.detached,()=>Ke()),Ke=u.run(()=>mr(()=>i.state.value[e],ot=>{(Q.flush==="sync"?v:p)&&G({storeId:e,type:Pu.direct,events:y},ot)},Di({},f,Q)));return x},$dispose:C},J=mi(F);i._s.set(e,J);const de=(i._a&&i._a.runWithContext||$D)(()=>i._e.run(()=>(u=FT()).run(t)));for(const G in de){const Q=de[G];if(vt(Q)&&!GD(Q)||Hi(Q))s||(_&&KD(Q)&&(vt(Q)?Q.value=_[G]:Tv(Q,_[G])),i.state.value[e][G]=Q);else if(typeof Q=="function"){const x=P(G,Q);de[G]=x,l.actions[G]=Q}}return Di(J,de),Di(tt(J),de),Object.defineProperty(J,"$state",{get:()=>i.state.value[e],set:G=>{E(Q=>{Di(Q,G)})}}),i._p.forEach(G=>{Di(J,u.run(()=>G({store:J,app:i._a,pinia:i,options:l})))}),_&&s&&n.hydrate&&n.hydrate(J.$state,_),p=!0,v=!0,J}function Dg(e,t,n){let i,o;const s=typeof t=="function";typeof e=="string"?(i=e,o=s?n:t):(o=e,i=e.id);function u(l,f){const p=HP();return l=l||(p?vr(RS,null):null),l&&bh(l),l=CS,l._s.has(i)||(s?OS(i,t,o,l):zD(i,o,l)),l._s.get(i)}return u.$id=i,u}let WD="Store";function XD(...e){return e.reduce((t,n)=>(t[n.$id+WD]=function(){return n(this.$pinia)},t),{})}function Af(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(){return e(this.$pinia)[i]},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(){const o=e(this.$pinia),s=t[i];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function gc(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[i](...o)},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[t[i]](...o)},n),{})}function Lg(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[i]},set(o){return e(this.$pinia)[i]=o}},n),{}):Object.keys(t).reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[t[i]]},set(o){return e(this.$pinia)[t[i]]=o}},n),{})}const Sv=Dg("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var Av=function(e,t){return Av=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Av(e,t)};function Se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Av(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ia=function(){return ia=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ia.apply(this,arguments)};function H(e,t,n,i){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(v){try{p(i.next(v))}catch(h){u(h)}}function f(v){try{p(i.throw(v))}catch(h){u(h)}}function p(v){v.done?s(v.value):o(v.value).then(l,f)}p((i=i.apply(e,t||[])).next())})}function $(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,o,s,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(p){return function(v){return f([p,v])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(i=1,o&&(s=p[0]&2?o.return:p[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,p[1])).done)return s;switch(o=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(v){p=[6,v],o=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function Bm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(l){u={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return s}function Tt(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,s;i<o;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PS=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},QD=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[i++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],u=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(u&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],u=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(s&63)<<6|u&63)}}return t.join("")},YD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var s=e[o],u=o+1<e.length,l=u?e[o+1]:0,f=o+2<e.length,p=f?e[o+2]:0,v=s>>2,h=(s&3)<<4|l>>4,m=(l&15)<<2|p>>6,y=p&63;f||(y=64,u||(m=64)),i.push(n[v],n[h],n[m],n[y])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(PS(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):QD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var s=n[e.charAt(o++)],u=o<e.length,l=u?n[e.charAt(o)]:0;++o;var f=o<e.length,p=f?n[e.charAt(o)]:64;++o;var v=o<e.length,h=v?n[e.charAt(o)]:64;if(++o,s==null||l==null||p==null||h==null)throw Error();var m=s<<2|l>>4;if(i.push(m),p!==64){var y=l<<4&240|p>>2;if(i.push(y),h!==64){var _=p<<6&192|h;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},JD=function(e){var t=PS(e);return YD.encodeByteArray(t,!0)},bI=function(e){return JD(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(e){return Wu(void 0,e)}function Wu(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!eL(i)||(e[i]=Wu(e[i],t[i]));return e}function eL(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tL=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=ia({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[bI(JSON.stringify(n)),bI(JSON.stringify(u)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qo())}function LS(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rL(){return typeof self=="object"&&self.self===self}function iL(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function oL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sL(){return Qo().indexOf("Electron/")>=0}function aL(){var e=Qo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function uL(){return Qo().indexOf("MSAppHost/")>=0}function cL(){return!LS()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lL="FirebaseError",MS=function(e){Se(t,e);function t(n,i,o){var s=e.call(this,i)||this;return s.code=n,s.customData=o,s.name=lL,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Mg.prototype.create),s}return t}(Error),Mg=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},s=this.service+"/"+t,u=this.errors[t],l=u?fL(u,o):"Error",f=this.serviceName+": "+l+" ("+s+").",p=new MS(s,f,o);return p},e}();function fL(e,t){return e.replace(hL,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}var hL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dL(e,t){var n=new pL(e,t);return n.subscribe.bind(n)}var pL=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");mL(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=qm),s.error===void 0&&(s.error=qm),s.complete===void 0&&(s.complete=qm);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function mL(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(e){return e&&e._delegate?e._delegate:e}var yc=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new tL;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(yL(t))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}try{for(var o=Bm(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var u=Kl(s.value,2),l=u[0],f=u[1],p=this.normalizeInstanceIdentifier(l);try{var v=this.getOrInitializeService({instanceIdentifier:p});f.resolve(v)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Co),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Tt(Tt([],Kl(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),Kl(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Co),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Co),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var f=Bm(this.instancesDeferred.entries()),p=f.next();!p.done;p=f.next()){var v=Kl(p.value,2),h=v[0],m=v[1],y=this.normalizeInstanceIdentifier(h);u===y&&m.resolve(l)}}catch(_){n={error:_}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(o,s);var u=this.instances.get(o);return u&&t(u,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,s=this.onInitCallbacks.get(n);if(s)try{for(var u=Bm(s),l=u.next();!l.done;l=u.next()){var f=l.value;try{f(t,n)}catch{}}}catch(p){i={error:p}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gL(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Co),this.component?this.component.multipleInstances?t:Co:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function gL(e){return e===Co?void 0:e}function yL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _L=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new vL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Tr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],u=0,l=s.length;u<l;u++,o++)i[o]=s[u];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xo,Fg=[],rt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(rt||(rt={}));var FS={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},wL=rt.INFO,bL=(xo={},xo[rt.DEBUG]="log",xo[rt.VERBOSE]="log",xo[rt.INFO]="info",xo[rt.WARN]="warn",xo[rt.ERROR]="error",xo),IL=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=bL[t];if(s)console[s].apply(console,Tr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},US=function(){function e(t){this.name=t,this._logLevel=wL,this._logHandler=IL,this._userLogHandler=null,Fg.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in rt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?FS[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Tr([this,rt.DEBUG],t)),this._logHandler.apply(this,Tr([this,rt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Tr([this,rt.VERBOSE],t)),this._logHandler.apply(this,Tr([this,rt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Tr([this,rt.INFO],t)),this._logHandler.apply(this,Tr([this,rt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Tr([this,rt.WARN],t)),this._logHandler.apply(this,Tr([this,rt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Tr([this,rt.ERROR],t)),this._logHandler.apply(this,Tr([this,rt.ERROR],t))},e}();function EL(e){Fg.forEach(function(t){t.setLogLevel(e)})}function TL(e,t){for(var n=function(u){var l=null;t&&t.level&&(l=FS[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(f,p){for(var v=[],h=2;h<arguments.length;h++)v[h-2]=arguments[h];var m=v.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");p>=(l??f.logLevel)&&e({level:rt[p].toLowerCase(),message:m,args:v,type:f.name})}},i=0,o=Fg;i<o.length;i++){var s=o[i];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri,SL=(Ri={},Ri["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ri["bad-app-name"]="Illegal App name: '{$appName}",Ri["duplicate-app"]="Firebase App named '{$appName}' already exists",Ri["app-deleted"]="Firebase App named '{$appName}' already deleted",Ri["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ri["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ri),Bs=new Mg("app","Firebase",SL),VS="@firebase/app",AL="0.6.30",kL="@firebase/analytics",xL="@firebase/app-check",CL="@firebase/auth",RL="@firebase/database",NL="@firebase/functions",OL="@firebase/installations",PL="@firebase/messaging",DL="@firebase/performance",LL="@firebase/remote-config",ML="@firebase/storage",FL="@firebase/firestore",UL="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,kf="[DEFAULT]",VL=(hn={},hn[VS]="fire-core",hn[kL]="fire-analytics",hn[xL]="fire-app-check",hn[CL]="fire-auth",hn[RL]="fire-rtdb",hn[NL]="fire-fn",hn[OL]="fire-iid",hn[PL]="fire-fcm",hn[DL]="fire-perf",hn[LL]="fire-rc",hn[ML]="fire-gcs",hn[FL]="fire-fst",hn["fire-js"]="fire-js",hn[UL]="fire-js-all",hn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oa=new US("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var df=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=ZD(t),this.container=new _L(n.name),this._addComponent(new yc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=kf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=kf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){oa.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Bs.create("app-deleted",{appName:this.name_})},e}();df.prototype.name&&df.prototype.options||df.prototype.delete||console.log("dc");var jL="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(e){var t={},n=new Map,i={__esModule:!0,initializeApp:u,app:s,registerVersion:p,setLogLevel:EL,onLog:v,apps:null,SDK_VERSION:jL,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:h}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(m){delete t[m]}function s(m){if(m=m||kf,!II(t,m))throw Bs.create("no-app",{appName:m});return t[m]}s.App=e;function u(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var _=y;y={name:_}}var I=y;I.name===void 0&&(I.name=kf);var E=I.name;if(typeof E!="string"||!E)throw Bs.create("bad-app-name",{appName:String(E)});if(II(t,E))throw Bs.create("duplicate-app",{appName:E});var T=new e(m,I,i);return t[E]=T,T}function l(){return Object.keys(t).map(function(m){return t[m]})}function f(m){var y=m.name;if(n.has(y))return oa.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?i[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var _=function(C){if(C===void 0&&(C=s()),typeof C[y]!="function")throw Bs.create("invalid-app-argument",{appName:y});return C[y]()};m.serviceProps!==void 0&&Wu(_,m.serviceProps),i[y]=_,e.prototype[y]=function(){for(var C=[],P=0;P<arguments.length;P++)C[P]=arguments[P];var F=this._getService.bind(this,y);return F.apply(this,m.multipleInstances?C:[])}}for(var I=0,E=Object.keys(t);I<E.length;I++){var T=E[I];t[T]._addComponent(m)}return m.type==="PUBLIC"?i[y]:null}function p(m,y,_){var I,E=(I=VL[m])!==null&&I!==void 0?I:m;_&&(E+="-"+_);var T=E.match(/\s|\//),C=y.match(/\s|\//);if(T||C){var P=['Unable to register library "'+E+'" with version "'+y+'":'];T&&P.push('library name "'+E+'" contains illegal characters (whitespace or "/")'),T&&C&&P.push("and"),C&&P.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),oa.warn(P.join(" "));return}f(new yc(E+"-version",function(){return{library:E,version:y}},"VERSION"))}function v(m,y){if(m!==null&&typeof m!="function")throw Bs.create("invalid-log-argument");TL(m,y)}function h(m,y){if(y==="serverAuth")return null;var _=y;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){var e=BL(df);e.INTERNAL=ia(ia({},e.INTERNAL),{createFirebaseNamespace:jS,extendNamespace:t,createSubscribe:dL,ErrorFactory:Mg,deepExtend:Wu});function t(n){Wu(e,n)}return e}var Ug=jS();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qL=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if($L(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();function $L(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(e,t){e.INTERNAL.registerComponent(new yc("platform-logger",function(n){return new qL(n)},"PRIVATE")),e.registerVersion(VS,AL,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(rL()&&self.firebase!==void 0){oa.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var EI=self.firebase.SDK_VERSION;EI&&EI.indexOf("LITE")>=0&&oa.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var KL=Ug.initializeApp;Ug.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return LS()&&oa.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),KL.apply(void 0,e)};var Ce=Ug;HL(Ce);var GL="firebase",BS="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ce.registerVersion(GL,BS,"app");Ce.SDK_VERSION=BS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,a,c){r!=Array.prototype&&r!=Object.prototype&&(r[a]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var a=0;a<r.length;++a){var c=r[a];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,a){if(a){var c=i;r=r.split(".");for(var d=0;d<r.length-1;d++){var g=r[d];g in c||(c[g]={}),c=c[g]}r=r[r.length-1],d=c[r],a=a(d),a!=d&&a!=null&&t(c,r,{configurable:!0,writable:!0,value:a})}}function s(r){var a=0;return function(){return a<r.length?{done:!1,value:r[a++]}:{done:!0}}}function u(r){var a=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return a?a.call(r):{next:s(r)}}o("Promise",function(r){function a(b){this.b=0,this.c=void 0,this.a=[];var S=this.f();try{b(S.resolve,S.reject)}catch(j){S.reject(j)}}function c(){this.a=null}function d(b){return b instanceof a?b:new a(function(S){S(b)})}if(r)return r;c.prototype.b=function(b){if(this.a==null){this.a=[];var S=this;this.c(function(){S.g()})}this.a.push(b)};var g=i.setTimeout;c.prototype.c=function(b){g(b,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var S=0;S<b.length;++S){var j=b[S];b[S]=null;try{j()}catch(W){this.f(W)}}}this.a=null},c.prototype.f=function(b){this.c(function(){throw b})},a.prototype.f=function(){function b(W){return function(Pe){j||(j=!0,W.call(S,Pe))}}var S=this,j=!1;return{resolve:b(this.m),reject:b(this.g)}},a.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof a)this.s(b);else{e:switch(typeof b){case"object":var S=b!=null;break e;case"function":S=!0;break e;default:S=!1}S?this.v(b):this.h(b)}},a.prototype.v=function(b){var S=void 0;try{S=b.then}catch(j){this.g(j);return}typeof S=="function"?this.u(S,b):this.h(b)},a.prototype.g=function(b){this.i(2,b)},a.prototype.h=function(b){this.i(1,b)},a.prototype.i=function(b,S){if(this.b!=0)throw Error("Cannot settle("+b+", "+S+"): Promise already settled in state"+this.b);this.b=b,this.c=S,this.l()},a.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)w.b(this.a[b]);this.a=null}};var w=new c;return a.prototype.s=function(b){var S=this.f();b.Ra(S.resolve,S.reject)},a.prototype.u=function(b,S){var j=this.f();try{b.call(S,j.resolve,j.reject)}catch(W){j.reject(W)}},a.prototype.then=function(b,S){function j(nt,Jt){return typeof nt=="function"?function(ii){try{W(nt(ii))}catch(Pm){Pe(Pm)}}:Jt}var W,Pe,lt=new a(function(nt,Jt){W=nt,Pe=Jt});return this.Ra(j(b,W),j(S,Pe)),lt},a.prototype.catch=function(b){return this.then(void 0,b)},a.prototype.Ra=function(b,S){function j(){switch(W.b){case 1:b(W.c);break;case 2:S(W.c);break;default:throw Error("Unexpected state: "+W.b)}}var W=this;this.a==null?w.b(j):this.a.push(j)},a.resolve=d,a.reject=function(b){return new a(function(S,j){j(b)})},a.race=function(b){return new a(function(S,j){for(var W=u(b),Pe=W.next();!Pe.done;Pe=W.next())d(Pe.value).Ra(S,j)})},a.all=function(b){var S=u(b),j=S.next();return j.done?d([]):new a(function(W,Pe){function lt(ii){return function(Pm){nt[ii]=Pm,Jt--,Jt==0&&W(nt)}}var nt=[],Jt=0;do nt.push(void 0),Jt++,d(j.value).Ra(lt(nt.length-1),Pe),j=S.next();while(!j.done)})},a});var l=l||{},f=this||self,p=/^[\w+/_-]+[=]{0,2}$/,v=null;function h(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&p.test(r)?r:""}function m(){}function y(r){var a=typeof r;return a!="object"?a:r?Array.isArray(r)?"array":a:"null"}function _(r){var a=y(r);return a=="array"||a=="object"&&typeof r.length=="number"}function I(r){return y(r)=="function"}function E(r){var a=typeof r;return a=="object"&&r!=null||a=="function"}function T(r){return Object.prototype.hasOwnProperty.call(r,C)&&r[C]||(r[C]=++P)}var C="closure_uid_"+(1e9*Math.random()>>>0),P=0;function F(r,a,c){return r.call.apply(r.bind,arguments)}function J(r,a,c){if(!r)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,d),r.apply(a,g)}}return function(){return r.apply(a,arguments)}}function U(r,a,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?U=F:U=J,U.apply(null,arguments)}function de(r,a){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),r.apply(this,d)}}function G(r,a){function c(){}c.prototype=a.prototype,r.bb=a.prototype,r.prototype=new c,r.prototype.constructor=r}function Q(r){return r}function x(r,a,c){this.code=ot+r,this.message=a||st[r]||"",this.a=c||null}G(x,Error),x.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},x.prototype.toJSON=function(){return this.w()};function Ke(r){var a=r&&r.code;return a?new x(a.substring(ot.length),r.message,r.serverResponse):null}var ot="auth/",st={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Je={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function We(r){for(var a in Je)if(Je[a].id===r)return r=Je[a],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var se;se=We("__EID__")?"__EID__":void 0;function De(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function Ie(r){if(Error.captureStackTrace)Error.captureStackTrace(this,Ie);else{var a=Error().stack;a&&(this.stack=a)}r&&(this.message=String(r))}G(Ie,Error),Ie.prototype.name="CustomError";function xt(r,a){r=r.split("%s");for(var c="",d=r.length-1,g=0;g<d;g++)c+=r[g]+(g<a.length?a[g]:"%s");Ie.call(this,c+r[d])}G(xt,Ie),xt.prototype.name="AssertionError";function Pt(r,a){throw new xt("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function Gt(r,a){this.c=r,this.f=a,this.b=0,this.a=null}Gt.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Ut(r,a){r.f(a),100>r.b&&(r.b++,a.next=r.a,r.a=a)}function _t(){this.b=this.a=null}var Xn=new Gt(function(){return new ve},function(r){r.reset()});_t.prototype.add=function(r,a){var c=Xn.get();c.set(r,a),this.b?this.b.next=c:this.a=c,this.b=c};function fe(){var r=T_,a=null;return r.a&&(a=r.a,r.a=r.a.next,r.a||(r.b=null),a.next=null),a}function ve(){this.next=this.b=this.a=null}ve.prototype.set=function(r,a){this.a=r,this.b=a,this.next=null},ve.prototype.reset=function(){this.next=this.b=this.a=null};var M=Array.prototype.indexOf?function(r,a){return Array.prototype.indexOf.call(r,a,void 0)}:function(r,a){if(typeof r=="string")return typeof a!="string"||a.length!=1?-1:r.indexOf(a,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===a)return c;return-1},q=Array.prototype.forEach?function(r,a,c){Array.prototype.forEach.call(r,a,c)}:function(r,a,c){for(var d=r.length,g=typeof r=="string"?r.split(""):r,w=0;w<d;w++)w in g&&a.call(c,g[w],w,r)};function ne(r,a){for(var c=typeof r=="string"?r.split(""):r,d=r.length-1;0<=d;--d)d in c&&a.call(void 0,c[d],d,r)}var ue=Array.prototype.filter?function(r,a){return Array.prototype.filter.call(r,a,void 0)}:function(r,a){for(var c=r.length,d=[],g=0,w=typeof r=="string"?r.split(""):r,b=0;b<c;b++)if(b in w){var S=w[b];a.call(void 0,S,b,r)&&(d[g++]=S)}return d},Ne=Array.prototype.map?function(r,a){return Array.prototype.map.call(r,a,void 0)}:function(r,a){for(var c=r.length,d=Array(c),g=typeof r=="string"?r.split(""):r,w=0;w<c;w++)w in g&&(d[w]=a.call(void 0,g[w],w,r));return d},A=Array.prototype.some?function(r,a){return Array.prototype.some.call(r,a,void 0)}:function(r,a){for(var c=r.length,d=typeof r=="string"?r.split(""):r,g=0;g<c;g++)if(g in d&&a.call(void 0,d[g],g,r))return!0;return!1};function k(r){e:{for(var a=eR,c=r.length,d=typeof r=="string"?r.split(""):r,g=0;g<c;g++)if(g in d&&a.call(void 0,d[g],g,r)){a=g;break e}a=-1}return 0>a?null:typeof r=="string"?r.charAt(a):r[a]}function N(r,a){return 0<=M(r,a)}function V(r,a){a=M(r,a);var c;return(c=0<=a)&&Array.prototype.splice.call(r,a,1),c}function B(r,a){var c=0;ne(r,function(d,g){a.call(void 0,d,g,r)&&Array.prototype.splice.call(r,g,1).length==1&&c++})}function z(r){return Array.prototype.concat.apply([],arguments)}function re(r){var a=r.length;if(0<a){for(var c=Array(a),d=0;d<a;d++)c[d]=r[d];return c}return[]}var Z=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},oe=/&/g,Y=/</g,ge=/>/g,le=/"/g,_e=/'/g,Re=/\x00/g,Ve=/[\x00&<>"']/;function Ee(r,a){return r.indexOf(a)!=-1}function Xe(r,a){return r<a?-1:r>a?1:0}var R;e:{var O=f.navigator;if(O){var K=O.userAgent;if(K){R=K;break e}}R=""}function te(r){return Ee(R,r)}function Ae(r,a){for(var c in r)a.call(void 0,r[c],c,r)}function me(r){for(var a in r)return!1;return!0}function ke(r){var a={},c;for(c in r)a[c]=r[c];return a}var Qe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qe(r,a){for(var c,d,g=1;g<arguments.length;g++){d=arguments[g];for(c in d)r[c]=d[c];for(var w=0;w<Qe.length;w++)c=Qe[w],Object.prototype.hasOwnProperty.call(d,c)&&(r[c]=d[c])}}function nn(r,a){e:{try{var c=r&&r.ownerDocument,d=c&&(c.defaultView||c.parentWindow);if(d=d||f,d.Element&&d.Location){var g=d;break e}}catch{}g=null}if(g&&typeof g[a]<"u"&&(!r||!(r instanceof g[a])&&(r instanceof g.Location||r instanceof g.Element))){if(E(r))try{var w=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{w="<object could not be stringified>"}else w=r===void 0?"undefined":r===null?"null":typeof r;Pt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,w)}}function $e(r,a){this.a=r===Dr&&a||"",this.b=Rt}$e.prototype.ta=!0,$e.prototype.sa=function(){return this.a},$e.prototype.toString=function(){return"Const{"+this.a+"}"};function Ct(r){return r instanceof $e&&r.constructor===$e&&r.b===Rt?r.a:(Pt("expected object of type Const, got '"+r+"'"),"type_error:Const")}var Rt={},Dr={},wi;function Fa(){if(wi===void 0){var r=null,a=f.trustedTypes;if(a&&a.createPolicy){try{r=a.createPolicy("goog#html",{createHTML:Q,createScript:Q,createScriptURL:Q})}catch(c){f.console&&f.console.error(c.message)}wi=r}else wi=r}return wi}function Lr(r,a){this.a=a===u_?r:""}Lr.prototype.ta=!0,Lr.prototype.sa=function(){return this.a.toString()},Lr.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function hs(r){return r instanceof Lr&&r.constructor===Lr?r.a:(Pt("expected object of type TrustedResourceUrl, got '"+r+"' of type "+y(r)),"type_error:TrustedResourceUrl")}function ad(r,a){var c=Ct(r);if(!Rx.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(Cx,function(d,g){if(!Object.prototype.hasOwnProperty.call(a,g))throw Error('Found marker, "'+g+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(a));return d=a[g],d instanceof $e?Ct(d):encodeURIComponent(String(d))}),Nx(r)}var Cx=/%{(\w+)}/g,Rx=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,u_={};function Nx(r){var a=Fa();return r=a?a.createScriptURL(r):r,new Lr(r,u_)}function Dn(r,a){this.a=a===Ua?r:""}Dn.prototype.ta=!0,Dn.prototype.sa=function(){return this.a.toString()},Dn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function jc(r){return r instanceof Dn&&r.constructor===Dn?r.a:(Pt("expected object of type SafeUrl, got '"+r+"' of type "+y(r)),"type_error:SafeUrl")}var Ox=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Px=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,c_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function l_(r){if(r instanceof Dn)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),c_.test(r))r=new Dn(r,Ua);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var a=r.match(Px);r=a&&Ox.test(a[1])?new Dn(r,Ua):null}return r}function f_(r){return r instanceof Dn?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),c_.test(r)||(r="about:invalid#zClosurez"),new Dn(r,Ua))}var Ua={},h_=new Dn("about:invalid#zClosurez",Ua);function ds(r,a,c){this.a=c===d_?r:""}ds.prototype.ta=!0,ds.prototype.sa=function(){return this.a.toString()},ds.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Dx(r){return r instanceof ds&&r.constructor===ds?r.a:(Pt("expected object of type SafeHtml, got '"+r+"' of type "+y(r)),"type_error:SafeHtml")}var d_={};function Lx(r,a){nn(r,"HTMLScriptElement"),r.src=hs(a),(a=r.ownerDocument&&r.ownerDocument.defaultView)&&a!=f?a=h(a.document):(v===null&&(v=h(f.document)),a=v),a&&r.setAttribute("nonce",a)}function p_(r,a,c,d){return r=r instanceof Dn?r:f_(r),a=a||f,c=c instanceof $e?Ct(c):c||"",a.open(jc(r),c,d,void 0)}function m_(r,a){for(var c=r.split("%s"),d="",g=Array.prototype.slice.call(arguments,1);g.length&&1<c.length;)d+=c.shift()+g.shift();return d+c.join("%s")}function ud(r){return Ve.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(oe,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(Y,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(ge,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(le,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(_e,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(Re,"&#0;"))),r}function cd(r){return cd[" "](r),r}cd[" "]=m;function Mx(r,a){var c=jx;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=a(r)}var Fx=te("Opera"),gr=te("Trident")||te("MSIE"),v_=te("Edge"),Ux=v_||gr,g_=te("Gecko")&&!(Ee(R.toLowerCase(),"webkit")&&!te("Edge"))&&!(te("Trident")||te("MSIE"))&&!te("Edge"),Vx=Ee(R.toLowerCase(),"webkit")&&!te("Edge");function y_(){var r=f.document;return r?r.documentMode:void 0}var Bc;e:{var ld="",fd=function(){var r=R;if(g_)return/rv:([^\);]+)(\)|;)/.exec(r);if(v_)return/Edge\/([\d\.]+)/.exec(r);if(gr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(Vx)return/WebKit\/(\S+)/.exec(r);if(Fx)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(fd&&(ld=fd?fd[1]:""),gr){var hd=y_();if(hd!=null&&hd>parseFloat(ld)){Bc=String(hd);break e}}Bc=ld}var jx={};function __(r){return Mx(r,function(){for(var a=0,c=Z(String(Bc)).split("."),d=Z(String(r)).split("."),g=Math.max(c.length,d.length),w=0;a==0&&w<g;w++){var b=c[w]||"",S=d[w]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],b[0].length==0&&S[0].length==0)break;a=Xe(b[1].length==0?0:parseInt(b[1],10),S[1].length==0?0:parseInt(S[1],10))||Xe(b[2].length==0,S[2].length==0)||Xe(b[2],S[2]),b=b[3],S=S[3]}while(a==0)}return 0<=a})}var dd;if(f.document&&gr){var w_=y_();dd=w_||parseInt(Bc,10)||void 0}else dd=void 0;var bi=dd;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var Bx=!gr||9<=Number(bi);function Va(r){var a=document;return typeof r=="string"?a.getElementById(r):r}function b_(r,a){Ae(a,function(c,d){c&&typeof c=="object"&&c.ta&&(c=c.sa()),d=="style"?r.style.cssText=c:d=="class"?r.className=c:d=="for"?r.htmlFor=c:I_.hasOwnProperty(d)?r.setAttribute(I_[d],c):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?r.setAttribute(d,c):r[d]=c})}var I_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function qx(r,a,c){var d=arguments,g=document,w=String(d[0]),b=d[1];if(!Bx&&b&&(b.name||b.type)){if(w=["<",w],b.name&&w.push(' name="',ud(b.name),'"'),b.type){w.push(' type="',ud(b.type),'"');var S={};qe(S,b),delete S.type,b=S}w.push(">"),w=w.join("")}return w=qc(g,w),b&&(typeof b=="string"?w.className=b:Array.isArray(b)?w.className=b.join(" "):b_(w,b)),2<d.length&&$x(g,w,d),w}function $x(r,a,c){function d(S){S&&a.appendChild(typeof S=="string"?r.createTextNode(S):S)}for(var g=2;g<c.length;g++){var w=c[g];if(!_(w)||E(w)&&0<w.nodeType)d(w);else{e:{if(w&&typeof w.length=="number"){if(E(w)){var b=typeof w.item=="function"||typeof w.item=="string";break e}if(I(w)){b=typeof w.item=="function";break e}}b=!1}q(b?re(w):w,d)}}}function qc(r,a){return a=String(a),r.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),r.createElement(a)}function E_(r){f.setTimeout(function(){throw r},0)}var pd;function Hx(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!te("Presto")&&(r=function(){var g=qc(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var w=g.contentWindow;g=w.document,g.open(),g.close();var b="callImmediate"+Math.random(),S=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;g=U(function(j){(S=="*"||j.origin==S)&&j.data==b&&this.port1.onmessage()},this),w.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(b,S)}}}),typeof r<"u"&&!te("Trident")&&!te("MSIE")){var a=new r,c={},d=c;return a.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var g=c.Hb;c.Hb=null,g()}},function(g){d.next={Hb:g},d=d.next,a.port2.postMessage(0)}}return function(g){f.setTimeout(g,0)}}function $c(r,a){Hc||Kx(),md||(Hc(),md=!0),T_.add(r,a)}var Hc;function Kx(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);Hc=function(){r.then(S_)}}else Hc=function(){var a=S_;!I(f.setImmediate)||f.Window&&f.Window.prototype&&!te("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(pd||(pd=Hx()),pd(a)):f.setImmediate(a)}}var md=!1,T_=new _t;function S_(){for(var r;r=fe();){try{r.a.call(r.b)}catch(a){E_(a)}Ut(Xn,r)}md=!1}function He(r,a){if(this.a=so,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=m)try{var c=this;r.call(a,function(d){ao(c,ja,d)},function(d){if(!(d instanceof ps))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}ao(c,ei,d)})}catch(d){ao(this,ei,d)}}var so=0,ja=2,ei=3;function A_(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}A_.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var k_=new Gt(function(){return new A_},function(r){r.reset()});function vd(r,a,c){var d=k_.get();return d.g=r,d.b=a,d.f=c,d}function Te(r){if(r instanceof He)return r;var a=new He(m);return ao(a,ja,r),a}function It(r){return new He(function(a,c){c(r)})}function x_(r,a,c){O_(r,a,c,null)||$c(de(a,r))}function Gx(r){return new He(function(a,c){var d=r.length,g=[];if(d)for(var w=function(W,Pe){d--,g[W]=Pe,d==0&&a(g)},b=function(W){c(W)},S=0,j;S<r.length;S++)j=r[S],x_(j,de(w,S),b);else a(g)})}function C_(r){return new He(function(a){var c=r.length,d=[];if(c)for(var g=function(S,j,W){c--,d[S]=j?{Qb:!0,value:W}:{Qb:!1,reason:W},c==0&&a(d)},w=0,b;w<r.length;w++)b=r[w],x_(b,de(g,w,!0),de(g,w,!1));else a(d)})}He.prototype.then=function(r,a,c){return N_(this,I(r)?r:null,I(a)?a:null,c)},He.prototype.$goog_Thenable=!0,e=He.prototype,e.oa=function(r,a){return r=vd(r,r,a),r.c=!0,gd(this,r),this},e.o=function(r,a){return N_(this,null,r,a)},e.cancel=function(r){if(this.a==so){var a=new ps(r);$c(function(){R_(this,a)},this)}};function R_(r,a){if(r.a==so)if(r.c){var c=r.c;if(c.b){for(var d=0,g=null,w=null,b=c.b;b&&(b.c||(d++,b.a==r&&(g=b),!(g&&1<d)));b=b.next)g||(w=b);g&&(c.a==so&&d==1?R_(c,a):(w?(d=w,d.next==c.f&&(c.f=d),d.next=d.next.next):D_(c),L_(c,g,ei,a)))}r.c=null}else ao(r,ei,a)}function gd(r,a){r.b||r.a!=ja&&r.a!=ei||P_(r),r.f?r.f.next=a:r.b=a,r.f=a}function N_(r,a,c,d){var g=vd(null,null,null);return g.a=new He(function(w,b){g.g=a?function(S){try{var j=a.call(d,S);w(j)}catch(W){b(W)}}:w,g.b=c?function(S){try{var j=c.call(d,S);j===void 0&&S instanceof ps?b(S):w(j)}catch(W){b(W)}}:b}),g.a.c=r,gd(r,g),g.a}e.$c=function(r){this.a=so,ao(this,ja,r)},e.ad=function(r){this.a=so,ao(this,ei,r)};function ao(r,a,c){r.a==so&&(r===c&&(a=ei,c=new TypeError("Promise cannot resolve to itself")),r.a=1,O_(c,r.$c,r.ad,r)||(r.i=c,r.a=a,r.c=null,P_(r),a!=ei||c instanceof ps||Wx(r,c)))}function O_(r,a,c,d){if(r instanceof He)return gd(r,vd(a||m,c||null,d)),!0;if(De(r))return r.then(a,c,d),!0;if(E(r))try{var g=r.then;if(I(g))return zx(r,g,a,c,d),!0}catch(w){return c.call(d,w),!0}return!1}function zx(r,a,c,d,g){function w(j){S||(S=!0,d.call(g,j))}function b(j){S||(S=!0,c.call(g,j))}var S=!1;try{a.call(r,b,w)}catch(j){w(j)}}function P_(r){r.h||(r.h=!0,$c(r.gc,r))}function D_(r){var a=null;return r.b&&(a=r.b,r.b=a.next,a.next=null),r.b||(r.f=null),a}e.gc=function(){for(var r;r=D_(this);)L_(this,r,this.a,this.i);this.h=!1};function L_(r,a,c,d){if(c==ei&&a.b&&!a.c)for(;r&&r.g;r=r.c)r.g=!1;if(a.a)a.a.c=null,M_(a,c,d);else try{a.c?a.g.call(a.f):M_(a,c,d)}catch(g){F_.call(null,g)}Ut(k_,a)}function M_(r,a,c){a==ja?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function Wx(r,a){r.g=!0,$c(function(){r.g&&F_.call(null,a)})}var F_=E_;function ps(r){Ie.call(this,r)}G(ps,Ie),ps.prototype.name="cancel";function Kc(){this.ya=this.ya,this.pa=this.pa}var Xx=0;Kc.prototype.ya=!1;function U_(r){!r.ya&&(r.ya=!0,r.Da(),Xx!=0)&&T(r)}Kc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Qx=Object.freeze||function(r){return r},V_=!gr||9<=Number(bi),Yx=gr&&!__("9"),Jx=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,a=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",m,a),f.removeEventListener("test",m,a)}catch{}return r}();function Ln(r,a){this.type=r,this.b=this.target=a,this.defaultPrevented=!1}Ln.prototype.preventDefault=function(){this.defaultPrevented=!0};function uo(r,a){if(Ln.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,d=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=a,a=r.relatedTarget){if(g_){e:{try{cd(a.nodeName);var g=!0;break e}catch{}g=!1}g||(a=null)}}else c=="mouseover"?a=r.fromElement:c=="mouseout"&&(a=r.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:Zx[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}G(uo,Ln);var Zx=Qx({2:"touch",3:"pen",4:"mouse"});uo.prototype.preventDefault=function(){uo.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,Yx)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},uo.prototype.g=function(){return this.a};var Ba="closure_listenable_"+(1e6*Math.random()|0),eC=0;function tC(r,a,c,d,g){this.listener=r,this.proxy=null,this.src=a,this.type=c,this.capture=!!d,this.Wa=g,this.key=++eC,this.wa=this.Qa=!1}function Gc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function zc(r){this.src=r,this.a={},this.b=0}zc.prototype.add=function(r,a,c,d,g){var w=r.toString();r=this.a[w],r||(r=this.a[w]=[],this.b++);var b=_d(r,a,d,g);return-1<b?(a=r[b],c||(a.Qa=!1)):(a=new tC(a,this.src,w,!!d,g),a.Qa=c,r.push(a)),a};function yd(r,a){var c=a.type;c in r.a&&V(r.a[c],a)&&(Gc(a),r.a[c].length==0&&(delete r.a[c],r.b--))}function _d(r,a,c,d){for(var g=0;g<r.length;++g){var w=r[g];if(!w.wa&&w.listener==a&&w.capture==!!c&&w.Wa==d)return g}return-1}var wd="closure_lm_"+(1e6*Math.random()|0),bd={};function ur(r,a,c,d,g){if(d&&d.once)Id(r,a,c,d,g);else if(Array.isArray(a))for(var w=0;w<a.length;w++)ur(r,a[w],c,d,g);else c=Td(c),r&&r[Ba]?K_(r,a,c,E(d)?!!d.capture:!!d,g):j_(r,a,c,!1,d,g)}function j_(r,a,c,d,g,w){if(!a)throw Error("Invalid event type");var b=E(g)?!!g.capture:!!g,S=Wc(r);if(S||(r[wd]=S=new zc(r)),c=S.add(a,c,d,b,w),!c.proxy)if(d=nC(),c.proxy=d,d.src=r,d.listener=c,r.addEventListener)Jx||(g=b),g===void 0&&(g=!1),r.addEventListener(a.toString(),d,g);else if(r.attachEvent)r.attachEvent(q_(a.toString()),d);else if(r.addListener&&r.removeListener)r.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function nC(){var r=rC,a=V_?function(c){return r.call(a.src,a.listener,c)}:function(c){if(c=r.call(a.src,a.listener,c),!c)return c};return a}function Id(r,a,c,d,g){if(Array.isArray(a))for(var w=0;w<a.length;w++)Id(r,a[w],c,d,g);else c=Td(c),r&&r[Ba]?Sd(r,a,c,E(d)?!!d.capture:!!d,g):j_(r,a,c,!0,d,g)}function Qn(r,a,c,d,g){if(Array.isArray(a))for(var w=0;w<a.length;w++)Qn(r,a[w],c,d,g);else d=E(d)?!!d.capture:!!d,c=Td(c),r&&r[Ba]?(r=r.v,a=String(a).toString(),a in r.a&&(w=r.a[a],c=_d(w,c,d,g),-1<c&&(Gc(w[c]),Array.prototype.splice.call(w,c,1),w.length==0&&(delete r.a[a],r.b--)))):r&&(r=Wc(r))&&(a=r.a[a.toString()],r=-1,a&&(r=_d(a,c,d,g)),(c=-1<r?a[r]:null)&&B_(c))}function B_(r){if(typeof r!="number"&&r&&!r.wa){var a=r.src;if(a&&a[Ba])yd(a.v,r);else{var c=r.type,d=r.proxy;a.removeEventListener?a.removeEventListener(c,d,r.capture):a.detachEvent?a.detachEvent(q_(c),d):a.addListener&&a.removeListener&&a.removeListener(d),(c=Wc(a))?(yd(c,r),c.b==0&&(c.src=null,a[wd]=null)):Gc(r)}}}function q_(r){return r in bd?bd[r]:bd[r]="on"+r}function $_(r,a,c,d){var g=!0;if((r=Wc(r))&&(a=r.a[a.toString()]))for(a=a.concat(),r=0;r<a.length;r++){var w=a[r];w&&w.capture==c&&!w.wa&&(w=H_(w,d),g=g&&w!==!1)}return g}function H_(r,a){var c=r.listener,d=r.Wa||r.src;return r.Qa&&B_(r),c.call(d,a)}function rC(r,a){if(r.wa)return!0;if(!V_){if(!a)e:{a=["window","event"];for(var c=f,d=0;d<a.length;d++)if(c=c[a[d]],c==null){a=null;break e}a=c}if(d=a,a=new uo(d,this),c=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var g=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{g=!0}(g||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],g=a.b;g;g=g.parentNode)d.push(g);for(r=r.type,g=d.length-1;0<=g;g--){a.b=d[g];var w=$_(d[g],r,!0,a);c=c&&w}for(g=0;g<d.length;g++)a.b=d[g],w=$_(d[g],r,!1,a),c=c&&w}return c}return H_(r,new uo(a,this))}function Wc(r){return r=r[wd],r instanceof zc?r:null}var Ed="__closure_events_fn_"+(1e9*Math.random()>>>0);function Td(r){return I(r)?r:(r[Ed]||(r[Ed]=function(a){return r.handleEvent(a)}),r[Ed])}function bn(){Kc.call(this),this.v=new zc(this),this.bc=this,this.hb=null}G(bn,Kc),bn.prototype[Ba]=!0,bn.prototype.addEventListener=function(r,a,c,d){ur(this,r,a,c,d)},bn.prototype.removeEventListener=function(r,a,c,d){Qn(this,r,a,c,d)},bn.prototype.dispatchEvent=function(r){var a,c=this.hb;if(c)for(a=[];c;c=c.hb)a.push(c);c=this.bc;var d=r.type||r;if(typeof r=="string")r=new Ln(r,c);else if(r instanceof Ln)r.target=r.target||c;else{var g=r;r=new Ln(d,c),qe(r,g)}if(g=!0,a)for(var w=a.length-1;0<=w;w--){var b=r.b=a[w];g=Xc(b,d,!0,r)&&g}if(b=r.b=c,g=Xc(b,d,!0,r)&&g,g=Xc(b,d,!1,r)&&g,a)for(w=0;w<a.length;w++)b=r.b=a[w],g=Xc(b,d,!1,r)&&g;return g},bn.prototype.Da=function(){if(bn.bb.Da.call(this),this.v){var r=this.v,a;for(a in r.a){for(var c=r.a[a],d=0;d<c.length;d++)Gc(c[d]);delete r.a[a],r.b--}}this.hb=null};function K_(r,a,c,d,g){r.v.add(String(a),c,!1,d,g)}function Sd(r,a,c,d,g){r.v.add(String(a),c,!0,d,g)}function Xc(r,a,c,d){if(a=r.v.a[String(a)],!a)return!0;a=a.concat();for(var g=!0,w=0;w<a.length;++w){var b=a[w];if(b&&!b.wa&&b.capture==c){var S=b.listener,j=b.Wa||b.src;b.Qa&&yd(r.v,b),g=S.call(j,d)!==!1&&g}}return g&&!d.defaultPrevented}function Ad(r,a,c){if(I(r))c&&(r=U(r,c));else if(r&&typeof r.handleEvent=="function")r=U(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:f.setTimeout(r,a||0)}function ms(r){var a=null;return new He(function(c,d){a=Ad(function(){c(void 0)},r),a==-1&&d(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(a),c})}function G_(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var a=[],c=r.length,d=0;d<c;d++)a.push(r[d]);return a}a=[],c=0;for(d in r)a[c++]=r[d];return a}function z_(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var a=[];r=r.length;for(var c=0;c<r;c++)a.push(c);return a}a=[],c=0;for(var d in r)a[c++]=d;return a}}function iC(r,a){if(r.forEach&&typeof r.forEach=="function")r.forEach(a,void 0);else if(_(r)||typeof r=="string")q(r,a,void 0);else for(var c=z_(r),d=G_(r),g=d.length,w=0;w<g;w++)a.call(void 0,d[w],c&&c[w],r)}function vs(r,a){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(r)if(r instanceof vs)for(c=r.Y(),d=0;d<c.length;d++)this.set(c[d],r.get(c[d]));else for(d in r)this.set(d,r[d])}e=vs.prototype,e.X=function(){kd(this);for(var r=[],a=0;a<this.a.length;a++)r.push(this.b[this.a[a]]);return r},e.Y=function(){return kd(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function kd(r){if(r.c!=r.a.length){for(var a=0,c=0;a<r.a.length;){var d=r.a[a];co(r.b,d)&&(r.a[c++]=d),a++}r.a.length=c}if(r.c!=r.a.length){var g={};for(c=a=0;a<r.a.length;)d=r.a[a],co(g,d)||(r.a[c++]=d,g[d]=1),a++;r.a.length=c}}e.get=function(r,a){return co(this.b,r)?this.b[r]:a},e.set=function(r,a){co(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=a},e.forEach=function(r,a){for(var c=this.Y(),d=0;d<c.length;d++){var g=c[d],w=this.get(g);r.call(a,w,g,this)}};function co(r,a){return Object.prototype.hasOwnProperty.call(r,a)}var W_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function oC(r,a){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var d=r[c].indexOf("="),g=null;if(0<=d){var w=r[c].substring(0,d);g=r[c].substring(d+1)}else w=r[c];a(w,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function Ii(r,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof Ii?(this.i=a!==void 0?a:r.i,qa(this,r.c),this.l=r.l,this.a=r.a,$a(this,r.g),this.f=r.f,xd(this,J_(r.b)),this.h=r.h):r&&(c=String(r).match(W_))?(this.i=!!a,qa(this,c[1]||"",!0),this.l=Ha(c[2]||""),this.a=Ha(c[3]||"",!0),$a(this,c[4]),this.f=Ha(c[5]||"",!0),xd(this,c[6]||"",!0),this.h=Ha(c[7]||"")):(this.i=!!a,this.b=new lo(null,this.i))}Ii.prototype.toString=function(){var r=[],a=this.c;a&&r.push(Ka(a,X_,!0),":");var c=this.a;return(c||a=="file")&&(r.push("//"),(a=this.l)&&r.push(Ka(a,X_,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(Ka(c,c.charAt(0)=="/"?uC:aC,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",Ka(c,lC)),r.join("")},Ii.prototype.resolve=function(r){var a=new Ii(this),c=!!r.c;c?qa(a,r.c):c=!!r.l,c?a.l=r.l:c=!!r.a,c?a.a=r.a:c=r.g!=null;var d=r.f;if(c)$a(a,r.g);else if(c=!!r.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var g=a.f.lastIndexOf("/");g!=-1&&(d=a.f.substr(0,g+1)+d)}if(g=d,g==".."||g==".")d="";else if(Ee(g,"./")||Ee(g,"/.")){d=g.lastIndexOf("/",0)==0,g=g.split("/");for(var w=[],b=0;b<g.length;){var S=g[b++];S=="."?d&&b==g.length&&w.push(""):S==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),d&&b==g.length&&w.push("")):(w.push(S),d=!0)}d=w.join("/")}else d=g}return c?a.f=d:c=r.b.toString()!=="",c?xd(a,J_(r.b)):c=!!r.h,c&&(a.h=r.h),a};function qa(r,a,c){r.c=c?Ha(a,!0):a,r.c&&(r.c=r.c.replace(/:$/,""))}function $a(r,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);r.g=a}else r.g=null}function xd(r,a,c){a instanceof lo?(r.b=a,fC(r.b,r.i)):(c||(a=Ka(a,cC)),r.b=new lo(a,r.i))}function Dt(r,a,c){r.b.set(a,c)}function cr(r,a){return r.b.get(a)}function Mn(r){return r instanceof Ii?new Ii(r):new Ii(r,void 0)}function Qc(r,a,c,d){var g=new Ii(null,void 0);return r&&qa(g,r),a&&(g.a=a),c&&$a(g,c),d&&(g.f=d),g}function Ha(r,a){return r?a?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Ka(r,a,c){return typeof r=="string"?(r=encodeURI(r).replace(a,sC),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function sC(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var X_=/[#\/\?@]/g,aC=/[#\?:]/g,uC=/[#\?]/g,cC=/[#\?@]/g,lC=/#/g;function lo(r,a){this.b=this.a=null,this.c=r||null,this.f=!!a}function Ei(r){r.a||(r.a=new vs,r.b=0,r.c&&oC(r.c,function(a,c){r.add(decodeURIComponent(a.replace(/\+/g," ")),c)}))}function Q_(r){var a=z_(r);if(typeof a>"u")throw Error("Keys are undefined");var c=new lo(null,void 0);r=G_(r);for(var d=0;d<a.length;d++){var g=a[d],w=r[d];Array.isArray(w)?Y_(c,g,w):c.add(g,w)}return c}e=lo.prototype,e.add=function(r,a){Ei(this),this.c=null,r=gs(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(a),this.b+=1,this};function Mr(r,a){Ei(r),a=gs(r,a),co(r.a.b,a)&&(r.c=null,r.b-=r.a.get(a).length,r=r.a,co(r.b,a)&&(delete r.b[a],r.c--,r.a.length>2*r.c&&kd(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function Cd(r,a){return Ei(r),a=gs(r,a),co(r.a.b,a)}e.forEach=function(r,a){Ei(this),this.a.forEach(function(c,d){q(c,function(g){r.call(a,g,d,this)},this)},this)},e.Y=function(){Ei(this);for(var r=this.a.X(),a=this.a.Y(),c=[],d=0;d<a.length;d++)for(var g=r[d],w=0;w<g.length;w++)c.push(a[d]);return c},e.X=function(r){Ei(this);var a=[];if(typeof r=="string")Cd(this,r)&&(a=z(a,this.a.get(gs(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)a=z(a,r[c])}return a},e.set=function(r,a){return Ei(this),this.c=null,r=gs(this,r),Cd(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[a]),this.b+=1,this},e.get=function(r,a){return r?(r=this.X(r),0<r.length?String(r[0]):a):a};function Y_(r,a,c){Mr(r,a),0<c.length&&(r.c=null,r.a.set(gs(r,a),re(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],a=this.a.Y(),c=0;c<a.length;c++){var d=a[c],g=encodeURIComponent(String(d));d=this.X(d);for(var w=0;w<d.length;w++){var b=g;d[w]!==""&&(b+="="+encodeURIComponent(String(d[w]))),r.push(b)}}return this.c=r.join("&")};function J_(r){var a=new lo;return a.c=r.c,r.a&&(a.a=new vs(r.a),a.b=r.b),a}function gs(r,a){return a=String(a),r.f&&(a=a.toLowerCase()),a}function fC(r,a){a&&!r.f&&(Ei(r),r.c=null,r.a.forEach(function(c,d){var g=d.toLowerCase();d!=g&&(Mr(this,d),Y_(this,g,c))},r)),r.f=a}function Z_(r){var a=[];return Rd(new hC,r,a),a.join("")}function hC(){}function Rd(r,a,c){if(a==null)c.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var d=a;a=d.length,c.push("[");for(var g="",w=0;w<a;w++)c.push(g),Rd(r,d[w],c),g=",";c.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{c.push("{"),g="";for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(w=a[d],typeof w!="function"&&(c.push(g),tw(d,c),c.push(":"),Rd(r,w,c),g=","));c.push("}");return}}switch(typeof a){case"string":tw(a,c);break;case"number":c.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":c.push(String(a));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var ew={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},dC=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function tw(r,a){a.push('"',r.replace(dC,function(c){var d=ew[c];return d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),ew[c]=d),d}),'"')}function Nd(){var r=rn();return gr&&!!bi&&bi==11||/Edge\/\d+/.test(r)}function Ga(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function nw(r,a){a=a||f.window;var c="about:blank";r&&(c=jc(l_(r)||h_)),a.location.href=c}function rw(r,a){var c=[],d;for(d in r)d in a?typeof r[d]!=typeof a[d]?c.push(d):typeof r[d]=="object"&&r[d]!=null&&a[d]!=null?0<rw(r[d],a[d]).length&&c.push(d):r[d]!==a[d]&&c.push(d):c.push(d);for(d in a)d in r||c.push(d);return c}function pC(){var r=rn();return r=ys(r)!=aw?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!gr||!bi||9<bi}function iw(r){return r=(r||rn()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function fo(r){r=r||f.window;try{r.close()}catch{}}function ow(r,a,c){var d=Math.floor(1e9*Math.random()).toString();a=a||500,c=c||600;var g=(window.screen.availHeight-c)/2,w=(window.screen.availWidth-a)/2;a={width:a,height:c,top:0<g?g:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=rn().toLowerCase(),d&&(a.target=d,Ee(c,"crios/")&&(a.target="_blank")),ys(rn())==Dd&&(r=r||"http://localhost",a.scrollbars=!0),c=r||"",(r=a)||(r={}),d=window,a=c instanceof Dn?c:l_(typeof c.href<"u"?c.href:String(c))||h_,c=r.target||c.target,g=[];for(b in r)switch(b){case"width":case"height":case"top":case"left":g.push(b+"="+r[b]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(b+"="+(r[b]?1:0))}var b=g.join(",");if((te("iPhone")&&!te("iPod")&&!te("iPad")||te("iPad")||te("iPod"))&&d.navigator&&d.navigator.standalone&&c&&c!="_self"?(b=qc(document,"A"),nn(b,"HTMLAnchorElement"),a=a instanceof Dn?a:f_(a),b.href=jc(a),b.setAttribute("target",c),r.noreferrer&&b.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,d,1),b.dispatchEvent(r),b={}):r.noreferrer?(b=p_("",d,c,b),r=jc(a),b&&(Ux&&Ee(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),b.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ud(r)+'">',r=(d=Fa())?d.createHTML(r):r,r=new ds(r,null,d_),d=b.document)&&(d.write(Dx(r)),d.close())):(b=p_(a,d,c,b))&&r.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function mC(r){return new He(function(a){function c(){ms(2e3).then(function(){if(!r||r.closed)a();else return c()})}return c()})}var vC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gC=/^[^@]+@[^@]+$/;function Yc(){var r=null;return new He(function(a){f.document.readyState=="complete"?a():(r=function(){a()},Id(window,"load",r))}).o(function(a){throw Qn(window,"load",r),a})}function yC(){return Od(void 0)?Yc().then(function(){return new He(function(r,a){var c=f.document,d=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(d),r()},!1)})}):It(Error("Cordova must run in an Android or iOS file scheme."))}function Od(r){return r=r||rn(),!(ws()!=="file:"&&ws()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pd(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function yr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Fr(){return Ce.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ce.INTERNAL.hasOwnProperty("node")?"Node":yr()?"Worker":"Browser"}function sw(){var r=Fr();return r==="ReactNative"||r==="Node"}function _C(){for(var r=50,a=[];0<r;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return a.join("")}var Dd="Firefox",aw="Chrome";function ys(r){var a=r.toLowerCase();if(Ee(a,"opera/")||Ee(a,"opr/")||Ee(a,"opios/"))return"Opera";if(Ee(a,"iemobile"))return"IEMobile";if(Ee(a,"msie")||Ee(a,"trident/"))return"IE";if(Ee(a,"edge/"))return"Edge";if(Ee(a,"firefox/"))return Dd;if(Ee(a,"silk/"))return"Silk";if(Ee(a,"blackberry"))return"Blackberry";if(Ee(a,"webos"))return"Webos";if(!Ee(a,"safari/")||Ee(a,"chrome/")||Ee(a,"crios/")||Ee(a,"android"))if(!Ee(a,"chrome/")&&!Ee(a,"crios/")||Ee(a,"edge/")){if(Ee(a,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return aw;else return"Safari";return"Other"}var uw={md:"FirebaseCore-web",od:"FirebaseUI-web"};function _s(r,a){a=a||[];var c=[],d={},g;for(g in uw)d[uw[g]]=!0;for(g=0;g<a.length;g++)typeof d[a[g]]<"u"&&(delete d[a[g]],c.push(a[g]));return c.sort(),a=c,a.length||(a=["FirebaseCore-web"]),c=Fr(),c==="Browser"?(d=rn(),c=ys(d)):c==="Worker"&&(d=rn(),c=ys(d)+"-"+c),c+"/JsCore/"+r+"/"+a.join(",")}function rn(){return f.navigator&&f.navigator.userAgent||""}function Et(r,a){r=r.split("."),a=a||f;for(var c=0;c<r.length&&typeof a=="object"&&a!=null;c++)a=a[r[c]];return c!=r.length&&(a=void 0),a}function Ld(){try{var r=f.localStorage,a=po();if(r)return r.setItem(a,"1"),r.removeItem(a),Nd()?!!f.indexedDB:!0}catch{return yr()&&!!f.indexedDB}return!1}function ho(){return(Jc()||ws()==="chrome-extension:"||Od())&&!sw()&&Ld()&&!yr()}function Jc(){return ws()==="http:"||ws()==="https:"}function ws(){return f.location&&f.location.protocol||null}function za(r){return r=r||rn(),!(iw(r)||ys(r)==Dd)}function Wa(r){return typeof r>"u"?null:Z_(r)}function cw(r){var a={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(a[c]=r[c]);return a}function bs(r){if(r!==null)return JSON.parse(r)}function po(r){return r||Math.floor(1e9*Math.random()).toString()}function lw(r){return r=r||rn(),!(ys(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function fw(){var r=f.___jsl;if(r&&r.H){for(var a in r.H)if(r.H[a].r=r.H[a].r||[],r.H[a].L=r.H[a].L||[],r.H[a].r=r.H[a].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function Ti(r,a){if(r>a)throw Error("Short delay should be less than long delay!");this.a=r,this.c=a,r=rn(),a=Fr(),this.b=iw(r)||a==="ReactNative"}Ti.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Jc()||ws()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Md(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function wC(){var r=f.document,a=null;return Md()||!r?Te():new He(function(c){a=function(){Md()&&(r.removeEventListener("visibilitychange",a,!1),c())},r.addEventListener("visibilitychange",a,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",a,!1),c})}function Xa(r){try{var a=new Date(parseInt(r,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(r))return a.toUTCString()}catch{}return null}function hw(){return!(!Et("fireauth.oauthhelper",f)&&!Et("fireauth.iframe",f))}function bC(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function IC(){var r=f.navigator;return r&&r.serviceWorker?Te().then(function(){return r.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):Te(null)}var dw={};function Fd(r){dw[r]||(dw[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Ud;try{var Vd={};Object.defineProperty(Vd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Vd,"abcd",{configurable:!0,enumerable:!0,value:2}),Ud=Vd.abcd==2}catch{Ud=!1}function pe(r,a,c){Ud?Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:c}):r[a]=c}function In(r,a){if(a)for(var c in a)a.hasOwnProperty(c)&&pe(r,c,a[c])}function Ur(r){var a={};return In(a,r),a}function EC(r){var a={},c;for(c in r)r.hasOwnProperty(c)&&(a[c]=r[c]);return a}function TC(r,a){if(!a||!a.length)return!0;if(!r)return!1;for(var c=0;c<a.length;c++){var d=r[a[c]];if(d==null||d==="")return!1}return!0}function jd(r){var a=r;if(typeof r=="object"&&r!=null){a="length"in r?[]:{};for(var c in r)pe(a,c,jd(r[c]))}return a}function Bd(r){var a=r&&(r[Kd]?"phone":null);if(a&&r&&r[Hd]){pe(this,"uid",r[Hd]),pe(this,"displayName",r[pw]||null);var c=null;r[$d]&&(c=new Date(r[$d]).toUTCString()),pe(this,"enrollmentTime",c),pe(this,"factorId",a)}else throw new x("internal-error","Internal assert: invalid MultiFactorInfo object")}Bd.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function qd(r){try{var a=new Qa(r)}catch{a=null}return a}var pw="displayName",$d="enrolledAt",Hd="mfaEnrollmentId",Kd="phoneInfo";function Qa(r){Bd.call(this,r),pe(this,"phoneNumber",r[Kd])}G(Qa,Bd),Qa.prototype.w=function(){var r=Qa.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function SC(r){var a={},c=r[AC],d=r[xC],g=r[CC];if(r=qd(r[kC]),!g||g!=Zc&&g!=Ya&&!c||g==Ya&&!d||g==Gd&&!r)throw Error("Invalid checkActionCode response!");g==Ya?(a[vw]=c||null,a[gw]=c||null,a[mw]=d):(a[vw]=d||null,a[gw]=d||null,a[mw]=c||null),a[RC]=r||null,pe(this,OC,g),pe(this,NC,jd(a))}var Gd="REVERT_SECOND_FACTOR_ADDITION",Zc="EMAIL_SIGNIN",Ya="VERIFY_AND_CHANGE_EMAIL",AC="email",kC="mfaInfo",xC="newEmail",CC="requestType",mw="email",vw="fromEmail",RC="multiFactorInfo",gw="previousEmail",NC="data",OC="operation";function zd(r){r=Mn(r);var a=cr(r,yw)||null,c=cr(r,_w)||null,d=cr(r,ww)||null;if(d=d&&MC[d]||null,!a||!c||!d)throw new x("argument-error",yw+", "+_w+"and "+ww+" are required in a valid action code URL.");In(this,{apiKey:a,operation:d,code:c,continueUrl:cr(r,PC)||null,languageCode:cr(r,DC)||null,tenantId:cr(r,LC)||null})}var yw="apiKey",_w="oobCode",PC="continueUrl",DC="languageCode",ww="mode",LC="tenantId",MC={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Gd,signIn:Zc,verifyAndChangeEmail:Ya,verifyEmail:"VERIFY_EMAIL"};function bw(r){try{return new zd(r)}catch{return null}}function el(r){var a=r[FC];if(typeof a>"u")throw new x("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new x("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var c=r[Iw];if(c&&typeof c=="object"){a=c[kw];var d=c[Sw];if(c=c[Aw],typeof a=="string"&&a.length){if(this.a=a,typeof d<"u"&&typeof d!="boolean")throw new x("argument-error",Sw+" property must be a boolean when specified.");if(this.g=!!d,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new x("argument-error",Aw+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof a<"u")throw new x("argument-error",kw+" property must be a non empty string when specified.");if(typeof d<"u"||typeof c<"u")throw new x("missing-android-pkg-name")}}else if(typeof c<"u")throw new x("argument-error",Iw+" property must be a non null object when specified.");if(this.f=null,(a=r[Tw])&&typeof a=="object"){if(a=a[xw],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new x("argument-error",xw+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new x("argument-error",Tw+" property must be a non null object when specified.");if(a=r[Wd],typeof a<"u"&&typeof a!="boolean")throw new x("argument-error",Wd+" property must be a boolean when specified.");if(this.c=!!a,r=r[Ew],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new x("argument-error",Ew+" property must be a non empty string when specified.");this.i=r||null}var Iw="android",Ew="dynamicLinkDomain",Wd="handleCodeInApp",Tw="iOS",FC="url",Sw="installApp",Aw="minimumVersion",kw="packageName",xw="bundleId";function tl(r){var a={};a.continueUrl=r.h,a.canHandleCodeInApp=r.c,(a.androidPackageName=r.a)&&(a.androidMinimumVersion=r.b,a.androidInstallApp=r.g),a.iOSBundleId=r.f,a.dynamicLinkDomain=r.i;for(var c in a)a[c]===null&&delete a[c];return a}function UC(r){return Ne(r,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var Ja=null;function VC(r){var a=[];return jC(r,function(c){a.push(c)}),a}function jC(r,a){function c(j){for(;d<r.length;){var W=r.charAt(d++),Pe=Ja[W];if(Pe!=null)return Pe;if(!/^[\s\xa0]*$/.test(W))throw Error("Unknown base64 encoding at char: "+W)}return j}BC();for(var d=0;;){var g=c(-1),w=c(0),b=c(64),S=c(64);if(S===64&&g===-1)break;a(g<<2|w>>4),b!=64&&(a(w<<4&240|b>>2),S!=64&&a(b<<6&192|S))}}function BC(){if(!Ja){Ja={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var d=r.concat(a[c].split("")),g=0;g<d.length;g++){var w=d[g];Ja[w]===void 0&&(Ja[w]=g)}}}function nl(r){var a=Cw(r);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=r,this.a=a.exp,this.i=a.sub,r=Date.now()/1e3,this.g=a.iat||(r>this.a?this.a:r),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}nl.prototype.T=function(){return this.f},nl.prototype.l=function(){return this.c},nl.prototype.toString=function(){return this.h};function rl(r){try{return new nl(r)}catch{return null}}function Cw(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var a=(4-r.length%4)%4,c=0;c<a;c++)r+=".";try{var d=VC(r);for(r=[],c=a=0;a<d.length;){var g=d[a++];if(128>g)r[c++]=String.fromCharCode(g);else if(191<g&&224>g){var w=d[a++];r[c++]=String.fromCharCode((g&31)<<6|w&63)}else if(239<g&&365>g){w=d[a++];var b=d[a++],S=d[a++],j=((g&7)<<18|(w&63)<<12|(b&63)<<6|S&63)-65536;r[c++]=String.fromCharCode(55296+(j>>10)),r[c++]=String.fromCharCode(56320+(j&1023))}else w=d[a++],b=d[a++],r[c++]=String.fromCharCode((g&15)<<12|(w&63)<<6|b&63)}return JSON.parse(r.join(""))}catch{}return null}var Rw="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),il=["client_id","response_type","scope","redirect_uri","state"],Xd={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:il},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:il},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:il},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Rw},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Qd(r){for(var a in Xd)if(Xd[a].fa==r)return Xd[a];return null}function Nw(r){var a={};a["facebook.com"]=Pw,a["google.com"]=Lw,a["github.com"]=Dw,a["twitter.com"]=Mw;var c=r&&r[Ow];try{if(c)return a[c]?new a[c](r):new Vr(r);if(typeof r[Yd]<"u")return new Jd(r)}catch{}return null}var Yd="idToken",Ow="providerId";function Jd(r){var a=r[Ow];if(!a&&r[Yd]){var c=rl(r[Yd]);c&&c.b&&(a=c.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),pe(this,"providerId",a),pe(this,"isNewUser",c)}function Vr(r){Jd.call(this,r),r=bs(r.rawUserInfo||"{}"),pe(this,"profile",jd(r||{}))}G(Vr,Jd);function Pw(r){if(Vr.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}G(Pw,Vr);function Dw(r){if(Vr.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");pe(this,"username",this.profile&&this.profile.login||null)}G(Dw,Vr);function Lw(r){if(Vr.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}G(Lw,Vr);function Mw(r){if(Vr.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");pe(this,"username",r.screenName||null)}G(Mw,Vr);function Fw(r){var a=Mn(r),c=cr(a,"link"),d=cr(Mn(c),"link");return a=cr(a,"deep_link_id"),cr(Mn(a),"link")||a||d||c||r}function ol(r,a){if(!r&&!a)throw new x("internal-error","Internal assert: no raw session string available");if(r&&a)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=a||null,this.type=this.a?Za:sl}var Za="enroll",sl="signin";ol.prototype.Ha=function(){return this.a?Te(this.a):Te(this.b)},ol.prototype.w=function(){return this.type==Za?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Is(){}Is.prototype.ka=function(){},Is.prototype.b=function(){},Is.prototype.c=function(){},Is.prototype.w=function(){};function Es(r,a){return r.then(function(c){if(c[br]){var d=rl(c[br]);if(!d||a!=d.i)throw new x("user-mismatch");return c}throw new x("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==ot+"user-not-found"?new x("user-mismatch"):c})}function mo(r,a){if(a)this.a=a;else throw new x("internal-error","failed to construct a credential");pe(this,"providerId",r),pe(this,"signInMethod",r)}mo.prototype.ka=function(r){return Ip(r,Zd(this))},mo.prototype.b=function(r,a){var c=Zd(this);return c.idToken=a,Ep(r,c)},mo.prototype.c=function(r,a){return Es(Tp(r,Zd(this)),a)};function Zd(r){return{pendingToken:r.a,requestUri:"http://localhost"}}mo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function qC(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new mo(r.providerId,r.pendingToken)}catch{}return null}function ti(r,a,c){if(this.a=null,a.idToken||a.accessToken)a.idToken&&pe(this,"idToken",a.idToken),a.accessToken&&pe(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&pe(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)pe(this,"accessToken",a.oauthToken),pe(this,"secret",a.oauthTokenSecret);else throw new x("internal-error","failed to construct a credential");pe(this,"providerId",r),pe(this,"signInMethod",c)}ti.prototype.ka=function(r){return Ip(r,ep(this))},ti.prototype.b=function(r,a){var c=ep(this);return c.idToken=a,Ep(r,c)},ti.prototype.c=function(r,a){var c=ep(this);return Es(Tp(r,c),a)};function ep(r){var a={};return r.idToken&&(a.id_token=r.idToken),r.accessToken&&(a.access_token=r.accessToken),r.secret&&(a.oauth_token_secret=r.secret),a.providerId=r.providerId,r.nonce&&!r.a&&(a.nonce=r.nonce),a={postBody:Q_(a).toString(),requestUri:"http://localhost"},r.a&&(delete a.postBody,a.pendingToken=r.a),a}ti.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function $C(r){if(r&&r.providerId&&r.signInMethod){var a={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new ti(r.providerId,a,r.signInMethod)}catch{}}return null}function vo(r,a){this.Qc=a||[],In(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(Qd(r)||{}).Ja||null,this.pb=null}vo.prototype.Ka=function(r){return this.Jb=ke(r),this};function Uw(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,r,[])}G(Uw,vo);function Yn(r){vo.call(this,r,il),this.a=[]}G(Yn,vo),Yn.prototype.Ca=function(r){return N(this.a,r)||this.a.push(r),this},Yn.prototype.Rb=function(){return re(this.a)},Yn.prototype.credential=function(r,a){var c;if(E(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:a||null},!c.idToken&&!c.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new ti(this.providerId,c,this.providerId)};function go(){Yn.call(this,"facebook.com")}G(go,Yn),pe(go,"PROVIDER_ID","facebook.com"),pe(go,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function Vw(r){if(!r)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=r;return E(r)&&(a=r.accessToken),new go().credential({accessToken:a})}function yo(){Yn.call(this,"github.com")}G(yo,Yn),pe(yo,"PROVIDER_ID","github.com"),pe(yo,"GITHUB_SIGN_IN_METHOD","github.com");function jw(r){if(!r)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=r;return E(r)&&(a=r.accessToken),new yo().credential({accessToken:a})}function _o(){Yn.call(this,"google.com"),this.Ca("profile")}G(_o,Yn),pe(_o,"PROVIDER_ID","google.com"),pe(_o,"GOOGLE_SIGN_IN_METHOD","google.com");function Bw(r,a){var c=r;return E(r)&&(c=r.idToken,a=r.accessToken),new _o().credential({idToken:c,accessToken:a})}function Ts(){vo.call(this,"twitter.com",Rw)}G(Ts,vo),pe(Ts,"PROVIDER_ID","twitter.com"),pe(Ts,"TWITTER_SIGN_IN_METHOD","twitter.com");function qw(r,a){var c=r;if(E(c)||(c={oauthToken:r,oauthTokenSecret:a}),!c.oauthToken||!c.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ti("twitter.com",c,"twitter.com")}function Si(r,a,c){this.a=r,this.f=a,pe(this,"providerId","password"),pe(this,"signInMethod",c===lr.EMAIL_LINK_SIGN_IN_METHOD?lr.EMAIL_LINK_SIGN_IN_METHOD:lr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Si.prototype.ka=function(r){return this.signInMethod==lr.EMAIL_LINK_SIGN_IN_METHOD?Ge(r,kR,{email:this.a,oobCode:this.f}):Ge(r,v0,{email:this.a,password:this.f})},Si.prototype.b=function(r,a){return this.signInMethod==lr.EMAIL_LINK_SIGN_IN_METHOD?Ge(r,xR,{idToken:a,email:this.a,oobCode:this.f}):Ge(r,m0,{idToken:a,email:this.a,password:this.f})},Si.prototype.c=function(r,a){return Es(this.ka(r),a)},Si.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function HC(r){return r&&r.email&&r.password?new Si(r.email,r.password,r.signInMethod):null}function lr(){In(this,{providerId:"password",isOAuthProvider:!1})}function $w(r,a){if(a=tp(a),!a)throw new x("argument-error","Invalid email link!");return new Si(r,a.code,lr.EMAIL_LINK_SIGN_IN_METHOD)}function tp(r){return r=Fw(r),(r=bw(r))&&r.operation===Zc?r:null}In(lr,{PROVIDER_ID:"password"}),In(lr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),In(lr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Ai(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new x("internal-error");this.a=r,pe(this,"providerId","phone"),this.fa="phone",pe(this,"signInMethod","phone")}Ai.prototype.ka=function(r){return r.gb(eu(this))},Ai.prototype.b=function(r,a){var c=eu(this);return c.idToken=a,Ge(r,WR,c)},Ai.prototype.c=function(r,a){var c=eu(this);return c.operation="REAUTH",r=Ge(r,XR,c),Es(r,a)},Ai.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function KC(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var a={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(a[c]=r[c])}),new Ai(a)}return null}function eu(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function ni(r){try{this.a=r||Ce.auth()}catch{throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}In(this,{providerId:"phone",isOAuthProvider:!1})}ni.prototype.gb=function(r,a){var c=this.a.a;return Te(a.verify()).then(function(d){if(typeof d!="string")throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var g=E(r)?r.session:null,w=E(r)?r.phoneNumber:r,b;return g&&g.type==Za?b=g.Ha().then(function(S){return yR(c,{idToken:S,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:d}})}):g&&g.type==sl?b=g.Ha().then(function(S){return _R(c,{mfaPendingCredential:S,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):b=gR(c,{phoneNumber:w,recaptchaToken:d}),b.then(function(S){return typeof a.reset=="function"&&a.reset(),S},function(S){throw typeof a.reset=="function"&&a.reset(),S});default:throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Hw(r,a){if(!r)throw new x("missing-verification-id");if(!a)throw new x("missing-verification-code");return new Ai({fb:r,eb:a})}In(ni,{PROVIDER_ID:"phone"}),In(ni,{PHONE_SIGN_IN_METHOD:"phone"});function np(r){if(r.temporaryProof&&r.phoneNumber)return new Ai({La:r.temporaryProof,ea:r.phoneNumber});var a=r&&r.providerId;if(!a||a==="password")return null;var c=r&&r.oauthAccessToken,d=r&&r.oauthTokenSecret,g=r&&r.nonce,w=r&&r.oauthIdToken,b=r&&r.pendingToken;try{switch(a){case"google.com":return Bw(w,c);case"facebook.com":return Vw(c);case"github.com":return jw(c);case"twitter.com":return qw(c,d);default:return c||d||w||b?b?a.indexOf("saml.")==0?new mo(a,b):new ti(a,{pendingToken:b,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},a):new Yn(a).credential({idToken:w,accessToken:c,rawNonce:g}):null}}catch{return null}}function rp(r){if(!r.isOAuthProvider)throw new x("invalid-oauth-provider")}function _r(r,a,c,d,g,w,b){if(this.c=r,this.b=a||null,this.g=c||null,this.f=d||null,this.i=w||null,this.h=b||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}else throw new x("invalid-auth-event")}_r.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},_r.prototype.T=function(){return this.h},_r.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Kw(r){return r=r||{},r.type?new _r(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&Ke(r.error),r.postBody,r.tenantId):null}function GC(){this.b=null,this.a=[]}var ip=null;function zC(r){var a=ip;a.a.push(r),a.b||(a.b=function(c){for(var d=0;d<a.a.length;d++)a.a[d](c)},r=Et("universalLinks.subscribe",f),typeof r=="function"&&r(null,a.b))}function op(r){var a="unauthorized-domain",c=void 0,d=Mn(r);r=d.a,d=d.c,d=="chrome-extension"?c=m_("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):d=="http"||d=="https"?c=m_("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):a="operation-not-supported-in-this-environment",x.call(this,a,c)}G(op,x);function tu(r,a,c){x.call(this,r,c),r=a||{},r.Kb&&pe(this,"email",r.Kb),r.ea&&pe(this,"phoneNumber",r.ea),r.credential&&pe(this,"credential",r.credential),r.$b&&pe(this,"tenantId",r.$b)}G(tu,x),tu.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&qe(r,a),r},tu.prototype.toJSON=function(){return this.w()};function al(r){if(r.code){var a=r.code||"";a.indexOf(ot)==0&&(a=a.substring(ot.length));var c={credential:np(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new x(a,r.message||void 0);return new tu(a,c,r.message)}return null}function nu(){}nu.prototype.c=null;function Gw(r){return r.c||(r.c=r.b())}var sp;function ul(){}G(ul,nu),ul.prototype.a=function(){var r=zw(this);return r?new ActiveXObject(r):new XMLHttpRequest},ul.prototype.b=function(){var r={};return zw(this)&&(r[0]=!0,r[1]=!0),r};function zw(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<a.length;c++){var d=a[c];try{return new ActiveXObject(d),r.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}sp=new ul;function cl(){}G(cl,nu),cl.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new Ww;throw Error("Unsupported browser")},cl.prototype.b=function(){return{}};function Ww(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=U(this.qc,this),this.a.onerror=U(this.Tb,this),this.a.onprogress=U(this.rc,this),this.a.ontimeout=U(this.vc,this)}e=Ww.prototype,e.open=function(r,a,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,a)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ap(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",ap(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,ap(this,1)};function ap(r,a){r.readyState=a,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function up(r,a,c){this.reset(r,a,c,void 0,void 0)}up.prototype.a=null,up.prototype.reset=function(r,a,c,d,g){delete this.a};function cp(r){this.f=r,this.b=this.c=this.a=null}function ru(r,a){this.name=r,this.value=a}ru.prototype.toString=function(){return this.name};var Xw=new ru("SEVERE",1e3),lp=new ru("WARNING",900),WC=new ru("CONFIG",700),XC=new ru("FINE",500);function Qw(r){return r.c?r.c:r.a?Qw(r.a):(Pt("Root logger has no level set."),null)}cp.prototype.log=function(r,a,c){if(r.value>=Qw(this).value)for(I(a)&&(a=a()),r=new up(r,String(a),this.f),c&&(r.a=c),c=this;c;)c=c.a};var fp={},ll=null;function hp(r){ll||(ll=new cp(""),fp[""]=ll,ll.c=WC);var a;if(!(a=fp[r])){a=new cp(r);var c=r.lastIndexOf("."),d=r.substr(c+1);c=hp(r.substr(0,c)),c.b||(c.b={}),c.b[d]=a,a.a=c,fp[r]=a}return a}function fr(r,a){r&&r.log(XC,a,void 0)}function fl(r){this.f=r}G(fl,nu),fl.prototype.a=function(){return new hl(this.f)},fl.prototype.b=function(r){return function(){return r}}({});function hl(r){bn.call(this),this.u=r,this.h=void 0,this.readyState=dp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=hp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}G(hl,bn);var dp=0;e=hl.prototype,e.open=function(r,a){if(this.readyState!=dp)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=a,this.readyState=1,ou(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(a.body=r),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,iu(this)),this.readyState=dp},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,ou(this)),this.a&&(this.readyState=3,ou(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,Yw(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Yw(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var a=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});a&&(this.response=this.responseText+=a),r.done?iu(this):ou(this),this.readyState==3&&Yw(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,iu(this))},e.sc=function(r){this.a&&(this.response=r,iu(this))},e.Va=function(r){var a=this.i;a&&a.log(lp,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&iu(this)};function iu(r){r.readyState=4,r.g=null,r.c=null,r.m=null,ou(r)}e.setRequestHeader=function(r,a){this.l.append(r,a)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(lp,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(lp,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var a=this.b.entries(),c=a.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=a.next();return r.join(`\r
`)};function ou(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(hl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function su(r){bn.call(this),this.headers=new vs,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Jw,this.u=this.S=!1}G(su,bn);var Jw="";su.prototype.b=hp("goog.net.XhrIo");var QC=/^https?$/i,YC=["POST","PUT"];function JC(r,a,c,d,g){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+a);c=c?c.toUpperCase():"GET",r.l=a,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():sp.a(),r.C=r.D?Gw(r.D):Gw(sp),r.a.onreadystatechange=U(r.Wb,r);try{fr(r.b,ri(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(a),!0),r.N=!1}catch(b){fr(r.b,ri(r,"Error opening Xhr: "+b.message)),Zw(r,b);return}a=d||"";var w=new vs(r.headers);g&&iC(g,function(b,S){w.set(S,b)}),g=k(w.Y()),d=f.FormData&&a instanceof f.FormData,!N(YC,c)||g||d||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(b,S){this.a.setRequestHeader(S,b)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{n0(r),0<r.g&&(r.u=ZC(r.a),fr(r.b,ri(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=U(r.Ma,r)):r.s=Ad(r.Ma,r.g,r)),fr(r.b,ri(r,"Sending request")),r.i=!0,r.a.send(a),r.i=!1}catch(b){fr(r.b,ri(r,"Send error: "+b.message)),Zw(r,b)}}function ZC(r){return gr&&__(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function eR(r){return r.toLowerCase()=="content-type"}e=su.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fr(this.b,ri(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Zw(r,a){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=a,e0(r),dl(r)}function e0(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(fr(this.b,ri(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),dl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),dl(this,!0)),su.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?t0(this):this.Jc())},e.Jc=function(){t0(this)};function t0(r){if(r.c&&typeof l<"u"){if(r.C[1]&&au(r)==4&&pl(r)==2)fr(r.b,ri(r,"Local request error detected and ignored"));else if(r.i&&au(r)==4)Ad(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),au(r)==4){fr(r.b,ri(r,"Request complete")),r.c=!1;try{var a=pl(r);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var g;if(g=a===0){var w=String(r.l).match(W_)[1]||null;if(!w&&f.self&&f.self.location){var b=f.self.location.protocol;w=b.substr(0,b.length-1)}g=!QC.test(w?w.toLowerCase():"")}d=g}if(d)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var S=2<au(r)?r.a.statusText:""}catch(j){fr(r.b,"Can not get status: "+j.message),S=""}r.h=S+" ["+pl(r)+"]",e0(r)}}finally{dl(r)}}}}function dl(r,a){if(r.a){n0(r);var c=r.a,d=r.C[0]?m:null;r.a=null,r.C=null,a||r.dispatchEvent("ready");try{c.onreadystatechange=d}catch(g){(r=r.b)&&r.log(Xw,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function n0(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function au(r){return r.a?r.a.readyState:0}function pl(r){try{return 2<au(r)?r.a.status:-1}catch{return-1}}function tR(r){try{return r.a?r.a.responseText:""}catch(a){return fr(r.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Jw:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(Xw,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return fr(this.b,"Can not get response: "+a.message),null}};function ri(r,a){return a+" ["+r.P+" "+r.l+" "+pl(r)+"]"}function wo(r){var a=iR;this.g=[],this.u=a,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}wo.prototype.cancel=function(r){if(this.a)this.c instanceof wo&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,r?a.cancel(r):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new cu,ml(this),uu(this,!1,r))}},wo.prototype.m=function(r,a){this.i=!1,uu(this,r,a)};function uu(r,a,c){r.a=!0,r.c=c,r.f=!a,i0(r)}function ml(r){if(r.a){if(!r.v)throw new vl;r.v=!1}}function nR(r,a){pp(r,null,a,void 0)}function pp(r,a,c,d){r.g.push([a,c,d]),r.a&&i0(r)}wo.prototype.then=function(r,a,c){var d,g,w=new He(function(b,S){d=b,g=S});return pp(this,d,function(b){b instanceof cu?w.cancel():g(b)}),w.then(r,a,c)},wo.prototype.$goog_Thenable=!0;function r0(r){return A(r.g,function(a){return I(a[1])})}function i0(r){if(r.h&&r.a&&r0(r)){var a=r.h,c=gl[a];c&&(f.clearTimeout(c.a),delete gl[a]),r.h=0}r.b&&(r.b.l--,delete r.b),a=r.c;for(var d=c=!1;r.g.length&&!r.i;){var g=r.g.shift(),w=g[0],b=g[1];if(g=g[2],w=r.f?b:w)try{var S=w.call(g||r.s,a);S!==void 0&&(r.f=r.f&&(S==a||S instanceof Error),r.c=a=S),(De(a)||typeof f.Promise=="function"&&a instanceof f.Promise)&&(d=!0,r.i=!0)}catch(j){a=j,r.f=!0,r0(r)||(c=!0)}}r.c=a,d&&(S=U(r.m,r,!0),d=U(r.m,r,!1),a instanceof wo?(pp(a,S,d),a.C=!0):a.then(S,d)),c&&(a=new o0(a),gl[a.a]=a,r.h=a.a)}function vl(){Ie.call(this)}G(vl,Ie),vl.prototype.message="Deferred has already fired",vl.prototype.name="AlreadyCalledError";function cu(){Ie.call(this)}G(cu,Ie),cu.prototype.message="Deferred was canceled",cu.prototype.name="CanceledError";function o0(r){this.a=f.setTimeout(U(this.c,this),0),this.b=r}o0.prototype.c=function(){throw delete gl[this.a],this.b};var gl={};function mp(r){var a={},c=a.document||document,d=hs(r).toString(),g=qc(document,"SCRIPT"),w={Xb:g,Ma:void 0},b=new wo(w),S=null,j=a.timeout!=null?a.timeout:5e3;return 0<j&&(S=window.setTimeout(function(){yl(g,!0);var W=new vp(sR,"Timeout reached for loading script "+d);ml(b),uu(b,!1,W)},j),w.Ma=S),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(yl(g,a.xd||!1,S),ml(b),uu(b,!0,null))},g.onerror=function(){yl(g,!0,S);var W=new vp(oR,"Error while loading script "+d);ml(b),uu(b,!1,W)},w=a.attributes||{},qe(w,{type:"text/javascript",charset:"UTF-8"}),b_(g,w),Lx(g,r),rR(c).appendChild(g),b}function rR(r){var a;return(a=(r||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:r.documentElement}function iR(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&yl(r,!0,this.Ma)}}function yl(r,a,c){c!=null&&f.clearTimeout(c),r.onload=m,r.onerror=m,r.onreadystatechange=m,a&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var oR=0,sR=1;function vp(r,a){var c="Jsloader error (code #"+r+")";a&&(c+=": "+a),Ie.call(this,c),this.code=r}G(vp,Ie);function _l(r){this.f=r}G(_l,nu),_l.prototype.a=function(){return new this.f},_l.prototype.b=function(){return{}};function wr(r,a,c){if(this.c=r,r=a||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||aR,this.g=ke(r.secureTokenHeaders||uR),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||cR,this.a=ke(r.firebaseHeaders||lR),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Fr()=="Node",c=f.XMLHttpRequest||c&&Ce.INTERNAL.node&&Ce.INTERNAL.node.XMLHttpRequest,!c&&!yr())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,yr()?this.f=new fl(self):sw()?this.f=new _l(c):this.f=new cl,this.b=null}var gp,br="idToken",aR=new Ti(3e4,6e4),uR={"Content-Type":"application/x-www-form-urlencoded"},cR=new Ti(3e4,6e4),lR={"Content-Type":"application/json"};function s0(r,a){a?r.a["X-Firebase-Locale"]=a:delete r.a["X-Firebase-Locale"]}function wl(r,a){a&&(r.l=yp("https://securetoken.googleapis.com/v1/token",a),r.h=yp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),r.i=yp("https://identitytoolkit.googleapis.com/v2/",a))}function yp(r,a){return r=Mn(r),a=Mn(a.url),r.f=r.a+r.f,qa(r,a.c),r.a=a.a,$a(r,a.g),r.toString()}function a0(r,a){a?(r.a["X-Client-Version"]=a,r.g["X-Client-Version"]=a):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}wr.prototype.T=function(){return this.b};function u0(r,a,c,d,g,w,b){pC()||yr()?r=U(r.u,r):(gp||(gp=new He(function(S,j){hR(S,j)})),r=U(r.s,r)),r(a,c,d,g,w,b)}wr.prototype.u=function(r,a,c,d,g,w){if(yr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new su(this.f);if(w){b.g=Math.max(0,w);var S=setTimeout(function(){b.dispatchEvent("timeout")},w)}K_(b,"complete",function(){S&&clearTimeout(S);var j=null;try{j=JSON.parse(tR(this))||null}catch{j=null}a&&a(j)}),Sd(b,"ready",function(){S&&clearTimeout(S),U_(this)}),Sd(b,"timeout",function(){S&&clearTimeout(S),U_(this),a&&a(null)}),JC(b,r,c,d,g)};var fR=new $e(Dr,"https://apis.google.com/js/client.js?onload=%{onload}"),c0="__fcb"+Math.floor(1e6*Math.random()).toString();function hR(r,a){if(((window.gapi||{}).client||{}).request)r();else{f[c0]=function(){((window.gapi||{}).client||{}).request?r():a(Error("CORS_UNSUPPORTED"))};var c=ad(fR,{onload:c0});nR(mp(c),function(){a(Error("CORS_UNSUPPORTED"))})}}wr.prototype.s=function(r,a,c,d,g){var w=this;gp.then(function(){window.gapi.client.setApiKey(w.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:d,headers:g,authType:"none",callback:function(S){window.gapi.auth.setToken(b),a&&a(S)}})}).o(function(b){a&&a({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function dR(r,a){return new He(function(c,d){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?u0(r,r.l+"?key="+encodeURIComponent(r.c),function(g){g?g.error?d(Ap(g)):g.access_token&&g.refresh_token?c(g):d(new x("internal-error")):d(new x("network-request-failed"))},"POST",Q_(a).toString(),r.g,r.m.get()):d(new x("internal-error"))})}function l0(r,a,c,d,g,w,b){var S=Mn(a+c);Dt(S,"key",r.c),b&&Dt(S,"cb",Date.now().toString());var j=d=="GET";if(j)for(var W in g)g.hasOwnProperty(W)&&Dt(S,W,g[W]);return new He(function(Pe,lt){u0(r,S.toString(),function(nt){nt?nt.error?lt(Ap(nt,w||{})):Pe(nt):lt(new x("network-request-failed"))},d,j?void 0:Z_(cw(g)),r.a,r.v.get())})}function bo(r){if(r=r.email,typeof r!="string"||!gC.test(r))throw new x("invalid-email")}function f0(r){"email"in r&&bo(r)}function pR(r,a){return Ge(r,TR,{identifier:a,continueUri:Jc()?Ga():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function mR(r){return Ge(r,MR,{}).then(function(a){return a.authorizedDomains||[]})}function Fn(r){if(!r[br])throw r.mfaPendingCredential?new x("multi-factor-auth-required",null,ke(r)):new x("internal-error")}function _p(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new x("internal-error")}else{if(!r.sessionInfo)throw new x("missing-verification-id");if(!r.code)throw new x("missing-verification-code")}}wr.prototype.Ab=function(){return Ge(this,jR,{})},wr.prototype.Cb=function(r,a){return Ge(this,p0,{idToken:r,email:a})},wr.prototype.Db=function(r,a){return Ge(this,m0,{idToken:r,password:a})};var vR={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=wr.prototype,e.Eb=function(r,a){var c={idToken:r},d=[];return Ae(vR,function(g,w){var b=a[w];b===null?d.push(g):w in a&&(c[w]=b)}),d.length&&(c.deleteAttribute=d),Ge(this,p0,c)},e.wb=function(r,a){return r={requestType:"PASSWORD_RESET",email:r},qe(r,a),Ge(this,LR,r)},e.xb=function(r,a){return r={requestType:"EMAIL_SIGNIN",email:r},qe(r,a),Ge(this,OR,r)},e.vb=function(r,a){return r={requestType:"VERIFY_EMAIL",idToken:r},qe(r,a),Ge(this,PR,r)},e.Fb=function(r,a,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:a},qe(r,c),Ge(this,DR,r)};function gR(r,a){return Ge(r,VR,a)}e.gb=function(r){return Ge(this,zR,r)};function yR(r,a){return Ge(r,BR,a).then(function(c){return c.phoneSessionInfo.sessionInfo})}function h0(r){if(!r.phoneVerificationInfo)throw new x("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new x("missing-verification-code")}function _R(r,a){return Ge(r,qR,a).then(function(c){return c.phoneResponseInfo.sessionInfo})}function wR(r,a,c){return Ge(r,AR,{idToken:a,deleteProvider:c})}function wp(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new x("internal-error")}function bp(r,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(r.sessionId?a.nonce=r.sessionId:r.postBody&&(r=new lo(r.postBody),Cd(r,"nonce")&&(a.nonce=r.get("nonce")))),a}function d0(r){var a=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",a=al(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",a=al(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",a=al(r)):r.errorMessage&&(a=g0(r.errorMessage)),a)throw a;Fn(r)}function Ip(r,a){return a.returnIdpCredential=!0,Ge(r,$R,a)}function Ep(r,a){return a.returnIdpCredential=!0,Ge(r,KR,a)}function Tp(r,a){return a.returnIdpCredential=!0,a.autoCreate=!1,Ge(r,HR,a)}function Sp(r){if(!r.oobCode)throw new x("invalid-action-code")}e.ob=function(r,a){return Ge(this,UR,{oobCode:r,newPassword:a})},e.Sa=function(r){return Ge(this,IR,{oobCode:r})},e.kb=function(r){return Ge(this,bR,{oobCode:r})};var bR={endpoint:"setAccountInfo",A:Sp,Z:"email",B:!0},IR={endpoint:"resetPassword",A:Sp,G:function(r){var a=r.requestType;if(!a||!r.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},B:!0},ER={endpoint:"signupNewUser",A:function(r){if(bo(r),!r.password)throw new x("weak-password")},G:Fn,V:!0,B:!0},TR={endpoint:"createAuthUri",B:!0},SR={endpoint:"deleteAccount",O:["idToken"]},AR={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new x("internal-error")}},kR={endpoint:"emailLinkSignin",O:["email","oobCode"],A:bo,G:Fn,V:!0,B:!0},xR={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:bo,G:Fn,V:!0},CR={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:h0,G:Fn,B:!0,Na:!0},RR={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:h0,G:Fn,B:!0,Na:!0},NR={endpoint:"getAccountInfo"},OR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new x("internal-error");bo(r)},Z:"email",B:!0},PR={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new x("internal-error")},Z:"email",B:!0},DR={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},Z:"email",B:!0},LR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new x("internal-error");bo(r)},Z:"email",B:!0},MR={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},FR={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new x("internal-error")}},UR={endpoint:"resetPassword",A:Sp,Z:"email",B:!0},VR={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},p0={endpoint:"setAccountInfo",O:["idToken"],A:f0,V:!0},m0={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(f0(r),!r.password)throw new x("weak-password")},G:Fn,V:!0},jR={endpoint:"signupNewUser",G:Fn,V:!0,B:!0},BR={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new x("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},qR={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},$R={endpoint:"verifyAssertion",A:wp,Za:bp,G:d0,V:!0,B:!0},HR={endpoint:"verifyAssertion",A:wp,Za:bp,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new x("user-not-found");if(r.errorMessage)throw g0(r.errorMessage);Fn(r)},V:!0,B:!0},KR={endpoint:"verifyAssertion",A:function(r){if(wp(r),!r.idToken)throw new x("internal-error")},Za:bp,G:d0,V:!0},GR={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new x("invalid-custom-token")},G:Fn,V:!0,B:!0},v0={endpoint:"verifyPassword",A:function(r){if(bo(r),!r.password)throw new x("wrong-password")},G:Fn,V:!0,B:!0},zR={endpoint:"verifyPhoneNumber",A:_p,G:Fn,B:!0},WR={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new x("internal-error");_p(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",al(r);Fn(r)}},XR={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:_p,G:Fn,B:!0},QR={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[br]^!!r.refreshToken)throw new x("internal-error")},B:!0,Na:!0};function Ge(r,a,c){if(!TC(c,a.O))return It(new x("internal-error"));var d=!!a.Na,g=a.Vb||"POST",w;return Te(c).then(a.A).then(function(){return a.V&&(c.returnSecureToken=!0),a.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),d?l0(r,r.i,a.endpoint,g,c,a.Ib,a.mb||!1):l0(r,r.h,a.endpoint,g,c,a.Ib,a.mb||!1)}).then(function(b){return w=b,a.Za?a.Za(c,w):w}).then(a.G).then(function(){if(!a.Z)return w;if(!(a.Z in w))throw new x("internal-error");return w[a.Z]})}function g0(r){return Ap({error:{errors:[{message:r}],code:400,message:r}})}function Ap(r,a){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=d[c]?new x(d[c]):null)return c;c=r.error&&r.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},qe(d,a||{}),a=(a=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var g in d)if(c.indexOf(g)===0)return new x(d[g],a);return!a&&r&&(a=Wa(r)),new x("internal-error",a)}function YR(r){this.b=r,this.a=null,this.sb=JR(this)}function JR(r){return iN().then(function(){return new He(function(a,c){Et("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:Et("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function g(){clearTimeout(w),a()}r.a=d,r.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){c(Error("Network Error"))},rN.get());d.ping(g).then(g,function(){c(Error("Network Error"))})})})})}function ZR(r,a){return r.sb.then(function(){return new He(function(c){r.a.send(a.type,a,c,Et("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function eN(r,a){r.sb.then(function(){r.a.register("authEvent",a,Et("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var tN=new $e(Dr,"https://apis.google.com/js/api.js?onload=%{onload}"),nN=new Ti(3e4,6e4),rN=new Ti(5e3,15e3),bl=null;function iN(){return bl||(bl=new He(function(r,a){function c(){fw(),Et("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){fw(),a(Error("Network Error"))},timeout:nN.get()})}if(Et("gapi.iframes.Iframe"))r();else if(Et("gapi.load"))c();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[d]=function(){Et("gapi.load")?c():a(Error("Network Error"))},d=ad(tN,{onload:d}),Te(mp(d)).o(function(){a(Error("Network Error"))})}}).o(function(r){throw bl=null,r}))}function y0(r,a,c,d){this.l=r,this.h=a,this.i=c,this.g=d,this.f=null,this.g?(r=Mn(this.g.url),r=Qc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Qc("https",this.l,null,"/__/auth/iframe"),this.a=r,Dt(this.a,"apiKey",this.h),Dt(this.a,"appName",this.i),this.b=null,this.c=[]}y0.prototype.toString=function(){return this.f?Dt(this.a,"v",this.f):Mr(this.a.b,"v"),this.b?Dt(this.a,"eid",this.b):Mr(this.a.b,"eid"),this.c.length?Dt(this.a,"fw",this.c.join(",")):Mr(this.a.b,"fw"),this.a.toString()};function kp(r,a,c,d,g,w){this.u=r,this.s=a,this.c=c,this.m=d,this.v=w,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}kp.prototype.zb=function(r){return this.h=r,this},kp.prototype.toString=function(){if(this.v){var r=Mn(this.v.url);r=Qc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Qc("https",this.u,null,"/__/auth/handler");if(Dt(r,"apiKey",this.s),Dt(r,"appName",this.c),Dt(r,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var c=Ce.app(this.c).auth().la()}catch{c=null}a.pb=c,Dt(r,"providerId",this.a.providerId),c=this.a,a=cw(c.Jb);for(var d in a)a[d]=a[d].toString();d=c.Qc,a=ke(a);for(var g=0;g<d.length;g++){var w=d[g];w in a&&delete a[w]}c.qb&&c.pb&&!a[c.qb]&&(a[c.qb]=c.pb),me(a)||Dt(r,"customParameters",Wa(a))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Dt(r,"scopes",c.join(","))),this.l?Dt(r,"redirectUrl",this.l):Mr(r.b,"redirectUrl"),this.g?Dt(r,"eventId",this.g):Mr(r.b,"eventId"),this.i?Dt(r,"v",this.i):Mr(r.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!cr(r,b)&&Dt(r,b,this.b[b]);return this.h?Dt(r,"tid",this.h):Mr(r.b,"tid"),this.f?Dt(r,"eid",this.f):Mr(r.b,"eid"),b=xp(this.c),b.length&&Dt(r,"fw",b.join(",")),r.toString()};function xp(r){try{return Ce.app(r).auth().Ga()}catch{return[]}}function _0(r,a,c,d,g,w){this.s=r,this.g=a,this.b=c,this.f=w,this.c=d||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function w0(r){var a=Ga();return mR(r).then(function(c){e:{var d=Mn(a),g=d.c;d=d.a;for(var w=0;w<c.length;w++){var b=c[w],S=d,j=g;if(b.indexOf("chrome-extension://")==0?S=Mn(b).a==S&&j=="chrome-extension":j!="http"&&j!="https"?S=!1:vC.test(b)?S=S==b:(b=b.split(".").join("\\."),S=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(S)),S){c=!0;break e}}c=!1}if(!c)throw new op(Ga())})}function b0(r){return r.m||(r.m=Yc().then(function(){if(!r.u){var a=r.c,c=r.i,d=xp(r.b),g=new y0(r.s,r.g,r.b,r.f);g.f=a,g.b=c,g.c=re(d||[]),r.u=g.toString()}r.v=new YR(r.u),oN(r)})),r.m}e=_0.prototype,e.Pb=function(r,a,c){var d=new x("popup-closed-by-user"),g=new x("web-storage-unsupported"),w=this,b=!1;return this.ma().then(function(){sN(w).then(function(S){S||(r&&fo(r),a(g),b=!0)})}).o(function(){}).then(function(){if(!b)return mC(r)}).then(function(){if(!b)return ms(c).then(function(){a(d)})})},e.Yb=function(){var r=rn();return!za(r)&&!lw(r)},e.Ub=function(){return!1},e.Nb=function(r,a,c,d,g,w,b,S){if(!r)return It(new x("popup-blocked"));if(b&&!za())return this.ma().o(function(W){fo(r),g(W)}),d(),Te();this.a||(this.a=w0(I0(this)));var j=this;return this.a.then(function(){var W=j.ma().o(function(Pe){throw fo(r),g(Pe),Pe});return d(),W}).then(function(){if(rp(c),!b){var W=lu(j.s,j.g,j.b,a,c,null,w,j.c,void 0,j.i,S,j.f);nw(W,r)}}).o(function(W){throw W.code=="auth/network-request-failed"&&(j.a=null),W})};function I0(r){return r.l||(r.C=r.c?_s(r.c,xp(r.b)):null,r.l=new wr(r.g,We(r.i),r.C),r.f&&wl(r.l,r.f)),r.l}e.Ob=function(r,a,c,d){this.a||(this.a=w0(I0(this)));var g=this;return this.a.then(function(){rp(a);var w=lu(g.s,g.g,g.b,r,a,Ga(),c,g.c,void 0,g.i,d,g.f);nw(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(g.a=null),w})},e.ma=function(){var r=this;return b0(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new x("network-request-failed")})},e.ac=function(){return!0};function lu(r,a,c,d,g,w,b,S,j,W,Pe,lt){return r=new kp(r,a,c,d,g,lt),r.l=w,r.g=b,r.i=S,r.b=ke(j||null),r.f=W,r.zb(Pe).toString()}function oN(r){if(!r.v)throw Error("IfcHandler must be initialized!");eN(r.v,function(a){var c={};if(a&&a.authEvent){var d=!1;for(a=Kw(a.authEvent),c=0;c<r.h.length;c++)d=r.h[c](a)||d;return c={},c.status=d?"ACK":"ERROR",Te(c)}return c.status="ERROR",Te(c)})}function sN(r){var a={type:"webStorageSupport"};return b0(r).then(function(){return ZR(r.v,a)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){B(this.h,function(a){return a==r})};function E0(r){if(this.a=r||Ce.INTERNAL.reactNative&&Ce.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=E0.prototype,e.get=function(r){return Te(this.a.getItem(r)).then(function(a){return a&&bs(a)})},e.set=function(r,a){return Te(this.a.setItem(r,Wa(a)))},e.U=function(r){return Te(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function T0(r){this.b=r,this.a={},this.f=U(this.c,this)}var S0=[];function aN(){var r=yr()?self:null;if(q(S0,function(c){c.b==r&&(a=c)}),!a){var a=new T0(r);S0.push(a)}return a}T0.prototype.c=function(r){var a=r.data.eventType,c=r.data.eventId,d=this.a[a];if(d&&0<d.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:a,response:null});var g=[];q(d,function(w){g.push(Te().then(function(){return w(r.origin,r.data.data)}))}),C_(g).then(function(w){var b=[];q(w,function(S){b.push({fulfilled:S.Qb,value:S.value,reason:S.reason?S.reason.message:void 0})}),q(b,function(S){for(var j in S)typeof S[j]>"u"&&delete S[j]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:a,response:b})})}};function A0(r,a,c){me(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[a]>"u"&&(r.a[a]=[]),r.a[a].push(c)}function k0(r){this.a=r}k0.prototype.postMessage=function(r,a){this.a.postMessage(r,a)};function x0(r){this.c=r,this.b=!1,this.a=[]}function C0(r,a,c,d){var g,w=c||{},b,S,j,W=null;if(r.b)return It(Error("connection_unavailable"));var Pe=d?800:50,lt=typeof MessageChannel<"u"?new MessageChannel:null;return new He(function(nt,Jt){lt?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),lt.port1.start(),S=setTimeout(function(){Jt(Error("unsupported_event"))},Pe),b=function(ii){ii.data.eventId===g&&(ii.data.status==="ack"?(clearTimeout(S),j=setTimeout(function(){Jt(Error("timeout"))},3e3)):ii.data.status==="done"?(clearTimeout(j),typeof ii.data.response<"u"?nt(ii.data.response):Jt(Error("unknown_error"))):(clearTimeout(S),clearTimeout(j),Jt(Error("invalid_response"))))},W={messageChannel:lt,onMessage:b},r.a.push(W),lt.port1.addEventListener("message",b),r.c.postMessage({eventType:a,eventId:g,data:w},[lt.port2])):Jt(Error("connection_unavailable"))}).then(function(nt){return Cp(r,W),nt}).o(function(nt){throw Cp(r,W),nt})}function Cp(r,a){if(a){var c=a.messageChannel,d=a.onMessage;c&&(c.port1.removeEventListener("message",d),c.port1.close()),B(r.a,function(g){return g==a})}}x0.prototype.close=function(){for(;0<this.a.length;)Cp(this,this.a[0]);this.b=!0};function R0(){if(!Op())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;yr()&&self?(this.v=aN(),A0(this.v,"keyChanged",function(a,c){return P0(r).then(function(d){return 0<d.length&&q(r.a,function(g){g(d)}),{keyProcessed:N(d,c.key)}})}),A0(this.v,"ping",function(){return Te(["keyChanged"])})):IC().then(function(a){(r.h=a)&&(r.g=new x0(new k0(a)),C0(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&N(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var Rp;function uN(r){return new He(function(a,c){var d=r.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){a()},d.onerror=function(g){c(Error(g.target.error))}})}function N0(r){return new He(function(a,c){var d=r.m.open("firebaseLocalStorageDb",1);d.onerror=function(g){try{g.preventDefault()}catch{}c(Error(g.target.error))},d.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){c(w)}},d.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?a(g):uN(r).then(function(){return N0(r)}).then(function(w){a(w)}).o(function(w){c(w)})}})}function Np(r){return r.i||(r.i=N0(r)),r.i}function Il(r,a){function c(g,w){Np(r).then(a).then(g).o(function(b){if(3<++d)w(b);else return Np(r).then(function(S){return S.close(),r.i=void 0,c(g,w)}).o(function(S){w(S)})})}var d=0;return new He(c)}function Op(){try{return!!f.indexedDB}catch{return!1}}function fu(r){return r.objectStore("firebaseLocalStorage")}function hu(r,a){return r.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function Ss(r){return new He(function(a,c){r.onsuccess=function(d){d&&d.target?a(d.target.result):a()},r.onerror=function(d){c(d.target.error)}})}e=R0.prototype,e.set=function(r,a){var c=this,d=!1;return Il(this,function(g){return g=fu(hu(g,!0)),Ss(g.get(r))}).then(function(g){return Il(c,function(w){if(w=fu(hu(w,!0)),g)return g.value=a,Ss(w.put(g));c.b++,d=!0;var b={};return b.fbase_key=r,b.value=a,Ss(w.add(b))})}).then(function(){return c.c[r]=a,O0(c,r)}).oa(function(){d&&c.b--})};function O0(r,a){return r.g&&r.h&&bC()===r.h?C0(r.g,"keyChanged",{key:a},r.s).then(function(){}).o(function(){}):Te()}e.get=function(r){return Il(this,function(a){return Ss(fu(hu(a,!1)).get(r))}).then(function(a){return a&&a.value})},e.U=function(r){var a=this,c=!1;return Il(this,function(d){return c=!0,a.b++,Ss(fu(hu(d,!0)).delete(r))}).then(function(){return delete a.c[r],O0(a,r)}).oa(function(){c&&a.b--})};function P0(r){return Np(r).then(function(a){var c=fu(hu(a,!1));return c.getAll?Ss(c.getAll()):new He(function(d,g){var w=[],b=c.openCursor();b.onsuccess=function(S){(S=S.target.result)?(w.push(S.value),S.continue()):d(w)},b.onerror=function(S){g(S.target.error)}})}).then(function(a){var c={},d=[];if(r.b==0){for(d=0;d<a.length;d++)c[a[d].fbase_key]=a[d].value;d=rw(r.c,c),r.c=c}return d})}e.ca=function(r){this.a.length==0&&cN(this),this.a.push(r)},e.ia=function(r){B(this.a,function(a){return a==r}),this.a.length==0&&D0(this)};function cN(r){function a(){r.f=setTimeout(function(){r.l=P0(r).then(function(c){0<c.length&&q(r.a,function(d){d(c)})}).then(function(){a()}).o(function(c){c.message!="STOP_EVENT"&&a()})},800)}D0(r),a()}function D0(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function L0(r){var a=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Te().then(function(){if(Op()){var d=po(),g="__sak"+d;return Rp||(Rp=new R0),c=Rp,c.set(g,d).then(function(){return c.get(g)}).then(function(w){if(w!==d)throw Error("indexedDB not supported!");return c.U(g)}).then(function(){return c}).o(function(){return a.c})}return a.c}).then(function(d){return a.type=d.type,d.ca(function(g){q(a.a,function(w){w(g)})}),d})}e=L0.prototype,e.get=function(r){return this.b.then(function(a){return a.get(r)})},e.set=function(r,a){return this.b.then(function(c){return c.set(r,a)})},e.U=function(r){return this.b.then(function(a){return a.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){B(this.a,function(a){return a==r})};function du(){this.a={},this.type="inMemory"}e=du.prototype,e.get=function(r){return Te(this.a[r])},e.set=function(r,a){return this.a[r]=a,Te()},e.U=function(r){return delete this.a[r],Te()},e.ca=function(){},e.ia=function(){};function El(){if(!lN())throw Fr()=="Node"?new x("internal-error","The LocalStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=M0()||Ce.INTERNAL.node.localStorage,this.type="localStorage"}function M0(){try{var r=f.localStorage,a=po();return r&&(r.setItem(a,"1"),r.removeItem(a)),r}catch{return null}}function lN(){var r=Fr()=="Node";if(r=M0()||r&&Ce.INTERNAL.node&&Ce.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=El.prototype,e.get=function(r){var a=this;return Te().then(function(){var c=a.a.getItem(r);return bs(c)})},e.set=function(r,a){var c=this;return Te().then(function(){var d=Wa(a);d===null?c.U(r):c.a.setItem(r,d)})},e.U=function(r){var a=this;return Te().then(function(){a.a.removeItem(r)})},e.ca=function(r){f.window&&ur(f.window,"storage",r)},e.ia=function(r){f.window&&Qn(f.window,"storage",r)};function Pp(){this.type="nullStorage"}e=Pp.prototype,e.get=function(){return Te(null)},e.set=function(){return Te()},e.U=function(){return Te()},e.ca=function(){},e.ia=function(){};function Dp(){if(!fN())throw Fr()=="Node"?new x("internal-error","The SessionStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=F0()||Ce.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function F0(){try{var r=f.sessionStorage,a=po();return r&&(r.setItem(a,"1"),r.removeItem(a)),r}catch{return null}}function fN(){var r=Fr()=="Node";if(r=F0()||r&&Ce.INTERNAL.node&&Ce.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=Dp.prototype,e.get=function(r){var a=this;return Te().then(function(){var c=a.a.getItem(r);return bs(c)})},e.set=function(r,a){var c=this;return Te().then(function(){var d=Wa(a);d===null?c.U(r):c.a.setItem(r,d)})},e.U=function(r){var a=this;return Te().then(function(){a.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function hN(){var r={};r.Browser=dN,r.Node=pN,r.ReactNative=mN,r.Worker=vN,this.a=r[Fr()]}var Lp,dN={F:El,cb:Dp},pN={F:El,cb:Dp},mN={F:E0,cb:Pp},vN={F:El,cb:Pp},As={rd:"local",NONE:"none",td:"session"};function gN(r){var a=new x("invalid-persistence-type"),c=new x("unsupported-persistence-type");e:{for(d in As)if(As[d]==r){var d=!0;break e}d=!1}if(!d||typeof r!="string")throw a;switch(Fr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!Op()&&r!=="none")throw c;break;default:if(!Ld()&&r!=="none")throw c}}function U0(){var r=!!(!lw(rn())&&Pd()),a=za(),c=Ld();this.m=r,this.h=a,this.l=c,this.a={},Lp||(Lp=new hN),r=Lp;try{this.g=!Nd()&&hw()||!f.indexedDB?new r.a.F:new L0(yr()?new du:new r.a.F)}catch{this.g=new du,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new du}this.v=new du,this.f=U(this.Zb,this),this.b={}}var Mp;function pu(){return Mp||(Mp=new U0),Mp}function Io(r,a){switch(a){case"session":return r.i;case"none":return r.v;default:return r.g}}function ks(r,a){return"firebase:"+r.name+(a?":"+a:"")}function yN(r,a,c){var d=ks(a,c),g=Io(r,a.F);return r.get(a,c).then(function(w){var b=null;try{b=bs(f.localStorage.getItem(d))}catch{}if(b&&!w)return f.localStorage.removeItem(d),r.set(a,b,c);b&&w&&g.type!="localStorage"&&f.localStorage.removeItem(d)})}e=U0.prototype,e.get=function(r,a){return Io(this,r.F).get(ks(r,a))};function xs(r,a,c){return c=ks(a,c),a.F=="local"&&(r.b[c]=null),Io(r,a.F).U(c)}e.set=function(r,a,c){var d=ks(r,c),g=this,w=Io(this,r.F);return w.set(d,a).then(function(){return w.get(d)}).then(function(b){r.F=="local"&&(g.b[d]=b)})},e.addListener=function(r,a,c){r=ks(r,a),this.l&&(this.b[r]=f.localStorage.getItem(r)),me(this.a)&&(Io(this,"local").ca(this.f),this.h||(Nd()||!hw())&&f.indexedDB||!this.l||_N(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,a,c){r=ks(r,a),this.a[r]&&(B(this.a[r],function(d){return d==c}),this.a[r].length==0&&delete this.a[r]),me(this.a)&&(Io(this,"local").ia(this.f),Fp(this))};function _N(r){Fp(r),r.c=setInterval(function(){for(var a in r.a){var c=f.localStorage.getItem(a),d=r.b[a];c!=d&&(r.b[a]=c,c=new uo({type:"storage",key:a,target:window,oldValue:d,newValue:c,a:!0}),r.Zb(c))}},1e3)}function Fp(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var a=r.a.key;if(a==null)for(var c in this.a){var d=this.b[c];typeof d>"u"&&(d=null);var g=f.localStorage.getItem(c);g!==d&&(this.b[c]=g,this.nb(c))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof r.a.a<"u"?Io(this,"local").ia(this.f):Fp(this),this.m){if(c=f.localStorage.getItem(a),d=r.a.newValue,d!==c)d!==null?f.localStorage.setItem(a,d):f.localStorage.removeItem(a);else if(this.b[a]===d&&typeof r.a.a>"u")return}var w=this;c=function(){(typeof r.a.a<"u"||w.b[a]!==f.localStorage.getItem(a))&&(w.b[a]=f.localStorage.getItem(a),w.nb(a))},gr&&bi&&bi==10&&f.localStorage.getItem(a)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else q(r,U(this.nb,this))},e.nb=function(r){this.a[r]&&q(this.a[r],function(a){a()})};function wN(r){this.a=r,this.b=pu()}var Up={name:"authEvent",F:"local"};function bN(r){return r.b.get(Up,r.a).then(function(a){return Kw(a)})}function IN(){this.a=pu()}function EN(){this.b=-1}function Tl(r,a){this.b=V0,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=a,this.l=f.Int32Array?new Int32Array(64):Array(64),Sl===void 0&&(f.Int32Array?Sl=new Int32Array(q0):Sl=q0),this.reset()}var Sl;G(Tl,EN);for(var V0=64,TN=V0-1,j0=[],Vp=0;Vp<TN;Vp++)j0[Vp]=0;var B0=z(128,j0);Tl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):re(this.h)};function jp(r){for(var a=r.f,c=r.l,d=0,g=0;g<a.length;)c[d++]=a[g]<<24|a[g+1]<<16|a[g+2]<<8|a[g+3],g=4*d;for(a=16;64>a;a++){g=c[a-15]|0,d=c[a-2]|0;var w=(c[a-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,b=(c[a-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[a]=w+b|0}d=r.a[0]|0,g=r.a[1]|0;var S=r.a[2]|0,j=r.a[3]|0,W=r.a[4]|0,Pe=r.a[5]|0,lt=r.a[6]|0;for(w=r.a[7]|0,a=0;64>a;a++){var nt=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&g^d&S^g&S)|0;b=W&Pe^~W&lt,w=w+((W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7))|0,b=b+(Sl[a]|0)|0,b=w+(b+(c[a]|0)|0)|0,w=lt,lt=Pe,Pe=W,W=j+b|0,j=S,S=g,g=d,d=b+nt|0}r.a[0]=r.a[0]+d|0,r.a[1]=r.a[1]+g|0,r.a[2]=r.a[2]+S|0,r.a[3]=r.a[3]+j|0,r.a[4]=r.a[4]+W|0,r.a[5]=r.a[5]+Pe|0,r.a[6]=r.a[6]+lt|0,r.a[7]=r.a[7]+w|0}function Bp(r,a,c){c===void 0&&(c=a.length);var d=0,g=r.c;if(typeof a=="string")for(;d<c;)r.f[g++]=a.charCodeAt(d++),g==r.b&&(jp(r),g=0);else if(_(a))for(;d<c;){var w=a[d++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");r.f[g++]=w,g==r.b&&(jp(r),g=0)}else throw Error("message must be string or array");r.c=g,r.g+=c}var q0=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function $0(){Tl.call(this,8,SN)}G($0,Tl);var SN=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function H0(r,a,c,d,g,w){this.v=r,this.i=a,this.l=c,this.m=d||null,this.u=g||null,this.s=w,this.h=a+":"+c,this.C=new IN,this.g=new wN(this.h),this.f=null,this.b=[],this.a=this.c=null}function Al(r){return new x("invalid-cordova-configuration",r)}e=H0.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=yC().then(function(){if(typeof Et("universalLinks.subscribe",f)!="function")throw Al("cordova-universal-links-plugin-fix is not installed");if(typeof Et("BuildInfo.packageName",f)>"u")throw Al("cordova-plugin-buildinfo is not installed");if(typeof Et("cordova.plugins.browsertab.openUrl",f)!="function")throw Al("cordova-plugin-browsertab is not installed");if(typeof Et("cordova.InAppBrowser.open",f)!="function")throw Al("cordova-plugin-inappbrowser is not installed")},function(){throw new x("cordova-not-ready")})};function AN(){for(var r=20,a=[];0<r;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return a.join("")}function kN(r){var a=new $0;Bp(a,r),r=[];var c=8*a.g;56>a.c?Bp(a,B0,56-a.c):Bp(a,B0,a.b-(a.c-56));for(var d=63;56<=d;d--)a.f[d]=c&255,c/=256;for(jp(a),d=c=0;d<a.i;d++)for(var g=24;0<=g;g-=8)r[c++]=a.a[d]>>g&255;return UC(r)}e.Pb=function(r,a){return a(new x("operation-not-supported-in-this-environment")),Te()},e.Nb=function(){return It(new x("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,a,c,d){if(this.c)return It(new x("redirect-operation-pending"));var g=this,w=f.document,b=null,S=null,j=null,W=null;return this.c=Te().then(function(){return rp(a),G0(g)}).then(function(){return xN(g,r,a,c,d)}).then(function(){return new He(function(Pe,lt){S=function(){var nt=Et("cordova.plugins.browsertab.close",f);return Pe(),typeof nt=="function"&&nt(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(S),j=function(){b||(b=ms(2e3).then(function(){lt(new x("redirect-cancelled-by-user"))}))},W=function(){Md()&&j()},w.addEventListener("resume",j,!1),rn().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",W,!1)}).o(function(Pe){return qp(g).then(function(){throw Pe})})}).oa(function(){j&&w.removeEventListener("resume",j,!1),W&&w.removeEventListener("visibilitychange",W,!1),b&&b.cancel(),S&&g.Ta(S),g.c=null})};function xN(r,a,c,d,g){var w=AN(),b=new _r(a,d,null,w,new x("no-auth-event"),null,g),S=Et("BuildInfo.packageName",f);if(typeof S!="string")throw new x("invalid-cordova-configuration");var j=Et("BuildInfo.displayName",f),W={};if(rn().toLowerCase().match(/iphone|ipad|ipod/))W.ibi=S;else if(rn().toLowerCase().match(/android/))W.apn=S;else return It(new x("operation-not-supported-in-this-environment"));j&&(W.appDisplayName=j),w=kN(w),W.sessionId=w;var Pe=lu(r.v,r.i,r.l,a,c,null,d,r.m,W,r.u,g,r.s);return r.ma().then(function(){var lt=r.h;return r.C.a.set(Up,b.w(),lt)}).then(function(){var lt=Et("cordova.plugins.browsertab.isAvailable",f);if(typeof lt!="function")throw new x("invalid-cordova-configuration");var nt=null;lt(function(Jt){if(Jt){if(nt=Et("cordova.plugins.browsertab.openUrl",f),typeof nt!="function")throw new x("invalid-cordova-configuration");nt(Pe)}else{if(nt=Et("cordova.InAppBrowser.open",f),typeof nt!="function")throw new x("invalid-cordova-configuration");Jt=rn(),r.a=nt(Pe,Jt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Jt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function K0(r,a){for(var c=0;c<r.b.length;c++)try{r.b[c](a)}catch{}}function G0(r){return r.f||(r.f=r.ma().then(function(){return new He(function(a){function c(d){return a(d),r.Ta(c),!1}r.Ea(c),CN(r)})})),r.f}function qp(r){var a=null;return bN(r.g).then(function(c){return a=c,c=r.g,xs(c.b,Up,c.a)}).then(function(){return a})}function CN(r){function a(b){d=!0,g&&g.cancel(),qp(r).then(function(S){var j=c;if(S&&b&&b.url){var W=null;j=Fw(b.url),j.indexOf("/__/auth/callback")!=-1&&(W=Mn(j),W=bs(cr(W,"firebaseError")||null),W=(W=typeof W=="object"?Ke(W):null)?new _r(S.c,S.b,null,null,W,null,S.T()):new _r(S.c,S.b,j,S.f,null,null,S.T())),j=W||c}K0(r,j)})}var c=new _r("unknown",null,null,null,new x("no-auth-event")),d=!1,g=ms(500).then(function(){return qp(r).then(function(){d||K0(r,c)})}),w=f.handleOpenURL;f.handleOpenURL=function(b){if(b.toLowerCase().indexOf(Et("BuildInfo.packageName",f).toLowerCase()+"://")==0&&a({url:b}),typeof w=="function")try{w(b)}catch(S){console.error(S)}},ip||(ip=new GC),zC(a)}e.Ea=function(r){this.b.push(r),G0(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new _r("unknown",null,null,null,new x("no-auth-event")),r(a))})},e.Ta=function(r){B(this.b,function(a){return a==r})};function RN(r){this.a=r,this.b=pu()}var $p={name:"pendingRedirect",F:"session"};function NN(r){return r.b.set($p,"pending",r.a)}function Hp(r){return xs(r.b,$p,r.a)}function ON(r){return r.b.get($p,r.a).then(function(a){return a=="pending"})}function kl(r,a,c,d){this.i={},this.u=0,this.D=r,this.v=a,this.m=c,this.J=d,this.h=[],this.f=!1,this.l=U(this.s,this),this.b=new Cl,this.C=new nb,this.g=new RN(Z0(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=z0(this.D,this.v,this.m,se,this.J)}function z0(r,a,c,d,g){var w=Ce.SDK_VERSION||null;return Od()?new H0(r,a,c,w,d,g):new _0(r,a,c,w,d,g)}kl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=z0(this.D,this.v,this.m,null,this.J),this.i={}};function W0(r){r.f||(r.f=!0,r.a.Ea(r.l));var a=r.a;return r.a.ma().o(function(c){throw r.a==a&&r.reset(),c})}function X0(r){r.a.Yb()&&W0(r).o(function(a){var c=new _r("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));Gp(a)&&r.s(c)}),r.a.Ub()||eb(r.b)}function xl(r,a){N(r.h,a)||r.h.push(a),r.f||ON(r.g).then(function(c){c?Hp(r.g).then(function(){W0(r).o(function(d){var g=new _r("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));Gp(d)&&r.s(g)})}):X0(r)}).o(function(){X0(r)})}function Kp(r,a){B(r.h,function(c){return c==a})}kl.prototype.s=function(r){if(!r)throw new x("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var a=!1,c=0;c<this.h.length;c++){var d=this.h[c];if(d.Gb(r.c,r.b)){(a=this.c[r.c])&&(a.h(r,d),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),a=!0;break}}return eb(this.b),a};var PN=new Ti(2e3,1e4),DN=new Ti(3e4,6e4);kl.prototype.ra=function(){return this.b.ra()};function Q0(r,a,c,d,g,w,b){return r.a.Nb(a,c,d,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},g,w,b)}function Gp(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Y0(r,a,c,d,g){var w;return NN(r.g).then(function(){return r.a.Ob(a,c,d,g).o(function(b){if(Gp(b))throw new x("operation-not-supported-in-this-environment");return w=b,Hp(r.g).then(function(){throw w})}).then(function(){return r.a.ac()?new He(function(){}):Hp(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function J0(r,a,c,d,g){return r.a.Pb(d,function(w){a.na(c,null,w,g)},PN.get())}var zp={};function Z0(r,a,c){return r=r+":"+a,c&&(r=r+":"+c.url),r}function Wp(r,a,c,d){var g=Z0(a,c,d);return zp[g]||(zp[g]=new kl(r,a,c,d)),zp[g]}function Cl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Cl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Cl.prototype.h=function(r,a){if(r){this.reset(),this.g=!0;var c=r.c,d=r.b,g=r.a&&r.a.code=="auth/web-storage-unsupported",w=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!w),c!="unknown"||g||w?r.a?(Eo(this,!0,null,r.a),Te()):a.Fa(c,d)?LN(this,r,a):It(new x("invalid-auth-event")):(Eo(this,!1,null,null),Te())}else It(new x("invalid-auth-event"))};function eb(r){r.g||(r.g=!0,Eo(r,!1,null,null))}function Rl(r){r.g&&!r.i&&Eo(r,!1,null,null)}function LN(r,a,c){c=c.Fa(a.c,a.b);var d=a.g,g=a.f,w=a.i,b=a.T(),S=!!a.c.match(/Redirect$/);c(d,g,b,w).then(function(j){Eo(r,S,j,null)}).o(function(j){Eo(r,S,null,j)})}function MN(r,a){if(r.b=function(){return It(a)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](a)}function tb(r,a){if(r.b=function(){return Te(a)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](a)}function Eo(r,a,c,d){a?d?MN(r,d):tb(r,c):tb(r,{user:null}),r.f=[],r.c=[]}Cl.prototype.ra=function(){var r=this;return new He(function(a,c){r.b?r.b().then(a,c):(r.f.push(a),r.c.push(c),FN(r))})};function FN(r){var a=new x("timeout");r.a&&r.a.cancel(),r.a=ms(DN.get()).then(function(){r.b||(r.g=!0,Eo(r,!0,null,a))})}function nb(){}nb.prototype.h=function(r,a){if(r){var c=r.c,d=r.b;r.a?(a.na(r.c,null,r.a,r.b),Te()):a.Fa(c,d)?UN(r,a):It(new x("invalid-auth-event"))}else It(new x("invalid-auth-event"))};function UN(r,a){var c=r.b,d=r.c;a.Fa(d,c)(r.g,r.f,r.T(),r.i).then(function(g){a.na(d,g,null,c)}).o(function(g){a.na(d,null,g,c)})}function rb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Xp(r,a){this.a=a,pe(this,"verificationId",r)}Xp.prototype.confirm=function(r){return r=Hw(this.verificationId,r),this.a(r)};function Qp(r,a,c,d){return new ni(r).gb(a,c).then(function(g){return new Xp(g,d)})}function VN(r){var a=Cw(r);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");In(this,{token:r,expirationTime:Xa(1e3*a.exp),authTime:Xa(1e3*a.auth_time),issuedAtTime:Xa(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function Yp(r,a,c){var d=a&&a[ob];if(!d)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=ke(a),this.g=c,this.c=new ol(null,d),this.b=[];var g=this;q(a[ib]||[],function(w){(w=qd(w))&&g.b.push(w)}),pe(this,"auth",this.a),pe(this,"session",this.c),pe(this,"hints",this.b)}var ib="mfaInfo",ob="mfaPendingCredential";Yp.prototype.Rc=function(r){var a=this;return r.tb(this.a.a,this.c).then(function(c){var d=ke(a.f);return delete d[ib],delete d[ob],qe(d,c),a.g(d)})};function Jp(r,a,c,d){x.call(this,"multi-factor-auth-required",d,a),this.b=new Yp(r,a,c),pe(this,"resolver",this.b)}G(Jp,x);function sb(r,a,c){if(r&&E(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new Jp(a,r.serverResponse,c,r.message)}catch{}return null}function ab(){}ab.prototype.tb=function(r,a,c){return a.type==Za?jN(this,r,a,c):BN(this,r,a)};function jN(r,a,c,d){return c.Ha().then(function(g){return g={idToken:g},typeof d<"u"&&(g.displayName=d),qe(g,{phoneVerificationInfo:eu(r.a)}),Ge(a,CR,g)})}function BN(r,a,c){return c.Ha().then(function(d){return d={mfaPendingCredential:d},qe(d,{phoneVerificationInfo:eu(r.a)}),Ge(a,RR,d)})}function Zp(r){pe(this,"factorId",r.fa),this.a=r}G(Zp,ab);function ub(r){if(Zp.call(this,r),this.a.fa!=ni.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}G(ub,Zp);function Cs(r,a){Ln.call(this,r);for(var c in a)this[c]=a[c]}G(Cs,Ln);function em(r,a){this.a=r,this.b=[],this.c=U(this.yc,this),ur(this.a,"userReloaded",this.c);var c=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&q(a.multiFactor.enrolledFactors,function(d){var g=null,w={};if(d){d.uid&&(w[Hd]=d.uid),d.displayName&&(w[pw]=d.displayName),d.enrollmentTime&&(w[$d]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(w[Kd]=d.phoneNumber);try{g=new Qa(w)}catch{}d=g}else d=null;d&&c.push(d)}),Nl(this,c)}function qN(r){var a=[];return q(r.mfaInfo||[],function(c){(c=qd(c))&&a.push(c)}),a}e=em.prototype,e.yc=function(r){Nl(this,qN(r.hd))};function Nl(r,a){r.b=a,pe(r,"enrolledFactors",a)}e.Sb=function(){return this.a.I().then(function(r){return new ol(r,null)})},e.fc=function(r,a){var c=this,d=this.a.a;return this.Sb().then(function(g){return r.tb(d,g,a)}).then(function(g){return jr(c.a,g),c.a.reload()})},e.bd=function(r){var a=this,c=typeof r=="string"?r:r.uid,d=this.a.a;return this.a.I().then(function(g){return Ge(d,QR,{idToken:g,mfaEnrollmentId:c})}).then(function(g){var w=ue(a.b,function(b){return b.uid!=c});return Nl(a,w),jr(a.a,g),a.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},e.w=function(){return{multiFactor:{enrolledFactors:Ne(this.b,function(r){return r.w()})}}};function tm(r,a,c){if(this.h=r,this.i=a,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}tm.prototype.start=function(){this.a=this.c,nm(this,!0)};function $N(r,a){return a?(r.a=r.c,r.g()):(a=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),a)}function nm(r,a){r.stop(),r.b=ms($N(r,a)).then(function(){return wC()}).then(function(){return r.h()}).then(function(){nm(r,!0)}).o(function(c){r.i(c)&&nm(r,!1)})}tm.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function rm(r){this.f=r,this.b=this.a=null,this.c=Date.now()}rm.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function cb(r,a){typeof a>"u"&&(r.b?(a=r.b,a=a.a-a.g):a=0),r.c=Date.now()+1e3*a}function lb(r,a){r.b=rl(a[br]||""),r.a=a.refreshToken,a=a.expiresIn,cb(r,typeof a<"u"?Number(a):void 0)}function HN(r,a){r.b=a.b,r.a=a.a,r.c=a.c}function KN(r,a){return dR(r.f,a).then(function(c){return r.b=rl(c.access_token),r.a=c.refresh_token,cb(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}rm.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?It(new x("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?KN(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})};function Ol(r,a){this.a=r||null,this.b=a||null,In(this,{lastSignInTime:Xa(a||null),creationTime:Xa(r||null)})}function GN(r){return new Ol(r.a,r.b)}Ol.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function zN(r,a,c,d,g,w){In(this,{uid:r,displayName:d||null,photoURL:g||null,email:c||null,phoneNumber:w||null,providerId:a})}function Jn(r,a,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var d=Ce.SDK_VERSION?_s(Ce.SDK_VERSION):null;this.a=new wr(this.l,We(se),d),(this.u=r.emulatorConfig||null)&&wl(this.a,this.u),this.h=new rm(this.a),lm(this,a[br]),lb(this.h,a),pe(this,"refreshToken",this.h.a),hb(this,c||{}),bn.call(this),this.P=!1,this.s&&ho()&&(this.b=Wp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=WN(this),this.ba=U(this.ib,this);var g=this;this.za=null,this.Pa=function(w){g.xa(w.h)},this.qa=null,this.Ba=function(w){im(g,w.c)},this.$=null,this.aa=[],this.Oa=function(w){mu(g,w.f)},this.ja=null,this.S=new em(this,c),pe(this,"multiFactor",this.S)}G(Jn,bn),Jn.prototype.xa=function(r){this.za=r,s0(this.a,r)};function im(r,a){r.u=a,wl(r.a,a),r.b&&(a=r.b,r.b=Wp(r.s,r.l,r.m,r.u),r.P&&(Kp(a,r),xl(r.b,r)))}Jn.prototype.la=function(){return this.za};function om(r,a){r.qa&&Qn(r.qa,"languageCodeChanged",r.Pa),(r.qa=a)&&ur(a,"languageCodeChanged",r.Pa)}function sm(r,a){r.$&&Qn(r.$,"emulatorConfigChanged",r.Ba),(r.$=a)&&ur(a,"emulatorConfigChanged",r.Ba)}function mu(r,a){r.aa=a,a0(r.a,Ce.SDK_VERSION?_s(Ce.SDK_VERSION,r.aa):null)}Jn.prototype.Ga=function(){return re(this.aa)};function am(r,a){r.ja&&Qn(r.ja,"frameworkChanged",r.Oa),(r.ja=a)&&ur(a,"frameworkChanged",r.Oa)}Jn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function um(r){try{return Ce.app(r.m).auth()}catch{throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function WN(r){return new tm(function(){return r.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=r.h.c-Date.now()-3e5;return 0<a?a:0})}function fb(r){r.J||r.D.b||(r.D.start(),Qn(r,"tokenChanged",r.ba),ur(r,"tokenChanged",r.ba))}function cm(r){Qn(r,"tokenChanged",r.ba),r.D.stop()}function lm(r,a){r.Aa=a,pe(r,"_lat",a)}function XN(r,a){B(r.W,function(c){return c==a})}function To(r){for(var a=[],c=0;c<r.W.length;c++)a.push(r.W[c](r));return C_(a).then(function(){return r})}function vu(r){r.b&&!r.P&&(r.P=!0,xl(r.b,r))}function hb(r,a){In(r,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new Ol(a.createdAt,a.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}pe(Jn.prototype,"providerId","firebase");function db(){}function fm(r){return Te().then(function(){if(r.J)throw new x("app-deleted")})}function hm(r){return Ne(r.providerData,function(a){return a.providerId})}function dm(r,a){a&&(pb(r,a.providerId),r.providerData.push(a))}function pb(r,a){B(r.providerData,function(c){return c.providerId==a})}function ki(r,a,c){(a!="uid"||c)&&r.hasOwnProperty(a)&&pe(r,a,c)}function Pl(r,a){r!=a&&(In(r,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?pe(r,"metadata",GN(a.metadata)):pe(r,"metadata",new Ol),q(a.providerData,function(c){dm(r,c)}),HN(r.h,a.h),pe(r,"refreshToken",r.h.a),Nl(r.S,a.S.b))}e=Jn.prototype,e.reload=function(){var r=this;return zt(this,fm(this).then(function(){return pm(r).then(function(){return To(r)}).then(db)}))};function pm(r){return r.I().then(function(a){var c=r.isAnonymous;return QN(r,a).then(function(){return c||ki(r,"isAnonymous",!1),a})})}e.oc=function(r){return this.I(r).then(function(a){return new VN(a)})},e.I=function(r){var a=this;return zt(this,fm(this).then(function(){return a.h.getToken(r)}).then(function(c){if(!c)throw new x("internal-error");return c.accessToken!=a.Aa&&(lm(a,c.accessToken),a.dispatchEvent(new Cs("tokenChanged"))),ki(a,"refreshToken",c.refreshToken),c.accessToken}))};function jr(r,a){a[br]&&r.Aa!=a[br]&&(lb(r.h,a),r.dispatchEvent(new Cs("tokenChanged")),lm(r,a[br]),ki(r,"refreshToken",r.h.a))}function QN(r,a){return Ge(r.a,NR,{idToken:a}).then(U(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new x("internal-error");r=r[0],hb(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var a=YN(r),c=0;c<a.length;c++)dm(this,a[c]);ki(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Cs("userReloaded",{hd:r}))};function YN(r){return(r=r.providerUserInfo)&&r.length?Ne(r,function(a){return new zN(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(r){return Fd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var a=this,c=null;return zt(this,r.c(this.a,this.uid).then(function(d){return jr(a,d),c=gu(a,d,"reauthenticate"),a.i=null,a.reload()}).then(function(){return c}),!0)};function Dl(r,a){return pm(r).then(function(){if(N(hm(r),a))return To(r).then(function(){throw new x("provider-already-linked")})})}e.Cc=function(r){return Fd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var a=this,c=null;return zt(this,Dl(this,r.providerId).then(function(){return a.I()}).then(function(d){return r.b(a.a,d)}).then(function(d){return c=gu(a,d,"link"),mb(a,d)}).then(function(){return c}))},e.Dc=function(r,a){var c=this;return zt(this,Dl(this,"phone").then(function(){return Qp(um(c),r,a,U(c.rb,c))}))},e.Mc=function(r,a){var c=this;return zt(this,Te().then(function(){return Qp(um(c),r,a,U(c.ub,c))}),!0)};function gu(r,a,c){var d=np(a);return a=Nw(a),Ur({user:r,credential:d,additionalUserInfo:a,operationType:c})}function mb(r,a){return jr(r,a),r.reload().then(function(){return r})}e.Cb=function(r){var a=this;return zt(this,this.I().then(function(c){return a.a.Cb(c,r)}).then(function(c){return jr(a,c),a.reload()}))},e.ed=function(r){var a=this;return zt(this,this.I().then(function(c){return r.b(a.a,c)}).then(function(c){return jr(a,c),a.reload()}))},e.Db=function(r){var a=this;return zt(this,this.I().then(function(c){return a.a.Db(c,r)}).then(function(c){return jr(a,c),a.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return fm(this);var a=this;return zt(this,this.I().then(function(c){return a.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return jr(a,c),ki(a,"displayName",c.displayName||null),ki(a,"photoURL",c.photoUrl||null),q(a.providerData,function(d){d.providerId==="password"&&(pe(d,"displayName",a.displayName),pe(d,"photoURL",a.photoURL))}),To(a)}).then(db))},e.cd=function(r){var a=this;return zt(this,pm(this).then(function(c){return N(hm(a),r)?wR(a.a,c,[r]).then(function(d){var g={};return q(d.providerUserInfo||[],function(w){g[w.providerId]=!0}),q(hm(a),function(w){g[w]||pb(a,w)}),g[ni.PROVIDER_ID]||pe(a,"phoneNumber",null),To(a)}):To(a).then(function(){throw new x("no-such-provider")})}))},e.delete=function(){var r=this;return zt(this,this.I().then(function(a){return Ge(r.a,SR,{idToken:a})}).then(function(){r.dispatchEvent(new Cs("userDeleted"))})).then(function(){for(var a=0;a<r.N.length;a++)r.N[a].cancel("app-deleted");om(r,null),sm(r,null),am(r,null),r.N=[],r.J=!0,cm(r),pe(r,"refreshToken",null),r.b&&Kp(r.b,r)})},e.Gb=function(r,a){return!!(r=="linkViaPopup"&&(this.g||null)==a&&this.f||r=="reauthViaPopup"&&(this.g||null)==a&&this.f||r=="linkViaRedirect"&&(this.ga||null)==a||r=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(r,a,c,d){r!="linkViaPopup"&&r!="reauthViaPopup"||d!=(this.g||null)||(c&&this.C?this.C(c):a&&!c&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,a){return r=="linkViaPopup"&&a==(this.g||null)?U(this.Lb,this):r=="reauthViaPopup"&&a==(this.g||null)?U(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==a?U(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==a?U(this.Mb,this):null},e.Ec=function(r){var a=this;return vb(this,"linkViaPopup",r,function(){return Dl(a,r.providerId).then(function(){return To(a)})},!1)},e.Nc=function(r){return vb(this,"reauthViaPopup",r,function(){return Te()},!0)};function vb(r,a,c,d,g){if(!ho())return It(new x("operation-not-supported-in-this-environment"));if(r.i&&!g)return It(r.i);var w=Qd(c.providerId),b=po(r.uid+":::"),S=null;(!za()||Pd())&&r.s&&c.isOAuthProvider&&(S=lu(r.s,r.l,r.m,a,c,null,b,Ce.SDK_VERSION||null,null,null,r.tenantId,r.u));var j=ow(S,w&&w.va,w&&w.ua);return d=d().then(function(){if(yb(r),!g)return r.I().then(function(){})}).then(function(){return Q0(r.b,j,a,c,b,!!S,r.tenantId)}).then(function(){return new He(function(W,Pe){r.na(a,null,new x("cancelled-popup-request"),r.g||null),r.f=W,r.C=Pe,r.g=b,r.c=J0(r.b,r,a,j,b)})}).then(function(W){return j&&fo(j),W?Ur(W):null}).o(function(W){throw j&&fo(j),W}),zt(r,d,g)}e.Fc=function(r){var a=this;return gb(this,"linkViaRedirect",r,function(){return Dl(a,r.providerId)},!1)},e.Oc=function(r){return gb(this,"reauthViaRedirect",r,function(){return Te()},!0)};function gb(r,a,c,d,g){if(!ho())return It(new x("operation-not-supported-in-this-environment"));if(r.i&&!g)return It(r.i);var w=null,b=po(r.uid+":::");return d=d().then(function(){if(yb(r),!g)return r.I().then(function(){})}).then(function(){return r.ga=b,To(r)}).then(function(S){return r.ha&&(S=r.ha,S=S.b.set(mm,r.w(),S.a)),S}).then(function(){return Y0(r.b,a,c,b,r.tenantId)}).o(function(S){if(w=S,r.ha)return wb(r.ha);throw w}).then(function(){if(w)throw w}),zt(r,d,g)}function yb(r){if(!r.b||!r.P)throw r.b&&!r.P?new x("internal-error"):new x("auth-domain-config-required")}e.Lb=function(r,a,c,d){var g=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return c=this.I().then(function(b){return Ep(g.a,{requestUri:r,postBody:d,sessionId:a,idToken:b})}).then(function(b){return w=gu(g,b,"link"),mb(g,b)}).then(function(){return w}),zt(this,c)},e.Mb=function(r,a,c,d){var g=this;this.c&&(this.c.cancel(),this.c=null);var w=null,b=Te().then(function(){return Es(Tp(g.a,{requestUri:r,sessionId:a,postBody:d,tenantId:c}),g.uid)}).then(function(S){return w=gu(g,S,"reauthenticate"),jr(g,S),g.i=null,g.reload()}).then(function(){return w});return zt(this,b,!0)},e.vb=function(r){var a=this,c=null;return zt(this,this.I().then(function(d){return c=d,typeof r>"u"||me(r)?{}:tl(new el(r))}).then(function(d){return a.a.vb(c,d)}).then(function(d){if(a.email!=d)return a.reload()}).then(function(){}))},e.Fb=function(r,a){var c=this,d=null;return zt(this,this.I().then(function(g){return d=g,typeof a>"u"||me(a)?{}:tl(new el(a))}).then(function(g){return c.a.Fb(d,r,g)}).then(function(g){if(c.email!=g)return c.reload()}).then(function(){}))};function zt(r,a,c){var d=JN(r,a,c);return r.N.push(d),d.oa(function(){V(r.N,d)}),d.o(function(g){var w=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(w=sb(g.w(),um(r),U(r.jc,r))),w||g})}e.jc=function(r){var a=null,c=this;return r=Es(Te(r),c.uid).then(function(d){return a=gu(c,d,"reauthenticate"),jr(c,d),c.i=null,c.reload()}).then(function(){return a}),zt(this,r,!0)};function JN(r,a,c){return r.i&&!c?(a.cancel(),It(r.i)):a.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new Cs("userInvalidated")),r.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&qe(r,this.metadata.w()),q(this.providerData,function(a){r.providerData.push(EC(a))}),qe(r,this.S.w()),r};function _b(r){if(!r.apiKey)return null;var a={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[br]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var d=r.stsTokenManager.expirationTime;d&&(c.expiresIn=(d-Date.now())/1e3)}else return null;var g=new Jn(a,c,r);return r.providerData&&q(r.providerData,function(w){w&&dm(g,Ur(w))}),r.redirectEventId&&(g.ga=r.redirectEventId),g}function ZN(r,a,c,d){var g=new Jn(r,a);return c&&(g.ha=c),d&&mu(g,d),g.reload().then(function(){return g})}function eO(r,a,c,d){var g=r.h,w={};return w[br]=g.b&&g.b.toString(),w.refreshToken=g.a,a=new Jn(a||{apiKey:r.l,authDomain:r.s,appName:r.m},w),c&&(a.ha=c),d&&mu(a,d),Pl(a,r),a}function tO(r){this.a=r,this.b=pu()}var mm={name:"redirectUser",F:"session"};function wb(r){return xs(r.b,mm,r.a)}function nO(r,a){return r.b.get(mm,r.a).then(function(c){return c&&a&&(c.authDomain=a),_b(c||{})})}function vm(r){this.a=r,this.b=pu(),this.c=null,this.f=rO(this),this.b.addListener(Br("local"),this.a,U(this.g,this))}vm.prototype.g=function(){var r=this,a=Br("local");Rs(this,function(){return Te().then(function(){return r.c&&r.c.F!="local"?r.b.get(a,r.a):null}).then(function(c){if(c)return gm(r,"local").then(function(){r.c=a})})})};function gm(r,a){var c=[],d;for(d in As)As[d]!==a&&c.push(xs(r.b,Br(As[d]),r.a));return c.push(xs(r.b,ym,r.a)),Gx(c)}function rO(r){var a=Br("local"),c=Br("session"),d=Br("none");return yN(r.b,a,r.a).then(function(){return r.b.get(c,r.a)}).then(function(g){return g?c:r.b.get(d,r.a).then(function(w){return w?d:r.b.get(a,r.a).then(function(b){return b?a:r.b.get(ym,r.a).then(function(S){return S?Br(S):a})})})}).then(function(g){return r.c=g,gm(r,g.F)}).o(function(){r.c||(r.c=a)})}var ym={name:"persistence",F:"session"};function Br(r){return{name:"authUser",F:r}}vm.prototype.yb=function(r){var a=null,c=this;return gN(r),Rs(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(d){return a=d,gm(c,r)}).then(function(){if(c.c=Br(r),a)return c.b.set(c.c,a,c.a)}):Te()})};function iO(r){return Rs(r,function(){return r.b.set(ym,r.c.F,r.a)})}function bb(r,a){return Rs(r,function(){return r.b.set(r.c,a.w(),r.a)})}function Ib(r){return Rs(r,function(){return xs(r.b,r.c,r.a)})}function Eb(r,a,c){return Rs(r,function(){return r.b.get(r.c,r.a).then(function(d){return d&&a&&(d.authDomain=a),d&&c&&(d.emulatorConfig=c),_b(d||{})})})}function Rs(r,a){return r.f=r.f.then(a,a),r.f}function Ir(r){if(this.l=!1,pe(this,"settings",new rb),pe(this,"app",r),ht(this).options&&ht(this).options.apiKey)r=Ce.SDK_VERSION?_s(Ce.SDK_VERSION):null,this.a=new wr(ht(this).options&&ht(this).options.apiKey,We(se),r);else throw new x("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Ce.INTERNAL.createSubscribe(U(this.zc,this)),this.W=void 0,this.ib=Ce.INTERNAL.createSubscribe(U(this.Ac,this)),Ns(this,null),this.i=new vm(ht(this).options.apiKey+":"+ht(this).name),this.D=new tO(ht(this).options.apiKey+":"+ht(this).name),this.$=Nt(this,lO(this)),this.h=Nt(this,fO(this)),this.ba=!1,this.ja=U(this.Zc,this),this.Ba=U(this.da,this),this.qa=U(this.mc,this),this.za=U(this.wc,this),this.Aa=U(this.xc,this),this.b=null,aO(this),this.INTERNAL={},this.INTERNAL.delete=U(this.delete,this),this.INTERNAL.logFramework=U(this.Gc,this),this.u=0,bn.call(this),sO(this),this.J=[],this.R=null}G(Ir,bn);function Tb(r){Ln.call(this,"languageCodeChanged"),this.h=r}G(Tb,Ln);function Sb(r){Ln.call(this,"emulatorConfigChanged"),this.c=r}G(Sb,Ln);function Ab(r){Ln.call(this,"frameworkChanged"),this.f=r}G(Ab,Ln),e=Ir.prototype,e.yb=function(r){return r=this.i.yb(r),Nt(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,s0(this.a,this.aa),this.dispatchEvent(new Tb(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,a){if(!this.R){if(!/^https?:\/\//.test(r))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,oO(a),this.R={url:r,ec:a},this.settings.jb=!0,wl(this.a,this.R),this.dispatchEvent(new Sb(this.R))}};function oO(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Yc().then(function(){var a=f.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),f.document.body.appendChild(a)})}e.Gc=function(r){this.J.push(r),a0(this.a,Ce.SDK_VERSION?_s(Ce.SDK_VERSION,this.J):null),this.dispatchEvent(new Ab(this.J))},e.Ga=function(){return re(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function sO(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var a=Mn(this.R.url);a=Ur({protocol:a.c,host:a.a,port:a.g,options:Ur({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:ht(this).options.apiKey,authDomain:ht(this).options.authDomain,appName:ht(this).name,currentUser:Ue(this)&&Ue(this).w()}};function _m(r){return r.Oa||It(new x("auth-domain-config-required"))}function aO(r){var a=ht(r).options.authDomain,c=ht(r).options.apiKey;a&&ho()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Wp(a,c,ht(r).name,r.R),xl(r.b,r),Ue(r)&&vu(Ue(r)),r.m){vu(r.m);var d=r.m;d.xa(r.la()),om(d,r),d=r.m,mu(d,r.J),am(d,r),d=r.m,im(d,r.R),sm(d,r),r.m=null}return r.b}}))}e.Gb=function(r,a){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(r,a,c,d){r=="signInViaPopup"&&this.g==d&&(c&&this.C?this.C(c):a&&!c&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,a){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==a&&this.f?U(this.ic,this):null},e.ic=function(r,a,c,d){var g=this,w={requestUri:r,postBody:d,sessionId:a,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return So(g,Ip(g.a,w))})},e.Xc=function(r){if(!ho())return It(new x("operation-not-supported-in-this-environment"));var a=this,c=Qd(r.providerId),d=po(),g=null;(!za()||Pd())&&ht(this).options.authDomain&&r.isOAuthProvider&&(g=lu(ht(this).options.authDomain,ht(this).options.apiKey,ht(this).name,"signInViaPopup",r,null,d,Ce.SDK_VERSION||null,null,null,this.T(),this.R));var w=ow(g,c&&c.va,c&&c.ua);return c=_m(this).then(function(b){return Q0(b,w,"signInViaPopup",r,d,!!g,a.T())}).then(function(){return new He(function(b,S){a.na("signInViaPopup",null,new x("cancelled-popup-request"),a.g),a.f=b,a.C=S,a.g=d,a.c=J0(a.b,a,"signInViaPopup",w,d)})}).then(function(b){return w&&fo(w),b?Ur(b):null}).o(function(b){throw w&&fo(w),b}),Nt(this,c)},e.Yc=function(r){if(!ho())return It(new x("operation-not-supported-in-this-environment"));var a=this,c=_m(this).then(function(){return iO(a.i)}).then(function(){return Y0(a.b,"signInViaRedirect",r,void 0,a.T())});return Nt(this,c)};function kb(r){if(!ho())return It(new x("operation-not-supported-in-this-environment"));var a=_m(r).then(function(){return r.b.ra()}).then(function(c){return c?Ur(c):null});return Nt(r,a)}e.ra=function(){var r=this;return kb(this).then(function(a){return r.b&&Rl(r.b.b),a}).o(function(a){throw r.b&&Rl(r.b.b),a})},e.dd=function(r){if(!r)return It(new x("null-user"));if(this.S!=r.tenantId)return It(new x("tenant-id-mismatch"));var a=this,c={};c.apiKey=ht(this).options.apiKey,c.authDomain=ht(this).options.authDomain,c.appName=ht(this).name;var d=eO(r,c,a.D,a.Ga());return Nt(this,this.h.then(function(){if(ht(a).options.apiKey!=r.l)return d.reload()}).then(function(){return Ue(a)&&r.uid==Ue(a).uid?(Pl(Ue(a),r),a.da(r)):(Ns(a,d),vu(d),a.da(d))}).then(function(){yu(a)}))};function uO(r,a){var c={};return c.apiKey=ht(r).options.apiKey,c.authDomain=ht(r).options.authDomain,c.appName=ht(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return ZN(c,a,r.D,r.Ga())}).then(function(d){return Ue(r)&&d.uid==Ue(r).uid?(Pl(Ue(r),d),r.da(d)):(Ns(r,d),vu(d),r.da(d))}).then(function(){yu(r)})}function Ns(r,a){Ue(r)&&(XN(Ue(r),r.Ba),Qn(Ue(r),"tokenChanged",r.qa),Qn(Ue(r),"userDeleted",r.za),Qn(Ue(r),"userInvalidated",r.Aa),cm(Ue(r))),a&&(a.W.push(r.Ba),ur(a,"tokenChanged",r.qa),ur(a,"userDeleted",r.za),ur(a,"userInvalidated",r.Aa),0<r.u&&fb(a)),pe(r,"currentUser",a),a&&(a.xa(r.la()),om(a,r),mu(a,r.J),am(a,r),im(a,r.R),sm(a,r))}e.Bb=function(){var r=this,a=this.h.then(function(){return r.b&&Rl(r.b.b),Ue(r)?(Ns(r,null),Ib(r.i).then(function(){yu(r)})):Te()});return Nt(this,a)};function cO(r){var a=nO(r.D,ht(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),wb(r.D)});return Nt(r,a)}function lO(r){var a=ht(r).options.authDomain,c=cO(r).then(function(){return Eb(r.i,a,r.R)}).then(function(d){return d?(d.ha=r.D,r.m&&(r.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return bb(r.i,d).then(function(){return d})}).o(function(g){return g.code=="auth/network-request-failed"?d:Ib(r.i)})):null}).then(function(d){Ns(r,d||null)});return Nt(r,c)}function fO(r){return r.$.then(function(){return kb(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var a=r.i;a.b.addListener(Br("local"),a.a,r.ja)}})}e.Zc=function(){var r=this;return Eb(this.i,ht(this).options.authDomain).then(function(a){if(!r.l){var c;if(c=Ue(r)&&a){c=Ue(r).uid;var d=a.uid;c=c==null||c===""||d===void 0||d===null||d===""?!1:c==d}if(c)return Pl(Ue(r),a),Ue(r).I();(Ue(r)||a)&&(Ns(r,a),a&&(vu(a),a.ha=r.D),r.b&&xl(r.b,r),yu(r))}})},e.da=function(r){return bb(this.i,r)},e.mc=function(){yu(this),this.da(Ue(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function So(r,a){var c=null,d=null;return Nt(r,a.then(function(g){return c=np(g),d=Nw(g),uO(r,g)},function(g){var w=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(w=sb(g.w(),r,U(r.kc,r))),w||g}).then(function(){return Ur({user:Ue(r),credential:c,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(r){var a=this;return this.h.then(function(){return So(a,Te(r))})},e.zc=function(r){var a=this;this.addAuthTokenListener(function(){r.next(Ue(a))})},e.Ac=function(r){var a=this;hO(this,function(){r.next(Ue(a))})},e.Ic=function(r,a,c){var d=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(Ue(d)):typeof r.next=="function"&&r.next(Ue(d))}),this.Pa(r,a,c)},e.Hc=function(r,a,c){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof r=="function"?r(Ue(d)):typeof r.next=="function"&&r.next(Ue(d))}),this.ib(r,a,c)},e.nc=function(r){var a=this,c=this.h.then(function(){return Ue(a)?Ue(a).I(r).then(function(d){return{accessToken:d}}):null});return Nt(this,c)},e.Tc=function(r){var a=this;return this.h.then(function(){return So(a,Ge(a.a,GR,{token:r}))}).then(function(c){var d=c.user;return ki(d,"isAnonymous",!1),a.da(d),c})},e.Uc=function(r,a){var c=this;return this.h.then(function(){return So(c,Ge(c.a,v0,{email:r,password:a}))})},e.dc=function(r,a){var c=this;return this.h.then(function(){return So(c,Ge(c.a,ER,{email:r,password:a}))})},e.ab=function(r){var a=this;return this.h.then(function(){return So(a,r.ka(a.a))})},e.Sc=function(r){return Fd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var a=Ue(r);if(a&&a.isAnonymous){var c=Ur({providerId:null,isNewUser:!1});return Ur({user:a,credential:null,additionalUserInfo:c,operationType:"signIn"})}return So(r,r.a.Ab()).then(function(d){var g=d.user;return ki(g,"isAnonymous",!0),r.da(g),d})})};function ht(r){return r.app}function Ue(r){return r.currentUser}e.getUid=function(){return Ue(this)&&Ue(this).uid||null};function Ll(r){return Ue(r)&&Ue(r)._lat||null}function yu(r){if(r.ba){for(var a=0;a<r.s.length;a++)r.s[a]&&r.s[a](Ll(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),a=0;a<r.N.length;a++)r.N[a]&&r.N[a](Ll(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&Ue(this)&&fb(Ue(this))},e.Pc=function(r){var a=this;q(this.s,function(c){c==r&&a.u--}),0>this.u&&(this.u=0),this.u==0&&Ue(this)&&cm(Ue(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var a=this;this.s.push(r),Nt(this,this.h.then(function(){a.l||N(a.s,r)&&r(Ll(a))}))},e.removeAuthTokenListener=function(r){B(this.s,function(a){return a==r})};function hO(r,a){r.N.push(a),Nt(r,r.h.then(function(){!r.l&&N(r.N,a)&&r.W!==r.getUid()&&(r.W=r.getUid(),a(Ll(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Br("local"),r.a,this.ja)),this.b&&(Kp(this.b,this),Rl(this.b.b)),Promise.resolve()};function Nt(r,a){return r.P.push(a),a.oa(function(){V(r.P,a)}),a}e.hc=function(r){return Nt(this,pR(this.a,r))},e.Bc=function(r){return!!tp(r)},e.xb=function(r,a){var c=this;return Nt(this,Te().then(function(){var d=new el(a);if(!d.c)throw new x("argument-error",Wd+" must be true when sending sign in link to email");return tl(d)}).then(function(d){return c.a.xb(r,d)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(a){return a.data.email})},e.ob=function(r,a){return Nt(this,this.a.ob(r,a).then(function(){}))},e.Sa=function(r){return Nt(this,this.a.Sa(r).then(function(a){return new SC(a)}))},e.kb=function(r){return Nt(this,this.a.kb(r).then(function(){}))},e.wb=function(r,a){var c=this;return Nt(this,Te().then(function(){return typeof a>"u"||me(a)?{}:tl(new el(a))}).then(function(d){return c.a.wb(r,d)}).then(function(){}))},e.Wc=function(r,a){return Nt(this,Qp(this,r,a,U(this.ab,this)))},e.Vc=function(r,a){var c=this;return Nt(this,Te().then(function(){var d=a||Ga(),g=$w(r,d);if(d=tp(d),!d)throw new x("argument-error","Invalid email link!");if(d.tenantId!==c.T())throw new x("tenant-id-mismatch");return c.ab(g)}))};function _u(){}_u.prototype.render=function(){},_u.prototype.reset=function(){},_u.prototype.getResponse=function(){},_u.prototype.execute=function(){};function Os(){this.a={},this.b=1e12}var wm=null;Os.prototype.render=function(r,a){return this.a[this.b.toString()]=new Ml(r,a),this.b++},Os.prototype.reset=function(r){var a=bm(this,r);r=xb(r),a&&r&&(a.delete(),delete this.a[r])},Os.prototype.getResponse=function(r){return(r=bm(this,r))?r.getResponse():null},Os.prototype.execute=function(r){(r=bm(this,r))&&r.execute()};function bm(r,a){return(a=xb(a))&&r.a[a]||null}function xb(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function Ml(r,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Va(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():ur(this.f,"click",this.i)}Ml.prototype.getResponse=function(){return Im(this),this.b},Ml.prototype.execute=function(){Im(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=_C();var a=r.c.callback,c=r.c["expired-callback"];if(a)try{a(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},Ml.prototype.delete=function(){Im(this),this.g=!0,clearTimeout(this.a),this.a=null,Qn(this.f,"click",this.i)};function Im(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function Em(){}pe(Em,"FACTOR_ID","phone");function Tm(){}Tm.prototype.g=function(){return wm||(wm=new Os),Te(wm)},Tm.prototype.c=function(){};var Sm=null;function Am(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var dO=new $e(Dr,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),pO=new Ti(3e4,6e4);Am.prototype.g=function(r){var a=this;return new He(function(c,d){var g=setTimeout(function(){d(new x("network-request-failed"))},pO.get());if(!f.grecaptcha||r!==a.f&&!a.b){f[a.a]=function(){if(f.grecaptcha){a.f=r;var b=f.grecaptcha.render;f.grecaptcha.render=function(S,j){return S=b(S,j),a.b++,S},clearTimeout(g),c(f.grecaptcha)}else clearTimeout(g),d(new x("internal-error"));delete f[a.a]};var w=ad(dO,{onload:a.a,hl:r||""});Te(mp(w)).o(function(){clearTimeout(g),d(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),c(f.grecaptcha)})},Am.prototype.c=function(){this.b--};var km=null;function xm(r,a,c,d,g,w,b){if(pe(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,b?(Sm||(Sm=new Tm),b=Sm):(km||(km=new Am),b=km),this.m=b,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[Nb])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[mO]==="invisible",!f.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Va(a)||!this.i&&Va(a).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new wr(r,w||null,g||null),this.u=d||function(){return null};var S=this;this.l=[];var j=this.a[Cb];this.a[Cb]=function(Pe){if(Ob(S,Pe),typeof j=="function")j(Pe);else if(typeof j=="string"){var lt=Et(j,f);typeof lt=="function"&&lt(Pe)}};var W=this.a[Rb];this.a[Rb]=function(){if(Ob(S,null),typeof W=="function")W();else if(typeof W=="string"){var Pe=Et(W,f);typeof Pe=="function"&&Pe()}}}var Cb="callback",Rb="expired-callback",Nb="sitekey",mO="size";function Ob(r,a){for(var c=0;c<r.l.length;c++)try{r.l[c](a)}catch{}}function vO(r,a){B(r.l,function(c){return c==a})}function Cm(r,a){return r.h.push(a),a.oa(function(){V(r.h,a)}),a}e=xm.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=Cm(this,Te().then(function(){if(Jc()&&!yr())return Yc();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(a){return r.g=a,Ge(r.s,FR,{})}).then(function(a){r.a[Nb]=a.recaptchaSiteKey}).o(function(a){throw r.f=null,a}))},e.render=function(){Fl(this);var r=this;return Cm(this,this.Ia().then(function(){if(r.c===null){var a=r.v;if(!r.i){var c=Va(a);a=qx("DIV"),c.appendChild(a)}r.c=r.g.render(a,r.a)}return r.c}))},e.verify=function(){Fl(this);var r=this;return Cm(this,this.render().then(function(a){return new He(function(c){var d=r.g.getResponse(a);if(d)c(d);else{var g=function(w){w&&(vO(r,g),c(w))};r.l.push(g),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){Fl(this),this.c!==null&&this.g.reset(this.c)};function Fl(r){if(r.J)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Fl(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=Va(this.v);for(var a;a=r.firstChild;)r.removeChild(a)}};function Rm(r,a,c){var d=!1;try{this.b=c||Ce.app()}catch{throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new x("invalid-api-key");var g=this,w=null;try{w=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=Ce.SDK_VERSION?_s(Ce.SDK_VERSION,w):null,xm.call(this,c,r,a,function(){try{var b=g.b.auth().la()}catch{b=null}return b},w,We(se),d)}G(Rm,xm);function Pb(r,a,c,d){e:{c=Array.prototype.slice.call(c);for(var g=0,w=!1,b=0;b<a.length;b++)if(a[b].optional)w=!0;else{if(w)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(w=a.length,c.length<g||w<c.length)d="Expected "+(g==w?g==1?"1 argument":g+" arguments":g+"-"+w+" arguments")+" but got "+c.length+".";else{for(g=0;g<c.length;g++)if(w=a[g].optional&&c[g]===void 0,!a[g].M(c[g])&&!w){if(a=a[g],0>g||g>=Db.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");c=Db[g],d=(d?"":c+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}d=null}}if(d)throw new x("argument-error",r+" failed: "+d)}var Db="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function he(r,a){return{name:r||"",K:"a valid string",optional:!!a,M:function(c){return typeof c=="string"}}}function Nm(r,a){return{name:r||"",K:"a boolean",optional:!!a,M:function(c){return typeof c=="boolean"}}}function Vt(r,a){return{name:r||"",K:"a valid object",optional:!!a,M:E}}function Ps(r,a){return{name:r||"",K:"a function",optional:!!a,M:function(c){return typeof c=="function"}}}function qr(r,a){return{name:r||"",K:"null",optional:!!a,M:function(c){return c===null}}}function gO(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function yO(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof Ir)}}}function _O(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof Ce.app.App)}}}function xi(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var c=!r||a.providerId===r;return!(!a.ka||!c)}}}function Lb(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function Ds(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function Om(r,a){return E(r)&&typeof r.type=="string"&&r.type===a&&typeof r.Ha=="function"}function Mb(r){return E(r)&&typeof r.uid=="string"}function Ul(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Lt(r,a,c,d){return{name:c||"",K:r.K+" or "+a.K,optional:!!d,M:function(g){return r.M(g)||a.M(g)}}}function At(r,a){for(var c in a){var d=a[c].name;r[d]=Ub(d,r[c],a[c].j)}}function Fb(r,a){for(var c in a){var d=a[c].name;d!==c&&Object.defineProperty(r,d,{get:de(function(g){return this[g]},c),set:de(function(g,w,b,S){Pb(g,[b],[S],!0),this[w]=S},d,c,a[c].lb),enumerable:!0})}}function Mt(r,a,c,d){r[a]=Ub(a,c,d)}function Ub(r,a,c){function d(){var b=Array.prototype.slice.call(arguments);return Pb(g,c,b),a.apply(this,b)}if(!c)return a;var g=wO(r),w;for(w in a)d[w]=a[w];for(w in a.prototype)d.prototype[w]=a.prototype[w];return d}function wO(r){return r=r.split("."),r[r.length-1]}At(Ir.prototype,{kb:{name:"applyActionCode",j:[he("code")]},Sa:{name:"checkActionCode",j:[he("code")]},ob:{name:"confirmPasswordReset",j:[he("code"),he("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[he("email"),he("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[he("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[he("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Lt(Vt(),Ps(),"nextOrObserver"),Ps("opt_error",!0),Ps("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Lt(Vt(),Ps(),"nextOrObserver"),Ps("opt_error",!0),Ps("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[he("email"),Lt(Vt("opt_actionCodeSettings",!0),qr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[he("email"),Vt("actionCodeSettings")]},yb:{name:"setPersistence",j:[he("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[xi()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[xi()]},Tc:{name:"signInWithCustomToken",j:[he("token")]},Uc:{name:"signInWithEmailAndPassword",j:[he("email"),he("password")]},Vc:{name:"signInWithEmailLink",j:[he("email"),he("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[he("phoneNumber"),Ul()]},Xc:{name:"signInWithPopup",j:[Ds()]},Yc:{name:"signInWithRedirect",j:[Ds()]},dd:{name:"updateCurrentUser",j:[Lt(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(a){return!!(a&&a instanceof Jn)}}}(),qr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[he(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[he("url"),Vt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[he("code")]}}),Fb(Ir.prototype,{lc:{name:"languageCode",lb:Lt(he(),qr(),"languageCode")},ti:{name:"tenantId",lb:Lt(he(),qr(),"tenantId")}}),Ir.Persistence=As,Ir.Persistence.LOCAL="local",Ir.Persistence.SESSION="session",Ir.Persistence.NONE="none",At(Jn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Nm("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Nm("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[xi()]},rb:{name:"linkWithCredential",j:[xi()]},Dc:{name:"linkWithPhoneNumber",j:[he("phoneNumber"),Ul()]},Ec:{name:"linkWithPopup",j:[Ds()]},Fc:{name:"linkWithRedirect",j:[Ds()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[xi()]},ub:{name:"reauthenticateWithCredential",j:[xi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[he("phoneNumber"),Ul()]},Nc:{name:"reauthenticateWithPopup",j:[Ds()]},Oc:{name:"reauthenticateWithRedirect",j:[Ds()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Lt(Vt("opt_actionCodeSettings",!0),qr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[he(null,!0)]},cd:{name:"unlink",j:[he("provider")]},Cb:{name:"updateEmail",j:[he("email")]},Db:{name:"updatePassword",j:[he("password")]},ed:{name:"updatePhoneNumber",j:[xi("phone")]},Eb:{name:"updateProfile",j:[Vt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[he("email"),Lt(Vt("opt_actionCodeSettings",!0),qr(null,!0),"opt_actionCodeSettings",!0)]}}),At(Os.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),At(_u.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),At(He.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Fb(rb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Nm("appVerificationDisabledForTesting")}}),At(Xp.prototype,{confirm:{name:"confirm",j:[he("verificationCode")]}}),Mt(Is,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var a,c=[$C,HC,KC,qC],d=0;d<c.length;d++)if(a=c[d](r))return a;return null},[Lt(he(),Vt(),"json")]),Mt(lr,"credential",function(r,a){return new Si(r,a)},[he("email"),he("password")]),At(Si.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),At(go.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Mt(go,"credential",Vw,[Lt(he(),Vt(),"token")]),Mt(lr,"credentialWithLink",$w,[he("email"),he("emailLink")]),At(yo.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Mt(yo,"credential",jw,[Lt(he(),Vt(),"token")]),At(_o.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Mt(_o,"credential",Bw,[Lt(he(),Lt(Vt(),qr()),"idToken"),Lt(he(),qr(),"accessToken",!0)]),At(Ts.prototype,{Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Mt(Ts,"credential",qw,[Lt(he(),Vt(),"token"),he("secret",!0)]),At(Yn.prototype,{Ca:{name:"addScope",j:[he("scope")]},credential:{name:"credential",j:[Lt(he(),Lt(Vt(),qr()),"optionsOrIdToken"),Lt(he(),qr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),At(ti.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),At(mo.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Mt(ni,"credential",Hw,[he("verificationId"),he("verificationCode")]),At(ni.prototype,{gb:{name:"verifyPhoneNumber",j:[Lt(he(),function(r,a){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(c){return c?c.session&&c.phoneNumber?Om(c.session,Za)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Om(c.session,sl)&&Mb(c.multiFactorHint):c.session&&c.multiFactorUid?Om(c.session,sl)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Ul()]}}),At(Ai.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),At(x.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),At(tu.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),At(op.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),At(Jp.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),At(Yp.prototype,{Rc:{name:"resolveSignIn",j:[Lb()]}}),At(em.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Lb(),he("displayName",!0)]},bd:{name:"unenroll",j:[Lt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Mb},he(),"multiFactorInfoIdentifier")]}}),At(Rm.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Mt(zd,"parseLink",bw,[he("link")]),Mt(Em,"assertion",function(r){return new ub(r)},[xi("phone")]),function(){if(typeof Ce<"u"&&Ce.INTERNAL&&Ce.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Gd,VERIFY_AND_CHANGE_EMAIL:Ya,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ir,AuthCredential:Is,Error:x};Mt(r,"EmailAuthProvider",lr,[]),Mt(r,"FacebookAuthProvider",go,[]),Mt(r,"GithubAuthProvider",yo,[]),Mt(r,"GoogleAuthProvider",_o,[]),Mt(r,"TwitterAuthProvider",Ts,[]),Mt(r,"OAuthProvider",Yn,[he("providerId")]),Mt(r,"SAMLAuthProvider",Uw,[he("providerId")]),Mt(r,"PhoneAuthProvider",ni,[yO()]),Mt(r,"RecaptchaVerifier",Rm,[Lt(he(),gO(),"recaptchaContainer"),Vt("recaptchaParameters",!0),_O()]),Mt(r,"ActionCodeURL",zd,[]),Mt(r,"PhoneMultiFactorGenerator",Em,[]),Ce.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new Ir(a)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),Ce.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:U(a.getUid,a),getToken:U(a.nc,a),addAuthTokenListener:U(a.cc,a),removeAuthTokenListener:U(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ce.registerVersion("@firebase/auth","0.16.8"),Ce.INTERNAL.extendNamespace({User:Jn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kv=function(e,t){return kv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},kv(e,t)};function zL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");kv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function qS(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var WL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce,Vg=Vg||{},Le=WL||self;function xf(){}function xv(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function _c(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function XL(e){return Object.prototype.hasOwnProperty.call(e,$m)&&e[$m]||(e[$m]=++QL)}var $m="closure_uid_"+(1e9*Math.random()>>>0),QL=0;function YL(e,t,n){return e.call.apply(e.bind,arguments)}function JL(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function un(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?un=YL:un=JL,un.apply(null,arguments)}function Gl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function fn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,s){for(var u=Array(arguments.length-2),l=2;l<arguments.length;l++)u[l-2]=arguments[l];return t.prototype[o].apply(i,u)}}function Zi(){this.s=this.s,this.o=this.o}var ZL=0;Zi.prototype.s=!1;Zi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),ZL!=0)&&XL(this)};Zi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $S=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},HS=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<i;s++)s in o&&t.call(n,o[s],s,e)};function eM(e){e:{for(var t=KM,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function TI(e){return Array.prototype.concat.apply([],arguments)}function jg(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function Cf(e){return/^[\s\xa0]*$/.test(e)}var SI=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function xn(e,t){return e.indexOf(t)!=-1}function Hm(e,t){return e<t?-1:e>t?1:0}var Cn;e:{var AI=Le.navigator;if(AI){var kI=AI.userAgent;if(kI){Cn=kI;break e}}Cn=""}function Bg(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function KS(e){var t={};for(var n in e)t[n]=e[n];return t}var xI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function GS(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var s=0;s<xI.length;s++)n=xI[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function qg(e){return qg[" "](e),e}qg[" "]=xf;function tM(e){var t=iM;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var nM=xn(Cn,"Opera"),sa=xn(Cn,"Trident")||xn(Cn,"MSIE"),zS=xn(Cn,"Edge"),Cv=zS||sa,WS=xn(Cn,"Gecko")&&!(xn(Cn.toLowerCase(),"webkit")&&!xn(Cn,"Edge"))&&!(xn(Cn,"Trident")||xn(Cn,"MSIE"))&&!xn(Cn,"Edge"),rM=xn(Cn.toLowerCase(),"webkit")&&!xn(Cn,"Edge");function XS(){var e=Le.document;return e?e.documentMode:void 0}var Rf;e:{var Km="",Gm=function(){var e=Cn;if(WS)return/rv:([^\);]+)(\)|;)/.exec(e);if(zS)return/Edge\/([\d\.]+)/.exec(e);if(sa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(rM)return/WebKit\/(\S+)/.exec(e);if(nM)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Gm&&(Km=Gm?Gm[1]:""),sa){var zm=XS();if(zm!=null&&zm>parseFloat(Km)){Rf=String(zm);break e}}Rf=Km}var iM={};function oM(){return tM(function(){for(var e=0,t=SI(String(Rf)).split("."),n=SI("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var s=t[o]||"",u=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],s[0].length==0&&u[0].length==0)break;e=Hm(s[1].length==0?0:parseInt(s[1],10),u[1].length==0?0:parseInt(u[1],10))||Hm(s[2].length==0,u[2].length==0)||Hm(s[2],u[2]),s=s[3],u=u[3]}while(e==0)}return 0<=e})}var Rv;if(Le.document&&sa){var CI=XS();Rv=CI||parseInt(Rf,10)||void 0}else Rv=void 0;var sM=Rv,aM=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Le.addEventListener("test",xf,t),Le.removeEventListener("test",xf,t)}catch{}return e}();function yn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}yn.prototype.h=function(){this.defaultPrevented=!0};function Xu(e,t){if(yn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(WS){e:{try{qg(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:uM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Xu.Z.h.call(this)}}fn(Xu,yn);var uM={2:"touch",3:"pen",4:"mouse"};Xu.prototype.h=function(){Xu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var wc="closure_listenable_"+(1e6*Math.random()|0),cM=0;function lM(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++cM,this.ca=this.fa=!1}function Ih(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Eh(e){this.src=e,this.g={},this.h=0}Eh.prototype.add=function(e,t,n,i,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var u=Ov(e,t,i,o);return-1<u?(t=e[u],n||(t.fa=!1)):(t=new lM(t,this.src,s,!!i,o),t.fa=n,e.push(t)),t};function Nv(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=$S(i,t),s;(s=0<=o)&&Array.prototype.splice.call(i,o,1),s&&(Ih(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Ov(e,t,n,i){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return o}return-1}var $g="closure_lm_"+(1e6*Math.random()|0),Wm={};function QS(e,t,n,i,o){if(i&&i.once)return JS(e,t,n,i,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)QS(e,t[s],n,i,o);return null}return n=Gg(n),e&&e[wc]?e.N(t,n,_c(i)?!!i.capture:!!i,o):YS(e,t,n,!1,i,o)}function YS(e,t,n,i,o,s){if(!t)throw Error("Invalid event type");var u=_c(o)?!!o.capture:!!o,l=Kg(e);if(l||(e[$g]=l=new Eh(e)),n=l.add(t,n,i,u,s),n.proxy)return n;if(i=fM(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)aM||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(eA(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function fM(){function e(n){return t.call(e.src,e.listener,n)}var t=hM;return e}function JS(e,t,n,i,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)JS(e,t[s],n,i,o);return null}return n=Gg(n),e&&e[wc]?e.O(t,n,_c(i)?!!i.capture:!!i,o):YS(e,t,n,!0,i,o)}function ZS(e,t,n,i,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)ZS(e,t[s],n,i,o);else i=_c(i)?!!i.capture:!!i,n=Gg(n),e&&e[wc]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Ov(s,n,i,o),-1<n&&(Ih(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Kg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ov(t,n,i,o)),(n=-1<e?t[e]:null)&&Hg(n))}function Hg(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[wc])Nv(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(eA(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Kg(t))?(Nv(n,e),n.h==0&&(n.src=null,t[$g]=null)):Ih(e)}}}function eA(e){return e in Wm?Wm[e]:Wm[e]="on"+e}function hM(e,t){if(e.ca)e=!0;else{t=new Xu(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&Hg(e),e=n.call(i,t)}return e}function Kg(e){return e=e[$g],e instanceof Eh?e:null}var Xm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gg(e){return typeof e=="function"?e:(e[Xm]||(e[Xm]=function(t){return e.handleEvent(t)}),e[Xm])}function tn(){Zi.call(this),this.i=new Eh(this),this.P=this,this.I=null}fn(tn,Zi);tn.prototype[wc]=!0;tn.prototype.removeEventListener=function(e,t,n,i){ZS(this,e,t,n,i)};function cn(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new yn(t,e);else if(t instanceof yn)t.target=t.target||e;else{var o=t;t=new yn(i,e),GS(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var u=t.g=n[s];o=zl(u,i,!0,t)&&o}if(u=t.g=e,o=zl(u,i,!0,t)&&o,o=zl(u,i,!1,t)&&o,n)for(s=0;s<n.length;s++)u=t.g=n[s],o=zl(u,i,!1,t)&&o}tn.prototype.M=function(){if(tn.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Ih(n[i]);delete e.g[t],e.h--}}this.I=null};tn.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};tn.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function zl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ca&&u.capture==n){var l=u.listener,f=u.ia||u.src;u.fa&&Nv(e.i,u),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var zg=Le.JSON.stringify;function dM(){var e=nA,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var pM=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=tA.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),tA=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new mM},function(e){return e.reset()}),mM=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function vM(e){Le.setTimeout(function(){throw e},0)}function Wg(e,t){Pv||gM(),Dv||(Pv(),Dv=!0),nA.add(e,t)}var Pv;function gM(){var e=Le.Promise.resolve(void 0);Pv=function(){e.then(yM)}}var Dv=!1,nA=new pM;function yM(){for(var e;e=dM();){try{e.h.call(e.g)}catch(n){vM(n)}var t=tA;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Dv=!1}function Th(e,t){tn.call(this),this.h=e||1,this.g=t||Le,this.j=un(this.kb,this),this.l=Date.now()}fn(Th,tn);ce=Th.prototype;ce.da=!1;ce.S=null;ce.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),cn(this,"tick"),this.da&&(Xg(this),this.start()))}};ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Xg(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ce.M=function(){Th.Z.M.call(this),Xg(this),delete this.g};function Qg(e,t,n){if(typeof e=="function")n&&(e=un(e,n));else if(e&&typeof e.handleEvent=="function")e=un(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Le.setTimeout(e,t||0)}function rA(e){e.g=Qg(function(){e.g=null,e.i&&(e.i=!1,rA(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var _M=function(e){zL(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:rA(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Zi);function Qu(e){Zi.call(this),this.h=e,this.g={}}fn(Qu,Zi);var RI=[];function iA(e,t,n,i){Array.isArray(n)||(n&&(RI[0]=n.toString()),n=RI);for(var o=0;o<n.length;o++){var s=QS(t,n[o],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function oA(e){Bg(e.g,function(t,n){this.g.hasOwnProperty(n)&&Hg(t)},e),e.g={}}Qu.prototype.M=function(){Qu.Z.M.call(this),oA(this)};Qu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Sh(){this.g=!0}Sh.prototype.Aa=function(){this.g=!1};function wM(e,t,n,i,o,s){e.info(function(){if(e.g)if(s)for(var u="",l=s.split("&"),f=0;f<l.length;f++){var p=l[f].split("=");if(1<p.length){var v=p[0];p=p[1];var h=v.split("_");u=2<=h.length&&h[1]=="type"?u+(v+"="+p+"&"):u+(v+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function bM(e,t,n,i,o,s,u){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+u})}function Ks(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+EM(e,n)+(i?" "+i:"")})}function IM(e,t){e.info(function(){return"TIMEOUT: "+t})}Sh.prototype.info=function(){};function EM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return zg(n)}catch{return t}}var is={},NI=null;function Ah(){return NI=NI||new tn}is.Ma="serverreachability";function sA(e){yn.call(this,is.Ma,e)}fn(sA,yn);function Yu(e){var t=Ah();cn(t,new sA(t))}is.STAT_EVENT="statevent";function aA(e,t){yn.call(this,is.STAT_EVENT,e),this.stat=t}fn(aA,yn);function Nn(e){var t=Ah();cn(t,new aA(t,e))}is.Na="timingevent";function uA(e,t){yn.call(this,is.Na,e),this.size=t}fn(uA,yn);function bc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){e()},t)}var kh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},cA={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yg(){}Yg.prototype.h=null;function OI(e){return e.h||(e.h=e.i())}function lA(){}var Ic={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Jg(){yn.call(this,"d")}fn(Jg,yn);function Zg(){yn.call(this,"c")}fn(Zg,yn);var Lv;function xh(){}fn(xh,Yg);xh.prototype.g=function(){return new XMLHttpRequest};xh.prototype.i=function(){return{}};Lv=new xh;function Ec(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new Qu(this),this.P=TM,e=Cv?125:void 0,this.W=new Th(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fA}function fA(){this.i=null,this.g="",this.h=!1}var TM=45e3,Mv={},Nf={};ce=Ec.prototype;ce.setTimeout=function(e){this.P=e};function Fv(e,t,n){e.K=1,e.v=Rh(vi(t)),e.s=n,e.U=!0,hA(e,null)}function hA(e,t){e.F=Date.now(),Tc(e),e.A=vi(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),_A(n.h,"t",i),e.C=0,n=e.l.H,e.h=new fA,e.g=VA(e.l,n?t:null,!e.s),0<e.O&&(e.L=new _M(un(e.Ia,e,e.g),e.O)),iA(e.V,e.g,"readystatechange",e.gb),t=e.H?KS(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Yu(),wM(e.j,e.u,e.A,e.m,e.X,e.s)}ce.gb=function(e){e=e.target;var t=this.L;t&&ui(e)==3?t.l():this.Ia(e)};ce.Ia=function(e){try{if(e==this.g)e:{var t=ui(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||Cv||this.g&&(this.h.h||this.g.ga()||MI(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?Yu(3):Yu(2)),Ch(this);var o=this.g.ba();this.N=o;t:if(dA(this)){var s=MI(this.g);e="";var u=s.length,l=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lo(this),Du(this);var f="";break t}this.h.i=new Le.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==u-1});s.splice(0,u),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,bM(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cf(p)){var h=p;break t}}h=null}if(o=h)Ks(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Uv(this,o);else{this.i=!1,this.o=3,Nn(12),Lo(this),Du(this);break e}}this.U?(pA(this,t,f),Cv&&this.i&&t==3&&(iA(this.V,this.W,"tick",this.fb),this.W.start())):(Ks(this.j,this.m,f,null),Uv(this,f)),t==4&&Lo(this),this.i&&!this.I&&(t==4?LA(this.l,this):(this.i=!1,Tc(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Nn(12)):(this.o=0,Nn(13)),Lo(this),Du(this)}}}catch{}finally{}};function dA(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function pA(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=SM(e,n),o==Nf){t==4&&(e.o=4,Nn(14),i=!1),Ks(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Mv){e.o=4,Nn(15),Ks(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Ks(e.j,e.m,o,null),Uv(e,o);dA(e)&&o!=Nf&&o!=Mv&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Nn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),uy(t),t.L=!0,Nn(11))):(Ks(e.j,e.m,n,"[Invalid Chunked Response]"),Lo(e),Du(e))}ce.fb=function(){if(this.g){var e=ui(this.g),t=this.g.ga();this.C<t.length&&(Ch(this),pA(this,e,t),this.i&&e!=4&&Tc(this))}};function SM(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Nf:(n=Number(t.substring(n,i)),isNaN(n)?Mv:(i+=1,i+n>t.length?Nf:(t=t.substr(i,n),e.C=i+n,t)))}ce.cancel=function(){this.I=!0,Lo(this)};function Tc(e){e.Y=Date.now()+e.P,mA(e,e.P)}function mA(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=bc(un(e.eb,e),t)}function Ch(e){e.B&&(Le.clearTimeout(e.B),e.B=null)}ce.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(IM(this.j,this.A),this.K!=2&&(Yu(),Nn(17)),Lo(this),this.o=2,Du(this)):mA(this,this.Y-e)};function Du(e){e.l.G==0||e.I||LA(e.l,e)}function Lo(e){Ch(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Xg(e.W),oA(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Uv(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Vv(n.i,e))){if(n.I=e.N,!e.J&&Vv(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Lf(n),Ph(n);else break e;ay(n),Nn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=bc(un(n.ab,n),6e3));if(1>=IA(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Mo(n,11)}else if((e.J||n.g==e)&&Lf(n),!Cf(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var u=s[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var p=e.g;if(p){var v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var h=i.i;!h.g&&(xn(v,"spdy")||xn(v,"quic")||xn(v,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(ny(h,h.h),h.h=null))}if(i.D){var m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.sa=m,St(i.F,i.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var y=e;if(i.oa=UA(i,i.H?i.la:null,i.W),y.J){EA(i.i,y);var _=y,I=i.K;I&&_.setTimeout(I),_.B&&(Ch(_),Tc(_)),i.g=y}else PA(i);0<n.l.length&&Dh(n)}else s[0]!="stop"&&s[0]!="close"||Mo(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Mo(n,7):sy(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Yu(4)}catch{}}function AM(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(xv(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function ey(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(xv(e)||typeof e=="string")HS(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(xv(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=AM(e),o=i.length;for(var s=0;s<o;s++)t.call(void 0,i[s],n&&n[s],e)}}function xa(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof xa)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}ce=xa.prototype;ce.R=function(){ty(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ce.T=function(){return ty(this),this.g.concat()};function ty(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Yo(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],Yo(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}ce.get=function(e,t){return Yo(this.h,e)?this.h[e]:t};ce.set=function(e,t){Yo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ce.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],s=this.get(o);e.call(t,s,o,this)}};function Yo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var vA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var s=e[n].substring(0,i);o=e[n].substring(i+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Jo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Jo){this.g=t!==void 0?t:e.g,Of(this,e.j),this.s=e.s,Pf(this,e.i),Df(this,e.m),this.l=e.l,t=e.h;var n=new Ju;n.i=t.i,t.g&&(n.g=new xa(t.g),n.h=t.h),PI(this,n),this.o=e.o}else e&&(n=String(e).match(vA))?(this.g=!!t,Of(this,n[1]||"",!0),this.s=Lu(n[2]||""),Pf(this,n[3]||"",!0),Df(this,n[4]),this.l=Lu(n[5]||"",!0),PI(this,n[6]||"",!0),this.o=Lu(n[7]||"")):(this.g=!!t,this.h=new Ju(null,this.g))}Jo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xu(t,DI,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(xu(t,DI,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(xu(n,n.charAt(0)=="/"?OM:NM,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xu(n,DM)),e.join("")};function vi(e){return new Jo(e)}function Of(e,t,n){e.j=n?Lu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Pf(e,t,n){e.i=n?Lu(t,!0):t}function Df(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function PI(e,t,n){t instanceof Ju?(e.h=t,LM(e.h,e.g)):(n||(t=xu(t,PM)),e.h=new Ju(t,e.g))}function St(e,t,n){e.h.set(t,n)}function Rh(e){return St(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function xM(e){return e instanceof Jo?vi(e):new Jo(e,void 0)}function CM(e,t,n,i){var o=new Jo(null,void 0);return e&&Of(o,e),t&&Pf(o,t),n&&Df(o,n),i&&(o.l=i),o}function Lu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xu(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,RM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function RM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var DI=/[#\/\?@]/g,NM=/[#\?:]/g,OM=/[#\?]/g,PM=/[#\?@]/g,DM=/#/g;function Ju(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function eo(e){e.g||(e.g=new xa,e.h=0,e.i&&kM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ce=Ju.prototype;ce.add=function(e,t){eo(this),this.i=null,e=Ca(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function gA(e,t){eo(e),t=Ca(e,t),Yo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Yo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ty(e)))}function yA(e,t){return eo(e),t=Ca(e,t),Yo(e.g.h,t)}ce.forEach=function(e,t){eo(this),this.g.forEach(function(n,i){HS(n,function(o){e.call(t,o,i,this)},this)},this)};ce.T=function(){eo(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],s=0;s<o.length;s++)n.push(t[i]);return n};ce.R=function(e){eo(this);var t=[];if(typeof e=="string")yA(this,e)&&(t=TI(t,this.g.get(Ca(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=TI(t,e[n])}return t};ce.set=function(e,t){return eo(this),this.i=null,e=Ca(this,e),yA(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ce.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function _A(e,t,n){gA(e,t),0<n.length&&(e.i=null,e.g.set(Ca(e,t),jg(n)),e.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var u=o;i[s]!==""&&(u+="="+encodeURIComponent(String(i[s]))),e.push(u)}}return this.i=e.join("&")};function Ca(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function LM(e,t){t&&!e.j&&(eo(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(gA(this,i),_A(this,o,n))},e)),e.j=t}var MM=function(){function e(t,n){this.h=t,this.g=n}return e}();function wA(e){this.l=e||FM,Le.PerformanceNavigationTiming?(e=Le.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Le.g&&Le.g.Ea&&Le.g.Ea()&&Le.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var FM=10;function bA(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function IA(e){return e.h?1:e.g?e.g.size:0}function Vv(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function ny(e,t){e.g?e.g.add(t):e.h=t}function EA(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}wA.prototype.cancel=function(){var e,t;if(this.i=TA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=qS(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function TA(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=qS(e.g.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i.concat(u.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return jg(e.i)}function ry(){}ry.prototype.stringify=function(e){return Le.JSON.stringify(e,void 0)};ry.prototype.parse=function(e){return Le.JSON.parse(e,void 0)};function UM(){this.g=new ry}function VM(e,t,n){var i=n||"";try{ey(e,function(o,s){var u=o;_c(o)&&(u=zg(o)),t.push(i+s+"="+encodeURIComponent(u))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function jM(e,t){var n=new Sh;if(Le.Image){var i=new Image;i.onload=Gl(Wl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Gl(Wl,n,i,"TestLoadImage: error",!1,t),i.onabort=Gl(Wl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Gl(Wl,n,i,"TestLoadImage: timeout",!1,t),Le.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Wl(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function Sc(e){this.l=e.$b||null,this.j=e.ib||!1}fn(Sc,Yg);Sc.prototype.g=function(){return new Nh(this.l,this.j)};Sc.prototype.i=function(e){return function(){return e}}({});function Nh(e,t){tn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=iy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fn(Nh,tn);var iy=0;ce=Nh.prototype;ce.open=function(e,t){if(this.readyState!=iy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Zu(this)};ce.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Le).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ac(this)),this.readyState=iy};ce.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Zu(this)),this.g&&(this.readyState=3,Zu(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SA(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function SA(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ce.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ac(this):Zu(this),this.readyState==3&&SA(this)}};ce.Ua=function(e){this.g&&(this.response=this.responseText=e,Ac(this))};ce.Ta=function(e){this.g&&(this.response=e,Ac(this))};ce.ha=function(){this.g&&Ac(this)};function Ac(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Zu(e)}ce.setRequestHeader=function(e,t){this.v.append(e,t)};ce.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Zu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Nh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var BM=Le.JSON.parse;function Ht(e){tn.call(this),this.headers=new xa,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=AA,this.K=this.L=!1}fn(Ht,tn);var AA="",qM=/^https?$/i,$M=["POST","PUT"];ce=Ht.prototype;ce.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Lv.g(),this.C=this.u?OI(this.u):OI(Lv),this.g.onreadystatechange=un(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){LI(this,s);return}e=n||"";var o=new xa(this.headers);i&&ey(i,function(s,u){o.set(u,s)}),i=eM(o.T()),n=Le.FormData&&e instanceof Le.FormData,!(0<=$S($M,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{CA(this),0<this.B&&((this.K=HM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=un(this.pa,this)):this.A=Qg(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){LI(this,s)}};function HM(e){return sa&&oM()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function KM(e){return e.toLowerCase()=="content-type"}ce.pa=function(){typeof Vg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cn(this,"timeout"),this.abort(8))};function LI(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,kA(e),Oh(e)}function kA(e){e.D||(e.D=!0,cn(e,"complete"),cn(e,"error"))}ce.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,cn(this,"complete"),cn(this,"abort"),Oh(this))};ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Oh(this,!0)),Ht.Z.M.call(this)};ce.Fa=function(){this.s||(this.F||this.v||this.l?xA(this):this.cb())};ce.cb=function(){xA(this)};function xA(e){if(e.h&&typeof Vg<"u"&&(!e.C[1]||ui(e)!=4||e.ba()!=2)){if(e.v&&ui(e)==4)Qg(e.Fa,0,e);else if(cn(e,"readystatechange"),ui(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var s=String(e.H).match(vA)[1]||null;if(!s&&Le.self&&Le.self.location){var u=Le.self.location.protocol;s=u.substr(0,u.length-1)}o=!qM.test(s?s.toLowerCase():"")}i=o}if(i)cn(e,"complete"),cn(e,"success");else{e.m=6;try{var l=2<ui(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",kA(e)}}finally{Oh(e)}}}}function Oh(e,t){if(e.g){CA(e);var n=e.g,i=e.C[0]?xf:null;e.g=null,e.C=null,t||cn(e,"ready");try{n.onreadystatechange=i}catch{}}}function CA(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Le.clearTimeout(e.A),e.A=null)}function ui(e){return e.g?e.g.readyState:0}ce.ba=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}};ce.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),BM(t)}};function MI(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case AA:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ce.Da=function(){return this.m};ce.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function GM(e){var t="";return Bg(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function oy(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=GM(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):St(e,t,n))}function Iu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function RA(e){this.za=0,this.l=[],this.h=new Sh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Iu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Iu("baseRetryDelayMs",5e3,e),this.$a=Iu("retryDelaySeedMs",1e4,e),this.Ya=Iu("forwardChannelMaxRetries",2,e),this.ra=Iu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new wA(e&&e.concurrentRequestLimit),this.Ca=new UM,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ce=RA.prototype;ce.ma=8;ce.G=1;function sy(e){if(NA(e),e.G==3){var t=e.V++,n=vi(e.F);St(n,"SID",e.J),St(n,"RID",t),St(n,"TYPE","terminate"),kc(e,n),t=new Ec(e,e.h,t,void 0),t.K=2,t.v=Rh(vi(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon&&(n=Le.navigator.sendBeacon(t.v.toString(),"")),!n&&Le.Image&&(new Image().src=t.v,n=!0),n||(t.g=VA(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Tc(t)}FA(e)}ce.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Ph(e){e.g&&(uy(e),e.g.cancel(),e.g=null)}function NA(e){Ph(e),e.u&&(Le.clearTimeout(e.u),e.u=null),Lf(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Le.clearTimeout(e.m),e.m=null)}function Qm(e,t){e.l.push(new MM(e.Za++,t)),e.G==3&&Dh(e)}function Dh(e){bA(e.i)||e.m||(e.m=!0,Wg(e.Ha,e),e.C=0)}function zM(e,t){return IA(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=bc(un(e.Ha,e,t),MA(e,e.C)),e.C++,!0)}ce.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ec(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=KS(n),GS(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(i+=s,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=OA(this,t,i),o=vi(this.F),St(o,"RID",e),St(o,"CVER",22),this.D&&St(o,"X-HTTP-Session-Id",this.D),kc(this,o),this.o&&n&&oy(o,this.o,n),ny(this.i,t),this.Ra&&St(o,"TYPE","init"),this.ja?(St(o,"$req",i),St(o,"SID","null"),t.$=!0,Fv(t,o,null)):Fv(t,o,i),this.G=2}}else this.G==3&&(e?FI(this,e):this.l.length==0||bA(this.i)||FI(this))};function FI(e,t){var n;t?n=t.m:n=e.V++;var i=vi(e.F);St(i,"SID",e.J),St(i,"RID",n),St(i,"AID",e.U),kc(e,i),e.o&&e.s&&oy(i,e.o,e.s),n=new Ec(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=OA(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ny(e.i,n),Fv(n,i,t)}function kc(e,t){e.j&&ey({},function(n,i){St(t,i,n)})}function OA(e,t,n){n=Math.min(e.l.length,n);var i=e.j?un(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var u=["count="+n];s==-1?0<n?(s=o[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var p=o[f].h,v=o[f].g;if(p-=s,0>p)s=Math.max(0,o[f].h-100),l=!1;else try{VM(v,u,"req"+p+"_")}catch{i&&i(v)}}if(l){i=u.join("&");break e}}return e=e.l.splice(0,n),t.D=e,i}function PA(e){e.g||e.u||(e.Y=1,Wg(e.Ga,e),e.A=0)}function ay(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=bc(un(e.Ga,e),MA(e,e.A)),e.A++,!0)}ce.Ga=function(){if(this.u=null,DA(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=bc(un(this.bb,this),e)}};ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Nn(10),Ph(this),DA(this))};function uy(e){e.B!=null&&(Le.clearTimeout(e.B),e.B=null)}function DA(e){e.g=new Ec(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=vi(e.oa);St(t,"RID","rpc"),St(t,"SID",e.J),St(t,"CI",e.N?"0":"1"),St(t,"AID",e.U),kc(e,t),St(t,"TYPE","xmlhttp"),e.o&&e.s&&oy(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Rh(vi(t)),n.s=null,n.U=!0,hA(n,e)}ce.ab=function(){this.v!=null&&(this.v=null,Ph(this),ay(this),Nn(19))};function Lf(e){e.v!=null&&(Le.clearTimeout(e.v),e.v=null)}function LA(e,t){var n=null;if(e.g==t){Lf(e),uy(e),e.g=null;var i=2}else if(Vv(e.i,t))n=t.D,EA(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=Ah(),cn(i,new uA(i,n)),Dh(e)}else PA(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&zM(e,t)||i==2&&ay(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Mo(e,5);break;case 4:Mo(e,10);break;case 3:Mo(e,6);break;default:Mo(e,2)}}}function MA(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Mo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=un(e.jb,e);n||(n=new Jo("//www.google.com/images/cleardot.gif"),Le.location&&Le.location.protocol=="http"||Of(n,"https"),Rh(n)),jM(n.toString(),i)}else Nn(2);e.G=0,e.j&&e.j.va(t),FA(e),NA(e)}ce.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Nn(2)):(this.h.info("Failed to ping google.com"),Nn(1))};function FA(e){e.G=0,e.I=-1,e.j&&((TA(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,jg(e.l),e.l.length=0),e.j.ua())}function UA(e,t,n){var i=xM(n);if(i.i!="")t&&Pf(i,t+"."+i.i),Df(i,i.m);else{var o=Le.location;i=CM(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Bg(e.aa,function(s,u){St(i,u,s)}),t=e.D,n=e.sa,t&&n&&St(i,t,n),St(i,"VER",e.ma),kc(e,i),i}function VA(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Ht(new Sc({ib:!0})):new Ht(e.qa),t.L=e.H,t}function jA(){}ce=jA.prototype;ce.xa=function(){};ce.wa=function(){};ce.va=function(){};ce.ua=function(){};ce.Oa=function(){};function Mf(){if(sa&&!(10<=Number(sM)))throw Error("Environmental error: no available transport.")}Mf.prototype.g=function(e,t){return new ar(e,t)};function ar(e,t){tn.call(this),this.g=new RA(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Cf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Cf(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ra(this)}fn(ar,tn);ar.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Wg(un(e.hb,e,t))),Nn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=UA(e,null,e.W),Dh(e)};ar.prototype.close=function(){sy(this.g)};ar.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Qm(this.g,t)}else this.v?(t={},t.__data__=zg(e),Qm(this.g,t)):Qm(this.g,e)};ar.prototype.M=function(){this.g.j=null,delete this.j,sy(this.g),delete this.g,ar.Z.M.call(this)};function BA(e){Jg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}fn(BA,Jg);function qA(){Zg.call(this),this.status=1}fn(qA,Zg);function Ra(e){this.g=e}fn(Ra,jA);Ra.prototype.xa=function(){cn(this.g,"a")};Ra.prototype.wa=function(e){cn(this.g,new BA(e))};Ra.prototype.va=function(e){cn(this.g,new qA)};Ra.prototype.ua=function(){cn(this.g,"b")};Mf.prototype.createWebChannel=Mf.prototype.g;ar.prototype.send=ar.prototype.u;ar.prototype.open=ar.prototype.m;ar.prototype.close=ar.prototype.close;kh.NO_ERROR=0;kh.TIMEOUT=8;kh.HTTP_ERROR=6;cA.COMPLETE="complete";lA.EventType=Ic;Ic.OPEN="a";Ic.CLOSE="b";Ic.ERROR="c";Ic.MESSAGE="d";tn.prototype.listen=tn.prototype.N;Ht.prototype.listenOnce=Ht.prototype.O;Ht.prototype.getLastError=Ht.prototype.La;Ht.prototype.getLastErrorCode=Ht.prototype.Da;Ht.prototype.getStatus=Ht.prototype.ba;Ht.prototype.getResponseJson=Ht.prototype.Qa;Ht.prototype.getResponseText=Ht.prototype.ga;Ht.prototype.send=Ht.prototype.ea;var WM=function(){return new Mf},XM=function(){return Ah()},Ym=kh,QM=cA,YM=is,UI={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},JM=Sc,Xl=lA,ZM=Ht,eF={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();ir.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Se(t,e),t}(Error),Cr=new US("@firebase/firestore");function jv(){return Cr.logLevel}function ie(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Cr.logLevel<=rt.DEBUG){var i=t.map(cy);Cr.debug.apply(Cr,Tt(["Firestore (8.10.1): "+e],i))}}function qt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Cr.logLevel<=rt.ERROR){var i=t.map(cy);Cr.error.apply(Cr,Tt(["Firestore (8.10.1): "+e],i))}}function Ff(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Cr.logLevel<=rt.WARN){var i=t.map(cy);Cr.warn.apply(Cr,Tt(["Firestore (8.10.1): "+e],i))}}function cy(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw qt(t),new Error(t)}function Oe(e,t){e||ye()}function ae(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $A=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=tF(40),s=0;s<o.length;++s)i.length<20&&o[s]<n&&(i+=t.charAt(o[s]%t.length));return i},e}();function ze(e,t){return e<t?-1:e>t?1:0}function aa(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function HA(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?ze(this.nanoseconds,t.nanoseconds):ze(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Be=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new $n(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function os(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function KA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GA=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&ye(),i===void 0?i=t.length-n:i>t.length-n&&ye(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var s=t.get(o),u=n.get(o);if(s<u)return-1;if(s>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),ut=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],s=0,u=n;s<u.length;s++){var l=u[s];if(l.indexOf("//")>=0)throw new X(L.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(GA),nF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Or=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return nF.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",s=0,u=function(){if(o.length===0)throw new X(L.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new X(L.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var p=n[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new X(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=p,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(u(),s++)}if(u(),l)throw new X(L.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(GA),ua=function(){function e(t){this.fields=t,t.sort(Or.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return aa(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),Kn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return ze(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Kn.EMPTY_BYTE_STRING=new Kn("");var rF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(e){if(Oe(!!e),typeof e=="string"){var t=0,n=rF.exec(e);if(Oe(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Bt(e.seconds),nanos:Bt(e.nanos)}}function Bt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ca(e){return typeof e=="string"?Kn.fromBase64String(e):Kn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zA(e){var t=e.mapValue.fields.__previous_value__;return ly(t)?zA(t):t}function ec(e){var t=Qi(e.mapValue.fields.__local_write_time__.timestampValue);return new $n(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(e){return e==null}function Uf(e){return e===0&&1/e==-1/0}function WA(e){return typeof e=="number"&&Number.isInteger(e)&&!Uf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(ut.fromString(t))},e.fromName=function(t){return new e(ut.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&ut.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return ut.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new ut(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ly(e)?4:10:ye()}function Jr(e,t){var n=Zo(e);if(n!==Zo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ec(e).isEqual(ec(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var s=Qi(i.timestampValue),u=Qi(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return ca(i.bytesValue).isEqual(ca(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Bt(i.geoPointValue.latitude)===Bt(o.geoPointValue.latitude)&&Bt(i.geoPointValue.longitude)===Bt(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Bt(i.integerValue)===Bt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var s=Bt(i.doubleValue),u=Bt(o.doubleValue);return s===u?Uf(s)===Uf(u):isNaN(s)&&isNaN(u)}return!1}(e,t);case 9:return aa(e.arrayValue.values||[],t.arrayValue.values||[],Jr);case 10:return function(i,o){var s=i.mapValue.fields||{},u=o.mapValue.fields||{};if(VI(s)!==VI(u))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(u[l]===void 0||!Jr(s[l],u[l])))return!1;return!0}(e,t);default:return ye()}}function tc(e,t){return(e.values||[]).find(function(n){return Jr(n,t)})!==void 0}function la(e,t){var n=Zo(e),i=Zo(t);if(n!==i)return ze(n,i);switch(n){case 0:return 0;case 1:return ze(e.booleanValue,t.booleanValue);case 2:return function(o,s){var u=Bt(o.integerValue||o.doubleValue),l=Bt(s.integerValue||s.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(e,t);case 3:return jI(e.timestampValue,t.timestampValue);case 4:return jI(ec(e),ec(t));case 5:return ze(e.stringValue,t.stringValue);case 6:return function(o,s){var u=ca(o),l=ca(s);return u.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var u=o.split("/"),l=s.split("/"),f=0;f<u.length&&f<l.length;f++){var p=ze(u[f],l[f]);if(p!==0)return p}return ze(u.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var u=ze(Bt(o.latitude),Bt(s.latitude));return u!==0?u:ze(Bt(o.longitude),Bt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var u=o.values||[],l=s.values||[],f=0;f<u.length&&f<l.length;++f){var p=la(u[f],l[f]);if(p)return p}return ze(u.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var u=o.fields||{},l=Object.keys(u),f=s.fields||{},p=Object.keys(f);l.sort(),p.sort();for(var v=0;v<l.length&&v<p.length;++v){var h=ze(l[v],p[v]);if(h!==0)return h;var m=la(u[l[v]],f[p[v]]);if(m!==0)return m}return ze(l.length,p.length)}(e.mapValue,t.mapValue);default:throw ye()}}function jI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ze(e,t);var n=Qi(e),i=Qi(t),o=ze(n.seconds,i.seconds);return o!==0?o:ze(n.nanos,i.nanos)}function fy(e){return Bv(e)}function Bv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=Qi(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ca(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,be.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",s=!0,u=0,l=i.values||[];u<l.length;u++)s?s=!1:o+=",",o+=Bv(l[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",s=!0,u=0,l=Object.keys(i.fields||{}).sort();u<l.length;u++){var f=l[u];s?s=!1:o+=",",o+=f+":"+Bv(i.fields[f])}return o+"}"}(e.mapValue):ye();var t,n}function Vf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function qv(e){return!!e&&"integerValue"in e}function hy(e){return!!e&&"arrayValue"in e}function BI(e){return!!e&&"nullValue"in e}function qI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pf(e){return!!e&&"mapValue"in e}function Mu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return os(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Mu(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Mu(e.arrayValue.values[i]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!pf(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mu(n)},e.prototype.setAll=function(t){var n=this,i=Or.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var p=n.getFieldsMap(i);n.applyChanges(p,o,s),o={},s=[],i=f.popLast()}l?o[f.lastSegment()]=Mu(l):s.push(f.lastSegment())});var u=this.getFieldsMap(i);this.applyChanges(u,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Jr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];pf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){os(n,function(l,f){return t[l]=f});for(var o=0,s=i;o<s.length;o++){var u=s[o];delete t[u]}},e.prototype.clone=function(){return new e(Mu(this.value))},e}();function XA(e){var t=[];return os(e.fields,function(n,i){var o=new Or([n]);if(pf(i)){var s=XA(i.mapValue).fields;if(s.length===0)t.push(o);else for(var u=0,l=s;u<l.length;u++){var f=l[u];t.push(o.child(f))}}else t.push(o)}),new ua(t)}var _n=function(){function e(t,n,i,o,s){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,Be.min(),rr.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,rr.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,rr.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=rr.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=rr.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),iF=function(e,t,n,i,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=u,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(e,t,n,i,o,s,u){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),new iF(e,t,n,i,o,s,u)}function xc(e){var t=ae(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+fy(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),ss(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Bf(t.startAt)),t.endAt&&(n+="|ub:",n+=Bf(t.endAt)),t.h=n}return t.h}function Lh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!hF(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],s=t.filters[i],o.op!==s.op||!o.field.isEqual(s.field)||!Jr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!KI(e.startAt,t.startAt)&&KI(e.endAt,t.endAt)}function jf(e){return be.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var or=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).field=n,s.op=i,s.value=o,s}return Se(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new oF(n,i,o):i==="array-contains"?new uF(n,o):i==="in"?new cF(n,o):i==="not-in"?new lF(n,o):i==="array-contains-any"?new fF(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new sF(n,o):new aF(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(la(i,this.value)):i!==null&&Zo(this.value)===Zo(i)&&this.m(la(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ye()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),oF=function(e){function t(n,i,o){var s=this;return(s=e.call(this,n,i,o)||this).key=be.fromName(o.referenceValue),s}return Se(t,e),t.prototype.matches=function(n){var i=be.comparator(n.key,this.key);return this.m(i)},t}(or),sF=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=QA("in",i),o}return Se(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(or),aF=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=QA("not-in",i),o}return Se(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(or);function QA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return be.fromName(i.referenceValue)})}var uF=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return Se(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return hy(i)&&tc(i.arrayValue,this.value)},t}(or),cF=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return Se(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&tc(this.value.arrayValue,i)},t}(or),lF=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return Se(t,e),t.prototype.matches=function(n){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!tc(this.value.arrayValue,i)},t}(or),fF=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return Se(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!hy(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return tc(i.value.arrayValue,s)})},t}(or),nc=function(e,t){this.position=e,this.before=t};function Bf(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return fy(t)}).join(",")}var Ys=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function hF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function HI(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var s=t[o],u=e.position[o];if(i=s.field.isKeyField()?be.comparator(be.fromName(u.referenceValue),n.key):la(u,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function KI(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Jr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yi=function(e,t,n,i,o,s,u,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s="F"),u===void 0&&(u=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function YA(e,t,n,i,o,s,u,l){return new yi(e,t,n,i,o,s,u,l)}function Cc(e){return new yi(e)}function mf(e){return!ss(e.limit)&&e.limitType==="F"}function qf(e){return!ss(e.limit)&&e.limitType==="L"}function dy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function py(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function my(e){return e.collectionGroup!==null}function fa(e){var t=ae(e);if(t.p===null){t.p=[];var n=py(t),i=dy(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new Ys(n)),t.p.push(new Ys(Or.keyField(),"asc"));else{for(var o=!1,s=0,u=t.explicitOrderBy;s<u.length;s++){var l=u[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ys(Or.keyField(),f))}}}return t.p}function Zr(e){var t=ae(e);if(!t.T)if(t.limitType==="F")t.T=$I(t.path,t.collectionGroup,fa(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=fa(t);i<o.length;i++){var s=o[i],u=s.dir==="desc"?"asc":"desc";n.push(new Ys(s.field,u))}var l=t.endAt?new nc(t.endAt.position,!t.endAt.before):null,f=t.startAt?new nc(t.startAt.position,!t.startAt.before):null;t.T=$I(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function JA(e,t,n){return new yi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Rc(e,t){return Lh(Zr(e),Zr(t))&&e.limitType===t.limitType}function ZA(e){return xc(Zr(e))+"|lt:"+e.limitType}function $v(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+fy(o.value);var o}).join(", ")+"]"),ss(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Bf(t.startAt)),t.endAt&&(n+=", endAt: "+Bf(t.endAt)),"Target("+n+")"}(Zr(e))+"; limitType="+e.limitType+")"}function Nc(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):be.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var u=s[o];if(!u.field.isKeyField()&&i.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!HI(n.startAt,fa(n),i))&&(!n.endAt||!HI(n.endAt,fa(n),i))}(e,t)}function e1(e){return function(t,n){for(var i=!1,o=0,s=fa(e);o<s.length;o++){var u=s[o],l=dF(u,t,n);if(l!==0)return l;i=i||u.field.isKeyField()}return 0}}function dF(e,t,n){var i=e.field.isKeyField()?be.comparator(t.key,n.key):function(o,s,u){var l=s.data.field(o),f=u.data.field(o);return l!==null&&f!==null?la(l,f):ye()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uf(t)?"-0":t}}function n1(e){return{integerValue:""+e}}function r1(e,t){return WA(t)?n1(t):t1(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mh=function(){this._=void 0};function pF(e,t,n){return e instanceof ha?function(i,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof es?o1(e,t):e instanceof ts?s1(e,t):function(i,o){var s=i1(i,o),u=GI(s)+GI(i.A);return qv(s)&&qv(i.A)?n1(u):t1(i.R,u)}(e,t)}function mF(e,t,n){return e instanceof es?o1(e,t):e instanceof ts?s1(e,t):n}function i1(e,t){return e instanceof da?qv(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}var ha=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t}(Mh),es=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Se(t,e),t}(Mh);function o1(e,t){for(var n=a1(t),i=function(u){n.some(function(l){return Jr(l,u)})||n.push(u)},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:n}}}var ts=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Se(t,e),t}(Mh);function s1(e,t){for(var n=a1(t),i=function(u){n=n.filter(function(l){return!Jr(l,u)})},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:n}}}var da=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return Se(t,e),t}(Mh);function GI(e){return Bt(e.integerValue||e.doubleValue)}function a1(e){return hy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oc=function(e,t){this.field=e,this.transform=t},vF=function(e,t){this.version=e,this.transformResults=t},gn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function vf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Fh=function(){};function gF(e,t,n){e instanceof Pc?function(i,o,s){var u=i.value.clone(),l=XI(i.fieldTransforms,o,s.transformResults);u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):e instanceof to?function(i,o,s){if(vf(i.precondition,o)){var u=XI(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(u1(i)),l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Hv(e,t,n){e instanceof Pc?function(i,o,s){if(vf(i.precondition,o)){var u=i.value.clone(),l=QI(i.fieldTransforms,s,o);u.setAll(l),o.convertToFoundDocument(WI(o),u).setHasLocalMutations()}}(e,t,n):e instanceof to?function(i,o,s){if(vf(i.precondition,o)){var u=QI(i.fieldTransforms,s,o),l=o.data;l.setAll(u1(i)),l.setAll(u),o.convertToFoundDocument(WI(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){vf(i.precondition,o)&&o.convertToNoDocument(Be.min())}(e,t)}function yF(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var s=o[i],u=t.data.field(s.field),l=i1(s.transform,u||null);l!=null&&(n==null&&(n=rr.empty()),n.set(s.field,l))}return n||null}function zI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&aa(n,i,function(o,s){return function(u,l){return u.field.isEqual(l.field)&&function(f,p){return f instanceof es&&p instanceof es||f instanceof ts&&p instanceof ts?aa(f.elements,p.elements,Jr):f instanceof da&&p instanceof da?Jr(f.A,p.A):f instanceof ha&&p instanceof ha}(u.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function WI(e){return e.isFoundDocument()?e.version:Be.min()}var Pc=function(e){function t(n,i,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=i,u.precondition=o,u.fieldTransforms=s,u.type=0,u}return Se(t,e),t}(Fh),to=function(e){function t(n,i,o,s,u){u===void 0&&(u=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=s,l.fieldTransforms=u,l.type=1,l}return Se(t,e),t}(Fh);function u1(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function XI(e,t,n){var i=new Map;Oe(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],u=s.transform,l=t.data.field(s.field);i.set(s.field,mF(u,l,n[o]))}return i}function QI(e,t,n){for(var i=new Map,o=0,s=e;o<s.length;o++){var u=s[o],l=u.transform,f=n.data.field(u.field);i.set(u.field,pF(l,f,t))}return i}var jt,Ye,Dc=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return Se(t,e),t}(Fh),vy=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return Se(t,e),t}(Fh),_F=function(e){this.count=e};function c1(e){switch(e){case L.OK:return ye();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return ye()}}function l1(e){if(e===void 0)return qt("GRPC error has no .code"),L.UNKNOWN;switch(e){case jt.OK:return L.OK;case jt.CANCELLED:return L.CANCELLED;case jt.UNKNOWN:return L.UNKNOWN;case jt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case jt.INTERNAL:return L.INTERNAL;case jt.UNAVAILABLE:return L.UNAVAILABLE;case jt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case jt.NOT_FOUND:return L.NOT_FOUND;case jt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case jt.ABORTED:return L.ABORTED;case jt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case jt.DATA_LOSS:return L.DATA_LOSS;default:return ye()}}(Ye=jt||(jt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn=function(){function e(t,n){this.comparator=t,this.root=n||Vi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Vi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Ql(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Ql(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ql(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Ql(this.root,t,this.comparator,!0)},e}(),Ql=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?i(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Vi=function(){function e(t,n,i,o,s){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,s){return new e(t??this.key,n??this.value,i??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,s=i(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,i),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();var t=this.left.check();if(t!==this.right.check())throw ye();return t+(this.isRed()?0:1)},e}();Vi.EMPTY=null,Vi.RED=!0,Vi.BLACK=!1,Vi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ye()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,s){return this},e.prototype.insert=function(t,n,i){return new Vi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt=function(){function e(t){this.comparator=t,this.data=new wn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new YI(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new YI(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=i.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),YI=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),wF=new wn(be.comparator);function Rr(){return wF}var bF=new wn(be.comparator);function Kv(){return bF}var IF=new wn(be.comparator);function EF(){return IF}var TF=new Yt(be.comparator);function yt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=TF,i=0,o=e;i<o.length;i++){var s=o[i];n=n.add(s)}return n}var SF=new Yt(ze);function Uh(){return SF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gy=function(){function e(t,n,i,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,yy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Be.min(),i,Uh(),Rr(),yt())},e}(),yy=function(){function e(t,n,i,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Kn.EMPTY_BYTE_STRING,n,yt(),yt(),yt())},e}(),gf=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},f1=function(e,t){this.targetId=e,this.V=t},h1=function(e,t,n,i){n===void 0&&(n=Kn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},JI=function(){function e(){this.S=0,this.D=eE(),this.C=Kn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=yt(),n=yt(),i=yt();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ye()}}),new yy(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=eE()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),AF=function(){function e(t){this.W=t,this.G=new Map,this.H=Rr(),this.J=ZI(),this.Y=new Yt(ze)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,u=t.removedTargetIds;s<u.length;s++)o=u[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:ye()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){i.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var s=o.target;if(jf(s))if(i===0){var u=new be(s.path);this.tt(n,u,_n.newNoDocument(u,Be.min()))}else Oe(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(u,l){var f=n.ot(l);if(f){if(u.current&&jf(f.target)){var p=new be(f.target.path);n.H.get(p)!==null||n.at(l,p)||n.tt(l,p,_n.newNoDocument(p,t))}u.$&&(i.set(l,u.M()),u.L())}});var o=yt();this.J.forEach(function(u,l){var f=!0;l.forEachWhile(function(p){var v=n.ot(p);return!v||v.purpose===2||(f=!1,!1)}),f&&(o=o.add(u))});var s=new gy(t,i,this.Y,this.H,o);return this.H=Rr(),this.J=ZI(),this.Y=new Yt(ze),s},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new JI,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Yt(ze),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new JI),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function ZI(){return new wn(be.comparator)}function eE(){return new wn(be.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kF={asc:"ASCENDING",desc:"DESCENDING"},xF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CF=function(e,t){this.databaseId=e,this.I=t};function rc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function d1(e,t){return e.I?t.toBase64():t.toUint8Array()}function RF(e,t){return rc(e,t.toTimestamp())}function On(e){return Oe(!!e),Be.fromTimestamp(function(t){var n=Qi(t);return new $n(n.seconds,n.nanos)}(e))}function _y(e,t){return function(n){return new ut(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function p1(e){var t=ut.fromString(e);return Oe(b1(t)),t}function ic(e,t){return _y(e.databaseId,t.path)}function fi(e,t){var n=p1(t);if(n.get(1)!==e.databaseId.projectId)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new be(v1(n))}function Gv(e,t){return _y(e.databaseId,t)}function m1(e){var t=p1(e);return t.length===4?ut.emptyPath():v1(t)}function oc(e){return new ut(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function v1(e){return Oe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function tE(e,t,n){return{name:ic(e,t),fields:n.value.mapValue.fields}}function NF(e,t,n){var i=fi(e,t.name),o=On(t.updateTime),s=new rr({mapValue:{fields:t.fields}}),u=_n.newFoundDocument(i,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function $f(e,t){var n;if(t instanceof Pc)n={update:tE(e,t.key,t.value)};else if(t instanceof Dc)n={delete:ic(e,t.key)};else if(t instanceof to)n={update:tE(e,t.key,t.data),updateMask:MF(t.fieldMask)};else{if(!(t instanceof vy))return ye();n={verify:ic(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,s){var u=s.transform;if(u instanceof ha)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof es)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ts)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof da)return{fieldPath:s.field.canonicalString(),increment:u.A};throw ye()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:RF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(e,t.precondition)),n}function nE(e,t){var n=t.currentDocument?function(p){return p.updateTime!==void 0?gn.updateTime(On(p.updateTime)):p.exists!==void 0?gn.exists(p.exists):gn.none()}(t.currentDocument):gn.none(),i=t.updateTransforms?t.updateTransforms.map(function(p){return function(v,h){var m=null;if("setToServerValue"in h)Oe(h.setToServerValue==="REQUEST_TIME"),m=new ha;else if("appendMissingElements"in h){var y=h.appendMissingElements.values||[];m=new es(y)}else if("removeAllFromArray"in h){var _=h.removeAllFromArray.values||[];m=new ts(_)}else"increment"in h?m=new da(v,h.increment):ye();var I=Or.fromServerFormat(h.fieldPath);return new Oc(I,m)}(e,p)}):[];if(t.update){t.update.name;var o=fi(e,t.update.name),s=new rr({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(p){var v=p.fieldPaths||[];return new ua(v.map(function(h){return Or.fromServerFormat(h)}))}(t.updateMask);return new to(o,s,u,n,i)}return new Pc(o,s,n,i)}if(t.delete){var l=fi(e,t.delete);return new Dc(l,n)}if(t.verify){var f=fi(e,t.verify);return new vy(f,n)}return ye()}function g1(e,t){return{documents:[Gv(e,t.path)]}}function y1(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Gv(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Gv(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(p){return function(v){if(v.op==="=="){if(qI(v.value))return{unaryFilter:{field:Fs(v.field),op:"IS_NAN"}};if(BI(v.value))return{unaryFilter:{field:Fs(v.field),op:"IS_NULL"}}}else if(v.op==="!="){if(qI(v.value))return{unaryFilter:{field:Fs(v.field),op:"IS_NOT_NAN"}};if(BI(v.value))return{unaryFilter:{field:Fs(v.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(v.field),op:PF(v.op),value:v.value}}}(p)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(p){return{field:Fs(p.field),direction:OF(p.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var u=function(l,f){return l.I||ss(f)?f:{value:f}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=rE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=rE(t.endAt)),n}function _1(e){var t=m1(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Oe(i===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var u=[];n.where&&(u=w1(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(h){return function(m){return new Ys(Gs(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h)}));var f=null;n.limit&&(f=function(h){var m;return ss(m=typeof h=="object"?h.value:h)?null:m}(n.limit));var p=null;n.startAt&&(p=iE(n.startAt));var v=null;return n.endAt&&(v=iE(n.endAt)),YA(t,o,l,u,f,"F",p,v)}function w1(e){return e?e.unaryFilter!==void 0?[LF(e)]:e.fieldFilter!==void 0?[DF(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return w1(t)}).reduce(function(t,n){return t.concat(n)}):ye():[]}function rE(e){return{before:e.before,values:e.position}}function iE(e){var t=!!e.before,n=e.values||[];return new nc(n,t)}function OF(e){return kF[e]}function PF(e){return xF[e]}function Fs(e){return{fieldPath:e.canonicalString()}}function Gs(e){return Or.fromServerFormat(e.fieldPath)}function DF(e){return or.create(Gs(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ye()}}(e.fieldFilter.op),e.fieldFilter.value)}function LF(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Gs(e.unaryFilter.field);return or.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Gs(e.unaryFilter.field);return or.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Gs(e.unaryFilter.field);return or.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Gs(e.unaryFilter.field);return or.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ye()}}function MF(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function b1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=oE(t)),t=FF(e.get(n),t);return oE(t)}function FF(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function oE(e){return e+""}function ci(e){var t=e.length;if(Oe(t>=2),t===2)return Oe(e.charAt(0)===""&&e.charAt(1)===""),ut.emptyPath();for(var n=t-2,i=[],o="",s=0;s<t;){var u=e.indexOf("",s);switch((u<0||u>n)&&ye(),e.charAt(u+1)){case"":var l=e.substring(s,u),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=e.substring(s,u),o+="\0";break;case"":o+=e.substring(s,u+1);break;default:ye()}s=u+2}return new ut(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UF=function(e,t){this.seconds=e,this.nanoseconds=t},tr=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};tr.store="owner",tr.key="owner";var Gi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Gi.store="mutationQueues",Gi.keyPath="userId";var wt=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};wt.store="mutations",wt.keyPath="batchId",wt.userMutationsIndex="userMutationsIndex",wt.userMutationsKeyPath=["userId","batchId"];var dn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Nr(n)]},e.key=function(t,n,i){return[t,Nr(n),i]},e}();dn.store="documentMutations",dn.PLACEHOLDER=new dn;var VF=function(e,t){this.path=e,this.readTime=t},jF=function(e,t){this.path=e,this.version=t},Ot=function(e,t,n,i,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=s};Ot.store="remoteDocuments",Ot.readTimeIndex="readTimeIndex",Ot.readTimeIndexPath="readTime",Ot.collectionReadTimeIndex="collectionReadTimeIndex",Ot.collectionReadTimeIndexPath=["parentPath","readTime"];var zr=function(e){this.byteSize=e};zr.store="remoteDocumentGlobal",zr.key="remoteDocumentGlobalKey";var Bn=function(e,t,n,i,o,s,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=u};Bn.store="targets",Bn.keyPath="targetId",Bn.queryTargetsIndexName="queryTargetsIndex",Bn.queryTargetsKeyPath=["canonicalId","targetId"];var an=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};an.store="targetDocuments",an.keyPath=["targetId","path"],an.documentTargetsIndex="documentTargetsIndex",an.documentTargetsKeyPath=["path","targetId"];var nr=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};nr.key="targetGlobalKey",nr.store="targetGlobal";var qo=function(e,t){this.collectionId=e,this.parent=t};qo.store="collectionParents",qo.keyPath=["collectionId","parent"];var hi=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};hi.store="clientMetadata",hi.keyPath="clientId";var pa=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};pa.store="bundles",pa.keyPath="bundleId";var ma=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ma.store="namedQueries",ma.keyPath="name";var BF=Tt(Tt([],Tt(Tt([],Tt(Tt([],Tt(Tt([],[Gi.store,wt.store,dn.store,Ot.store,Bn.store,tr.store,nr.store,an.store]),[hi.store])),[zr.store])),[qo.store])),[pa.store,ma.store]),I1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",E1=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Gn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},ee=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){i.nextCallback=function(u){i.wrapSuccess(t,u).next(o,s)},i.catchCallback=function(u){i.wrapFailure(n,u).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,s=0,u=!1;t.forEach(function(l){++o,l.next(function(){++s,u&&s===o&&n()},function(f){return i(f)})}),u=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(u){n=n.next(function(l){return l?e.resolve(l):u()})},o=0,s=t;o<s.length;o++)i(s[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(s,u){o.push(n.call(i,s,u))}),this.waitFor(o)},e}(),T1=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Gn,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new Fu(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var s=wy(o.target.error);i.ft.reject(new Fu(t,s))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(s){throw new Fu(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ie("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new $F(n)},e}(),va=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(Qo())===12.2&&qt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ie("SimpleDb","Removing database:",t),Po(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Qo(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)},e.gt=function(){var t;return typeof process<"u"&&((t=eF)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return H(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ie("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,u){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var p=f.target.result;s(p)},l.onblocked=function(){u(new Fu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var p=f.target.error;p.name==="VersionError"?u(new X(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new Fu(t,p))},l.onupgradeneeded=function(f){ie("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var p=f.target.result;i.wt.Rt(p,l.transaction,f.oldVersion,i.version).next(function(){ie("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return i.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return H(this,void 0,void 0,function(){var s,u,l,f,p;return $(this,function(v){switch(v.label){case 0:s=n==="readonly",u=0,l=function(){var h,m,y,_,I;return $(this,function(E){switch(E.label){case 0:++u,E.label=1;case 1:return E.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=E.sent(),h=T1.open(f.db,t,s?"readonly":"readwrite",i),m=o(h).catch(function(T){return h.abort(T),ee.reject(T)}).toPromise(),y={},m.catch(function(){}),[4,h.dt];case 3:return[2,(y.value=(E.sent(),m),y)];case 4:return _=E.sent(),I=_.name!=="FirebaseError"&&u<3,ie("SimpleDb","Transaction failed with error:",_.message,"Retrying:",I),f.close(),I?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,v.label=1;case 1:return[5,l()];case 2:if(typeof(p=v.sent())=="object")return[2,p.value];v.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),qF=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Po(this.Pt.delete())},e}(),Fu=function(e){function t(n,i){var o=this;return(o=e.call(this,L.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return Se(t,e),t}(X);function as(e){return e.name==="IndexedDbTransactionError"}var $F=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(ie("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(ie("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Po(i)},e.prototype.add=function(t){return ie("SimpleDb","ADD",this.store.name,t,t),Po(this.store.add(t))},e.prototype.get=function(t){var n=this;return Po(this.store.get(t)).next(function(i){return i===void 0&&(i=null),ie("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return ie("SimpleDb","DELETE",this.store.name,t),Po(this.store.delete(t))},e.prototype.count=function(){return ie("SimpleDb","COUNT",this.store.name),Po(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(s,u){o.push(u)}).next(function(){return o})},e.prototype.kt=function(t,n){ie("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(s,u,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new ee(function(i,o){n.onerror=function(s){var u=wy(s.target.error);o(u)},n.onsuccess=function(s){var u=s.target.result;u?t(u.primaryKey,u.value).next(function(l){l?u.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new ee(function(o,s){t.onerror=function(u){s(u.target.error)},t.onsuccess=function(u){var l=u.target.result;if(l){var f=new qF(l),p=n(l.primaryKey,l.value,f);if(p instanceof ee){var v=p.catch(function(h){return f.done(),ee.reject(h)});i.push(v)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return ee.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Po(e){return new ee(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=wy(i.target.error);n(o)}})}var sE=!1;function wy(e){var t=va._t(Qo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new X("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sE||(sE=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aE=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return Se(t,e),t}(E1);function zn(e,t){var n=ae(e);return va.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var by=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&gF(s,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(u=i[n]).key.isEqual(t.key)&&Hv(u,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var u;(u=s[o]).key.isEqual(t.key)&&Hv(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(Be.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},yt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&aa(this.mutations,t.mutations,function(n,i){return zI(n,i)})&&aa(this.baseMutations,t.baseMutations,function(n,i){return zI(n,i)})},e}(),HF=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){Oe(t.mutations.length===i.length);for(var o=EF(),s=t.mutations,u=0;u<s.length;u++)o=o.insert(s[u].key,i[u].version);return new e(t,n,i,o)},e}(),Vh=function(){function e(t,n,i,o,s,u,l){s===void 0&&(s=Be.min()),u===void 0&&(u=Be.min()),l===void 0&&(l=Kn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),S1=function(e){this.Lt=e};function zv(e,t){if(t.document)return NF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=be.fromSegments(t.noDocument.path),i=ya(t.noDocument.readTime),o=_n.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=be.fromSegments(t.unknownDocument.path);return i=ya(t.unknownDocument.version),_n.newUnknownDocument(s,i)}return ye()}function uE(e,t,n){var i=Iy(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,m){return{name:ic(h,m.key),fields:m.data.value.mapValue.fields,updateTime:rc(h,m.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new Ot(null,null,s,u,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=ga(t.version);return u=t.hasCommittedMutations,new Ot(null,new VF(l,f),null,u,i,o)}if(t.isUnknownDocument()){var p=t.key.path.toArray(),v=ga(t.version);return new Ot(new jF(p,v),null,null,!0,i,o)}return ye()}function Iy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function A1(e){var t=new $n(e[0],e[1]);return Be.fromTimestamp(t)}function ga(e){var t=e.toTimestamp();return new UF(t.seconds,t.nanoseconds)}function ya(e){var t=new $n(e.seconds,e.nanoseconds);return Be.fromTimestamp(t)}function qs(e,t){for(var n=(t.baseMutations||[]).map(function(f){return nE(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var s=t.mutations[i+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var u=t.mutations.map(function(f){return nE(e.Lt,f)}),l=$n.fromMillis(t.localWriteTimeMs);return new by(t.batchId,l,n,u)}function Cu(e){var t,n,i=ya(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?ya(e.lastLimboFreeSnapshotVersion):Be.min();return e.query.documents!==void 0?(Oe((n=e.query).documents.length===1),t=Zr(Cc(m1(n.documents[0])))):t=function(s){return Zr(_1(s))}(e.query),new Vh(t,e.targetId,0,e.lastListenSequenceNumber,i,o,Kn.fromBase64String(e.resumeToken))}function k1(e,t){var n,i=ga(t.snapshotVersion),o=ga(t.lastLimboFreeSnapshotVersion);n=jf(t.target)?g1(e.Lt,t.target):y1(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Bn(t.targetId,xc(t.target),i,s,t.sequenceNumber,o,n)}function x1(e){var t=_1({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?JA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KF=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return cE(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:ya(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return cE(t).put({bundleId:(i=n).id,createTime:ga(On(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return lE(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:x1(o.bundledQuery),readTime:ya(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return lE(t).put(function(i){return{name:i.name,readTime:ga(On(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();function cE(e){return zn(e,pa.store)}function lE(e){return zn(e,ma.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GF=function(){function e(){this.Bt=new Ey}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),ee.resolve()},e.prototype.getCollectionParents=function(t,n){return ee.resolve(this.Bt.getEntries(n))},e}(),Ey=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Yt(ut.comparator),s=!o.has(i);return this.index[n]=o.add(i),s},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Yt(ut.comparator)).toArray()},e}(),zF=function(){function e(){this.qt=new Ey}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var u={collectionId:o,parent:Nr(s)};return fE(t).put(u)}return ee.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[HA(n),""],!1,!0);return fE(t).Nt(o).next(function(s){for(var u=0,l=s;u<l.length;u++){var f=l[u];if(f.collectionId!==n)break;i.push(ci(f.parent))}return i})},e}();function fE(e){return zn(e,qo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hr=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(e,t,n){var i=e.store(wt.store),o=e.store(dn.store),s=[],u=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:u},function(_,I,E){return l++,E.delete()});s.push(f.next(function(){Oe(l===1)}));for(var p=[],v=0,h=n.mutations;v<h.length;v++){var m=h[v],y=dn.key(t,m.key.path,n.batchId);s.push(o.delete(y)),p.push(m.key)}return ee.waitFor(s).next(function(){return p})}function Hf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ye();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr.DEFAULT_COLLECTION_PERCENTILE=10,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hr.DEFAULT=new Hr(41943040,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hr.DISABLED=new Hr(-1,0,0);var WF=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return Oe(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ni(t).$t({index:wt.userMutationsIndex,range:i},function(o,s,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var s=this,u=$s(t),l=Ni(t);return l.add({}).next(function(f){Oe(typeof f=="number");for(var p=new by(f,n,i,o),v=function(T,C,P){var F=P.baseMutations.map(function(U){return $f(T.Lt,U)}),J=P.mutations.map(function(U){return $f(T.Lt,U)});return new wt(C,P.batchId,P.localWriteTime.toMillis(),F,J)}(s.R,s.userId,p),h=[],m=new Yt(function(T,C){return ze(T.canonicalString(),C.canonicalString())}),y=0,_=o;y<_.length;y++){var I=_[y],E=dn.key(s.userId,I.key.path,f);m=m.add(I.key.path.popLast()),h.push(l.put(v)),h.push(u.put(E,dn.PLACEHOLDER))}return m.forEach(function(T){h.push(s.Ut.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(function(){s.Kt[f]=p.keys()}),ee.waitFor(h).next(function(){return p})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Ni(t).get(n).next(function(o){return o?(Oe(o.userId===i.userId),qs(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?ee.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return i.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),u=null;return Ni(t).$t({index:wt.userMutationsIndex,range:s},function(l,f,p){f.userId===i.userId&&(Oe(f.batchId>=o),u=qs(i.R,f)),p.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Ni(t).$t({index:wt.userMutationsIndex,range:n,reverse:!0},function(o,s,u){i=s.batchId,u.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ni(t).Nt(wt.userMutationsIndex,i).next(function(o){return o.map(function(s){return qs(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=dn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),u=[];return $s(t).$t({range:s},function(l,f,p){var v=l[0],h=l[1],m=l[2],y=ci(h);if(v===i.userId&&n.path.isEqual(y))return Ni(t).get(m).next(function(_){if(!_)throw ye();Oe(_.userId===i.userId),u.push(qs(i.R,_))});p.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Yt(ze),s=[];return n.forEach(function(u){var l=dn.prefixForPath(i.userId,u.path),f=IDBKeyRange.lowerBound(l),p=$s(t).$t({range:f},function(v,h,m){var y=v[0],_=v[1],I=v[2],E=ci(_);y===i.userId&&u.path.isEqual(E)?o=o.add(I):m.done()});s.push(p)}),ee.waitFor(s).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,s=o.length+1,u=dn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(u),f=new Yt(ze);return $s(t).$t({range:l},function(p,v,h){var m=p[0],y=p[1],_=p[2],I=ci(y);m===i.userId&&o.isPrefixOf(I)?I.length===s&&(f=f.add(_)):h.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],s=[];return n.forEach(function(u){s.push(Ni(t).get(u).next(function(l){if(l===null)throw ye();Oe(l.userId===i.userId),o.push(qs(i.R,l))}))}),ee.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return C1(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),ee.forEach(o,function(s){return i.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return ee.resolve();var o=IDBKeyRange.lowerBound(dn.prefixForUser(n.userId)),s=[];return $s(t).$t({range:o},function(u,l,f){if(u[0]===n.userId){var p=ci(u[1]);s.push(p)}else f.done()}).next(function(){Oe(s.length===0)})})},e.prototype.containsKey=function(t,n){return R1(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return N1(t).get(this.userId).next(function(i){return i||new Gi(n.userId,-1,"")})},e}();function R1(e,t,n){var i=dn.prefixForPath(t,n.path),o=i[1],s=IDBKeyRange.lowerBound(i),u=!1;return $s(e).$t({range:s,Ft:!0},function(l,f,p){var v=l[0],h=l[1];l[2],v===t&&h===o&&(u=!0),p.done()}).next(function(){return u})}function Ni(e){return zn(e,wt.store)}function $s(e){return zn(e,dn.store)}function N1(e){return zn(e,Gi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kf=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),XF=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new Kf(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Be.fromTimestamp(new $n(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Us(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return Oe(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,s=0,u=[];return Us(t).$t(function(l,f){var p=Cu(f);p.sequenceNumber<=n&&i.get(p.targetId)===null&&(s++,u.push(o.removeTargetData(t,p)))}).next(function(){return ee.waitFor(u)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Us(t).$t(function(i,o){var s=Cu(o);n(s)})},e.prototype.Xt=function(t){return dE(t).get(nr.key).next(function(n){return Oe(n!==null),n})},e.prototype.Zt=function(t,n){return dE(t).put(nr.key,n)},e.prototype.te=function(t,n){return Us(t).put(k1(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=xc(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return Us(t).$t({range:o,index:Bn.queryTargetsIndexName},function(u,l,f){var p=Cu(l);Lh(n,p.target)&&(s=p,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,s=[],u=ji(t);return n.forEach(function(l){var f=Nr(l.path);s.push(u.put(new an(i,f))),s.push(o.referenceDelegate.addReference(t,i,l))}),ee.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,s=ji(t);return ee.forEach(n,function(u){var l=Nr(u.path);return ee.waitFor([s.delete([i,l]),o.referenceDelegate.removeReference(t,i,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=ji(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=ji(t),s=yt();return o.$t({range:i,Ft:!0},function(u,l,f){var p=ci(u[1]),v=new be(p);s=s.add(v)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var i=Nr(n.path),o=IDBKeyRange.bound([i],[HA(i)],!1,!0),s=0;return ji(t).$t({index:an.documentTargetsIndex,Ft:!0,range:o},function(u,l,f){var p=u[0];u[1],p!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Us(t).get(n).next(function(i){return i?Cu(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(e){return zn(e,Bn.store)}function dE(e){return zn(e,nr.store)}function ji(e){return zn(e,an.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(e){return H(this,void 0,void 0,function(){return $(this,function(t){if(e.code!==L.FAILED_PRECONDITION||e.message!==I1)throw e;return ie("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(e,t){var n=e[0],i=e[1],o=t[0],s=t[1],u=ze(n,o);return u===0?ze(i,s):u}var QF=function(){function e(t){this.ne=t,this.buffer=new Yt(pE),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();pE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),YF=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;ie("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return H(n,void 0,void 0,function(){var o;return $(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return as(o=s.sent())?(ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,us(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),JF=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return ee.resolve(ir.o);var o=new QF(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return i.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(hE)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),hE):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,s,u,l,f,p,v=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>v.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+v.params.maximumSequenceNumbersToCollect+" from "+m),o=v.params.maximumSequenceNumbersToCollect):o=m,u=Date.now(),v.nthSequenceNumber(t,o)}).next(function(m){return i=m,l=Date.now(),v.removeTargets(t,i,n)}).next(function(m){return s=m,f=Date.now(),v.removeOrphanedDocuments(t,i)}).next(function(m){return p=Date.now(),jv()<=rt.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-h)+`ms
	Determined least recently used `+o+" in "+(l-u)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+m+" documents in "+(p-f)+`ms
Total Duration: `+(p-h)+"ms"),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:m})})},e}(),ZF=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new JF(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return Yl(t,i)},e.prototype.removeReference=function(t,n,i){return Yl(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return Yl(t,n)},e.prototype._e=function(t,n){return function(i,o){var s=!1;return N1(i).Ot(function(u){return R1(i,u,o).next(function(l){return l&&(s=!0),ee.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],u=0;return this.we(t,function(l,f){if(f<=n){var p=i._e(t,l).next(function(v){if(!v)return u++,o.getEntry(t,l).next(function(){return o.removeEntry(l),ji(t).delete([0,Nr(l.path)])})});s.push(p)}}).next(function(){return ee.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return Yl(t,n)},e.prototype.we=function(t,n){var i,o=ji(t),s=ir.o;return o.$t({index:an.documentTargetsIndex},function(u,l){var f=u[0];u[1];var p=l.path,v=l.sequenceNumber;f===0?(s!==ir.o&&n(new be(ci(i)),s),s=v,i=p):s=ir.o}).next(function(){s!==ir.o&&n(new be(ci(i)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Yl(e,t){return ji(e).put(function(n,i){return new an(0,Nr(n.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Na=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,s=i;o<s.length;o++){var u=s[o],l=u[0],f=u[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){os(this.inner,function(n,i){for(var o=0,s=i;o<s.length;o++){var u=s[o],l=u[0],f=u[1];t(l,f)}})},e.prototype.isEmpty=function(){return KA(this.inner)},e}(),O1=function(){function e(){this.changes=new Na(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Be.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:_n.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?ee.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),eU=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Fi(t).put(Jl(n),i)},e.prototype.removeEntry=function(t,n){var i=Fi(t),o=Jl(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return Fi(t).get(Jl(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return Fi(t).get(Jl(n)).next(function(o){return{document:i.ye(n,o),size:Hf(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=Rr();return this.pe(t,n,function(s,u){var l=i.ye(s,u);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=Rr(),s=new wn(be.comparator);return this.pe(t,n,function(u,l){var f=i.ye(u,l);o=o.insert(u,f),s=s.insert(u,Hf(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return ee.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),u=s.getNext();return Fi(t).$t({range:o},function(l,f,p){for(var v=be.fromSegments(l);u&&be.comparator(u,v)<0;)i(u,null),u=s.getNext();u&&u.isEqual(v)&&(i(u,f),u=s.hasNext()?s.getNext():null),u?p.Ct(u.path.toArray()):p.done()}).next(function(){for(;u;)i(u,null),u=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,s=Rr(),u=n.path.length+1,l={};if(i.isEqual(Be.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var p=n.path.toArray(),v=Iy(i);l.range=IDBKeyRange.lowerBound([p,v],!0),l.index=Ot.collectionReadTimeIndex}return Fi(t).$t(l,function(h,m,y){if(h.length===u){var _=zv(o.R,m);n.path.isPrefixOf(_.key.path)?Nc(n,_)&&(s=s.insert(_.key,_)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new tU(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return mE(t).get(zr.key).next(function(n){return Oe(!!n),n})},e.prototype.me=function(t,n){return mE(t).put(zr.key,n)},e.prototype.ye=function(t,n){if(n){var i=zv(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(Be.min()))return i}return _n.newInvalidDocument(t)},e}(),tU=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new Na(function(s){return s.toString()},function(s,u){return s.isEqual(u)}),o}return Se(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],s=0,u=new Yt(function(l,f){return ze(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var p=i.Ae.get(l);if(f.document.isValidDocument()){var v=uE(i.Ie.R,f.document,i.getReadTime(l));u=u.add(l.path.popLast());var h=Hf(v);s+=h-p,o.push(i.Ie.addEntry(n,l,v))}else if(s-=p,i.trackRemovals){var m=uE(i.Ie.R,_n.newNoDocument(l,Be.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,m))}else o.push(i.Ie.removeEntry(n,l))}),u.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),ee.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(s){return o.Ae.set(i,s.size),s.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(s){var u=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),u})},t}(O1);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(e){return zn(e,zr.store)}function Fi(e){return zn(e,Ot.store)}function Jl(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nU=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var s=this;Oe(i<o&&i>=0&&o<=11);var u=new T1("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(tr.store)}(t),function(f){f.createObjectStore(Gi.store,{keyPath:Gi.keyPath}),f.createObjectStore(wt.store,{keyPath:wt.keyPath,autoIncrement:!0}).createIndex(wt.userMutationsIndex,wt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(dn.store)}(t),vE(t),function(f){f.createObjectStore(Ot.store)}(t));var l=ee.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(an.store),f.deleteObjectStore(Bn.store),f.deleteObjectStore(nr.store)}(t),vE(t)),l=l.next(function(){return function(f){var p=f.store(nr.store),v=new nr(0,0,Be.min().toTimestamp(),0);return p.put(nr.key,v)}(u)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,p){return p.store(wt.store).Nt().next(function(v){f.deleteObjectStore(wt.store),f.createObjectStore(wt.store,{keyPath:wt.keyPath,autoIncrement:!0}).createIndex(wt.userMutationsIndex,wt.userMutationsKeyPath,{unique:!0});var h=p.store(wt.store),m=v.map(function(y){return h.put(y)});return ee.waitFor(m)})}(t,u)})),l=l.next(function(){(function(f){f.createObjectStore(hi.store,{keyPath:hi.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return s.Re(u)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(zr.store)}(t),s.be(u)})),i<7&&o>=7&&(l=l.next(function(){return s.ve(u)})),i<8&&o>=8&&(l=l.next(function(){return s.Pe(t,u)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var p=f.objectStore(Ot.store);p.createIndex(Ot.readTimeIndex,Ot.readTimeIndexPath,{unique:!1}),p.createIndex(Ot.collectionReadTimeIndex,Ot.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return s.Ve(u)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(pa.store,{keyPath:pa.keyPath})})(t),function(f){f.createObjectStore(ma.store,{keyPath:ma.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Ot.store).$t(function(i,o){n+=Hf(o)}).next(function(){var i=new zr(n);return t.store(zr.store).put(zr.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(Gi.store),o=t.store(wt.store);return i.Nt().next(function(s){return ee.forEach(s,function(u){var l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(wt.userMutationsIndex,l).next(function(f){return ee.forEach(f,function(p){Oe(p.userId===u.userId);var v=qs(n.R,p);return C1(t,u.userId,v).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(an.store),i=t.store(Ot.store);return t.store(nr.store).get(nr.key).next(function(o){var s=[];return i.$t(function(u,l){var f=new ut(u),p=function(v){return[0,Nr(v)]}(f);s.push(n.get(p).next(function(v){return v?ee.resolve():function(h){return n.put(new an(0,Nr(h),o.highestListenSequenceNumber))}(f)}))}).next(function(){return ee.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(qo.store,{keyPath:qo.keyPath});var i=n.store(qo.store),o=new Ey,s=function(u){if(o.add(u)){var l=u.lastSegment(),f=u.popLast();return i.put({collectionId:l,parent:Nr(f)})}};return n.store(Ot.store).$t({Ft:!0},function(u,l){var f=new ut(u);return s(f.popLast())}).next(function(){return n.store(dn.store).$t({Ft:!0},function(u,l){u[0];var f=u[1];u[2];var p=ci(f);return s(p.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(Bn.store);return i.$t(function(o,s){var u=Cu(s),l=k1(n.R,u);return i.put(l)})},e}();function vE(e){e.createObjectStore(an.store,{keyPath:an.keyPath}).createIndex(an.documentTargetsIndex,an.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Bn.store,{keyPath:Bn.keyPath}).createIndex(Bn.queryTargetsIndexName,Bn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(nr.store)}var Jm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",rU=function(){function e(t,n,i,o,s,u,l,f,p,v){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=s,this.window=u,this.document=l,this.De=p,this.Ce=v,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new X(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ZF(this,o),this.Le=n+"main",this.R=new S1(f),this.Be=new va(this.Le,11,new nU(this.R)),this.qe=new XF(this.referenceDelegate,this.R),this.Ut=new zF,this.Ue=function(h,m){return new eU(h,m)}(this.R,this.Ut),this.Ke=new KF,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,v===!1&&qt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new X(L.FAILED_PRECONDITION,Jm);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new ir(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return H(n,void 0,void 0,function(){return $(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return H(n,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return H(n,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Zl(n).put(new hi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(as(n))return ie("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Eu(t).get(tr.key).next(function(i){return ee.resolve(n.tn(i))})},e.prototype.en=function(t){return Zl(t).delete(this.clientId)},e.prototype.nn=function(){return H(this,void 0,void 0,function(){var t,n,i,o,s=this;return $(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=zn(l,hi.store);return f.Nt().next(function(p){var v=s.rn(p,18e5),h=p.filter(function(m){return v.indexOf(m)===-1});return ee.forEach(h,function(m){return f.delete(m.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?ee.resolve(!0):Eu(t).get(tr.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new X(L.FAILED_PRECONDITION,Jm);return!1}}return!(!n.networkEnabled||!n.inForeground)||Zl(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var u=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(u||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&ie("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return H(this,void 0,void 0,function(){var t=this;return $(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[tr.store,hi.store],function(i){var o=new aE(i,ir.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Zl(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return WF.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ie("IndexedDbPersistence","Starting transaction:",t);var s,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,BF,function(l){return s=new aE(l,o.Ne?o.Ne.next():ir.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw qt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new X(L.FAILED_PRECONDITION,I1);return i(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return i(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Eu(t).get(tr.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new X(L.FAILED_PRECONDITION,Jm)})},e.prototype.Ze=function(t){var n=new tr(this.clientId,this.allowTabSynchronization,Date.now());return Eu(t).put(tr.key,n)},e.yt=function(){return va.yt()},e.prototype.Xe=function(t){var n=this,i=Eu(t);return i.get(tr.key).next(function(o){return n.tn(o)?(ie("IndexedDbPersistence","Releasing primary lease."),i.delete(tr.key)):ee.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(qt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),cL()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ie("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return qt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){qt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Eu(e){return zn(e,tr.store)}function Zl(e){return zn(e,hi.store)}function Ty(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var P1=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,u=i;s<u.length;s++)u[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var s=0,u=n;s<u.length;s++)u[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):my(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new be(n)).next(function(i){var o=Kv();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,s=n.collectionGroup,u=Kv();return this.Ut.getCollectionParents(t,s).next(function(l){return ee.forEach(l,function(f){var p=function(v,h){return new yi(h,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(s));return o.An(t,p,i).next(function(v){v.forEach(function(h,m){u=u.insert(h,m)})})}).next(function(){return u})})},e.prototype.An=function(t,n,i){var o,s,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,u.Rn(t,s,o).next(function(f){o=f;for(var p=0,v=s;p<v.length;p++)for(var h=v[p],m=0,y=h.mutations;m<y.length;m++){var _=y[m],I=_.key,E=o.get(I);E==null&&(E=_n.newInvalidDocument(I),o=o.insert(I,E)),Hv(_,E,h.localWriteTime),E.isFoundDocument()||(o=o.remove(I))}})}).next(function(){return o.forEach(function(l,f){Nc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=yt(),s=0,u=n;s<u.length;s++)for(var l=0,f=u[s].mutations;l<f.length;l++){var p=f[l];p instanceof to&&i.get(p.key)===null&&(o=o.add(p.key))}var v=i;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(m,y){y.isFoundDocument()&&(v=v.insert(m,y))}),v})},e}(),iU=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=yt(),o=yt(),s=0,u=n.docChanges;s<u.length;s++){var l=u[s];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),D1=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var s=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(Be.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var l=s.Cn(n,u);return(mf(n)||qf(n))&&s.Nn(n.limitType,l,o,i)?s.Dn(t,n):(jv()<=rt.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$v(n)),s.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return l.forEach(function(p){f=f.insert(p.key,p)}),f}))})},e.prototype.Cn=function(t,n){var i=new Yt(e1(t));return n.forEach(function(o,s){Nc(t,s)&&(i=i.add(s))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return jv()<=rt.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",$v(n)),this.Sn.getDocumentsMatchingQuery(t,n,Be.min())},e}(),oU=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new wn(ze),this.Fn=new Na(function(s){return xc(s)},Lh),this.$n=Be.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new P1(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(e,t,n,i){return new oU(e,t,n,i)}function M1(e,t){return H(this,void 0,void 0,function(){var n,i,o,s;return $(this,function(u){switch(u.label){case 0:return n=ae(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(p){return f=p,i=n.persistence.getMutationQueue(t),o=new P1(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(p){for(var v=[],h=[],m=yt(),y=0,_=f;y<_.length;y++){var I=_[y];v.push(I.batchId);for(var E=0,T=I.mutations;E<T.length;E++){var C=T[E];m=m.add(C.key)}}for(var P=0,F=p;P<F.length;P++){var J=F[P];h.push(J.batchId);for(var U=0,de=J.mutations;U<de.length;U++){var G=de[U];m=m.add(G.key)}}return o.pn(l,m).next(function(Q){return{Ln:Q,removedBatchIds:v,addedBatchIds:h}})})})];case 1:return s=u.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function sU(e,t){var n=ae(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(u,l,f,p){var v=f.batch,h=v.keys(),m=ee.resolve();return h.forEach(function(y){m=m.next(function(){return p.getEntry(l,y)}).next(function(_){var I=f.docVersions.get(y);Oe(I!==null),_.version.compareTo(I)<0&&(v.applyToRemoteDocument(_,f),_.isValidDocument()&&p.addEntry(_,f.commitVersion))})}),m.next(function(){return u._n.removeMutationBatch(l,v)})}(n,i,t,s).next(function(){return s.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function F1(e){var t=ae(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function aU(e,t){var n=ae(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(v,h){var m=o.get(h);if(m){l.push(n.qe.removeMatchingKeys(s,v.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,v.addedDocuments,h)}));var y=v.resumeToken;if(y.approximateByteSize()>0){var _=m.withResumeToken(y,i).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,_),function(I,E,T){return Oe(E.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,_,v)&&l.push(n.qe.updateTargetData(s,_))}}});var f=Rr();if(t.documentUpdates.forEach(function(v,h){t.resolvedLimboDocuments.has(v)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,v))}),l.push(uU(s,u,t.documentUpdates,i,void 0).next(function(v){f=v})),!i.isEqual(Be.min())){var p=n.qe.getLastRemoteSnapshotVersion(s).next(function(v){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,i)});l.push(p)}return ee.waitFor(l).next(function(){return u.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function uU(e,t,n,i,o){var s=yt();return n.forEach(function(u){return s=s.add(u)}),t.getEntries(e,s).next(function(u){var l=Rr();return n.forEach(function(f,p){var v=u.get(f),h=(o==null?void 0:o.get(f))||i;p.isNoDocument()&&p.version.isEqual(Be.min())?(t.removeEntry(f,h),l=l.insert(f,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p,h),l=l.insert(f,p)):ie("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",p.version)}),l})}function cU(e,t){var n=ae(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function Gf(e,t){var n=ae(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(s){return s?(o=s,ee.resolve(o)):n.qe.allocateTargetId(i).next(function(u){return o=new Vh(t,u,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function _a(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,u;return $(this,function(l){switch(l.label){case 0:i=ae(e),o=i.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!as(u=l.sent()))throw u;return ie("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function zf(e,t,n){var i=ae(e),o=Be.min(),s=yt();return i.persistence.runTransaction("Execute query","readonly",function(u){return function(l,f,p){var v=ae(l),h=v.Fn.get(p);return h!==void 0?ee.resolve(v.kn.get(h)):v.qe.getTargetData(f,p)}(i,u,Zr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(u,l.targetId).next(function(f){s=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(u,t,n?o:Be.min(),n?s:yt())}).next(function(l){return{documents:l,Bn:s}})})}function U1(e,t){var n=ae(e),i=ae(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return i.lt(s,t).next(function(u){return u?u.target:null})})}function V1(e){var t=ae(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,s){var u=ae(i),l=Rr(),f=Iy(s),p=Fi(o),v=IDBKeyRange.lowerBound(f,!0);return p.$t({index:Ot.readTimeIndex,range:v},function(h,m){var y=zv(u.R,m);l=l.insert(y.key,y),f=m.readTime}).next(function(){return{wn:l,readTime:A1(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function lU(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){return[2,(t=ae(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var s=Fi(o),u=Be.min();return s.$t({index:Ot.readTimeIndex,reverse:!0},function(l,f,p){f.readTime&&(u=A1(f.readTime)),p.done()}).next(function(){return u})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fU=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return ee.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:On(i.createTime)}),ee.resolve()},e.prototype.getNamedQuery=function(t,n){return ee.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:x1(i.bundledQuery),readTime:On(i.readTime)}}(n)),ee.resolve()},e}(),Sy=function(){function e(){this.Wn=new Yt(Zt.Gn),this.zn=new Yt(Zt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new Zt(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Zt(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new be(new ut([])),o=new Zt(i,t),s=new Zt(i,t+1),u=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),u.push(l.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new be(new ut([])),i=new Zt(n,t),o=new Zt(n,t+1),s=yt();return this.zn.forEachInRange([i,o],function(u){s=s.add(u.key)}),s},e.prototype.containsKey=function(t){var n=new Zt(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),Zt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return be.comparator(t.key,n.key)||ze(t.ns,n.ns)},e.Hn=function(t,n){return ze(t.ns,n.ns)||be.comparator(t.key,n.key)},e}(),hU=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Yt(Zt.Gn)}return e.prototype.checkEmpty=function(t){return ee.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new by(s,n,i,o);this._n.push(u);for(var l=0,f=o;l<f.length;l++){var p=f[l];this.rs=this.rs.add(new Zt(p.key,s)),this.Ut.addToCollectionParentIndex(t,p.key.path.popLast())}return ee.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return ee.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),s=o<0?0:o;return ee.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ee.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return ee.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new Zt(n,0),s=new Zt(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,s],function(l){var f=i.os(l.ns);u.push(f)}),ee.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Yt(ze);return n.forEach(function(s){var u=new Zt(s,0),l=new Zt(s,Number.POSITIVE_INFINITY);i.rs.forEachInRange([u,l],function(f){o=o.add(f.ns)})}),ee.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,s=i;be.isDocumentKey(s)||(s=s.child(""));var u=new Zt(new be(s),0),l=new Yt(ze);return this.rs.forEachWhile(function(f){var p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(l=l.add(f.ns)),!0)},u),ee.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var s=n.os(o);s!==null&&i.push(s)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;Oe(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return ee.forEach(n.mutations,function(s){var u=new Zt(s.key,n.batchId);return o=o.delete(u),i.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new Zt(n,0),o=this.rs.firstAfterOrEqual(i);return ee.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,ee.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),dU=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new wn(be.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,s=this.docs.get(o),u=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return ee.resolve(i?i.document.clone():_n.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=Rr();return n.forEach(function(s){var u=i.docs.get(s);o=o.insert(s,u?u.document.clone():_n.newInvalidDocument(s))}),ee.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=Rr(),s=new be(n.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var l=u.getNext(),f=l.key,p=l.value,v=p.document,h=p.readTime;if(!n.path.isPrefixOf(f.path))break;h.compareTo(i)<=0||Nc(n,v)&&(o=o.insert(v.key,v.clone()))}return ee.resolve(o)},e.prototype.fs=function(t,n){return ee.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new pU(this)},e.prototype.getSize=function(t){return ee.resolve(this.size)},e}(),pU=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return Se(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(s,u){u.document.isValidDocument()?o.push(i.Ie.addEntry(n,u.document,i.getReadTime(s))):i.Ie.removeEntry(s)}),ee.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(O1),mU=function(){function e(t){this.persistence=t,this.ds=new Na(function(n){return xc(n)},Lh),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.ws=0,this._s=new Sy,this.targetCount=0,this.ys=Kf.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),ee.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return ee.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return ee.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ee.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),ee.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Kf(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,ee.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),ee.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,ee.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,s=0,u=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),u.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),ee.waitFor(u).next(function(){return s})},e.prototype.getTargetCount=function(t){return ee.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return ee.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),ee.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(u){s.push(o.markPotentiallyOrphaned(t,u))}),ee.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),ee.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return ee.resolve(i)},e.prototype.containsKey=function(t,n){return ee.resolve(this._s.containsKey(n))},e}(),vU=function(){function e(t,n){var i=this;this.gs={},this.Ne=new ir(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new mU(this),this.Ut=new GF,this.Ue=function(o,s){return new dU(o,function(u){return i.referenceDelegate.ps(u)})}(this.Ut),this.R=new S1(n),this.Ke=new fU(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new hU(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ie("MemoryPersistence","Starting transaction:",t);var s=new gU(this.Ne.next());return this.referenceDelegate.Es(),i(s).next(function(u){return o.referenceDelegate.Ts(s).next(function(){return u})}).toPromise().then(function(u){return s.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return ee.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),gU=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return Se(t,e),t}(E1),yU=function(){function e(t){this.persistence=t,this.As=new Sy,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ye()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),ee.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),ee.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),ee.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(s){return i.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(u){return i.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.vs,function(o){var s=be.fromPath(o);return n.Ps(t,s).next(function(u){u||i.removeEntry(s)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return ee.or([function(){return ee.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),on=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(e,t){return"firestore_clients_"+e+"_"+t}function yE(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function Zm(e,t){return"firestore_targets_"+e+"_"+t}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");var _E=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,s=JSON.parse(i),u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new X(s.error.code,s.error.message)),u?new e(t,n,s.state,o):(qt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),ev=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new X(o.error.code,o.error.message)),s?new e(t,o.state,i):(qt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),wE=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,s=Uh(),u=0;o&&u<i.activeTargetIds.length;++u)o=WA(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return o?new e(t,s):(qt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),_U=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(qt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Wv=function(){function e(){this.activeTargetIds=Uh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),tv=function(){function e(t,n,i,o,s){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new wn(ze),this.started=!1,this.$s=[];var u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=gE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Wv),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return H(this,void 0,void 0,function(){var t,n,i,o,s,u,l,f,p,v,h,m=this;return $(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(s=this.getItem(gE(this.persistenceKey,o)))&&(u=wE.Vs(o,s))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),p=0,v=this.$s;p<v.length;p++)h=v[p],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(Zm(this.persistenceKey,t));if(i){var o=ev.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Zm(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,i.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ie("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ie("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ie("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(ie("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void qt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return H(n,void 0,void 0,function(){var o,s,u,l,f,p;return $(this,function(v){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(s=this.ni(i.key,i.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(u=this.si(i.key,i.newValue)))return[2,this.ii(u)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(p=function(h){var m=ir.o;if(h!=null)try{var y=JSON.parse(h);Oe(typeof y=="number"),m=y}catch(_){qt("SharedClientState","Failed to read sequence number from WebStorage",_)}return m}(i.newValue))!==ir.o&&this.sequenceNumberHandler(p);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new _E(this.currentUser,t,n,i),s=yE(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=yE(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=Zm(this.persistenceKey,t),s=new ev(t,n,i);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return wE.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),s=i[2]!==void 0?i[2]:null;return _E.Vs(new on(s),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return ev.Vs(o,n)},e.prototype.js=function(t){return _U.Vs(t)},e.prototype.ii=function(t){return H(this,void 0,void 0,function(){return $(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ie("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),u=this.Gs(o),l=[],f=[];return u.forEach(function(p){s.has(p)||l.push(p)}),s.forEach(function(p){u.has(p)||f.push(p)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Uh();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),j1=function(){function e(){this.li=new Wv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Wv,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),wU=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),bE=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),bU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},IU=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),EU=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Se(t,e),t.prototype.Fi=function(n,i,o,s){return new Promise(function(u,l){var f=new ZM;f.listenOnce(QM.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Ym.NO_ERROR:var v=f.getResponseJson();ie("Connection","XHR received:",JSON.stringify(v)),u(v);break;case Ym.TIMEOUT:ie("Connection",'RPC "'+n+'" timed out'),l(new X(L.DEADLINE_EXCEEDED,"Request time out"));break;case Ym.HTTP_ERROR:var h=f.getStatus();if(ie("Connection",'RPC "'+n+'" failed with status:',h,"response text:",f.getResponseText()),h>0){var m=f.getResponseJson().error;if(m&&m.status&&m.message){var y=function(_){var I=_.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(I)>=0?I:L.UNKNOWN}(m.status);l(new X(y,m.message))}else l(new X(L.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new X(L.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ie("Connection",'RPC "'+n+'" completed.')}});var p=JSON.stringify(s);f.send(i,"POST",p,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=WM(),u=XM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new JM({})),this.ki(l.initMessageHeaders,i),nL()||oL()||sL()||aL()||uL()||iL()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ie("Connection","Creating WebChannel: "+f,l);var p=s.createWebChannel(f,l),v=!1,h=!1,m=new IU({Ei:function(_){h?ie("Connection","Not sending because WebChannel is closed:",_):(v||(ie("Connection","Opening WebChannel transport."),p.open(),v=!0),ie("Connection","WebChannel sending:",_),p.send(_))},Ti:function(){return p.close()}}),y=function(_,I,E){_.listen(I,function(T){try{E(T)}catch(C){setTimeout(function(){throw C},0)}})};return y(p,Xl.EventType.OPEN,function(){h||ie("Connection","WebChannel transport opened.")}),y(p,Xl.EventType.CLOSE,function(){h||(h=!0,ie("Connection","WebChannel transport closed"),m.Vi())}),y(p,Xl.EventType.ERROR,function(_){h||(h=!0,Ff("Connection","WebChannel transport errored:",_),m.Vi(new X(L.UNAVAILABLE,"The operation could not be completed")))}),y(p,Xl.EventType.MESSAGE,function(_){var I;if(!h){var E=_.data[0];Oe(!!E);var T=E,C=T.error||((I=T[0])===null||I===void 0?void 0:I.error);if(C){ie("Connection","WebChannel received error:",C);var P=C.status,F=function(U){var de=jt[U];if(de!==void 0)return l1(de)}(P),J=C.message;F===void 0&&(F=L.INTERNAL,J="Unknown error status: "+P+" with message "+C.message),h=!0,m.Vi(new X(F,J)),p.close()}else ie("Connection","WebChannel received:",E),m.Si(E)}}),y(u,YM.STAT_EVENT,function(_){_.stat===UI.PROXY?ie("Connection","Detected buffering proxy"):_.stat===UI.NOPROXY&&ie("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var s=this.xi(t,n);ie("RestConnection","Sending: ",s,i);var u={};return this.ki(u,o),this.Fi(t,s,u,i).then(function(l){return ie("RestConnection","Received: ",l),l},function(l){throw Ff("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=bU[t];return this.Di+"/v1/"+n+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){return typeof window<"u"?window:null}function yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(e){return new CF(e,!0)}var Ay=function(){function e(t,n,i,o,s){i===void 0&&(i=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,i-o);s>0&&ie("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),q1=function(){function e(t,n,i,o,s,u){this.Se=t,this.zi=i,this.Hi=o,this.Ji=s,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ay(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return H(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return H(this,void 0,void 0,function(){return $(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return H(this,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(qt(n.toString()),qt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===L.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var s=new X(L.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return H(t,void 0,void 0,function(){return $(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ie("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),TU=function(e){function t(n,i,o,s,u){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,u)||this).R=s,l}return Se(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(s,u){var l;if("targetChange"in u){u.targetChange;var f=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:ye()}(u.targetChange.targetChangeType||"NO_CHANGE"),p=u.targetChange.targetIds||[],v=function(E,T){return E.I?(Oe(T===void 0||typeof T=="string"),Kn.fromBase64String(T||"")):(Oe(T===void 0||T instanceof Uint8Array),Kn.fromUint8Array(T||new Uint8Array))}(s,u.targetChange.resumeToken),h=(m=u.targetChange.cause)&&function(E){var T=E.code===void 0?L.UNKNOWN:l1(E.code);return new X(T,E.message||"")}(m);l=new h1(f,p,v,h||null)}else if("documentChange"in u){u.documentChange,(f=u.documentChange).document,f.document.name,f.document.updateTime,p=fi(s,f.document.name),v=On(f.document.updateTime);var m=new rr({mapValue:{fields:f.document.fields}}),y=(h=_n.newFoundDocument(p,v,m),f.targetIds||[]),_=f.removedTargetIds||[];l=new gf(y,_,h.key,h)}else if("documentDelete"in u)u.documentDelete,(f=u.documentDelete).document,p=fi(s,f.document),v=f.readTime?On(f.readTime):Be.min(),m=_n.newNoDocument(p,v),h=f.removedTargetIds||[],l=new gf([],h,m.key,m);else if("documentRemove"in u)u.documentRemove,(f=u.documentRemove).document,p=fi(s,f.document),v=f.removedTargetIds||[],l=new gf([],v,p,null);else{if(!("filter"in u))return ye();u.filter;var I=u.filter;I.targetId,f=I.count||0,p=new _F(f),v=I.targetId,l=new f1(v,p)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return Be.min();var u=s.targetChange;return u.targetIds&&u.targetIds.length?Be.min():u.readTime?On(u.readTime):Be.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=oc(this.R),i.addTarget=function(s,u){var l,f=u.target;return(l=jf(f)?{documents:g1(s,f)}:{query:y1(s,f)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=d1(s,u.resumeToken):u.snapshotVersion.compareTo(Be.min())>0&&(l.readTime=rc(s,u.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,u){var l=function(f,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ye()}}(0,u.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=oc(this.R),i.removeTarget=n,this.cr(i)},t}(q1),SU=function(e){function t(n,i,o,s,u){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,u)||this).R=s,l.gr=!1,l}return Se(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Oe(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(s,u){return s&&s.length>0?(Oe(u!==void 0),s.map(function(l){return function(f,p){var v=f.updateTime?On(f.updateTime):On(p);return v.isEqual(Be.min())&&(v=On(p)),new vF(v,f.transformResults||[])}(l,u)})):[]}(n.writeResults,n.commitTime),o=On(n.commitTime);return this.listener.Tr(o,i)}return Oe(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=oc(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return $f(i.R,s)})};this.cr(o)},t}(q1),AU=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=i,s.R=o,s.Rr=!1,s}return Se(t,e),t.prototype.br=function(){if(this.Rr)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Ni(n,i,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===L.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new X(L.UNKNOWN,u.toString())})},t.prototype.$i=function(n,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.$i(n,i,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===L.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new X(L.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),kU=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(qt(n),this.Vr=!1):ie("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),xU=function(e,t,n,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return H(s,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return no(this)?(ie("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return H(this,void 0,void 0,function(){var p;return $(this,function(v){switch(v.label){case 0:return(p=ae(f)).Or.add(4),[4,Oa(p)];case 1:return v.sent(),p.Br.set("Unknown"),p.Or.delete(4),[4,Lc(p)];case 2:return v.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new kU(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(e){return H(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:if(!no(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Oa(e){return H(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Bh(e,t){var n=ae(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Cy(n)?xy(n):Da(n).er()&&ky(n,t))}function sc(e,t){var n=ae(e),i=Da(n);n.$r.delete(t),i.er()&&$1(n,t),n.$r.size===0&&(i.er()?i.ir():no(n)&&n.Br.set("Unknown"))}function ky(e,t){e.qr.U(t.targetId),Da(e).mr(t)}function $1(e,t){e.qr.U(t),Da(e).yr(t)}function xy(e){e.qr=new AF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Da(e).start(),e.Br.Sr()}function Cy(e){return no(e)&&!Da(e).tr()&&e.$r.size>0}function no(e){return ae(e).Or.size===0}function H1(e){e.qr=void 0}function CU(e){return H(this,void 0,void 0,function(){return $(this,function(t){return e.$r.forEach(function(n,i){ky(e,n)}),[2]})})}function RU(e,t){return H(this,void 0,void 0,function(){return $(this,function(n){return H1(e),Cy(e)?(e.Br.Nr(t),xy(e)):e.Br.set("Unknown"),[2]})})}function NU(e,t,n){return H(this,void 0,void 0,function(){var i,o,s;return $(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof h1&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(l,f){return H(this,void 0,void 0,function(){var p,v,h,m;return $(this,function(y){switch(y.label){case 0:p=f.cause,v=0,h=f.targetIds,y.label=1;case 1:return v<h.length?(m=h[v],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,p)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return v++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return i=u.sent(),ie("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Wf(e,i)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof gf?e.qr.X(t):t instanceof f1?e.qr.rt(t):e.qr.et(t),n.isEqual(Be.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,F1(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(l,f){var p=l.qr.ut(f);return p.targetChanges.forEach(function(v,h){if(v.resumeToken.approximateByteSize()>0){var m=l.$r.get(h);m&&l.$r.set(h,m.withResumeToken(v.resumeToken,f))}}),p.targetMismatches.forEach(function(v){var h=l.$r.get(v);if(h){l.$r.set(v,h.withResumeToken(Kn.EMPTY_BYTE_STRING,h.snapshotVersion)),$1(l,v);var m=new Vh(h.target,v,1,h.sequenceNumber);ky(l,m)}}),l.remoteSyncer.applyRemoteEvent(p)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return ie("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,Wf(e,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function Wf(e,t,n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:if(!as(t))throw t;return e.Or.add(1),[4,Oa(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return F1(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return $(this,function(s){switch(s.label){case 0:return ie("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Lc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function K1(e,t){return t().catch(function(n){return Wf(e,n,t)})}function Pa(e){return H(this,void 0,void 0,function(){var t,n,i,o,s;return $(this,function(u){switch(u.label){case 0:t=ae(e),n=Yi(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(l){return no(l)&&l.Fr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,cU(t.localStore,i)];case 3:return(o=u.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var p=Yi(l);p.er()&&p.pr&&p.Er(f.mutations)}(t,o),[3,6]);case 4:return s=u.sent(),[4,Wf(t,s)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return G1(t)&&z1(t),[2]}})})}function G1(e){return no(e)&&!Yi(e).tr()&&e.Fr.length>0}function z1(e){Yi(e).start()}function OU(e){return H(this,void 0,void 0,function(){return $(this,function(t){return Yi(e).Ar(),[2]})})}function PU(e){return H(this,void 0,void 0,function(){var t,n,i,o;return $(this,function(s){for(t=Yi(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function DU(e,t,n){return H(this,void 0,void 0,function(){var i,o;return $(this,function(s){switch(s.label){case 0:return i=e.Fr.shift(),o=HF.from(i,t,n),[4,K1(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Pa(e)];case 2:return s.sent(),[2]}})})}function LU(e,t){return H(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return t&&Yi(e).pr?[4,function(i,o){return H(this,void 0,void 0,function(){var s,u;return $(this,function(l){switch(l.label){case 0:return c1(u=o.code)&&u!==L.ABORTED?(s=i.Fr.shift(),Yi(i).sr(),[4,K1(i,function(){return i.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Pa(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return G1(e)&&z1(e),[2]}})})}function Xv(e,t){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=ae(e),t?(n.Or.delete(2),[4,Lc(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Oa(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Da(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var s=ae(n);return s.br(),new TU(i,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:CU.bind(null,e),Ri:RU.bind(null,e),_r:NU.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),Cy(e)?xy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),H1(e),i.label=3;case 3:return[2]}})})})),e.Ur}function Yi(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var s=ae(n);return s.br(),new SU(i,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:OU.bind(null,e),Ri:LU.bind(null,e),Ir:PU.bind(null,e),Tr:DU.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,Pa(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(ie("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var MU=function(){function e(t,n,i,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=s,this.deferred=new Gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,i,o,s){var u=new e(t,n,Date.now()+i,o,s);return u.start(i),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(L.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function La(e,t){if(qt("AsyncQueue",t+": "+e),as(e))return new X(L.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W1=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||be.comparator(n.key,i.key)}:function(n,i){return be.comparator(n.key,i.key)},this.keyedMap=Kv(),this.sortedSet=new wn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=i.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),IE=function(){function e(){this.Qr=new wn(be.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ye():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),Xf=function(){function e(t,n,i,o,s,u,l,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var s=[];return n.forEach(function(u){s.push({type:0,doc:u})}),new e(t,n,W1.emptySet(n),s,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),FU=function(){this.Wr=void 0,this.listeners=[]},UU=function(){this.queries=new Na(function(e){return ZA(e)},Rc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,u,l,f;return $(this,function(p){switch(p.label){case 0:if(n=ae(e),i=t.query,o=!1,(s=n.queries.get(i))||(o=!0,s=new FU),!o)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),u=s,[4,n.onListen(i)];case 2:return u.Wr=p.sent(),[3,4];case 3:return l=p.sent(),f=La(l,"Initialization of query '"+$v(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&Oy(n),[2]}})})}function Ny(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,u;return $(this,function(l){return n=ae(e),i=t.query,o=!1,(s=n.queries.get(i))&&(u=s.listeners.indexOf(t))>=0&&(s.listeners.splice(u,1),o=s.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function VU(e,t){for(var n=ae(e),i=!1,o=0,s=t;o<s.length;o++){var u=s[o],l=u.query,f=n.queries.get(l);if(f){for(var p=0,v=f.listeners;p<v.length;p++)v[p].Hr(u)&&(i=!0);f.Wr=u}}i&&Oy(n)}function jU(e,t,n){var i=ae(e),o=i.queries.get(t);if(o)for(var s=0,u=o.listeners;s<u.length;s++)u[s].onError(n);i.queries.delete(t)}function Oy(e){e.Gr.forEach(function(t){t.next()})}var Py=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var s=o[i];s.type!==3&&n.push(s)}t=new Xf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Xf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X1=function(e){this.key=e},Q1=function(e){this.key=e},Y1=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=yt(),this.mutatedKeys=yt(),this.lo=e1(t),this.fo=new W1(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new IE,s=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,p=mf(this.query)&&s.size===this.query.limit?s.last():null,v=qf(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var _=s.get(m),I=Nc(i.query,y)?y:null,E=!!_&&i.mutatedKeys.has(_.key),T=!!I&&(I.hasLocalMutations||i.mutatedKeys.has(I.key)&&I.hasCommittedMutations),C=!1;_&&I?_.data.isEqual(I.data)?E!==T&&(o.track({type:3,doc:I}),C=!0):i.yo(_,I)||(o.track({type:2,doc:I}),C=!0,(p&&i.lo(I,p)>0||v&&i.lo(I,v)<0)&&(f=!0)):!_&&I?(o.track({type:0,doc:I}),C=!0):_&&!I&&(o.track({type:1,doc:_}),C=!0,(p||v)&&(f=!0)),C&&(I?(l=l.add(I),u=T?u.add(m):u.delete(m)):(l=l.delete(m),u=u.delete(m)))}),mf(this.query)||qf(this.query))for(;l.size>this.query.limit;){var h=mf(this.query)?l.last():l.first();l=l.delete(h.key),u=u.delete(h.key),o.track({type:1,doc:h})}return{fo:l,mo:o,Nn:f,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(v,h){return function(m,y){var _=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return _(m)-_(y)}(v.type,h.type)||o.lo(v.doc,h.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,p=f!==this.ao;return this.ao=f,u.length!==0||p?{snapshot:new Xf(this.query,t.fo,s,u,t.mutatedKeys,f===0,p,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new IE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=yt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new Q1(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new X1(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=yt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Xf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),BU=function(e,t,n){this.query=e,this.targetId=t,this.view=n},qU=function(e){this.key=e,this.bo=!1},$U=function(){function e(t,n,i,o,s,u){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new Na(function(l){return ZA(l)},Rc),this.Vo=new Map,this.So=new Set,this.Do=new wn(be.comparator),this.Co=new Map,this.No=new Sy,this.xo={},this.ko=new Map,this.Fo=Kf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function HU(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,u,l;return $(this,function(f){switch(f.label){case 0:return n=Uy(e),(s=n.Po.get(t))?(i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Gf(n.localStore,Zr(t))];case 2:return u=f.sent(),l=n.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,[4,Dy(n,t,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Bh(n.remoteStore,u),f.label=4;case 4:return[2,o]}})})}function Dy(e,t,n,i){return H(this,void 0,void 0,function(){var o,s,u,l,f,p;return $(this,function(v){switch(v.label){case 0:return e.Oo=function(h,m,y){return function(_,I,E,T){return H(this,void 0,void 0,function(){var C,P,F;return $(this,function(J){switch(J.label){case 0:return C=I.view._o(E),C.Nn?[4,zf(_.localStore,I.query,!1).then(function(U){var de=U.documents;return I.view._o(de,C)})]:[3,2];case 1:C=J.sent(),J.label=2;case 2:return P=T&&T.targetChanges.get(I.targetId),F=I.view.applyChanges(C,_.isPrimaryClient,P),[2,(Qv(_,I.targetId,F.To),F.snapshot)]}})})}(e,h,m,y)},[4,zf(e.localStore,t,!0)];case 1:return o=v.sent(),s=new Y1(t,o.Bn),u=s._o(o.documents),l=yy.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=s.applyChanges(u,e.isPrimaryClient,l),Qv(e,n,f.To),p=new BU(t,n,s),[2,(e.Po.set(t,p),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function KU(e,t){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(s){switch(s.label){case 0:return n=ae(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(u){return!Rc(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,_a(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),sc(n.remoteStore,i.targetId),wa(n,i.targetId)}).catch(us)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return wa(n,i.targetId),[4,_a(n.localStore,i.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function GU(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,u;return $(this,function(l){switch(l.label){case 0:i=Vy(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,p){var v,h=ae(f),m=$n.now(),y=p.reduce(function(_,I){return _.add(I.key)},yt());return h.persistence.runTransaction("Locally write mutations","readwrite",function(_){return h.Mn.pn(_,y).next(function(I){v=I;for(var E=[],T=0,C=p;T<C.length;T++){var P=C[T],F=yF(P,v.get(P.key));F!=null&&E.push(new to(P.key,F,XA(F.value.mapValue),gn.exists(!0)))}return h._n.addMutationBatch(_,m,E,p)})}).then(function(_){return _.applyToLocalDocumentSet(v),{batchId:_.batchId,changes:v}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,p,v){var h=f.xo[f.currentUser.toKey()];h||(h=new wn(ze)),h=h.insert(p,v),f.xo[f.currentUser.toKey()]=h}(i,o.batchId,n),[4,ro(i,o.changes)];case 3:return l.sent(),[4,Pa(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),u=La(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function J1(e,t){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:n=ae(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,aU(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(s,u){var l=n.Co.get(u);l&&(Oe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?Oe(l.bo):s.removedDocuments.size>0&&(Oe(l.bo),l.bo=!1))}),[4,ro(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,us(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function EE(e,t,n){var i=ae(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(s,u){var l=u.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,u){var l=ae(s);l.onlineState=u;var f=!1;l.queries.forEach(function(p,v){for(var h=0,m=v.listeners;h<m.length;h++)m[h].zr(u)&&(f=!0)}),f&&Oy(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function zU(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,u,l,f;return $(this,function(p){switch(p.label){case 0:return(i=ae(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(s=o&&o.key)?(u=(u=new wn(be.comparator)).insert(s,_n.newNoDocument(s,Be.min())),l=yt().add(s),f=new gy(Be.min(),new Map,new Yt(ze),u,l),[4,J1(i,f)]):[3,2];case 1:return p.sent(),i.Do=i.Do.remove(s),i.Co.delete(t),Fy(i),[3,4];case 2:return[4,_a(i.localStore,t,!1).then(function(){return wa(i,t,n)}).catch(us)];case 3:p.sent(),p.label=4;case 4:return[2]}})})}function WU(e,t){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(s){switch(s.label){case 0:n=ae(e),i=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,sU(n.localStore,t)];case 2:return o=s.sent(),My(n,i,null),Ly(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,ro(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,us(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function XU(e,t,n){return H(this,void 0,void 0,function(){var i,o;return $(this,function(s){switch(s.label){case 0:i=ae(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(u,l){var f=ae(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(p){var v;return f._n.lookupMutationBatch(p,l).next(function(h){return Oe(h!==null),v=h.keys(),f._n.removeMutationBatch(p,h)}).next(function(){return f._n.performConsistencyCheck(p)}).next(function(){return f.Mn.pn(p,v)})})}(i.localStore,t)];case 2:return o=s.sent(),My(i,t,n),Ly(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,ro(i,o)];case 3:return s.sent(),[3,6];case 4:return[4,us(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function QU(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,u;return $(this,function(l){switch(l.label){case 0:no((n=ae(e)).remoteStore)||ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var p=ae(f);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(v){return p._n.getHighestUnacknowledgedBatchId(v)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return s=l.sent(),u=La(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function Ly(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function My(e,t,n){var i=ae(e),o=i.xo[i.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function wa(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var s=o[i];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||Z1(e,u)})}function Z1(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(sc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Fy(e))}function Qv(e,t,n){for(var i=0,o=n;i<o.length;i++){var s=o[i];s instanceof X1?(e.No.addReference(s.key,t),YU(e,s)):s instanceof Q1?(ie("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||Z1(e,s.key)):ye()}}function YU(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(ie("SyncEngine","New document in limbo: "+n),e.So.add(i),Fy(e))}function Fy(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new be(ut.fromString(t)),i=e.Fo.next();e.Co.set(i,new qU(n)),e.Do=e.Do.insert(n,i),Bh(e.remoteStore,new Vh(Zr(Cc(n.path)),i,2,ir.o))}}function ro(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,u;return $(this,function(l){switch(l.label){case 0:return i=ae(e),o=[],s=[],u=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,p){u.push(i.Oo(p,t,n).then(function(v){if(v){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,v.fromCache?"not-current":"current"),o.push(v);var h=iU.Pn(p.targetId,v);s.push(h)}}))}),[4,Promise.all(u)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,p){return H(this,void 0,void 0,function(){var v,h,m,y,_,I,E,T,C;return $(this,function(P){switch(P.label){case 0:v=ae(f),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,v.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(F){return ee.forEach(p,function(J){return ee.forEach(J.bn,function(U){return v.persistence.referenceDelegate.addReference(F,J.targetId,U)}).next(function(){return ee.forEach(J.vn,function(U){return v.persistence.referenceDelegate.removeReference(F,J.targetId,U)})})})})];case 2:return P.sent(),[3,4];case 3:if(!as(h=P.sent()))throw h;return ie("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(m=0,y=p;m<y.length;m++)_=y[m],I=_.targetId,_.fromCache||(E=v.kn.get(I),T=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(T),v.kn=v.kn.insert(I,C));return[2]}})})}(i.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function JU(e,t){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return(n=ae(e)).currentUser.isEqual(t)?[3,3]:(ie("SyncEngine","User change. New user:",t.toKey()),[4,M1(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(s,u){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new X(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,ro(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function ZU(e,t){var n=ae(e),i=n.Co.get(t);if(i&&i.bo)return yt().add(i.key);var o=yt(),s=n.Vo.get(t);if(!s)return o;for(var u=0,l=s;u<l.length;u++){var f=l[u],p=n.Po.get(f);o=o.unionWith(p.view.wo)}return o}function eV(e,t){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(s){switch(s.label){case 0:return[4,zf((n=ae(e)).localStore,t.query,!0)];case 1:return i=s.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Qv(n,t.targetId,o.To),o)]}})})}function tV(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){return[2,V1((t=ae(e)).localStore).then(function(i){return ro(t,i)})]})})}function nV(e,t,n,i){return H(this,void 0,void 0,function(){var o,s;return $(this,function(u){switch(u.label){case 0:return[4,function(l,f){var p=ae(l),v=ae(p._n);return p.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return v.jt(h,f).next(function(m){return m?p.Mn.pn(h,m):ee.resolve(null)})})}((o=ae(e)).localStore,t)];case 1:return(s=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Pa(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(My(o,t,i||null),Ly(o,t),function(l,f){ae(ae(l)._n).Gt(f)}(o.localStore,t)):ye(),u.label=4;case 4:return[4,ro(o,s)];case 5:return u.sent(),[3,7];case 6:ie("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function rV(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,u,l,f,p;return $(this,function(v){switch(v.label){case 0:return Uy(n=ae(e)),Vy(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,TE(n,i.toArray())]);case 1:return o=v.sent(),n.$o=!0,[4,Xv(n.remoteStore,!0)];case 2:for(v.sent(),s=0,u=o;s<u.length;s++)l=u[s],Bh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],p=Promise.resolve(),n.Vo.forEach(function(h,m){n.sharedClientState.isLocalQueryTarget(m)?f.push(m):p=p.then(function(){return wa(n,m),_a(n.localStore,m,!0)}),sc(n.remoteStore,m)}),[4,p]);case 4:return v.sent(),[4,TE(n,f)];case 5:return v.sent(),function(h){var m=ae(h);m.Co.forEach(function(y,_){sc(m.remoteStore,_)}),m.No.ts(),m.Co=new Map,m.Do=new wn(be.comparator)}(n),n.$o=!1,[4,Xv(n.remoteStore,!1)];case 6:v.sent(),v.label=7;case 7:return[2]}})})}function TE(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,u,l,f,p,v,h,m,y,_,I,E;return $(this,function(T){switch(T.label){case 0:i=ae(e),o=[],s=[],u=0,l=t,T.label=1;case 1:return u<l.length?(f=l[u],p=void 0,(v=i.Vo.get(f))&&v.length!==0?[4,Gf(i.localStore,Zr(v[0]))]:[3,7]):[3,13];case 2:p=T.sent(),h=0,m=v,T.label=3;case 3:return h<m.length?(y=m[h],_=i.Po.get(y),[4,eV(i,_)]):[3,6];case 4:(I=T.sent()).snapshot&&s.push(I.snapshot),T.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,U1(i.localStore,f)];case 8:return E=T.sent(),[4,Gf(i.localStore,E)];case 9:return p=T.sent(),[4,Dy(i,ek(E),f,!1)];case 10:T.sent(),T.label=11;case 11:o.push(p),T.label=12;case 12:return u++,[3,1];case 13:return[2,(i.vo._r(s),o)]}})})}function ek(e){return YA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function iV(e){var t=ae(e);return ae(ae(t.localStore).persistence).fn()}function oV(e,t,n,i){return H(this,void 0,void 0,function(){var o,s,u;return $(this,function(l){switch(l.label){case 0:return(o=ae(e)).$o?(ie("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,V1(o.localStore)];case 3:return s=l.sent(),u=gy.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,ro(o,s,u)];case 4:return l.sent(),[3,8];case 5:return[4,_a(o.localStore,t,!0)];case 6:return l.sent(),wa(o,t,i),[3,8];case 7:ye(),l.label=8;case 8:return[2]}})})}function sV(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,u,l,f,p,v,h,m;return $(this,function(y){switch(y.label){case 0:if(!(i=Uy(e)).$o)return[3,10];o=0,s=t,y.label=1;case 1:return o<s.length?(u=s[o],i.Vo.has(u)?(ie("SyncEngine","Adding an already active target "+u),[3,5]):[4,U1(i.localStore,u)]):[3,6];case 2:return l=y.sent(),[4,Gf(i.localStore,l)];case 3:return f=y.sent(),[4,Dy(i,ek(l),f.targetId,!1)];case 4:y.sent(),Bh(i.remoteStore,f),y.label=5;case 5:return o++,[3,1];case 6:p=function(_){return $(this,function(I){switch(I.label){case 0:return i.Vo.has(_)?[4,_a(i.localStore,_,!1).then(function(){sc(i.remoteStore,_),wa(i,_)}).catch(us)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},v=0,h=n,y.label=7;case 7:return v<h.length?(m=h[v],[5,p(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return v++,[3,7];case 10:return[2]}})})}function Uy(e){var t=ae(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=J1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zU.bind(null,t),t.vo._r=VU.bind(null,t.eventManager),t.vo.Mo=jU.bind(null,t.eventManager),t}function Vy(e){var t=ae(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XU.bind(null,t),t}var tk=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return H(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return this.R=jh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return L1(this.persistence,new D1,t.initialUser,this.R)},e.prototype.qo=function(t){return new vU(yU.bs,this.R)},e.prototype.Bo=function(t){return new j1},e.prototype.terminate=function(){return H(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),nk=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=i,s.forceOwnership=o,s.synchronizeTabs=!1,s}return Se(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,lU(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Vy(this.Qo.syncEngine)];case 4:return o.sent(),[4,Pa(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return L1(this.persistence,new D1,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new YF(i,n.asyncQueue)},t.prototype.qo=function(n){var i=Ty(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Hr.withCacheSize(this.cacheSizeBytes):Hr.DEFAULT;return new rU(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,B1(),yf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new j1},t}(tk),aV=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return Se(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i,o=this;return $(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof tv?(this.sharedClientState.syncEngine={ui:nV.bind(null,i),ai:oV.bind(null,i),hi:sV.bind(null,i),fn:iV.bind(null,i),ci:tV.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(u){return H(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return[4,rV(this.Qo.syncEngine,u)];case 1:return l.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var i=B1();if(!tv.yt(i))throw new X(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=Ty(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new tv(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(nk),Yv=function(){function e(){}return e.prototype.initialize=function(t,n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return EE(i.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=JU.bind(null,this.syncEngine),[4,Xv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new UU},e.prototype.createDatastore=function(t){var n,i=jh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new EU(n));return function(s,u,l){return new AU(s,u,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,s,u,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,s=function(f){return EE(l.syncEngine,f,0)},u=bE.yt()?new bE:new wU,new xU(n,i,o,s,u)},e.prototype.createSyncEngine=function(t,n){return function(i,o,s,u,l,f,p){var v=new $U(i,o,s,u,l,f);return p&&(v.$o=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=ae(t),ie("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Oa(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),uV=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return H(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new X(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return H(this,void 0,void 0,function(){var l,f,p,v,h,m;return $(this,function(y){switch(y.label){case 0:return l=ae(s),f=oc(l.R)+"/documents",p={documents:u.map(function(_){return ic(l.R,_)})},[4,l.$i("BatchGetDocuments",f,p)];case 1:return v=y.sent(),h=new Map,v.forEach(function(_){var I=function(E,T){return"found"in T?function(C,P){Oe(!!P.found),P.found.name,P.found.updateTime;var F=fi(C,P.found.name),J=On(P.found.updateTime),U=new rr({mapValue:{fields:P.found.fields}});return _n.newFoundDocument(F,J,U)}(E,T):"missing"in T?function(C,P){Oe(!!P.missing),Oe(!!P.readTime);var F=fi(C,P.missing),J=On(P.readTime);return _n.newNoDocument(F,J)}(E,T):ye()}(l.R,_);h.set(I.key.toString(),I)}),m=[],[2,(u.forEach(function(_){var I=h.get(_.toString());Oe(!!I),m.push(I)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return i.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Dc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return H(this,void 0,void 0,function(){var t,n=this;return $(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var u=be.fromPath(s);n.mutations.push(new vy(u,n.precondition(u)))}),[4,function(o,s){return H(this,void 0,void 0,function(){var u,l,f;return $(this,function(p){switch(p.label){case 0:return u=ae(o),l=oc(u.R)+"/documents",f={writes:s.map(function(v){return $f(u.R,v)})},[4,u.Ni("Commit",l,f)];case 1:return p.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ye();n=Be.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new X(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?gn.updateTime(n):gn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Be.min()))throw new X(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gn.updateTime(n)}return gn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),cV=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new Ay(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return H(t,void 0,void 0,function(){var n,i,o=this;return $(this,function(s){return n=new uV(this.datastore),(i=this.sc(n))&&i.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(l){o.ic(l)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!ss(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!c1(n)}return!1},e}(),lV=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=on.UNAUTHENTICATED,this.clientId=$A.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return H(o,void 0,void 0,function(){return $(this,function(u){switch(u.label){case 0:return ie("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return u.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return H(this,void 0,void 0,function(){return $(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return H(t,void 0,void 0,function(){var i,o;return $(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=s.sent(),o=La(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(e,t){return H(this,void 0,void 0,function(){var n,i,o=this;return $(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),i=n.initialUser,e.setCredentialChangeListener(function(u){return H(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return i.isEqual(u)?[3,2]:[4,M1(t.localStore,u)];case 1:l.sent(),i=u,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function ik(e,t){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,jy(e)];case 1:return n=o.sent(),ie("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(u,l){return H(this,void 0,void 0,function(){var f,p;return $(this,function(v){switch(v.label){case 0:return(f=ae(u)).asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials"),p=no(f),f.Or.add(3),[4,Oa(f)];case 1:return v.sent(),p&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return v.sent(),f.Or.delete(3),[4,Lc(f)];case 3:return v.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function jy(e){return H(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ie("FirestoreClient","Using default OfflineComponentProvider"),[4,rk(e,new tk)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function $h(e){return H(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ie("FirestoreClient","Using default OnlineComponentProvider"),[4,ik(e,new Yv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function SE(e){return jy(e).then(function(t){return t.persistence})}function ok(e){return jy(e).then(function(t){return t.localStore})}function AE(e){return $h(e).then(function(t){return t.remoteStore})}function sk(e){return $h(e).then(function(t){return t.syncEngine})}function ba(e){return H(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:return[4,$h(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=HU.bind(null,t.syncEngine),n.onUnlisten=KU.bind(null,t.syncEngine),n)]}})})}function kE(e,t,n){var i=this;n===void 0&&(n={});var o=new Gn;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var s;return $(this,function(u){switch(u.label){case 0:return s=function(l,f,p,v,h){var m=new qh({next:function(_){f.enqueueAndForget(function(){return Ny(l,y)});var I=_.docs.has(p);!I&&_.fromCache?h.reject(new X(L.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&v&&v.source==="server"?h.reject(new X(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new Py(Cc(p.path),m,{includeMetadataChanges:!0,so:!0});return Ry(l,y)},[4,ba(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function xE(e,t,n){var i=this;n===void 0&&(n={});var o=new Gn;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var s;return $(this,function(u){switch(u.label){case 0:return s=function(l,f,p,v,h){var m=new qh({next:function(_){f.enqueueAndForget(function(){return Ny(l,y)}),_.fromCache&&v.source==="server"?h.reject(new X(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new Py(p,m,{includeMetadataChanges:!0,so:!0});return Ry(l,y)},[4,ba(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var fV=function(e,t,n,i,o,s,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.useFetchStreams=l},Qf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),CE=new Map,ak=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},RE=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(on.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),hV=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),dV=function(){function e(t){var n=this;this.currentUser=on.UNAUTHENTICATED,this.oc=new Gn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){ie("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(ie("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(ie("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Oe(typeof o.accessToken=="string"),new ak(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Oe(t===null||typeof t=="string"),new on(t)},e}(),pV=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=on.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),mV=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new pV(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(on.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(e,t,n){if(!n)throw new X(L.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function qy(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new X(L.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function uk(e,t,n,i){if(t===!0&&i===!0)throw new X(L.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function NE(e){if(!be.isDocumentKey(e))throw new X(L.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function OE(e){if(be.isDocumentKey(e))throw new X(L.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Hh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ye()}function ct(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new X(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Hh(e);throw new X(L.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function PE(e,t){if(t<=0)throw new X(L.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DE=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new X(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new X(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,uk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),ac=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,t instanceof Qf?(this._databaseId=t,this._credentials=new RE):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new X(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qf(i.options.projectId)}(t),this._credentials=new dV(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new X(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new X(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new RE;switch(n.type){case"gapi":var i=n.client;return Oe(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new mV(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new X(L.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=CE.get(t))&&(ie("ComponentProvider","Removing Datastore"),CE.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),kt=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new zi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),sr=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),zi=function(e){function t(n,i,o){var s=this;return(s=e.call(this,n,i,Cc(o))||this)._path=o,s.type="collection",s}return Se(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new kt(this.firestore,null,new be(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(sr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=pt(e),By("collection","path",t),e instanceof ac)return OE(n=ut.fromString.apply(ut,Tt([t],i))),new zi(e,null,n);if(!(e instanceof kt||e instanceof zi))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return OE(n=ut.fromString.apply(ut,Tt([e.path],i)).child(ut.fromString(t))),new zi(e.firestore,null,n)}function _f(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=pt(e),arguments.length===1&&(t=$A.u()),By("doc","path",t),e instanceof ac)return NE(n=ut.fromString.apply(ut,Tt([t],i))),new kt(e,null,new be(n));if(!(e instanceof kt||e instanceof zi))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return NE(n=e._path.child(ut.fromString.apply(ut,Tt([t],i)))),new kt(e.firestore,e instanceof zi?e.converter:null,new be(n))}function lk(e,t){return e=pt(e),t=pt(t),(e instanceof kt||e instanceof zi)&&(t instanceof kt||t instanceof zi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function fk(e,t){return e=pt(e),t=pt(t),e instanceof sr&&t instanceof sr&&e.firestore===t.firestore&&Rc(e._query,t._query)&&e.converter===t.converter}var vV=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Ay(this,"async_queue_retry"),this.Ic=function(){var i=yf();i&&ie("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=yf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=yf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Gn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return H(this,void 0,void 0,function(){var t,n=this;return $(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!as(t=i.sent()))throw t;return ie("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,qt("INTERNAL UNHANDLED ERROR: ",function(s){var u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=MU.createAndSchedule(this,t,n,i,function(u){return o.vc(u)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&ye()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,l){return u.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var s=o[i];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Ia(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,s=["next","error","complete"];o<s.length;o++){var u=s[o];if(u in i&&typeof i[u]=="function")return!0}return!1}(e)}var gV=-1,Qt=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new vV,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Se(t,e),t.prototype._terminate=function(){return this._firestoreClient||hk(this),this._firestoreClient.terminate()},t}(ac);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(e){return e._firestoreClient||hk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hk(e){var t,n=e._freezeSettings(),i=function(o,s,u,l){return new fV(o,s,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new lV(e._credentials,e._queue,i)}function LE(e,t,n){var i=this,o=new Gn;return e.asyncQueue.enqueue(function(){return H(i,void 0,void 0,function(){var s;return $(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,rk(e,n)];case 1:return u.sent(),[4,ik(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===L.FAILED_PRECONDITION||l.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=u.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function ME(e){if(e._initialized||e._terminated)throw new X(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new X(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Or(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ns=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Kn.fromBase64String(t))}catch(n){throw new X(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Kn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),cs=function(e){this._methodName=e},Kh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new X(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new X(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return ze(this._lat,t._lat)||ze(this._long,t._long)},e}(),yV=/^__.*__$/,_V=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new to(t,this.data,this.fieldMask,n,this.fieldTransforms):new Pc(t,this.data,n,this.fieldTransforms)},e}(),dk=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new to(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}var mk=function(){function e(t,n,i,o,s,u){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Yf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(pk(this.Nc)&&yV.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),wV=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||jh(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new mk({Nc:t,methodName:n,qc:i,path:Or.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ls(e){var t=e._freezeSettings(),n=jh(e._databaseId);return new wV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Gh(e,t,n,i,o,s){s===void 0&&(s={});var u=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);Gy("Data must be an object, but it was:",u,i);var l,f,p=yk(i,u);if(s.merge)l=new ua(u.fieldMask),f=u.fieldTransforms;else if(s.mergeFields){for(var v=[],h=0,m=s.mergeFields;h<m.length;h++){var y=Jv(t,m[h],n);if(!u.contains(y))throw new X(L.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");wk(v,y)||v.push(y)}l=new ua(v),f=u.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=u.fieldTransforms;return new _V(new rr(p),l,f)}var $y=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(cs);function vk(e,t,n){return new mk({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var bV=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype._toFieldTransform=function(n){return new Oc(n.path,new ha)},t.prototype.isEqual=function(n){return n instanceof t},t}(cs),IV=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Se(t,e),t.prototype._toFieldTransform=function(n){var i=vk(this,n,!0),o=this.Kc.map(function(u){return fs(u,i)}),s=new es(o);return new Oc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(cs),EV=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Se(t,e),t.prototype._toFieldTransform=function(n){var i=vk(this,n,!0),o=this.Kc.map(function(u){return fs(u,i)}),s=new ts(o);return new Oc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(cs),TV=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return Se(t,e),t.prototype._toFieldTransform=function(n){var i=new da(n.R,r1(n.R,this.Qc));return new Oc(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(cs);function Hy(e,t,n,i){var o=e.Uc(1,t,n);Gy("Data must be an object, but it was:",o,i);var s=[],u=rr.empty();os(i,function(f,p){var v=zy(t,f,n);p=pt(p);var h=o.Oc(v);if(p instanceof $y)s.push(v);else{var m=fs(p,h);m!=null&&(s.push(v),u.set(v,m))}});var l=new ua(s);return new dk(u,l,o.fieldTransforms)}function Ky(e,t,n,i,o,s){var u=e.Uc(1,t,n),l=[Jv(t,i,n)],f=[o];if(s.length%2!=0)throw new X(L.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<s.length;p+=2)l.push(Jv(t,s[p])),f.push(s[p+1]);for(var v=[],h=rr.empty(),m=l.length-1;m>=0;--m)if(!wk(v,l[m])){var y=l[m],_=f[m];_=pt(_);var I=u.Oc(y);if(_ instanceof $y)v.push(y);else{var E=fs(_,I);E!=null&&(v.push(y),h.set(y,E))}}var T=new ua(v);return new dk(h,T,u.fieldTransforms)}function gk(e,t,n,i){return i===void 0&&(i=!1),fs(n,e.Uc(i?4:3,t))}function fs(e,t){if(_k(e=pt(e)))return Gy("Unsupported field value:",t,e),yk(e,t);if(e instanceof cs)return function(n,i){if(!pk(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],s=0,u=0,l=n;u<l.length;u++){var f=fs(l[u],i.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=pt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return r1(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=$n.fromDate(n);return{timestampValue:rc(i.R,o)}}if(n instanceof $n)return o=new $n(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:rc(i.R,o)};if(n instanceof Kh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ns)return{bytesValue:d1(i.R,n._byteString)};if(n instanceof kt){o=i.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw i.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:_y(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+Hh(n))}(e,t)}function yk(e,t){var n={};return KA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):os(e,function(i,o){var s=fs(o,t.kc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function _k(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof $n||e instanceof Kh||e instanceof ns||e instanceof kt||e instanceof cs)}function Gy(e,t,n){if(!_k(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=Hh(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function Jv(e,t,n){if((t=pt(t))instanceof Xr)return t._internalPath;if(typeof t=="string")return zy(e,t);throw Yf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var SV=new RegExp("[~\\*/\\[\\]]");function zy(e,t,n){if(t.search(SV)>=0)throw Yf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Xr.bind.apply(Xr,Tt([void 0],t.split("."))))()._internalPath}catch{throw Yf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Yf(e,t,n,i,o){var s=i&&!i.isEmpty(),u=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||u)&&(f+=" (found",s&&(f+=" in field "+i),u&&(f+=" in document "+o),f+=")"),new X(L.INVALID_ARGUMENT,(l+=". ")+e+f)}function wk(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uc=function(){function e(t,n,i,o,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new kt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new AV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Jf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),AV=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(uc);function Jf(e,t){return typeof t=="string"?zy(e,t):t instanceof Xr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),di=function(e){function t(n,i,o,s,u,l){var f=this;return(f=e.call(this,n,i,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=u,f}return Se(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(Jf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(uc),Uu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(di),Bi=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fo(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new Uu(i._firestore,i._userDataWriter,o.key,o,new Fo(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var s=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Uu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Fo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}})}var u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Uu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Fo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),p=-1,v=-1;return l.type!==0&&(p=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(v=(u=u.add(l.doc)).indexOf(l.doc.key)),{type:kV(l.type),doc:f,oldIndex:p,newIndex:v}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function kV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}function bk(e,t){return e instanceof di&&t instanceof di?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Bi&&t instanceof Bi&&e._firestore===t._firestore&&fk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(e){if(qf(e)&&e.explicitOrderBy.length===0)throw new X(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Mc=function(){};function Oi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var s=o[i];e=s._apply(e)}return e}var xV=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=i,s.Gc=o,s.type="where",s}return Se(t,e),t.prototype._apply=function(n){var i=ls(n.firestore),o=function(s,u,l,f,p,v,h){var m;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new X(L.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+v+"' queries on FieldPath.documentId().");if(v==="in"||v==="not-in"){BE(h,v);for(var y=[],_=0,I=h;_<I.length;_++){var E=I[_];y.push(jE(f,s,E))}m={arrayValue:{values:y}}}else m=jE(f,s,h)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||BE(h,v),m=gk(l,"where",h,v==="in"||v==="not-in");var T=or.create(p,v,m);return function(C,P){if(P.g()){var F=py(C);if(F!==null&&!F.isEqual(P.field))throw new X(L.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+F.toString()+"' and '"+P.field.toString()+"'");var J=dy(C);J!==null&&Tk(C,P.field,J)}var U=function(de,G){for(var Q=0,x=de.filters;Q<x.length;Q++){var Ke=x[Q];if(G.indexOf(Ke.op)>=0)return Ke.op}return null}(C,function(de){switch(de){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(P.op));if(U!==null)throw U===P.op?new X(L.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+P.op.toString()+"' filter."):new X(L.INVALID_ARGUMENT,"Invalid query. You cannot use '"+P.op.toString()+"' filters with '"+U.toString()+"' filters.")}(s,T),T}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new sr(n.firestore,n.converter,function(s,u){var l=s.filters.concat([u]);return new yi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(Mc),CV=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return Se(t,e),t.prototype._apply=function(n){var i=function(o,s,u){if(o.startAt!==null)throw new X(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new X(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Ys(s,u);return function(f,p){if(dy(f)===null){var v=py(f);v!==null&&Tk(f,v,p.field)}}(o,l),l}(n._query,this.jc,this.zc);return new sr(n.firestore,n.converter,function(o,s){var u=o.explicitOrderBy.concat([s]);return new yi(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Mc),FE=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=i,s.Jc=o,s}return Se(t,e),t.prototype._apply=function(n){return new sr(n.firestore,n.converter,JA(n._query,this.Hc,this.Jc))},t}(Mc),UE=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=o,s}return Se(t,e),t.prototype._apply=function(n){var i=Ek(n,this.type,this.Yc,this.Xc);return new sr(n.firestore,n.converter,function(o,s){return new yi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,i))},t}(Mc),VE=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=o,s}return Se(t,e),t.prototype._apply=function(n){var i=Ek(n,this.type,this.Yc,this.Xc);return new sr(n.firestore,n.converter,function(o,s){return new yi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,i))},t}(Mc);function Ek(e,t,n,i){if(n[0]=pt(n[0]),n[0]instanceof uc)return function(s,u,l,f,p){if(!f)throw new X(L.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var v=[],h=0,m=fa(s);h<m.length;h++){var y=m[h];if(y.field.isKeyField())v.push(Vf(u,f.key));else{var _=f.data.field(y.field);if(ly(_))throw new X(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var I=y.field.canonicalString();throw new X(L.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}v.push(_)}}return new nc(v,p)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=ls(e.firestore);return function(s,u,l,f,p,v){var h=s.explicitOrderBy;if(p.length>h.length)throw new X(L.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<p.length;y++){var _=p[y];if(h[y].field.isKeyField()){if(typeof _!="string")throw new X(L.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!my(s)&&_.indexOf("/")!==-1)throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var I=s.path.child(ut.fromString(_));if(!be.isDocumentKey(I))throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var E=new be(I);m.push(Vf(u,E))}else{var T=gk(l,f,_);m.push(T)}}return new nc(m,v)}(e._query,e.firestore._databaseId,o,t,n,i)}function jE(e,t,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!my(t)&&n.indexOf("/")!==-1)throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(ut.fromString(n));if(!be.isDocumentKey(i))throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Vf(e,new be(i))}if(n instanceof kt)return Vf(e,n._key);throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Hh(n)+".")}function BE(e,t){if(!Array.isArray(e)||e.length===0)throw new X(L.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new X(L.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Tk(e,t,n){if(!n.isEqual(t))throw new X(L.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wy=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Zo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Bt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ca(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ye()}},e.prototype.convertObject=function(t,n){var i=this,o={};return os(t.fields,function(s,u){o[s]=i.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new Kh(Bt(t.latitude),Bt(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=zA(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ec(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Qi(t);return new $n(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=ut.fromString(t);Oe(b1(i));var o=new Qf(i.get(1),i.get(3)),s=new be(i.popFirst(5));return o.isEqual(n)||qt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var RV=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Se(t,e),t.prototype.convertBytes=function(n){return new ns(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new kt(this.firestore,null,i)},t}(Wy),NV=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ls(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=qi(t,this._firestore),s=zh(o.converter,n,i),u=Gh(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,i);return this._mutations.push(u.toMutation(o._key,gn.none())),this},e.prototype.update=function(t,n,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var u,l=qi(t,this._firestore);return u=typeof(n=pt(n))=="string"||n instanceof Xr?Ky(this._dataReader,"WriteBatch.update",l._key,n,i,o):Hy(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,gn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=qi(t,this._firestore);return this._mutations=this._mutations.concat(new Dc(n._key,gn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new X(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(e,t){if((e=pt(e)).firestore!==t)throw new X(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $o=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Se(t,e),t.prototype.convertBytes=function(n){return new ns(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new kt(this.firestore,null,i)},t}(Wy);function qE(e,t,n){e=ct(e,kt);var i=ct(e.firestore,Qt),o=zh(e.converter,t,n);return Fc(i,[Gh(ls(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,gn.none())])}function $E(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=ct(e,kt);var s=ct(e.firestore,Qt),u=ls(s);return Fc(s,[(typeof(t=pt(t))=="string"||t instanceof Xr?Ky(u,"updateDoc",e._key,t,n,i):Hy(u,"updateDoc",e._key,t)).toMutation(e._key,gn.exists(!0))])}function Sk(e){for(var t,n,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=pt(e);var u={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||Ia(o[l])||(u=o[l],l++);var f,p,v,h={includeMetadataChanges:u.includeMetadataChanges};if(Ia(o[l])){var m=o[l];o[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),o[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),o[l+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}if(e instanceof kt)p=ct(e.firestore,Qt),v=Cc(e._key.path),f={next:function(I){o[l]&&o[l](Zv(p,e,I))},error:o[l+1],complete:o[l+2]};else{var y=ct(e,sr);p=ct(y.firestore,Qt),v=y._query;var _=new $o(p);f={next:function(I){o[l]&&o[l](new Bi(p,_,y,I))},error:o[l+1],complete:o[l+2]},Ik(e._query)}return function(I,E,T,C){var P=this,F=new qh(C),J=new Py(E,F,T);return I.asyncQueue.enqueueAndForget(function(){return H(P,void 0,void 0,function(){var U;return $(this,function(de){switch(de.label){case 0:return U=Ry,[4,ba(I)];case 1:return[2,U.apply(void 0,[de.sent(),J])]}})})}),function(){F.Wo(),I.asyncQueue.enqueueAndForget(function(){return H(P,void 0,void 0,function(){var U;return $(this,function(de){switch(de.label){case 0:return U=Ny,[4,ba(I)];case 1:return[2,U.apply(void 0,[de.sent(),J])]}})})})}}(pn(p),v,h,f)}function Fc(e,t){return function(n,i){var o=this,s=new Gn;return n.asyncQueue.enqueueAndForget(function(){return H(o,void 0,void 0,function(){var u;return $(this,function(l){switch(l.label){case 0:return u=GU,[4,sk(n)];case 1:return[2,u.apply(void 0,[l.sent(),i,s])]}})})}),s.promise}(pn(e),t)}function Zv(e,t,n){var i=n.docs.get(t._key),o=new $o(e);return new di(e,o,t._key,i,new Fo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OV=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return Se(t,e),t.prototype.get=function(n){var i=this,o=qi(n,this._firestore),s=new $o(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new di(i._firestore,s,o._key,u._document,new Fo(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=ls(t)}return e.prototype.get=function(t){var n=this,i=qi(t,this._firestore),o=new RV(this._firestore);return this._transaction.lookup([i._key]).then(function(s){if(!s||s.length!==1)return ye();var u=s[0];if(u.isFoundDocument())return new uc(n._firestore,o,u.key,u,i.converter);if(u.isNoDocument())return new uc(n._firestore,o,i._key,null,i.converter);throw ye()})},e.prototype.set=function(t,n,i){var o=qi(t,this._firestore),s=zh(o.converter,n,i),u=Gh(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u,l=qi(t,this._firestore);return u=typeof(n=pt(n))=="string"||n instanceof Xr?Ky(this._dataReader,"Transaction.update",l._key,n,i,o):Hy(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,u),this},e.prototype.delete=function(t){var n=qi(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(){if(typeof Uint8Array>"u")throw new X(L.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function KE(){if(typeof atob>"u")throw new X(L.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ak=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return KE(),new e(ns.fromBase64String(t))},e.fromUint8Array=function(t){return HE(),new e(ns.fromUint8Array(t))},e.prototype.toBase64=function(){return KE(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return HE(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),PV=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){ME(i=ct(i,Qt));var s=pn(i),u=i._freezeSettings(),l=new Yv;return LE(s,l,new nk(l,u.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){ME(n=ct(n,Qt));var i=pn(n),o=n._freezeSettings(),s=new Yv;return LE(i,s,new aV(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new X(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Gn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return H(i,void 0,void 0,function(){var s;return $(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(l){return H(this,void 0,void 0,function(){var f;return $(this,function(p){switch(p.label){case 0:return va.yt()?(f=l+"main",[4,va.delete(f)]):[2,Promise.resolve()];case 1:return p.sent(),[2]}})})}(Ty(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return s=u.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),kk=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Qf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Ff("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,s,u,l){var f;l===void 0&&(l={});var p=(o=ct(o,ac))._getSettings();if(p.host!=="firestore.googleapis.com"&&p.host!==s&&Ff("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},p),{host:s+":"+u,ssl:!1})),l.mockUserToken){var v,h;if(typeof l.mockUserToken=="string")v=l.mockUserToken,h=on.MOCK_USER;else{v=DS(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new X(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new on(m)}o._credentials=new hV(new ak(v,h))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return $(this,function(s){switch(s.label){case 0:return[4,SE(t)];case 1:return i=s.sent(),[4,AE(t)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!0),function(u){var l=ae(u);return l.Or.delete(0),Lc(l)}(o))]}})})})}(pn(ct(this._delegate,Qt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return $(this,function(s){switch(s.label){case 0:return[4,SE(t)];case 1:return i=s.sent(),[4,AE(t)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!1),function(u){return H(this,void 0,void 0,function(){var l;return $(this,function(f){switch(f.label){case 0:return(l=ae(u)).Or.add(0),[4,Oa(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(pn(ct(this._delegate,Qt)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&uk("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new Gn;return t.asyncQueue.enqueueAndForget(function(){return H(n,void 0,void 0,function(){var o;return $(this,function(s){switch(s.label){case 0:return o=QU,[4,sk(t)];case 1:return[2,o.apply(void 0,[s.sent(),i])]}})})}),i.promise}(pn(ct(this._delegate,Qt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,s){var u=this,l=new qh(s);return o.asyncQueue.enqueueAndForget(function(){return H(u,void 0,void 0,function(){var f;return $(this,function(p){switch(p.label){case 0:return f=function(v,h){ae(v).Gr.add(h),h.next()},[4,ba(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return H(u,void 0,void 0,function(){var f;return $(this,function(p){switch(p.label){case 0:return f=function(v,h){ae(v).Gr.delete(h)},[4,ba(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})})}}(pn(n=ct(n,Qt)),Ia(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new X(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Zf(this,ck(this._delegate,t))}catch(n){throw Sn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Ho(this,_f(this._delegate,t))}catch(n){throw Sn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Qh(this,function(n,i){if(n=ct(n,ac),By("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new X(L.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new sr(n,null,function(o){return new yi(ut.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw Sn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(s,u){var l=this,f=new Gn;return s.asyncQueue.enqueueAndForget(function(){return H(l,void 0,void 0,function(){var p;return $(this,function(v){switch(v.label){case 0:return[4,function(h){return $h(h).then(function(m){return m.datastore})}(s)];case 1:return p=v.sent(),new cV(s.asyncQueue,p,u,f).run(),[2]}})})}),f.promise}(pn(i),function(s){return o(new OV(i,s))})}(this._delegate,function(i){return t(new xk(n,i))})},e.prototype.batch=function(){var t=this;return pn(this._delegate),new Ck(new NV(this._delegate,function(n){return Fc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new X(L.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new X(L.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Wh=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Se(t,e),t.prototype.convertBytes=function(n){return new Ak(new ns(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Ho.eu(i,this.firestore,null)},t}(Wy);function DV(e){var t;t=e,Cr.setLogLevel(t)}var xk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Wh(t)}return e.prototype.get=function(t){var n=this,i=Uo(t);return this._delegate.get(i).then(function(o){return new cc(n._firestore,new di(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=Uo(t);return i?(qy("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=Uo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Tt([l,n,i],s)),this},e.prototype.delete=function(t){var n=Uo(t);return this._delegate.delete(n),this},e}(),Ck=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=Uo(t);return i?(qy("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=Uo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Tt([l,n,i],s)),this},e.prototype.delete=function(t){var n=Uo(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Xh=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Uu(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new lc(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var s=o.get(n);return s||(s=new e(t,new Wh(t),n),o.set(n,s)),s},e}();Xh.su=new WeakMap;var Ho=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Wh(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new X(L.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new kt(n._delegate,i,new be(t)))},e.eu=function(t,n,i){return new e(n,new kt(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Zf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Zf(this.firestore,ck(this._delegate,t))}catch(n){throw Sn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=pt(t))instanceof kt&&lk(this._delegate,t)},e.prototype.set=function(t,n){n=qy("DocumentReference.set",n);try{return n?qE(this._delegate,t,n):qE(this._delegate,t)}catch(i){throw Sn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?$E(this._delegate,t):$E.apply(void 0,Tt([this._delegate,t,n],i))}catch(s){throw Sn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Fc(ct((t=this._delegate).firestore,Qt),[new Dc(t._key,gn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=Rk(n),s=Nk(n,function(u){return new cc(t.firestore,new di(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate.converter))});return Sk(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=ct(i,kt);var o=ct(i.firestore,Qt),s=pn(o),u=new $o(o);return function(l,f){var p=this,v=new Gn;return l.asyncQueue.enqueueAndForget(function(){return H(p,void 0,void 0,function(){var h;return $(this,function(m){switch(m.label){case 0:return h=function(y,_,I){return H(this,void 0,void 0,function(){var E,T;return $(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,function(P,F){var J=ae(P);return J.persistence.runTransaction("read document","readonly",function(U){return J.Mn.mn(U,F)})}(y,_)];case 1:return(T=C.sent()).isFoundDocument()?I.resolve(T):T.isNoDocument()?I.resolve(null):I.reject(new X(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return E=C.sent(),T=La(E,"Failed to get document '"+_+" from cache"),I.reject(T),[3,3];case 3:return[2]}})})},[4,ok(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,v])]}})})}),v.promise}(s,i._key).then(function(l){return new di(o,u,i._key,l,new Fo(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=ct(i,kt);var o=ct(i.firestore,Qt);return kE(pn(o),i._key,{source:"server"}).then(function(s){return Zv(o,i,s)})}(this._delegate):function(i){i=ct(i,kt);var o=ct(i.firestore,Qt);return kE(pn(o),i._key).then(function(s){return Zv(o,i,s)})}(this._delegate)).then(function(i){return new cc(n.firestore,new di(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Xh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Sn(e,t,n){return e.message=e.message.replace(t,n),e}function Rk(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!Ia(i))return i}return{}}function Nk(e,t){var n,i,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=Ia(e[0])?e[0]:Ia(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var cc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Ho(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return bk(this._delegate,t._delegate)},e}(),lc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(cc),Qh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Wh(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,Oi(this._delegate,function(o,s,u){var l=s,f=Jf("where",o);return new xV(f,l,u)}(t,n,i)))}catch(o){throw Sn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Oi(this._delegate,function(i,o){o===void 0&&(o="asc");var s=o,u=Jf("orderBy",i);return new CV(u,s)}(t,n)))}catch(i){throw Sn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Oi(this._delegate,function(n){return PE("limit",n),new FE("limit",n,"F")}(t)))}catch(n){throw Sn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Oi(this._delegate,function(n){return PE("limitToLast",n),new FE("limitToLast",n,"L")}(t)))}catch(n){throw Sn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new UE("startAt",i,!0)}).apply(void 0,t)))}catch(i){throw Sn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new UE("startAfter",i,!1)}).apply(void 0,t)))}catch(i){throw Sn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new VE("endBefore",i,!0)}).apply(void 0,t)))}catch(i){throw Sn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new VE("endAt",i,!1)}).apply(void 0,t)))}catch(i){throw Sn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return fk(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=ct(i,sr);var o=ct(i.firestore,Qt),s=pn(o),u=new $o(o);return function(l,f){var p=this,v=new Gn;return l.asyncQueue.enqueueAndForget(function(){return H(p,void 0,void 0,function(){var h;return $(this,function(m){switch(m.label){case 0:return h=function(y,_,I){return H(this,void 0,void 0,function(){var E,T,C,P,F;return $(this,function(J){switch(J.label){case 0:return J.trys.push([0,2,,3]),[4,zf(y,_,!0)];case 1:return F=J.sent(),E=new Y1(_,F.Bn),T=E._o(F.documents),C=E.applyChanges(T,!1),I.resolve(C.snapshot),[3,3];case 2:return P=J.sent(),F=La(P,"Failed to execute query '"+_+" against cache"),I.reject(F),[3,3];case 3:return[2]}})})},[4,ok(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,v])]}})})}),v.promise}(s,i._query).then(function(l){return new Bi(o,u,i,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=ct(i,sr);var o=ct(i.firestore,Qt),s=pn(o),u=new $o(o);return xE(s,i._query,{source:"server"}).then(function(l){return new Bi(o,u,i,l)})}(this._delegate):function(i){i=ct(i,sr);var o=ct(i.firestore,Qt),s=pn(o),u=new $o(o);return Ik(i._query),xE(s,i._query).then(function(l){return new Bi(o,u,i,l)})}(this._delegate)).then(function(i){return new eg(n.firestore,new Bi(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=Rk(n),s=Nk(n,function(u){return new eg(t.firestore,new Bi(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return Sk(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Xh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),LV=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new lc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),eg=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Qh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new lc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new LV(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new lc(i._firestore,o))})},e.prototype.isEqual=function(t){return bk(this._delegate,t._delegate)},e}(),Zf=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return Se(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Ho(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Ho(this.firestore,n===void 0?_f(this._delegate):_f(this._delegate,n))}catch(i){throw Sn(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,s){var u=ct(o.firestore,Qt),l=_f(o),f=zh(o.converter,s);return Fc(u,[Gh(ls(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,gn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Ho(i.firestore,o)})},t.prototype.isEqual=function(n){return lk(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Xh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Qh);function Uo(e){return ct(e,kt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MV=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Xr.bind.apply(Xr,Tt([void 0],t)))}return e.documentId=function(){return new e(Or.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=pt(t))instanceof Xr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),FV=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new bV("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new $y("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new IV("arrayUnion",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new EV("arrayRemove",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new TV("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),UV={Firestore:kk,GeoPoint:Kh,Timestamp:$n,Blob:Ak,Transaction:xk,WriteBatch:Ck,DocumentReference:Ho,DocumentSnapshot:cc,Query:Qh,QueryDocumentSnapshot:lc,QuerySnapshot:eg,CollectionReference:Zf,FieldPath:MV,FieldValue:FV,setLogLevel:DV,CACHE_SIZE_UNLIMITED:gV};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(e){(function(t,n){t.INTERNAL.registerComponent(new yc("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},UV)))})(e,function(t,n){return new kk(t,new Qt(t,n),new PV)}),e.registerVersion("@firebase/firestore","2.4.1")}VV(Ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ok="firebasestorage.googleapis.com",Pk="storageBucket",jV=2*60*1e3,BV=10*60*1e3,Kt=function(e){Se(t,e);function t(n,i){var o=e.call(this,nv(n),"Firebase Storage: "+i+" ("+nv(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return nv(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(MS);function nv(e){return"storage/"+e}function Xy(){var e="An unknown error occurred, please check the error payload for server response.";return new Kt("unknown",e)}function qV(e){return new Kt("object-not-found","Object '"+e+"' does not exist.")}function $V(e){return new Kt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function HV(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kt("unauthenticated",e)}function KV(){return new Kt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function GV(e){return new Kt("unauthorized","User does not have permission to access '"+e+"'.")}function zV(){return new Kt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Dk(){return new Kt("canceled","User canceled the upload/download.")}function WV(e){return new Kt("invalid-url","Invalid URL '"+e+"'.")}function XV(e){return new Kt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function QV(){return new Kt("no-default-bucket","No default bucket found. Did you set the '"+Pk+"' property when initializing the app?")}function Lk(){return new Kt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function YV(){return new Kt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function JV(){return new Kt("no-download-url","The given file does not have any download URLs.")}function Js(e){return new Kt("invalid-argument",e)}function Mk(){return new Kt("app-deleted","The Firebase app was deleted.")}function Fk(e){return new Kt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vu(e,t){return new Kt("invalid-format","String does not match format '"+e+"': "+t)}function ef(e){throw new Kt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},rv=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function Uk(e,t){switch(e){case dr.RAW:return new rv(Vk(t));case dr.BASE64:case dr.BASE64URL:return new rv(jk(e,t));case dr.DATA_URL:return new rv(tj(t),nj(t))}throw Xy()}function Vk(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=i,u=e.charCodeAt(++n);i=65536|(s&1023)<<10|u&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function ej(e){var t;try{t=decodeURIComponent(e)}catch{throw Vu(dr.DATA_URL,"Malformed data URL.")}return Vk(t)}function jk(e,t){switch(e){case dr.BASE64:{var n=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(n||i){var o=n?"-":"_";throw Vu(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case dr.BASE64URL:{var s=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(s||u){var o=s?"+":"/";throw Vu(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=ZV(t)}catch{throw Vu(e,"Invalid character found")}for(var f=new Uint8Array(l.length),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);return f}var Bk=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Vu(dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;i!=null&&(this.base64=rj(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();function tj(e){var t=new Bk(e);return t.base64?jk(dr.BASE64,t.rest):ej(t.rest)}function nj(e){var t=new Bk(e);return t.contentType}function rj(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ij={STATE_CHANGED:"state_changed"},An={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function iv(e){switch(e){case"running":case"pausing":case"canceling":return An.RUNNING;case"paused":return An.PAUSED;case"success":return An.SUCCESS;case"canceled":return An.CANCELED;case"error":return An.ERROR;default:return An.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ko;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ko||(Ko={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oj=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ko.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ko.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ko.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,i,o){if(this.sent_)throw ef("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw ef("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw ef("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw ef("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function sj(){return new oj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aj=function(){function e(){}return e.prototype.createConnection=function(){return sj()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw XV(t)},e.makeFromUrl=function(t,n){var i=null,o="([A-Za-z0-9.\\-_]+)";function s(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}var u="(/(.*))?$",l=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function p(Q){Q.path_=decodeURIComponent(Q.path)}for(var v="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+h+"/"+v+"/b/"+o+"/o"+m,"i"),_={bucket:1,path:3},I=n===Ok?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",T=new RegExp("^https?://"+I+"/"+o+"/"+E,"i"),C={bucket:1,path:2},P=[{regex:l,indices:f,postModify:s},{regex:y,indices:_,postModify:p},{regex:T,indices:C,postModify:p}],F=0;F<P.length;F++){var J=P[F],U=J.regex.exec(t);if(U){var de=U[J.indices.bucket],G=U[J.indices.path];G||(G=""),i=new e(de,G),J.postModify(i);break}}if(i==null)throw WV(t);return i},e}(),uj=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(e,t,n){var i=1,o=null,s=!1,u=0;function l(){return u===2}var f=!1;function p(){for(var _=[],I=0;I<arguments.length;I++)_[I]=arguments[I];f||(f=!0,t.apply(null,_))}function v(_){o=setTimeout(function(){o=null,e(h,l())},_)}function h(_){for(var I=[],E=1;E<arguments.length;E++)I[E-1]=arguments[E];if(!f){if(_){p.call.apply(p,Tt([null,_],I));return}var T=l()||s;if(T){p.call.apply(p,Tt([null,_],I));return}i<64&&(i*=2);var C;u===1?(u=2,C=0):C=(i+Math.random())*1e3,v(C)}}var m=!1;function y(_){m||(m=!0,!f&&(o!==null?(_||(u=2),clearTimeout(o),v(0)):_||(u=1)))}return v(0),setTimeout(function(){s=!0,y(!0)},n),y}function lj(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(e){return e!==void 0}function hj(e){return typeof e=="function"}function dj(e){return typeof e=="object"&&!Array.isArray(e)}function Yh(e){return typeof e=="string"||e instanceof String}function GE(e){return Qy()&&e instanceof Blob}function Qy(){return typeof Blob<"u"}function tg(e,t,n,i){if(i<t)throw Js("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>n)throw Js("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(e,t){var n=t.match(/^(\w+):\/\/.+/),i=n==null?void 0:n[1],o=t;return i==null&&(o="https://"+t),o+"/v0"+e}function qk(e){var t=encodeURIComponent,n="?";for(var i in e)if(e.hasOwnProperty(i)){var o=t(i)+"="+t(e[i]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pj=function(){function e(t,n,i,o,s,u,l,f,p,v,h){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=u.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=v,this.timeout_=p,this.pool_=h,this.promise_=new Promise(function(y,_){m.resolve_=y,m.reject_=_,m.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new tf(!1,null,!0));return}var u=t.pool_.createConnection();t.pendingConnection_=u;function l(f){var p=f.loaded,v=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(p,v)}t.progressCallback_!==null&&u.addUploadProgressListener(l),u.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&u.removeUploadProgressListener(l),t.pendingConnection_=null;var f=u.getErrorCode()===Ko.NO_ERROR,p=u.getStatus();if(!f||t.isRetryStatusCode_(p)){var v=u.getErrorCode()===Ko.ABORT;o(!1,new tf(!1,null,v));return}var h=t.successCodes_.indexOf(p)!==-1;o(!0,new tf(h,u))})}function i(o,s){var u=t.resolve_,l=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var p=t.callback_(f,f.getResponseText());fj(p)?u(p):u()}catch(h){l(h)}else if(f!==null){var v=Xy();v.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,v)):l(v)}else if(s.canceled){var v=t.appDelete_?Mk():Dk();l(v)}else{var v=zV();l(v)}}this.canceled_?i(!1,new tf(!1,null,!0)):this.backoffId_=cj(n,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&lj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=[408,429],o=i.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),tf=function(){function e(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}return e}();function mj(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function vj(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function gj(e,t){t&&(e["X-Firebase-GMPID"]=t)}function yj(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function _j(e,t,n,i,o,s){var u=qk(e.urlParams),l=e.url+u,f=Object.assign({},e.headers);return gj(f,t),mj(f,n),vj(f,s),yj(f,i),new pj(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=wj();if(n!==void 0){for(var i=new n,o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}else{if(Qy())return new Blob(e);throw new Kt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function Ij(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yy=function(){function e(t,n){var i=0,o="";GE(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(GE(this.data_)){var i=this.data_,o=Ij(i,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Qy()){var i=t.map(function(f){return f instanceof e?f.data_:f});return new e(bj.apply(null,i))}else{var o=t.map(function(f){return Yh(f)?Uk(dr.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var u=new Uint8Array(s),l=0;return o.forEach(function(f){for(var p=0;p<f.length;p++)u[l++]=f[p]}),new e(u,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(e){var t;try{t=JSON.parse(e)}catch{return null}return dj(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function Tj(e,t){var n=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?n:e+"/"+n}function $k(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(e,t){return t}var En=function(){function e(t,n,i,o){this.server=t,this.local=n||t,this.writable=!!i,this.xform=o||Sj}return e}(),nf=null;function Aj(e){return!Yh(e)||e.length<2?e:$k(e)}function Jh(){if(nf)return nf;var e=[];e.push(new En("bucket")),e.push(new En("generation")),e.push(new En("metageneration")),e.push(new En("name","fullPath",!0));function t(s,u){return Aj(u)}var n=new En("name");n.xform=t,e.push(n);function i(s,u){return u!==void 0?Number(u):u}var o=new En("size");return o.xform=i,e.push(o),e.push(new En("timeCreated")),e.push(new En("updated")),e.push(new En("md5Hash",null,!0)),e.push(new En("cacheControl",null,!0)),e.push(new En("contentDisposition",null,!0)),e.push(new En("contentEncoding",null,!0)),e.push(new En("contentLanguage",null,!0)),e.push(new En("contentType",null,!0)),e.push(new En("metadata","customMetadata",!0)),nf=e,nf}function kj(e,t){function n(){var i=e.bucket,o=e.fullPath,s=new pr(i,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function xj(e,t,n){var i={};i.type="file";for(var o=n.length,s=0;s<o;s++){var u=n[s];i[u.local]=u.xform(i,t[u.server])}return kj(i,e),i}function Hk(e,t,n){var i=Jy(t);if(i===null)return null;var o=i;return xj(e,o,n)}function Cj(e,t,n){var i=Jy(t);if(i===null||!Yh(i.downloadTokens))return null;var o=i.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,u=o.split(","),l=u.map(function(f){var p=e.bucket,v=e.fullPath,h="/b/"+s(p)+"/o/"+s(v),m=io(h,n),y=qk({alt:"media",token:f});return m+y});return l[0]}function Zy(e,t){for(var n={},i=t.length,o=0;o<i;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zE="prefixes",WE="items";function Rj(e,t,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[zE])for(var o=0,s=n[zE];o<s.length;o++){var u=s[o],l=u.replace(/\/$/,""),f=e._makeStorageReference(new pr(t,l));i.prefixes.push(f)}if(n[WE])for(var p=0,v=n[WE];p<v.length;p++){var h=v[p],f=e._makeStorageReference(new pr(t,h.name));i.items.push(f)}return i}function Nj(e,t,n){var i=Jy(n);if(i===null)return null;var o=i;return Rj(e,t,o)}var _i=function(){function e(t,n,i,o){this.url=t,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(e){if(!e)throw Xy()}function Zh(e,t){function n(i,o){var s=Hk(e,o,t);return Qr(s!==null),s}return n}function Oj(e,t){function n(i,o){var s=Nj(e,t,o);return Qr(s!==null),s}return n}function Pj(e,t){function n(i,o){var s=Hk(e,o,t);return Qr(s!==null),Cj(s,o,e.host)}return n}function Ma(e){function t(n,i){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=KV():o=HV():n.getStatus()===402?o=$V(e.bucket):n.getStatus()===403?o=GV(e.path):o=i,o.serverResponse=i.serverResponse,o}return t}function ed(e){var t=Ma(e);function n(i,o){var s=t(i,o);return i.getStatus()===404&&(s=qV(e.path)),s.serverResponse=o.serverResponse,s}return n}function Kk(e,t,n){var i=t.fullServerUrl(),o=io(i,e.host),s="GET",u=e.maxOperationRetryTime,l=new _i(o,s,Zh(e,n),u);return l.errorHandler=ed(t),l}function Dj(e,t,n,i,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),o&&(s.maxResults=o);var u=t.bucketOnlyServerUrl(),l=io(u,e.host),f="GET",p=e.maxOperationRetryTime,v=new _i(l,f,Oj(e,t.bucket),p);return v.urlParams=s,v.errorHandler=Ma(t),v}function Lj(e,t,n){var i=t.fullServerUrl(),o=io(i,e.host),s="GET",u=e.maxOperationRetryTime,l=new _i(o,s,Pj(e,n),u);return l.errorHandler=ed(t),l}function Mj(e,t,n,i){var o=t.fullServerUrl(),s=io(o,e.host),u="PATCH",l=Zy(n,i),f={"Content-Type":"application/json; charset=utf-8"},p=e.maxOperationRetryTime,v=new _i(s,u,Zh(e,i),p);return v.headers=f,v.body=l,v.errorHandler=ed(t),v}function Fj(e,t){var n=t.fullServerUrl(),i=io(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function u(f,p){}var l=new _i(i,o,u,s);return l.successCodes=[200,204],l.errorHandler=ed(t),l}function Uj(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Gk(e,t,n){var i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=Uj(null,t)),i}function Vj(e,t,n,i,o){var s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var P="",F=0;F<2;F++)P=P+Math.random().toString().slice(2);return P}var f=l();u["Content-Type"]="multipart/related; boundary="+f;var p=Gk(t,i,o),v=Zy(p,n),h="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,m=`\r
--`+f+"--",y=Yy.getBlob(h,i,m);if(y===null)throw Lk();var _={name:p.fullPath},I=io(s,e.host),E="POST",T=e.maxUploadRetryTime,C=new _i(I,E,Zh(e,n),T);return C.urlParams=_,C.headers=u,C.body=y.uploadData(),C.errorHandler=Ma(t),C}var eh=function(){function e(t,n,i,o){this.current=t,this.total=n,this.finalized=!!i,this.metadata=o||null}return e}();function e_(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Qr(!1)}var i=t||["active"];return Qr(!!n&&i.indexOf(n)!==-1),n}function jj(e,t,n,i,o){var s=t.bucketOnlyServerUrl(),u=Gk(t,i,o),l={name:u.fullPath},f=io(s,e.host),p="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},h=Zy(u,n),m=e.maxUploadRetryTime;function y(I){e_(I);var E;try{E=I.getResponseHeader("X-Goog-Upload-URL")}catch{Qr(!1)}return Qr(Yh(E)),E}var _=new _i(f,p,y,m);return _.urlParams=l,_.headers=v,_.body=h,_.errorHandler=Ma(t),_}function Bj(e,t,n,i){var o={"X-Goog-Upload-Command":"query"};function s(p){var v=e_(p,["active","final"]),h=null;try{h=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Qr(!1)}h||Qr(!1);var m=Number(h);return Qr(!isNaN(m)),new eh(m,i.size(),v==="final")}var u="POST",l=e.maxUploadRetryTime,f=new _i(n,u,s,l);return f.headers=o,f.errorHandler=Ma(t),f}var XE=256*1024;function qj(e,t,n,i,o,s,u,l){var f=new eh(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw YV();var p=f.total-f.current,v=p;o>0&&(v=Math.min(v,o));var h=f.current,m=h+v,y=v===p?"upload, finalize":"upload",_={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+f.current},I=i.slice(h,m);if(I===null)throw Lk();function E(F,J){var U=e_(F,["active","final"]),de=f.current+v,G=i.size(),Q;return U==="final"?Q=Zh(t,s)(F,J):Q=null,new eh(de,G,U==="final",Q)}var T="POST",C=t.maxUploadRetryTime,P=new _i(n,T,E,C);return P.headers=_,P.body=I.uploadData(),P.progressCallback=l||null,P.errorHandler=Ma(e),P}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $j=function(){function e(t,n,i){var o=hj(t)||n!=null||i!=null;if(o)this.next=t,this.error=n,this.complete=i;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zk=function(){function e(t,n,i){var o=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Jh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,u){o._resolve=s,o._reject=u,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var o=i[0],s=i[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,i){var o=jj(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._uploadUrl=u,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(i,o){var s=Bj(t._ref.storage,t._ref._location,n,t._blob),u=t._ref.storage._makeRequest(s,i,o);t._request=u,u.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=XE*this._chunkMultiplier,i=new eh(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,u){var l;try{l=qj(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(p){t._error=p,t._transition("error");return}var f=t._ref.storage._makeRequest(l,s,u);t._request=f,f.getPromise().then(function(p){t._increaseMultiplier(),t._request=void 0,t._updateProgress(p.current),p.finalized?(t._metadata=p.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=XE*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,i){var o=Kk(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,i){var o=Vj(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Dk(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=iv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,i,o){var s=this,u=new $j(n,i,o);return this._addObserver(u),function(){s._removeObserver(u)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(iv(this._state)){case An.SUCCESS:Vs(this._resolve.bind(null,this.snapshot))();break;case An.CANCELED:case An.ERROR:var n=this._reject;Vs(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=iv(this._state);switch(n){case An.RUNNING:case An.PAUSED:t.next&&Vs(t.next.bind(t,this.snapshot))();break;case An.SUCCESS:t.complete&&Vs(t.complete.bind(t))();break;case An.CANCELED:case An.ERROR:t.error&&Vs(t.error.bind(t,this._error))();break;default:t.error&&Vs(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var td=function(){function e(t,n){this._service=t,n instanceof pr?this._location=n:this._location=pr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new pr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return $k(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=Ej(this._location.path);if(t===null)return null;var n=new pr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw Fk(t)},e}();function Hj(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new zk(e,new Yy(t),n)}function Kj(e){var t={prefixes:[],items:[]};return Wk(e,t).then(function(){return t})}function Wk(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,u;return $(this,function(l){switch(l.label){case 0:return i={pageToken:n},[4,Xk(e,i)];case 1:return o=l.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(u=t.items).push.apply(u,o.items),o.nextPageToken==null?[3,3]:[4,Wk(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Xk(e,t){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&tg("options.maxResults",1,1e3,t.maxResults),n=t||{},i=Dj(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise()]}})})}function Gj(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Kk(e.storage,e._location,Jh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function zj(e,t){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),n=Mj(e.storage,e._location,t,Jh()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}function Wj(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=Lj(e.storage,e._location,Jh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(i){if(i===null)throw JV();return i})]}})})}function Xj(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=Fj(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Qk(e,t){var n=Tj(e._location.path,t),i=new pr(e._location.bucket,n);return new td(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(e){return/^[A-Za-z]+:\/\//.test(e)}function Qj(e,t){return new td(e,t)}function Yk(e,t){if(e instanceof nd){var n=e;if(n._bucket==null)throw QV();var i=new td(n,n._bucket);return t!=null?Yk(i,t):i}else return t!==void 0?Qk(e,t):e}function Yj(e,t){if(t&&ng(t)){if(e instanceof nd)return Qj(e,t);throw Js("To use ref(service, url), the first argument must be a Storage instance.")}else return Yk(e,t)}function QE(e,t){var n=t==null?void 0:t[Pk];return n==null?null:pr.makeFromBucketSpec(n,e)}function Jj(e,t,n,i){i===void 0&&(i={}),e.host="http://"+t+":"+n;var o=i.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:DS(o,e.app.options.projectId))}var nd=function(){function e(t,n,i,o,s,u){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=o,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=Ok,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jV,this._maxUploadRetryTime=BV,this._requests=new Set,s!=null?this._bucket=pr.makeFromBucketSpec(s,this._host):this._bucket=QE(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=pr.makeFromBucketSpec(this._url,t):this._bucket=QE(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){tg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){tg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return H(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=i.sent(),n!==null)return[2,n.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return H(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=i.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new td(this,t)},e.prototype._makeRequest=function(t,n,i){var o=this;if(this._deleted)return new uj(Mk());var s=_j(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),i=n[0],o=n[1],[2,this._makeRequest(t,i,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(e,t,n){return e=pt(e),Hj(e,t,n)}function eB(e){return e=pt(e),Gj(e)}function tB(e,t){return e=pt(e),zj(e,t)}function nB(e,t){return e=pt(e),Xk(e,t)}function rB(e){return e=pt(e),Kj(e)}function iB(e){return e=pt(e),Wj(e)}function oB(e){return e=pt(e),Xj(e)}function YE(e,t){return e=pt(e),Yj(e,t)}function sB(e,t){return Qk(e,t)}function aB(e,t,n,i){i===void 0&&(i={}),Jj(e,t,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rf=function(){function e(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JE=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new rf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var i=this;return this._delegate.then(function(o){if(t)return t(new rf(o,i,i._ref))},n)},e.prototype.on=function(t,n,i,o){var s=this,u=void 0;return n&&(typeof n=="function"?u=function(l){return n(new rf(l,s,s._ref))}:u={next:n.next?function(l){return n.next(new rf(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,u,i||void 0,o||void 0)},e}(),ZE=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new fc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new fc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=sB(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new JE(Zj(this._delegate,t,n),this)},e.prototype.putString=function(t,n,i){n===void 0&&(n=dr.RAW),this._throwIfRoot("putString");var o=Uk(n,t),s=ia({},i);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new JE(new zk(this._delegate,new Yy(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return rB(this._delegate).then(function(n){return new ZE(n,t.storage)})},e.prototype.list=function(t){var n=this;return nB(this._delegate,t||void 0).then(function(i){return new ZE(i,n.storage)})},e.prototype.getMetadata=function(){return eB(this._delegate)},e.prototype.updateMetadata=function(t){return tB(this._delegate,t)},e.prototype.getDownloadURL=function(){return iB(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),oB(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw Fk(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uB=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(ng(t))throw Js("ref() expected a child path but got a URL, use refFromURL instead.");return new fc(YE(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!ng(t))throw Js("refFromURL() expected a full URL but got a child path, use ref() instead.");try{pr.makeFromUrl(t,this._delegate.host)}catch{throw Js("refFromUrl() expected a valid full URL but got an invalid one.")}return new fc(YE(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),aB(this._delegate,t,n,i)},e}(),cB="@firebase/storage",lB="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fB="storage";function hB(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),u=new uB(i,new nd(i,o,s,new aj,n,Ce.SDK_VERSION));return u}function dB(e){var t={TaskState:An,TaskEvent:ij,StringFormat:dr,Storage:nd,Reference:fc};e.INTERNAL.registerComponent(new yc(fB,hB,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(cB,lB)}dB(Ce);const pB={apiKey:"AIzaSyB6nywCCST_HFjLRHJZl0XE9TXsf72rqpI",authDomain:"music-f6e93.firebaseapp.com",projectId:"music-f6e93",storageBucket:"music-f6e93.appspot.com",appId:"1:671056328288:web:c8abd445fb6b61addbf505"};Ce.initializeApp(pB);const qn=Ce.auth(),t_=Ce.firestore(),Jk=Ce.storage(),mB=t_.collection("users"),pi=t_.collection("songs"),eT=t_.collection("comments"),Ji=Dg("user",{state:()=>({userLoggedIn:!1,userDisplayName:!1}),actions:{async register(e){const t=await qn.createUserWithEmailAndPassword(e.email,e.password);await mB.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country,type_music:e.type_music}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await qn.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async updateInfo(e){await(await qn.currentUser).updateProfile({displayName:e.name}),this.userDisplayName=e.name},async signOut(){await qn.signOut(),this.userLoggedIn=!1,this.userDisplayName=!1}}}),Wn=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},vB={name:"Header",computed:{...XD(Sv,Ji),...Lg(Ji,["userDisplayName"])},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},gB={id:"header",class:"bg-gray-700"},yB={class:"container mx-auto flex justify-start items-center py-5 px-4"},_B={class:"flex flex-grow items-center"},wB={class:"flex flex-row mt-1"},bB={key:0},IB={key:0,class:"px-2 text-white"};function EB(e,t,n,i,o,s){const u=gt("router-link");return je(),it("header",gB,[D("nav",yB,[we(u,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:Rn(()=>[ai(" Music ")]),_:1}),D("div",_B,[D("ul",wB,[D("li",null,[we(u,{class:"px-2 text-white",to:{name:"about"}},{default:Rn(()=>[ai("About")]),_:1})]),e.userStore.userLoggedIn?(je(),it(en,{key:1},[D("li",null,[we(u,{class:"px-2 text-white",to:{name:"manage"}},{default:Rn(()=>[ai("Manage")]),_:1})]),D("li",null,[D("a",{class:"px-2 text-white",href:"#",onClick:t[1]||(t[1]=Wt((...l)=>s.signOut&&s.signOut(...l),["prevent"]))},"Logout")])],64)):(je(),it("li",bB,[D("a",{class:"px-2 text-white",onClick:t[0]||(t[0]=Wt((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"])),href:"#"},"Login / Register")]))])]),e.userStore.userLoggedIn&&e.userDisplayName?(je(),it("div",IB,[we(u,{class:"px-2 text-white",to:{name:"my_account"}},{default:Rn(()=>[ai(" Hello, "+Ft(e.userDisplayName),1)]),_:1})])):Xo("",!0)])])}const TB=Wn(vB,[["render",EB]]),SB={name:"LoginForm",data(){return{loginSchema:{email:"required|email",password:"required"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! We are login you in."}},methods:{...gc(Ji,{authenticate:"authenticate"}),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please wait! We are login you in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="Incorrect Email or Password";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Success! You are now logged in.",window.location.reload()}}},AB={class:"mb-3"},kB=D("label",{class:"inline-block mb-2"},"Email",-1),xB={class:"mb-3"},CB=D("label",{class:"inline-block mb-2"},"Password",-1),RB=["disabled"];function NB(e,t,n,i,o,s){const u=gt("vee-field"),l=gt("ErrorMessage"),f=gt("vee-form");return je(),it(en,null,[o.login_show_alert?(je(),it("div",{key:0,class:vn(["text-white text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},Ft(o.login_alert_msg),3)):Xo("",!0),we(f,{"validation-schema":o.loginSchema,onSubmit:s.login},{default:Rn(()=>[D("div",AB,[kB,we(u,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),we(l,{class:"text-red-600",name:"email"})]),D("div",xB,[CB,we(u,{type:"password",name:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),we(l,{class:"text-red-600",name:"password"})]),D("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.login_in_submission}," Submit ",8,RB)]),_:1},8,["validation-schema","onSubmit"])],64)}const OB=Wn(SB,[["render",NB]]),PB={name:"RegistrationForm",data(){return{registerSchema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:100",password:"required|min:9|max:100|not_one_of:password",confirm_password:"password_mismatch:@password",country:"required|country_excluded:Antarctica",type_music:"required",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Your account is being created."}},methods:{...gc(Ji,{createUser:"register"}),async register(e){this.reg_in_submission=!0,this.reg_show_alert=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! Your account is being  created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_msg="bg-red-500",this.reg_alert_msg="Something went wrong. Please try again later.";return}this.userLoggedIn=!0,this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success! Your account has been created.",window.location.reload()}}},DB={class:"mb-3"},LB=D("label",{class:"inline-block mb-2"},"Name",-1),MB={class:"mb-3"},FB=D("label",{class:"inline-block mb-2"},"Email",-1),UB={class:"mb-3"},VB=D("label",{class:"inline-block mb-2"},"Age",-1),jB={class:"mb-3"},BB=D("label",{class:"inline-block mb-2"},"Password",-1),qB={class:"mb-3"},$B=D("label",{class:"inline-block mb-2"},"Confirm Password",-1),HB={class:"mb-3"},KB=D("label",{class:"inline-block mb-2"},"Country",-1),GB=D("option",{value:"USA"},"USA",-1),zB=D("option",{value:"Mexico"},"Mexico",-1),WB=D("option",{value:"Germany"},"Germany",-1),XB=D("option",{value:"Antarctica"},"Antarctica",-1),QB={class:"mb-3"},YB=D("label",{class:"inline-block mb-2"},"Type of music",-1),JB=D("option",{value:"rock"},"Rock",-1),ZB=D("option",{value:"pop"},"Pop",-1),eq=D("option",{value:"rap"},"Rap",-1),tq=D("option",{value:"rnb"},"Rnb",-1),nq={class:"mb-3 pl-6"},rq=D("label",{class:"inline-block"},"Accept terms of service",-1),iq=["disabled"];function oq(e,t,n,i,o,s){const u=gt("vee-field"),l=gt("ErrorMessage"),f=gt("vee-form");return je(),it(en,null,[o.reg_show_alert?(je(),it("div",{key:0,class:vn(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},Ft(o.reg_alert_msg),3)):Xo("",!0),we(f,{"validation-schema":o.registerSchema,onSubmit:s.register,"initial-values":o.userData},{default:Rn(()=>[D("div",DB,[LB,we(u,{type:"text",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),we(l,{class:"text-red-600",name:"name"})]),D("div",MB,[FB,we(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),we(l,{class:"text-red-600",name:"email"})]),D("div",UB,[VB,we(u,{type:"number",name:"age",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),we(l,{class:"text-red-600",name:"age"})]),D("div",jB,[BB,we(u,{name:"password",bails:!1},{default:Rn(({field:p,errors:v})=>[D("input",SS({type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"},p),null,16),(je(!0),it(en,null,vc(v,h=>(je(),it("div",{class:"text-red-600",key:h},Ft(h),1))),128))]),_:1})]),D("div",qB,[$B,we(u,{type:"password",name:"confirm_password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),we(l,{class:"text-red-600",name:"confirm_password"})]),D("div",HB,[KB,we(u,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Rn(()=>[GB,zB,WB,XB]),_:1}),we(l,{class:"text-red-600",name:"country"})]),D("div",QB,[YB,we(u,{as:"select",name:"type_music",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Rn(()=>[JB,ZB,eq,tq]),_:1}),we(l,{class:"text-red-600",name:"type_music"})]),D("div",nq,[we(u,{type:"checkbox",name:"tos",value:"1",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),rq,we(l,{class:"text-red-600",name:"tos"})]),D("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.reg_in_submission}," Submit ",8,iq)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const sq=Wn(PB,[["render",oq]]),aq={name:"Auth",components:{LoginForm:OB,RegistrationForm:sq},computed:{...Af(Sv,["hiddenClass"]),...Lg(Sv,{modalVisibility:"isOpen"})},data(){return{tab:"login"}}},uq={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},cq=D("div",{class:"fixed inset-0 transition-opacity"},[D("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),lq=D("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"",-1),fq={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},hq={class:"py-4 text-left px-6"},dq={class:"flex justify-between items-center pb-4"},pq=D("p",{class:"text-2xl font-bold"},"Your Account",-1),mq=D("i",{class:"fas fa-times"},null,-1),vq=[mq],gq={class:"flex flex-wrap mb-4"},yq={class:"flex-auto text-center"},_q={class:"flex-auto text-center"};function wq(e,t,n,i,o,s){const u=gt("LoginForm"),l=gt("RegistrationForm");return je(),it("div",{class:vn(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[D("div",uq,[cq,lq,D("div",fq,[D("div",hq,[D("div",dq,[pq,D("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=Wt(f=>e.modalVisibility=!1,["prevent"]))},vq)]),D("ul",gq,[D("li",yq,[D("a",{onClick:t[1]||(t[1]=Wt(f=>o.tab="login",["prevent"])),class:vn(["block rounded py-3 px-4 transition",{" hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#"},"Login",2)]),D("li",_q,[D("a",{onClick:t[2]||(t[2]=Wt(f=>o.tab="register",["prevent"])),class:vn([{" hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"},"block rounded py-3 px-4 transition"]),href:"#"},"Register",2)])]),o.tab==="login"?(je(),ea(u,{key:0})):(je(),ea(l,{key:1}))])])])],2)}const bq=Wn(aq,[["render",wq]]);var Tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rg={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var m=this||n;if(h=parseFloat(h),m.ctx||v(),typeof h<"u"&&h>=0&&h<=1){if(m._volume=h,m._muted)return m;m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),I=0;I<_.length;I++){var E=m._howls[y]._soundById(_[I]);E&&E._node&&(E._node.volume=E._volume*h)}return m}return m._volume},mute:function(h){var m=this||n;m.ctx||v(),m._muted=h,m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h?0:m._volume,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),I=0;I<_.length;I++){var E=m._howls[y]._soundById(_[I]);E&&E._node&&(E._node.muted=h?!0:E._muted)}return m},stop:function(){for(var h=this||n,m=0;m<h._howls.length;m++)h._howls[m].stop();return h},unload:function(){for(var h=this||n,m=h._howls.length-1;m>=0;m--)h._howls[m].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,v()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var m=new Audio;typeof m.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var m=new Audio;m.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,m=null;try{m=typeof Audio<"u"?new Audio:null}catch{return h}if(!m||typeof m.canPlayType!="function")return h;var y=m.canPlayType("audio/mpeg;").replace(/^no$/,""),_=h._navigator?h._navigator.userAgent:"",I=_.match(/OPR\/(\d+)/g),E=I&&parseInt(I[0].split("/")[1],10)<33,T=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,C=_.match(/Version\/(.*?) /),P=T&&C&&parseInt(C[1],10)<15;return h._codecs={mp3:!!(!E&&(y||m.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!y,opus:!!m.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(m.canPlayType('audio/wav; codecs="1"')||m.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!m.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!m.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(m.canPlayType("audio/x-m4a;")||m.canPlayType("audio/m4a;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(m.canPlayType("audio/x-m4b;")||m.canPlayType("audio/m4b;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(m.canPlayType("audio/x-mp4;")||m.canPlayType("audio/mp4;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!P&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!P&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!m.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(m.canPlayType("audio/x-flac;")||m.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var m=function(y){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,h._releaseHtml5Audio(_)}catch{h.noAudio=!0;break}for(var I=0;I<h._howls.length;I++)if(!h._howls[I]._webAudio)for(var E=h._howls[I]._getSoundIds(),T=0;T<E.length;T++){var C=h._howls[I]._soundById(E[T]);C&&C._node&&!C._node._unlocked&&(C._node._unlocked=!0,C._node.load())}h._autoResume();var P=h.ctx.createBufferSource();P.buffer=h._scratchBuffer,P.connect(h.ctx.destination),typeof P.start>"u"?P.noteOn(0):P.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),P.onended=function(){P.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",m,!0),document.removeEventListener("touchend",m,!0),document.removeEventListener("click",m,!0),document.removeEventListener("keydown",m,!0);for(var F=0;F<h._howls.length;F++)h._howls[F]._emit("unlock")}};return document.addEventListener("touchstart",m,!0),document.addEventListener("touchend",m,!0),document.addEventListener("click",m,!0),document.addEventListener("keydown",m,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var m=new Audio().play();return m&&typeof Promise<"u"&&(m instanceof Promise||typeof m.then=="function")&&m.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var m=this||n;return h._unlocked&&m._html5AudioPool.push(h),m},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var m=0;m<h._howls.length;m++)if(h._howls[m]._webAudio){for(var y=0;y<h._howls[m]._sounds.length;y++)if(!h._howls[m]._sounds[y]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var _=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(_,_)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var m=0;m<h._howls.length;m++)h._howls[m]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,i=function(h){var m=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}m.init(h)};i.prototype={init:function(h){var m=this;return n.ctx||v(),m._autoplay=h.autoplay||!1,m._format=typeof h.format!="string"?h.format:[h.format],m._html5=h.html5||!1,m._muted=h.mute||!1,m._loop=h.loop||!1,m._pool=h.pool||5,m._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,m._rate=h.rate||1,m._sprite=h.sprite||{},m._src=typeof h.src!="string"?h.src:[h.src],m._volume=h.volume!==void 0?h.volume:1,m._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},m._duration=0,m._state="unloaded",m._sounds=[],m._endTimers={},m._queue=[],m._playLock=!1,m._onend=h.onend?[{fn:h.onend}]:[],m._onfade=h.onfade?[{fn:h.onfade}]:[],m._onload=h.onload?[{fn:h.onload}]:[],m._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],m._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],m._onpause=h.onpause?[{fn:h.onpause}]:[],m._onplay=h.onplay?[{fn:h.onplay}]:[],m._onstop=h.onstop?[{fn:h.onstop}]:[],m._onmute=h.onmute?[{fn:h.onmute}]:[],m._onvolume=h.onvolume?[{fn:h.onvolume}]:[],m._onrate=h.onrate?[{fn:h.onrate}]:[],m._onseek=h.onseek?[{fn:h.onseek}]:[],m._onunlock=h.onunlock?[{fn:h.onunlock}]:[],m._onresume=[],m._webAudio=n.usingWebAudio&&!m._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(m),m._autoplay&&m._queue.push({event:"play",action:function(){m.play()}}),m._preload&&m._preload!=="none"&&m.load(),m},load:function(){var h=this,m=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var y=0;y<h._src.length;y++){var _,I;if(h._format&&h._format[y])_=h._format[y];else{if(I=h._src[y],typeof I!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(I),_||(_=/\.([^.]+)$/.exec(I.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){m=h._src[y];break}}if(!m){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=m,h._state="loading",window.location.protocol==="https:"&&m.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&u(h),h},play:function(h,m){var y=this,_=null;if(typeof h=="number")_=h,h=null;else{if(typeof h=="string"&&y._state==="loaded"&&!y._sprite[h])return null;if(typeof h>"u"&&(h="__default",!y._playLock)){for(var I=0,E=0;E<y._sounds.length;E++)y._sounds[E]._paused&&!y._sounds[E]._ended&&(I++,_=y._sounds[E]._id);I===1?h=null:_=null}}var T=_?y._soundById(_):y._inactiveSound();if(!T)return null;if(_&&!h&&(h=T._sprite||"__default"),y._state!=="loaded"){T._sprite=h,T._ended=!1;var C=T._id;return y._queue.push({event:"play",action:function(){y.play(C)}}),C}if(_&&!T._paused)return m||y._loadQueue("play"),T._id;y._webAudio&&n._autoResume();var P=Math.max(0,T._seek>0?T._seek:y._sprite[h][0]/1e3),F=Math.max(0,(y._sprite[h][0]+y._sprite[h][1])/1e3-P),J=F*1e3/Math.abs(T._rate),U=y._sprite[h][0]/1e3,de=(y._sprite[h][0]+y._sprite[h][1])/1e3;T._sprite=h,T._ended=!1;var G=function(){T._paused=!1,T._seek=P,T._start=U,T._stop=de,T._loop=!!(T._loop||y._sprite[h][2])};if(P>=de){y._ended(T);return}var Q=T._node;if(y._webAudio){var x=function(){y._playLock=!1,G(),y._refreshBuffer(T);var Je=T._muted||y._muted?0:T._volume;Q.gain.setValueAtTime(Je,n.ctx.currentTime),T._playStart=n.ctx.currentTime,typeof Q.bufferSource.start>"u"?T._loop?Q.bufferSource.noteGrainOn(0,P,86400):Q.bufferSource.noteGrainOn(0,P,F):T._loop?Q.bufferSource.start(0,P,86400):Q.bufferSource.start(0,P,F),J!==1/0&&(y._endTimers[T._id]=setTimeout(y._ended.bind(y,T),J)),m||setTimeout(function(){y._emit("play",T._id),y._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?x():(y._playLock=!0,y.once("resume",x),y._clearTimer(T._id))}else{var Ke=function(){Q.currentTime=P,Q.muted=T._muted||y._muted||n._muted||Q.muted,Q.volume=T._volume*n.volume(),Q.playbackRate=T._rate;try{var Je=Q.play();if(Je&&typeof Promise<"u"&&(Je instanceof Promise||typeof Je.then=="function")?(y._playLock=!0,G(),Je.then(function(){y._playLock=!1,Q._unlocked=!0,m?y._loadQueue():y._emit("play",T._id)}).catch(function(){y._playLock=!1,y._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),T._ended=!0,T._paused=!0})):m||(y._playLock=!1,G(),y._emit("play",T._id)),Q.playbackRate=T._rate,Q.paused){y._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||T._loop?y._endTimers[T._id]=setTimeout(y._ended.bind(y,T),J):(y._endTimers[T._id]=function(){y._ended(T),Q.removeEventListener("ended",y._endTimers[T._id],!1)},Q.addEventListener("ended",y._endTimers[T._id],!1))}catch(We){y._emit("playerror",T._id,We)}};Q.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(Q.src=y._src,Q.load());var ot=window&&window.ejecta||!Q.readyState&&n._navigator.isCocoonJS;if(Q.readyState>=3||ot)Ke();else{y._playLock=!0,y._state="loading";var st=function(){y._state="loaded",Ke(),Q.removeEventListener(n._canPlayEvent,st,!1)};Q.addEventListener(n._canPlayEvent,st,!1),y._clearTimer(T._id)}}return T._id},pause:function(h){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"pause",action:function(){m.pause(h)}}),m;for(var y=m._getSoundIds(h),_=0;_<y.length;_++){m._clearTimer(y[_]);var I=m._soundById(y[_]);if(I&&!I._paused&&(I._seek=m.seek(y[_]),I._rateSeek=0,I._paused=!0,m._stopFade(y[_]),I._node))if(m._webAudio){if(!I._node.bufferSource)continue;typeof I._node.bufferSource.stop>"u"?I._node.bufferSource.noteOff(0):I._node.bufferSource.stop(0),m._cleanBuffer(I._node)}else(!isNaN(I._node.duration)||I._node.duration===1/0)&&I._node.pause();arguments[1]||m._emit("pause",I?I._id:null)}return m},stop:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"stop",action:function(){y.stop(h)}}),y;for(var _=y._getSoundIds(h),I=0;I<_.length;I++){y._clearTimer(_[I]);var E=y._soundById(_[I]);E&&(E._seek=E._start||0,E._rateSeek=0,E._paused=!0,E._ended=!0,y._stopFade(_[I]),E._node&&(y._webAudio?E._node.bufferSource&&(typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),y._cleanBuffer(E._node)):(!isNaN(E._node.duration)||E._node.duration===1/0)&&(E._node.currentTime=E._start||0,E._node.pause(),E._node.duration===1/0&&y._clearSound(E._node))),m||y._emit("stop",E._id))}return y},mute:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"mute",action:function(){y.mute(h,m)}}),y;if(typeof m>"u")if(typeof h=="boolean")y._muted=h;else return y._muted;for(var _=y._getSoundIds(m),I=0;I<_.length;I++){var E=y._soundById(_[I]);E&&(E._muted=h,E._interval&&y._stopFade(E._id),y._webAudio&&E._node?E._node.gain.setValueAtTime(h?0:E._volume,n.ctx.currentTime):E._node&&(E._node.muted=n._muted?!0:h),y._emit("mute",E._id))}return y},volume:function(){var h=this,m=arguments,y,_;if(m.length===0)return h._volume;if(m.length===1||m.length===2&&typeof m[1]>"u"){var I=h._getSoundIds(),E=I.indexOf(m[0]);E>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length>=2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var T;if(typeof y<"u"&&y>=0&&y<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,m)}}),h;typeof _>"u"&&(h._volume=y),_=h._getSoundIds(_);for(var C=0;C<_.length;C++)T=h._soundById(_[C]),T&&(T._volume=y,m[2]||h._stopFade(_[C]),h._webAudio&&T._node&&!T._muted?T._node.gain.setValueAtTime(y,n.ctx.currentTime):T._node&&!T._muted&&(T._node.volume=y*n.volume()),h._emit("volume",T._id))}else return T=_?h._soundById(_):h._sounds[0],T?T._volume:0;return h},fade:function(h,m,y,_){var I=this;if(I._state!=="loaded"||I._playLock)return I._queue.push({event:"fade",action:function(){I.fade(h,m,y,_)}}),I;h=Math.min(Math.max(0,parseFloat(h)),1),m=Math.min(Math.max(0,parseFloat(m)),1),y=parseFloat(y),I.volume(h,_);for(var E=I._getSoundIds(_),T=0;T<E.length;T++){var C=I._soundById(E[T]);if(C){if(_||I._stopFade(E[T]),I._webAudio&&!C._muted){var P=n.ctx.currentTime,F=P+y/1e3;C._volume=h,C._node.gain.setValueAtTime(h,P),C._node.gain.linearRampToValueAtTime(m,F)}I._startFadeInterval(C,h,m,y,E[T],typeof _>"u")}}return I},_startFadeInterval:function(h,m,y,_,I,E){var T=this,C=m,P=y-m,F=Math.abs(P/.01),J=Math.max(4,F>0?_/F:_),U=Date.now();h._fadeTo=y,h._interval=setInterval(function(){var de=(Date.now()-U)/_;U=Date.now(),C+=P*de,C=Math.round(C*100)/100,P<0?C=Math.max(y,C):C=Math.min(y,C),T._webAudio?h._volume=C:T.volume(C,h._id,!0),E&&(T._volume=C),(y<m&&C<=y||y>m&&C>=y)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,T.volume(y,h._id),T._emit("fade",h._id))},J)},_stopFade:function(h){var m=this,y=m._soundById(h);return y&&y._interval&&(m._webAudio&&y._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(y._interval),y._interval=null,m.volume(y._fadeTo,h),y._fadeTo=null,m._emit("fade",h)),m},loop:function(){var h=this,m=arguments,y,_,I;if(m.length===0)return h._loop;if(m.length===1)if(typeof m[0]=="boolean")y=m[0],h._loop=y;else return I=h._soundById(parseInt(m[0],10)),I?I._loop:!1;else m.length===2&&(y=m[0],_=parseInt(m[1],10));for(var E=h._getSoundIds(_),T=0;T<E.length;T++)I=h._soundById(E[T]),I&&(I._loop=y,h._webAudio&&I._node&&I._node.bufferSource&&(I._node.bufferSource.loop=y,y&&(I._node.bufferSource.loopStart=I._start||0,I._node.bufferSource.loopEnd=I._stop,h.playing(E[T])&&(h.pause(E[T],!0),h.play(E[T],!0)))));return h},rate:function(){var h=this,m=arguments,y,_;if(m.length===0)_=h._sounds[0]._id;else if(m.length===1){var I=h._getSoundIds(),E=I.indexOf(m[0]);E>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var T;if(typeof y=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,m)}}),h;typeof _>"u"&&(h._rate=y),_=h._getSoundIds(_);for(var C=0;C<_.length;C++)if(T=h._soundById(_[C]),T){h.playing(_[C])&&(T._rateSeek=h.seek(_[C]),T._playStart=h._webAudio?n.ctx.currentTime:T._playStart),T._rate=y,h._webAudio&&T._node&&T._node.bufferSource?T._node.bufferSource.playbackRate.setValueAtTime(y,n.ctx.currentTime):T._node&&(T._node.playbackRate=y);var P=h.seek(_[C]),F=(h._sprite[T._sprite][0]+h._sprite[T._sprite][1])/1e3-P,J=F*1e3/Math.abs(T._rate);(h._endTimers[_[C]]||!T._paused)&&(h._clearTimer(_[C]),h._endTimers[_[C]]=setTimeout(h._ended.bind(h,T),J)),h._emit("rate",T._id)}}else return T=h._soundById(_),T?T._rate:h._rate;return h},seek:function(){var h=this,m=arguments,y,_;if(m.length===0)h._sounds.length&&(_=h._sounds[0]._id);else if(m.length===1){var I=h._getSoundIds(),E=I.indexOf(m[0]);E>=0?_=parseInt(m[0],10):h._sounds.length&&(_=h._sounds[0]._id,y=parseFloat(m[0]))}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));if(typeof _>"u")return 0;if(typeof y=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,m)}}),h;var T=h._soundById(_);if(T)if(typeof y=="number"&&y>=0){var C=h.playing(_);C&&h.pause(_,!0),T._seek=y,T._ended=!1,h._clearTimer(_),!h._webAudio&&T._node&&!isNaN(T._node.duration)&&(T._node.currentTime=y);var P=function(){C&&h.play(_,!0),h._emit("seek",_)};if(C&&!h._webAudio){var F=function(){h._playLock?setTimeout(F,0):P()};setTimeout(F,0)}else P()}else if(h._webAudio){var J=h.playing(_)?n.ctx.currentTime-T._playStart:0,U=T._rateSeek?T._rateSeek-T._seek:0;return T._seek+(U+J*Math.abs(T._rate))}else return T._node.currentTime;return h},playing:function(h){var m=this;if(typeof h=="number"){var y=m._soundById(h);return y?!y._paused:!1}for(var _=0;_<m._sounds.length;_++)if(!m._sounds[_]._paused)return!0;return!1},duration:function(h){var m=this,y=m._duration,_=m._soundById(h);return _&&(y=m._sprite[_._sprite][1]/1e3),y},state:function(){return this._state},unload:function(){for(var h=this,m=h._sounds,y=0;y<m.length;y++)m[y]._paused||h.stop(m[y]._id),h._webAudio||(h._clearSound(m[y]._node),m[y]._node.removeEventListener("error",m[y]._errorFn,!1),m[y]._node.removeEventListener(n._canPlayEvent,m[y]._loadFn,!1),m[y]._node.removeEventListener("ended",m[y]._endFn,!1),n._releaseHtml5Audio(m[y]._node)),delete m[y]._node,h._clearTimer(m[y]._id);var _=n._howls.indexOf(h);_>=0&&n._howls.splice(_,1);var I=!0;for(y=0;y<n._howls.length;y++)if(n._howls[y]._src===h._src||h._src.indexOf(n._howls[y]._src)>=0){I=!1;break}return s&&I&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,m,y,_){var I=this,E=I["_on"+h];return typeof m=="function"&&E.push(_?{id:y,fn:m,once:_}:{id:y,fn:m}),I},off:function(h,m,y){var _=this,I=_["_on"+h],E=0;if(typeof m=="number"&&(y=m,m=null),m||y)for(E=0;E<I.length;E++){var T=y===I[E].id;if(m===I[E].fn&&T||!m&&T){I.splice(E,1);break}}else if(h)_["_on"+h]=[];else{var C=Object.keys(_);for(E=0;E<C.length;E++)C[E].indexOf("_on")===0&&Array.isArray(_[C[E]])&&(_[C[E]]=[])}return _},once:function(h,m,y){var _=this;return _.on(h,m,y,1),_},_emit:function(h,m,y){for(var _=this,I=_["_on"+h],E=I.length-1;E>=0;E--)(!I[E].id||I[E].id===m||h==="load")&&(setTimeout((function(T){T.call(this,m,y)}).bind(_,I[E].fn),0),I[E].once&&_.off(h,I[E].fn,I[E].id));return _._loadQueue(h),_},_loadQueue:function(h){var m=this;if(m._queue.length>0){var y=m._queue[0];y.event===h&&(m._queue.shift(),m._loadQueue()),h||y.action()}return m},_ended:function(h){var m=this,y=h._sprite;if(!m._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(m._ended.bind(m,h),100),m;var _=!!(h._loop||m._sprite[y][2]);if(m._emit("end",h._id),!m._webAudio&&_&&m.stop(h._id,!0).play(h._id),m._webAudio&&_){m._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var I=(h._stop-h._start)*1e3/Math.abs(h._rate);m._endTimers[h._id]=setTimeout(m._ended.bind(m,h),I)}return m._webAudio&&!_&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,m._clearTimer(h._id),m._cleanBuffer(h._node),n._autoSuspend()),!m._webAudio&&!_&&m.stop(h._id,!0),m},_clearTimer:function(h){var m=this;if(m._endTimers[h]){if(typeof m._endTimers[h]!="function")clearTimeout(m._endTimers[h]);else{var y=m._soundById(h);y&&y._node&&y._node.removeEventListener("ended",m._endTimers[h],!1)}delete m._endTimers[h]}return m},_soundById:function(h){for(var m=this,y=0;y<m._sounds.length;y++)if(h===m._sounds[y]._id)return m._sounds[y];return null},_inactiveSound:function(){var h=this;h._drain();for(var m=0;m<h._sounds.length;m++)if(h._sounds[m]._ended)return h._sounds[m].reset();return new o(h)},_drain:function(){var h=this,m=h._pool,y=0,_=0;if(!(h._sounds.length<m)){for(_=0;_<h._sounds.length;_++)h._sounds[_]._ended&&y++;for(_=h._sounds.length-1;_>=0;_--){if(y<=m)return;h._sounds[_]._ended&&(h._webAudio&&h._sounds[_]._node&&h._sounds[_]._node.disconnect(0),h._sounds.splice(_,1),y--)}}},_getSoundIds:function(h){var m=this;if(typeof h>"u"){for(var y=[],_=0;_<m._sounds.length;_++)y.push(m._sounds[_]._id);return y}else return[h]},_refreshBuffer:function(h){var m=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[m._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),m},_cleanBuffer:function(h){var m=this,y=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!h.bufferSource)return m;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),y))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,m},_clearSound:function(h){var m=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);m||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,m._sounds.push(h),h.create(),h},create:function(){var h=this,m=h._parent,y=n._muted||h._muted||h._parent._muted?0:h._volume;return m._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(y,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=m._src,h._node.preload=m._preload===!0?"auto":m._preload,h._node.volume=y*n.volume(),h._node.load()),h},reset:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,m=h._parent;m._duration=Math.ceil(h._node.duration*10)/10,Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!=="loaded"&&(m._state="loaded",m._emit("load"),m._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,m=h._parent;m._duration===1/0&&(m._duration=Math.ceil(h._node.duration*10)/10,m._sprite.__default[1]===1/0&&(m._sprite.__default[1]=m._duration*1e3),m._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},u=function(h){var m=h._src;if(s[m]){h._duration=s[m].duration,p(h);return}if(/^data:[^;]+;base64,/.test(m)){for(var y=atob(m.split(",")[1]),_=new Uint8Array(y.length),I=0;I<y.length;++I)_[I]=y.charCodeAt(I);f(_.buffer,h)}else{var E=new XMLHttpRequest;E.open(h._xhr.method,m,!0),E.withCredentials=h._xhr.withCredentials,E.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(T){E.setRequestHeader(T,h._xhr.headers[T])}),E.onload=function(){var T=(E.status+"")[0];if(T!=="0"&&T!=="2"&&T!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+E.status+".");return}f(E.response,h)},E.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[m],h.load())},l(E)}},l=function(h){try{h.send()}catch{h.onerror()}},f=function(h,m){var y=function(){m._emit("loaderror",null,"Decoding audio data failed.")},_=function(I){I&&m._sounds.length>0?(s[m._src]=I,p(m,I)):y()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(_).catch(y):n.ctx.decodeAudioData(h,_,y)},p=function(h,m){m&&!h._duration&&(h._duration=m.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},v=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),m=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),y=m?parseInt(m[1],10):null;if(h&&y&&y<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=i,typeof Tu<"u"?(Tu.HowlerGlobal=t,Tu.Howler=n,Tu.Howl=i,Tu.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=i,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var o=i._howls.length-1;o>=0;o--)i._howls[o].stereo(n);return i},HowlerGlobal.prototype.pos=function(n,i,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(i=typeof i!="number"?s._pos[1]:i,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,i,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,i,o,s,u,l){var f=this;if(!f.ctx||!f.ctx.listener)return f;var p=f._orientation;if(i=typeof i!="number"?p[1]:i,o=typeof o!="number"?p[2]:o,s=typeof s!="number"?p[3]:s,u=typeof u!="number"?p[4]:u,l=typeof l!="number"?p[5]:l,typeof n=="number")f._orientation=[n,i,o,s,u,l],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,i,o,s,u,l);else return p;return f},Howl.prototype.init=function(n){return function(i){var o=this;return o._orientation=i.orientation||[1,0,0],o._stereo=i.stereo||null,o._pos=i.pos||null,o._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},o._onstereo=i.onstereo?[{fn:i.onstereo}]:[],o._onpos=i.onpos?[{fn:i.onpos}]:[],o._onorientation=i.onorientation?[{fn:i.onorientation}]:[],n.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,i){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,i)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var u=o._getSoundIds(i),l=0;l<u.length;l++){var f=o._soundById(u[l]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,i,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(n,i,o,s)}}),u;if(i=typeof i!="number"?0:i,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")u._pos=[n,i,o];else return u._pos;for(var l=u._getSoundIds(s),f=0;f<l.length;f++){var p=u._soundById(l[f]);if(p)if(typeof n=="number")p._pos=[n,i,o],p._node&&((!p._panner||p._panner.pan)&&t(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setPosition(n,i,o)),u._emit("pos",p._id);else return p._pos}return u},Howl.prototype.orientation=function(n,i,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(n,i,o,s)}}),u;if(i=typeof i!="number"?u._orientation[1]:i,o=typeof o!="number"?u._orientation[2]:o,typeof s>"u")if(typeof n=="number")u._orientation=[n,i,o];else return u._orientation;for(var l=u._getSoundIds(s),f=0;f<l.length;f++){var p=u._soundById(l[f]);if(p)if(typeof n=="number")p._orientation=[n,i,o],p._node&&(p._panner||(p._pos||(p._pos=u._pos||[0,0,-.5]),t(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setOrientation(n,i,o)),u._emit("orientation",p._id);else return p._orientation}return u},Howl.prototype.pannerAttr=function(){var n=this,i=arguments,o,s,u;if(!n._webAudio)return n;if(i.length===0)return n._pannerAttr;if(i.length===1)if(typeof i[0]=="object")o=i[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return u=n._soundById(parseInt(i[0],10)),u?u._pannerAttr:n._pannerAttr;else i.length===2&&(o=i[0],s=parseInt(i[1],10));for(var l=n._getSoundIds(s),f=0;f<l.length;f++)if(u=n._soundById(l[f]),u){var p=u._pannerAttr;p={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:p.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:p.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:p.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:p.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:p.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:p.panningModel};var v=u._panner;v||(u._pos||(u._pos=n._pos||[0,0,-.5]),t(u,"spatial"),v=u._panner),v.coneInnerAngle=p.coneInnerAngle,v.coneOuterAngle=p.coneOuterAngle,v.coneOuterGain=p.coneOuterGain,v.distanceModel=p.distanceModel,v.maxDistance=p.maxDistance,v.refDistance=p.refDistance,v.rolloffFactor=p.rolloffFactor,v.panningModel=p.panningModel}return n},Sound.prototype.init=function(n){return function(){var i=this,o=i._parent;i._orientation=o._orientation,i._stereo=o._stereo,i._pos=o._pos,i._pannerAttr=o._pannerAttr,n.call(this),i._stereo?o.stereo(i._stereo):i._pos&&o.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var i=this,o=i._parent;return i._orientation=o._orientation,i._stereo=o._stereo,i._pos=o._pos,i._pannerAttr=o._pannerAttr,i._stereo?o.stereo(i._stereo):i._pos?o.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,o._refreshBuffer(i)),n.call(this)}}(Sound.prototype.reset);var t=function(n,i){i=i||"spatial",i==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(rg);const tT={formatTime(e){const t=Math.floor(e/60)||0,n=Math.round(e-t*60||0);return`${t}:${n<10?"0":""}${n}`}},th=Dg("player",{state:()=>({current_song:{},sound:{},seek:"00:00",duration:"00:00",playerProgress:"0%"}),actions:{async newSong(e){this.sound instanceof rg.Howl&&this.sound.unload(),this.current_song=e,this.sound=new rg.Howl({src:[e.url],html5:!0}),this.sound.play(),this.sound.on("play",()=>{requestAnimationFrame(this.progress)})},async toggleAudio(){this.sound.playing&&(this.sound.playing()?this.sound.pause():this.sound.play())},progress(){this.seek=tT.formatTime(this.sound.seek()),this.duration=tT.formatTime(this.sound.duration()),this.playerProgress=`${this.sound.seek()/this.sound.duration()*100}%`,this.sound.playing()&&requestAnimationFrame(this.progress)},updateSeek(e){if(!this.sound.playing)return;const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),o=(e.clientX-t)/n,s=this.sound.duration()*o;this.sound.seek(s),this.sound.once("seek")}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1}}),Iq={name:"Player",methods:{...gc(th,{toggleAudio:"toggleAudio",updateSeek:"updateSeek"})},computed:{...Af(th,{playing:"playing",duration:"duration",seek:"seek",playerProgress:"playerProgress",current_song:"current_song"})}},Eq={class:"fixed bottom-0 left-0 bg-white px-4 py-2 w-full"},Tq={key:0,class:"text-center"},Sq={class:"song-title font-bold"},Aq={class:"song-artist"},kq={class:"flex flex-nowrap gap-4 items-center"},xq={class:"player-currenttime"},Cq=D("i",{class:"fas fa-circle"},null,-1),Rq=[Cq],Nq={class:"player-duration"};function Oq(e,t,n,i,o,s){return je(),it("div",Eq,[e.current_song.modified_name?(je(),it("div",Tq,[D("span",Sq,Ft(e.current_song.modified_name),1),ai(" by "),D("span",Aq,Ft(e.current_song.display_name),1)])):Xo("",!0),D("div",kq,[D("button",{type:"button",onClick:t[0]||(t[0]=Wt((...u)=>e.toggleAudio&&e.toggleAudio(...u),["prevent"]))},[D("i",{class:vn(["fa text-gray-500 text-xl",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),D("div",xq,Ft(e.seek),1),D("div",{onClick:t[1]||(t[1]=Wt((...u)=>e.updateSeek&&e.updateSeek(...u),["prevent"])),class:"w-full h-2 rounded bg-gray-200 relative cursor-pointer"},[D("span",{class:"absolute -top-2.5 -ml-2.5 text-gray-800 text-lg",style:zo({left:e.playerProgress})},Rq,4),D("span",{class:"block h-2 rounded bg-gradient-to-r from-green-500 to-green-400",style:zo({width:e.playerProgress})},null,4)]),D("div",Nq,Ft(e.duration),1)])])}const Pq=Wn(Iq,[["render",Oq]]),Dq={name:"App",components:{Header:TB,Auth:bq,Player:Pq},computed:{...Lg(Ji,["userLoggedIn","userDisplayName"])},created(){qn.currentUser&&(this.userLoggedIn=!0,this.userDisplayName=qn.currentUser.displayName)}};function Lq(e,t,n,i,o,s){const u=gt("Header"),l=gt("router-view"),f=gt("player"),p=gt("Auth");return je(),it(en,null,[we(u),we(l),we(f),we(p)],64)}const Mq=Wn(Dq,[["render",Lq]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Hs=typeof window<"u";function Fq(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ft=Object.assign;function ov(e,t){const n={};for(const i in t){const o=t[i];n[i]=Pr(o)?o.map(e):e(o)}return n}const ju=()=>{},Pr=Array.isArray,Uq=/\/$/,Vq=e=>e.replace(Uq,"");function sv(e,t,n="/"){let i,o={},s="",u="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(i=i||t.slice(0,l),u=t.slice(l,t.length)),i=$q(i??t,n),{fullPath:i+(s&&"?")+s+u,path:i,query:o,hash:u}}function jq(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function nT(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Bq(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&Ea(t.matched[i],n.matched[o])&&Zk(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ea(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Zk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!qq(e[n],t[n]))return!1;return!0}function qq(e,t){return Pr(e)?rT(e,t):Pr(t)?rT(t,e):e===t}function rT(e,t){return Pr(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function $q(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let s=n.length-1,u,l;for(u=0;u<i.length;u++)if(l=i[u],l!==".")if(l==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(u-(u===i.length?1:0)).join("/")}var hc;(function(e){e.pop="pop",e.push="push"})(hc||(hc={}));var Bu;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Bu||(Bu={}));function Hq(e){if(!e)if(Hs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Vq(e)}const Kq=/^[^#]+#/;function Gq(e,t){return e.replace(Kq,"#")+t}function zq(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const rd=()=>({left:window.pageXOffset,top:window.pageYOffset});function Wq(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=zq(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function iT(e,t){return(history.state?history.state.position-t:-1)+e}const ig=new Map;function Xq(e,t){ig.set(e,t)}function Qq(e){const t=ig.get(e);return ig.delete(e),t}let Yq=()=>location.protocol+"//"+location.host;function ex(e,t){const{pathname:n,search:i,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),nT(f,"")}return nT(n,e)+i+o}function Jq(e,t,n,i){let o=[],s=[],u=null;const l=({state:m})=>{const y=ex(e,location),_=n.value,I=t.value;let E=0;if(m){if(n.value=y,t.value=m,u&&u===_){u=null;return}E=I?m.position-I.position:0}else i(y);o.forEach(T=>{T(n.value,_,{delta:E,type:hc.pop,direction:E?E>0?Bu.forward:Bu.back:Bu.unknown})})};function f(){u=n.value}function p(m){o.push(m);const y=()=>{const _=o.indexOf(m);_>-1&&o.splice(_,1)};return s.push(y),y}function v(){const{history:m}=window;m.state&&m.replaceState(ft({},m.state,{scroll:rd()}),"")}function h(){for(const m of s)m();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",v,{passive:!0}),{pauseListeners:f,listen:p,destroy:h}}function oT(e,t,n,i=!1,o=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:o?rd():null}}function Zq(e){const{history:t,location:n}=window,i={value:ex(e,n)},o={value:t.state};o.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,p,v){const h=e.indexOf("#"),m=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+f:Yq()+e+f;try{t[v?"replaceState":"pushState"](p,"",m),o.value=p}catch(y){console.error(y),n[v?"replace":"assign"](m)}}function u(f,p){const v=ft({},t.state,oT(o.value.back,f,o.value.forward,!0),p,{position:o.value.position});s(f,v,!0),i.value=f}function l(f,p){const v=ft({},o.value,t.state,{forward:f,scroll:rd()});s(v.current,v,!0);const h=ft({},oT(i.value,f,null),{position:v.position+1},p);s(f,h,!1),i.value=f}return{location:i,state:o,push:l,replace:u}}function e$(e){e=Hq(e);const t=Zq(e),n=Jq(e,t.state,t.location,t.replace);function i(s,u=!0){u||n.pauseListeners(),history.go(s)}const o=ft({location:"",base:e,go:i,createHref:Gq.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function t$(e){return typeof e=="string"||e&&typeof e=="object"}function tx(e){return typeof e=="string"||typeof e=="symbol"}const Pi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},nx=Symbol("");var sT;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(sT||(sT={}));function Ta(e,t){return ft(new Error,{type:e,[nx]:!0},t)}function oi(e,t){return e instanceof Error&&nx in e&&(t==null||!!(e.type&t))}const aT="[^/]+?",n$={sensitive:!1,strict:!1,start:!0,end:!0},r$=/[.+*?^${}()[\]/\\]/g;function i$(e,t){const n=ft({},n$,t),i=[];let o=n.start?"^":"";const s=[];for(const p of e){const v=p.length?[]:[90];n.strict&&!p.length&&(o+="/");for(let h=0;h<p.length;h++){const m=p[h];let y=40+(n.sensitive?.25:0);if(m.type===0)h||(o+="/"),o+=m.value.replace(r$,"\\$&"),y+=40;else if(m.type===1){const{value:_,repeatable:I,optional:E,regexp:T}=m;s.push({name:_,repeatable:I,optional:E});const C=T||aT;if(C!==aT){y+=10;try{new RegExp(`(${C})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${_}" (${C}): `+F.message)}}let P=I?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;h||(P=E&&p.length<2?`(?:/${P})`:"/"+P),E&&(P+="?"),o+=P,y+=20,E&&(y+=-8),I&&(y+=-20),C===".*"&&(y+=-50)}v.push(y)}i.push(v)}if(n.strict&&n.end){const p=i.length-1;i[p][i[p].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const u=new RegExp(o,n.sensitive?"":"i");function l(p){const v=p.match(u),h={};if(!v)return null;for(let m=1;m<v.length;m++){const y=v[m]||"",_=s[m-1];h[_.name]=y&&_.repeatable?y.split("/"):y}return h}function f(p){let v="",h=!1;for(const m of e){(!h||!v.endsWith("/"))&&(v+="/"),h=!1;for(const y of m)if(y.type===0)v+=y.value;else if(y.type===1){const{value:_,repeatable:I,optional:E}=y,T=_ in p?p[_]:"";if(Pr(T)&&!I)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const C=Pr(T)?T.join("/"):T;if(!C)if(E)m.length<2&&(v.endsWith("/")?v=v.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);v+=C}}return v||"/"}return{re:u,score:i,keys:s,parse:l,stringify:f}}function o$(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function s$(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const s=o$(i[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-i.length)===1){if(uT(i))return 1;if(uT(o))return-1}return o.length-i.length}function uT(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const a$={type:0,value:""},u$=/[a-zA-Z0-9_]/;function c$(e){if(!e)return[[]];if(e==="/")return[[a$]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${p}": ${y}`)}let n=0,i=n;const o=[];let s;function u(){s&&o.push(s),s=[]}let l=0,f,p="",v="";function h(){p&&(n===0?s.push({type:0,value:p}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:p,regexp:v,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),p="")}function m(){p+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(p&&h(),u()):f===":"?(h(),n=1):m();break;case 4:m(),n=i;break;case 1:f==="("?n=2:u$.test(f)?m():(h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+f:n=3:v+=f;break;case 3:h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,v="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${p}"`),h(),u(),o}function l$(e,t,n){const i=i$(c$(e.path),n),o=ft(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function f$(e,t){const n=[],i=new Map;t=fT({strict:!1,end:!0,sensitive:!1},t);function o(v){return i.get(v)}function s(v,h,m){const y=!m,_=h$(v);_.aliasOf=m&&m.record;const I=fT(t,v),E=[_];if("alias"in v){const P=typeof v.alias=="string"?[v.alias]:v.alias;for(const F of P)E.push(ft({},_,{components:m?m.record.components:_.components,path:F,aliasOf:m?m.record:_}))}let T,C;for(const P of E){const{path:F}=P;if(h&&F[0]!=="/"){const J=h.record.path,U=J[J.length-1]==="/"?"":"/";P.path=h.record.path+(F&&U+F)}if(T=l$(P,h,I),m?m.alias.push(T):(C=C||T,C!==T&&C.alias.push(T),y&&v.name&&!lT(T)&&u(v.name)),_.children){const J=_.children;for(let U=0;U<J.length;U++)s(J[U],T,m&&m.children[U])}m=m||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&f(T)}return C?()=>{u(C)}:ju}function u(v){if(tx(v)){const h=i.get(v);h&&(i.delete(v),n.splice(n.indexOf(h),1),h.children.forEach(u),h.alias.forEach(u))}else{const h=n.indexOf(v);h>-1&&(n.splice(h,1),v.record.name&&i.delete(v.record.name),v.children.forEach(u),v.alias.forEach(u))}}function l(){return n}function f(v){let h=0;for(;h<n.length&&s$(v,n[h])>=0&&(v.record.path!==n[h].record.path||!rx(v,n[h]));)h++;n.splice(h,0,v),v.record.name&&!lT(v)&&i.set(v.record.name,v)}function p(v,h){let m,y={},_,I;if("name"in v&&v.name){if(m=i.get(v.name),!m)throw Ta(1,{location:v});I=m.record.name,y=ft(cT(h.params,m.keys.filter(C=>!C.optional).map(C=>C.name)),v.params&&cT(v.params,m.keys.map(C=>C.name))),_=m.stringify(y)}else if("path"in v)_=v.path,m=n.find(C=>C.re.test(_)),m&&(y=m.parse(_),I=m.record.name);else{if(m=h.name?i.get(h.name):n.find(C=>C.re.test(h.path)),!m)throw Ta(1,{location:v,currentLocation:h});I=m.record.name,y=ft({},h.params,v.params),_=m.stringify(y)}const E=[];let T=m;for(;T;)E.unshift(T.record),T=T.parent;return{name:I,path:_,params:y,matched:E,meta:p$(E)}}return e.forEach(v=>s(v)),{addRoute:s,resolve:p,removeRoute:u,getRoutes:l,getRecordMatcher:o}}function cT(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function h$(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:d$(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function d$(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function lT(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function p$(e){return e.reduce((t,n)=>ft(t,n.meta),{})}function fT(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function rx(e,t){return t.children.some(n=>n===e||rx(e,n))}const ix=/#/g,m$=/&/g,v$=/\//g,g$=/=/g,y$=/\?/g,ox=/\+/g,_$=/%5B/g,w$=/%5D/g,sx=/%5E/g,b$=/%60/g,ax=/%7B/g,I$=/%7C/g,ux=/%7D/g,E$=/%20/g;function n_(e){return encodeURI(""+e).replace(I$,"|").replace(_$,"[").replace(w$,"]")}function T$(e){return n_(e).replace(ax,"{").replace(ux,"}").replace(sx,"^")}function og(e){return n_(e).replace(ox,"%2B").replace(E$,"+").replace(ix,"%23").replace(m$,"%26").replace(b$,"`").replace(ax,"{").replace(ux,"}").replace(sx,"^")}function S$(e){return og(e).replace(g$,"%3D")}function A$(e){return n_(e).replace(ix,"%23").replace(y$,"%3F")}function k$(e){return e==null?"":A$(e).replace(v$,"%2F")}function nh(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function x$(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const s=i[o].replace(ox," "),u=s.indexOf("="),l=nh(u<0?s:s.slice(0,u)),f=u<0?null:nh(s.slice(u+1));if(l in t){let p=t[l];Pr(p)||(p=t[l]=[p]),p.push(f)}else t[l]=f}return t}function hT(e){let t="";for(let n in e){const i=e[n];if(n=S$(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Pr(i)?i.map(s=>s&&og(s)):[i&&og(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function C$(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Pr(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const R$=Symbol(""),dT=Symbol(""),r_=Symbol(""),cx=Symbol(""),sg=Symbol("");function Su(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ui(e,t,n,i,o){const s=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((u,l)=>{const f=h=>{h===!1?l(Ta(4,{from:n,to:t})):h instanceof Error?l(h):t$(h)?l(Ta(2,{from:t,to:h})):(s&&i.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),u())},p=e.call(i&&i.instances[o],t,n,f);let v=Promise.resolve(p);e.length<3&&(v=v.then(f)),v.catch(h=>l(h))})}function av(e,t,n,i){const o=[];for(const s of e)for(const u in s.components){let l=s.components[u];if(!(t!=="beforeRouteEnter"&&!s.instances[u]))if(N$(l)){const p=(l.__vccOpts||l)[t];p&&o.push(Ui(p,n,i,s,u))}else{let f=l();o.push(()=>f.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${s.path}"`));const v=Fq(p)?p.default:p;s.components[u]=v;const m=(v.__vccOpts||v)[t];return m&&Ui(m,n,i,s,u)()}))}}return o}function N$(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function pT(e){const t=vr(r_),n=vr(cx),i=Fe(()=>t.resolve(et(e.to))),o=Fe(()=>{const{matched:f}=i.value,{length:p}=f,v=f[p-1],h=n.matched;if(!v||!h.length)return-1;const m=h.findIndex(Ea.bind(null,v));if(m>-1)return m;const y=mT(f[p-2]);return p>1&&mT(v)===y&&h[h.length-1].path!==y?h.findIndex(Ea.bind(null,f[p-2])):m}),s=Fe(()=>o.value>-1&&L$(n.params,i.value.params)),u=Fe(()=>o.value>-1&&o.value===n.matched.length-1&&Zk(n.params,i.value.params));function l(f={}){return D$(f)?t[et(e.replace)?"replace":"push"](et(e.to)).catch(ju):Promise.resolve()}return{route:i,href:Fe(()=>i.value.href),isActive:s,isExactActive:u,navigate:l}}const O$=mc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:pT,setup(e,{slots:t}){const n=mi(pT(e)),{options:i}=vr(r_),o=Fe(()=>({[vT(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[vT(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:ra("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),P$=O$;function D$(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function L$(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!Pr(o)||o.length!==i.length||i.some((s,u)=>s!==o[u]))return!1}return!0}function mT(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const vT=(e,t,n)=>e??t??n,M$=mc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=vr(sg),o=Fe(()=>e.route||i.value),s=vr(dT,0),u=Fe(()=>{let p=et(s);const{matched:v}=o.value;let h;for(;(h=v[p])&&!h.components;)p++;return p}),l=Fe(()=>o.value.matched[u.value]);Qs(dT,Fe(()=>u.value+1)),Qs(R$,l),Qs(sg,o);const f=kn();return mr(()=>[f.value,l.value,e.name],([p,v,h],[m,y,_])=>{v&&(v.instances[h]=p,y&&y!==v&&p&&p===m&&(v.leaveGuards.size||(v.leaveGuards=y.leaveGuards),v.updateGuards.size||(v.updateGuards=y.updateGuards))),p&&v&&(!y||!Ea(v,y)||!m)&&(v.enterCallbacks[h]||[]).forEach(I=>I(p))},{flush:"post"}),()=>{const p=o.value,v=e.name,h=l.value,m=h&&h.components[v];if(!m)return gT(n.default,{Component:m,route:p});const y=h.props[v],_=y?y===!0?p.params:typeof y=="function"?y(p):y:null,E=ra(m,ft({},_,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[v]=null)},ref:f}));return gT(n.default,{Component:E,route:p})||E}}});function gT(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const F$=M$;function U$(e){const t=f$(e.routes,e),n=e.parseQuery||x$,i=e.stringifyQuery||hT,o=e.history,s=Su(),u=Su(),l=Su(),f=ZT(Pi);let p=Pi;Hs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=ov.bind(null,M=>""+M),h=ov.bind(null,k$),m=ov.bind(null,nh);function y(M,q){let ne,ue;return tx(M)?(ne=t.getRecordMatcher(M),ue=q):ue=M,t.addRoute(ue,ne)}function _(M){const q=t.getRecordMatcher(M);q&&t.removeRoute(q)}function I(){return t.getRoutes().map(M=>M.record)}function E(M){return!!t.getRecordMatcher(M)}function T(M,q){if(q=ft({},q||f.value),typeof M=="string"){const N=sv(n,M,q.path),V=t.resolve({path:N.path},q),B=o.createHref(N.fullPath);return ft(N,V,{params:m(V.params),hash:nh(N.hash),redirectedFrom:void 0,href:B})}let ne;if("path"in M)ne=ft({},M,{path:sv(n,M.path,q.path).path});else{const N=ft({},M.params);for(const V in N)N[V]==null&&delete N[V];ne=ft({},M,{params:h(N)}),q.params=h(q.params)}const ue=t.resolve(ne,q),Ne=M.hash||"";ue.params=v(m(ue.params));const A=jq(i,ft({},M,{hash:T$(Ne),path:ue.path})),k=o.createHref(A);return ft({fullPath:A,hash:Ne,query:i===hT?C$(M.query):M.query||{}},ue,{redirectedFrom:void 0,href:k})}function C(M){return typeof M=="string"?sv(n,M,f.value.path):ft({},M)}function P(M,q){if(p!==M)return Ta(8,{from:q,to:M})}function F(M){return de(M)}function J(M){return F(ft(C(M),{replace:!0}))}function U(M){const q=M.matched[M.matched.length-1];if(q&&q.redirect){const{redirect:ne}=q;let ue=typeof ne=="function"?ne(M):ne;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=C(ue):{path:ue},ue.params={}),ft({query:M.query,hash:M.hash,params:"path"in ue?{}:M.params},ue)}}function de(M,q){const ne=p=T(M),ue=f.value,Ne=M.state,A=M.force,k=M.replace===!0,N=U(ne);if(N)return de(ft(C(N),{state:typeof N=="object"?ft({},Ne,N.state):Ne,force:A,replace:k}),q||ne);const V=ne;V.redirectedFrom=q;let B;return!A&&Bq(i,ue,ne)&&(B=Ta(16,{to:V,from:ue}),Gt(ue,ue,!0,!1)),(B?Promise.resolve(B):x(V,ue)).catch(z=>oi(z)?oi(z,2)?z:Pt(z):Ie(z,V,ue)).then(z=>{if(z){if(oi(z,2))return de(ft({replace:k},C(z.to),{state:typeof z.to=="object"?ft({},Ne,z.to.state):Ne,force:A}),q||V)}else z=ot(V,ue,!0,k,Ne);return Ke(V,ue,z),z})}function G(M,q){const ne=P(M,q);return ne?Promise.reject(ne):Promise.resolve()}function Q(M){const q=Xn.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(M):M()}function x(M,q){let ne;const[ue,Ne,A]=V$(M,q);ne=av(ue.reverse(),"beforeRouteLeave",M,q);for(const N of ue)N.leaveGuards.forEach(V=>{ne.push(Ui(V,M,q))});const k=G.bind(null,M,q);return ne.push(k),ve(ne).then(()=>{ne=[];for(const N of s.list())ne.push(Ui(N,M,q));return ne.push(k),ve(ne)}).then(()=>{ne=av(Ne,"beforeRouteUpdate",M,q);for(const N of Ne)N.updateGuards.forEach(V=>{ne.push(Ui(V,M,q))});return ne.push(k),ve(ne)}).then(()=>{ne=[];for(const N of A)if(N.beforeEnter)if(Pr(N.beforeEnter))for(const V of N.beforeEnter)ne.push(Ui(V,M,q));else ne.push(Ui(N.beforeEnter,M,q));return ne.push(k),ve(ne)}).then(()=>(M.matched.forEach(N=>N.enterCallbacks={}),ne=av(A,"beforeRouteEnter",M,q),ne.push(k),ve(ne))).then(()=>{ne=[];for(const N of u.list())ne.push(Ui(N,M,q));return ne.push(k),ve(ne)}).catch(N=>oi(N,8)?N:Promise.reject(N))}function Ke(M,q,ne){l.list().forEach(ue=>Q(()=>ue(M,q,ne)))}function ot(M,q,ne,ue,Ne){const A=P(M,q);if(A)return A;const k=q===Pi,N=Hs?history.state:{};ne&&(ue||k?o.replace(M.fullPath,ft({scroll:k&&N&&N.scroll},Ne)):o.push(M.fullPath,Ne)),f.value=M,Gt(M,q,ne,k),Pt()}let st;function Je(){st||(st=o.listen((M,q,ne)=>{if(!fe.listening)return;const ue=T(M),Ne=U(ue);if(Ne){de(ft(Ne,{replace:!0}),ue).catch(ju);return}p=ue;const A=f.value;Hs&&Xq(iT(A.fullPath,ne.delta),rd()),x(ue,A).catch(k=>oi(k,12)?k:oi(k,2)?(de(k.to,ue).then(N=>{oi(N,20)&&!ne.delta&&ne.type===hc.pop&&o.go(-1,!1)}).catch(ju),Promise.reject()):(ne.delta&&o.go(-ne.delta,!1),Ie(k,ue,A))).then(k=>{k=k||ot(ue,A,!1),k&&(ne.delta&&!oi(k,8)?o.go(-ne.delta,!1):ne.type===hc.pop&&oi(k,20)&&o.go(-1,!1)),Ke(ue,A,k)}).catch(ju)}))}let We=Su(),se=Su(),De;function Ie(M,q,ne){Pt(M);const ue=se.list();return ue.length?ue.forEach(Ne=>Ne(M,q,ne)):console.error(M),Promise.reject(M)}function xt(){return De&&f.value!==Pi?Promise.resolve():new Promise((M,q)=>{We.add([M,q])})}function Pt(M){return De||(De=!M,Je(),We.list().forEach(([q,ne])=>M?ne(M):q()),We.reset()),M}function Gt(M,q,ne,ue){const{scrollBehavior:Ne}=e;if(!Hs||!Ne)return Promise.resolve();const A=!ne&&Qq(iT(M.fullPath,0))||(ue||!ne)&&history.state&&history.state.scroll||null;return er().then(()=>Ne(M,q,A)).then(k=>k&&Wq(k)).catch(k=>Ie(k,M,q))}const Ut=M=>o.go(M);let _t;const Xn=new Set,fe={currentRoute:f,listening:!0,addRoute:y,removeRoute:_,hasRoute:E,getRoutes:I,resolve:T,options:e,push:F,replace:J,go:Ut,back:()=>Ut(-1),forward:()=>Ut(1),beforeEach:s.add,beforeResolve:u.add,afterEach:l.add,onError:se.add,isReady:xt,install(M){const q=this;M.component("RouterLink",P$),M.component("RouterView",F$),M.config.globalProperties.$router=q,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>et(f)}),Hs&&!_t&&f.value===Pi&&(_t=!0,F(o.location).catch(Ne=>{}));const ne={};for(const Ne in Pi)Object.defineProperty(ne,Ne,{get:()=>f.value[Ne],enumerable:!0});M.provide(r_,q),M.provide(cx,XT(ne)),M.provide(sg,f);const ue=M.unmount;Xn.add(M),M.unmount=function(){Xn.delete(M),Xn.size<1&&(p=Pi,st&&st(),st=null,f.value=Pi,_t=!1,De=!1),ue()}}};function ve(M){return M.reduce((q,ne)=>q.then(()=>Q(ne)),Promise.resolve())}return fe}function V$(e,t){const n=[],i=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let u=0;u<s;u++){const l=t.matched[u];l&&(e.matched.find(p=>Ea(p,l))?i.push(l):n.push(l));const f=e.matched[u];f&&(t.matched.find(p=>Ea(p,f))||o.push(f))}return[n,i,o]}const j$={name:"SongItem",props:["song"],data(){return{showForm:!1}}},B$={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"},q$={class:"text-gray-500 text-sm"},$$={class:"text-gray-600 text-lg"},H$=["onClick"],K$=D("i",{class:"fa fa-comments text-gray-600"},null,-1);function G$(e,t,n,i,o,s){const u=gt("router-link");return je(),it("li",B$,[D("div",null,[we(u,{to:{name:"song",params:{id:n.song.docID}},class:"font-bold block text-gray-600"},{default:Rn(()=>[ai(Ft(n.song.modified_name),1)]),_:1},8,["to"]),D("span",q$,Ft(n.song.display_name),1)]),D("div",$$,[we(u,{custom:"",to:{name:"song",params:{id:n.song.docID},hash:"#comments"}},{default:Rn(({navigate:l})=>[D("span",{class:"comments",onClick:l},[K$,ai(" "+Ft(n.song.comment_count),1)],8,H$)]),_:1},8,["to"])])])}const z$=Wn(j$,[["render",G$]]),W$="/vue/assets/img/introduction-music.png",X$={name:"Home",components:{SongItem:z$},data(){return{songs:[],maxPerPage:6,pendingRequest:!1}},async created(){await this.getSongs(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n===t&&this.getSongs()},async getSongs(){if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const t=await pi.doc(this.songs[this.songs.length-1].docID).get();e=await pi.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get(),e.forEach(n=>{this.songs.push({docID:n.id,...n.data()})})}else e=await pi.orderBy("modified_name").limit(this.maxPerPage).get(),e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})});this.pendingRequest=!1}}},Q$=iD('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Music Player</h1><p class="w-full md:w-8/12 mx-auto"> Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iste necessitatibus perferendis repudiandae sit ut voluptatibus. </p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+W$+'"></section>',1),Y$={class:"container mx-auto"},J$={class:"bg-white rounded border border-gray-200 relative flex flex-col"},Z$=D("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[D("span",{class:"card-title"},"Songs"),D("i",{class:"fa fa-headphones-alt float-right text-green-400 text-xl"})],-1),eH={id:"playlist"};function tH(e,t,n,i,o,s){const u=gt("SongItem");return je(),it("main",null,[Q$,D("section",Y$,[D("div",J$,[Z$,D("ol",eH,[(je(!0),it(en,null,vc(o.songs,l=>(je(),ea(u,{key:l.docID,song:l},null,8,["song"]))),128))])])])])}const nH=Wn(X$,[["render",tH]]),rH={name:"About"},iH={class:"container mx-auto"},oH=D("div",{class:"main-header-content p2"},[D("h1",{class:"text-center font-bold text-5xl pt-10 pb-10"},"About Us"),D("p",{class:"w-full md:w-8/12 mx-auto text-center"}," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Porro, saepe! ")],-1),sH=[oH];function aH(e,t,n,i,o,s){return je(),it("div",iH,sH)}const uH=Wn(rH,[["render",aH]]),cH={name:"Upload",props:{addSong:{type:Function,required:!0}},data(){return{is_dragover:!1,uploads:[]}},methods:{upload(e){(e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files]).forEach(n=>{if(n.type!=="audio/mpeg")return;const s=Jk.ref().child(`songs/${n.name}`).put(n),u=this.uploads.push({task:s,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;s.on("state_change",l=>{const f=l.bytesTransferred/l.totalBytes*100;this.uploads[u].current_progress=f},l=>{this.uploads[u].variant="bg-red-400",this.uploads[u].icon="fas fa-times",this.uploads[u].text_class="text-red-400",console.log(l)},async()=>{const l={uid:qn.currentUser.uid,display_name:qn.currentUser.displayName,original_name:s.snapshot.ref.name,modified_name:s.snapshot.ref.name,genre:"",comment_count:0};l.url=await s.snapshot.ref.getDownloadURL();const p=await(await pi.add(l)).get();this.addSong(p),this.uploads[u].variant="bg-green-400",this.uploads[u].icon="fas fa-check",this.uploads[u].text_class="text-green-400"})}),this.is_dragover=!1},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},lH={class:"col-span-1"},fH={class:"bg-white rounded border border-gray-200 relative flex flex-col"},hH=D("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[D("span",{class:"card-title"},"Upload"),D("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),dH={class:"p-6"},pH=D("h5",null,"Drop your files here",-1),mH=[pH],vH=D("hr",{class:"my-6"},null,-1),gH={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function yH(e,t,n,i,o,s){return je(),it("div",lH,[D("div",fH,[hH,D("div",dH,[D("div",{onDrag:t[0]||(t[0]=Wt(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Wt(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Wt(u=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Wt(u=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Wt(u=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Wt(u=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Wt(u=>s.upload(u),["prevent","stop"])),class:vn([{"bg-green-400 border-green-400 border-solid":o.is_dragover},"w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid"])},mH,34),D("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=u=>s.upload(u))},null,32),vH,(je(!0),it(en,null,vc(o.uploads,u=>(je(),it("div",{class:"mb-4",key:u.name},[D("div",{class:vn(["font-bold text-sm",u.text_class])},[D("i",{class:vn(u.icon)},null,2),ai(" "+Ft(u.name),1)],2),D("div",gH,[D("div",{class:vn(["transition-all progress-bar",u.variant]),style:zo({width:u.current_progress+"%"})},null,6)])]))),128))])])])}const _H=Wn(cH,[["render",yH]]),wH={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function},index:{type:Number,required:!0}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_msg:"Please wait! Updating song info."}},methods:{async saveChanges(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_msg="Please wait! Updating song info.";try{await pi.doc(this.song.docId).update(e)}catch{this.in_submission=!1,this.show_alert=!0,this.alert_variant="bg-red-500",this.alert_msg="Something went wrong. Try again later.";return}this.updateSong(this.index,e),this.updateUnsavedFlag(!1),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_msg="Success!"},async deleteSong(){await Jk.ref().child(`songs/${this.song.original_name}`).delete(),await pi.doc(this.song.docId).delete(),this.removeSong(this.index)}}},bH={class:"border border-gray-200 p-3 mb-4 rounded"},IH={class:"inline-block text-2xl font-bold"},EH=D("i",{class:"fa fa-times"},null,-1),TH=[EH],SH=D("i",{class:"fa fa-pencil-alt"},null,-1),AH=[SH],kH={class:"mb-3"},xH=D("label",{class:"inline-block mb-2"},"Song Title",-1),CH={class:"mb-3"},RH=D("label",{class:"inline-block mb-2"},"Genre",-1),NH=D("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600"}," Submit ",-1);function OH(e,t,n,i,o,s){const u=gt("vee-field"),l=gt("ErrorMessage"),f=gt("vee-form");return je(),it("div",bH,[mv(D("div",null,[D("h4",IH,Ft(n.song.modified_name),1),D("button",{onClick:t[0]||(t[0]=Wt((...p)=>s.deleteSong&&s.deleteSong(...p),["prevent"])),class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"},TH),D("button",{onClick:t[1]||(t[1]=Wt(p=>o.showForm=!o.showForm,["prevent"])),class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"},AH)],512),[[lI,!o.showForm]]),mv(D("div",null,[o.show_alert?(je(),it("div",{key:0,class:vn(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},Ft(o.alert_msg),3)):Xo("",!0),we(f,{"validation-schema":o.schema,onSubmit:s.saveChanges,"initial-values":n.song},{default:Rn(()=>[D("div",kH,[xH,we(u,{name:"modified_name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=p=>n.updateUnsavedFlag(!0))}),we(l,{class:"text-red-600",name:"modified_name"})]),D("div",CH,[RH,we(u,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=p=>n.updateUnsavedFlag(!0))}),we(l,{class:"text-red-600",name:"genre"})]),NH,D("button",{onClick:t[4]||(t[4]=Wt(p=>o.showForm=!o.showForm,["prevent"])),type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600"}," Go Back ")]),_:1},8,["validation-schema","onSubmit","initial-values"])],512),[[lI,o.showForm]])])}const PH=Wn(wH,[["render",OH]]),DH={name:"Manage",components:{AppUpload:_H,CompositionItem:PH},data(){return{songs:[],unsavedFlag:!1}},async created(){(await pi.where("uid","==",qn.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docId:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e}},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const i=confirm("You have unsaved changes. Are you sure want to leave?");n(i)}}},LH={class:"container mx-auto mt-6"},MH={class:"md:grid md:grid-cols-3 md:gap-4"},FH={class:"col-span-2"},UH={class:"bg-white rounded border border-gray-200 relative flex flex-col"},VH=D("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[D("span",{class:"card-title"},"My Songs"),D("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"})],-1),jH={class:"p-6"};function BH(e,t,n,i,o,s){const u=gt("AppUpload"),l=gt("CompositionItem");return je(),it("section",LH,[D("div",MH,[we(u,{ref:"upload",addSong:s.addSong},null,8,["addSong"]),D("div",FH,[D("div",UH,[VH,D("div",jH,[(je(!0),it(en,null,vc(o.songs,(f,p)=>(je(),ea(l,{key:f.docId,song:f,index:p,removeSong:s.removeSong,updateSong:s.updateSong,updateUnsavedFlag:s.updateUnsavedFlag},null,8,["song","index","removeSong","updateSong","updateUnsavedFlag"]))),128))])])])])])}const qH=Wn(DH,[["render",BH]]),$H={name:"Song",data(){return{song:{},commentSchema:{comment:"required|min:3"},comments:[],comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Please wait...",sort:"1"}},computed:{...Af(Ji,["userLoggedIn","playing"]),...Af(th,["playing","current_song"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.datePosted)-new Date(e.datePosted):new Date(e.datePosted)-new Date(t.datePosted))}},async created(){const e=await pi.doc(this.$route.params.id).get();if(!e.exists){this.$router.push({name:"home"});return}const{sort:t}=this.$route.query;this.sort=t==="1"||t==="2"?t:"1",this.song=e.data(),await this.getComments()},methods:{...gc(th,{newSong:"newSong",toggleAudio:"toggleAudio"}),getImagePath(e){return`url(/vue/assets/img/${e})`},async addNewComment(e,{resetForm:t}){this.comment_in_submission=!0,this.comment_show_alert=!0,this.comment_alert_variant="bg-blue-500",this.comment_alert_message="Please wait! Your comment is being submitted";const n={content:e.comment,datePosted:new Date().toString(),sid:this.$route.params.id,name:qn.currentUser.displayName,uid:qn.currentUser.uid};await eT.add(n),this.song.comment_count+=1,await pi.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),await this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant="bg-green-500",this.comment_alert_message="Comment added!",t()},async getComments(){const e=await eT.where("sid","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>{this.comments.push({docID:t.id,...t.data()})})}},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}}},HH={class:"w-full mb-8 py-14 text-center text-white relative"},KH={class:"container mx-auto flex items-center"},GH=D("i",{class:"fas fa-play"},null,-1),zH=[GH],WH={class:"z-50 text-left ml-8"},XH={class:"text-3xl font-bold"},QH={class:"container mx-auto mt-6",id:"comments"},YH={class:"bg-white rounded border border-gray-200 relative flex flex-col"},JH={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},ZH={class:"card-title"},eK=D("i",{class:"fa fa-comments float-right text-green-400 text-2xl"},null,-1),tK={class:"p-6"},nK=["disabled"],rK=D("option",{value:"1"},"Latest",-1),iK=D("option",{value:"2"},"Oldest",-1),oK=[rK,iK],sK={class:"container mx-auto"},aK={class:"mb-5"},uK={class:"font-bold"};function cK(e,t,n,i,o,s){const u=gt("vee-field"),l=gt("ErrorMessage"),f=gt("vee-form");return je(),it("main",null,[D("section",HH,[D("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:zo({backgroundImage:s.getImagePath("song-header.png")})},null,4),D("div",KH,[o.song.uid===e.current_song.uid?(je(),it("button",{key:0,onClick:t[0]||(t[0]=Wt((...p)=>e.toggleAudio&&e.toggleAudio(...p),["prevent"])),type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none"},[D("i",{class:vn(["fas",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)])):(je(),it("button",{key:1,onClick:t[1]||(t[1]=Wt(p=>e.newSong(o.song),["prevent"])),type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none"},zH)),D("div",WH,[D("div",XH,Ft(o.song.modified_name),1),D("div",null,Ft(o.song.modified_name),1)])])]),D("section",QH,[D("div",YH,[D("div",JH,[D("span",ZH,"Comments ("+Ft(o.song.comment_count)+")",1),eK]),D("div",tK,[o.comment_show_alert?(je(),it("div",{key:0,class:vn(["text-white text-center font-bold p-4 mb-4",o.comment_alert_variant])},Ft(o.comment_alert_message),3)):Xo("",!0),e.userLoggedIn?(je(),ea(f,{key:1,"validation-schema":o.commentSchema,onSubmit:s.addNewComment},{default:Rn(()=>[we(u,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-4",placeholder:"Your comment here..."}),we(l,{class:"text-red-600",name:"comment"}),D("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Submit ",8,nK)]),_:1},8,["validation-schema","onSubmit"])):Xo("",!0),mv(D("select",{"onUpdate:modelValue":t[2]||(t[2]=p=>o.sort=p),class:"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},oK,512),[[DD,o.sort]])])])]),D("ul",sK,[(je(!0),it(en,null,vc(s.sortedComments,p=>(je(),it("li",{class:"p-6 bg-gray-50 border border-gray-200",key:p.docID},[D("div",aK,[D("div",uK,Ft(p.name),1),D("time",null,Ft(p.datePosted),1)]),D("p",null,Ft(p.content),1)]))),128))])])}const lK=Wn($H,[["render",cK]]),fK={name:"MyAccount",data(){return{userData:{name:""},schema:{name:"required|min:3|max:100|alpha_spaces"}}},async created(){await this.loadUserData()},methods:{...gc(Ji,{updateInfo:"updateInfo"}),async loadUserData(){const{displayName:e,photoURL:t}=await qn.currentUser;this.userData.name=e,this.userData.image=t,this.currentUser=qn.currentUser;const n=this.$refs.form;n&&n.setValues(this.userData)},async submitForm(e){await this.updateInfo(e)}}},id=e=>(vP("data-v-af03087b"),e=e(),gP(),e),hK={class:"container mx-auto"},dK={class:"main-header-content p2"},pK=id(()=>D("h1",{class:"text-center font-bold text-5xl pt-10 pb-10"},"My Account",-1)),mK=id(()=>D("p",{class:"w-full md:w-8/12 mx-auto text-center"}," Here you can update some information about yourself ",-1)),vK={class:"mb-3"},gK=id(()=>D("label",{class:"inline-block mb-2"},"Name",-1)),yK=id(()=>D("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",-1));function _K(e,t,n,i,o,s){const u=gt("vee-field"),l=gt("ErrorMessage"),f=gt("vee-form");return je(),it("div",hK,[D("div",dK,[pK,mK,we(f,{ref:"form","validation-schema":o.schema,onSubmit:s.submitForm,"initial-values":o.userData},{default:Rn(()=>[D("div",vK,[gK,we(u,{type:"text",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),we(l,{class:"text-red-600",name:"name"})]),yK]),_:1},8,["validation-schema","onSubmit","initial-values"])])])}const wK=Wn(fK,[["render",_K],["__scopeId","data-v-af03087b"]]),bK=[{name:"home",path:"/",component:nH},{name:"about",path:"/about",component:uH},{name:"manage",path:"/manage",component:qH,meta:{requiresAuth:1}},{name:"my_account",path:"/my-account",component:wK,meta:{requiresAuth:1}},{name:"song",path:"/song/:id",component:lK},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],lx=U$({history:e$("/vue"),routes:bK,linkExactActiveClass:"text-yellow-500"});lx.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}Ji().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.12.3
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function sn(e){return typeof e=="function"}function fx(e){return e==null}const rs=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function i_(e){return Number(e)>=0}function IK(e){const t=parseFloat(e);return isNaN(t)?e:t}function EK(e){return typeof e=="object"&&e!==null}function TK(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function SK(e){if(!EK(e)||TK(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function dc(e,t){return Object.keys(t).forEach(n=>{if(SK(t[n])){e[n]||(e[n]={}),dc(e[n],t[n]);return}e[n]=t[n]}),e}function Ru(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let i=1;i<t.length;i++){if(i_(t[i])){n+=`[${t[i]}]`;continue}n+=`.${t[i]}`}return n}const hx={};function Er(e,t){kK(e,t),hx[e]=t}function AK(e){return hx[e]}function kK(e,t){if(!sn(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function yT(e,t,n){typeof n.value=="object"&&(n.value=dt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function dt(e){if(typeof e!="object")return e;var t=0,n,i,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(u){o.add(dt(u))})):s==="[object Map]"?(o=new Map,e.forEach(function(u,l){o.set(dt(l),dt(u))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(dt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)yT(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||yT(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}const od=Symbol("vee-validate-form"),xK=Symbol("vee-validate-field-instance"),rh=Symbol("Default empty value"),CK=typeof window<"u";function ag(e){return sn(e)&&!!e.__locatorRef}function kr(e){return!!e&&sn(e.parse)&&e.__type==="VVTypedSchema"}function ih(e){return!!e&&sn(e.validate)}function Uc(e){return e==="checkbox"||e==="radio"}function RK(e){return rs(e)||Array.isArray(e)}function NK(e){return Array.isArray(e)?e.length===0:rs(e)&&Object.keys(e).length===0}function sd(e){return/^\[.+\]$/i.test(e)}function OK(e){return dx(e)&&e.multiple}function dx(e){return e.tagName==="SELECT"}function PK(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function DK(e,t){return!PK(e,t)&&t.type!=="file"&&!Uc(t.type)}function px(e){return o_(e)&&e.target&&"submit"in e.target}function o_(e){return e?!!(typeof Event<"u"&&sn(Event)&&e instanceof Event||e&&e.srcElement):!1}function _T(e,t){return t in e&&e[t]!==rh}function Pn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!Pn(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!Pn(i[1],t.get(i[0])))return!1;return!0}if(wT(e)&&wT(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,i=n;i--!==0;){var s=o[i];if(!Pn(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function wT(e){return CK?e instanceof File:!1}function s_(e){return sd(e)?e.replace(/\[|\]/gi,""):e}function Vn(e,t,n){return e?sd(t)?e[s_(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>RK(o)&&s in o?o[s]:n,e):n}function Li(e,t,n){if(sd(t)){e[s_(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<i.length;s++){if(s===i.length-1){o[i[s]]=n;return}(!(i[s]in o)||fx(o[i[s]]))&&(o[i[s]]=i_(i[s+1])?[]:{}),o=o[i[s]]}}function uv(e,t){if(Array.isArray(e)&&i_(t)){e.splice(Number(t),1);return}rs(e)&&delete e[t]}function bT(e,t){if(sd(t)){delete e[s_(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let s=0;s<n.length;s++){if(s===n.length-1){uv(i,n[s]);break}if(!(n[s]in i)||fx(i[n[s]]))break;i=i[n[s]]}const o=n.map((s,u)=>Vn(e,n.slice(0,u).join(".")));for(let s=o.length-1;s>=0;s--)if(NK(o[s])){if(s===0){uv(e,n[0]);continue}uv(o[s-1],n[s-1])}}function hr(e){return Object.keys(e)}function mx(e,t=void 0){const n=_h();return(n==null?void 0:n.provides[e])||vr(e,t)}function IT(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(s=>Pn(s,t));return o>=0?i.splice(o,1):i.push(t),i}return Pn(e,t)?n:t}function ET(e,t=0){let n=null,i=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const s=e(...o);i.forEach(u=>u(s)),i=[]},t),new Promise(s=>i.push(s))}}function LK(e,t){return rs(t)&&t.number?IK(e):e}function ug(e,t){let n;return async function(...o){const s=e(...o);n=s;const u=await s;return s!==n?u:(n=void 0,t(u,o))}}function cg(e){return Array.isArray(e)?e:e?[e]:[]}function of(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}function MK(e){let t=null,n=[];return function(...i){const o=er(()=>{if(t!==o)return;const s=e(...i);n.forEach(u=>u(s)),n=[],t=null});return t=o,new Promise(s=>n.push(s))}}function a_(e,t,n){return t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default}function cv(e){if(vx(e))return e._value}function vx(e){return"_value"in e}function FK(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function oh(e){if(!o_(e))return e;const t=e.target;if(Uc(t.type)&&vx(t))return cv(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(OK(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(cv);if(dx(t)){const n=Array.from(t.options).find(i=>i.selected);return n?cv(n):t.value}return FK(t)}function gx(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?rs(e)&&e._$$isNormalized?e:rs(e)?Object.keys(e).reduce((n,i)=>{const o=UK(e[i]);return e[i]!==!1&&(n[i]=TT(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=VK(i);return o.name&&(n[o.name]=TT(o.params)),n},t):t}function UK(e){return e===!0?[]:Array.isArray(e)||rs(e)?e:[e]}function TT(e){const t=n=>typeof n=="string"&&n[0]==="@"?jK(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const VK=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function jK(e){const t=n=>Vn(n,e)||n[e];return t.__locatorRef=e,t}function BK(e){return Array.isArray(e)?e.filter(ag):hr(e).filter(t=>ag(e[t])).map(t=>e[t])}const qK={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let lg=Object.assign({},qK);const Vo=()=>lg,$K=e=>{lg=Object.assign(Object.assign({},lg),e)},HK=$K;async function yx(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},u=(await KK(o,e)).errors;return{errors:u,valid:!u.length}}async function KK(e,t){if(kr(e.rules)||ih(e.rules))return zK(t,e.rules);if(sn(e.rules)||Array.isArray(e.rules)){const u={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,p=[];for(let v=0;v<f;v++){const h=l[v],m=await h(t,u);if(!(typeof m!="string"&&!Array.isArray(m)&&m)){if(Array.isArray(m))p.push(...m);else{const _=typeof m=="string"?m:wx(u);p.push(_)}if(e.bails)return{errors:p}}}return{errors:p}}const n=Object.assign(Object.assign({},e),{rules:gx(e.rules)}),i=[],o=Object.keys(n.rules),s=o.length;for(let u=0;u<s;u++){const l=o[u],f=await WK(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}function GK(e){return!!e&&e.name==="ValidationError"}function _x(e){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!GK(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((u,l)=>{const f=l.path||"";return u[f]||(u[f]={errors:[],path:f}),u[f].errors.push(...l.errors),u},{});return{errors:Object.values(s)}}}}}async function zK(e,t){const i=await(kr(t)?t:_x(t)).parse(e),o=[];for(const s of i.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function WK(e,t,n){const i=AK(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=XK(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},u=await i(t,o,s);return typeof u=="string"?{error:u}:{error:u?void 0:wx(s)}}function wx(e){const t=Vo().generateMessage;return t?t(e):"Field is invalid"}function XK(e,t){const n=i=>ag(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function QK(e,t){const i=await(kr(e)?e:_x(e)).parse(dt(t)),o={},s={};for(const u of i.errors){const l=u.errors,f=(u.path||"").replace(/\["(\d+)"\]/g,(p,v)=>`[${v}]`);o[f]={valid:!l.length,errors:l},l.length&&(s[f]=l[0])}return{valid:!i.errors.length,results:o,errors:s,values:i.value}}async function YK(e,t,n){const o=hr(e).map(async p=>{var v,h,m;const y=(v=n==null?void 0:n.names)===null||v===void 0?void 0:v[p],_=await yx(Vn(t,p),e[p],{name:(y==null?void 0:y.name)||p,label:y==null?void 0:y.label,values:t,bails:(m=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[p])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},_),{path:p})});let s=!0;const u=await Promise.all(o),l={},f={};for(const p of u)l[p.path]={valid:p.valid,errors:p.errors},p.valid||(s=!1,f[p.path]=p.errors[0]);return{valid:s,results:l,errors:f}}let ST=0;function JK(e,t){const{value:n,initialValue:i,setInitialValue:o}=ZK(e,t.modelValue,t.form);if(!t.form){let f=function(y){var _;"value"in y&&(n.value=y.value),"errors"in y&&v(y.errors),"touched"in y&&(m.touched=(_=y.touched)!==null&&_!==void 0?_:m.touched),"initialValue"in y&&o(y.initialValue)};const{errors:p,setErrors:v}=n4(),h=ST>=Number.MAX_SAFE_INTEGER?0:++ST,m=t4(n,i,p,t.schema);return{id:h,path:e,value:n,initialValue:i,meta:m,flags:{pendingUnmount:{[h]:!1},pendingReset:!1},errors:p,setState:f}}const s=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate,schema:t.schema}),u=Fe(()=>s.errors);function l(f){var p,v,h;"value"in f&&(n.value=f.value),"errors"in f&&((p=t.form)===null||p===void 0||p.setFieldError(et(e),f.errors)),"touched"in f&&((v=t.form)===null||v===void 0||v.setFieldTouched(et(e),(h=f.touched)!==null&&h!==void 0?h:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:e,value:n,errors:u,meta:s,initialValue:i,flags:s.__flags,setState:l}}function ZK(e,t,n){const i=kn(et(t));function o(){return n?Vn(n.initialValues.value,et(e),et(i)):et(i)}function s(p){if(!n){i.value=p;return}n.setFieldInitialValue(et(e),p,!0)}const u=Fe(o);if(!n)return{value:kn(o()),initialValue:u,setInitialValue:s};const l=e4(t,n,u,e);return n.stageInitialValue(et(e),l,!0),{value:Fe({get(){return Vn(n.values,et(e))},set(p){n.setFieldValue(et(e),p,!1)}}),initialValue:u,setInitialValue:s}}function e4(e,t,n,i){return vt(e)?et(e):e!==void 0?e:Vn(t.values,et(i),et(n))}function t4(e,t,n,i){var o,s;const u=(s=(o=i==null?void 0:i.describe)===null||o===void 0?void 0:o.call(i).required)!==null&&s!==void 0?s:!1,l=mi({touched:!1,pending:!1,valid:!0,required:u,validated:!!et(n).length,initialValue:Fe(()=>et(t)),dirty:Fe(()=>!Pn(et(e),et(t)))});return mr(n,f=>{l.valid=!f.length},{immediate:!0,flush:"sync"}),l}function n4(){const e=kn([]);return{errors:e,setErrors:t=>{e.value=cg(t)}}}function r4(e,t,n){return Uc(n==null?void 0:n.type)?o4(e,t,n):bx(e,t,n)}function bx(e,t,n){const{initialValue:i,validateOnMount:o,bails:s,type:u,checkedValue:l,label:f,validateOnValueUpdate:p,uncheckedValue:v,controlled:h,keepValueOnUnmount:m,syncVModel:y,form:_}=i4(n),I=h?mx(od):void 0,E=_||I,T=Fe(()=>Ru(at(e))),C=Fe(()=>{if(at(E==null?void 0:E.schema))return;const ve=et(t);return ih(ve)||kr(ve)||sn(ve)||Array.isArray(ve)?ve:gx(ve)}),{id:P,value:F,initialValue:J,meta:U,setState:de,errors:G,flags:Q}=JK(T,{modelValue:i,form:E,bails:s,label:f,type:u,validate:C.value?We:void 0,schema:kr(t)?t:void 0}),x=Fe(()=>G.value[0]);y&&s4({value:F,prop:y,handleChange:se,shouldValidate:()=>p&&!Q.pendingReset});const Ke=(fe,ve=!1)=>{U.touched=!0,ve&&st()};async function ot(fe){var ve,M;if(E!=null&&E.validateSchema){const{results:q}=await E.validateSchema(fe);return(ve=q[at(T)])!==null&&ve!==void 0?ve:{valid:!0,errors:[]}}return C.value?yx(F.value,C.value,{name:at(T),label:at(f),values:(M=E==null?void 0:E.values)!==null&&M!==void 0?M:{},bails:s}):{valid:!0,errors:[]}}const st=ug(async()=>(U.pending=!0,U.validated=!0,ot("validated-only")),fe=>(Q.pendingUnmount[_t.id]||(de({errors:fe.errors}),U.pending=!1,U.valid=fe.valid),fe)),Je=ug(async()=>ot("silent"),fe=>(U.valid=fe.valid,fe));function We(fe){return(fe==null?void 0:fe.mode)==="silent"?Je():st()}function se(fe,ve=!0){const M=oh(fe);Pt(M,ve)}xg(()=>{if(o)return st();(!E||!E.validateSchema)&&Je()});function De(fe){U.touched=fe}function Ie(fe){var ve;const M=fe&&"value"in fe?fe.value:J.value;de({value:dt(M),initialValue:dt(M),touched:(ve=fe==null?void 0:fe.touched)!==null&&ve!==void 0?ve:!1,errors:(fe==null?void 0:fe.errors)||[]}),U.pending=!1,U.validated=!1,Je()}const xt=_h();function Pt(fe,ve=!0){F.value=xt&&y?LK(fe,xt.props.modelModifiers):fe,(ve?st:Je)()}function Gt(fe){de({errors:Array.isArray(fe)?fe:[fe]})}const Ut=Fe({get(){return F.value},set(fe){Pt(fe,p)}}),_t={id:P,name:T,label:f,value:Ut,meta:U,errors:G,errorMessage:x,type:u,checkedValue:l,uncheckedValue:v,bails:s,keepValueOnUnmount:m,resetField:Ie,handleReset:()=>Ie(),validate:We,handleChange:se,handleBlur:Ke,setState:de,setTouched:De,setErrors:Gt,setValue:Pt};if(Qs(xK,_t),vt(t)&&typeof et(t)!="function"&&mr(t,(fe,ve)=>{Pn(fe,ve)||(U.validated?st():Je())},{deep:!0}),!E)return _t;const Xn=Fe(()=>{const fe=C.value;return!fe||sn(fe)||ih(fe)||kr(fe)||Array.isArray(fe)?{}:Object.keys(fe).reduce((ve,M)=>{const q=BK(fe[M]).map(ne=>ne.__locatorRef).reduce((ne,ue)=>{const Ne=Vn(E.values,ue)||E.values[ue];return Ne!==void 0&&(ne[ue]=Ne),ne},{});return Object.assign(ve,q),ve},{})});return mr(Xn,(fe,ve)=>{if(!Object.keys(fe).length)return;!Pn(fe,ve)&&(U.validated?st():Je())}),dS(()=>{var fe;const ve=(fe=at(_t.keepValueOnUnmount))!==null&&fe!==void 0?fe:at(E.keepValuesOnUnmount),M=at(T);if(ve||!E||Q.pendingUnmount[_t.id]){E==null||E.removePathState(M,P);return}Q.pendingUnmount[_t.id]=!0;const q=E.getPathState(M);if(Array.isArray(q==null?void 0:q.id)&&(q!=null&&q.multiple)?q!=null&&q.id.includes(_t.id):(q==null?void 0:q.id)===_t.id){if(q!=null&&q.multiple&&Array.isArray(q.value)){const ue=q.value.findIndex(Ne=>Pn(Ne,at(_t.checkedValue)));if(ue>-1){const Ne=[...q.value];Ne.splice(ue,1),E.setFieldValue(M,Ne)}Array.isArray(q.id)&&q.id.splice(q.id.indexOf(_t.id),1)}else E.unsetPathValue(at(T));E.removePathState(M,P)}}),_t}function i4(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),i=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?fg(_h(),i):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,u="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:u??!0,checkedValue:s,syncVModel:l})}function o4(e,t,n){const i=n!=null&&n.standalone?void 0:mx(od),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function u(l){const f=l.handleChange,p=Fe(()=>{const h=at(l.value),m=at(o);return Array.isArray(h)?h.findIndex(y=>Pn(y,m))>=0:Pn(m,h)});function v(h,m=!0){var y,_;if(p.value===((y=h==null?void 0:h.target)===null||y===void 0?void 0:y.checked)){m&&l.validate();return}const I=at(e),E=i==null?void 0:i.getPathState(I),T=oh(h);let C=(_=at(o))!==null&&_!==void 0?_:T;i&&(E!=null&&E.multiple)&&E.type==="checkbox"?C=IT(Vn(i.values,I)||[],C,void 0):(n==null?void 0:n.type)==="checkbox"&&(C=IT(at(l.value),C,at(s))),f(C,m)}return Object.assign(Object.assign({},l),{checked:p,checkedValue:o,uncheckedValue:s,handleChange:v})}return u(bx(e,t,n))}function s4({prop:e,value:t,handleChange:n,shouldValidate:i}){const o=_h();if(!o||!e)return;const s=typeof e=="string"?e:"modelValue",u=`update:${s}`;s in o.props&&(mr(t,l=>{Pn(l,fg(o,s))||o.emit(u,l)}),mr(()=>fg(o,s),l=>{if(l===rh&&t.value===void 0)return;const f=l===rh?void 0:l;Pn(f,t.value)||n(f,i())}))}function fg(e,t){if(e)return e.props[t]}const a4=mc({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Vo().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:rh},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Ro(e,"rules"),i=Ro(e,"name"),o=Ro(e,"label"),s=Ro(e,"uncheckedValue"),u=Ro(e,"keepValue"),{errors:l,value:f,errorMessage:p,validate:v,handleChange:h,handleBlur:m,setTouched:y,resetField:_,handleReset:I,meta:E,checked:T,setErrors:C}=r4(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:c4(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:u,syncVModel:!0}),P=function(Q,x=!0){h(Q,x)},F=Fe(()=>{const{validateOnInput:G,validateOnChange:Q,validateOnBlur:x,validateOnModelUpdate:Ke}=u4(e);function ot(se){m(se,x),sn(t.attrs.onBlur)&&t.attrs.onBlur(se)}function st(se){P(se,G),sn(t.attrs.onInput)&&t.attrs.onInput(se)}function Je(se){P(se,Q),sn(t.attrs.onChange)&&t.attrs.onChange(se)}const We={name:e.name,onBlur:ot,onInput:st,onChange:Je};return We["onUpdate:modelValue"]=se=>P(se,Ke),We}),J=Fe(()=>{const G=Object.assign({},F.value);Uc(t.attrs.type)&&T&&(G.checked=T.value);const Q=AT(e,t);return DK(Q,t.attrs)&&(G.value=f.value),G}),U=Fe(()=>Object.assign(Object.assign({},F.value),{modelValue:f.value}));function de(){return{field:J.value,componentField:U.value,value:f.value,meta:E,errors:l.value,errorMessage:p.value,validate:v,resetField:_,handleChange:P,handleInput:G=>P(G,!1),handleReset:I,handleBlur:F.value.onBlur,setTouched:y,setErrors:C}}return t.expose({value:f,meta:E,errors:l,errorMessage:p,setErrors:C,setTouched:y,reset:_,validate:v,handleChange:h}),()=>{const G=Ag(AT(e,t)),Q=a_(G,t,de);return G?ra(G,Object.assign(Object.assign({},t.attrs),J.value),Q):Q}}});function AT(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function u4(e){var t,n,i,o;const{validateOnInput:s,validateOnChange:u,validateOnBlur:l,validateOnModelUpdate:f}=Vo();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:u,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function c4(e,t){return Uc(t.attrs.type)?_T(e,"modelValue")?e.modelValue:void 0:_T(e,"modelValue")?e.modelValue:t.attrs.value}const l4=a4;let f4=0;const sf=["bails","fieldsCount","id","multiple","type","validate"];function Ix(e){const t=Object.assign({},at((e==null?void 0:e.initialValues)||{})),n=et(e==null?void 0:e.validationSchema);return n&&kr(n)&&sn(n.cast)?dt(n.cast(t)||{}):dt(t)}function h4(e){var t;const n=f4++;let i=0;const o=kn(!1),s=kn(!1),u=kn(0),l=[],f=mi(Ix(e)),p=kn([]),v=kn({}),h=kn({}),m=MK(()=>{h.value=p.value.reduce((R,O)=>(R[Ru(at(O.path))]=O,R),{})});function y(R,O){const K=se(R);if(!K){typeof R=="string"&&(v.value[Ru(R)]=cg(O));return}if(typeof R=="string"){const te=Ru(R);v.value[te]&&delete v.value[te]}K.errors=cg(O),K.valid=!K.errors.length}function _(R){hr(R).forEach(O=>{y(O,R[O])})}e!=null&&e.initialErrors&&_(e.initialErrors);const I=Fe(()=>{const R=p.value.reduce((O,K)=>(K.errors.length&&(O[K.path]=K.errors),O),{});return Object.assign(Object.assign({},v.value),R)}),E=Fe(()=>hr(I.value).reduce((R,O)=>{const K=I.value[O];return K!=null&&K.length&&(R[O]=K[0]),R},{})),T=Fe(()=>p.value.reduce((R,O)=>(R[O.path]={name:O.path||"",label:O.label||""},R),{})),C=Fe(()=>p.value.reduce((R,O)=>{var K;return R[O.path]=(K=O.bails)!==null&&K!==void 0?K:!0,R},{})),P=Object.assign({},(e==null?void 0:e.initialErrors)||{}),F=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:J,originalInitialValues:U,setInitialValues:de}=p4(p,f,e),G=d4(p,f,U,E),Q=Fe(()=>p.value.reduce((R,O)=>{const K=Vn(f,O.path);return Li(R,O.path,K),R},{})),x=e==null?void 0:e.validationSchema;function Ke(R,O){var K,te;const Ae=Fe(()=>Vn(J.value,at(R))),me=h.value[at(R)],ke=(O==null?void 0:O.type)==="checkbox"||(O==null?void 0:O.type)==="radio";if(me&&ke){me.multiple=!0;const Rt=i++;return Array.isArray(me.id)?me.id.push(Rt):me.id=[me.id,Rt],me.fieldsCount++,me.__flags.pendingUnmount[Rt]=!1,me}const Qe=Fe(()=>Vn(f,at(R))),qe=at(R),nn=Fe(()=>{var Rt,Dr,wi,Fa,Lr,hs;return kr(x)?(wi=(Dr=(Rt=x).describe)===null||Dr===void 0?void 0:Dr.call(Rt,at(R)).required)!==null&&wi!==void 0?wi:!1:kr(O==null?void 0:O.schema)&&(hs=(Lr=(Fa=O==null?void 0:O.schema).describe)===null||Lr===void 0?void 0:Lr.call(Fa).required)!==null&&hs!==void 0?hs:!1}),$e=i++,Ct=mi({id:$e,path:R,touched:!1,pending:!1,valid:!0,validated:!!(!((K=P[qe])===null||K===void 0)&&K.length),required:nn,initialValue:Ae,errors:ZT([]),bails:(te=O==null?void 0:O.bails)!==null&&te!==void 0?te:!1,label:O==null?void 0:O.label,type:(O==null?void 0:O.type)||"default",value:Qe,multiple:!1,__flags:{pendingUnmount:{[$e]:!1},pendingReset:!1},fieldsCount:1,validate:O==null?void 0:O.validate,dirty:Fe(()=>!Pn(et(Qe),et(Ae)))});return p.value.push(Ct),h.value[qe]=Ct,m(),E.value[qe]&&!P[qe]&&er(()=>{Z(qe,{mode:"silent"})}),vt(R)&&mr(R,Rt=>{m();const Dr=dt(Qe.value);h.value[Rt]=Ct,er(()=>{Li(f,Rt,Dr)})}),Ct}const ot=ET(le,5),st=ET(le,5),Je=ug(async R=>await(R==="silent"?ot():st()),(R,[O])=>{const K=hr(ve.errorBag.value),Ae=[...new Set([...hr(R.results),...p.value.map(me=>me.path),...K])].sort().reduce((me,ke)=>{var Qe;const qe=ke,nn=se(qe)||De(qe),$e=((Qe=R.results[qe])===null||Qe===void 0?void 0:Qe.errors)||[],Ct=at(nn==null?void 0:nn.path)||qe,Rt=m4({errors:$e,valid:!$e.length},me.results[Ct]);return me.results[Ct]=Rt,Rt.valid||(me.errors[Ct]=Rt.errors[0]),nn&&v.value[Ct]&&delete v.value[Ct],nn?(nn.valid=Rt.valid,O==="silent"||O==="validated-only"&&!nn.validated||y(nn,Rt.errors),me):(y(Ct,$e),me)},{valid:R.valid,results:{},errors:{}});return R.values&&(Ae.values=R.values),Ae});function We(R){p.value.forEach(R)}function se(R){const O=typeof R=="string"?Ru(R):R;return typeof O=="string"?h.value[O]:O}function De(R){return p.value.filter(K=>R.startsWith(K.path)).reduce((K,te)=>K?te.path.length>K.path.length?te:K:te,void 0)}let Ie=[],xt;function Pt(R){return Ie.push(R),xt||(xt=er(()=>{[...Ie].sort().reverse().forEach(K=>{bT(f,K)}),Ie=[],xt=null})),xt}function Gt(R){return function(K,te){return function(me){return me instanceof Event&&(me.preventDefault(),me.stopPropagation()),We(ke=>ke.touched=!0),o.value=!0,u.value++,re().then(ke=>{const Qe=dt(f);if(ke.valid&&typeof K=="function"){const qe=dt(Q.value);let nn=R?qe:Qe;return ke.values&&(nn=ke.values),K(nn,{evt:me,controlledValues:qe,setErrors:_,setFieldError:y,setTouched:V,setFieldTouched:Ne,setValues:ne,setFieldValue:M,resetForm:z,resetField:B})}!ke.valid&&typeof te=="function"&&te({values:Qe,evt:me,errors:ke.errors,results:ke.results})}).then(ke=>(o.value=!1,ke),ke=>{throw o.value=!1,ke})}}}const _t=Gt(!1);_t.withControlled=Gt(!0);function Xn(R,O){const K=p.value.findIndex(Ae=>Ae.path===R),te=p.value[K];if(!(K===-1||!te)){if(er(()=>{Z(R,{mode:"silent",warn:!1})}),te.multiple&&te.fieldsCount&&te.fieldsCount--,Array.isArray(te.id)){const Ae=te.id.indexOf(O);Ae>=0&&te.id.splice(Ae,1),delete te.__flags.pendingUnmount[O]}(!te.multiple||te.fieldsCount<=0)&&(p.value.splice(K,1),oe(R),m(),delete h.value[R])}}function fe(R){hr(h.value).forEach(O=>{O.startsWith(R)&&delete h.value[O]}),p.value=p.value.filter(O=>!O.path.startsWith(R)),er(()=>{m()})}const ve={formId:n,values:f,controlledValues:Q,errorBag:I,errors:E,schema:x,submitCount:u,meta:G,isSubmitting:o,isValidating:s,fieldArrays:l,keepValuesOnUnmount:F,validateSchema:et(x)?Je:void 0,validate:re,setFieldError:y,validateField:Z,setFieldValue:M,setValues:ne,setErrors:_,setFieldTouched:Ne,setTouched:V,resetForm:z,resetField:B,handleSubmit:_t,useFieldModel:Ve,defineInputBinds:Ee,defineComponentBinds:Xe,defineField:Re,stageInitialValue:Y,unsetInitialValue:oe,setFieldInitialValue:ge,createPathState:Ke,getPathState:se,unsetPathValue:Pt,removePathState:Xn,initialValues:J,getAllPathStates:()=>p.value,destroyPath:fe,isFieldTouched:A,isFieldDirty:k,isFieldValid:N};function M(R,O,K=!0){const te=dt(O),Ae=typeof R=="string"?R:R.path;se(Ae)||Ke(Ae),Li(f,Ae,te),K&&Z(Ae)}function q(R,O=!0){hr(f).forEach(K=>{delete f[K]}),hr(R).forEach(K=>{M(K,R[K],!1)}),O&&re()}function ne(R,O=!0){dc(f,R),l.forEach(K=>K&&K.reset()),O&&re()}function ue(R,O){const K=se(at(R))||Ke(R);return Fe({get(){return K.value},set(te){var Ae;const me=at(R);M(me,te,(Ae=at(O))!==null&&Ae!==void 0?Ae:!1)}})}function Ne(R,O){const K=se(R);K&&(K.touched=O)}function A(R){const O=se(R);return O?O.touched:p.value.filter(K=>K.path.startsWith(R)).some(K=>K.touched)}function k(R){const O=se(R);return O?O.dirty:p.value.filter(K=>K.path.startsWith(R)).some(K=>K.dirty)}function N(R){const O=se(R);return O?O.valid:p.value.filter(K=>K.path.startsWith(R)).every(K=>K.valid)}function V(R){if(typeof R=="boolean"){We(O=>{O.touched=R});return}hr(R).forEach(O=>{Ne(O,!!R[O])})}function B(R,O){var K;const te=O&&"value"in O?O.value:Vn(J.value,R),Ae=se(R);Ae&&(Ae.__flags.pendingReset=!0),ge(R,dt(te),!0),M(R,te,!1),Ne(R,(K=O==null?void 0:O.touched)!==null&&K!==void 0?K:!1),y(R,(O==null?void 0:O.errors)||[]),er(()=>{Ae&&(Ae.__flags.pendingReset=!1)})}function z(R,O){let K=dt(R!=null&&R.values?R.values:U.value);K=O!=null&&O.force?K:dc(U.value,K),K=kr(x)&&sn(x.cast)?x.cast(K):K,de(K),We(te=>{var Ae;te.__flags.pendingReset=!0,te.validated=!1,te.touched=((Ae=R==null?void 0:R.touched)===null||Ae===void 0?void 0:Ae[te.path])||!1,M(te.path,Vn(K,te.path),!1),y(te.path,void 0)}),O!=null&&O.force?q(K,!1):ne(K,!1),_((R==null?void 0:R.errors)||{}),u.value=(R==null?void 0:R.submitCount)||0,er(()=>{re({mode:"silent"}),We(te=>{te.__flags.pendingReset=!1})})}async function re(R){const O=(R==null?void 0:R.mode)||"force";if(O==="force"&&We(me=>me.validated=!0),ve.validateSchema)return ve.validateSchema(O);s.value=!0;const K=await Promise.all(p.value.map(me=>me.validate?me.validate(R).then(ke=>({key:me.path,valid:ke.valid,errors:ke.errors})):Promise.resolve({key:me.path,valid:!0,errors:[]})));s.value=!1;const te={},Ae={};for(const me of K)te[me.key]={valid:me.valid,errors:me.errors},me.errors.length&&(Ae[me.key]=me.errors[0]);return{valid:K.every(me=>me.valid),results:te,errors:Ae}}async function Z(R,O){var K;const te=se(R);if(te&&(O==null?void 0:O.mode)!=="silent"&&(te.validated=!0),x){const{results:Ae}=await Je((O==null?void 0:O.mode)||"validated-only");return Ae[R]||{errors:[],valid:!0}}return te!=null&&te.validate?te.validate(O):(!te&&(K=O==null?void 0:O.warn),Promise.resolve({errors:[],valid:!0}))}function oe(R){bT(J.value,R)}function Y(R,O,K=!1){ge(R,O),Li(f,R,O),K&&!(e!=null&&e.initialValues)&&Li(U.value,R,dt(O))}function ge(R,O,K=!1){Li(J.value,R,dt(O)),K&&Li(U.value,R,dt(O))}async function le(){const R=et(x);if(!R)return{valid:!0,results:{},errors:{}};s.value=!0;const O=ih(R)||kr(R)?await QK(R,f):await YK(R,f,{names:T.value,bailsMap:C.value});return s.value=!1,O}const _e=_t((R,{evt:O})=>{px(O)&&O.target.submit()});xg(()=>{if(e!=null&&e.initialErrors&&_(e.initialErrors),e!=null&&e.initialTouched&&V(e.initialTouched),e!=null&&e.validateOnMount){re();return}ve.validateSchema&&ve.validateSchema("silent")}),vt(x)&&mr(x,()=>{var R;(R=ve.validateSchema)===null||R===void 0||R.call(ve,"validated-only")}),Qs(od,ve);function Re(R,O){const K=sn(O)||O==null?void 0:O.label,te=se(at(R))||Ke(R,{label:K}),Ae=()=>sn(O)?O(of(te,sf)):O||{};function me(){var $e;te.touched=!0,(($e=Ae().validateOnBlur)!==null&&$e!==void 0?$e:Vo().validateOnBlur)&&Z(te.path)}function ke(){var $e;(($e=Ae().validateOnInput)!==null&&$e!==void 0?$e:Vo().validateOnInput)&&er(()=>{Z(te.path)})}function Qe(){var $e;(($e=Ae().validateOnChange)!==null&&$e!==void 0?$e:Vo().validateOnChange)&&er(()=>{Z(te.path)})}const qe=Fe(()=>{const $e={onChange:Qe,onInput:ke,onBlur:me};return sn(O)?Object.assign(Object.assign({},$e),O(of(te,sf)).props||{}):O!=null&&O.props?Object.assign(Object.assign({},$e),O.props(of(te,sf))):$e});return[ue(R,()=>{var $e,Ct,Rt;return(Rt=($e=Ae().validateOnModelUpdate)!==null&&$e!==void 0?$e:(Ct=Vo())===null||Ct===void 0?void 0:Ct.validateOnModelUpdate)!==null&&Rt!==void 0?Rt:!0}),qe]}function Ve(R){return Array.isArray(R)?R.map(O=>ue(O,!0)):ue(R)}function Ee(R,O){const[K,te]=Re(R,O);function Ae(Qe){te.value.onBlur(Qe)}function me(Qe){const qe=oh(Qe);M(at(R),qe,!1),te.value.onInput(Qe)}function ke(Qe){const qe=oh(Qe);M(at(R),qe,!1),te.value.onChange(Qe)}return Fe(()=>Object.assign(Object.assign({},te.value),{onBlur:Ae,onInput:me,onChange:ke,value:K.value}))}function Xe(R,O){const[K,te]=Re(R,O),Ae=se(at(R));function me(ke){K.value=ke}return Fe(()=>{const ke=sn(O)?O(of(Ae,sf)):O||{};return Object.assign({[ke.model||"modelValue"]:K.value,[`onUpdate:${ke.model||"modelValue"}`]:me},te.value)})}return Object.assign(Object.assign({},ve),{values:wg(f),handleReset:()=>z(),submitForm:_e})}function d4(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},s=Fe(()=>!Pn(t,et(n)));function u(){const f=e.value;return hr(o).reduce((p,v)=>{const h=o[v];return p[v]=f[h](m=>m[v]),p},{})}const l=mi(u());return TP(()=>{const f=u();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Fe(()=>Object.assign(Object.assign({initialValues:et(n)},l),{valid:l.valid&&!hr(i.value).length,dirty:s.value}))}function p4(e,t,n){const i=Ix(n),o=kn(i),s=kn(dt(i));function u(l,f=!1){o.value=dc(dt(o.value)||{},dt(l)),s.value=dc(dt(s.value)||{},dt(l)),f&&e.value.forEach(p=>{if(p.touched)return;const h=Vn(o.value,p.path);Li(t,p.path,dt(h))})}return{initialValues:o,originalInitialValues:s,setInitialValues:u}}function m4(e,t){return t?{valid:e.valid&&t.valid,errors:[...e.errors,...t.errors]}:e}const v4=mc({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Ro(e,"validationSchema"),i=Ro(e,"keepValues"),{errors:o,errorBag:s,values:u,meta:l,isSubmitting:f,isValidating:p,submitCount:v,controlledValues:h,validate:m,validateField:y,handleReset:_,resetForm:I,handleSubmit:E,setErrors:T,setFieldError:C,setFieldValue:P,setValues:F,setFieldTouched:J,setTouched:U,resetField:de}=h4({validationSchema:n.value?n:void 0,initialValues:e.initialValues,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:i}),G=E((se,{evt:De})=>{px(De)&&De.target.submit()},e.onInvalidSubmit),Q=e.onSubmit?E(e.onSubmit,e.onInvalidSubmit):G;function x(se){o_(se)&&se.preventDefault(),_(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function Ke(se,De){return E(typeof se=="function"&&!De?se:De,e.onInvalidSubmit)(se)}function ot(){return dt(u)}function st(){return dt(l.value)}function Je(){return dt(o.value)}function We(){return{meta:l.value,errors:o.value,errorBag:s.value,values:u,isSubmitting:f.value,isValidating:p.value,submitCount:v.value,controlledValues:h.value,validate:m,validateField:y,handleSubmit:Ke,handleReset:_,submitForm:G,setErrors:T,setFieldError:C,setFieldValue:P,setValues:F,setFieldTouched:J,setTouched:U,resetForm:I,resetField:de,getValues:ot,getMeta:st,getErrors:Je}}return t.expose({setFieldError:C,setErrors:T,setFieldValue:P,setValues:F,setFieldTouched:J,setTouched:U,resetForm:I,validate:m,validateField:y,resetField:de,getValues:ot,getMeta:st,getErrors:Je,values:u,meta:l,errors:o}),function(){const De=e.as==="form"?e.as:e.as?Ag(e.as):null,Ie=a_(De,t,We);return De?ra(De,Object.assign(Object.assign(Object.assign({},De==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:Q,onReset:x}),Ie):Ie}}}),g4=v4,y4=mc({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=vr(od,void 0),i=Fe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const s=e.as?Ag(e.as):e.as,u=a_(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(u)||!u)&&(u!=null&&u.length)?u:(Array.isArray(u)||!u)&&!(u!=null&&u.length)?ra(s||"span",l,i.value):ra(s,l,u)}}}),_4=y4;/**
  * vee-validate v4.12.3
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const af={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,kz:/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},w4=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Vc(e,t){return Array.isArray(e)?e[0]:e[t]}function oo(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const Ex=(e,t)=>{if(oo(e))return!0;const n=w4(t);if(Array.isArray(e))return e.every(o=>Ex(o,{locale:n}));const i=String(e);return n?(af[n]||af.en).test(i):Object.keys(af).some(o=>af[o].test(i))},b4=(e,t)=>{const n=Vc(t,"target");return String(e)===String(n)},kT=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,I4=e=>oo(e)?!0:Array.isArray(e)?e.every(t=>kT.test(String(t))):kT.test(String(e)),Tx=(e,t)=>{if(oo(e))return!0;const n=Vc(t,"length");return Array.isArray(e)?e.every(i=>Tx(i,{length:n})):[...String(e)].length<=Number(n)},Sx=(e,t)=>{if(oo(e))return!0;const n=Vc(t,"max");return Array.isArray(e)?e.length>0&&e.every(i=>Sx(i,{max:n})):Number(e)<=Number(n)},Ax=(e,t)=>{if(oo(e))return!0;const n=Vc(t,"length");return Array.isArray(e)?e.every(i=>Ax(i,{length:n})):[...String(e)].length>=Number(n)},kx=(e,t)=>{if(oo(e))return!0;const n=Vc(t,"min");return Array.isArray(e)?e.length>0&&e.every(i=>kx(i,{min:n})):Number(e)>=Number(n)},xx=(e,t)=>oo(e)?!0:Array.isArray(e)?e.every(n=>xx(n,t)):Array.from(t).some(n=>n==e),xT=(e,t)=>oo(e)?!0:!xx(e,t);function E4(e){return e==null}function T4(e){return Array.isArray(e)&&e.length===0}const CT=e=>E4(e)||T4(e)||e===!1?!1:!!String(e).trim().length,S4={install(e){e.component("VeeForm",g4),e.component("VeeField",l4),e.component("ErrorMessage",_4),Er("required",CT),Er("tos",CT),Er("min",Ax),Er("max",Tx),Er("alpha_spaces",Ex),Er("email",I4),Er("min_value",kx),Er("max_value",Sx),Er("password_mismatch",b4),Er("not_one_of",xT),Er("country_excluded",xT),HK({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too short.`,alpha_spaces:`The field ${t.field} may only contain alphabetical chars`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,password_mismatch:"The password don't match.",not_one_of:`You are not arrowed to use this value for the field ${t.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",tos:"You must accept the Terms of Service."};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let js;qn.onAuthStateChanged(()=>{js||(js=VD(Mq),js.use(qD()),js.use(lx),js.use(S4),js.mount("#app"))});
