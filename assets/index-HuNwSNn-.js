(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Zg(e,t){const n=Object.create(null),i=e.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const yt={},$s=[],Gr=()=>{},uO=()=>!1,Yf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),em=e=>e.startsWith("onUpdate:"),an=Object.assign,tm=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},aO=Object.prototype.hasOwnProperty,Qe=(e,t)=>aO.call(e,t),Pe=Array.isArray,Hs=e=>Jf(e)==="[object Map]",hT=e=>Jf(e)==="[object Set]",Me=e=>typeof e=="function",qt=e=>typeof e=="string",bu=e=>typeof e=="symbol",wt=e=>e!==null&&typeof e=="object",dT=e=>(wt(e)||Me(e))&&Me(e.then)&&Me(e.catch),pT=Object.prototype.toString,Jf=e=>pT.call(e),cO=e=>Jf(e).slice(8,-1),vT=e=>Jf(e)==="[object Object]",nm=e=>qt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,nf=Zg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zf=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},lO=/-(\w)/g,Qr=Zf(e=>e.replace(lO,(t,n)=>n?n.toUpperCase():"")),fO=/\B([A-Z])/g,_u=Zf(e=>e.replace(fO,"-$1").toLowerCase()),eh=Zf(e=>e.charAt(0).toUpperCase()+e.slice(1)),Iv=Zf(e=>e?`on${eh(e)}`:""),Ho=(e,t)=>!Object.is(e,t),Tv=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},pf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},hO=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let S_;const Zv=()=>S_||(S_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function lc(e){if(Pe(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=qt(i)?gO(i):lc(i);if(o)for(const u in o)t[u]=o[u]}return t}else if(qt(e)||wt(e))return e}const dO=/;(?![^(]*\))/g,pO=/:([^]+)/,vO=/\/\*[^]*?\*\//g;function gO(e){const t={};return e.replace(vO,"").split(dO).forEach(n=>{if(n){const i=n.split(pO);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Zn(e){let t="";if(qt(e))t=e;else if(Pe(e))for(let n=0;n<e.length;n++){const i=Zn(e[n]);i&&(t+=i+" ")}else if(wt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const mO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yO=Zg(mO);function gT(e){return!!e||e===""}const Ar=e=>qt(e)?e:e==null?"":Pe(e)||wt(e)&&(e.toString===pT||!Me(e.toString))?JSON.stringify(e,mT,2):String(e),mT=(e,t)=>t&&t.__v_isRef?mT(e,t.value):Hs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o],u)=>(n[Sv(i,u)+" =>"]=o,n),{})}:hT(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Sv(n))}:bu(t)?Sv(t):wt(t)&&!Pe(t)&&!vT(t)?String(t):t,Sv=(e,t="")=>{var n;return bu(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let Wn;class yT{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Wn,!t&&Wn&&(this.index=(Wn.scopes||(Wn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Wn;try{return Wn=this,t()}finally{Wn=n}}}on(){Wn=this}off(){Wn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function wT(e){return new yT(e)}function wO(e,t=Wn){t&&t.active&&t.effects.push(e)}function bT(){return Wn}function bO(e){Wn&&Wn.cleanups.push(e)}const rm=e=>{const t=new Set(e);return t.w=0,t.n=0,t},_T=e=>(e.w&Gi)>0,ET=e=>(e.n&Gi)>0,_O=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Gi},EO=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const o=t[i];_T(o)&&!ET(o)?o.delete(e):t[n++]=o,o.w&=~Gi,o.n&=~Gi}t.length=n}},vf=new WeakMap;let _a=0,Gi=1;const eg=30;let Er;const Fo=Symbol(""),tg=Symbol("");class im{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,wO(this,i)}run(){if(!this.active)return this.fn();let t=Er,n=Vi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Er,Er=this,Vi=!0,Gi=1<<++_a,_a<=eg?_O(this):A_(this),this.fn()}finally{_a<=eg&&EO(this),Gi=1<<--_a,Er=this.parent,Vi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Er===this?this.deferStop=!0:this.active&&(A_(this),this.onStop&&this.onStop(),this.active=!1)}}function A_(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Vi=!0;const IT=[];function Eu(){IT.push(Vi),Vi=!1}function Iu(){const e=IT.pop();Vi=e===void 0?!0:e}function Vn(e,t,n){if(Vi&&Er){let i=vf.get(e);i||vf.set(e,i=new Map);let o=i.get(n);o||i.set(n,o=rm()),TT(o)}}function TT(e,t){let n=!1;_a<=eg?ET(e)||(e.n|=Gi,n=!_T(e)):n=!e.has(Er),n&&(e.add(Er),Er.deps.push(e))}function ai(e,t,n,i,o,u){const a=vf.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&Pe(e)){const f=Number(i);a.forEach((d,p)=>{(p==="length"||!bu(p)&&p>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":Pe(e)?nm(n)&&l.push(a.get("length")):(l.push(a.get(Fo)),Hs(e)&&l.push(a.get(tg)));break;case"delete":Pe(e)||(l.push(a.get(Fo)),Hs(e)&&l.push(a.get(tg)));break;case"set":Hs(e)&&l.push(a.get(Fo));break}if(l.length===1)l[0]&&ng(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);ng(rm(f))}}function ng(e,t){const n=Pe(e)?e:[...e];for(const i of n)i.computed&&k_(i);for(const i of n)i.computed||k_(i)}function k_(e,t){(e!==Er||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function IO(e,t){var n;return(n=vf.get(e))==null?void 0:n.get(t)}const TO=Zg("__proto__,__v_isRef,__isVue"),ST=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(bu)),R_=SO();function SO(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Je(this);for(let u=0,a=this.length;u<a;u++)Vn(i,"get",u+"");const o=i[t](...n);return o===-1||o===!1?i[t](...n.map(Je)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Eu();const i=Je(this)[t].apply(this,n);return Iu(),i}}),e}function AO(e){const t=Je(this);return Vn(t,"has",e),t.hasOwnProperty(e)}class AT{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,i){const o=this._isReadonly,u=this._shallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return u;if(n==="__v_raw")return i===(o?u?jO:NT:u?CT:RT).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=Pe(t);if(!o){if(a&&Qe(R_,n))return Reflect.get(R_,n,i);if(n==="hasOwnProperty")return AO}const l=Reflect.get(t,n,i);return(bu(n)?ST.has(n):TO(n))||(o||Vn(t,"get",n),u)?l:pt(l)?a&&nm(n)?l:l.value:wt(l)?o?um(l):hi(l):l}}class kT extends AT{constructor(t=!1){super(!1,t)}set(t,n,i,o){let u=t[n];if(Xs(u)&&pt(u)&&!pt(i))return!1;if(!this._shallow&&(!gf(i)&&!Xs(i)&&(u=Je(u),i=Je(i)),!Pe(t)&&pt(u)&&!pt(i)))return u.value=i,!0;const a=Pe(t)&&nm(n)?Number(n)<t.length:Qe(t,n),l=Reflect.set(t,n,i,o);return t===Je(o)&&(a?Ho(i,u)&&ai(t,"set",n,i):ai(t,"add",n,i)),l}deleteProperty(t,n){const i=Qe(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&i&&ai(t,"delete",n,void 0),o}has(t,n){const i=Reflect.has(t,n);return(!bu(n)||!ST.has(n))&&Vn(t,"has",n),i}ownKeys(t){return Vn(t,"iterate",Pe(t)?"length":Fo),Reflect.ownKeys(t)}}class kO extends AT{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const RO=new kT,CO=new kO,NO=new kT(!0),om=e=>e,th=e=>Reflect.getPrototypeOf(e);function Dl(e,t,n=!1,i=!1){e=e.__v_raw;const o=Je(e),u=Je(t);n||(Ho(t,u)&&Vn(o,"get",t),Vn(o,"get",u));const{has:a}=th(o),l=i?om:n?cm:Fa;if(a.call(o,t))return l(e.get(t));if(a.call(o,u))return l(e.get(u));e!==o&&e.get(t)}function Ll(e,t=!1){const n=this.__v_raw,i=Je(n),o=Je(e);return t||(Ho(e,o)&&Vn(i,"has",e),Vn(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Ml(e,t=!1){return e=e.__v_raw,!t&&Vn(Je(e),"iterate",Fo),Reflect.get(e,"size",e)}function C_(e){e=Je(e);const t=Je(this);return th(t).has.call(t,e)||(t.add(e),ai(t,"add",e,e)),this}function N_(e,t){t=Je(t);const n=Je(this),{has:i,get:o}=th(n);let u=i.call(n,e);u||(e=Je(e),u=i.call(n,e));const a=o.call(n,e);return n.set(e,t),u?Ho(t,a)&&ai(n,"set",e,t):ai(n,"add",e,t),this}function x_(e){const t=Je(this),{has:n,get:i}=th(t);let o=n.call(t,e);o||(e=Je(e),o=n.call(t,e)),i&&i.call(t,e);const u=t.delete(e);return o&&ai(t,"delete",e,void 0),u}function O_(){const e=Je(this),t=e.size!==0,n=e.clear();return t&&ai(e,"clear",void 0,void 0),n}function Fl(e,t){return function(i,o){const u=this,a=u.__v_raw,l=Je(a),f=t?om:e?cm:Fa;return!e&&Vn(l,"iterate",Fo),a.forEach((d,p)=>i.call(o,f(d),f(p),u))}}function Ul(e,t,n){return function(...i){const o=this.__v_raw,u=Je(o),a=Hs(u),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,d=o[e](...i),p=n?om:t?cm:Fa;return!t&&Vn(u,"iterate",f?tg:Fo),{next(){const{value:g,done:m}=d.next();return m?{value:g,done:m}:{value:l?[p(g[0]),p(g[1])]:p(g),done:m}},[Symbol.iterator](){return this}}}}function Ai(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function xO(){const e={get(u){return Dl(this,u)},get size(){return Ml(this)},has:Ll,add:C_,set:N_,delete:x_,clear:O_,forEach:Fl(!1,!1)},t={get(u){return Dl(this,u,!1,!0)},get size(){return Ml(this)},has:Ll,add:C_,set:N_,delete:x_,clear:O_,forEach:Fl(!1,!0)},n={get(u){return Dl(this,u,!0)},get size(){return Ml(this,!0)},has(u){return Ll.call(this,u,!0)},add:Ai("add"),set:Ai("set"),delete:Ai("delete"),clear:Ai("clear"),forEach:Fl(!0,!1)},i={get(u){return Dl(this,u,!0,!0)},get size(){return Ml(this,!0)},has(u){return Ll.call(this,u,!0)},add:Ai("add"),set:Ai("set"),delete:Ai("delete"),clear:Ai("clear"),forEach:Fl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=Ul(u,!1,!1),n[u]=Ul(u,!0,!1),t[u]=Ul(u,!1,!0),i[u]=Ul(u,!0,!0)}),[e,n,t,i]}const[OO,PO,DO,LO]=xO();function sm(e,t){const n=t?e?LO:DO:e?PO:OO;return(i,o,u)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(Qe(n,o)&&o in i?n:i,o,u)}const MO={get:sm(!1,!1)},FO={get:sm(!1,!0)},UO={get:sm(!0,!1)},RT=new WeakMap,CT=new WeakMap,NT=new WeakMap,jO=new WeakMap;function VO(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qO(e){return e.__v_skip||!Object.isExtensible(e)?0:VO(cO(e))}function hi(e){return Xs(e)?e:am(e,!1,RO,MO,RT)}function xT(e){return am(e,!1,NO,FO,CT)}function um(e){return am(e,!0,CO,UO,NT)}function am(e,t,n,i,o){if(!wt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=o.get(e);if(u)return u;const a=qO(e);if(a===0)return e;const l=new Proxy(e,a===2?i:n);return o.set(e,l),l}function qi(e){return Xs(e)?qi(e.__v_raw):!!(e&&e.__v_isReactive)}function Xs(e){return!!(e&&e.__v_isReadonly)}function gf(e){return!!(e&&e.__v_isShallow)}function OT(e){return qi(e)||Xs(e)}function Je(e){const t=e&&e.__v_raw;return t?Je(t):e}function nh(e){return pf(e,"__v_skip",!0),e}const Fa=e=>wt(e)?hi(e):e,cm=e=>wt(e)?um(e):e;function PT(e){Vi&&Er&&(e=Je(e),TT(e.dep||(e.dep=rm())))}function DT(e,t){e=Je(e);const n=e.dep;n&&ng(n)}function pt(e){return!!(e&&e.__v_isRef===!0)}function Sn(e){return MT(e,!1)}function LT(e){return MT(e,!0)}function MT(e,t){return pt(e)?e:new BO(e,t)}class BO{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Je(t),this._value=n?t:Fa(t)}get value(){return PT(this),this._value}set value(t){const n=this.__v_isShallow||gf(t)||Xs(t);t=n?t:Je(t),Ho(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Fa(t),DT(this))}}function Ye(e){return pt(e)?e.value:e}function nt(e){return Me(e)?e():Ye(e)}const $O={get:(e,t,n)=>Ye(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return pt(o)&&!pt(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function FT(e){return qi(e)?e:new Proxy(e,$O)}function HO(e){const t=Pe(e)?new Array(e.length):{};for(const n in e)t[n]=UT(e,n);return t}class KO{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return IO(Je(this._object),this._key)}}class zO{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ko(e,t,n){return pt(e)?e:Me(e)?new zO(e):wt(e)&&arguments.length>1?UT(e,t,n):Sn(e)}function UT(e,t,n){const i=e[t];return pt(i)?i:new KO(e,t,n)}class GO{constructor(t,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new im(t,()=>{this._dirty||(this._dirty=!0,DT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const t=Je(this);return PT(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function WO(e,t,n=!1){let i,o;const u=Me(e);return u?(i=e,o=Gr):(i=e.get,o=e.set),new GO(i,o,u||!o,n)}function Bi(e,t,n,i){let o;try{o=i?e(...i):e()}catch(u){rh(u,t,n)}return o}function kr(e,t,n,i){if(Me(e)){const u=Bi(e,t,n,i);return u&&dT(u)&&u.catch(a=>{rh(a,t,n)}),u}const o=[];for(let u=0;u<e.length;u++)o.push(kr(e[u],t,n,i));return o}function rh(e,t,n,i=!0){const o=t?t.vnode:null;if(t){let u=t.parent;const a=t.proxy,l=n;for(;u;){const d=u.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,a,l)===!1)return}u=u.parent}const f=t.appContext.config.errorHandler;if(f){Bi(f,null,10,[e,a,l]);return}}XO(e,n,o,i)}function XO(e,t,n,i=!0){console.error(e)}let Ua=!1,rg=!1;const dn=[];let Kr=0;const Ks=[];let oi=null,Ro=0;const jT=Promise.resolve();let lm=null;function Xn(e){const t=lm||jT;return e?t.then(this?e.bind(this):e):t}function QO(e){let t=Kr+1,n=dn.length;for(;t<n;){const i=t+n>>>1,o=dn[i],u=ja(o);u<e||u===e&&o.pre?t=i+1:n=i}return t}function fm(e){(!dn.length||!dn.includes(e,Ua&&e.allowRecurse?Kr+1:Kr))&&(e.id==null?dn.push(e):dn.splice(QO(e.id),0,e),VT())}function VT(){!Ua&&!rg&&(rg=!0,lm=jT.then(BT))}function YO(e){const t=dn.indexOf(e);t>Kr&&dn.splice(t,1)}function JO(e){Pe(e)?Ks.push(...e):(!oi||!oi.includes(e,e.allowRecurse?Ro+1:Ro))&&Ks.push(e),VT()}function P_(e,t,n=Ua?Kr+1:0){for(;n<dn.length;n++){const i=dn[n];if(i&&i.pre){if(e&&i.id!==e.uid)continue;dn.splice(n,1),n--,i()}}}function qT(e){if(Ks.length){const t=[...new Set(Ks)];if(Ks.length=0,oi){oi.push(...t);return}for(oi=t,oi.sort((n,i)=>ja(n)-ja(i)),Ro=0;Ro<oi.length;Ro++)oi[Ro]();oi=null,Ro=0}}const ja=e=>e.id==null?1/0:e.id,ZO=(e,t)=>{const n=ja(e)-ja(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function BT(e){rg=!1,Ua=!0,dn.sort(ZO);try{for(Kr=0;Kr<dn.length;Kr++){const t=dn[Kr];t&&t.active!==!1&&Bi(t,null,14)}}finally{Kr=0,dn.length=0,qT(),Ua=!1,lm=null,(dn.length||Ks.length)&&BT()}}function eP(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||yt;let o=n;const u=t.startsWith("update:"),a=u&&t.slice(7);if(a&&a in i){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:g,trim:m}=i[p]||yt;m&&(o=n.map(b=>qt(b)?b.trim():b)),g&&(o=n.map(hO))}let l,f=i[l=Iv(t)]||i[l=Iv(Qr(t))];!f&&u&&(f=i[l=Iv(_u(t))]),f&&kr(f,e,6,o);const d=i[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,kr(d,e,6,o)}}function $T(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const u=e.emits;let a={},l=!1;if(!Me(e)){const f=d=>{const p=$T(d,t,!0);p&&(l=!0,an(a,p))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!u&&!l?(wt(e)&&i.set(e,null),null):(Pe(u)?u.forEach(f=>a[f]=null):an(a,u),wt(e)&&i.set(e,a),a)}function ih(e,t){return!e||!Yf(t)?!1:(t=t.slice(2).replace(/Once$/,""),Qe(e,t[0].toLowerCase()+t.slice(1))||Qe(e,_u(t))||Qe(e,t))}let Fn=null,HT=null;function mf(e){const t=Fn;return Fn=e,HT=e&&e.type.__scopeId||null,t}function Ir(e,t=Fn,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&K_(-1);const u=mf(t);let a;try{a=e(...o)}finally{mf(u),i._d&&K_(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Av(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:u,propsOptions:[a],slots:l,attrs:f,emit:d,render:p,renderCache:g,data:m,setupState:b,ctx:_,inheritAttrs:T}=e;let S,x;const O=mf(e);try{if(n.shapeFlag&4){const V=o||i,te=V;S=Hr(p.call(te,V,g,u,b,m,_)),x=f}else{const V=t;S=Hr(V.length>1?V(u,{attrs:f,slots:l,emit:d}):V(u,null)),x=t.props?f:tP(f)}}catch(V){ka.length=0,rh(V,e,1),S=Ne(Ko)}let F=S;if(x&&T!==!1){const V=Object.keys(x),{shapeFlag:te}=F;V.length&&te&7&&(a&&V.some(em)&&(x=nP(x,a)),F=Qs(F,x))}return n.dirs&&(F=Qs(F),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),S=F,mf(O),S}const tP=e=>{let t;for(const n in e)(n==="class"||n==="style"||Yf(n))&&((t||(t={}))[n]=e[n]);return t},nP=(e,t)=>{const n={};for(const i in e)(!em(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function rP(e,t,n){const{props:i,children:o,component:u}=e,{props:a,children:l,patchFlag:f}=t,d=u.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?D_(i,a,d):!!a;if(f&8){const p=t.dynamicProps;for(let g=0;g<p.length;g++){const m=p[g];if(a[m]!==i[m]&&!ih(d,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?D_(i,a,d):!0:!!a;return!1}function D_(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const u=i[o];if(t[u]!==e[u]&&!ih(n,u))return!0}return!1}function iP({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const hm="components";function Xt(e,t){return zT(hm,e,!0,t)||e}const KT=Symbol.for("v-ndc");function dm(e){return qt(e)?zT(hm,e,!1)||e:e||KT}function zT(e,t,n=!0,i=!1){const o=Fn||Gt;if(o){const u=o.type;if(e===hm){const l=WP(u,!1);if(l&&(l===t||l===Qr(t)||l===eh(Qr(t))))return u}const a=L_(o[e]||u[e],t)||L_(o.appContext[e],t);return!a&&i?u:a}}function L_(e,t){return e&&(e[t]||e[Qr(t)]||e[eh(Qr(t))])}const oP=e=>e.__isSuspense;function sP(e,t){t&&t.pendingBranch?Pe(e)?t.effects.push(...e):t.effects.push(e):JO(e)}function uP(e,t){return pm(e,null,t)}const jl={};function fr(e,t,n){return pm(e,t,n)}function pm(e,t,{immediate:n,deep:i,flush:o,onTrack:u,onTrigger:a}=yt){var l;const f=bT()===((l=Gt)==null?void 0:l.scope)?Gt:null;let d,p=!1,g=!1;if(pt(e)?(d=()=>e.value,p=gf(e)):qi(e)?(d=()=>e,i=!0):Pe(e)?(g=!0,p=e.some(V=>qi(V)||gf(V)),d=()=>e.map(V=>{if(pt(V))return V.value;if(qi(V))return xo(V);if(Me(V))return Bi(V,f,2)})):Me(e)?t?d=()=>Bi(e,f,2):d=()=>{if(!(f&&f.isUnmounted))return m&&m(),kr(e,f,3,[b])}:d=Gr,t&&i){const V=d;d=()=>xo(V())}let m,b=V=>{m=O.onStop=()=>{Bi(V,f,4),m=O.onStop=void 0}},_;if($a)if(b=Gr,t?n&&kr(t,f,3,[d(),g?[]:void 0,b]):d(),o==="sync"){const V=YP();_=V.__watcherHandles||(V.__watcherHandles=[])}else return Gr;let T=g?new Array(e.length).fill(jl):jl;const S=()=>{if(O.active)if(t){const V=O.run();(i||p||(g?V.some((te,U)=>Ho(te,T[U])):Ho(V,T)))&&(m&&m(),kr(t,f,3,[V,T===jl?void 0:g&&T[0]===jl?[]:T,b]),T=V)}else O.run()};S.allowRecurse=!!t;let x;o==="sync"?x=S:o==="post"?x=()=>Ln(S,f&&f.suspense):(S.pre=!0,f&&(S.id=f.uid),x=()=>fm(S));const O=new im(d,x);t?n?S():T=O.run():o==="post"?Ln(O.run.bind(O),f&&f.suspense):O.run();const F=()=>{O.stop(),f&&f.scope&&tm(f.scope.effects,O)};return _&&_.push(F),F}function aP(e,t,n){const i=this.proxy,o=qt(e)?e.includes(".")?GT(i,e):()=>i[e]:e.bind(i,i);let u;Me(t)?u=t:(u=t.handler,n=t);const a=Gt;Ys(this);const l=pm(o,u.bind(i),n);return a?Ys(a):jo(),l}function GT(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function xo(e,t){if(!wt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),pt(e))xo(e.value,t);else if(Pe(e))for(let n=0;n<e.length;n++)xo(e[n],t);else if(hT(e)||Hs(e))e.forEach(n=>{xo(n,t)});else if(vT(e))for(const n in e)xo(e[n],t);return e}function M_(e,t){const n=Fn;if(n===null)return e;const i=lh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let u=0;u<t.length;u++){let[a,l,f,d=yt]=t[u];a&&(Me(a)&&(a={mounted:a,updated:a}),a.deep&&xo(l),o.push({dir:a,instance:i,value:l,oldValue:void 0,arg:f,modifiers:d}))}return e}function Io(e,t,n,i){const o=e.dirs,u=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];u&&(l.oldValue=u[a].value);let f=l.dir[i];f&&(Eu(),kr(f,n,8,[e.el,l,e,t]),Iu())}}/*! #__NO_SIDE_EFFECTS__ */function fc(e,t){return Me(e)?an({name:e.name},t,{setup:e}):e}const rf=e=>!!e.type.__asyncLoader,WT=e=>e.type.__isKeepAlive;function cP(e,t){XT(e,"a",t)}function lP(e,t){XT(e,"da",t)}function XT(e,t,n=Gt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(oh(t,i,n),n){let o=n.parent;for(;o&&o.parent;)WT(o.parent.vnode)&&fP(i,t,n,o),o=o.parent}}function fP(e,t,n,i){const o=oh(t,e,i,!0);YT(()=>{tm(i[t],o)},n)}function oh(e,t,n=Gt,i=!1){if(n){const o=n[e]||(n[e]=[]),u=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Eu(),Ys(n);const l=kr(t,n,e,a);return jo(),Iu(),l});return i?o.unshift(u):o.push(u),u}}const pi=e=>(t,n=Gt)=>(!$a||e==="sp")&&oh(e,(...i)=>t(...i),n),hP=pi("bm"),vm=pi("m"),dP=pi("bu"),pP=pi("u"),QT=pi("bum"),YT=pi("um"),vP=pi("sp"),gP=pi("rtg"),mP=pi("rtc");function yP(e,t=Gt){oh("ec",e,t)}function sh(e,t,n,i){let o;const u=n&&n[i];if(Pe(e)||qt(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,u&&u[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,u&&u[a])}else if(wt(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,u&&u[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=t(e[d],d,l,u&&u[l])}}else o=[];return n&&(n[i]=o),o}const ig=e=>e?cS(e)?lh(e)||e.proxy:ig(e.parent):null,Aa=an(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ig(e.parent),$root:e=>ig(e.root),$emit:e=>e.emit,$options:e=>gm(e),$forceUpdate:e=>e.f||(e.f=()=>fm(e.update)),$nextTick:e=>e.n||(e.n=Xn.bind(e.proxy)),$watch:e=>aP.bind(e)}),kv=(e,t)=>e!==yt&&!e.__isScriptSetup&&Qe(e,t),wP={get({_:e},t){const{ctx:n,setupState:i,data:o,props:u,accessCache:a,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return u[t]}else{if(kv(i,t))return a[t]=1,i[t];if(o!==yt&&Qe(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&Qe(d,t))return a[t]=3,u[t];if(n!==yt&&Qe(n,t))return a[t]=4,n[t];og&&(a[t]=0)}}const p=Aa[t];let g,m;if(p)return t==="$attrs"&&Vn(e,"get",t),p(e);if((g=l.__cssModules)&&(g=g[t]))return g;if(n!==yt&&Qe(n,t))return a[t]=4,n[t];if(m=f.config.globalProperties,Qe(m,t))return m[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:u}=e;return kv(o,t)?(o[t]=n,!0):i!==yt&&Qe(i,t)?(i[t]=n,!0):Qe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:u}},a){let l;return!!n[a]||e!==yt&&Qe(e,a)||kv(t,a)||(l=u[0])&&Qe(l,a)||Qe(i,a)||Qe(Aa,a)||Qe(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Qe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function F_(e){return Pe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let og=!0;function bP(e){const t=gm(e),n=e.proxy,i=e.ctx;og=!1,t.beforeCreate&&U_(t.beforeCreate,e,"bc");const{data:o,computed:u,methods:a,watch:l,provide:f,inject:d,created:p,beforeMount:g,mounted:m,beforeUpdate:b,updated:_,activated:T,deactivated:S,beforeDestroy:x,beforeUnmount:O,destroyed:F,unmounted:V,render:te,renderTracked:U,renderTriggered:me,errorCaptured:z,serverPrefetch:oe,expose:k,inheritAttrs:Xe,components:ot,directives:at,filters:dt}=t;if(d&&_P(d,i,null),a)for(const De in a){const _e=a[De];Me(_e)&&(i[De]=_e.bind(n))}if(o){const De=o.call(n,n);wt(De)&&(e.data=hi(De))}if(og=!0,u)for(const De in u){const _e=u[De],kt=Me(_e)?_e.bind(n,n):Me(_e.get)?_e.get.bind(n,n):Gr,Ot=!Me(_e)&&Me(_e.set)?_e.set.bind(n):Gr,Ht=Fe({get:kt,set:Ot});Object.defineProperty(i,De,{enumerable:!0,configurable:!0,get:()=>Ht.value,set:Mt=>Ht.value=Mt})}if(l)for(const De in l)JT(l[De],i,n,De);if(f){const De=Me(f)?f.call(n):f;Reflect.ownKeys(De).forEach(_e=>{zs(_e,De[_e])})}p&&U_(p,e,"c");function se(De,_e){Pe(_e)?_e.forEach(kt=>De(kt.bind(n))):_e&&De(_e.bind(n))}if(se(hP,g),se(vm,m),se(dP,b),se(pP,_),se(cP,T),se(lP,S),se(yP,z),se(mP,U),se(gP,me),se(QT,O),se(YT,V),se(vP,oe),Pe(k))if(k.length){const De=e.exposed||(e.exposed={});k.forEach(_e=>{Object.defineProperty(De,_e,{get:()=>n[_e],set:kt=>n[_e]=kt})})}else e.exposed||(e.exposed={});te&&e.render===Gr&&(e.render=te),Xe!=null&&(e.inheritAttrs=Xe),ot&&(e.components=ot),at&&(e.directives=at)}function _P(e,t,n=Gr){Pe(e)&&(e=sg(e));for(const i in e){const o=e[i];let u;wt(o)?"default"in o?u=hr(o.from||i,o.default,!0):u=hr(o.from||i):u=hr(o),pt(u)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>u.value,set:a=>u.value=a}):t[i]=u}}function U_(e,t,n){kr(Pe(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function JT(e,t,n,i){const o=i.includes(".")?GT(n,i):()=>n[i];if(qt(e)){const u=t[e];Me(u)&&fr(o,u)}else if(Me(e))fr(o,e.bind(n));else if(wt(e))if(Pe(e))e.forEach(u=>JT(u,t,n,i));else{const u=Me(e.handler)?e.handler.bind(n):t[e.handler];Me(u)&&fr(o,u,e)}}function gm(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:u,config:{optionMergeStrategies:a}}=e.appContext,l=u.get(t);let f;return l?f=l:!o.length&&!n&&!i?f=t:(f={},o.length&&o.forEach(d=>yf(f,d,a,!0)),yf(f,t,a)),wt(t)&&u.set(t,f),f}function yf(e,t,n,i=!1){const{mixins:o,extends:u}=t;u&&yf(e,u,n,!0),o&&o.forEach(a=>yf(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const l=EP[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const EP={data:j_,props:V_,emits:V_,methods:Ea,computed:Ea,beforeCreate:_n,created:_n,beforeMount:_n,mounted:_n,beforeUpdate:_n,updated:_n,beforeDestroy:_n,beforeUnmount:_n,destroyed:_n,unmounted:_n,activated:_n,deactivated:_n,errorCaptured:_n,serverPrefetch:_n,components:Ea,directives:Ea,watch:TP,provide:j_,inject:IP};function j_(e,t){return t?e?function(){return an(Me(e)?e.call(this,this):e,Me(t)?t.call(this,this):t)}:t:e}function IP(e,t){return Ea(sg(e),sg(t))}function sg(e){if(Pe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function _n(e,t){return e?[...new Set([].concat(e,t))]:t}function Ea(e,t){return e?an(Object.create(null),e,t):t}function V_(e,t){return e?Pe(e)&&Pe(t)?[...new Set([...e,...t])]:an(Object.create(null),F_(e),F_(t??{})):t}function TP(e,t){if(!e)return t;if(!t)return e;const n=an(Object.create(null),e);for(const i in t)n[i]=_n(e[i],t[i]);return n}function ZT(){return{app:null,config:{isNativeTag:uO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let SP=0;function AP(e,t){return function(i,o=null){Me(i)||(i=an({},i)),o!=null&&!wt(o)&&(o=null);const u=ZT(),a=new WeakSet;let l=!1;const f=u.app={_uid:SP++,_component:i,_props:o,_container:null,_context:u,_instance:null,version:JP,get config(){return u.config},set config(d){},use(d,...p){return a.has(d)||(d&&Me(d.install)?(a.add(d),d.install(f,...p)):Me(d)&&(a.add(d),d(f,...p))),f},mixin(d){return u.mixins.includes(d)||u.mixins.push(d),f},component(d,p){return p?(u.components[d]=p,f):u.components[d]},directive(d,p){return p?(u.directives[d]=p,f):u.directives[d]},mount(d,p,g){if(!l){const m=Ne(i,o);return m.appContext=u,p&&t?t(m,d):e(m,d,g),l=!0,f._container=d,d.__vue_app__=f,lh(m.component)||m.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,p){return u.provides[d]=p,f},runWithContext(d){Va=f;try{return d()}finally{Va=null}}};return f}}let Va=null;function zs(e,t){if(Gt){let n=Gt.provides;const i=Gt.parent&&Gt.parent.provides;i===n&&(n=Gt.provides=Object.create(i)),n[e]=t}}function hr(e,t,n=!1){const i=Gt||Fn;if(i||Va){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Va._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Me(t)?t.call(i&&i.proxy):t}}function kP(){return!!(Gt||Fn||Va)}function RP(e,t,n,i=!1){const o={},u={};pf(u,ah,1),e.propsDefaults=Object.create(null),eS(e,t,o,u);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=i?o:xT(o):e.type.props?e.props=o:e.props=u,e.attrs=u}function CP(e,t,n,i){const{props:o,attrs:u,vnode:{patchFlag:a}}=e,l=Je(o),[f]=e.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let g=0;g<p.length;g++){let m=p[g];if(ih(e.emitsOptions,m))continue;const b=t[m];if(f)if(Qe(u,m))b!==u[m]&&(u[m]=b,d=!0);else{const _=Qr(m);o[_]=ug(f,l,_,b,e,!1)}else b!==u[m]&&(u[m]=b,d=!0)}}}else{eS(e,t,o,u)&&(d=!0);let p;for(const g in l)(!t||!Qe(t,g)&&((p=_u(g))===g||!Qe(t,p)))&&(f?n&&(n[g]!==void 0||n[p]!==void 0)&&(o[g]=ug(f,l,g,void 0,e,!0)):delete o[g]);if(u!==l)for(const g in u)(!t||!Qe(t,g))&&(delete u[g],d=!0)}d&&ai(e,"set","$attrs")}function eS(e,t,n,i){const[o,u]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(nf(f))continue;const d=t[f];let p;o&&Qe(o,p=Qr(f))?!u||!u.includes(p)?n[p]=d:(l||(l={}))[p]=d:ih(e.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(u){const f=Je(n),d=l||yt;for(let p=0;p<u.length;p++){const g=u[p];n[g]=ug(o,f,g,d[g],e,!Qe(d,g))}}return a}function ug(e,t,n,i,o,u){const a=e[n];if(a!=null){const l=Qe(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&Me(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(Ys(o),i=d[n]=f.call(null,t),jo())}else i=f}a[0]&&(u&&!l?i=!1:a[1]&&(i===""||i===_u(n))&&(i=!0))}return i}function tS(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const u=e.props,a={},l=[];let f=!1;if(!Me(e)){const p=g=>{f=!0;const[m,b]=tS(g,t,!0);an(a,m),b&&l.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!u&&!f)return wt(e)&&i.set(e,$s),$s;if(Pe(u))for(let p=0;p<u.length;p++){const g=Qr(u[p]);q_(g)&&(a[g]=yt)}else if(u)for(const p in u){const g=Qr(p);if(q_(g)){const m=u[p],b=a[g]=Pe(m)||Me(m)?{type:m}:an({},m);if(b){const _=H_(Boolean,b.type),T=H_(String,b.type);b[0]=_>-1,b[1]=T<0||_<T,(_>-1||Qe(b,"default"))&&l.push(g)}}}const d=[a,l];return wt(e)&&i.set(e,d),d}function q_(e){return e[0]!=="$"}function B_(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function $_(e,t){return B_(e)===B_(t)}function H_(e,t){return Pe(t)?t.findIndex(n=>$_(n,e)):Me(t)&&$_(t,e)?0:-1}const nS=e=>e[0]==="_"||e==="$stable",mm=e=>Pe(e)?e.map(Hr):[Hr(e)],NP=(e,t,n)=>{if(t._n)return t;const i=Ir((...o)=>mm(t(...o)),n);return i._c=!1,i},rS=(e,t,n)=>{const i=e._ctx;for(const o in e){if(nS(o))continue;const u=e[o];if(Me(u))t[o]=NP(o,u,i);else if(u!=null){const a=mm(u);t[o]=()=>a}}},iS=(e,t)=>{const n=mm(t);e.slots.default=()=>n},xP=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Je(t),pf(t,"_",n)):rS(t,e.slots={})}else e.slots={},t&&iS(e,t);pf(e.slots,ah,1)},OP=(e,t,n)=>{const{vnode:i,slots:o}=e;let u=!0,a=yt;if(i.shapeFlag&32){const l=t._;l?n&&l===1?u=!1:(an(o,t),!n&&l===1&&delete o._):(u=!t.$stable,rS(t,o)),a=t}else t&&(iS(e,t),a={default:1});if(u)for(const l in o)!nS(l)&&a[l]==null&&delete o[l]};function ag(e,t,n,i,o=!1){if(Pe(e)){e.forEach((m,b)=>ag(m,t&&(Pe(t)?t[b]:t),n,i,o));return}if(rf(i)&&!o)return;const u=i.shapeFlag&4?lh(i.component)||i.component.proxy:i.el,a=o?null:u,{i:l,r:f}=e,d=t&&t.r,p=l.refs===yt?l.refs={}:l.refs,g=l.setupState;if(d!=null&&d!==f&&(qt(d)?(p[d]=null,Qe(g,d)&&(g[d]=null)):pt(d)&&(d.value=null)),Me(f))Bi(f,l,12,[a,p]);else{const m=qt(f),b=pt(f);if(m||b){const _=()=>{if(e.f){const T=m?Qe(g,f)?g[f]:p[f]:f.value;o?Pe(T)&&tm(T,u):Pe(T)?T.includes(u)||T.push(u):m?(p[f]=[u],Qe(g,f)&&(g[f]=p[f])):(f.value=[u],e.k&&(p[e.k]=f.value))}else m?(p[f]=a,Qe(g,f)&&(g[f]=a)):b&&(f.value=a,e.k&&(p[e.k]=a))};a?(_.id=-1,Ln(_,n)):_()}}}const Ln=sP;function PP(e){return DP(e)}function DP(e,t){const n=Zv();n.__VUE__=!0;const{insert:i,remove:o,patchProp:u,createElement:a,createText:l,createComment:f,setText:d,setElementText:p,parentNode:g,nextSibling:m,setScopeId:b=Gr,insertStaticContent:_}=e,T=(I,A,C,L=null,j=null,G=null,ne=!1,Y=null,ie=!!A.dynamicChildren)=>{if(I===A)return;I&&!ga(I,A)&&(L=D(I),Mt(I,j,G,!0),I=null),A.patchFlag===-2&&(ie=!1,A.dynamicChildren=null);const{type:Q,ref:ge,shapeFlag:le}=A;switch(Q){case uh:S(I,A,C,L);break;case Ko:x(I,A,C,L);break;case of:I==null&&O(A,C,L,ne);break;case zt:ot(I,A,C,L,j,G,ne,Y,ie);break;default:le&1?te(I,A,C,L,j,G,ne,Y,ie):le&6?at(I,A,C,L,j,G,ne,Y,ie):(le&64||le&128)&&Q.process(I,A,C,L,j,G,ne,Y,ie,ee)}ge!=null&&j&&ag(ge,I&&I.ref,G,A||I,!A)},S=(I,A,C,L)=>{if(I==null)i(A.el=l(A.children),C,L);else{const j=A.el=I.el;A.children!==I.children&&d(j,A.children)}},x=(I,A,C,L)=>{I==null?i(A.el=f(A.children||""),C,L):A.el=I.el},O=(I,A,C,L)=>{[I.el,I.anchor]=_(I.children,A,C,L,I.el,I.anchor)},F=({el:I,anchor:A},C,L)=>{let j;for(;I&&I!==A;)j=m(I),i(I,C,L),I=j;i(A,C,L)},V=({el:I,anchor:A})=>{let C;for(;I&&I!==A;)C=m(I),o(I),I=C;o(A)},te=(I,A,C,L,j,G,ne,Y,ie)=>{ne=ne||A.type==="svg",I==null?U(A,C,L,j,G,ne,Y,ie):oe(I,A,j,G,ne,Y,ie)},U=(I,A,C,L,j,G,ne,Y)=>{let ie,Q;const{type:ge,props:le,shapeFlag:we,transition:Re,dirs:je}=I;if(ie=I.el=a(I.type,G,le&&le.is,le),we&8?p(ie,I.children):we&16&&z(I.children,ie,null,L,j,G&&ge!=="foreignObject",ne,Y),je&&Io(I,null,L,"created"),me(ie,I,I.scopeId,ne,L),le){for(const ze in le)ze!=="value"&&!nf(ze)&&u(ie,ze,null,le[ze],G,I.children,L,j,ve);"value"in le&&u(ie,"value",null,le.value),(Q=le.onVnodeBeforeMount)&&Br(Q,L,I)}je&&Io(I,null,L,"beforeMount");const Ee=LP(j,Re);Ee&&Re.beforeEnter(ie),i(ie,A,C),((Q=le&&le.onVnodeMounted)||Ee||je)&&Ln(()=>{Q&&Br(Q,L,I),Ee&&Re.enter(ie),je&&Io(I,null,L,"mounted")},j)},me=(I,A,C,L,j)=>{if(C&&b(I,C),L)for(let G=0;G<L.length;G++)b(I,L[G]);if(j){let G=j.subTree;if(A===G){const ne=j.vnode;me(I,ne,ne.scopeId,ne.slotScopeIds,j.parent)}}},z=(I,A,C,L,j,G,ne,Y,ie=0)=>{for(let Q=ie;Q<I.length;Q++){const ge=I[Q]=Y?Pi(I[Q]):Hr(I[Q]);T(null,ge,A,C,L,j,G,ne,Y)}},oe=(I,A,C,L,j,G,ne)=>{const Y=A.el=I.el;let{patchFlag:ie,dynamicChildren:Q,dirs:ge}=A;ie|=I.patchFlag&16;const le=I.props||yt,we=A.props||yt;let Re;C&&To(C,!1),(Re=we.onVnodeBeforeUpdate)&&Br(Re,C,A,I),ge&&Io(A,I,C,"beforeUpdate"),C&&To(C,!0);const je=j&&A.type!=="foreignObject";if(Q?k(I.dynamicChildren,Q,Y,C,L,je,G):ne||_e(I,A,Y,null,C,L,je,G,!1),ie>0){if(ie&16)Xe(Y,A,le,we,C,L,j);else if(ie&2&&le.class!==we.class&&u(Y,"class",null,we.class,j),ie&4&&u(Y,"style",le.style,we.style,j),ie&8){const Ee=A.dynamicProps;for(let ze=0;ze<Ee.length;ze++){const R=Ee[ze],N=le[R],H=we[R];(H!==N||R==="value")&&u(Y,R,N,H,j,I.children,C,L,ve)}}ie&1&&I.children!==A.children&&p(Y,A.children)}else!ne&&Q==null&&Xe(Y,A,le,we,C,L,j);((Re=we.onVnodeUpdated)||ge)&&Ln(()=>{Re&&Br(Re,C,A,I),ge&&Io(A,I,C,"updated")},L)},k=(I,A,C,L,j,G,ne)=>{for(let Y=0;Y<A.length;Y++){const ie=I[Y],Q=A[Y],ge=ie.el&&(ie.type===zt||!ga(ie,Q)||ie.shapeFlag&70)?g(ie.el):C;T(ie,Q,ge,null,L,j,G,ne,!0)}},Xe=(I,A,C,L,j,G,ne)=>{if(C!==L){if(C!==yt)for(const Y in C)!nf(Y)&&!(Y in L)&&u(I,Y,C[Y],null,ne,A.children,j,G,ve);for(const Y in L){if(nf(Y))continue;const ie=L[Y],Q=C[Y];ie!==Q&&Y!=="value"&&u(I,Y,Q,ie,ne,A.children,j,G,ve)}"value"in L&&u(I,"value",C.value,L.value)}},ot=(I,A,C,L,j,G,ne,Y,ie)=>{const Q=A.el=I?I.el:l(""),ge=A.anchor=I?I.anchor:l("");let{patchFlag:le,dynamicChildren:we,slotScopeIds:Re}=A;Re&&(Y=Y?Y.concat(Re):Re),I==null?(i(Q,C,L),i(ge,C,L),z(A.children,C,ge,j,G,ne,Y,ie)):le>0&&le&64&&we&&I.dynamicChildren?(k(I.dynamicChildren,we,C,j,G,ne,Y),(A.key!=null||j&&A===j.subTree)&&oS(I,A,!0)):_e(I,A,C,ge,j,G,ne,Y,ie)},at=(I,A,C,L,j,G,ne,Y,ie)=>{A.slotScopeIds=Y,I==null?A.shapeFlag&512?j.ctx.activate(A,C,L,ne,ie):dt(A,C,L,j,G,ne,ie):Ze(I,A,ie)},dt=(I,A,C,L,j,G,ne)=>{const Y=I.component=$P(I,L,j);if(WT(I)&&(Y.ctx.renderer=ee),HP(Y),Y.asyncDep){if(j&&j.registerDep(Y,se),!I.el){const ie=Y.subTree=Ne(Ko);x(null,ie,A,C)}return}se(Y,I,A,C,j,G,ne)},Ze=(I,A,C)=>{const L=A.component=I.component;if(rP(I,A,C))if(L.asyncDep&&!L.asyncResolved){De(L,A,C);return}else L.next=A,YO(L.update),L.update();else A.el=I.el,L.vnode=A},se=(I,A,C,L,j,G,ne)=>{const Y=()=>{if(I.isMounted){let{next:ge,bu:le,u:we,parent:Re,vnode:je}=I,Ee=ge,ze;To(I,!1),ge?(ge.el=je.el,De(I,ge,ne)):ge=je,le&&Tv(le),(ze=ge.props&&ge.props.onVnodeBeforeUpdate)&&Br(ze,Re,ge,je),To(I,!0);const R=Av(I),N=I.subTree;I.subTree=R,T(N,R,g(N.el),D(N),I,j,G),ge.el=R.el,Ee===null&&iP(I,R.el),we&&Ln(we,j),(ze=ge.props&&ge.props.onVnodeUpdated)&&Ln(()=>Br(ze,Re,ge,je),j)}else{let ge;const{el:le,props:we}=A,{bm:Re,m:je,parent:Ee}=I,ze=rf(A);if(To(I,!1),Re&&Tv(Re),!ze&&(ge=we&&we.onVnodeBeforeMount)&&Br(ge,Ee,A),To(I,!0),le&&Ce){const R=()=>{I.subTree=Av(I),Ce(le,I.subTree,I,j,null)};ze?A.type.__asyncLoader().then(()=>!I.isUnmounted&&R()):R()}else{const R=I.subTree=Av(I);T(null,R,C,L,I,j,G),A.el=R.el}if(je&&Ln(je,j),!ze&&(ge=we&&we.onVnodeMounted)){const R=A;Ln(()=>Br(ge,Ee,R),j)}(A.shapeFlag&256||Ee&&rf(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&I.a&&Ln(I.a,j),I.isMounted=!0,A=C=L=null}},ie=I.effect=new im(Y,()=>fm(Q),I.scope),Q=I.update=()=>ie.run();Q.id=I.uid,To(I,!0),Q()},De=(I,A,C)=>{A.component=I;const L=I.vnode.props;I.vnode=A,I.next=null,CP(I,A.props,L,C),OP(I,A.children,C),Eu(),P_(I),Iu()},_e=(I,A,C,L,j,G,ne,Y,ie=!1)=>{const Q=I&&I.children,ge=I?I.shapeFlag:0,le=A.children,{patchFlag:we,shapeFlag:Re}=A;if(we>0){if(we&128){Ot(Q,le,C,L,j,G,ne,Y,ie);return}else if(we&256){kt(Q,le,C,L,j,G,ne,Y,ie);return}}Re&8?(ge&16&&ve(Q,j,G),le!==Q&&p(C,le)):ge&16?Re&16?Ot(Q,le,C,L,j,G,ne,Y,ie):ve(Q,j,G,!0):(ge&8&&p(C,""),Re&16&&z(le,C,L,j,G,ne,Y,ie))},kt=(I,A,C,L,j,G,ne,Y,ie)=>{I=I||$s,A=A||$s;const Q=I.length,ge=A.length,le=Math.min(Q,ge);let we;for(we=0;we<le;we++){const Re=A[we]=ie?Pi(A[we]):Hr(A[we]);T(I[we],Re,C,null,j,G,ne,Y,ie)}Q>ge?ve(I,j,G,!0,!1,le):z(A,C,L,j,G,ne,Y,ie,le)},Ot=(I,A,C,L,j,G,ne,Y,ie)=>{let Q=0;const ge=A.length;let le=I.length-1,we=ge-1;for(;Q<=le&&Q<=we;){const Re=I[Q],je=A[Q]=ie?Pi(A[Q]):Hr(A[Q]);if(ga(Re,je))T(Re,je,C,null,j,G,ne,Y,ie);else break;Q++}for(;Q<=le&&Q<=we;){const Re=I[le],je=A[we]=ie?Pi(A[we]):Hr(A[we]);if(ga(Re,je))T(Re,je,C,null,j,G,ne,Y,ie);else break;le--,we--}if(Q>le){if(Q<=we){const Re=we+1,je=Re<ge?A[Re].el:L;for(;Q<=we;)T(null,A[Q]=ie?Pi(A[Q]):Hr(A[Q]),C,je,j,G,ne,Y,ie),Q++}}else if(Q>we)for(;Q<=le;)Mt(I[Q],j,G,!0),Q++;else{const Re=Q,je=Q,Ee=new Map;for(Q=je;Q<=we;Q++){const Ae=A[Q]=ie?Pi(A[Q]):Hr(A[Q]);Ae.key!=null&&Ee.set(Ae.key,Q)}let ze,R=0;const N=we-je+1;let H=!1,Z=0;const Se=new Array(N);for(Q=0;Q<N;Q++)Se[Q]=0;for(Q=Re;Q<=le;Q++){const Ae=I[Q];if(R>=N){Mt(Ae,j,G,!0);continue}let Ge;if(Ae.key!=null)Ge=Ee.get(Ae.key);else for(ze=je;ze<=we;ze++)if(Se[ze-je]===0&&ga(Ae,A[ze])){Ge=ze;break}Ge===void 0?Mt(Ae,j,G,!0):(Se[Ge-je]=Q+1,Ge>=Z?Z=Ge:H=!0,T(Ae,A[Ge],C,null,j,G,ne,Y,ie),R++)}const pe=H?MP(Se):$s;for(ze=pe.length-1,Q=N-1;Q>=0;Q--){const Ae=je+Q,Ge=A[Ae],qe=Ae+1<ge?A[Ae+1].el:L;Se[Q]===0?T(null,Ge,C,qe,j,G,ne,Y,ie):H&&(ze<0||Q!==pe[ze]?Ht(Ge,C,qe,2):ze--)}}},Ht=(I,A,C,L,j=null)=>{const{el:G,type:ne,transition:Y,children:ie,shapeFlag:Q}=I;if(Q&6){Ht(I.component.subTree,A,C,L);return}if(Q&128){I.suspense.move(A,C,L);return}if(Q&64){ne.move(I,A,C,ee);return}if(ne===zt){i(G,A,C);for(let le=0;le<ie.length;le++)Ht(ie[le],A,C,L);i(I.anchor,A,C);return}if(ne===of){F(I,A,C);return}if(L!==2&&Q&1&&Y)if(L===0)Y.beforeEnter(G),i(G,A,C),Ln(()=>Y.enter(G),j);else{const{leave:le,delayLeave:we,afterLeave:Re}=Y,je=()=>i(G,A,C),Ee=()=>{le(G,()=>{je(),Re&&Re()})};we?we(G,je,Ee):Ee()}else i(G,A,C)},Mt=(I,A,C,L=!1,j=!1)=>{const{type:G,props:ne,ref:Y,children:ie,dynamicChildren:Q,shapeFlag:ge,patchFlag:le,dirs:we}=I;if(Y!=null&&ag(Y,null,C,I,!0),ge&256){A.ctx.deactivate(I);return}const Re=ge&1&&we,je=!rf(I);let Ee;if(je&&(Ee=ne&&ne.onVnodeBeforeUnmount)&&Br(Ee,A,I),ge&6)fe(I.component,C,L);else{if(ge&128){I.suspense.unmount(C,L);return}Re&&Io(I,null,A,"beforeUnmount"),ge&64?I.type.remove(I,A,C,j,ee,L):Q&&(G!==zt||le>0&&le&64)?ve(Q,A,C,!1,!0):(G===zt&&le&384||!j&&ge&16)&&ve(ie,A,C),L&&gt(I)}(je&&(Ee=ne&&ne.onVnodeUnmounted)||Re)&&Ln(()=>{Ee&&Br(Ee,A,I),Re&&Io(I,null,A,"unmounted")},C)},gt=I=>{const{type:A,el:C,anchor:L,transition:j}=I;if(A===zt){Hn(C,L);return}if(A===of){V(I);return}const G=()=>{o(C),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(I.shapeFlag&1&&j&&!j.persisted){const{leave:ne,delayLeave:Y}=j,ie=()=>ne(C,G);Y?Y(I.el,G,ie):ie()}else G()},Hn=(I,A)=>{let C;for(;I!==A;)C=m(I),o(I),I=C;o(A)},fe=(I,A,C)=>{const{bum:L,scope:j,update:G,subTree:ne,um:Y}=I;L&&Tv(L),j.stop(),G&&(G.active=!1,Mt(ne,I,A,C)),Y&&Ln(Y,A),Ln(()=>{I.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},ve=(I,A,C,L=!1,j=!1,G=0)=>{for(let ne=G;ne<I.length;ne++)Mt(I[ne],A,C,L,j)},D=I=>I.shapeFlag&6?D(I.component.subTree):I.shapeFlag&128?I.suspense.next():m(I.anchor||I.el),q=(I,A,C)=>{I==null?A._vnode&&Mt(A._vnode,null,null,!0):T(A._vnode||null,I,A,null,null,null,C),P_(),qT(),A._vnode=I},ee={p:T,um:Mt,m:Ht,r:gt,mt:dt,mc:z,pc:_e,pbc:k,n:D,o:e};let ae,Ce;return t&&([ae,Ce]=t(ee)),{render:q,hydrate:ae,createApp:AP(q,ae)}}function To({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function LP(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function oS(e,t,n=!1){const i=e.children,o=t.children;if(Pe(i)&&Pe(o))for(let u=0;u<i.length;u++){const a=i[u];let l=o[u];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[u]=Pi(o[u]),l.el=a.el),n||oS(a,l)),l.type===uh&&(l.el=a.el)}}function MP(e){const t=e.slice(),n=[0];let i,o,u,a,l;const f=e.length;for(i=0;i<f;i++){const d=e[i];if(d!==0){if(o=n[n.length-1],e[o]<d){t[i]=o,n.push(i);continue}for(u=0,a=n.length-1;u<a;)l=u+a>>1,e[n[l]]<d?u=l+1:a=l;d<e[n[u]]&&(u>0&&(t[i]=n[u-1]),n[u]=i)}}for(u=n.length,a=n[u-1];u-- >0;)n[u]=a,a=t[a];return n}const FP=e=>e.__isTeleport,zt=Symbol.for("v-fgt"),uh=Symbol.for("v-txt"),Ko=Symbol.for("v-cmt"),of=Symbol.for("v-stc"),ka=[];let Tr=null;function ft(e=!1){ka.push(Tr=e?null:[])}function UP(){ka.pop(),Tr=ka[ka.length-1]||null}let qa=1;function K_(e){qa+=e}function sS(e){return e.dynamicChildren=qa>0?Tr||$s:null,UP(),qa>0&&Tr&&Tr.push(e),e}function At(e,t,n,i,o,u){return sS(K(e,t,n,i,o,u,!0))}function Ba(e,t,n,i,o){return sS(Ne(e,t,n,i,o,!0))}function cg(e){return e?e.__v_isVNode===!0:!1}function ga(e,t){return e.type===t.type&&e.key===t.key}const ah="__vInternal",uS=({key:e})=>e??null,sf=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?qt(e)||pt(e)||Me(e)?{i:Fn,r:e,k:t,f:!!n}:e:null);function K(e,t=null,n=null,i=0,o=null,u=e===zt?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&uS(t),ref:t&&sf(t),scopeId:HT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Fn};return l?(bm(f,n),u&128&&e.normalize(f)):n&&(f.shapeFlag|=qt(n)?8:16),qa>0&&!a&&Tr&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&Tr.push(f),f}const Ne=jP;function jP(e,t=null,n=null,i=0,o=null,u=!1){if((!e||e===KT)&&(e=Ko),cg(e)){const l=Qs(e,t,!0);return n&&bm(l,n),qa>0&&!u&&Tr&&(l.shapeFlag&6?Tr[Tr.indexOf(e)]=l:Tr.push(l)),l.patchFlag|=-2,l}if(XP(e)&&(e=e.__vccOpts),t){t=VP(t);let{class:l,style:f}=t;l&&!qt(l)&&(t.class=Zn(l)),wt(f)&&(OT(f)&&!Pe(f)&&(f=an({},f)),t.style=lc(f))}const a=qt(e)?1:oP(e)?128:FP(e)?64:wt(e)?4:Me(e)?2:0;return K(e,t,n,i,o,a,u,!0)}function VP(e){return e?OT(e)||ah in e?an({},e):e:null}function Qs(e,t,n=!1){const{props:i,ref:o,patchFlag:u,children:a}=e,l=t?aS(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&uS(l),ref:t&&t.ref?n&&o?Pe(o)?o.concat(sf(t)):[o,sf(t)]:sf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==zt?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Qs(e.ssContent),ssFallback:e.ssFallback&&Qs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Uo(e=" ",t=0){return Ne(uh,null,e,t)}function ym(e,t){const n=Ne(of,null,e);return n.staticCount=t,n}function wm(e="",t=!1){return t?(ft(),Ba(Ko,null,e)):Ne(Ko,null,e)}function Hr(e){return e==null||typeof e=="boolean"?Ne(Ko):Pe(e)?Ne(zt,null,e.slice()):typeof e=="object"?Pi(e):Ne(uh,null,String(e))}function Pi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Qs(e)}function bm(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Pe(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),bm(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(ah in t)?t._ctx=Fn:o===3&&Fn&&(Fn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Me(t)?(t={default:t,_ctx:Fn},n=32):(t=String(t),i&64?(n=16,t=[Uo(t)]):n=8);e.children=t,e.shapeFlag|=n}function aS(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=Zn([t.class,i.class]));else if(o==="style")t.style=lc([t.style,i.style]);else if(Yf(o)){const u=t[o],a=i[o];a&&u!==a&&!(Pe(u)&&u.includes(a))&&(t[o]=u?[].concat(u,a):a)}else o!==""&&(t[o]=i[o])}return t}function Br(e,t,n,i=null){kr(e,t,7,[n,i])}const qP=ZT();let BP=0;function $P(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||qP,u={uid:BP++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new yT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tS(i,o),emitsOptions:$T(i,o),emit:null,emitted:null,propsDefaults:yt,inheritAttrs:i.inheritAttrs,ctx:yt,data:yt,props:yt,attrs:yt,slots:yt,refs:yt,setupState:yt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=eP.bind(null,u),e.ce&&e.ce(u),u}let Gt=null;const ch=()=>Gt||Fn;let _m,xs,z_="__VUE_INSTANCE_SETTERS__";(xs=Zv()[z_])||(xs=Zv()[z_]=[]),xs.push(e=>Gt=e),_m=e=>{xs.length>1?xs.forEach(t=>t(e)):xs[0](e)};const Ys=e=>{_m(e),e.scope.on()},jo=()=>{Gt&&Gt.scope.off(),_m(null)};function cS(e){return e.vnode.shapeFlag&4}let $a=!1;function HP(e,t=!1){$a=t;const{props:n,children:i}=e.vnode,o=cS(e);RP(e,n,o,t),xP(e,i);const u=o?KP(e,t):void 0;return $a=!1,u}function KP(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=nh(new Proxy(e.ctx,wP));const{setup:i}=n;if(i){const o=e.setupContext=i.length>1?GP(e):null;Ys(e),Eu();const u=Bi(i,e,0,[e.props,o]);if(Iu(),jo(),dT(u)){if(u.then(jo,jo),t)return u.then(a=>{G_(e,a,t)}).catch(a=>{rh(a,e,0)});e.asyncDep=u}else G_(e,u,t)}else lS(e,t)}function G_(e,t,n){Me(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:wt(t)&&(e.setupState=FT(t)),lS(e,n)}let W_;function lS(e,t,n){const i=e.type;if(!e.render){if(!t&&W_&&!i.render){const o=i.template||gm(e).template;if(o){const{isCustomElement:u,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=i,d=an(an({isCustomElement:u,delimiters:l},a),f);i.render=W_(o,d)}}e.render=i.render||Gr}{Ys(e),Eu();try{bP(e)}finally{Iu(),jo()}}}function zP(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Vn(e,"get","$attrs"),t[n]}}))}function GP(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return zP(e)},slots:e.slots,emit:e.emit,expose:t}}function lh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(FT(nh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Aa)return Aa[n](e)},has(t,n){return n in t||n in Aa}}))}function WP(e,t=!0){return Me(e)?e.displayName||e.name:e.name||t&&e.__name}function XP(e){return Me(e)&&"__vccOpts"in e}const Fe=(e,t)=>WO(e,t,$a);function Js(e,t,n){const i=arguments.length;return i===2?wt(t)&&!Pe(t)?cg(t)?Ne(e,null,[t]):Ne(e,t):Ne(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&cg(n)&&(n=[n]),Ne(e,t,n))}const QP=Symbol.for("v-scx"),YP=()=>hr(QP),JP="3.3.11",ZP="http://www.w3.org/2000/svg",Co=typeof document<"u"?document:null,X_=Co&&Co.createElement("template"),eD={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t?Co.createElementNS(ZP,e):Co.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>Co.createTextNode(e),createComment:e=>Co.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Co.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,u){const a=n?n.previousSibling:t.lastChild;if(o&&(o===u||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{X_.innerHTML=i?`<svg>${e}</svg>`:e;const l=X_.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},tD=Symbol("_vtc");function nD(e,t,n){const i=e[tD];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Em=Symbol("_vod"),Q_={beforeMount(e,{value:t},{transition:n}){e[Em]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ma(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),ma(e,!0),i.enter(e)):i.leave(e,()=>{ma(e,!1)}):ma(e,t))},beforeUnmount(e,{value:t}){ma(e,t)}};function ma(e,t){e.style.display=t?e[Em]:"none"}function rD(e,t,n){const i=e.style,o=qt(n);if(n&&!o){if(t&&!qt(t))for(const u in t)n[u]==null&&lg(i,u,"");for(const u in n)lg(i,u,n[u])}else{const u=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),Em in e&&(i.display=u)}}const Y_=/\s*!important$/;function lg(e,t,n){if(Pe(n))n.forEach(i=>lg(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=iD(e,t);Y_.test(n)?e.setProperty(_u(i),n.replace(Y_,""),"important"):e[i]=n}}const J_=["Webkit","Moz","ms"],Rv={};function iD(e,t){const n=Rv[t];if(n)return n;let i=Qr(t);if(i!=="filter"&&i in e)return Rv[t]=i;i=eh(i);for(let o=0;o<J_.length;o++){const u=J_[o]+i;if(u in e)return Rv[t]=u}return t}const Z_="http://www.w3.org/1999/xlink";function oD(e,t,n,i,o){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Z_,t.slice(6,t.length)):e.setAttributeNS(Z_,t,n);else{const u=yO(t);n==null||u&&!gT(n)?e.removeAttribute(t):e.setAttribute(t,u?"":n)}}function sD(e,t,n,i,o,u,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,o,u),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const d=l==="OPTION"?e.getAttribute("value"):e.value,p=n??"";d!==p&&(e.value=p),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=gT(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function uD(e,t,n,i){e.addEventListener(t,n,i)}function aD(e,t,n,i){e.removeEventListener(t,n,i)}const eE=Symbol("_vei");function cD(e,t,n,i,o=null){const u=e[eE]||(e[eE]={}),a=u[t];if(i&&a)a.value=i;else{const[l,f]=lD(t);if(i){const d=u[t]=dD(i,o);uD(e,l,d,f)}else a&&(aD(e,l,a,f),u[t]=void 0)}}const tE=/(?:Once|Passive|Capture)$/;function lD(e){let t;if(tE.test(e)){t={};let i;for(;i=e.match(tE);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):_u(e.slice(2)),t]}let Cv=0;const fD=Promise.resolve(),hD=()=>Cv||(fD.then(()=>Cv=0),Cv=Date.now());function dD(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;kr(pD(i,n.value),t,5,[i])};return n.value=e,n.attached=hD(),n}function pD(e,t){if(Pe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const nE=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,vD=(e,t,n,i,o=!1,u,a,l,f)=>{t==="class"?nD(e,i,o):t==="style"?rD(e,n,i):Yf(t)?em(t)||cD(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):gD(e,t,i,o))?sD(e,t,i,u,a,l,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),oD(e,t,i,o))};function gD(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&nE(t)&&Me(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return nE(t)&&qt(n)?!1:t in e}const mD=["ctrl","shift","alt","meta"],yD={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>mD.some(n=>e[`${n}Key`]&&!t.includes(n))},Tn=(e,t)=>e._withMods||(e._withMods=(n,...i)=>{for(let o=0;o<t.length;o++){const u=yD[t[o]];if(u&&u(n,t))return}return e(n,...i)}),wD=an({patchProp:vD},eD);let rE;function bD(){return rE||(rE=PP(wD))}const _D=(...e)=>{const t=bD().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=ED(i);if(!o)return;const u=t._component;!Me(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function ED(e){return qt(e)?document.querySelector(e):e}var ID=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let fS;const fh=e=>fS=e,hS=Symbol();function fg(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ra;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ra||(Ra={}));function TD(){const e=wT(!0),t=e.run(()=>Sn({}));let n=[],i=[];const o=nh({install(u){fh(o),o._a=u,u.provide(hS,o),u.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(u){return!this._a&&!ID?i.push(u):n.push(u),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const dS=()=>{};function iE(e,t,n,i=dS){e.push(t);const o=()=>{const u=e.indexOf(t);u>-1&&(e.splice(u,1),i())};return!n&&bT()&&bO(o),o}function Os(e,...t){e.slice().forEach(n=>{n(...t)})}const SD=e=>e();function hg(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],o=e[n];fg(o)&&fg(i)&&e.hasOwnProperty(n)&&!pt(i)&&!qi(i)?e[n]=hg(o,i):e[n]=i}return e}const AD=Symbol();function kD(e){return!fg(e)||!e.hasOwnProperty(AD)}const{assign:xi}=Object;function RD(e){return!!(pt(e)&&e.effect)}function CD(e,t,n,i){const{state:o,actions:u,getters:a}=t,l=n.state.value[e];let f;function d(){l||(n.state.value[e]=o?o():{});const p=HO(n.state.value[e]);return xi(p,u,Object.keys(a||{}).reduce((g,m)=>(g[m]=nh(Fe(()=>{fh(n);const b=n._s.get(e);return a[m].call(b,b)})),g),{}))}return f=pS(e,d,t,n,i,!0),f}function pS(e,t,n={},i,o,u){let a;const l=xi({actions:{}},n),f={deep:!0};let d,p,g=[],m=[],b;const _=i.state.value[e];!u&&!_&&(i.state.value[e]={}),Sn({});let T;function S(z){let oe;d=p=!1,typeof z=="function"?(z(i.state.value[e]),oe={type:Ra.patchFunction,storeId:e,events:b}):(hg(i.state.value[e],z),oe={type:Ra.patchObject,payload:z,storeId:e,events:b});const k=T=Symbol();Xn().then(()=>{T===k&&(d=!0)}),p=!0,Os(g,oe,i.state.value[e])}const x=u?function(){const{state:oe}=n,k=oe?oe():{};this.$patch(Xe=>{xi(Xe,k)})}:dS;function O(){a.stop(),g=[],m=[],i._s.delete(e)}function F(z,oe){return function(){fh(i);const k=Array.from(arguments),Xe=[],ot=[];function at(se){Xe.push(se)}function dt(se){ot.push(se)}Os(m,{args:k,name:z,store:te,after:at,onError:dt});let Ze;try{Ze=oe.apply(this&&this.$id===e?this:te,k)}catch(se){throw Os(ot,se),se}return Ze instanceof Promise?Ze.then(se=>(Os(Xe,se),se)).catch(se=>(Os(ot,se),Promise.reject(se))):(Os(Xe,Ze),Ze)}}const V={_p:i,$id:e,$onAction:iE.bind(null,m),$patch:S,$reset:x,$subscribe(z,oe={}){const k=iE(g,z,oe.detached,()=>Xe()),Xe=a.run(()=>fr(()=>i.state.value[e],ot=>{(oe.flush==="sync"?p:d)&&z({storeId:e,type:Ra.direct,events:b},ot)},xi({},f,oe)));return k},$dispose:O},te=hi(V);i._s.set(e,te);const me=(i._a&&i._a.runWithContext||SD)(()=>i._e.run(()=>(a=wT()).run(t)));for(const z in me){const oe=me[z];if(pt(oe)&&!RD(oe)||qi(oe))u||(_&&kD(oe)&&(pt(oe)?oe.value=_[z]:hg(oe,_[z])),i.state.value[e][z]=oe);else if(typeof oe=="function"){const k=F(z,oe);me[z]=k,l.actions[z]=oe}}return xi(te,me),xi(Je(te),me),Object.defineProperty(te,"$state",{get:()=>i.state.value[e],set:z=>{S(oe=>{xi(oe,z)})}}),i._p.forEach(z=>{xi(te,a.run(()=>z({store:te,app:i._a,pinia:i,options:l})))}),_&&u&&n.hydrate&&n.hydrate(te.$state,_),d=!0,p=!0,te}function vS(e,t,n){let i,o;const u=typeof t=="function";typeof e=="string"?(i=e,o=u?n:t):(o=e,i=e.id);function a(l,f){const d=kP();return l=l||(d?hr(hS,null):null),l&&fh(l),l=fS,l._s.has(i)||(u?pS(i,t,o,l):CD(i,o,l)),l._s.get(i)}return a.$id=i,a}let ND="Store";function xD(...e){return e.reduce((t,n)=>(t[n.$id+ND]=function(){return n(this.$pinia)},t),{})}function OD(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(){return e(this.$pinia)[i]},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(){const o=e(this.$pinia),u=t[i];return typeof u=="function"?u.call(this,o):o[u]},n),{})}function gS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[i](...o)},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[t[i]](...o)},n),{})}function mS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[i]},set(o){return e(this.$pinia)[i]=o}},n),{}):Object.keys(t).reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[t[i]]},set(o){return e(this.$pinia)[t[i]]=o}},n),{})}const dg=vS("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var pg=function(e,t){return pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},pg(e,t)};function Te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Zs=function(){return Zs=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Zs.apply(this,arguments)};function $(e,t,n,i){function o(u){return u instanceof n?u:new n(function(a){a(u)})}return new(n||(n=Promise))(function(u,a){function l(p){try{d(i.next(p))}catch(g){a(g)}}function f(p){try{d(i.throw(p))}catch(g){a(g)}}function d(p){p.done?u(p.value):o(p.value).then(l,f)}d((i=i.apply(e,t||[])).next())})}function B(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(p){return f([d,p])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(u=d[0]&2?o.return:d[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,d[1])).done)return u;switch(o=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){n.label=d[1];break}if(d[0]===6&&n.label<u[1]){n.label=u[1],u=d;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(d);break}u[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],o=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Nv(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,u=[],a;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return u}function Et(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yS=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},PD=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var u=e[n++];t[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){var u=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(u&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var u=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|a&63)}}return t.join("")},DD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var u=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,p=u>>2,g=(u&3)<<4|l>>4,m=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(m=64)),i.push(n[p],n[g],n[m],n[b])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(yS(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):PD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var u=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var p=o<e.length,g=p?n[e.charAt(o)]:64;if(++o,u==null||l==null||d==null||g==null)throw Error();var m=u<<2|l>>4;if(i.push(m),d!==64){var b=l<<4&240|d>>2;if(i.push(b),g!==64){var _=d<<6&192|g;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},LD=function(e){var t=yS(e);return DD.encodeByteArray(t,!0)},oE=function(e){return LD(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(e){return Ha(void 0,e)}function Ha(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!FD(i)||(e[i]=Ha(e[i],t[i]));return e}function FD(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UD=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Zs({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[oE(JSON.stringify(n)),oE(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zo())}function bS(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VD(){return typeof self=="object"&&self.self===self}function qD(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function BD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $D(){return zo().indexOf("Electron/")>=0}function HD(){var e=zo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function KD(){return zo().indexOf("MSAppHost/")>=0}function zD(){return!bS()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GD="FirebaseError",_S=function(e){Te(t,e);function t(n,i,o){var u=e.call(this,i)||this;return u.code=n,u.customData=o,u.name=GD,Object.setPrototypeOf(u,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,Im.prototype.create),u}return t}(Error),Im=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+t,a=this.errors[t],l=a?WD(a,o):"Error",f=this.serviceName+": "+l+" ("+u+").",d=new _S(u,f,o);return d},e}();function WD(e,t){return e.replace(XD,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}var XD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function QD(e,t){var n=new YD(e,t);return n.subscribe.bind(n)}var YD=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,u;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");JD(t,["next","error","complete"])?u=t:u={next:t,error:n,complete:i},u.next===void 0&&(u.next=xv),u.error===void 0&&(u.error=xv),u.complete===void 0&&(u.complete=xv);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function JD(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function xv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(e){return e&&e._delegate?e._delegate:e}var hc=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZD=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new UD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(tL(t))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}try{for(var o=Nv(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var a=Vl(u.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:d});f.resolve(p)}catch{}}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Ao),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return $(this,void 0,void 0,function(){var t;return B(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Et(Et([],Vl(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),Vl(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Ao),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Ao),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,u=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var f=Nv(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var p=Vl(d.value,2),g=p[0],m=p[1],b=this.normalizeInstanceIdentifier(g);a===b&&m.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(t),this.onInitCallbacks.set(o,u);var a=this.instances.get(o);return a&&t(a,o),function(){u.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,u=this.onInitCallbacks.get(n);if(u)try{for(var a=Nv(u),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:eL(n),options:o}),this.instances.set(n,u),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Ao),this.component?this.component.multipleInstances?t:Ao:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function eL(e){return e===Ao?void 0:e}function tL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new ZD(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function _r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var u=arguments[t],a=0,l=u.length;a<l;a++,o++)i[o]=u[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var So,Tm=[],tt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(tt||(tt={}));var ES={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},rL=tt.INFO,iL=(So={},So[tt.DEBUG]="log",So[tt.VERBOSE]="log",So[tt.INFO]="info",So[tt.WARN]="warn",So[tt.ERROR]="error",So),oL=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),u=iL[t];if(u)console[u].apply(console,_r(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},IS=function(){function e(t){this.name=t,this._logLevel=rL,this._logHandler=oL,this._userLogHandler=null,Tm.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in tt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?ES[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,tt.DEBUG],t)),this._logHandler.apply(this,_r([this,tt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,tt.VERBOSE],t)),this._logHandler.apply(this,_r([this,tt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,tt.INFO],t)),this._logHandler.apply(this,_r([this,tt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,tt.WARN],t)),this._logHandler.apply(this,_r([this,tt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,tt.ERROR],t)),this._logHandler.apply(this,_r([this,tt.ERROR],t))},e}();function sL(e){Tm.forEach(function(t){t.setLogLevel(e)})}function uL(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=ES[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var p=[],g=2;g<arguments.length;g++)p[g-2]=arguments[g];var m=p.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&e({level:tt[d].toLowerCase(),message:m,args:p,type:f.name})}},i=0,o=Tm;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ki,aL=(ki={},ki["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ki["bad-app-name"]="Illegal App name: '{$appName}",ki["duplicate-app"]="Firebase App named '{$appName}' already exists",ki["app-deleted"]="Firebase App named '{$appName}' already deleted",ki["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ki["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ki),Fs=new Im("app","Firebase",aL),TS="@firebase/app",cL="0.6.30",lL="@firebase/analytics",fL="@firebase/app-check",hL="@firebase/auth",dL="@firebase/database",pL="@firebase/functions",vL="@firebase/installations",gL="@firebase/messaging",mL="@firebase/performance",yL="@firebase/remote-config",wL="@firebase/storage",bL="@firebase/firestore",_L="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,wf="[DEFAULT]",EL=(ln={},ln[TS]="fire-core",ln[lL]="fire-analytics",ln[fL]="fire-app-check",ln[hL]="fire-auth",ln[dL]="fire-rtdb",ln[pL]="fire-fn",ln[vL]="fire-iid",ln[gL]="fire-fcm",ln[mL]="fire-perf",ln[yL]="fire-rc",ln[wL]="fire-gcs",ln[bL]="fire-fst",ln["fire-js"]="fire-js",ln[_L]="fire-js-all",ln);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eu=new IS("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uf=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=MD(t),this.container=new nL(n.name),this._addComponent(new hc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return o._addComponent(u)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=wf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=wf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){eu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Fs.create("app-deleted",{appName:this.name_})},e}();uf.prototype.name&&uf.prototype.options||uf.prototype.delete||console.log("dc");var IL="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(e){var t={},n=new Map,i={__esModule:!0,initializeApp:a,app:u,registerVersion:d,setLogLevel:sL,onLog:p,apps:null,SDK_VERSION:IL,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:g}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(m){delete t[m]}function u(m){if(m=m||wf,!sE(t,m))throw Fs.create("no-app",{appName:m});return t[m]}u.App=e;function a(m,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var _=b;b={name:_}}var T=b;T.name===void 0&&(T.name=wf);var S=T.name;if(typeof S!="string"||!S)throw Fs.create("bad-app-name",{appName:String(S)});if(sE(t,S))throw Fs.create("duplicate-app",{appName:S});var x=new e(m,T,i);return t[S]=x,x}function l(){return Object.keys(t).map(function(m){return t[m]})}function f(m){var b=m.name;if(n.has(b))return eu.debug("There were multiple attempts to register component "+b+"."),m.type==="PUBLIC"?i[b]:null;if(n.set(b,m),m.type==="PUBLIC"){var _=function(O){if(O===void 0&&(O=u()),typeof O[b]!="function")throw Fs.create("invalid-app-argument",{appName:b});return O[b]()};m.serviceProps!==void 0&&Ha(_,m.serviceProps),i[b]=_,e.prototype[b]=function(){for(var O=[],F=0;F<arguments.length;F++)O[F]=arguments[F];var V=this._getService.bind(this,b);return V.apply(this,m.multipleInstances?O:[])}}for(var T=0,S=Object.keys(t);T<S.length;T++){var x=S[T];t[x]._addComponent(m)}return m.type==="PUBLIC"?i[b]:null}function d(m,b,_){var T,S=(T=EL[m])!==null&&T!==void 0?T:m;_&&(S+="-"+_);var x=S.match(/\s|\//),O=b.match(/\s|\//);if(x||O){var F=['Unable to register library "'+S+'" with version "'+b+'":'];x&&F.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),x&&O&&F.push("and"),O&&F.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),eu.warn(F.join(" "));return}f(new hc(S+"-version",function(){return{library:S,version:b}},"VERSION"))}function p(m,b){if(m!==null&&typeof m!="function")throw Fs.create("invalid-log-argument");uL(m,b)}function g(m,b){if(b==="serverAuth")return null;var _=b;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(){var e=TL(uf);e.INTERNAL=Zs(Zs({},e.INTERNAL),{createFirebaseNamespace:SS,extendNamespace:t,createSubscribe:QD,ErrorFactory:Im,deepExtend:Ha});function t(n){Ha(e,n)}return e}var Sm=SS();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SL=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(AL(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();function AL(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(e,t){e.INTERNAL.registerComponent(new hc("platform-logger",function(n){return new SL(n)},"PRIVATE")),e.registerVersion(TS,cL,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(VD()&&self.firebase!==void 0){eu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var uE=self.firebase.SDK_VERSION;uE&&uE.indexOf("LITE")>=0&&eu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var RL=Sm.initializeApp;Sm.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return bS()&&eu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),RL.apply(void 0,e)};var ke=Sm;kL(ke);var CL="firebase",AS="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ke.registerVersion(CL,AS,"app");ke.SDK_VERSION=AS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){r!=Array.prototype&&r!=Object.prototype&&(r[s]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,s){if(s){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var v=r[h];v in c||(c[v]={}),c=c[v]}r=r[r.length-1],h=c[r],s=s(h),s!=h&&s!=null&&t(c,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function a(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(w){this.b=0,this.c=void 0,this.a=[];var E=this.f();try{w(E.resolve,E.reject)}catch(M){E.reject(M)}}function c(){this.a=null}function h(w){return w instanceof s?w:new s(function(E){E(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var E=this;this.c(function(){E.g()})}this.a.push(w)};var v=i.setTimeout;c.prototype.c=function(w){v(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var E=0;E<w.length;++E){var M=w[E];w[E]=null;try{M()}catch(W){this.f(W)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},s.prototype.f=function(){function w(W){return function(Oe){M||(M=!0,W.call(E,Oe))}}var E=this,M=!1;return{resolve:w(this.m),reject:w(this.g)}},s.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof s)this.s(w);else{e:switch(typeof w){case"object":var E=w!=null;break e;case"function":E=!0;break e;default:E=!1}E?this.v(w):this.h(w)}},s.prototype.v=function(w){var E=void 0;try{E=w.then}catch(M){this.g(M);return}typeof E=="function"?this.u(E,w):this.h(w)},s.prototype.g=function(w){this.i(2,w)},s.prototype.h=function(w){this.i(1,w)},s.prototype.i=function(w,E){if(this.b!=0)throw Error("Cannot settle("+w+", "+E+"): Promise already settled in state"+this.b);this.b=w,this.c=E,this.l()},s.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)y.b(this.a[w]);this.a=null}};var y=new c;return s.prototype.s=function(w){var E=this.f();w.Ra(E.resolve,E.reject)},s.prototype.u=function(w,E){var M=this.f();try{w.call(E,M.resolve,M.reject)}catch(W){M.reject(W)}},s.prototype.then=function(w,E){function M(et,Yt){return typeof et=="function"?function(ri){try{W(et(ri))}catch(Ev){Oe(Ev)}}:Yt}var W,Oe,st=new s(function(et,Yt){W=et,Oe=Yt});return this.Ra(M(w,W),M(E,Oe)),st},s.prototype.catch=function(w){return this.then(void 0,w)},s.prototype.Ra=function(w,E){function M(){switch(W.b){case 1:w(W.c);break;case 2:E(W.c);break;default:throw Error("Unexpected state: "+W.b)}}var W=this;this.a==null?y.b(M):this.a.push(M)},s.resolve=h,s.reject=function(w){return new s(function(E,M){M(w)})},s.race=function(w){return new s(function(E,M){for(var W=a(w),Oe=W.next();!Oe.done;Oe=W.next())h(Oe.value).Ra(E,M)})},s.all=function(w){var E=a(w),M=E.next();return M.done?h([]):new s(function(W,Oe){function st(ri){return function(Ev){et[ri]=Ev,Yt--,Yt==0&&W(et)}}var et=[],Yt=0;do et.push(void 0),Yt++,h(M.value).Ra(st(et.length-1),Oe),M=E.next();while(!M.done)})},s});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,p=null;function g(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function m(){}function b(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function _(r){var s=b(r);return s=="array"||s=="object"&&typeof r.length=="number"}function T(r){return b(r)=="function"}function S(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function x(r){return Object.prototype.hasOwnProperty.call(r,O)&&r[O]||(r[O]=++F)}var O="closure_uid_"+(1e9*Math.random()>>>0),F=0;function V(r,s,c){return r.call.apply(r.bind,arguments)}function te(r,s,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,h),r.apply(s,v)}}return function(){return r.apply(s,arguments)}}function U(r,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?U=V:U=te,U.apply(null,arguments)}function me(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function z(r,s){function c(){}c.prototype=s.prototype,r.bb=s.prototype,r.prototype=new c,r.prototype.constructor=r}function oe(r){return r}function k(r,s,c){this.code=ot+r,this.message=s||at[r]||"",this.a=c||null}z(k,Error),k.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},k.prototype.toJSON=function(){return this.w()};function Xe(r){var s=r&&r.code;return s?new k(s.substring(ot.length),r.message,r.serverResponse):null}var ot="auth/",at={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},dt={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ze(r){for(var s in dt)if(dt[s].id===r)return r=dt[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var se;se=Ze("__EID__")?"__EID__":void 0;function De(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function _e(r){if(Error.captureStackTrace)Error.captureStackTrace(this,_e);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}z(_e,Error),_e.prototype.name="CustomError";function kt(r,s){r=r.split("%s");for(var c="",h=r.length-1,v=0;v<h;v++)c+=r[v]+(v<s.length?s[v]:"%s");_e.call(this,c+r[h])}z(kt,_e),kt.prototype.name="AssertionError";function Ot(r,s){throw new kt("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function Ht(r,s){this.c=r,this.f=s,this.b=0,this.a=null}Ht.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Mt(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function gt(){this.b=this.a=null}var Hn=new Ht(function(){return new ve},function(r){r.reset()});gt.prototype.add=function(r,s){var c=Hn.get();c.set(r,s),this.b?this.b.next=c:this.a=c,this.b=c};function fe(){var r=lw,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function ve(){this.next=this.b=this.a=null}ve.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},ve.prototype.reset=function(){this.next=this.b=this.a=null};var D=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===s)return c;return-1},q=Array.prototype.forEach?function(r,s,c){Array.prototype.forEach.call(r,s,c)}:function(r,s,c){for(var h=r.length,v=typeof r=="string"?r.split(""):r,y=0;y<h;y++)y in v&&s.call(c,v[y],y,r)};function ee(r,s){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&s.call(void 0,c[h],h,r)}var ae=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=[],v=0,y=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in y){var E=y[w];s.call(void 0,E,w,r)&&(h[v++]=E)}return h},Ce=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=Array(c),v=typeof r=="string"?r.split(""):r,y=0;y<c;y++)y in v&&(h[y]=s.call(void 0,v[y],y,r));return h},I=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=typeof r=="string"?r.split(""):r,v=0;v<c;v++)if(v in h&&s.call(void 0,h[v],v,r))return!0;return!1};function A(r){e:{for(var s=VC,c=r.length,h=typeof r=="string"?r.split(""):r,v=0;v<c;v++)if(v in h&&s.call(void 0,h[v],v,r)){s=v;break e}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function C(r,s){return 0<=D(r,s)}function L(r,s){s=D(r,s);var c;return(c=0<=s)&&Array.prototype.splice.call(r,s,1),c}function j(r,s){var c=0;ee(r,function(h,v){s.call(void 0,h,v,r)&&Array.prototype.splice.call(r,v,1).length==1&&c++})}function G(r){return Array.prototype.concat.apply([],arguments)}function ne(r){var s=r.length;if(0<s){for(var c=Array(s),h=0;h<s;h++)c[h]=r[h];return c}return[]}var Y=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},ie=/&/g,Q=/</g,ge=/>/g,le=/"/g,we=/'/g,Re=/\x00/g,je=/[\x00&<>"']/;function Ee(r,s){return r.indexOf(s)!=-1}function ze(r,s){return r<s?-1:r>s?1:0}var R;e:{var N=f.navigator;if(N){var H=N.userAgent;if(H){R=H;break e}}R=""}function Z(r){return Ee(R,r)}function Se(r,s){for(var c in r)s.call(void 0,r[c],c,r)}function pe(r){for(var s in r)return!1;return!0}function Ae(r){var s={},c;for(c in r)s[c]=r[c];return s}var Ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qe(r,s){for(var c,h,v=1;v<arguments.length;v++){h=arguments[v];for(c in h)r[c]=h[c];for(var y=0;y<Ge.length;y++)c=Ge[y],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function en(r,s){e:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var v=h;break e}}catch{}v=null}if(v&&typeof v[s]<"u"&&(!r||!(r instanceof v[s])&&(r instanceof v.Location||r instanceof v.Element))){if(S(r))try{var y=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{y="<object could not be stringified>"}else y=r===void 0?"undefined":r===null?"null":typeof r;Ot("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,y)}}function Be(r,s){this.a=r===Pr&&s||"",this.b=Ct}Be.prototype.ta=!0,Be.prototype.sa=function(){return this.a},Be.prototype.toString=function(){return"Const{"+this.a+"}"};function Rt(r){return r instanceof Be&&r.constructor===Be&&r.b===Ct?r.a:(Ot("expected object of type Const, got '"+r+"'"),"type_error:Const")}var Ct={},Pr={},mi;function Pu(){if(mi===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:oe,createScript:oe,createScriptURL:oe})}catch(c){f.console&&f.console.error(c.message)}mi=r}else mi=r}return mi}function Dr(r,s){this.a=s===Wy?r:""}Dr.prototype.ta=!0,Dr.prototype.sa=function(){return this.a.toString()},Dr.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function as(r){return r instanceof Dr&&r.constructor===Dr?r.a:(Ot("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function Qh(r,s){var c=Rt(r);if(!gR.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(vR,function(h,v){if(!Object.prototype.hasOwnProperty.call(s,v))throw Error('Found marker, "'+v+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[v],h instanceof Be?Rt(h):encodeURIComponent(String(h))}),mR(r)}var vR=/%{(\w+)}/g,gR=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Wy={};function mR(r){var s=Pu();return r=s?s.createScriptURL(r):r,new Dr(r,Wy)}function xn(r,s){this.a=s===Du?r:""}xn.prototype.ta=!0,xn.prototype.sa=function(){return this.a.toString()},xn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Lc(r){return r instanceof xn&&r.constructor===xn?r.a:(Ot("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var yR=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,wR=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Xy=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Qy(r){if(r instanceof xn)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),Xy.test(r))r=new xn(r,Du);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(wR);r=s&&yR.test(s[1])?new xn(r,Du):null}return r}function Yy(r){return r instanceof xn?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),Xy.test(r)||(r="about:invalid#zClosurez"),new xn(r,Du))}var Du={},Jy=new xn("about:invalid#zClosurez",Du);function cs(r,s,c){this.a=c===Zy?r:""}cs.prototype.ta=!0,cs.prototype.sa=function(){return this.a.toString()},cs.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function bR(r){return r instanceof cs&&r.constructor===cs?r.a:(Ot("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var Zy={};function _R(r,s){en(r,"HTMLScriptElement"),r.src=as(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=g(s.document):(p===null&&(p=g(f.document)),s=p),s&&r.setAttribute("nonce",s)}function ew(r,s,c,h){return r=r instanceof xn?r:Yy(r),s=s||f,c=c instanceof Be?Rt(c):c||"",s.open(Lc(r),c,h,void 0)}function tw(r,s){for(var c=r.split("%s"),h="",v=Array.prototype.slice.call(arguments,1);v.length&&1<c.length;)h+=c.shift()+v.shift();return h+c.join("%s")}function Yh(r){return je.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(ie,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(Q,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(ge,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(le,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(we,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(Re,"&#0;"))),r}function Jh(r){return Jh[" "](r),r}Jh[" "]=m;function ER(r,s){var c=AR;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=s(r)}var IR=Z("Opera"),pr=Z("Trident")||Z("MSIE"),nw=Z("Edge"),TR=nw||pr,rw=Z("Gecko")&&!(Ee(R.toLowerCase(),"webkit")&&!Z("Edge"))&&!(Z("Trident")||Z("MSIE"))&&!Z("Edge"),SR=Ee(R.toLowerCase(),"webkit")&&!Z("Edge");function iw(){var r=f.document;return r?r.documentMode:void 0}var Mc;e:{var Zh="",ed=function(){var r=R;if(rw)return/rv:([^\);]+)(\)|;)/.exec(r);if(nw)return/Edge\/([\d\.]+)/.exec(r);if(pr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(SR)return/WebKit\/(\S+)/.exec(r);if(IR)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(ed&&(Zh=ed?ed[1]:""),pr){var td=iw();if(td!=null&&td>parseFloat(Zh)){Mc=String(td);break e}}Mc=Zh}var AR={};function ow(r){return ER(r,function(){for(var s=0,c=Y(String(Mc)).split("."),h=Y(String(r)).split("."),v=Math.max(c.length,h.length),y=0;s==0&&y<v;y++){var w=c[y]||"",E=h[y]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],w[0].length==0&&E[0].length==0)break;s=ze(w[1].length==0?0:parseInt(w[1],10),E[1].length==0?0:parseInt(E[1],10))||ze(w[2].length==0,E[2].length==0)||ze(w[2],E[2]),w=w[3],E=E[3]}while(s==0)}return 0<=s})}var nd;if(f.document&&pr){var sw=iw();nd=sw||parseInt(Mc,10)||void 0}else nd=void 0;var yi=nd;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var kR=!pr||9<=Number(yi);function Lu(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function uw(r,s){Se(s,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:aw.hasOwnProperty(h)?r.setAttribute(aw[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var aw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function RR(r,s,c){var h=arguments,v=document,y=String(h[0]),w=h[1];if(!kR&&w&&(w.name||w.type)){if(y=["<",y],w.name&&y.push(' name="',Yh(w.name),'"'),w.type){y.push(' type="',Yh(w.type),'"');var E={};qe(E,w),delete E.type,w=E}y.push(">"),y=y.join("")}return y=Fc(v,y),w&&(typeof w=="string"?y.className=w:Array.isArray(w)?y.className=w.join(" "):uw(y,w)),2<h.length&&CR(v,y,h),y}function CR(r,s,c){function h(E){E&&s.appendChild(typeof E=="string"?r.createTextNode(E):E)}for(var v=2;v<c.length;v++){var y=c[v];if(!_(y)||S(y)&&0<y.nodeType)h(y);else{e:{if(y&&typeof y.length=="number"){if(S(y)){var w=typeof y.item=="function"||typeof y.item=="string";break e}if(T(y)){w=typeof y.item=="function";break e}}w=!1}q(w?ne(y):y,h)}}}function Fc(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function cw(r){f.setTimeout(function(){throw r},0)}var rd;function NR(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Z("Presto")&&(r=function(){var v=Fc(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var y=v.contentWindow;v=y.document,v.open(),v.close();var w="callImmediate"+Math.random(),E=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;v=U(function(M){(E=="*"||M.origin==E)&&M.data==w&&this.port1.onmessage()},this),y.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(w,E)}}}),typeof r<"u"&&!Z("Trident")&&!Z("MSIE")){var s=new r,c={},h=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var v=c.Hb;c.Hb=null,v()}},function(v){h.next={Hb:v},h=h.next,s.port2.postMessage(0)}}return function(v){f.setTimeout(v,0)}}function Uc(r,s){jc||xR(),id||(jc(),id=!0),lw.add(r,s)}var jc;function xR(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);jc=function(){r.then(fw)}}else jc=function(){var s=fw;!T(f.setImmediate)||f.Window&&f.Window.prototype&&!Z("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(rd||(rd=NR()),rd(s)):f.setImmediate(s)}}var id=!1,lw=new gt;function fw(){for(var r;r=fe();){try{r.a.call(r.b)}catch(s){cw(s)}Mt(Hn,r)}id=!1}function $e(r,s){if(this.a=ro,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=m)try{var c=this;r.call(s,function(h){io(c,Mu,h)},function(h){if(!(h instanceof ls))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}io(c,Zr,h)})}catch(h){io(this,Zr,h)}}var ro=0,Mu=2,Zr=3;function hw(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}hw.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var dw=new Ht(function(){return new hw},function(r){r.reset()});function od(r,s,c){var h=dw.get();return h.g=r,h.b=s,h.f=c,h}function Ie(r){if(r instanceof $e)return r;var s=new $e(m);return io(s,Mu,r),s}function bt(r){return new $e(function(s,c){c(r)})}function pw(r,s,c){yw(r,s,c,null)||Uc(me(s,r))}function OR(r){return new $e(function(s,c){var h=r.length,v=[];if(h)for(var y=function(W,Oe){h--,v[W]=Oe,h==0&&s(v)},w=function(W){c(W)},E=0,M;E<r.length;E++)M=r[E],pw(M,me(y,E),w);else s(v)})}function vw(r){return new $e(function(s){var c=r.length,h=[];if(c)for(var v=function(E,M,W){c--,h[E]=M?{Qb:!0,value:W}:{Qb:!1,reason:W},c==0&&s(h)},y=0,w;y<r.length;y++)w=r[y],pw(w,me(v,y,!0),me(v,y,!1));else s(h)})}$e.prototype.then=function(r,s,c){return mw(this,T(r)?r:null,T(s)?s:null,c)},$e.prototype.$goog_Thenable=!0,e=$e.prototype,e.oa=function(r,s){return r=od(r,r,s),r.c=!0,sd(this,r),this},e.o=function(r,s){return mw(this,null,r,s)},e.cancel=function(r){if(this.a==ro){var s=new ls(r);Uc(function(){gw(this,s)},this)}};function gw(r,s){if(r.a==ro)if(r.c){var c=r.c;if(c.b){for(var h=0,v=null,y=null,w=c.b;w&&(w.c||(h++,w.a==r&&(v=w),!(v&&1<h)));w=w.next)v||(y=w);v&&(c.a==ro&&h==1?gw(c,s):(y?(h=y,h.next==c.f&&(c.f=h),h.next=h.next.next):bw(c),_w(c,v,Zr,s)))}r.c=null}else io(r,Zr,s)}function sd(r,s){r.b||r.a!=Mu&&r.a!=Zr||ww(r),r.f?r.f.next=s:r.b=s,r.f=s}function mw(r,s,c,h){var v=od(null,null,null);return v.a=new $e(function(y,w){v.g=s?function(E){try{var M=s.call(h,E);y(M)}catch(W){w(W)}}:y,v.b=c?function(E){try{var M=c.call(h,E);M===void 0&&E instanceof ls?w(E):y(M)}catch(W){w(W)}}:w}),v.a.c=r,sd(r,v),v.a}e.$c=function(r){this.a=ro,io(this,Mu,r)},e.ad=function(r){this.a=ro,io(this,Zr,r)};function io(r,s,c){r.a==ro&&(r===c&&(s=Zr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,yw(c,r.$c,r.ad,r)||(r.i=c,r.a=s,r.c=null,ww(r),s!=Zr||c instanceof ls||DR(r,c)))}function yw(r,s,c,h){if(r instanceof $e)return sd(r,od(s||m,c||null,h)),!0;if(De(r))return r.then(s,c,h),!0;if(S(r))try{var v=r.then;if(T(v))return PR(r,v,s,c,h),!0}catch(y){return c.call(h,y),!0}return!1}function PR(r,s,c,h,v){function y(M){E||(E=!0,h.call(v,M))}function w(M){E||(E=!0,c.call(v,M))}var E=!1;try{s.call(r,w,y)}catch(M){y(M)}}function ww(r){r.h||(r.h=!0,Uc(r.gc,r))}function bw(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}e.gc=function(){for(var r;r=bw(this);)_w(this,r,this.a,this.i);this.h=!1};function _w(r,s,c,h){if(c==Zr&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,Ew(s,c,h);else try{s.c?s.g.call(s.f):Ew(s,c,h)}catch(v){Iw.call(null,v)}Mt(dw,s)}function Ew(r,s,c){s==Mu?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function DR(r,s){r.g=!0,Uc(function(){r.g&&Iw.call(null,s)})}var Iw=cw;function ls(r){_e.call(this,r)}z(ls,_e),ls.prototype.name="cancel";function Vc(){this.ya=this.ya,this.pa=this.pa}var LR=0;Vc.prototype.ya=!1;function Tw(r){!r.ya&&(r.ya=!0,r.Da(),LR!=0)&&x(r)}Vc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var MR=Object.freeze||function(r){return r},Sw=!pr||9<=Number(yi),FR=pr&&!ow("9"),UR=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",m,s),f.removeEventListener("test",m,s)}catch{}return r}();function On(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}On.prototype.preventDefault=function(){this.defaultPrevented=!0};function oo(r,s){if(On.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(rw){e:{try{Jh(s.nodeName);var v=!0;break e}catch{}v=!1}v||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:jR[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}z(oo,On);var jR=MR({2:"touch",3:"pen",4:"mouse"});oo.prototype.preventDefault=function(){oo.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,FR)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},oo.prototype.g=function(){return this.a};var Fu="closure_listenable_"+(1e6*Math.random()|0),VR=0;function qR(r,s,c,h,v){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!h,this.Wa=v,this.key=++VR,this.wa=this.Qa=!1}function qc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function Bc(r){this.src=r,this.a={},this.b=0}Bc.prototype.add=function(r,s,c,h,v){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.b++);var w=ad(r,s,h,v);return-1<w?(s=r[w],c||(s.Qa=!1)):(s=new qR(s,this.src,y,!!h,v),s.Qa=c,r.push(s)),s};function ud(r,s){var c=s.type;c in r.a&&L(r.a[c],s)&&(qc(s),r.a[c].length==0&&(delete r.a[c],r.b--))}function ad(r,s,c,h){for(var v=0;v<r.length;++v){var y=r[v];if(!y.wa&&y.listener==s&&y.capture==!!c&&y.Wa==h)return v}return-1}var cd="closure_lm_"+(1e6*Math.random()|0),ld={};function ir(r,s,c,h,v){if(h&&h.once)fd(r,s,c,h,v);else if(Array.isArray(s))for(var y=0;y<s.length;y++)ir(r,s[y],c,h,v);else c=dd(c),r&&r[Fu]?xw(r,s,c,S(h)?!!h.capture:!!h,v):Aw(r,s,c,!1,h,v)}function Aw(r,s,c,h,v,y){if(!s)throw Error("Invalid event type");var w=S(v)?!!v.capture:!!v,E=$c(r);if(E||(r[cd]=E=new Bc(r)),c=E.add(s,c,h,w,y),!c.proxy)if(h=BR(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)UR||(v=w),v===void 0&&(v=!1),r.addEventListener(s.toString(),h,v);else if(r.attachEvent)r.attachEvent(Rw(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function BR(){var r=$R,s=Sw?function(c){return r.call(s.src,s.listener,c)}:function(c){if(c=r.call(s.src,s.listener,c),!c)return c};return s}function fd(r,s,c,h,v){if(Array.isArray(s))for(var y=0;y<s.length;y++)fd(r,s[y],c,h,v);else c=dd(c),r&&r[Fu]?pd(r,s,c,S(h)?!!h.capture:!!h,v):Aw(r,s,c,!0,h,v)}function Kn(r,s,c,h,v){if(Array.isArray(s))for(var y=0;y<s.length;y++)Kn(r,s[y],c,h,v);else h=S(h)?!!h.capture:!!h,c=dd(c),r&&r[Fu]?(r=r.v,s=String(s).toString(),s in r.a&&(y=r.a[s],c=ad(y,c,h,v),-1<c&&(qc(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete r.a[s],r.b--)))):r&&(r=$c(r))&&(s=r.a[s.toString()],r=-1,s&&(r=ad(s,c,h,v)),(c=-1<r?s[r]:null)&&kw(c))}function kw(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[Fu])ud(s.v,r);else{var c=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(c,h,r.capture):s.detachEvent?s.detachEvent(Rw(c),h):s.addListener&&s.removeListener&&s.removeListener(h),(c=$c(s))?(ud(c,r),c.b==0&&(c.src=null,s[cd]=null)):qc(r)}}}function Rw(r){return r in ld?ld[r]:ld[r]="on"+r}function Cw(r,s,c,h){var v=!0;if((r=$c(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var y=s[r];y&&y.capture==c&&!y.wa&&(y=Nw(y,h),v=v&&y!==!1)}return v}function Nw(r,s){var c=r.listener,h=r.Wa||r.src;return r.Qa&&kw(r),c.call(h,s)}function $R(r,s){if(r.wa)return!0;if(!Sw){if(!s)e:{s=["window","event"];for(var c=f,h=0;h<s.length;h++)if(c=c[s[h]],c==null){s=null;break e}s=c}if(h=s,s=new oo(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var v=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{v=!0}(v||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],v=s.b;v;v=v.parentNode)h.push(v);for(r=r.type,v=h.length-1;0<=v;v--){s.b=h[v];var y=Cw(h[v],r,!0,s);c=c&&y}for(v=0;v<h.length;v++)s.b=h[v],y=Cw(h[v],r,!1,s),c=c&&y}return c}return Nw(r,new oo(s,this))}function $c(r){return r=r[cd],r instanceof Bc?r:null}var hd="__closure_events_fn_"+(1e9*Math.random()>>>0);function dd(r){return T(r)?r:(r[hd]||(r[hd]=function(s){return r.handleEvent(s)}),r[hd])}function yn(){Vc.call(this),this.v=new Bc(this),this.bc=this,this.hb=null}z(yn,Vc),yn.prototype[Fu]=!0,yn.prototype.addEventListener=function(r,s,c,h){ir(this,r,s,c,h)},yn.prototype.removeEventListener=function(r,s,c,h){Kn(this,r,s,c,h)},yn.prototype.dispatchEvent=function(r){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new On(r,c);else if(r instanceof On)r.target=r.target||c;else{var v=r;r=new On(h,c),qe(r,v)}if(v=!0,s)for(var y=s.length-1;0<=y;y--){var w=r.b=s[y];v=Hc(w,h,!0,r)&&v}if(w=r.b=c,v=Hc(w,h,!0,r)&&v,v=Hc(w,h,!1,r)&&v,s)for(y=0;y<s.length;y++)w=r.b=s[y],v=Hc(w,h,!1,r)&&v;return v},yn.prototype.Da=function(){if(yn.bb.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var c=r.a[s],h=0;h<c.length;h++)qc(c[h]);delete r.a[s],r.b--}}this.hb=null};function xw(r,s,c,h,v){r.v.add(String(s),c,!1,h,v)}function pd(r,s,c,h,v){r.v.add(String(s),c,!0,h,v)}function Hc(r,s,c,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var v=!0,y=0;y<s.length;++y){var w=s[y];if(w&&!w.wa&&w.capture==c){var E=w.listener,M=w.Wa||w.src;w.Qa&&ud(r.v,w),v=E.call(M,h)!==!1&&v}}return v&&!h.defaultPrevented}function vd(r,s,c){if(T(r))c&&(r=U(r,c));else if(r&&typeof r.handleEvent=="function")r=U(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function fs(r){var s=null;return new $e(function(c,h){s=vd(function(){c(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(s),c})}function Ow(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var s=[],c=r.length,h=0;h<c;h++)s.push(r[h]);return s}s=[],c=0;for(h in r)s[c++]=r[h];return s}function Pw(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(var h in r)s[c++]=h;return s}}function HR(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(_(r)||typeof r=="string")q(r,s,void 0);else for(var c=Pw(r),h=Ow(r),v=h.length,y=0;y<v;y++)s.call(void 0,h[y],c&&c[y],r)}function hs(r,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof hs)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}e=hs.prototype,e.X=function(){gd(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},e.Y=function(){return gd(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function gd(r){if(r.c!=r.a.length){for(var s=0,c=0;s<r.a.length;){var h=r.a[s];so(r.b,h)&&(r.a[c++]=h),s++}r.a.length=c}if(r.c!=r.a.length){var v={};for(c=s=0;s<r.a.length;)h=r.a[s],so(v,h)||(r.a[c++]=h,v[h]=1),s++;r.a.length=c}}e.get=function(r,s){return so(this.b,r)?this.b[r]:s},e.set=function(r,s){so(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},e.forEach=function(r,s){for(var c=this.Y(),h=0;h<c.length;h++){var v=c[h],y=this.get(v);r.call(s,y,v,this)}};function so(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var Dw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function KR(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),v=null;if(0<=h){var y=r[c].substring(0,h);v=r[c].substring(h+1)}else y=r[c];s(y,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function wi(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof wi?(this.i=s!==void 0?s:r.i,Uu(this,r.c),this.l=r.l,this.a=r.a,ju(this,r.g),this.f=r.f,md(this,Uw(r.b)),this.h=r.h):r&&(c=String(r).match(Dw))?(this.i=!!s,Uu(this,c[1]||"",!0),this.l=Vu(c[2]||""),this.a=Vu(c[3]||"",!0),ju(this,c[4]),this.f=Vu(c[5]||"",!0),md(this,c[6]||"",!0),this.h=Vu(c[7]||"")):(this.i=!!s,this.b=new uo(null,this.i))}wi.prototype.toString=function(){var r=[],s=this.c;s&&r.push(qu(s,Lw,!0),":");var c=this.a;return(c||s=="file")&&(r.push("//"),(s=this.l)&&r.push(qu(s,Lw,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(qu(c,c.charAt(0)=="/"?WR:GR,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",qu(c,QR)),r.join("")},wi.prototype.resolve=function(r){var s=new wi(this),c=!!r.c;c?Uu(s,r.c):c=!!r.l,c?s.l=r.l:c=!!r.a,c?s.a=r.a:c=r.g!=null;var h=r.f;if(c)ju(s,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var v=s.f.lastIndexOf("/");v!=-1&&(h=s.f.substr(0,v+1)+h)}if(v=h,v==".."||v==".")h="";else if(Ee(v,"./")||Ee(v,"/.")){h=v.lastIndexOf("/",0)==0,v=v.split("/");for(var y=[],w=0;w<v.length;){var E=v[w++];E=="."?h&&w==v.length&&y.push(""):E==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),h&&w==v.length&&y.push("")):(y.push(E),h=!0)}h=y.join("/")}else h=v}return c?s.f=h:c=r.b.toString()!=="",c?md(s,Uw(r.b)):c=!!r.h,c&&(s.h=r.h),s};function Uu(r,s,c){r.c=c?Vu(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function ju(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function md(r,s,c){s instanceof uo?(r.b=s,YR(r.b,r.i)):(c||(s=qu(s,XR)),r.b=new uo(s,r.i))}function Pt(r,s,c){r.b.set(s,c)}function or(r,s){return r.b.get(s)}function Pn(r){return r instanceof wi?new wi(r):new wi(r,void 0)}function Kc(r,s,c,h){var v=new wi(null,void 0);return r&&Uu(v,r),s&&(v.a=s),c&&ju(v,c),h&&(v.f=h),v}function Vu(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function qu(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,zR),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function zR(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Lw=/[#\/\?@]/g,GR=/[#\?:]/g,WR=/[#\?]/g,XR=/[#\?@]/g,QR=/#/g;function uo(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function bi(r){r.a||(r.a=new hs,r.b=0,r.c&&KR(r.c,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function Mw(r){var s=Pw(r);if(typeof s>"u")throw Error("Keys are undefined");var c=new uo(null,void 0);r=Ow(r);for(var h=0;h<s.length;h++){var v=s[h],y=r[h];Array.isArray(y)?Fw(c,v,y):c.add(v,y)}return c}e=uo.prototype,e.add=function(r,s){bi(this),this.c=null,r=ds(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(s),this.b+=1,this};function Lr(r,s){bi(r),s=ds(r,s),so(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,so(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&gd(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function yd(r,s){return bi(r),s=ds(r,s),so(r.a.b,s)}e.forEach=function(r,s){bi(this),this.a.forEach(function(c,h){q(c,function(v){r.call(s,v,h,this)},this)},this)},e.Y=function(){bi(this);for(var r=this.a.X(),s=this.a.Y(),c=[],h=0;h<s.length;h++)for(var v=r[h],y=0;y<v.length;y++)c.push(s[h]);return c},e.X=function(r){bi(this);var s=[];if(typeof r=="string")yd(this,r)&&(s=G(s,this.a.get(ds(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)s=G(s,r[c])}return s},e.set=function(r,s){return bi(this),this.c=null,r=ds(this,r),yd(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},e.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function Fw(r,s,c){Lr(r,s),0<c.length&&(r.c=null,r.a.set(ds(r,s),ne(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),c=0;c<s.length;c++){var h=s[c],v=encodeURIComponent(String(h));h=this.X(h);for(var y=0;y<h.length;y++){var w=v;h[y]!==""&&(w+="="+encodeURIComponent(String(h[y]))),r.push(w)}}return this.c=r.join("&")};function Uw(r){var s=new uo;return s.c=r.c,r.a&&(s.a=new hs(r.a),s.b=r.b),s}function ds(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function YR(r,s){s&&!r.f&&(bi(r),r.c=null,r.a.forEach(function(c,h){var v=h.toLowerCase();h!=v&&(Lr(this,h),Fw(this,v,c))},r)),r.f=s}function jw(r){var s=[];return wd(new JR,r,s),s.join("")}function JR(){}function wd(r,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,c.push("[");for(var v="",y=0;y<s;y++)c.push(v),wd(r,h[y],c),v=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),v="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(y=s[h],typeof y!="function"&&(c.push(v),qw(h,c),c.push(":"),wd(r,y,c),v=","));c.push("}");return}}switch(typeof s){case"string":qw(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var Vw={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},ZR=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function qw(r,s){s.push('"',r.replace(ZR,function(c){var h=Vw[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),Vw[c]=h),h}),'"')}function bd(){var r=tn();return pr&&!!yi&&yi==11||/Edge\/\d+/.test(r)}function Bu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Bw(r,s){s=s||f.window;var c="about:blank";r&&(c=Lc(Qy(r)||Jy)),s.location.href=c}function $w(r,s){var c=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<$w(r[h],s[h]).length&&c.push(h):r[h]!==s[h]&&c.push(h):c.push(h);for(h in s)h in r||c.push(h);return c}function eC(){var r=tn();return r=ps(r)!=Gw?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!pr||!yi||9<yi}function Hw(r){return r=(r||tn()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function ao(r){r=r||f.window;try{r.close()}catch{}}function Kw(r,s,c){var h=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var v=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<v?v:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=tn().toLowerCase(),h&&(s.target=h,Ee(c,"crios/")&&(s.target="_blank")),ps(tn())==Id&&(r=r||"http://localhost",s.scrollbars=!0),c=r||"",(r=s)||(r={}),h=window,s=c instanceof xn?c:Qy(typeof c.href<"u"?c.href:String(c))||Jy,c=r.target||c.target,v=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":v.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(w+"="+(r[w]?1:0))}var w=v.join(",");if((Z("iPhone")&&!Z("iPod")&&!Z("iPad")||Z("iPad")||Z("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=Fc(document,"A"),en(w,"HTMLAnchorElement"),s=s instanceof xn?s:Yy(s),w.href=Lc(s),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=ew("",h,c,w),r=Lc(s),w&&(TR&&Ee(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Yh(r)+'">',r=(h=Pu())?h.createHTML(r):r,r=new cs(r,null,Zy),h=w.document)&&(h.write(bR(r)),h.close())):(w=ew(s,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function tC(r){return new $e(function(s){function c(){fs(2e3).then(function(){if(!r||r.closed)s();else return c()})}return c()})}var nC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rC=/^[^@]+@[^@]+$/;function zc(){var r=null;return new $e(function(s){f.document.readyState=="complete"?s():(r=function(){s()},fd(window,"load",r))}).o(function(s){throw Kn(window,"load",r),s})}function iC(){return _d(void 0)?zc().then(function(){return new $e(function(r,s){var c=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):bt(Error("Cordova must run in an Android or iOS file scheme."))}function _d(r){return r=r||tn(),!(gs()!=="file:"&&gs()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ed(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function vr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Mr(){return ke.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ke.INTERNAL.hasOwnProperty("node")?"Node":vr()?"Worker":"Browser"}function zw(){var r=Mr();return r==="ReactNative"||r==="Node"}function oC(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var Id="Firefox",Gw="Chrome";function ps(r){var s=r.toLowerCase();if(Ee(s,"opera/")||Ee(s,"opr/")||Ee(s,"opios/"))return"Opera";if(Ee(s,"iemobile"))return"IEMobile";if(Ee(s,"msie")||Ee(s,"trident/"))return"IE";if(Ee(s,"edge/"))return"Edge";if(Ee(s,"firefox/"))return Id;if(Ee(s,"silk/"))return"Silk";if(Ee(s,"blackberry"))return"Blackberry";if(Ee(s,"webos"))return"Webos";if(!Ee(s,"safari/")||Ee(s,"chrome/")||Ee(s,"crios/")||Ee(s,"android"))if(!Ee(s,"chrome/")&&!Ee(s,"crios/")||Ee(s,"edge/")){if(Ee(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return Gw;else return"Safari";return"Other"}var Ww={md:"FirebaseCore-web",od:"FirebaseUI-web"};function vs(r,s){s=s||[];var c=[],h={},v;for(v in Ww)h[Ww[v]]=!0;for(v=0;v<s.length;v++)typeof h[s[v]]<"u"&&(delete h[s[v]],c.push(s[v]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=Mr(),c==="Browser"?(h=tn(),c=ps(h)):c==="Worker"&&(h=tn(),c=ps(h)+"-"+c),c+"/JsCore/"+r+"/"+s.join(",")}function tn(){return f.navigator&&f.navigator.userAgent||""}function _t(r,s){r=r.split("."),s=s||f;for(var c=0;c<r.length&&typeof s=="object"&&s!=null;c++)s=s[r[c]];return c!=r.length&&(s=void 0),s}function Td(){try{var r=f.localStorage,s=lo();if(r)return r.setItem(s,"1"),r.removeItem(s),bd()?!!f.indexedDB:!0}catch{return vr()&&!!f.indexedDB}return!1}function co(){return(Gc()||gs()==="chrome-extension:"||_d())&&!zw()&&Td()&&!vr()}function Gc(){return gs()==="http:"||gs()==="https:"}function gs(){return f.location&&f.location.protocol||null}function $u(r){return r=r||tn(),!(Hw(r)||ps(r)==Id)}function Hu(r){return typeof r>"u"?null:jw(r)}function Xw(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(s[c]=r[c]);return s}function ms(r){if(r!==null)return JSON.parse(r)}function lo(r){return r||Math.floor(1e9*Math.random()).toString()}function Qw(r){return r=r||tn(),!(ps(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function Yw(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function _i(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=tn(),s=Mr(),this.b=Hw(r)||s==="ReactNative"}_i.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Gc()||gs()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Sd(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function sC(){var r=f.document,s=null;return Sd()||!r?Ie():new $e(function(c){s=function(){Sd()&&(r.removeEventListener("visibilitychange",s,!1),c())},r.addEventListener("visibilitychange",s,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",s,!1),c})}function Ku(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function Jw(){return!(!_t("fireauth.oauthhelper",f)&&!_t("fireauth.iframe",f))}function uC(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function aC(){var r=f.navigator;return r&&r.serviceWorker?Ie().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):Ie(null)}var Zw={};function Ad(r){Zw[r]||(Zw[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var kd;try{var Rd={};Object.defineProperty(Rd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Rd,"abcd",{configurable:!0,enumerable:!0,value:2}),kd=Rd.abcd==2}catch{kd=!1}function de(r,s,c){kd?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}):r[s]=c}function wn(r,s){if(s)for(var c in s)s.hasOwnProperty(c)&&de(r,c,s[c])}function Fr(r){var s={};return wn(s,r),s}function cC(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);return s}function lC(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var c=0;c<s.length;c++){var h=r[s[c]];if(h==null||h==="")return!1}return!0}function Cd(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var c in r)de(s,c,Cd(r[c]))}return s}function Nd(r){var s=r&&(r[Dd]?"phone":null);if(s&&r&&r[Pd]){de(this,"uid",r[Pd]),de(this,"displayName",r[eb]||null);var c=null;r[Od]&&(c=new Date(r[Od]).toUTCString()),de(this,"enrollmentTime",c),de(this,"factorId",s)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}Nd.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function xd(r){try{var s=new zu(r)}catch{s=null}return s}var eb="displayName",Od="enrolledAt",Pd="mfaEnrollmentId",Dd="phoneInfo";function zu(r){Nd.call(this,r),de(this,"phoneNumber",r[Dd])}z(zu,Nd),zu.prototype.w=function(){var r=zu.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function fC(r){var s={},c=r[hC],h=r[pC],v=r[vC];if(r=xd(r[dC]),!v||v!=Wc&&v!=Gu&&!c||v==Gu&&!h||v==Ld&&!r)throw Error("Invalid checkActionCode response!");v==Gu?(s[nb]=c||null,s[rb]=c||null,s[tb]=h):(s[nb]=h||null,s[rb]=h||null,s[tb]=c||null),s[gC]=r||null,de(this,yC,v),de(this,mC,Cd(s))}var Ld="REVERT_SECOND_FACTOR_ADDITION",Wc="EMAIL_SIGNIN",Gu="VERIFY_AND_CHANGE_EMAIL",hC="email",dC="mfaInfo",pC="newEmail",vC="requestType",tb="email",nb="fromEmail",gC="multiFactorInfo",rb="previousEmail",mC="data",yC="operation";function Md(r){r=Pn(r);var s=or(r,ib)||null,c=or(r,ob)||null,h=or(r,sb)||null;if(h=h&&EC[h]||null,!s||!c||!h)throw new k("argument-error",ib+", "+ob+"and "+sb+" are required in a valid action code URL.");wn(this,{apiKey:s,operation:h,code:c,continueUrl:or(r,wC)||null,languageCode:or(r,bC)||null,tenantId:or(r,_C)||null})}var ib="apiKey",ob="oobCode",wC="continueUrl",bC="languageCode",sb="mode",_C="tenantId",EC={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Ld,signIn:Wc,verifyAndChangeEmail:Gu,verifyEmail:"VERIFY_EMAIL"};function ub(r){try{return new Md(r)}catch{return null}}function Xc(r){var s=r[IC];if(typeof s>"u")throw new k("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new k("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=r[ab];if(c&&typeof c=="object"){s=c[db];var h=c[fb];if(c=c[hb],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new k("argument-error",fb+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new k("argument-error",hb+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new k("argument-error",db+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new k("missing-android-pkg-name")}}else if(typeof c<"u")throw new k("argument-error",ab+" property must be a non null object when specified.");if(this.f=null,(s=r[lb])&&typeof s=="object"){if(s=s[pb],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new k("argument-error",pb+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new k("argument-error",lb+" property must be a non null object when specified.");if(s=r[Fd],typeof s<"u"&&typeof s!="boolean")throw new k("argument-error",Fd+" property must be a boolean when specified.");if(this.c=!!s,r=r[cb],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new k("argument-error",cb+" property must be a non empty string when specified.");this.i=r||null}var ab="android",cb="dynamicLinkDomain",Fd="handleCodeInApp",lb="iOS",IC="url",fb="installApp",hb="minimumVersion",db="packageName",pb="bundleId";function Qc(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var c in s)s[c]===null&&delete s[c];return s}function TC(r){return Ce(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var Wu=null;function SC(r){var s=[];return AC(r,function(c){s.push(c)}),s}function AC(r,s){function c(M){for(;h<r.length;){var W=r.charAt(h++),Oe=Wu[W];if(Oe!=null)return Oe;if(!/^[\s\xa0]*$/.test(W))throw Error("Unknown base64 encoding at char: "+W)}return M}kC();for(var h=0;;){var v=c(-1),y=c(0),w=c(64),E=c(64);if(E===64&&v===-1)break;s(v<<2|y>>4),w!=64&&(s(y<<4&240|w>>2),E!=64&&s(w<<6&192|E))}}function kC(){if(!Wu){Wu={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(s[c].split("")),v=0;v<h.length;v++){var y=h[v];Wu[y]===void 0&&(Wu[y]=v)}}}function Yc(r){var s=vb(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}Yc.prototype.T=function(){return this.f},Yc.prototype.l=function(){return this.c},Yc.prototype.toString=function(){return this.h};function Jc(r){try{return new Yc(r)}catch{return null}}function vb(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,c=0;c<s;c++)r+=".";try{var h=SC(r);for(r=[],c=s=0;s<h.length;){var v=h[s++];if(128>v)r[c++]=String.fromCharCode(v);else if(191<v&&224>v){var y=h[s++];r[c++]=String.fromCharCode((v&31)<<6|y&63)}else if(239<v&&365>v){y=h[s++];var w=h[s++],E=h[s++],M=((v&7)<<18|(y&63)<<12|(w&63)<<6|E&63)-65536;r[c++]=String.fromCharCode(55296+(M>>10)),r[c++]=String.fromCharCode(56320+(M&1023))}else y=h[s++],w=h[s++],r[c++]=String.fromCharCode((v&15)<<12|(y&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var gb="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Zc=["client_id","response_type","scope","redirect_uri","state"],Ud={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Zc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Zc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Zc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:gb},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function jd(r){for(var s in Ud)if(Ud[s].fa==r)return Ud[s];return null}function mb(r){var s={};s["facebook.com"]=wb,s["google.com"]=_b,s["github.com"]=bb,s["twitter.com"]=Eb;var c=r&&r[yb];try{if(c)return s[c]?new s[c](r):new Ur(r);if(typeof r[Vd]<"u")return new qd(r)}catch{}return null}var Vd="idToken",yb="providerId";function qd(r){var s=r[yb];if(!s&&r[Vd]){var c=Jc(r[Vd]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),de(this,"providerId",s),de(this,"isNewUser",c)}function Ur(r){qd.call(this,r),r=ms(r.rawUserInfo||"{}"),de(this,"profile",Cd(r||{}))}z(Ur,qd);function wb(r){if(Ur.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}z(wb,Ur);function bb(r){if(Ur.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");de(this,"username",this.profile&&this.profile.login||null)}z(bb,Ur);function _b(r){if(Ur.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}z(_b,Ur);function Eb(r){if(Ur.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");de(this,"username",r.screenName||null)}z(Eb,Ur);function Ib(r){var s=Pn(r),c=or(s,"link"),h=or(Pn(c),"link");return s=or(s,"deep_link_id"),or(Pn(s),"link")||s||h||c||r}function el(r,s){if(!r&&!s)throw new k("internal-error","Internal assert: no raw session string available");if(r&&s)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?Xu:tl}var Xu="enroll",tl="signin";el.prototype.Ha=function(){return this.a?Ie(this.a):Ie(this.b)},el.prototype.w=function(){return this.type==Xu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ys(){}ys.prototype.ka=function(){},ys.prototype.b=function(){},ys.prototype.c=function(){},ys.prototype.w=function(){};function ws(r,s){return r.then(function(c){if(c[yr]){var h=Jc(c[yr]);if(!h||s!=h.i)throw new k("user-mismatch");return c}throw new k("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==ot+"user-not-found"?new k("user-mismatch"):c})}function fo(r,s){if(s)this.a=s;else throw new k("internal-error","failed to construct a credential");de(this,"providerId",r),de(this,"signInMethod",r)}fo.prototype.ka=function(r){return fp(r,Bd(this))},fo.prototype.b=function(r,s){var c=Bd(this);return c.idToken=s,hp(r,c)},fo.prototype.c=function(r,s){return ws(dp(r,Bd(this)),s)};function Bd(r){return{pendingToken:r.a,requestUri:"http://localhost"}}fo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function RC(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new fo(r.providerId,r.pendingToken)}catch{}return null}function ei(r,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&de(this,"idToken",s.idToken),s.accessToken&&de(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&de(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)de(this,"accessToken",s.oauthToken),de(this,"secret",s.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");de(this,"providerId",r),de(this,"signInMethod",c)}ei.prototype.ka=function(r){return fp(r,$d(this))},ei.prototype.b=function(r,s){var c=$d(this);return c.idToken=s,hp(r,c)},ei.prototype.c=function(r,s){var c=$d(this);return ws(dp(r,c),s)};function $d(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:Mw(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}ei.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function CC(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new ei(r.providerId,s,r.signInMethod)}catch{}}return null}function ho(r,s){this.Qc=s||[],wn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(jd(r)||{}).Ja||null,this.pb=null}ho.prototype.Ka=function(r){return this.Jb=Ae(r),this};function Tb(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');ho.call(this,r,[])}z(Tb,ho);function zn(r){ho.call(this,r,Zc),this.a=[]}z(zn,ho),zn.prototype.Ca=function(r){return C(this.a,r)||this.a.push(r),this},zn.prototype.Rb=function(){return ne(this.a)},zn.prototype.credential=function(r,s){var c;if(S(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new ei(this.providerId,c,this.providerId)};function po(){zn.call(this,"facebook.com")}z(po,zn),de(po,"PROVIDER_ID","facebook.com"),de(po,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function Sb(r){if(!r)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return S(r)&&(s=r.accessToken),new po().credential({accessToken:s})}function vo(){zn.call(this,"github.com")}z(vo,zn),de(vo,"PROVIDER_ID","github.com"),de(vo,"GITHUB_SIGN_IN_METHOD","github.com");function Ab(r){if(!r)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return S(r)&&(s=r.accessToken),new vo().credential({accessToken:s})}function go(){zn.call(this,"google.com"),this.Ca("profile")}z(go,zn),de(go,"PROVIDER_ID","google.com"),de(go,"GOOGLE_SIGN_IN_METHOD","google.com");function kb(r,s){var c=r;return S(r)&&(c=r.idToken,s=r.accessToken),new go().credential({idToken:c,accessToken:s})}function bs(){ho.call(this,"twitter.com",gb)}z(bs,ho),de(bs,"PROVIDER_ID","twitter.com"),de(bs,"TWITTER_SIGN_IN_METHOD","twitter.com");function Rb(r,s){var c=r;if(S(c)||(c={oauthToken:r,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ei("twitter.com",c,"twitter.com")}function Ei(r,s,c){this.a=r,this.f=s,de(this,"providerId","password"),de(this,"signInMethod",c===sr.EMAIL_LINK_SIGN_IN_METHOD?sr.EMAIL_LINK_SIGN_IN_METHOD:sr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Ei.prototype.ka=function(r){return this.signInMethod==sr.EMAIL_LINK_SIGN_IN_METHOD?He(r,dN,{email:this.a,oobCode:this.f}):He(r,n0,{email:this.a,password:this.f})},Ei.prototype.b=function(r,s){return this.signInMethod==sr.EMAIL_LINK_SIGN_IN_METHOD?He(r,pN,{idToken:s,email:this.a,oobCode:this.f}):He(r,t0,{idToken:s,email:this.a,password:this.f})},Ei.prototype.c=function(r,s){return ws(this.ka(r),s)},Ei.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function NC(r){return r&&r.email&&r.password?new Ei(r.email,r.password,r.signInMethod):null}function sr(){wn(this,{providerId:"password",isOAuthProvider:!1})}function Cb(r,s){if(s=Hd(s),!s)throw new k("argument-error","Invalid email link!");return new Ei(r,s.code,sr.EMAIL_LINK_SIGN_IN_METHOD)}function Hd(r){return r=Ib(r),(r=ub(r))&&r.operation===Wc?r:null}wn(sr,{PROVIDER_ID:"password"}),wn(sr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),wn(sr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Ii(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new k("internal-error");this.a=r,de(this,"providerId","phone"),this.fa="phone",de(this,"signInMethod","phone")}Ii.prototype.ka=function(r){return r.gb(Qu(this))},Ii.prototype.b=function(r,s){var c=Qu(this);return c.idToken=s,He(r,DN,c)},Ii.prototype.c=function(r,s){var c=Qu(this);return c.operation="REAUTH",r=He(r,LN,c),ws(r,s)},Ii.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function xC(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(s[c]=r[c])}),new Ii(s)}return null}function Qu(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function ti(r){try{this.a=r||ke.auth()}catch{throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}wn(this,{providerId:"phone",isOAuthProvider:!1})}ti.prototype.gb=function(r,s){var c=this.a.a;return Ie(s.verify()).then(function(h){if(typeof h!="string")throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var v=S(r)?r.session:null,y=S(r)?r.phoneNumber:r,w;return v&&v.type==Xu?w=v.Ha().then(function(E){return iN(c,{idToken:E,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:h}})}):v&&v.type==tl?w=v.Ha().then(function(E){return oN(c,{mfaPendingCredential:E,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=rN(c,{phoneNumber:y,recaptchaToken:h}),w.then(function(E){return typeof s.reset=="function"&&s.reset(),E},function(E){throw typeof s.reset=="function"&&s.reset(),E});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Nb(r,s){if(!r)throw new k("missing-verification-id");if(!s)throw new k("missing-verification-code");return new Ii({fb:r,eb:s})}wn(ti,{PROVIDER_ID:"phone"}),wn(ti,{PHONE_SIGN_IN_METHOD:"phone"});function Kd(r){if(r.temporaryProof&&r.phoneNumber)return new Ii({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,v=r&&r.nonce,y=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(s){case"google.com":return kb(y,c);case"facebook.com":return Sb(c);case"github.com":return Ab(c);case"twitter.com":return Rb(c,h);default:return c||h||y||w?w?s.indexOf("saml.")==0?new fo(s,w):new ei(s,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new zn(s).credential({idToken:y,accessToken:c,rawNonce:v}):null}}catch{return null}}function zd(r){if(!r.isOAuthProvider)throw new k("invalid-oauth-provider")}function gr(r,s,c,h,v,y,w){if(this.c=r,this.b=s||null,this.g=c||null,this.f=h||null,this.i=y||null,this.h=w||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}gr.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},gr.prototype.T=function(){return this.h},gr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function xb(r){return r=r||{},r.type?new gr(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&Xe(r.error),r.postBody,r.tenantId):null}function OC(){this.b=null,this.a=[]}var Gd=null;function PC(r){var s=Gd;s.a.push(r),s.b||(s.b=function(c){for(var h=0;h<s.a.length;h++)s.a[h](c)},r=_t("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function Wd(r){var s="unauthorized-domain",c=void 0,h=Pn(r);r=h.a,h=h.c,h=="chrome-extension"?c=tw("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=tw("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",k.call(this,s,c)}z(Wd,k);function Yu(r,s,c){k.call(this,r,c),r=s||{},r.Kb&&de(this,"email",r.Kb),r.ea&&de(this,"phoneNumber",r.ea),r.credential&&de(this,"credential",r.credential),r.$b&&de(this,"tenantId",r.$b)}z(Yu,k),Yu.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&qe(r,s),r},Yu.prototype.toJSON=function(){return this.w()};function nl(r){if(r.code){var s=r.code||"";s.indexOf(ot)==0&&(s=s.substring(ot.length));var c={credential:Kd(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new k(s,r.message||void 0);return new Yu(s,c,r.message)}return null}function Ju(){}Ju.prototype.c=null;function Ob(r){return r.c||(r.c=r.b())}var Xd;function rl(){}z(rl,Ju),rl.prototype.a=function(){var r=Pb(this);return r?new ActiveXObject(r):new XMLHttpRequest},rl.prototype.b=function(){var r={};return Pb(this)&&(r[0]=!0,r[1]=!0),r};function Pb(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var h=s[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}Xd=new rl;function il(){}z(il,Ju),il.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new Db;throw Error("Unsupported browser")},il.prototype.b=function(){return{}};function Db(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=U(this.qc,this),this.a.onerror=U(this.Tb,this),this.a.onprogress=U(this.rc,this),this.a.ontimeout=U(this.vc,this)}e=Db.prototype,e.open=function(r,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,s)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Qd(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Qd(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Qd(this,1)};function Qd(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Yd(r,s,c){this.reset(r,s,c,void 0,void 0)}Yd.prototype.a=null,Yd.prototype.reset=function(r,s,c,h,v){delete this.a};function Jd(r){this.f=r,this.b=this.c=this.a=null}function Zu(r,s){this.name=r,this.value=s}Zu.prototype.toString=function(){return this.name};var Lb=new Zu("SEVERE",1e3),Zd=new Zu("WARNING",900),DC=new Zu("CONFIG",700),LC=new Zu("FINE",500);function Mb(r){return r.c?r.c:r.a?Mb(r.a):(Ot("Root logger has no level set."),null)}Jd.prototype.log=function(r,s,c){if(r.value>=Mb(this).value)for(T(s)&&(s=s()),r=new Yd(r,String(s),this.f),c&&(r.a=c),c=this;c;)c=c.a};var ep={},ol=null;function tp(r){ol||(ol=new Jd(""),ep[""]=ol,ol.c=DC);var s;if(!(s=ep[r])){s=new Jd(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=tp(r.substr(0,c)),c.b||(c.b={}),c.b[h]=s,s.a=c,ep[r]=s}return s}function ur(r,s){r&&r.log(LC,s,void 0)}function sl(r){this.f=r}z(sl,Ju),sl.prototype.a=function(){return new ul(this.f)},sl.prototype.b=function(r){return function(){return r}}({});function ul(r){yn.call(this),this.u=r,this.h=void 0,this.readyState=np,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=tp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}z(ul,yn);var np=0;e=ul.prototype,e.open=function(r,s){if(this.readyState!=np)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,ta(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,ea(this)),this.readyState=np},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,ta(this)),this.a&&(this.readyState=3,ta(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,Fb(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Fb(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?ea(this):ta(this),this.readyState==3&&Fb(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,ea(this))},e.sc=function(r){this.a&&(this.response=r,ea(this))},e.Va=function(r){var s=this.i;s&&s.log(Zd,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&ea(this)};function ea(r){r.readyState=4,r.g=null,r.c=null,r.m=null,ta(r)}e.setRequestHeader=function(r,s){this.l.append(r,s)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(Zd,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(Zd,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function ta(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(ul.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function na(r){yn.call(this),this.headers=new hs,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ub,this.u=this.S=!1}z(na,yn);var Ub="";na.prototype.b=tp("goog.net.XhrIo");var MC=/^https?$/i,FC=["POST","PUT"];function UC(r,s,c,h,v){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);c=c?c.toUpperCase():"GET",r.l=s,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():Xd.a(),r.C=r.D?Ob(r.D):Ob(Xd),r.a.onreadystatechange=U(r.Wb,r);try{ur(r.b,ni(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(s),!0),r.N=!1}catch(w){ur(r.b,ni(r,"Error opening Xhr: "+w.message)),jb(r,w);return}s=h||"";var y=new hs(r.headers);v&&HR(v,function(w,E){y.set(E,w)}),v=A(y.Y()),h=f.FormData&&s instanceof f.FormData,!C(FC,c)||v||h||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(w,E){this.a.setRequestHeader(E,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{Bb(r),0<r.g&&(r.u=jC(r.a),ur(r.b,ni(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=U(r.Ma,r)):r.s=vd(r.Ma,r.g,r)),ur(r.b,ni(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(w){ur(r.b,ni(r,"Send error: "+w.message)),jb(r,w)}}function jC(r){return pr&&ow(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function VC(r){return r.toLowerCase()=="content-type"}e=na.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ur(this.b,ni(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function jb(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,Vb(r),al(r)}function Vb(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(ur(this.b,ni(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),al(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),al(this,!0)),na.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?qb(this):this.Jc())},e.Jc=function(){qb(this)};function qb(r){if(r.c&&typeof l<"u"){if(r.C[1]&&ra(r)==4&&cl(r)==2)ur(r.b,ni(r,"Local request error detected and ignored"));else if(r.i&&ra(r)==4)vd(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),ra(r)==4){ur(r.b,ni(r,"Request complete")),r.c=!1;try{var s=cl(r);e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var h;if(!(h=c)){var v;if(v=s===0){var y=String(r.l).match(Dw)[1]||null;if(!y&&f.self&&f.self.location){var w=f.self.location.protocol;y=w.substr(0,w.length-1)}v=!MC.test(y?y.toLowerCase():"")}h=v}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var E=2<ra(r)?r.a.statusText:""}catch(M){ur(r.b,"Can not get status: "+M.message),E=""}r.h=E+" ["+cl(r)+"]",Vb(r)}}finally{al(r)}}}}function al(r,s){if(r.a){Bb(r);var c=r.a,h=r.C[0]?m:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(v){(r=r.b)&&r.log(Lb,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function Bb(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function ra(r){return r.a?r.a.readyState:0}function cl(r){try{return 2<ra(r)?r.a.status:-1}catch{return-1}}function qC(r){try{return r.a?r.a.responseText:""}catch(s){return ur(r.b,"Can not get responseText: "+s.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ub:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(Lb,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return ur(this.b,"Can not get response: "+s.message),null}};function ni(r,s){return s+" ["+r.P+" "+r.l+" "+cl(r)+"]"}function mo(r){var s=HC;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}mo.prototype.cancel=function(r){if(this.a)this.c instanceof mo&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new oa,ll(this),ia(this,!1,r))}},mo.prototype.m=function(r,s){this.i=!1,ia(this,r,s)};function ia(r,s,c){r.a=!0,r.c=c,r.f=!s,Hb(r)}function ll(r){if(r.a){if(!r.v)throw new fl;r.v=!1}}function BC(r,s){rp(r,null,s,void 0)}function rp(r,s,c,h){r.g.push([s,c,h]),r.a&&Hb(r)}mo.prototype.then=function(r,s,c){var h,v,y=new $e(function(w,E){h=w,v=E});return rp(this,h,function(w){w instanceof oa?y.cancel():v(w)}),y.then(r,s,c)},mo.prototype.$goog_Thenable=!0;function $b(r){return I(r.g,function(s){return T(s[1])})}function Hb(r){if(r.h&&r.a&&$b(r)){var s=r.h,c=hl[s];c&&(f.clearTimeout(c.a),delete hl[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=c=!1;r.g.length&&!r.i;){var v=r.g.shift(),y=v[0],w=v[1];if(v=v[2],y=r.f?w:y)try{var E=y.call(v||r.s,s);E!==void 0&&(r.f=r.f&&(E==s||E instanceof Error),r.c=s=E),(De(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(M){s=M,r.f=!0,$b(r)||(c=!0)}}r.c=s,h&&(E=U(r.m,r,!0),h=U(r.m,r,!1),s instanceof mo?(rp(s,E,h),s.C=!0):s.then(E,h)),c&&(s=new Kb(s),hl[s.a]=s,r.h=s.a)}function fl(){_e.call(this)}z(fl,_e),fl.prototype.message="Deferred has already fired",fl.prototype.name="AlreadyCalledError";function oa(){_e.call(this)}z(oa,_e),oa.prototype.message="Deferred was canceled",oa.prototype.name="CanceledError";function Kb(r){this.a=f.setTimeout(U(this.c,this),0),this.b=r}Kb.prototype.c=function(){throw delete hl[this.a],this.b};var hl={};function ip(r){var s={},c=s.document||document,h=as(r).toString(),v=Fc(document,"SCRIPT"),y={Xb:v,Ma:void 0},w=new mo(y),E=null,M=s.timeout!=null?s.timeout:5e3;return 0<M&&(E=window.setTimeout(function(){dl(v,!0);var W=new op(zC,"Timeout reached for loading script "+h);ll(w),ia(w,!1,W)},M),y.Ma=E),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(dl(v,s.xd||!1,E),ll(w),ia(w,!0,null))},v.onerror=function(){dl(v,!0,E);var W=new op(KC,"Error while loading script "+h);ll(w),ia(w,!1,W)},y=s.attributes||{},qe(y,{type:"text/javascript",charset:"UTF-8"}),uw(v,y),_R(v,r),$C(c).appendChild(v),w}function $C(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function HC(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&dl(r,!0,this.Ma)}}function dl(r,s,c){c!=null&&f.clearTimeout(c),r.onload=m,r.onerror=m,r.onreadystatechange=m,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var KC=0,zC=1;function op(r,s){var c="Jsloader error (code #"+r+")";s&&(c+=": "+s),_e.call(this,c),this.code=r}z(op,_e);function pl(r){this.f=r}z(pl,Ju),pl.prototype.a=function(){return new this.f},pl.prototype.b=function(){return{}};function mr(r,s,c){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||GC,this.g=Ae(r.secureTokenHeaders||WC),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||XC,this.a=Ae(r.firebaseHeaders||QC),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Mr()=="Node",c=f.XMLHttpRequest||c&&ke.INTERNAL.node&&ke.INTERNAL.node.XMLHttpRequest,!c&&!vr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,vr()?this.f=new sl(self):zw()?this.f=new pl(c):this.f=new il,this.b=null}var sp,yr="idToken",GC=new _i(3e4,6e4),WC={"Content-Type":"application/x-www-form-urlencoded"},XC=new _i(3e4,6e4),QC={"Content-Type":"application/json"};function zb(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function vl(r,s){s&&(r.l=up("https://securetoken.googleapis.com/v1/token",s),r.h=up("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=up("https://identitytoolkit.googleapis.com/v2/",s))}function up(r,s){return r=Pn(r),s=Pn(s.url),r.f=r.a+r.f,Uu(r,s.c),r.a=s.a,ju(r,s.g),r.toString()}function Gb(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}mr.prototype.T=function(){return this.b};function Wb(r,s,c,h,v,y,w){eC()||vr()?r=U(r.u,r):(sp||(sp=new $e(function(E,M){JC(E,M)})),r=U(r.s,r)),r(s,c,h,v,y,w)}mr.prototype.u=function(r,s,c,h,v,y){if(vr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new na(this.f);if(y){w.g=Math.max(0,y);var E=setTimeout(function(){w.dispatchEvent("timeout")},y)}xw(w,"complete",function(){E&&clearTimeout(E);var M=null;try{M=JSON.parse(qC(this))||null}catch{M=null}s&&s(M)}),pd(w,"ready",function(){E&&clearTimeout(E),Tw(this)}),pd(w,"timeout",function(){E&&clearTimeout(E),Tw(this),s&&s(null)}),UC(w,r,c,h,v)};var YC=new Be(Pr,"https://apis.google.com/js/client.js?onload=%{onload}"),Xb="__fcb"+Math.floor(1e6*Math.random()).toString();function JC(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[Xb]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var c=Qh(YC,{onload:Xb});BC(ip(c),function(){s(Error("CORS_UNSUPPORTED"))})}}mr.prototype.s=function(r,s,c,h,v){var y=this;sp.then(function(){window.gapi.client.setApiKey(y.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:v,authType:"none",callback:function(E){window.gapi.auth.setToken(w),s&&s(E)}})}).o(function(w){s&&s({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function ZC(r,s){return new $e(function(c,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?Wb(r,r.l+"?key="+encodeURIComponent(r.c),function(v){v?v.error?h(vp(v)):v.access_token&&v.refresh_token?c(v):h(new k("internal-error")):h(new k("network-request-failed"))},"POST",Mw(s).toString(),r.g,r.m.get()):h(new k("internal-error"))})}function Qb(r,s,c,h,v,y,w){var E=Pn(s+c);Pt(E,"key",r.c),w&&Pt(E,"cb",Date.now().toString());var M=h=="GET";if(M)for(var W in v)v.hasOwnProperty(W)&&Pt(E,W,v[W]);return new $e(function(Oe,st){Wb(r,E.toString(),function(et){et?et.error?st(vp(et,y||{})):Oe(et):st(new k("network-request-failed"))},h,M?void 0:jw(Xw(v)),r.a,r.v.get())})}function yo(r){if(r=r.email,typeof r!="string"||!rC.test(r))throw new k("invalid-email")}function Yb(r){"email"in r&&yo(r)}function eN(r,s){return He(r,lN,{identifier:s,continueUri:Gc()?Bu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function tN(r){return He(r,EN,{}).then(function(s){return s.authorizedDomains||[]})}function Dn(r){if(!r[yr])throw r.mfaPendingCredential?new k("multi-factor-auth-required",null,Ae(r)):new k("internal-error")}function ap(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new k("internal-error")}else{if(!r.sessionInfo)throw new k("missing-verification-id");if(!r.code)throw new k("missing-verification-code")}}mr.prototype.Ab=function(){return He(this,AN,{})},mr.prototype.Cb=function(r,s){return He(this,e0,{idToken:r,email:s})},mr.prototype.Db=function(r,s){return He(this,t0,{idToken:r,password:s})};var nN={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=mr.prototype,e.Eb=function(r,s){var c={idToken:r},h=[];return Se(nN,function(v,y){var w=s[y];w===null?h.push(v):y in s&&(c[y]=w)}),h.length&&(c.deleteAttribute=h),He(this,e0,c)},e.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},qe(r,s),He(this,_N,r)},e.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},qe(r,s),He(this,yN,r)},e.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},qe(r,s),He(this,wN,r)},e.Fb=function(r,s,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},qe(r,c),He(this,bN,r)};function rN(r,s){return He(r,SN,s)}e.gb=function(r){return He(this,PN,r)};function iN(r,s){return He(r,kN,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function Jb(r){if(!r.phoneVerificationInfo)throw new k("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new k("missing-verification-code")}function oN(r,s){return He(r,RN,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function sN(r,s,c){return He(r,hN,{idToken:s,deleteProvider:c})}function cp(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new k("internal-error")}function lp(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new uo(r.postBody),yd(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function Zb(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=nl(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=nl(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=nl(r)):r.errorMessage&&(s=r0(r.errorMessage)),s)throw s;Dn(r)}function fp(r,s){return s.returnIdpCredential=!0,He(r,CN,s)}function hp(r,s){return s.returnIdpCredential=!0,He(r,xN,s)}function dp(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,He(r,NN,s)}function pp(r){if(!r.oobCode)throw new k("invalid-action-code")}e.ob=function(r,s){return He(this,TN,{oobCode:r,newPassword:s})},e.Sa=function(r){return He(this,aN,{oobCode:r})},e.kb=function(r){return He(this,uN,{oobCode:r})};var uN={endpoint:"setAccountInfo",A:pp,Z:"email",B:!0},aN={endpoint:"resetPassword",A:pp,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},B:!0},cN={endpoint:"signupNewUser",A:function(r){if(yo(r),!r.password)throw new k("weak-password")},G:Dn,V:!0,B:!0},lN={endpoint:"createAuthUri",B:!0},fN={endpoint:"deleteAccount",O:["idToken"]},hN={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new k("internal-error")}},dN={endpoint:"emailLinkSignin",O:["email","oobCode"],A:yo,G:Dn,V:!0,B:!0},pN={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:yo,G:Dn,V:!0},vN={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Jb,G:Dn,B:!0,Na:!0},gN={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Jb,G:Dn,B:!0,Na:!0},mN={endpoint:"getAccountInfo"},yN={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new k("internal-error");yo(r)},Z:"email",B:!0},wN={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new k("internal-error")},Z:"email",B:!0},bN={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},Z:"email",B:!0},_N={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new k("internal-error");yo(r)},Z:"email",B:!0},EN={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},IN={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new k("internal-error")}},TN={endpoint:"resetPassword",A:pp,Z:"email",B:!0},SN={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},e0={endpoint:"setAccountInfo",O:["idToken"],A:Yb,V:!0},t0={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(Yb(r),!r.password)throw new k("weak-password")},G:Dn,V:!0},AN={endpoint:"signupNewUser",G:Dn,V:!0,B:!0},kN={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new k("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},RN={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},CN={endpoint:"verifyAssertion",A:cp,Za:lp,G:Zb,V:!0,B:!0},NN={endpoint:"verifyAssertion",A:cp,Za:lp,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new k("user-not-found");if(r.errorMessage)throw r0(r.errorMessage);Dn(r)},V:!0,B:!0},xN={endpoint:"verifyAssertion",A:function(r){if(cp(r),!r.idToken)throw new k("internal-error")},Za:lp,G:Zb,V:!0},ON={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new k("invalid-custom-token")},G:Dn,V:!0,B:!0},n0={endpoint:"verifyPassword",A:function(r){if(yo(r),!r.password)throw new k("wrong-password")},G:Dn,V:!0,B:!0},PN={endpoint:"verifyPhoneNumber",A:ap,G:Dn,B:!0},DN={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new k("internal-error");ap(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",nl(r);Dn(r)}},LN={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ap,G:Dn,B:!0},MN={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[yr]^!!r.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function He(r,s,c){if(!lC(c,s.O))return bt(new k("internal-error"));var h=!!s.Na,v=s.Vb||"POST",y;return Ie(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?Qb(r,r.i,s.endpoint,v,c,s.Ib,s.mb||!1):Qb(r,r.h,s.endpoint,v,c,s.Ib,s.mb||!1)}).then(function(w){return y=w,s.Za?s.Za(c,y):y}).then(s.G).then(function(){if(!s.Z)return y;if(!(s.Z in y))throw new k("internal-error");return y[s.Z]})}function r0(r){return vp({error:{errors:[{message:r}],code:400,message:r}})}function vp(r,s){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new k(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},qe(h,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var v in h)if(c.indexOf(v)===0)return new k(h[v],s);return!s&&r&&(s=Hu(r)),new k("internal-error",s)}function FN(r){this.b=r,this.a=null,this.sb=UN(this)}function UN(r){return HN().then(function(){return new $e(function(s,c){_t("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:_t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function v(){clearTimeout(y),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},$N.get());h.ping(v).then(v,function(){c(Error("Network Error"))})})})})}function jN(r,s){return r.sb.then(function(){return new $e(function(c){r.a.send(s.type,s,c,_t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function VN(r,s){r.sb.then(function(){r.a.register("authEvent",s,_t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var qN=new Be(Pr,"https://apis.google.com/js/api.js?onload=%{onload}"),BN=new _i(3e4,6e4),$N=new _i(5e3,15e3),gl=null;function HN(){return gl||(gl=new $e(function(r,s){function c(){Yw(),_t("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){Yw(),s(Error("Network Error"))},timeout:BN.get()})}if(_t("gapi.iframes.Iframe"))r();else if(_t("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){_t("gapi.load")?c():s(Error("Network Error"))},h=Qh(qN,{onload:h}),Ie(ip(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw gl=null,r}))}function i0(r,s,c,h){this.l=r,this.h=s,this.i=c,this.g=h,this.f=null,this.g?(r=Pn(this.g.url),r=Kc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Kc("https",this.l,null,"/__/auth/iframe"),this.a=r,Pt(this.a,"apiKey",this.h),Pt(this.a,"appName",this.i),this.b=null,this.c=[]}i0.prototype.toString=function(){return this.f?Pt(this.a,"v",this.f):Lr(this.a.b,"v"),this.b?Pt(this.a,"eid",this.b):Lr(this.a.b,"eid"),this.c.length?Pt(this.a,"fw",this.c.join(",")):Lr(this.a.b,"fw"),this.a.toString()};function gp(r,s,c,h,v,y){this.u=r,this.s=s,this.c=c,this.m=h,this.v=y,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}gp.prototype.zb=function(r){return this.h=r,this},gp.prototype.toString=function(){if(this.v){var r=Pn(this.v.url);r=Kc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Kc("https",this.u,null,"/__/auth/handler");if(Pt(r,"apiKey",this.s),Pt(r,"appName",this.c),Pt(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=ke.app(this.c).auth().la()}catch{c=null}s.pb=c,Pt(r,"providerId",this.a.providerId),c=this.a,s=Xw(c.Jb);for(var h in s)s[h]=s[h].toString();h=c.Qc,s=Ae(s);for(var v=0;v<h.length;v++){var y=h[v];y in s&&delete s[y]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),pe(s)||Pt(r,"customParameters",Hu(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Pt(r,"scopes",c.join(","))),this.l?Pt(r,"redirectUrl",this.l):Lr(r.b,"redirectUrl"),this.g?Pt(r,"eventId",this.g):Lr(r.b,"eventId"),this.i?Pt(r,"v",this.i):Lr(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!or(r,w)&&Pt(r,w,this.b[w]);return this.h?Pt(r,"tid",this.h):Lr(r.b,"tid"),this.f?Pt(r,"eid",this.f):Lr(r.b,"eid"),w=mp(this.c),w.length&&Pt(r,"fw",w.join(",")),r.toString()};function mp(r){try{return ke.app(r).auth().Ga()}catch{return[]}}function o0(r,s,c,h,v,y){this.s=r,this.g=s,this.b=c,this.f=y,this.c=h||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function s0(r){var s=Bu();return tN(r).then(function(c){e:{var h=Pn(s),v=h.c;h=h.a;for(var y=0;y<c.length;y++){var w=c[y],E=h,M=v;if(w.indexOf("chrome-extension://")==0?E=Pn(w).a==E&&M=="chrome-extension":M!="http"&&M!="https"?E=!1:nC.test(w)?E=E==w:(w=w.split(".").join("\\."),E=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(E)),E){c=!0;break e}}c=!1}if(!c)throw new Wd(Bu())})}function u0(r){return r.m||(r.m=zc().then(function(){if(!r.u){var s=r.c,c=r.i,h=mp(r.b),v=new i0(r.s,r.g,r.b,r.f);v.f=s,v.b=c,v.c=ne(h||[]),r.u=v.toString()}r.v=new FN(r.u),KN(r)})),r.m}e=o0.prototype,e.Pb=function(r,s,c){var h=new k("popup-closed-by-user"),v=new k("web-storage-unsupported"),y=this,w=!1;return this.ma().then(function(){zN(y).then(function(E){E||(r&&ao(r),s(v),w=!0)})}).o(function(){}).then(function(){if(!w)return tC(r)}).then(function(){if(!w)return fs(c).then(function(){s(h)})})},e.Yb=function(){var r=tn();return!$u(r)&&!Qw(r)},e.Ub=function(){return!1},e.Nb=function(r,s,c,h,v,y,w,E){if(!r)return bt(new k("popup-blocked"));if(w&&!$u())return this.ma().o(function(W){ao(r),v(W)}),h(),Ie();this.a||(this.a=s0(a0(this)));var M=this;return this.a.then(function(){var W=M.ma().o(function(Oe){throw ao(r),v(Oe),Oe});return h(),W}).then(function(){if(zd(c),!w){var W=sa(M.s,M.g,M.b,s,c,null,y,M.c,void 0,M.i,E,M.f);Bw(W,r)}}).o(function(W){throw W.code=="auth/network-request-failed"&&(M.a=null),W})};function a0(r){return r.l||(r.C=r.c?vs(r.c,mp(r.b)):null,r.l=new mr(r.g,Ze(r.i),r.C),r.f&&vl(r.l,r.f)),r.l}e.Ob=function(r,s,c,h){this.a||(this.a=s0(a0(this)));var v=this;return this.a.then(function(){zd(s);var y=sa(v.s,v.g,v.b,r,s,Bu(),c,v.c,void 0,v.i,h,v.f);Bw(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(v.a=null),y})},e.ma=function(){var r=this;return u0(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new k("network-request-failed")})},e.ac=function(){return!0};function sa(r,s,c,h,v,y,w,E,M,W,Oe,st){return r=new gp(r,s,c,h,v,st),r.l=y,r.g=w,r.i=E,r.b=Ae(M||null),r.f=W,r.zb(Oe).toString()}function KN(r){if(!r.v)throw Error("IfcHandler must be initialized!");VN(r.v,function(s){var c={};if(s&&s.authEvent){var h=!1;for(s=xb(s.authEvent),c=0;c<r.h.length;c++)h=r.h[c](s)||h;return c={},c.status=h?"ACK":"ERROR",Ie(c)}return c.status="ERROR",Ie(c)})}function zN(r){var s={type:"webStorageSupport"};return u0(r).then(function(){return jN(r.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){j(this.h,function(s){return s==r})};function c0(r){if(this.a=r||ke.INTERNAL.reactNative&&ke.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=c0.prototype,e.get=function(r){return Ie(this.a.getItem(r)).then(function(s){return s&&ms(s)})},e.set=function(r,s){return Ie(this.a.setItem(r,Hu(s)))},e.U=function(r){return Ie(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function l0(r){this.b=r,this.a={},this.f=U(this.c,this)}var f0=[];function GN(){var r=vr()?self:null;if(q(f0,function(c){c.b==r&&(s=c)}),!s){var s=new l0(r);f0.push(s)}return s}l0.prototype.c=function(r){var s=r.data.eventType,c=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var v=[];q(h,function(y){v.push(Ie().then(function(){return y(r.origin,r.data.data)}))}),vw(v).then(function(y){var w=[];q(y,function(E){w.push({fulfilled:E.Qb,value:E.value,reason:E.reason?E.reason.message:void 0})}),q(w,function(E){for(var M in E)typeof E[M]>"u"&&delete E[M]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:w})})}};function h0(r,s,c){pe(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(c)}function d0(r){this.a=r}d0.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function p0(r){this.c=r,this.b=!1,this.a=[]}function v0(r,s,c,h){var v,y=c||{},w,E,M,W=null;if(r.b)return bt(Error("connection_unavailable"));var Oe=h?800:50,st=typeof MessageChannel<"u"?new MessageChannel:null;return new $e(function(et,Yt){st?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),st.port1.start(),E=setTimeout(function(){Yt(Error("unsupported_event"))},Oe),w=function(ri){ri.data.eventId===v&&(ri.data.status==="ack"?(clearTimeout(E),M=setTimeout(function(){Yt(Error("timeout"))},3e3)):ri.data.status==="done"?(clearTimeout(M),typeof ri.data.response<"u"?et(ri.data.response):Yt(Error("unknown_error"))):(clearTimeout(E),clearTimeout(M),Yt(Error("invalid_response"))))},W={messageChannel:st,onMessage:w},r.a.push(W),st.port1.addEventListener("message",w),r.c.postMessage({eventType:s,eventId:v,data:y},[st.port2])):Yt(Error("connection_unavailable"))}).then(function(et){return yp(r,W),et}).o(function(et){throw yp(r,W),et})}function yp(r,s){if(s){var c=s.messageChannel,h=s.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),j(r.a,function(v){return v==s})}}p0.prototype.close=function(){for(;0<this.a.length;)yp(this,this.a[0]);this.b=!0};function g0(){if(!_p())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;vr()&&self?(this.v=GN(),h0(this.v,"keyChanged",function(s,c){return w0(r).then(function(h){return 0<h.length&&q(r.a,function(v){v(h)}),{keyProcessed:C(h,c.key)}})}),h0(this.v,"ping",function(){return Ie(["keyChanged"])})):aC().then(function(s){(r.h=s)&&(r.g=new p0(new d0(s)),v0(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&C(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var wp;function WN(r){return new $e(function(s,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(v){c(Error(v.target.error))}})}function m0(r){return new $e(function(s,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(v){try{v.preventDefault()}catch{}c(Error(v.target.error))},h.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},h.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?s(v):WN(r).then(function(){return m0(r)}).then(function(y){s(y)}).o(function(y){c(y)})}})}function bp(r){return r.i||(r.i=m0(r)),r.i}function ml(r,s){function c(v,y){bp(r).then(s).then(v).o(function(w){if(3<++h)y(w);else return bp(r).then(function(E){return E.close(),r.i=void 0,c(v,y)}).o(function(E){y(E)})})}var h=0;return new $e(c)}function _p(){try{return!!f.indexedDB}catch{return!1}}function ua(r){return r.objectStore("firebaseLocalStorage")}function aa(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function _s(r){return new $e(function(s,c){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){c(h.target.error)}})}e=g0.prototype,e.set=function(r,s){var c=this,h=!1;return ml(this,function(v){return v=ua(aa(v,!0)),_s(v.get(r))}).then(function(v){return ml(c,function(y){if(y=ua(aa(y,!0)),v)return v.value=s,_s(y.put(v));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=s,_s(y.add(w))})}).then(function(){return c.c[r]=s,y0(c,r)}).oa(function(){h&&c.b--})};function y0(r,s){return r.g&&r.h&&uC()===r.h?v0(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):Ie()}e.get=function(r){return ml(this,function(s){return _s(ua(aa(s,!1)).get(r))}).then(function(s){return s&&s.value})},e.U=function(r){var s=this,c=!1;return ml(this,function(h){return c=!0,s.b++,_s(ua(aa(h,!0)).delete(r))}).then(function(){return delete s.c[r],y0(s,r)}).oa(function(){c&&s.b--})};function w0(r){return bp(r).then(function(s){var c=ua(aa(s,!1));return c.getAll?_s(c.getAll()):new $e(function(h,v){var y=[],w=c.openCursor();w.onsuccess=function(E){(E=E.target.result)?(y.push(E.value),E.continue()):h(y)},w.onerror=function(E){v(E.target.error)}})}).then(function(s){var c={},h=[];if(r.b==0){for(h=0;h<s.length;h++)c[s[h].fbase_key]=s[h].value;h=$w(r.c,c),r.c=c}return h})}e.ca=function(r){this.a.length==0&&XN(this),this.a.push(r)},e.ia=function(r){j(this.a,function(s){return s==r}),this.a.length==0&&b0(this)};function XN(r){function s(){r.f=setTimeout(function(){r.l=w0(r).then(function(c){0<c.length&&q(r.a,function(h){h(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}b0(r),s()}function b0(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function _0(r){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Ie().then(function(){if(_p()){var h=lo(),v="__sak"+h;return wp||(wp=new g0),c=wp,c.set(v,h).then(function(){return c.get(v)}).then(function(y){if(y!==h)throw Error("indexedDB not supported!");return c.U(v)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(v){q(s.a,function(y){y(v)})}),h})}e=_0.prototype,e.get=function(r){return this.b.then(function(s){return s.get(r)})},e.set=function(r,s){return this.b.then(function(c){return c.set(r,s)})},e.U=function(r){return this.b.then(function(s){return s.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){j(this.a,function(s){return s==r})};function ca(){this.a={},this.type="inMemory"}e=ca.prototype,e.get=function(r){return Ie(this.a[r])},e.set=function(r,s){return this.a[r]=s,Ie()},e.U=function(r){return delete this.a[r],Ie()},e.ca=function(){},e.ia=function(){};function yl(){if(!QN())throw Mr()=="Node"?new k("internal-error","The LocalStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=E0()||ke.INTERNAL.node.localStorage,this.type="localStorage"}function E0(){try{var r=f.localStorage,s=lo();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function QN(){var r=Mr()=="Node";if(r=E0()||r&&ke.INTERNAL.node&&ke.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=yl.prototype,e.get=function(r){var s=this;return Ie().then(function(){var c=s.a.getItem(r);return ms(c)})},e.set=function(r,s){var c=this;return Ie().then(function(){var h=Hu(s);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var s=this;return Ie().then(function(){s.a.removeItem(r)})},e.ca=function(r){f.window&&ir(f.window,"storage",r)},e.ia=function(r){f.window&&Kn(f.window,"storage",r)};function Ep(){this.type="nullStorage"}e=Ep.prototype,e.get=function(){return Ie(null)},e.set=function(){return Ie()},e.U=function(){return Ie()},e.ca=function(){},e.ia=function(){};function Ip(){if(!YN())throw Mr()=="Node"?new k("internal-error","The SessionStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=I0()||ke.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function I0(){try{var r=f.sessionStorage,s=lo();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function YN(){var r=Mr()=="Node";if(r=I0()||r&&ke.INTERNAL.node&&ke.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=Ip.prototype,e.get=function(r){var s=this;return Ie().then(function(){var c=s.a.getItem(r);return ms(c)})},e.set=function(r,s){var c=this;return Ie().then(function(){var h=Hu(s);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var s=this;return Ie().then(function(){s.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function JN(){var r={};r.Browser=ZN,r.Node=ex,r.ReactNative=tx,r.Worker=nx,this.a=r[Mr()]}var Tp,ZN={F:yl,cb:Ip},ex={F:yl,cb:Ip},tx={F:c0,cb:Ep},nx={F:yl,cb:Ep},Es={rd:"local",NONE:"none",td:"session"};function rx(r){var s=new k("invalid-persistence-type"),c=new k("unsupported-persistence-type");e:{for(h in Es)if(Es[h]==r){var h=!0;break e}h=!1}if(!h||typeof r!="string")throw s;switch(Mr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!_p()&&r!=="none")throw c;break;default:if(!Td()&&r!=="none")throw c}}function T0(){var r=!!(!Qw(tn())&&Ed()),s=$u(),c=Td();this.m=r,this.h=s,this.l=c,this.a={},Tp||(Tp=new JN),r=Tp;try{this.g=!bd()&&Jw()||!f.indexedDB?new r.a.F:new _0(vr()?new ca:new r.a.F)}catch{this.g=new ca,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new ca}this.v=new ca,this.f=U(this.Zb,this),this.b={}}var Sp;function la(){return Sp||(Sp=new T0),Sp}function wo(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function Is(r,s){return"firebase:"+r.name+(s?":"+s:"")}function ix(r,s,c){var h=Is(s,c),v=wo(r,s.F);return r.get(s,c).then(function(y){var w=null;try{w=ms(f.localStorage.getItem(h))}catch{}if(w&&!y)return f.localStorage.removeItem(h),r.set(s,w,c);w&&y&&v.type!="localStorage"&&f.localStorage.removeItem(h)})}e=T0.prototype,e.get=function(r,s){return wo(this,r.F).get(Is(r,s))};function Ts(r,s,c){return c=Is(s,c),s.F=="local"&&(r.b[c]=null),wo(r,s.F).U(c)}e.set=function(r,s,c){var h=Is(r,c),v=this,y=wo(this,r.F);return y.set(h,s).then(function(){return y.get(h)}).then(function(w){r.F=="local"&&(v.b[h]=w)})},e.addListener=function(r,s,c){r=Is(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),pe(this.a)&&(wo(this,"local").ca(this.f),this.h||(bd()||!Jw())&&f.indexedDB||!this.l||ox(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,s,c){r=Is(r,s),this.a[r]&&(j(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),pe(this.a)&&(wo(this,"local").ia(this.f),Ap(this))};function ox(r){Ap(r),r.c=setInterval(function(){for(var s in r.a){var c=f.localStorage.getItem(s),h=r.b[s];c!=h&&(r.b[s]=c,c=new oo({type:"storage",key:s,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function Ap(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var v=f.localStorage.getItem(c);v!==h&&(this.b[c]=v,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?wo(this,"local").ia(this.f):Ap(this),this.m){if(c=f.localStorage.getItem(s),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var y=this;c=function(){(typeof r.a.a<"u"||y.b[s]!==f.localStorage.getItem(s))&&(y.b[s]=f.localStorage.getItem(s),y.nb(s))},pr&&yi&&yi==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else q(r,U(this.nb,this))},e.nb=function(r){this.a[r]&&q(this.a[r],function(s){s()})};function sx(r){this.a=r,this.b=la()}var kp={name:"authEvent",F:"local"};function ux(r){return r.b.get(kp,r.a).then(function(s){return xb(s)})}function ax(){this.a=la()}function cx(){this.b=-1}function wl(r,s){this.b=S0,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),bl===void 0&&(f.Int32Array?bl=new Int32Array(R0):bl=R0),this.reset()}var bl;z(wl,cx);for(var S0=64,lx=S0-1,A0=[],Rp=0;Rp<lx;Rp++)A0[Rp]=0;var k0=G(128,A0);wl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):ne(this.h)};function Cp(r){for(var s=r.f,c=r.l,h=0,v=0;v<s.length;)c[h++]=s[v]<<24|s[v+1]<<16|s[v+2]<<8|s[v+3],v=4*h;for(s=16;64>s;s++){v=c[s-15]|0,h=c[s-2]|0;var y=(c[s-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,w=(c[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[s]=y+w|0}h=r.a[0]|0,v=r.a[1]|0;var E=r.a[2]|0,M=r.a[3]|0,W=r.a[4]|0,Oe=r.a[5]|0,st=r.a[6]|0;for(y=r.a[7]|0,s=0;64>s;s++){var et=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&v^h&E^v&E)|0;w=W&Oe^~W&st,y=y+((W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7))|0,w=w+(bl[s]|0)|0,w=y+(w+(c[s]|0)|0)|0,y=st,st=Oe,Oe=W,W=M+w|0,M=E,E=v,v=h,h=w+et|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+v|0,r.a[2]=r.a[2]+E|0,r.a[3]=r.a[3]+M|0,r.a[4]=r.a[4]+W|0,r.a[5]=r.a[5]+Oe|0,r.a[6]=r.a[6]+st|0,r.a[7]=r.a[7]+y|0}function Np(r,s,c){c===void 0&&(c=s.length);var h=0,v=r.c;if(typeof s=="string")for(;h<c;)r.f[v++]=s.charCodeAt(h++),v==r.b&&(Cp(r),v=0);else if(_(s))for(;h<c;){var y=s[h++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");r.f[v++]=y,v==r.b&&(Cp(r),v=0)}else throw Error("message must be string or array");r.c=v,r.g+=c}var R0=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C0(){wl.call(this,8,fx)}z(C0,wl);var fx=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function N0(r,s,c,h,v,y){this.v=r,this.i=s,this.l=c,this.m=h||null,this.u=v||null,this.s=y,this.h=s+":"+c,this.C=new ax,this.g=new sx(this.h),this.f=null,this.b=[],this.a=this.c=null}function _l(r){return new k("invalid-cordova-configuration",r)}e=N0.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=iC().then(function(){if(typeof _t("universalLinks.subscribe",f)!="function")throw _l("cordova-universal-links-plugin-fix is not installed");if(typeof _t("BuildInfo.packageName",f)>"u")throw _l("cordova-plugin-buildinfo is not installed");if(typeof _t("cordova.plugins.browsertab.openUrl",f)!="function")throw _l("cordova-plugin-browsertab is not installed");if(typeof _t("cordova.InAppBrowser.open",f)!="function")throw _l("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})};function hx(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function dx(r){var s=new C0;Np(s,r),r=[];var c=8*s.g;56>s.c?Np(s,k0,56-s.c):Np(s,k0,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=c&255,c/=256;for(Cp(s),h=c=0;h<s.i;h++)for(var v=24;0<=v;v-=8)r[c++]=s.a[h]>>v&255;return TC(r)}e.Pb=function(r,s){return s(new k("operation-not-supported-in-this-environment")),Ie()},e.Nb=function(){return bt(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,s,c,h){if(this.c)return bt(new k("redirect-operation-pending"));var v=this,y=f.document,w=null,E=null,M=null,W=null;return this.c=Ie().then(function(){return zd(s),O0(v)}).then(function(){return px(v,r,s,c,h)}).then(function(){return new $e(function(Oe,st){E=function(){var et=_t("cordova.plugins.browsertab.close",f);return Oe(),typeof et=="function"&&et(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(E),M=function(){w||(w=fs(2e3).then(function(){st(new k("redirect-cancelled-by-user"))}))},W=function(){Sd()&&M()},y.addEventListener("resume",M,!1),tn().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",W,!1)}).o(function(Oe){return xp(v).then(function(){throw Oe})})}).oa(function(){M&&y.removeEventListener("resume",M,!1),W&&y.removeEventListener("visibilitychange",W,!1),w&&w.cancel(),E&&v.Ta(E),v.c=null})};function px(r,s,c,h,v){var y=hx(),w=new gr(s,h,null,y,new k("no-auth-event"),null,v),E=_t("BuildInfo.packageName",f);if(typeof E!="string")throw new k("invalid-cordova-configuration");var M=_t("BuildInfo.displayName",f),W={};if(tn().toLowerCase().match(/iphone|ipad|ipod/))W.ibi=E;else if(tn().toLowerCase().match(/android/))W.apn=E;else return bt(new k("operation-not-supported-in-this-environment"));M&&(W.appDisplayName=M),y=dx(y),W.sessionId=y;var Oe=sa(r.v,r.i,r.l,s,c,null,h,r.m,W,r.u,v,r.s);return r.ma().then(function(){var st=r.h;return r.C.a.set(kp,w.w(),st)}).then(function(){var st=_t("cordova.plugins.browsertab.isAvailable",f);if(typeof st!="function")throw new k("invalid-cordova-configuration");var et=null;st(function(Yt){if(Yt){if(et=_t("cordova.plugins.browsertab.openUrl",f),typeof et!="function")throw new k("invalid-cordova-configuration");et(Oe)}else{if(et=_t("cordova.InAppBrowser.open",f),typeof et!="function")throw new k("invalid-cordova-configuration");Yt=tn(),r.a=et(Oe,Yt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Yt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function x0(r,s){for(var c=0;c<r.b.length;c++)try{r.b[c](s)}catch{}}function O0(r){return r.f||(r.f=r.ma().then(function(){return new $e(function(s){function c(h){return s(h),r.Ta(c),!1}r.Ea(c),vx(r)})})),r.f}function xp(r){var s=null;return ux(r.g).then(function(c){return s=c,c=r.g,Ts(c.b,kp,c.a)}).then(function(){return s})}function vx(r){function s(w){h=!0,v&&v.cancel(),xp(r).then(function(E){var M=c;if(E&&w&&w.url){var W=null;M=Ib(w.url),M.indexOf("/__/auth/callback")!=-1&&(W=Pn(M),W=ms(or(W,"firebaseError")||null),W=(W=typeof W=="object"?Xe(W):null)?new gr(E.c,E.b,null,null,W,null,E.T()):new gr(E.c,E.b,M,E.f,null,null,E.T())),M=W||c}x0(r,M)})}var c=new gr("unknown",null,null,null,new k("no-auth-event")),h=!1,v=fs(500).then(function(){return xp(r).then(function(){h||x0(r,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(_t("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:w}),typeof y=="function")try{y(w)}catch(E){console.error(E)}},Gd||(Gd=new OC),PC(s)}e.Ea=function(r){this.b.push(r),O0(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new gr("unknown",null,null,null,new k("no-auth-event")),r(s))})},e.Ta=function(r){j(this.b,function(s){return s==r})};function gx(r){this.a=r,this.b=la()}var Op={name:"pendingRedirect",F:"session"};function mx(r){return r.b.set(Op,"pending",r.a)}function Pp(r){return Ts(r.b,Op,r.a)}function yx(r){return r.b.get(Op,r.a).then(function(s){return s=="pending"})}function El(r,s,c,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=U(this.s,this),this.b=new Tl,this.C=new B0,this.g=new gx(j0(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=P0(this.D,this.v,this.m,se,this.J)}function P0(r,s,c,h,v){var y=ke.SDK_VERSION||null;return _d()?new N0(r,s,c,y,h,v):new o0(r,s,c,y,h,v)}El.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=P0(this.D,this.v,this.m,null,this.J),this.i={}};function D0(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(c){throw r.a==s&&r.reset(),c})}function L0(r){r.a.Yb()&&D0(r).o(function(s){var c=new gr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Lp(s)&&r.s(c)}),r.a.Ub()||V0(r.b)}function Il(r,s){C(r.h,s)||r.h.push(s),r.f||yx(r.g).then(function(c){c?Pp(r.g).then(function(){D0(r).o(function(h){var v=new gr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Lp(h)&&r.s(v)})}):L0(r)}).o(function(){L0(r)})}function Dp(r,s){j(r.h,function(c){return c==s})}El.prototype.s=function(r){if(!r)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return V0(this.b),s};var wx=new _i(2e3,1e4),bx=new _i(3e4,6e4);El.prototype.ra=function(){return this.b.ra()};function M0(r,s,c,h,v,y,w){return r.a.Nb(s,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},v,y,w)}function Lp(r){return!!(r&&r.code=="auth/cordova-not-ready")}function F0(r,s,c,h,v){var y;return mx(r.g).then(function(){return r.a.Ob(s,c,h,v).o(function(w){if(Lp(w))throw new k("operation-not-supported-in-this-environment");return y=w,Pp(r.g).then(function(){throw y})}).then(function(){return r.a.ac()?new $e(function(){}):Pp(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function U0(r,s,c,h,v){return r.a.Pb(h,function(y){s.na(c,null,y,v)},wx.get())}var Mp={};function j0(r,s,c){return r=r+":"+s,c&&(r=r+":"+c.url),r}function Fp(r,s,c,h){var v=j0(s,c,h);return Mp[v]||(Mp[v]=new El(r,s,c,h)),Mp[v]}function Tl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Tl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Tl.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,v=r.a&&r.a.code=="auth/web-storage-unsupported",y=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!y),c!="unknown"||v||y?r.a?(bo(this,!0,null,r.a),Ie()):s.Fa(c,h)?_x(this,r,s):bt(new k("invalid-auth-event")):(bo(this,!1,null,null),Ie())}else bt(new k("invalid-auth-event"))};function V0(r){r.g||(r.g=!0,bo(r,!1,null,null))}function Sl(r){r.g&&!r.i&&bo(r,!1,null,null)}function _x(r,s,c){c=c.Fa(s.c,s.b);var h=s.g,v=s.f,y=s.i,w=s.T(),E=!!s.c.match(/Redirect$/);c(h,v,w,y).then(function(M){bo(r,E,M,null)}).o(function(M){bo(r,E,null,M)})}function Ex(r,s){if(r.b=function(){return bt(s)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](s)}function q0(r,s){if(r.b=function(){return Ie(s)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](s)}function bo(r,s,c,h){s?h?Ex(r,h):q0(r,c):q0(r,{user:null}),r.f=[],r.c=[]}Tl.prototype.ra=function(){var r=this;return new $e(function(s,c){r.b?r.b().then(s,c):(r.f.push(s),r.c.push(c),Ix(r))})};function Ix(r){var s=new k("timeout");r.a&&r.a.cancel(),r.a=fs(bx.get()).then(function(){r.b||(r.g=!0,bo(r,!0,null,s))})}function B0(){}B0.prototype.h=function(r,s){if(r){var c=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),Ie()):s.Fa(c,h)?Tx(r,s):bt(new k("invalid-auth-event"))}else bt(new k("invalid-auth-event"))};function Tx(r,s){var c=r.b,h=r.c;s.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(v){s.na(h,v,null,c)}).o(function(v){s.na(h,null,v,c)})}function $0(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Up(r,s){this.a=s,de(this,"verificationId",r)}Up.prototype.confirm=function(r){return r=Nb(this.verificationId,r),this.a(r)};function jp(r,s,c,h){return new ti(r).gb(s,c).then(function(v){return new Up(v,h)})}function Sx(r){var s=vb(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");wn(this,{token:r,expirationTime:Ku(1e3*s.exp),authTime:Ku(1e3*s.auth_time),issuedAtTime:Ku(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function Vp(r,s,c){var h=s&&s[K0];if(!h)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=Ae(s),this.g=c,this.c=new el(null,h),this.b=[];var v=this;q(s[H0]||[],function(y){(y=xd(y))&&v.b.push(y)}),de(this,"auth",this.a),de(this,"session",this.c),de(this,"hints",this.b)}var H0="mfaInfo",K0="mfaPendingCredential";Vp.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(c){var h=Ae(s.f);return delete h[H0],delete h[K0],qe(h,c),s.g(h)})};function qp(r,s,c,h){k.call(this,"multi-factor-auth-required",h,s),this.b=new Vp(r,s,c),de(this,"resolver",this.b)}z(qp,k);function z0(r,s,c){if(r&&S(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new qp(s,r.serverResponse,c,r.message)}catch{}return null}function G0(){}G0.prototype.tb=function(r,s,c){return s.type==Xu?Ax(this,r,s,c):kx(this,r,s)};function Ax(r,s,c,h){return c.Ha().then(function(v){return v={idToken:v},typeof h<"u"&&(v.displayName=h),qe(v,{phoneVerificationInfo:Qu(r.a)}),He(s,vN,v)})}function kx(r,s,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},qe(h,{phoneVerificationInfo:Qu(r.a)}),He(s,gN,h)})}function Bp(r){de(this,"factorId",r.fa),this.a=r}z(Bp,G0);function W0(r){if(Bp.call(this,r),this.a.fa!=ti.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}z(W0,Bp);function Ss(r,s){On.call(this,r);for(var c in s)this[c]=s[c]}z(Ss,On);function $p(r,s){this.a=r,this.b=[],this.c=U(this.yc,this),ir(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&q(s.multiFactor.enrolledFactors,function(h){var v=null,y={};if(h){h.uid&&(y[Pd]=h.uid),h.displayName&&(y[eb]=h.displayName),h.enrollmentTime&&(y[Od]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(y[Dd]=h.phoneNumber);try{v=new zu(y)}catch{}h=v}else h=null;h&&c.push(h)}),Al(this,c)}function Rx(r){var s=[];return q(r.mfaInfo||[],function(c){(c=xd(c))&&s.push(c)}),s}e=$p.prototype,e.yc=function(r){Al(this,Rx(r.hd))};function Al(r,s){r.b=s,de(r,"enrolledFactors",s)}e.Sb=function(){return this.a.I().then(function(r){return new el(r,null)})},e.fc=function(r,s){var c=this,h=this.a.a;return this.Sb().then(function(v){return r.tb(h,v,s)}).then(function(v){return jr(c.a,v),c.a.reload()})},e.bd=function(r){var s=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(v){return He(h,MN,{idToken:v,mfaEnrollmentId:c})}).then(function(v){var y=ae(s.b,function(w){return w.uid!=c});return Al(s,y),jr(s.a,v),s.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:Ce(this.b,function(r){return r.w()})}}};function Hp(r,s,c){if(this.h=r,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Hp.prototype.start=function(){this.a=this.c,Kp(this,!0)};function Cx(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function Kp(r,s){r.stop(),r.b=fs(Cx(r,s)).then(function(){return sC()}).then(function(){return r.h()}).then(function(){Kp(r,!0)}).o(function(c){r.i(c)&&Kp(r,!1)})}Hp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function zp(r){this.f=r,this.b=this.a=null,this.c=Date.now()}zp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function X0(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function Q0(r,s){r.b=Jc(s[yr]||""),r.a=s.refreshToken,s=s.expiresIn,X0(r,typeof s<"u"?Number(s):void 0)}function Nx(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function xx(r,s){return ZC(r.f,s).then(function(c){return r.b=Jc(c.access_token),r.a=c.refresh_token,X0(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}zp.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?bt(new k("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?xx(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})};function kl(r,s){this.a=r||null,this.b=s||null,wn(this,{lastSignInTime:Ku(s||null),creationTime:Ku(r||null)})}function Ox(r){return new kl(r.a,r.b)}kl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function Px(r,s,c,h,v,y){wn(this,{uid:r,displayName:h||null,photoURL:v||null,email:c||null,phoneNumber:y||null,providerId:s})}function Gn(r,s,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=ke.SDK_VERSION?vs(ke.SDK_VERSION):null;this.a=new mr(this.l,Ze(se),h),(this.u=r.emulatorConfig||null)&&vl(this.a,this.u),this.h=new zp(this.a),Zp(this,s[yr]),Q0(this.h,s),de(this,"refreshToken",this.h.a),J0(this,c||{}),yn.call(this),this.P=!1,this.s&&co()&&(this.b=Fp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=Dx(this),this.ba=U(this.ib,this);var v=this;this.za=null,this.Pa=function(y){v.xa(y.h)},this.qa=null,this.Ba=function(y){Gp(v,y.c)},this.$=null,this.aa=[],this.Oa=function(y){fa(v,y.f)},this.ja=null,this.S=new $p(this,c),de(this,"multiFactor",this.S)}z(Gn,yn),Gn.prototype.xa=function(r){this.za=r,zb(this.a,r)};function Gp(r,s){r.u=s,vl(r.a,s),r.b&&(s=r.b,r.b=Fp(r.s,r.l,r.m,r.u),r.P&&(Dp(s,r),Il(r.b,r)))}Gn.prototype.la=function(){return this.za};function Wp(r,s){r.qa&&Kn(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&ir(s,"languageCodeChanged",r.Pa)}function Xp(r,s){r.$&&Kn(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&ir(s,"emulatorConfigChanged",r.Ba)}function fa(r,s){r.aa=s,Gb(r.a,ke.SDK_VERSION?vs(ke.SDK_VERSION,r.aa):null)}Gn.prototype.Ga=function(){return ne(this.aa)};function Qp(r,s){r.ja&&Kn(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&ir(s,"frameworkChanged",r.Oa)}Gn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Yp(r){try{return ke.app(r.m).auth()}catch{throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function Dx(r){return new Hp(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function Y0(r){r.J||r.D.b||(r.D.start(),Kn(r,"tokenChanged",r.ba),ir(r,"tokenChanged",r.ba))}function Jp(r){Kn(r,"tokenChanged",r.ba),r.D.stop()}function Zp(r,s){r.Aa=s,de(r,"_lat",s)}function Lx(r,s){j(r.W,function(c){return c==s})}function _o(r){for(var s=[],c=0;c<r.W.length;c++)s.push(r.W[c](r));return vw(s).then(function(){return r})}function ha(r){r.b&&!r.P&&(r.P=!0,Il(r.b,r))}function J0(r,s){wn(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new kl(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}de(Gn.prototype,"providerId","firebase");function Z0(){}function ev(r){return Ie().then(function(){if(r.J)throw new k("app-deleted")})}function tv(r){return Ce(r.providerData,function(s){return s.providerId})}function nv(r,s){s&&(e_(r,s.providerId),r.providerData.push(s))}function e_(r,s){j(r.providerData,function(c){return c.providerId==s})}function Ti(r,s,c){(s!="uid"||c)&&r.hasOwnProperty(s)&&de(r,s,c)}function Rl(r,s){r!=s&&(wn(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?de(r,"metadata",Ox(s.metadata)):de(r,"metadata",new kl),q(s.providerData,function(c){nv(r,c)}),Nx(r.h,s.h),de(r,"refreshToken",r.h.a),Al(r.S,s.S.b))}e=Gn.prototype,e.reload=function(){var r=this;return Kt(this,ev(this).then(function(){return rv(r).then(function(){return _o(r)}).then(Z0)}))};function rv(r){return r.I().then(function(s){var c=r.isAnonymous;return Mx(r,s).then(function(){return c||Ti(r,"isAnonymous",!1),s})})}e.oc=function(r){return this.I(r).then(function(s){return new Sx(s)})},e.I=function(r){var s=this;return Kt(this,ev(this).then(function(){return s.h.getToken(r)}).then(function(c){if(!c)throw new k("internal-error");return c.accessToken!=s.Aa&&(Zp(s,c.accessToken),s.dispatchEvent(new Ss("tokenChanged"))),Ti(s,"refreshToken",c.refreshToken),c.accessToken}))};function jr(r,s){s[yr]&&r.Aa!=s[yr]&&(Q0(r.h,s),r.dispatchEvent(new Ss("tokenChanged")),Zp(r,s[yr]),Ti(r,"refreshToken",r.h.a))}function Mx(r,s){return He(r.a,mN,{idToken:s}).then(U(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new k("internal-error");r=r[0],J0(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=Fx(r),c=0;c<s.length;c++)nv(this,s[c]);Ti(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Ss("userReloaded",{hd:r}))};function Fx(r){return(r=r.providerUserInfo)&&r.length?Ce(r,function(s){return new Px(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}e.Lc=function(r){return Ad("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var s=this,c=null;return Kt(this,r.c(this.a,this.uid).then(function(h){return jr(s,h),c=da(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function Cl(r,s){return rv(r).then(function(){if(C(tv(r),s))return _o(r).then(function(){throw new k("provider-already-linked")})})}e.Cc=function(r){return Ad("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var s=this,c=null;return Kt(this,Cl(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return c=da(s,h,"link"),t_(s,h)}).then(function(){return c}))},e.Dc=function(r,s){var c=this;return Kt(this,Cl(this,"phone").then(function(){return jp(Yp(c),r,s,U(c.rb,c))}))},e.Mc=function(r,s){var c=this;return Kt(this,Ie().then(function(){return jp(Yp(c),r,s,U(c.ub,c))}),!0)};function da(r,s,c){var h=Kd(s);return s=mb(s),Fr({user:r,credential:h,additionalUserInfo:s,operationType:c})}function t_(r,s){return jr(r,s),r.reload().then(function(){return r})}e.Cb=function(r){var s=this;return Kt(this,this.I().then(function(c){return s.a.Cb(c,r)}).then(function(c){return jr(s,c),s.reload()}))},e.ed=function(r){var s=this;return Kt(this,this.I().then(function(c){return r.b(s.a,c)}).then(function(c){return jr(s,c),s.reload()}))},e.Db=function(r){var s=this;return Kt(this,this.I().then(function(c){return s.a.Db(c,r)}).then(function(c){return jr(s,c),s.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return ev(this);var s=this;return Kt(this,this.I().then(function(c){return s.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return jr(s,c),Ti(s,"displayName",c.displayName||null),Ti(s,"photoURL",c.photoUrl||null),q(s.providerData,function(h){h.providerId==="password"&&(de(h,"displayName",s.displayName),de(h,"photoURL",s.photoURL))}),_o(s)}).then(Z0))},e.cd=function(r){var s=this;return Kt(this,rv(this).then(function(c){return C(tv(s),r)?sN(s.a,c,[r]).then(function(h){var v={};return q(h.providerUserInfo||[],function(y){v[y.providerId]=!0}),q(tv(s),function(y){v[y]||e_(s,y)}),v[ti.PROVIDER_ID]||de(s,"phoneNumber",null),_o(s)}):_o(s).then(function(){throw new k("no-such-provider")})}))},e.delete=function(){var r=this;return Kt(this,this.I().then(function(s){return He(r.a,fN,{idToken:s})}).then(function(){r.dispatchEvent(new Ss("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");Wp(r,null),Xp(r,null),Qp(r,null),r.N=[],r.J=!0,Jp(r),de(r,"refreshToken",null),r.b&&Dp(r.b,r)})},e.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},e.na=function(r,s,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?U(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?U(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?U(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?U(this.Mb,this):null},e.Ec=function(r){var s=this;return n_(this,"linkViaPopup",r,function(){return Cl(s,r.providerId).then(function(){return _o(s)})},!1)},e.Nc=function(r){return n_(this,"reauthViaPopup",r,function(){return Ie()},!0)};function n_(r,s,c,h,v){if(!co())return bt(new k("operation-not-supported-in-this-environment"));if(r.i&&!v)return bt(r.i);var y=jd(c.providerId),w=lo(r.uid+":::"),E=null;(!$u()||Ed())&&r.s&&c.isOAuthProvider&&(E=sa(r.s,r.l,r.m,s,c,null,w,ke.SDK_VERSION||null,null,null,r.tenantId,r.u));var M=Kw(E,y&&y.va,y&&y.ua);return h=h().then(function(){if(i_(r),!v)return r.I().then(function(){})}).then(function(){return M0(r.b,M,s,c,w,!!E,r.tenantId)}).then(function(){return new $e(function(W,Oe){r.na(s,null,new k("cancelled-popup-request"),r.g||null),r.f=W,r.C=Oe,r.g=w,r.c=U0(r.b,r,s,M,w)})}).then(function(W){return M&&ao(M),W?Fr(W):null}).o(function(W){throw M&&ao(M),W}),Kt(r,h,v)}e.Fc=function(r){var s=this;return r_(this,"linkViaRedirect",r,function(){return Cl(s,r.providerId)},!1)},e.Oc=function(r){return r_(this,"reauthViaRedirect",r,function(){return Ie()},!0)};function r_(r,s,c,h,v){if(!co())return bt(new k("operation-not-supported-in-this-environment"));if(r.i&&!v)return bt(r.i);var y=null,w=lo(r.uid+":::");return h=h().then(function(){if(i_(r),!v)return r.I().then(function(){})}).then(function(){return r.ga=w,_o(r)}).then(function(E){return r.ha&&(E=r.ha,E=E.b.set(iv,r.w(),E.a)),E}).then(function(){return F0(r.b,s,c,w,r.tenantId)}).o(function(E){if(y=E,r.ha)return s_(r.ha);throw y}).then(function(){if(y)throw y}),Kt(r,h,v)}function i_(r){if(!r.b||!r.P)throw r.b&&!r.P?new k("internal-error"):new k("auth-domain-config-required")}e.Lb=function(r,s,c,h){var v=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(w){return hp(v.a,{requestUri:r,postBody:h,sessionId:s,idToken:w})}).then(function(w){return y=da(v,w,"link"),t_(v,w)}).then(function(){return y}),Kt(this,c)},e.Mb=function(r,s,c,h){var v=this;this.c&&(this.c.cancel(),this.c=null);var y=null,w=Ie().then(function(){return ws(dp(v.a,{requestUri:r,sessionId:s,postBody:h,tenantId:c}),v.uid)}).then(function(E){return y=da(v,E,"reauthenticate"),jr(v,E),v.i=null,v.reload()}).then(function(){return y});return Kt(this,w,!0)},e.vb=function(r){var s=this,c=null;return Kt(this,this.I().then(function(h){return c=h,typeof r>"u"||pe(r)?{}:Qc(new Xc(r))}).then(function(h){return s.a.vb(c,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},e.Fb=function(r,s){var c=this,h=null;return Kt(this,this.I().then(function(v){return h=v,typeof s>"u"||pe(s)?{}:Qc(new Xc(s))}).then(function(v){return c.a.Fb(h,r,v)}).then(function(v){if(c.email!=v)return c.reload()}).then(function(){}))};function Kt(r,s,c){var h=Ux(r,s,c);return r.N.push(h),h.oa(function(){L(r.N,h)}),h.o(function(v){var y=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(y=z0(v.w(),Yp(r),U(r.jc,r))),y||v})}e.jc=function(r){var s=null,c=this;return r=ws(Ie(r),c.uid).then(function(h){return s=da(c,h,"reauthenticate"),jr(c,h),c.i=null,c.reload()}).then(function(){return s}),Kt(this,r,!0)};function Ux(r,s,c){return r.i&&!c?(s.cancel(),bt(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new Ss("userInvalidated")),r.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&qe(r,this.metadata.w()),q(this.providerData,function(s){r.providerData.push(cC(s))}),qe(r,this.S.w()),r};function o_(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[yr]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var v=new Gn(s,c,r);return r.providerData&&q(r.providerData,function(y){y&&nv(v,Fr(y))}),r.redirectEventId&&(v.ga=r.redirectEventId),v}function jx(r,s,c,h){var v=new Gn(r,s);return c&&(v.ha=c),h&&fa(v,h),v.reload().then(function(){return v})}function Vx(r,s,c,h){var v=r.h,y={};return y[yr]=v.b&&v.b.toString(),y.refreshToken=v.a,s=new Gn(s||{apiKey:r.l,authDomain:r.s,appName:r.m},y),c&&(s.ha=c),h&&fa(s,h),Rl(s,r),s}function qx(r){this.a=r,this.b=la()}var iv={name:"redirectUser",F:"session"};function s_(r){return Ts(r.b,iv,r.a)}function Bx(r,s){return r.b.get(iv,r.a).then(function(c){return c&&s&&(c.authDomain=s),o_(c||{})})}function ov(r){this.a=r,this.b=la(),this.c=null,this.f=$x(this),this.b.addListener(Vr("local"),this.a,U(this.g,this))}ov.prototype.g=function(){var r=this,s=Vr("local");As(this,function(){return Ie().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(c){if(c)return sv(r,"local").then(function(){r.c=s})})})};function sv(r,s){var c=[],h;for(h in Es)Es[h]!==s&&c.push(Ts(r.b,Vr(Es[h]),r.a));return c.push(Ts(r.b,uv,r.a)),OR(c)}function $x(r){var s=Vr("local"),c=Vr("session"),h=Vr("none");return ix(r.b,s,r.a).then(function(){return r.b.get(c,r.a)}).then(function(v){return v?c:r.b.get(h,r.a).then(function(y){return y?h:r.b.get(s,r.a).then(function(w){return w?s:r.b.get(uv,r.a).then(function(E){return E?Vr(E):s})})})}).then(function(v){return r.c=v,sv(r,v.F)}).o(function(){r.c||(r.c=s)})}var uv={name:"persistence",F:"session"};function Vr(r){return{name:"authUser",F:r}}ov.prototype.yb=function(r){var s=null,c=this;return rx(r),As(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return s=h,sv(c,r)}).then(function(){if(c.c=Vr(r),s)return c.b.set(c.c,s,c.a)}):Ie()})};function Hx(r){return As(r,function(){return r.b.set(uv,r.c.F,r.a)})}function u_(r,s){return As(r,function(){return r.b.set(r.c,s.w(),r.a)})}function a_(r){return As(r,function(){return Ts(r.b,r.c,r.a)})}function c_(r,s,c){return As(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&c&&(h.emulatorConfig=c),o_(h||{})})})}function As(r,s){return r.f=r.f.then(s,s),r.f}function wr(r){if(this.l=!1,de(this,"settings",new $0),de(this,"app",r),ct(this).options&&ct(this).options.apiKey)r=ke.SDK_VERSION?vs(ke.SDK_VERSION):null,this.a=new mr(ct(this).options&&ct(this).options.apiKey,Ze(se),r);else throw new k("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=ke.INTERNAL.createSubscribe(U(this.zc,this)),this.W=void 0,this.ib=ke.INTERNAL.createSubscribe(U(this.Ac,this)),ks(this,null),this.i=new ov(ct(this).options.apiKey+":"+ct(this).name),this.D=new qx(ct(this).options.apiKey+":"+ct(this).name),this.$=Nt(this,Qx(this)),this.h=Nt(this,Yx(this)),this.ba=!1,this.ja=U(this.Zc,this),this.Ba=U(this.da,this),this.qa=U(this.mc,this),this.za=U(this.wc,this),this.Aa=U(this.xc,this),this.b=null,Gx(this),this.INTERNAL={},this.INTERNAL.delete=U(this.delete,this),this.INTERNAL.logFramework=U(this.Gc,this),this.u=0,yn.call(this),zx(this),this.J=[],this.R=null}z(wr,yn);function l_(r){On.call(this,"languageCodeChanged"),this.h=r}z(l_,On);function f_(r){On.call(this,"emulatorConfigChanged"),this.c=r}z(f_,On);function h_(r){On.call(this,"frameworkChanged"),this.f=r}z(h_,On),e=wr.prototype,e.yb=function(r){return r=this.i.yb(r),Nt(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,zb(this.a,this.aa),this.dispatchEvent(new l_(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,Kx(s),this.R={url:r,ec:s},this.settings.jb=!0,vl(this.a,this.R),this.dispatchEvent(new f_(this.R))}};function Kx(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&zc().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}e.Gc=function(r){this.J.push(r),Gb(this.a,ke.SDK_VERSION?vs(ke.SDK_VERSION,this.J):null),this.dispatchEvent(new h_(this.J))},e.Ga=function(){return ne(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function zx(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=Pn(this.R.url);s=Fr({protocol:s.c,host:s.a,port:s.g,options:Fr({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}e.toJSON=function(){return{apiKey:ct(this).options.apiKey,authDomain:ct(this).options.authDomain,appName:ct(this).name,currentUser:Ue(this)&&Ue(this).w()}};function av(r){return r.Oa||bt(new k("auth-domain-config-required"))}function Gx(r){var s=ct(r).options.authDomain,c=ct(r).options.apiKey;s&&co()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Fp(s,c,ct(r).name,r.R),Il(r.b,r),Ue(r)&&ha(Ue(r)),r.m){ha(r.m);var h=r.m;h.xa(r.la()),Wp(h,r),h=r.m,fa(h,r.J),Qp(h,r),h=r.m,Gp(h,r.R),Xp(h,r),r.m=null}return r.b}}))}e.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},e.na=function(r,s,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?U(this.ic,this):null},e.ic=function(r,s,c,h){var v=this,y={requestUri:r,postBody:h,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return Eo(v,fp(v.a,y))})},e.Xc=function(r){if(!co())return bt(new k("operation-not-supported-in-this-environment"));var s=this,c=jd(r.providerId),h=lo(),v=null;(!$u()||Ed())&&ct(this).options.authDomain&&r.isOAuthProvider&&(v=sa(ct(this).options.authDomain,ct(this).options.apiKey,ct(this).name,"signInViaPopup",r,null,h,ke.SDK_VERSION||null,null,null,this.T(),this.R));var y=Kw(v,c&&c.va,c&&c.ua);return c=av(this).then(function(w){return M0(w,y,"signInViaPopup",r,h,!!v,s.T())}).then(function(){return new $e(function(w,E){s.na("signInViaPopup",null,new k("cancelled-popup-request"),s.g),s.f=w,s.C=E,s.g=h,s.c=U0(s.b,s,"signInViaPopup",y,h)})}).then(function(w){return y&&ao(y),w?Fr(w):null}).o(function(w){throw y&&ao(y),w}),Nt(this,c)},e.Yc=function(r){if(!co())return bt(new k("operation-not-supported-in-this-environment"));var s=this,c=av(this).then(function(){return Hx(s.i)}).then(function(){return F0(s.b,"signInViaRedirect",r,void 0,s.T())});return Nt(this,c)};function d_(r){if(!co())return bt(new k("operation-not-supported-in-this-environment"));var s=av(r).then(function(){return r.b.ra()}).then(function(c){return c?Fr(c):null});return Nt(r,s)}e.ra=function(){var r=this;return d_(this).then(function(s){return r.b&&Sl(r.b.b),s}).o(function(s){throw r.b&&Sl(r.b.b),s})},e.dd=function(r){if(!r)return bt(new k("null-user"));if(this.S!=r.tenantId)return bt(new k("tenant-id-mismatch"));var s=this,c={};c.apiKey=ct(this).options.apiKey,c.authDomain=ct(this).options.authDomain,c.appName=ct(this).name;var h=Vx(r,c,s.D,s.Ga());return Nt(this,this.h.then(function(){if(ct(s).options.apiKey!=r.l)return h.reload()}).then(function(){return Ue(s)&&r.uid==Ue(s).uid?(Rl(Ue(s),r),s.da(r)):(ks(s,h),ha(h),s.da(h))}).then(function(){pa(s)}))};function Wx(r,s){var c={};return c.apiKey=ct(r).options.apiKey,c.authDomain=ct(r).options.authDomain,c.appName=ct(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return jx(c,s,r.D,r.Ga())}).then(function(h){return Ue(r)&&h.uid==Ue(r).uid?(Rl(Ue(r),h),r.da(h)):(ks(r,h),ha(h),r.da(h))}).then(function(){pa(r)})}function ks(r,s){Ue(r)&&(Lx(Ue(r),r.Ba),Kn(Ue(r),"tokenChanged",r.qa),Kn(Ue(r),"userDeleted",r.za),Kn(Ue(r),"userInvalidated",r.Aa),Jp(Ue(r))),s&&(s.W.push(r.Ba),ir(s,"tokenChanged",r.qa),ir(s,"userDeleted",r.za),ir(s,"userInvalidated",r.Aa),0<r.u&&Y0(s)),de(r,"currentUser",s),s&&(s.xa(r.la()),Wp(s,r),fa(s,r.J),Qp(s,r),Gp(s,r.R),Xp(s,r))}e.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&Sl(r.b.b),Ue(r)?(ks(r,null),a_(r.i).then(function(){pa(r)})):Ie()});return Nt(this,s)};function Xx(r){var s=Bx(r.D,ct(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),s_(r.D)});return Nt(r,s)}function Qx(r){var s=ct(r).options.authDomain,c=Xx(r).then(function(){return c_(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return u_(r.i,h).then(function(){return h})}).o(function(v){return v.code=="auth/network-request-failed"?h:a_(r.i)})):null}).then(function(h){ks(r,h||null)});return Nt(r,c)}function Yx(r){return r.$.then(function(){return d_(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(Vr("local"),s.a,r.ja)}})}e.Zc=function(){var r=this;return c_(this.i,ct(this).options.authDomain).then(function(s){if(!r.l){var c;if(c=Ue(r)&&s){c=Ue(r).uid;var h=s.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return Rl(Ue(r),s),Ue(r).I();(Ue(r)||s)&&(ks(r,s),s&&(ha(s),s.ha=r.D),r.b&&Il(r.b,r),pa(r))}})},e.da=function(r){return u_(this.i,r)},e.mc=function(){pa(this),this.da(Ue(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Eo(r,s){var c=null,h=null;return Nt(r,s.then(function(v){return c=Kd(v),h=mb(v),Wx(r,v)},function(v){var y=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(y=z0(v.w(),r,U(r.kc,r))),y||v}).then(function(){return Fr({user:Ue(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(r){var s=this;return this.h.then(function(){return Eo(s,Ie(r))})},e.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(Ue(s))})},e.Ac=function(r){var s=this;Jx(this,function(){r.next(Ue(s))})},e.Ic=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(Ue(h)):typeof r.next=="function"&&r.next(Ue(h))}),this.Pa(r,s,c)},e.Hc=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(Ue(h)):typeof r.next=="function"&&r.next(Ue(h))}),this.ib(r,s,c)},e.nc=function(r){var s=this,c=this.h.then(function(){return Ue(s)?Ue(s).I(r).then(function(h){return{accessToken:h}}):null});return Nt(this,c)},e.Tc=function(r){var s=this;return this.h.then(function(){return Eo(s,He(s.a,ON,{token:r}))}).then(function(c){var h=c.user;return Ti(h,"isAnonymous",!1),s.da(h),c})},e.Uc=function(r,s){var c=this;return this.h.then(function(){return Eo(c,He(c.a,n0,{email:r,password:s}))})},e.dc=function(r,s){var c=this;return this.h.then(function(){return Eo(c,He(c.a,cN,{email:r,password:s}))})},e.ab=function(r){var s=this;return this.h.then(function(){return Eo(s,r.ka(s.a))})},e.Sc=function(r){return Ad("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var s=Ue(r);if(s&&s.isAnonymous){var c=Fr({providerId:null,isNewUser:!1});return Fr({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return Eo(r,r.a.Ab()).then(function(h){var v=h.user;return Ti(v,"isAnonymous",!0),r.da(v),h})})};function ct(r){return r.app}function Ue(r){return r.currentUser}e.getUid=function(){return Ue(this)&&Ue(this).uid||null};function Nl(r){return Ue(r)&&Ue(r)._lat||null}function pa(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](Nl(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](Nl(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&Ue(this)&&Y0(Ue(this))},e.Pc=function(r){var s=this;q(this.s,function(c){c==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&Ue(this)&&Jp(Ue(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var s=this;this.s.push(r),Nt(this,this.h.then(function(){s.l||C(s.s,r)&&r(Nl(s))}))},e.removeAuthTokenListener=function(r){j(this.s,function(s){return s==r})};function Jx(r,s){r.N.push(s),Nt(r,r.h.then(function(){!r.l&&C(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(Nl(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Vr("local"),r.a,this.ja)),this.b&&(Dp(this.b,this),Sl(this.b.b)),Promise.resolve()};function Nt(r,s){return r.P.push(s),s.oa(function(){L(r.P,s)}),s}e.hc=function(r){return Nt(this,eN(this.a,r))},e.Bc=function(r){return!!Hd(r)},e.xb=function(r,s){var c=this;return Nt(this,Ie().then(function(){var h=new Xc(s);if(!h.c)throw new k("argument-error",Fd+" must be true when sending sign in link to email");return Qc(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},e.ob=function(r,s){return Nt(this,this.a.ob(r,s).then(function(){}))},e.Sa=function(r){return Nt(this,this.a.Sa(r).then(function(s){return new fC(s)}))},e.kb=function(r){return Nt(this,this.a.kb(r).then(function(){}))},e.wb=function(r,s){var c=this;return Nt(this,Ie().then(function(){return typeof s>"u"||pe(s)?{}:Qc(new Xc(s))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},e.Wc=function(r,s){return Nt(this,jp(this,r,s,U(this.ab,this)))},e.Vc=function(r,s){var c=this;return Nt(this,Ie().then(function(){var h=s||Bu(),v=Cb(r,h);if(h=Hd(h),!h)throw new k("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new k("tenant-id-mismatch");return c.ab(v)}))};function va(){}va.prototype.render=function(){},va.prototype.reset=function(){},va.prototype.getResponse=function(){},va.prototype.execute=function(){};function Rs(){this.a={},this.b=1e12}var cv=null;Rs.prototype.render=function(r,s){return this.a[this.b.toString()]=new xl(r,s),this.b++},Rs.prototype.reset=function(r){var s=lv(this,r);r=p_(r),s&&r&&(s.delete(),delete this.a[r])},Rs.prototype.getResponse=function(r){return(r=lv(this,r))?r.getResponse():null},Rs.prototype.execute=function(r){(r=lv(this,r))&&r.execute()};function lv(r,s){return(s=p_(s))&&r.a[s]||null}function p_(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function xl(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Lu(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():ir(this.f,"click",this.i)}xl.prototype.getResponse=function(){return fv(this),this.b},xl.prototype.execute=function(){fv(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=oC();var s=r.c.callback,c=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},xl.prototype.delete=function(){fv(this),this.g=!0,clearTimeout(this.a),this.a=null,Kn(this.f,"click",this.i)};function fv(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function hv(){}de(hv,"FACTOR_ID","phone");function dv(){}dv.prototype.g=function(){return cv||(cv=new Rs),Ie(cv)},dv.prototype.c=function(){};var pv=null;function vv(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Zx=new Be(Pr,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),eO=new _i(3e4,6e4);vv.prototype.g=function(r){var s=this;return new $e(function(c,h){var v=setTimeout(function(){h(new k("network-request-failed"))},eO.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(E,M){return E=w(E,M),s.b++,E},clearTimeout(v),c(f.grecaptcha)}else clearTimeout(v),h(new k("internal-error"));delete f[s.a]};var y=Qh(Zx,{onload:s.a,hl:r||""});Ie(ip(y)).o(function(){clearTimeout(v),h(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),c(f.grecaptcha)})},vv.prototype.c=function(){this.b--};var gv=null;function mv(r,s,c,h,v,y,w){if(de(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,w?(pv||(pv=new dv),w=pv):(gv||(gv=new vv),w=gv),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[m_])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[tO]==="invisible",!f.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Lu(s)||!this.i&&Lu(s).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new mr(r,y||null,v||null),this.u=h||function(){return null};var E=this;this.l=[];var M=this.a[v_];this.a[v_]=function(Oe){if(y_(E,Oe),typeof M=="function")M(Oe);else if(typeof M=="string"){var st=_t(M,f);typeof st=="function"&&st(Oe)}};var W=this.a[g_];this.a[g_]=function(){if(y_(E,null),typeof W=="function")W();else if(typeof W=="string"){var Oe=_t(W,f);typeof Oe=="function"&&Oe()}}}var v_="callback",g_="expired-callback",m_="sitekey",tO="size";function y_(r,s){for(var c=0;c<r.l.length;c++)try{r.l[c](s)}catch{}}function nO(r,s){j(r.l,function(c){return c==s})}function yv(r,s){return r.h.push(s),s.oa(function(){L(r.h,s)}),s}e=mv.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=yv(this,Ie().then(function(){if(Gc()&&!vr())return zc();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,He(r.s,IN,{})}).then(function(s){r.a[m_]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},e.render=function(){Ol(this);var r=this;return yv(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var c=Lu(s);s=RR("DIV"),c.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},e.verify=function(){Ol(this);var r=this;return yv(this,this.render().then(function(s){return new $e(function(c){var h=r.g.getResponse(s);if(h)c(h);else{var v=function(y){y&&(nO(r,v),c(y))};r.l.push(v),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){Ol(this),this.c!==null&&this.g.reset(this.c)};function Ol(r){if(r.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Ol(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=Lu(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function wv(r,s,c){var h=!1;try{this.b=c||ke.app()}catch{throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new k("invalid-api-key");var v=this,y=null;try{y=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}y=ke.SDK_VERSION?vs(ke.SDK_VERSION,y):null,mv.call(this,c,r,s,function(){try{var w=v.b.auth().la()}catch{w=null}return w},y,Ze(se),h)}z(wv,mv);function w_(r,s,c,h){e:{c=Array.prototype.slice.call(c);for(var v=0,y=!1,w=0;w<s.length;w++)if(s[w].optional)y=!0;else{if(y)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(y=s.length,c.length<v||y<c.length)h="Expected "+(v==y?v==1?"1 argument":v+" arguments":v+"-"+y+" arguments")+" but got "+c.length+".";else{for(v=0;v<c.length;v++)if(y=s[v].optional&&c[v]===void 0,!s[v].M(c[v])&&!y){if(s=s[v],0>v||v>=b_.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");c=b_[v],h=(h?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break e}h=null}}if(h)throw new k("argument-error",r+" failed: "+h)}var b_="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function he(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function bv(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function Ft(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:S}}function Cs(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function qr(r,s){return{name:r||"",K:"null",optional:!!s,M:function(c){return c===null}}}function rO(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function iO(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof wr)}}}function oO(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof ke.app.App)}}}function Si(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!r||s.providerId===r;return!(!s.ka||!c)}}}function __(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function Ns(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function _v(r,s){return S(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function E_(r){return S(r)&&typeof r.uid=="string"}function Pl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Dt(r,s,c,h){return{name:c||"",K:r.K+" or "+s.K,optional:!!h,M:function(v){return r.M(v)||s.M(v)}}}function Tt(r,s){for(var c in s){var h=s[c].name;r[h]=T_(h,r[c],s[c].j)}}function I_(r,s){for(var c in s){var h=s[c].name;h!==c&&Object.defineProperty(r,h,{get:me(function(v){return this[v]},c),set:me(function(v,y,w,E){w_(v,[w],[E],!0),this[y]=E},h,c,s[c].lb),enumerable:!0})}}function Lt(r,s,c,h){r[s]=T_(s,c,h)}function T_(r,s,c){function h(){var w=Array.prototype.slice.call(arguments);return w_(v,c,w),s.apply(this,w)}if(!c)return s;var v=sO(r),y;for(y in s)h[y]=s[y];for(y in s.prototype)h.prototype[y]=s.prototype[y];return h}function sO(r){return r=r.split("."),r[r.length-1]}Tt(wr.prototype,{kb:{name:"applyActionCode",j:[he("code")]},Sa:{name:"checkActionCode",j:[he("code")]},ob:{name:"confirmPasswordReset",j:[he("code"),he("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[he("email"),he("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[he("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[he("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Dt(Ft(),Cs(),"nextOrObserver"),Cs("opt_error",!0),Cs("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Dt(Ft(),Cs(),"nextOrObserver"),Cs("opt_error",!0),Cs("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[he("email"),Dt(Ft("opt_actionCodeSettings",!0),qr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[he("email"),Ft("actionCodeSettings")]},yb:{name:"setPersistence",j:[he("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Si()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Si()]},Tc:{name:"signInWithCustomToken",j:[he("token")]},Uc:{name:"signInWithEmailAndPassword",j:[he("email"),he("password")]},Vc:{name:"signInWithEmailLink",j:[he("email"),he("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[he("phoneNumber"),Pl()]},Xc:{name:"signInWithPopup",j:[Ns()]},Yc:{name:"signInWithRedirect",j:[Ns()]},dd:{name:"updateCurrentUser",j:[Dt(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof Gn)}}}(),qr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[he(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[he("url"),Ft("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[he("code")]}}),I_(wr.prototype,{lc:{name:"languageCode",lb:Dt(he(),qr(),"languageCode")},ti:{name:"tenantId",lb:Dt(he(),qr(),"tenantId")}}),wr.Persistence=Es,wr.Persistence.LOCAL="local",wr.Persistence.SESSION="session",wr.Persistence.NONE="none",Tt(Gn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[bv("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[bv("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Si()]},rb:{name:"linkWithCredential",j:[Si()]},Dc:{name:"linkWithPhoneNumber",j:[he("phoneNumber"),Pl()]},Ec:{name:"linkWithPopup",j:[Ns()]},Fc:{name:"linkWithRedirect",j:[Ns()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Si()]},ub:{name:"reauthenticateWithCredential",j:[Si()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[he("phoneNumber"),Pl()]},Nc:{name:"reauthenticateWithPopup",j:[Ns()]},Oc:{name:"reauthenticateWithRedirect",j:[Ns()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Dt(Ft("opt_actionCodeSettings",!0),qr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[he(null,!0)]},cd:{name:"unlink",j:[he("provider")]},Cb:{name:"updateEmail",j:[he("email")]},Db:{name:"updatePassword",j:[he("password")]},ed:{name:"updatePhoneNumber",j:[Si("phone")]},Eb:{name:"updateProfile",j:[Ft("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[he("email"),Dt(Ft("opt_actionCodeSettings",!0),qr(null,!0),"opt_actionCodeSettings",!0)]}}),Tt(Rs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt(va.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt($e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),I_($0.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:bv("appVerificationDisabledForTesting")}}),Tt(Up.prototype,{confirm:{name:"confirm",j:[he("verificationCode")]}}),Lt(ys,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,c=[CC,NC,xC,RC],h=0;h<c.length;h++)if(s=c[h](r))return s;return null},[Dt(he(),Ft(),"json")]),Lt(sr,"credential",function(r,s){return new Ei(r,s)},[he("email"),he("password")]),Tt(Ei.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Tt(po.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),Lt(po,"credential",Sb,[Dt(he(),Ft(),"token")]),Lt(sr,"credentialWithLink",Cb,[he("email"),he("emailLink")]),Tt(vo.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),Lt(vo,"credential",Ab,[Dt(he(),Ft(),"token")]),Tt(go.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),Lt(go,"credential",kb,[Dt(he(),Dt(Ft(),qr()),"idToken"),Dt(he(),qr(),"accessToken",!0)]),Tt(bs.prototype,{Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),Lt(bs,"credential",Rb,[Dt(he(),Ft(),"token"),he("secret",!0)]),Tt(zn.prototype,{Ca:{name:"addScope",j:[he("scope")]},credential:{name:"credential",j:[Dt(he(),Dt(Ft(),qr()),"optionsOrIdToken"),Dt(he(),qr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),Tt(ei.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Tt(fo.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Lt(ti,"credential",Nb,[he("verificationId"),he("verificationCode")]),Tt(ti.prototype,{gb:{name:"verifyPhoneNumber",j:[Dt(he(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?_v(c.session,Xu)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?_v(c.session,tl)&&E_(c.multiFactorHint):c.session&&c.multiFactorUid?_v(c.session,tl)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Pl()]}}),Tt(Ii.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Tt(k.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),Tt(Yu.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),Tt(Wd.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),Tt(qp.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),Tt(Vp.prototype,{Rc:{name:"resolveSignIn",j:[__()]}}),Tt($p.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[__(),he("displayName",!0)]},bd:{name:"unenroll",j:[Dt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:E_},he(),"multiFactorInfoIdentifier")]}}),Tt(wv.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Lt(Md,"parseLink",ub,[he("link")]),Lt(hv,"assertion",function(r){return new W0(r)},[Si("phone")]),function(){if(typeof ke<"u"&&ke.INTERNAL&&ke.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Wc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Ld,VERIFY_AND_CHANGE_EMAIL:Gu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:wr,AuthCredential:ys,Error:k};Lt(r,"EmailAuthProvider",sr,[]),Lt(r,"FacebookAuthProvider",po,[]),Lt(r,"GithubAuthProvider",vo,[]),Lt(r,"GoogleAuthProvider",go,[]),Lt(r,"TwitterAuthProvider",bs,[]),Lt(r,"OAuthProvider",zn,[he("providerId")]),Lt(r,"SAMLAuthProvider",Tb,[he("providerId")]),Lt(r,"PhoneAuthProvider",ti,[iO()]),Lt(r,"RecaptchaVerifier",wv,[Dt(he(),rO(),"recaptchaContainer"),Ft("recaptchaParameters",!0),oO()]),Lt(r,"ActionCodeURL",Md,[]),Lt(r,"PhoneMultiFactorGenerator",hv,[]),ke.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new wr(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),ke.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:U(s.getUid,s),getToken:U(s.nc,s),addAuthTokenListener:U(s.cc,s),removeAuthTokenListener:U(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ke.registerVersion("@firebase/auth","0.16.8"),ke.INTERNAL.extendNamespace({User:Gn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vg=function(e,t){return vg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},vg(e,t)};function NL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function kS(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var xL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce,Am=Am||{},Le=xL||self;function bf(){}function gg(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function dc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function OL(e){return Object.prototype.hasOwnProperty.call(e,Ov)&&e[Ov]||(e[Ov]=++PL)}var Ov="closure_uid_"+(1e9*Math.random()>>>0),PL=0;function DL(e,t,n){return e.call.apply(e.bind,arguments)}function LL(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function sn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?sn=DL:sn=LL,sn.apply(null,arguments)}function ql(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function cn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,u){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(i,a)}}function Qi(){this.s=this.s,this.o=this.o}var ML=0;Qi.prototype.s=!1;Qi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),ML!=0)&&OL(this)};Qi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var RS=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},CS=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,u=0;u<i;u++)u in o&&t.call(n,o[u],u,e)};function FL(e){e:{for(var t=RM,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function aE(e){return Array.prototype.concat.apply([],arguments)}function km(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function _f(e){return/^[\s\xa0]*$/.test(e)}var cE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function An(e,t){return e.indexOf(t)!=-1}function Pv(e,t){return e<t?-1:e>t?1:0}var kn;e:{var lE=Le.navigator;if(lE){var fE=lE.userAgent;if(fE){kn=fE;break e}}kn=""}function Rm(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function NS(e){var t={};for(var n in e)t[n]=e[n];return t}var hE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xS(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var u=0;u<hE.length;u++)n=hE[u],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Cm(e){return Cm[" "](e),e}Cm[" "]=bf;function UL(e){var t=qL;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var jL=An(kn,"Opera"),tu=An(kn,"Trident")||An(kn,"MSIE"),OS=An(kn,"Edge"),mg=OS||tu,PS=An(kn,"Gecko")&&!(An(kn.toLowerCase(),"webkit")&&!An(kn,"Edge"))&&!(An(kn,"Trident")||An(kn,"MSIE"))&&!An(kn,"Edge"),VL=An(kn.toLowerCase(),"webkit")&&!An(kn,"Edge");function DS(){var e=Le.document;return e?e.documentMode:void 0}var Ef;e:{var Dv="",Lv=function(){var e=kn;if(PS)return/rv:([^\);]+)(\)|;)/.exec(e);if(OS)return/Edge\/([\d\.]+)/.exec(e);if(tu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(VL)return/WebKit\/(\S+)/.exec(e);if(jL)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Lv&&(Dv=Lv?Lv[1]:""),tu){var Mv=DS();if(Mv!=null&&Mv>parseFloat(Dv)){Ef=String(Mv);break e}}Ef=Dv}var qL={};function BL(){return UL(function(){for(var e=0,t=cE(String(Ef)).split("."),n=cE("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var u=t[o]||"",a=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u[0].length==0&&a[0].length==0)break;e=Pv(u[1].length==0?0:parseInt(u[1],10),a[1].length==0?0:parseInt(a[1],10))||Pv(u[2].length==0,a[2].length==0)||Pv(u[2],a[2]),u=u[3],a=a[3]}while(e==0)}return 0<=e})}var yg;if(Le.document&&tu){var dE=DS();yg=dE||parseInt(Ef,10)||void 0}else yg=void 0;var $L=yg,HL=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Le.addEventListener("test",bf,t),Le.removeEventListener("test",bf,t)}catch{}return e}();function vn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}vn.prototype.h=function(){this.defaultPrevented=!0};function Ka(e,t){if(vn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(PS){e:{try{Cm(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:KL[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ka.Z.h.call(this)}}cn(Ka,vn);var KL={2:"touch",3:"pen",4:"mouse"};Ka.prototype.h=function(){Ka.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var pc="closure_listenable_"+(1e6*Math.random()|0),zL=0;function GL(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++zL,this.ca=this.fa=!1}function hh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function dh(e){this.src=e,this.g={},this.h=0}dh.prototype.add=function(e,t,n,i,o){var u=e.toString();e=this.g[u],e||(e=this.g[u]=[],this.h++);var a=bg(e,t,i,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new GL(t,this.src,u,!!i,o),t.fa=n,e.push(t)),t};function wg(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=RS(i,t),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(hh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function bg(e,t,n,i){for(var o=0;o<e.length;++o){var u=e[o];if(!u.ca&&u.listener==t&&u.capture==!!n&&u.ia==i)return o}return-1}var Nm="closure_lm_"+(1e6*Math.random()|0),Fv={};function LS(e,t,n,i,o){if(i&&i.once)return FS(e,t,n,i,o);if(Array.isArray(t)){for(var u=0;u<t.length;u++)LS(e,t[u],n,i,o);return null}return n=Pm(n),e&&e[pc]?e.N(t,n,dc(i)?!!i.capture:!!i,o):MS(e,t,n,!1,i,o)}function MS(e,t,n,i,o,u){if(!t)throw Error("Invalid event type");var a=dc(o)?!!o.capture:!!o,l=Om(e);if(l||(e[Nm]=l=new dh(e)),n=l.add(t,n,i,a,u),n.proxy)return n;if(i=WL(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)HL||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(jS(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function WL(){function e(n){return t.call(e.src,e.listener,n)}var t=XL;return e}function FS(e,t,n,i,o){if(Array.isArray(t)){for(var u=0;u<t.length;u++)FS(e,t[u],n,i,o);return null}return n=Pm(n),e&&e[pc]?e.O(t,n,dc(i)?!!i.capture:!!i,o):MS(e,t,n,!0,i,o)}function US(e,t,n,i,o){if(Array.isArray(t))for(var u=0;u<t.length;u++)US(e,t[u],n,i,o);else i=dc(i)?!!i.capture:!!i,n=Pm(n),e&&e[pc]?(e=e.i,t=String(t).toString(),t in e.g&&(u=e.g[t],n=bg(u,n,i,o),-1<n&&(hh(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete e.g[t],e.h--)))):e&&(e=Om(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bg(t,n,i,o)),(n=-1<e?t[e]:null)&&xm(n))}function xm(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[pc])wg(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(jS(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Om(t))?(wg(n,e),n.h==0&&(n.src=null,t[Nm]=null)):hh(e)}}}function jS(e){return e in Fv?Fv[e]:Fv[e]="on"+e}function XL(e,t){if(e.ca)e=!0;else{t=new Ka(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&xm(e),e=n.call(i,t)}return e}function Om(e){return e=e[Nm],e instanceof dh?e:null}var Uv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pm(e){return typeof e=="function"?e:(e[Uv]||(e[Uv]=function(t){return e.handleEvent(t)}),e[Uv])}function Zt(){Qi.call(this),this.i=new dh(this),this.P=this,this.I=null}cn(Zt,Qi);Zt.prototype[pc]=!0;Zt.prototype.removeEventListener=function(e,t,n,i){US(this,e,t,n,i)};function un(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new vn(t,e);else if(t instanceof vn)t.target=t.target||e;else{var o=t;t=new vn(i,e),xS(t,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var a=t.g=n[u];o=Bl(a,i,!0,t)&&o}if(a=t.g=e,o=Bl(a,i,!0,t)&&o,o=Bl(a,i,!1,t)&&o,n)for(u=0;u<n.length;u++)a=t.g=n[u],o=Bl(a,i,!1,t)&&o}Zt.prototype.M=function(){if(Zt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)hh(n[i]);delete e.g[t],e.h--}}this.I=null};Zt.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};Zt.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Bl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,u=0;u<t.length;++u){var a=t[u];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&wg(e.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Dm=Le.JSON.stringify;function QL(){var e=qS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var YL=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=VS.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),VS=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new JL},function(e){return e.reset()}),JL=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function ZL(e){Le.setTimeout(function(){throw e},0)}function Lm(e,t){_g||eM(),Eg||(_g(),Eg=!0),qS.add(e,t)}var _g;function eM(){var e=Le.Promise.resolve(void 0);_g=function(){e.then(tM)}}var Eg=!1,qS=new YL;function tM(){for(var e;e=QL();){try{e.h.call(e.g)}catch(n){ZL(n)}var t=VS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Eg=!1}function ph(e,t){Zt.call(this),this.h=e||1,this.g=t||Le,this.j=sn(this.kb,this),this.l=Date.now()}cn(ph,Zt);ce=ph.prototype;ce.da=!1;ce.S=null;ce.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),un(this,"tick"),this.da&&(Mm(this),this.start()))}};ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Mm(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ce.M=function(){ph.Z.M.call(this),Mm(this),delete this.g};function Fm(e,t,n){if(typeof e=="function")n&&(e=sn(e,n));else if(e&&typeof e.handleEvent=="function")e=sn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Le.setTimeout(e,t||0)}function BS(e){e.g=Fm(function(){e.g=null,e.i&&(e.i=!1,BS(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var nM=function(e){NL(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:BS(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Qi);function za(e){Qi.call(this),this.h=e,this.g={}}cn(za,Qi);var pE=[];function $S(e,t,n,i){Array.isArray(n)||(n&&(pE[0]=n.toString()),n=pE);for(var o=0;o<n.length;o++){var u=LS(t,n[o],i||e.handleEvent,!1,e.h||e);if(!u)break;e.g[u.key]=u}}function HS(e){Rm(e.g,function(t,n){this.g.hasOwnProperty(n)&&xm(t)},e),e.g={}}za.prototype.M=function(){za.Z.M.call(this),HS(this)};za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function vh(){this.g=!0}vh.prototype.Aa=function(){this.g=!1};function rM(e,t,n,i,o,u){e.info(function(){if(e.g)if(u)for(var a="",l=u.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var p=d[0];d=d[1];var g=p.split("_");a=2<=g.length&&g[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function iM(e,t,n,i,o,u,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+u+" "+a})}function qs(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+sM(e,n)+(i?" "+i:"")})}function oM(e,t){e.info(function(){return"TIMEOUT: "+t})}vh.prototype.info=function(){};function sM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Dm(n)}catch{return t}}var es={},vE=null;function gh(){return vE=vE||new Zt}es.Ma="serverreachability";function KS(e){vn.call(this,es.Ma,e)}cn(KS,vn);function Ga(e){var t=gh();un(t,new KS(t))}es.STAT_EVENT="statevent";function zS(e,t){vn.call(this,es.STAT_EVENT,e),this.stat=t}cn(zS,vn);function Rn(e){var t=gh();un(t,new zS(t,e))}es.Na="timingevent";function GS(e,t){vn.call(this,es.Na,e),this.size=t}cn(GS,vn);function vc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){e()},t)}var mh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},WS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Um(){}Um.prototype.h=null;function gE(e){return e.h||(e.h=e.i())}function XS(){}var gc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function jm(){vn.call(this,"d")}cn(jm,vn);function Vm(){vn.call(this,"c")}cn(Vm,vn);var Ig;function yh(){}cn(yh,Um);yh.prototype.g=function(){return new XMLHttpRequest};yh.prototype.i=function(){return{}};Ig=new yh;function mc(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new za(this),this.P=uM,e=mg?125:void 0,this.W=new ph(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new QS}function QS(){this.i=null,this.g="",this.h=!1}var uM=45e3,Tg={},If={};ce=mc.prototype;ce.setTimeout=function(e){this.P=e};function Sg(e,t,n){e.K=1,e.v=bh(di(t)),e.s=n,e.U=!0,YS(e,null)}function YS(e,t){e.F=Date.now(),yc(e),e.A=di(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),iA(n.h,"t",i),e.C=0,n=e.l.H,e.h=new QS,e.g=TA(e.l,n?t:null,!e.s),0<e.O&&(e.L=new nM(sn(e.Ia,e,e.g),e.O)),$S(e.V,e.g,"readystatechange",e.gb),t=e.H?NS(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ga(),rM(e.j,e.u,e.A,e.m,e.X,e.s)}ce.gb=function(e){e=e.target;var t=this.L;t&&si(e)==3?t.l():this.Ia(e)};ce.Ia=function(e){try{if(e==this.g)e:{var t=si(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||mg||this.g&&(this.h.h||this.g.ga()||bE(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?Ga(3):Ga(2)),wh(this);var o=this.g.ba();this.N=o;t:if(JS(this)){var u=bE(this.g);e="";var a=u.length,l=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oo(this),Ca(this);var f="";break t}this.h.i=new Le.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(u[n],{stream:l&&n==a-1});u.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,iM(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_f(d)){var g=d;break t}}g=null}if(o=g)qs(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ag(this,o);else{this.i=!1,this.o=3,Rn(12),Oo(this),Ca(this);break e}}this.U?(ZS(this,t,f),mg&&this.i&&t==3&&($S(this.V,this.W,"tick",this.fb),this.W.start())):(qs(this.j,this.m,f,null),Ag(this,f)),t==4&&Oo(this),this.i&&!this.I&&(t==4?bA(this.l,this):(this.i=!1,yc(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Rn(12)):(this.o=0,Rn(13)),Oo(this),Ca(this)}}}catch{}finally{}};function JS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function ZS(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=aM(e,n),o==If){t==4&&(e.o=4,Rn(14),i=!1),qs(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Tg){e.o=4,Rn(15),qs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else qs(e.j,e.m,o,null),Ag(e,o);JS(e)&&o!=If&&o!=Tg&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Rn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xm(t),t.L=!0,Rn(11))):(qs(e.j,e.m,n,"[Invalid Chunked Response]"),Oo(e),Ca(e))}ce.fb=function(){if(this.g){var e=si(this.g),t=this.g.ga();this.C<t.length&&(wh(this),ZS(this,e,t),this.i&&e!=4&&yc(this))}};function aM(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?If:(n=Number(t.substring(n,i)),isNaN(n)?Tg:(i+=1,i+n>t.length?If:(t=t.substr(i,n),e.C=i+n,t)))}ce.cancel=function(){this.I=!0,Oo(this)};function yc(e){e.Y=Date.now()+e.P,eA(e,e.P)}function eA(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=vc(sn(e.eb,e),t)}function wh(e){e.B&&(Le.clearTimeout(e.B),e.B=null)}ce.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(oM(this.j,this.A),this.K!=2&&(Ga(),Rn(17)),Oo(this),this.o=2,Ca(this)):eA(this,this.Y-e)};function Ca(e){e.l.G==0||e.I||bA(e.l,e)}function Oo(e){wh(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Mm(e.W),HS(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ag(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||kg(n.i,e))){if(n.I=e.N,!e.J&&kg(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)kf(n),Ih(n);else break e;Wm(n),Rn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=vc(sn(n.ab,n),6e3));if(1>=uA(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Po(n,11)}else if((e.J||n.g==e)&&kf(n),!_f(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var u=o[t];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];var a=u[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=u[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=e.g;if(d){var p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var g=i.i;!g.g&&(An(p,"spdy")||An(p,"quic")||An(p,"h2"))&&(g.j=g.l,g.g=new Set,g.h&&($m(g,g.h),g.h=null))}if(i.D){var m=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.sa=m,It(i.F,i.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=e;if(i.oa=IA(i,i.H?i.la:null,i.W),b.J){aA(i.i,b);var _=b,T=i.K;T&&_.setTimeout(T),_.B&&(wh(_),yc(_)),i.g=b}else yA(i);0<n.l.length&&Th(n)}else u[0]!="stop"&&u[0]!="close"||Po(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Po(n,7):Gm(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Ga(4)}catch{}}function cM(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(gg(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function qm(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(gg(e)||typeof e=="string")CS(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(gg(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=cM(e),o=i.length;for(var u=0;u<o;u++)t.call(void 0,i[u],n&&n[u],e)}}function Tu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof Tu)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}ce=Tu.prototype;ce.R=function(){Bm(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ce.T=function(){return Bm(this),this.g.concat()};function Bm(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Go(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],Go(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}ce.get=function(e,t){return Go(this.h,e)?this.h[e]:t};ce.set=function(e,t){Go(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ce.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);e.call(t,u,o,this)}};function Go(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var tA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function lM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var u=e[n].substring(0,i);o=e[n].substring(i+1)}else u=e[n];t(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Wo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Wo){this.g=t!==void 0?t:e.g,Tf(this,e.j),this.s=e.s,Sf(this,e.i),Af(this,e.m),this.l=e.l,t=e.h;var n=new Wa;n.i=t.i,t.g&&(n.g=new Tu(t.g),n.h=t.h),mE(this,n),this.o=e.o}else e&&(n=String(e).match(tA))?(this.g=!!t,Tf(this,n[1]||"",!0),this.s=Na(n[2]||""),Sf(this,n[3]||"",!0),Af(this,n[4]),this.l=Na(n[5]||"",!0),mE(this,n[6]||"",!0),this.o=Na(n[7]||"")):(this.g=!!t,this.h=new Wa(null,this.g))}Wo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ia(t,yE,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ia(t,yE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Ia(n,n.charAt(0)=="/"?vM:pM,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ia(n,mM)),e.join("")};function di(e){return new Wo(e)}function Tf(e,t,n){e.j=n?Na(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Sf(e,t,n){e.i=n?Na(t,!0):t}function Af(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function mE(e,t,n){t instanceof Wa?(e.h=t,yM(e.h,e.g)):(n||(t=Ia(t,gM)),e.h=new Wa(t,e.g))}function It(e,t,n){e.h.set(t,n)}function bh(e){return It(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fM(e){return e instanceof Wo?di(e):new Wo(e,void 0)}function hM(e,t,n,i){var o=new Wo(null,void 0);return e&&Tf(o,e),t&&Sf(o,t),n&&Af(o,n),i&&(o.l=i),o}function Na(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ia(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,dM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function dM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var yE=/[#\/\?@]/g,pM=/[#\?:]/g,vM=/[#\?]/g,gM=/[#\?@]/g,mM=/#/g;function Wa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Yi(e){e.g||(e.g=new Tu,e.h=0,e.i&&lM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ce=Wa.prototype;ce.add=function(e,t){Yi(this),this.i=null,e=Su(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function nA(e,t){Yi(e),t=Su(e,t),Go(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Go(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Bm(e)))}function rA(e,t){return Yi(e),t=Su(e,t),Go(e.g.h,t)}ce.forEach=function(e,t){Yi(this),this.g.forEach(function(n,i){CS(n,function(o){e.call(t,o,i,this)},this)},this)};ce.T=function(){Yi(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],u=0;u<o.length;u++)n.push(t[i]);return n};ce.R=function(e){Yi(this);var t=[];if(typeof e=="string")rA(this,e)&&(t=aE(t,this.g.get(Su(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=aE(t,e[n])}return t};ce.set=function(e,t){return Yi(this),this.i=null,e=Su(this,e),rA(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ce.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function iA(e,t,n){nA(e,t),0<n.length&&(e.i=null,e.g.set(Su(e,t),km(n)),e.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var a=o;i[u]!==""&&(a+="="+encodeURIComponent(String(i[u]))),e.push(a)}}return this.i=e.join("&")};function Su(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function yM(e,t){t&&!e.j&&(Yi(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(nA(this,i),iA(this,o,n))},e)),e.j=t}var wM=function(){function e(t,n){this.h=t,this.g=n}return e}();function oA(e){this.l=e||bM,Le.PerformanceNavigationTiming?(e=Le.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Le.g&&Le.g.Ea&&Le.g.Ea()&&Le.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bM=10;function sA(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function uA(e){return e.h?1:e.g?e.g.size:0}function kg(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function $m(e,t){e.g?e.g.add(t):e.h=t}function aA(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}oA.prototype.cancel=function(){var e,t;if(this.i=cA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=kS(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function cA(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=kS(e.g.values()),u=o.next();!u.done;u=o.next()){var a=u.value;i=i.concat(a.D)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return km(e.i)}function Hm(){}Hm.prototype.stringify=function(e){return Le.JSON.stringify(e,void 0)};Hm.prototype.parse=function(e){return Le.JSON.parse(e,void 0)};function _M(){this.g=new Hm}function EM(e,t,n){var i=n||"";try{qm(e,function(o,u){var a=o;dc(o)&&(a=Dm(o)),t.push(i+u+"="+encodeURIComponent(a))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function IM(e,t){var n=new vh;if(Le.Image){var i=new Image;i.onload=ql($l,n,i,"TestLoadImage: loaded",!0,t),i.onerror=ql($l,n,i,"TestLoadImage: error",!1,t),i.onabort=ql($l,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=ql($l,n,i,"TestLoadImage: timeout",!1,t),Le.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function $l(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function wc(e){this.l=e.$b||null,this.j=e.ib||!1}cn(wc,Um);wc.prototype.g=function(){return new _h(this.l,this.j)};wc.prototype.i=function(e){return function(){return e}}({});function _h(e,t){Zt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Km,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cn(_h,Zt);var Km=0;ce=_h.prototype;ce.open=function(e,t){if(this.readyState!=Km)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Xa(this)};ce.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Le).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bc(this)),this.readyState=Km};ce.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Xa(this)),this.g&&(this.readyState=3,Xa(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lA(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function lA(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ce.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?bc(this):Xa(this),this.readyState==3&&lA(this)}};ce.Ua=function(e){this.g&&(this.response=this.responseText=e,bc(this))};ce.Ta=function(e){this.g&&(this.response=e,bc(this))};ce.ha=function(){this.g&&bc(this)};function bc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Xa(e)}ce.setRequestHeader=function(e,t){this.v.append(e,t)};ce.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Xa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(_h.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var TM=Le.JSON.parse;function Bt(e){Zt.call(this),this.headers=new Tu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fA,this.K=this.L=!1}cn(Bt,Zt);var fA="",SM=/^https?$/i,AM=["POST","PUT"];ce=Bt.prototype;ce.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ig.g(),this.C=this.u?gE(this.u):gE(Ig),this.g.onreadystatechange=sn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){wE(this,u);return}e=n||"";var o=new Tu(this.headers);i&&qm(i,function(u,a){o.set(a,u)}),i=FL(o.T()),n=Le.FormData&&e instanceof Le.FormData,!(0<=RS(AM,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,a){this.g.setRequestHeader(a,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pA(this),0<this.B&&((this.K=kM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sn(this.pa,this)):this.A=Fm(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){wE(this,u)}};function kM(e){return tu&&BL()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function RM(e){return e.toLowerCase()=="content-type"}ce.pa=function(){typeof Am<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,un(this,"timeout"),this.abort(8))};function wE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hA(e),Eh(e)}function hA(e){e.D||(e.D=!0,un(e,"complete"),un(e,"error"))}ce.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,un(this,"complete"),un(this,"abort"),Eh(this))};ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eh(this,!0)),Bt.Z.M.call(this)};ce.Fa=function(){this.s||(this.F||this.v||this.l?dA(this):this.cb())};ce.cb=function(){dA(this)};function dA(e){if(e.h&&typeof Am<"u"&&(!e.C[1]||si(e)!=4||e.ba()!=2)){if(e.v&&si(e)==4)Fm(e.Fa,0,e);else if(un(e,"readystatechange"),si(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var u=String(e.H).match(tA)[1]||null;if(!u&&Le.self&&Le.self.location){var a=Le.self.location.protocol;u=a.substr(0,a.length-1)}o=!SM.test(u?u.toLowerCase():"")}i=o}if(i)un(e,"complete"),un(e,"success");else{e.m=6;try{var l=2<si(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",hA(e)}}finally{Eh(e)}}}}function Eh(e,t){if(e.g){pA(e);var n=e.g,i=e.C[0]?bf:null;e.g=null,e.C=null,t||un(e,"ready");try{n.onreadystatechange=i}catch{}}}function pA(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Le.clearTimeout(e.A),e.A=null)}function si(e){return e.g?e.g.readyState:0}ce.ba=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}};ce.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),TM(t)}};function bE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case fA:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ce.Da=function(){return this.m};ce.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function CM(e){var t="";return Rm(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function zm(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=CM(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):It(e,t,n))}function ya(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function vA(e){this.za=0,this.l=[],this.h=new vh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ya("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ya("baseRetryDelayMs",5e3,e),this.$a=ya("retryDelaySeedMs",1e4,e),this.Ya=ya("forwardChannelMaxRetries",2,e),this.ra=ya("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new oA(e&&e.concurrentRequestLimit),this.Ca=new _M,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ce=vA.prototype;ce.ma=8;ce.G=1;function Gm(e){if(gA(e),e.G==3){var t=e.V++,n=di(e.F);It(n,"SID",e.J),It(n,"RID",t),It(n,"TYPE","terminate"),_c(e,n),t=new mc(e,e.h,t,void 0),t.K=2,t.v=bh(di(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon&&(n=Le.navigator.sendBeacon(t.v.toString(),"")),!n&&Le.Image&&(new Image().src=t.v,n=!0),n||(t.g=TA(t.l,null),t.g.ea(t.v)),t.F=Date.now(),yc(t)}EA(e)}ce.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Ih(e){e.g&&(Xm(e),e.g.cancel(),e.g=null)}function gA(e){Ih(e),e.u&&(Le.clearTimeout(e.u),e.u=null),kf(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Le.clearTimeout(e.m),e.m=null)}function jv(e,t){e.l.push(new wM(e.Za++,t)),e.G==3&&Th(e)}function Th(e){sA(e.i)||e.m||(e.m=!0,Lm(e.Ha,e),e.C=0)}function NM(e,t){return uA(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=vc(sn(e.Ha,e,t),_A(e,e.C)),e.C++,!0)}ce.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new mc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=NS(n),xS(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var u=this.l[o];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break t}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=mA(this,t,i),o=di(this.F),It(o,"RID",e),It(o,"CVER",22),this.D&&It(o,"X-HTTP-Session-Id",this.D),_c(this,o),this.o&&n&&zm(o,this.o,n),$m(this.i,t),this.Ra&&It(o,"TYPE","init"),this.ja?(It(o,"$req",i),It(o,"SID","null"),t.$=!0,Sg(t,o,null)):Sg(t,o,i),this.G=2}}else this.G==3&&(e?_E(this,e):this.l.length==0||sA(this.i)||_E(this))};function _E(e,t){var n;t?n=t.m:n=e.V++;var i=di(e.F);It(i,"SID",e.J),It(i,"RID",n),It(i,"AID",e.U),_c(e,i),e.o&&e.s&&zm(i,e.o,e.s),n=new mc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=mA(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),$m(e.i,n),Sg(n,i,t)}function _c(e,t){e.j&&qm({},function(n,i){It(t,i,n)})}function mA(e,t,n){n=Math.min(e.l.length,n);var i=e.j?sn(e.j.Oa,e.j,e):null;e:for(var o=e.l,u=-1;;){var a=["count="+n];u==-1?0<n?(u=o[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var l=!0,f=0;f<n;f++){var d=o[f].h,p=o[f].g;if(d-=u,0>d)u=Math.max(0,o[f].h-100),l=!1;else try{EM(p,a,"req"+d+"_")}catch{i&&i(p)}}if(l){i=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,i}function yA(e){e.g||e.u||(e.Y=1,Lm(e.Ga,e),e.A=0)}function Wm(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=vc(sn(e.Ga,e),_A(e,e.A)),e.A++,!0)}ce.Ga=function(){if(this.u=null,wA(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=vc(sn(this.bb,this),e)}};ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Rn(10),Ih(this),wA(this))};function Xm(e){e.B!=null&&(Le.clearTimeout(e.B),e.B=null)}function wA(e){e.g=new mc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=di(e.oa);It(t,"RID","rpc"),It(t,"SID",e.J),It(t,"CI",e.N?"0":"1"),It(t,"AID",e.U),_c(e,t),It(t,"TYPE","xmlhttp"),e.o&&e.s&&zm(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=bh(di(t)),n.s=null,n.U=!0,YS(n,e)}ce.ab=function(){this.v!=null&&(this.v=null,Ih(this),Wm(this),Rn(19))};function kf(e){e.v!=null&&(Le.clearTimeout(e.v),e.v=null)}function bA(e,t){var n=null;if(e.g==t){kf(e),Xm(e),e.g=null;var i=2}else if(kg(e.i,t))n=t.D,aA(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=gh(),un(i,new GS(i,n)),Th(e)}else yA(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&NM(e,t)||i==2&&Wm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Po(e,5);break;case 4:Po(e,10);break;case 3:Po(e,6);break;default:Po(e,2)}}}function _A(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Po(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=sn(e.jb,e);n||(n=new Wo("//www.google.com/images/cleardot.gif"),Le.location&&Le.location.protocol=="http"||Tf(n,"https"),bh(n)),IM(n.toString(),i)}else Rn(2);e.G=0,e.j&&e.j.va(t),EA(e),gA(e)}ce.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Rn(2)):(this.h.info("Failed to ping google.com"),Rn(1))};function EA(e){e.G=0,e.I=-1,e.j&&((cA(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,km(e.l),e.l.length=0),e.j.ua())}function IA(e,t,n){var i=fM(n);if(i.i!="")t&&Sf(i,t+"."+i.i),Af(i,i.m);else{var o=Le.location;i=hM(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Rm(e.aa,function(u,a){It(i,a,u)}),t=e.D,n=e.sa,t&&n&&It(i,t,n),It(i,"VER",e.ma),_c(e,i),i}function TA(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Bt(new wc({ib:!0})):new Bt(e.qa),t.L=e.H,t}function SA(){}ce=SA.prototype;ce.xa=function(){};ce.wa=function(){};ce.va=function(){};ce.ua=function(){};ce.Oa=function(){};function Rf(){if(tu&&!(10<=Number($L)))throw Error("Environmental error: no available transport.")}Rf.prototype.g=function(e,t){return new rr(e,t)};function rr(e,t){Zt.call(this),this.g=new vA(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!_f(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_f(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Au(this)}cn(rr,Zt);rr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Lm(sn(e.hb,e,t))),Rn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=IA(e,null,e.W),Th(e)};rr.prototype.close=function(){Gm(this.g)};rr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,jv(this.g,t)}else this.v?(t={},t.__data__=Dm(e),jv(this.g,t)):jv(this.g,e)};rr.prototype.M=function(){this.g.j=null,delete this.j,Gm(this.g),delete this.g,rr.Z.M.call(this)};function AA(e){jm.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}cn(AA,jm);function kA(){Vm.call(this),this.status=1}cn(kA,Vm);function Au(e){this.g=e}cn(Au,SA);Au.prototype.xa=function(){un(this.g,"a")};Au.prototype.wa=function(e){un(this.g,new AA(e))};Au.prototype.va=function(e){un(this.g,new kA)};Au.prototype.ua=function(){un(this.g,"b")};Rf.prototype.createWebChannel=Rf.prototype.g;rr.prototype.send=rr.prototype.u;rr.prototype.open=rr.prototype.m;rr.prototype.close=rr.prototype.close;mh.NO_ERROR=0;mh.TIMEOUT=8;mh.HTTP_ERROR=6;WS.COMPLETE="complete";XS.EventType=gc;gc.OPEN="a";gc.CLOSE="b";gc.ERROR="c";gc.MESSAGE="d";Zt.prototype.listen=Zt.prototype.N;Bt.prototype.listenOnce=Bt.prototype.O;Bt.prototype.getLastError=Bt.prototype.La;Bt.prototype.getLastErrorCode=Bt.prototype.Da;Bt.prototype.getStatus=Bt.prototype.ba;Bt.prototype.getResponseJson=Bt.prototype.Qa;Bt.prototype.getResponseText=Bt.prototype.ga;Bt.prototype.send=Bt.prototype.ea;var xM=function(){return new Rf},OM=function(){return gh()},Vv=mh,PM=WS,DM=es,EE={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},LM=wc,Hl=XS,MM=Bt,FM={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();er.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Te(t,e),t}(Error),Rr=new IS("@firebase/firestore");function Rg(){return Rr.logLevel}function re(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Rr.logLevel<=tt.DEBUG){var i=t.map(Qm);Rr.debug.apply(Rr,Et(["Firestore (8.10.1): "+e],i))}}function Vt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Rr.logLevel<=tt.ERROR){var i=t.map(Qm);Rr.error.apply(Rr,Et(["Firestore (8.10.1): "+e],i))}}function Cf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Rr.logLevel<=tt.WARN){var i=t.map(Qm);Rr.warn.apply(Rr,Et(["Firestore (8.10.1): "+e],i))}}function Qm(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Vt(t),new Error(t)}function xe(e,t){e||ye()}function ue(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RA=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=UM(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=t.charAt(o[u]%t.length));return i},e}();function Ke(e,t){return e<t?-1:e>t?1:0}function nu(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function CA(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new X(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new X(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new X(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ke(this.nanoseconds,t.nanoseconds):Ke(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ve=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new jn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ts(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function NA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xA=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&ye(),i===void 0?i=t.length-n:i>t.length-n&&ye(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var u=t.get(o),a=n.get(o);if(u<a)return-1;if(u>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),rt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,a=n;u<a.length;u++){var l=a[u];if(l.indexOf("//")>=0)throw new X(P.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(xA),jM=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return jM.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",u=0,a=function(){if(o.length===0)throw new X(P.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new X(P.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[u+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new X(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(o+=f,u++):(a(),u++)}if(a(),l)throw new X(P.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(xA),ru=function(){function e(t){this.fields=t,t.sort(xr.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return nu(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),qn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ke(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();qn.EMPTY_BYTE_STRING=new qn("");var VM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(e){if(xe(!!e),typeof e=="string"){var t=0,n=VM.exec(e);if(xe(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:jt(e.seconds),nanos:jt(e.nanos)}}function jt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function iu(e){return typeof e=="string"?qn.fromBase64String(e):qn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function OA(e){var t=e.mapValue.fields.__previous_value__;return Ym(t)?OA(t):t}function Qa(e){var t=Wi(e.mapValue.fields.__local_write_time__.timestampValue);return new jn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(e){return e==null}function Nf(e){return e===0&&1/e==-1/0}function PA(e){return typeof e=="number"&&Number.isInteger(e)&&!Nf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(rt.fromString(t))},e.fromName=function(t){return new e(rt.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&rt.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return rt.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new rt(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ym(e)?4:10:ye()}function Yr(e,t){var n=Xo(e);if(n!==Xo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qa(e).isEqual(Qa(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=Wi(i.timestampValue),a=Wi(o.timestampValue);return u.seconds===a.seconds&&u.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return iu(i.bytesValue).isEqual(iu(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return jt(i.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(i.geoPointValue.longitude)===jt(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return jt(i.integerValue)===jt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=jt(i.doubleValue),a=jt(o.doubleValue);return u===a?Nf(u)===Nf(a):isNaN(u)&&isNaN(a)}return!1}(e,t);case 9:return nu(e.arrayValue.values||[],t.arrayValue.values||[],Yr);case 10:return function(i,o){var u=i.mapValue.fields||{},a=o.mapValue.fields||{};if(IE(u)!==IE(a))return!1;for(var l in u)if(u.hasOwnProperty(l)&&(a[l]===void 0||!Yr(u[l],a[l])))return!1;return!0}(e,t);default:return ye()}}function Ya(e,t){return(e.values||[]).find(function(n){return Yr(n,t)})!==void 0}function ou(e,t){var n=Xo(e),i=Xo(t);if(n!==i)return Ke(n,i);switch(n){case 0:return 0;case 1:return Ke(e.booleanValue,t.booleanValue);case 2:return function(o,u){var a=jt(o.integerValue||o.doubleValue),l=jt(u.integerValue||u.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return TE(e.timestampValue,t.timestampValue);case 4:return TE(Qa(e),Qa(t));case 5:return Ke(e.stringValue,t.stringValue);case 6:return function(o,u){var a=iu(o),l=iu(u);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,u){for(var a=o.split("/"),l=u.split("/"),f=0;f<a.length&&f<l.length;f++){var d=Ke(a[f],l[f]);if(d!==0)return d}return Ke(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,u){var a=Ke(jt(o.latitude),jt(u.latitude));return a!==0?a:Ke(jt(o.longitude),jt(u.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,u){for(var a=o.values||[],l=u.values||[],f=0;f<a.length&&f<l.length;++f){var d=ou(a[f],l[f]);if(d)return d}return Ke(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,u){var a=o.fields||{},l=Object.keys(a),f=u.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var p=0;p<l.length&&p<d.length;++p){var g=Ke(l[p],d[p]);if(g!==0)return g;var m=ou(a[l[p]],f[d[p]]);if(m!==0)return m}return Ke(l.length,d.length)}(e.mapValue,t.mapValue);default:throw ye()}}function TE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ke(e,t);var n=Wi(e),i=Wi(t),o=Ke(n.seconds,i.seconds);return o!==0?o:Ke(n.nanos,i.nanos)}function Jm(e){return Cg(e)}function Cg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=Wi(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?iu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,be.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",u=!0,a=0,l=i.values||[];a<l.length;a++)u?u=!1:o+=",",o+=Cg(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",u=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];u?u=!1:o+=",",o+=f+":"+Cg(i.fields[f])}return o+"}"}(e.mapValue):ye();var t,n}function xf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Ng(e){return!!e&&"integerValue"in e}function Zm(e){return!!e&&"arrayValue"in e}function SE(e){return!!e&&"nullValue"in e}function AE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function af(e){return!!e&&"mapValue"in e}function xa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ts(e.mapValue.fields,function(o,u){return t.mapValue.fields[o]=xa(u)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=xa(e.arrayValue.values[i]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!af(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=xa(n)},e.prototype.setAll=function(t){var n=this,i=xr.emptyPath(),o={},u=[];t.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,u),o={},u=[],i=f.popLast()}l?o[f.lastSegment()]=xa(l):u.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,u)},e.prototype.delete=function(t){var n=this.field(t.popLast());af(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Yr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];af(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){ts(n,function(l,f){return t[l]=f});for(var o=0,u=i;o<u.length;o++){var a=u[o];delete t[a]}},e.prototype.clone=function(){return new e(xa(this.value))},e}();function DA(e){var t=[];return ts(e.fields,function(n,i){var o=new xr([n]);if(af(i)){var u=DA(i.mapValue).fields;if(u.length===0)t.push(o);else for(var a=0,l=u;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new ru(t)}var gn=function(){function e(t,n,i,o,u){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=u}return e.newInvalidDocument=function(t){return new e(t,0,Ve.min(),Jn.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Jn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Jn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),qM=function(e,t,n,i,o,u,a){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(e,t,n,i,o,u,a){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),new qM(e,t,n,i,o,u,a)}function Ec(e){var t=ue(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+Jm(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),ns(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Pf(t.startAt)),t.endAt&&(n+="|ub:",n+=Pf(t.endAt)),t.h=n}return t.h}function Sh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!XM(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],u=t.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!Yr(o.value,u.value))return!1;var o,u;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!CE(e.startAt,t.startAt)&&CE(e.endAt,t.endAt)}function Of(e){return be.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var tr=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).field=n,u.op=i,u.value=o,u}return Te(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new BM(n,i,o):i==="array-contains"?new KM(n,o):i==="in"?new zM(n,o):i==="not-in"?new GM(n,o):i==="array-contains-any"?new WM(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new $M(n,o):new HM(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(ou(i,this.value)):i!==null&&Xo(this.value)===Xo(i)&&this.m(ou(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ye()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),BM=function(e){function t(n,i,o){var u=this;return(u=e.call(this,n,i,o)||this).key=be.fromName(o.referenceValue),u}return Te(t,e),t.prototype.matches=function(n){var i=be.comparator(n.key,this.key);return this.m(i)},t}(tr),$M=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=LA("in",i),o}return Te(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(tr),HM=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=LA("not-in",i),o}return Te(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(tr);function LA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return be.fromName(i.referenceValue)})}var KM=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return Te(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return Zm(i)&&Ya(i.arrayValue,this.value)},t}(tr),zM=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return Te(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Ya(this.value.arrayValue,i)},t}(tr),GM=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return Te(t,e),t.prototype.matches=function(n){if(Ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Ya(this.value.arrayValue,i)},t}(tr),WM=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return Te(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!Zm(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return Ya(i.value.arrayValue,u)})},t}(tr),Ja=function(e,t){this.position=e,this.before=t};function Pf(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Jm(t)}).join(",")}var Gs=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function XM(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function RE(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var u=t[o],a=e.position[o];if(i=u.field.isKeyField()?be.comparator(be.fromName(a.referenceValue),n.key):ou(a,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function CE(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Yr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vi=function(e,t,n,i,o,u,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=u,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function MA(e,t,n,i,o,u,a,l){return new vi(e,t,n,i,o,u,a,l)}function Ic(e){return new vi(e)}function cf(e){return!ns(e.limit)&&e.limitType==="F"}function Df(e){return!ns(e.limit)&&e.limitType==="L"}function ey(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ty(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function ny(e){return e.collectionGroup!==null}function su(e){var t=ue(e);if(t.p===null){t.p=[];var n=ty(t),i=ey(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new Gs(n)),t.p.push(new Gs(xr.keyField(),"asc"));else{for(var o=!1,u=0,a=t.explicitOrderBy;u<a.length;u++){var l=a[u];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Gs(xr.keyField(),f))}}}return t.p}function Jr(e){var t=ue(e);if(!t.T)if(t.limitType==="F")t.T=kE(t.path,t.collectionGroup,su(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=su(t);i<o.length;i++){var u=o[i],a=u.dir==="desc"?"asc":"desc";n.push(new Gs(u.field,a))}var l=t.endAt?new Ja(t.endAt.position,!t.endAt.before):null,f=t.startAt?new Ja(t.startAt.position,!t.startAt.before):null;t.T=kE(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function FA(e,t,n){return new vi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Tc(e,t){return Sh(Jr(e),Jr(t))&&e.limitType===t.limitType}function UA(e){return Ec(Jr(e))+"|lt:"+e.limitType}function xg(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+Jm(o.value);var o}).join(", ")+"]"),ns(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Pf(t.startAt)),t.endAt&&(n+=", endAt: "+Pf(t.endAt)),"Target("+n+")"}(Jr(e))+"; limitType="+e.limitType+")"}function Sc(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):be.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,u=n.explicitOrderBy;o<u.length;o++){var a=u[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!RE(n.startAt,su(n),i))&&(!n.endAt||!RE(n.endAt,su(n),i))}(e,t)}function jA(e){return function(t,n){for(var i=!1,o=0,u=su(e);o<u.length;o++){var a=u[o],l=QM(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function QM(e,t,n){var i=e.field.isKeyField()?be.comparator(t.key,n.key):function(o,u,a){var l=u.data.field(o),f=a.data.field(o);return l!==null&&f!==null?ou(l,f):ye()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(t)?"-0":t}}function qA(e){return{integerValue:""+e}}function BA(e,t){return PA(t)?qA(t):VA(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ah=function(){this._=void 0};function YM(e,t,n){return e instanceof uu?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,t):e instanceof Qo?HA(e,t):e instanceof Yo?KA(e,t):function(i,o){var u=$A(i,o),a=NE(u)+NE(i.A);return Ng(u)&&Ng(i.A)?qA(a):VA(i.R,a)}(e,t)}function JM(e,t,n){return e instanceof Qo?HA(e,t):e instanceof Yo?KA(e,t):n}function $A(e,t){return e instanceof au?Ng(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}var uu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t}(Ah),Qo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Te(t,e),t}(Ah);function HA(e,t){for(var n=zA(t),i=function(a){n.some(function(l){return Yr(l,a)})||n.push(a)},o=0,u=e.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var Yo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Te(t,e),t}(Ah);function KA(e,t){for(var n=zA(t),i=function(a){n=n.filter(function(l){return!Yr(l,a)})},o=0,u=e.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var au=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return Te(t,e),t}(Ah);function NE(e){return jt(e.integerValue||e.doubleValue)}function zA(e){return Zm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ac=function(e,t){this.field=e,this.transform=t},ZM=function(e,t){this.version=e,this.transformResults=t},pn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function lf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var kh=function(){};function eF(e,t,n){e instanceof kc?function(i,o,u){var a=i.value.clone(),l=PE(i.fieldTransforms,o,u.transformResults);a.setAll(l),o.convertToFoundDocument(u.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ji?function(i,o,u){if(lf(i.precondition,o)){var a=PE(i.fieldTransforms,o,u.transformResults),l=o.data;l.setAll(GA(i)),l.setAll(a),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(u.version)}(e,t,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,n)}function Og(e,t,n){e instanceof kc?function(i,o,u){if(lf(i.precondition,o)){var a=i.value.clone(),l=DE(i.fieldTransforms,u,o);a.setAll(l),o.convertToFoundDocument(OE(o),a).setHasLocalMutations()}}(e,t,n):e instanceof Ji?function(i,o,u){if(lf(i.precondition,o)){var a=DE(i.fieldTransforms,u,o),l=o.data;l.setAll(GA(i)),l.setAll(a),o.convertToFoundDocument(OE(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){lf(i.precondition,o)&&o.convertToNoDocument(Ve.min())}(e,t)}function tF(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var u=o[i],a=t.data.field(u.field),l=$A(u.transform,a||null);l!=null&&(n==null&&(n=Jn.empty()),n.set(u.field,l))}return n||null}function xE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&nu(n,i,function(o,u){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof Qo&&d instanceof Qo||f instanceof Yo&&d instanceof Yo?nu(f.elements,d.elements,Yr):f instanceof au&&d instanceof au?Yr(f.A,d.A):f instanceof uu&&d instanceof uu}(a.transform,l.transform)}(o,u)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function OE(e){return e.isFoundDocument()?e.version:Ve.min()}var kc=function(e){function t(n,i,o,u){u===void 0&&(u=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=u,a.type=0,a}return Te(t,e),t}(kh),Ji=function(e){function t(n,i,o,u,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=u,l.fieldTransforms=a,l.type=1,l}return Te(t,e),t}(kh);function GA(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function PE(e,t,n){var i=new Map;xe(e.length===n.length);for(var o=0;o<n.length;o++){var u=e[o],a=u.transform,l=t.data.field(u.field);i.set(u.field,JM(a,l,n[o]))}return i}function DE(e,t,n){for(var i=new Map,o=0,u=e;o<u.length;o++){var a=u[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,YM(l,f,t))}return i}var Ut,We,Rc=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return Te(t,e),t}(kh),ry=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return Te(t,e),t}(kh),nF=function(e){this.count=e};function WA(e){switch(e){case P.OK:return ye();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return ye()}}function XA(e){if(e===void 0)return Vt("GRPC error has no .code"),P.UNKNOWN;switch(e){case Ut.OK:return P.OK;case Ut.CANCELLED:return P.CANCELLED;case Ut.UNKNOWN:return P.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return P.INTERNAL;case Ut.UNAVAILABLE:return P.UNAVAILABLE;case Ut.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ut.NOT_FOUND:return P.NOT_FOUND;case Ut.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ut.ABORTED:return P.ABORTED;case Ut.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ut.DATA_LOSS:return P.DATA_LOSS;default:return ye()}}(We=Ut||(Ut={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn=function(){function e(t,n){this.comparator=t,this.root=n||Mi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Mi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Kl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Kl(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Kl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Kl(this.root,t,this.comparator,!0)},e}(),Kl=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var u=1;!t.isEmpty();)if(u=n?i(t.key,n):1,o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Mi=function(){function e(t,n,i,o,u){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=u??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,u){return new e(t??this.key,n??this.value,i??this.color,o??this.left,u??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,u=i(t,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(t,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();var t=this.left.check();if(t!==this.right.check())throw ye();return t+(this.isRed()?0:1)},e}();Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1,Mi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ye()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,u){return this},e.prototype.insert=function(t,n,i){return new Mi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt=function(){function e(t){this.comparator=t,this.data=new mn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new LE(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new LE(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),LE=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),rF=new mn(be.comparator);function Cr(){return rF}var iF=new mn(be.comparator);function Pg(){return iF}var oF=new mn(be.comparator);function sF(){return oF}var uF=new Qt(be.comparator);function vt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=uF,i=0,o=e;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var aF=new Qt(Ke);function Rh(){return aF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iy=function(){function e(t,n,i,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,oy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ve.min(),i,Rh(),Cr(),vt())},e}(),oy=function(){function e(t,n,i,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(qn.EMPTY_BYTE_STRING,n,vt(),vt(),vt())},e}(),ff=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},QA=function(e,t){this.targetId=e,this.V=t},YA=function(e,t,n,i){n===void 0&&(n=qn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},ME=function(){function e(){this.S=0,this.D=UE(),this.C=qn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=vt(),n=vt(),i=vt();return this.D.forEach(function(o,u){switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ye()}}),new oy(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=UE()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),cF=function(){function e(t){this.W=t,this.G=new Map,this.H=Cr(),this.J=FE(),this.Y=new Qt(Ke)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var u=0,a=t.removedTargetIds;u<a.length;u++)o=a[u],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:ye()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,u){i.st(u)&&n(u)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var u=o.target;if(Of(u))if(i===0){var a=new be(u.path);this.tt(n,a,gn.newNoDocument(a,Ve.min()))}else xe(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Of(f.target)){var d=new be(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,gn.newNoDocument(d,t))}a.$&&(i.set(l,a.M()),a.L())}});var o=vt();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var p=n.ot(d);return!p||p.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var u=new iy(t,i,this.Y,this.H,o);return this.H=Cr(),this.J=FE(),this.Y=new Qt(Ke),u},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new ME,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Qt(Ke),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||re("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new ME),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function FE(){return new mn(be.comparator)}function UE(){return new mn(be.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lF={asc:"ASCENDING",desc:"DESCENDING"},fF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hF=function(e,t){this.databaseId=e,this.I=t};function Za(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function JA(e,t){return e.I?t.toBase64():t.toUint8Array()}function dF(e,t){return Za(e,t.toTimestamp())}function Cn(e){return xe(!!e),Ve.fromTimestamp(function(t){var n=Wi(t);return new jn(n.seconds,n.nanos)}(e))}function sy(e,t){return function(n){return new rt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function ZA(e){var t=rt.fromString(e);return xe(s1(t)),t}function ec(e,t){return sy(e.databaseId,t.path)}function ci(e,t){var n=ZA(t);if(n.get(1)!==e.databaseId.projectId)throw new X(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new X(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new be(t1(n))}function Dg(e,t){return sy(e.databaseId,t)}function e1(e){var t=ZA(e);return t.length===4?rt.emptyPath():t1(t)}function tc(e){return new rt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function t1(e){return xe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function jE(e,t,n){return{name:ec(e,t),fields:n.value.mapValue.fields}}function pF(e,t,n){var i=ci(e,t.name),o=Cn(t.updateTime),u=new Jn({mapValue:{fields:t.fields}}),a=gn.newFoundDocument(i,o,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Lf(e,t){var n;if(t instanceof kc)n={update:jE(e,t.key,t.value)};else if(t instanceof Rc)n={delete:ec(e,t.key)};else if(t instanceof Ji)n={update:jE(e,t.key,t.data),updateMask:wF(t.fieldMask)};else{if(!(t instanceof ry))return ye();n={verify:ec(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,u){var a=u.transform;if(a instanceof uu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yo)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof au)return{fieldPath:u.field.canonicalString(),increment:a.A};throw ye()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:dF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(e,t.precondition)),n}function VE(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?pn.updateTime(Cn(d.updateTime)):d.exists!==void 0?pn.exists(d.exists):pn.none()}(t.currentDocument):pn.none(),i=t.updateTransforms?t.updateTransforms.map(function(d){return function(p,g){var m=null;if("setToServerValue"in g)xe(g.setToServerValue==="REQUEST_TIME"),m=new uu;else if("appendMissingElements"in g){var b=g.appendMissingElements.values||[];m=new Qo(b)}else if("removeAllFromArray"in g){var _=g.removeAllFromArray.values||[];m=new Yo(_)}else"increment"in g?m=new au(p,g.increment):ye();var T=xr.fromServerFormat(g.fieldPath);return new Ac(T,m)}(e,d)}):[];if(t.update){t.update.name;var o=ci(e,t.update.name),u=new Jn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(d){var p=d.fieldPaths||[];return new ru(p.map(function(g){return xr.fromServerFormat(g)}))}(t.updateMask);return new Ji(o,u,a,n,i)}return new kc(o,u,n,i)}if(t.delete){var l=ci(e,t.delete);return new Rc(l,n)}if(t.verify){var f=ci(e,t.verify);return new ry(f,n)}return ye()}function n1(e,t){return{documents:[Dg(e,t.path)]}}function r1(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Dg(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Dg(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(p){if(p.op==="=="){if(AE(p.value))return{unaryFilter:{field:Ps(p.field),op:"IS_NAN"}};if(SE(p.value))return{unaryFilter:{field:Ps(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(AE(p.value))return{unaryFilter:{field:Ps(p.field),op:"IS_NOT_NAN"}};if(SE(p.value))return{unaryFilter:{field:Ps(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(p.field),op:gF(p.op),value:p.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var u=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:Ps(d.field),direction:vF(d.dir)}}(f)})}(t.orderBy);u&&(n.structuredQuery.orderBy=u);var a=function(l,f){return l.I||ns(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=qE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=qE(t.endAt)),n}function i1(e){var t=e1(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){xe(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:t=t.child(u.collectionId)}var a=[];n.where&&(a=o1(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(g){return function(m){return new Gs(Bs(m.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(g)}));var f=null;n.limit&&(f=function(g){var m;return ns(m=typeof g=="object"?g.value:g)?null:m}(n.limit));var d=null;n.startAt&&(d=BE(n.startAt));var p=null;return n.endAt&&(p=BE(n.endAt)),MA(t,o,l,a,f,"F",d,p)}function o1(e){return e?e.unaryFilter!==void 0?[yF(e)]:e.fieldFilter!==void 0?[mF(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return o1(t)}).reduce(function(t,n){return t.concat(n)}):ye():[]}function qE(e){return{before:e.before,values:e.position}}function BE(e){var t=!!e.before,n=e.values||[];return new Ja(n,t)}function vF(e){return lF[e]}function gF(e){return fF[e]}function Ps(e){return{fieldPath:e.canonicalString()}}function Bs(e){return xr.fromServerFormat(e.fieldPath)}function mF(e){return tr.create(Bs(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ye()}}(e.fieldFilter.op),e.fieldFilter.value)}function yF(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Bs(e.unaryFilter.field);return tr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Bs(e.unaryFilter.field);return tr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Bs(e.unaryFilter.field);return tr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Bs(e.unaryFilter.field);return tr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ye()}}function wF(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function s1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$E(t)),t=bF(e.get(n),t);return $E(t)}function bF(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var u=e.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function $E(e){return e+""}function ui(e){var t=e.length;if(xe(t>=2),t===2)return xe(e.charAt(0)===""&&e.charAt(1)===""),rt.emptyPath();for(var n=t-2,i=[],o="",u=0;u<t;){var a=e.indexOf("",u);switch((a<0||a>n)&&ye(),e.charAt(a+1)){case"":var l=e.substring(u,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=e.substring(u,a),o+="\0";break;case"":o+=e.substring(u,a+1);break;default:ye()}u=a+2}return new rt(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _F=function(e,t){this.seconds=e,this.nanoseconds=t},Qn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Qn.store="owner",Qn.key="owner";var $i=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};$i.store="mutationQueues",$i.keyPath="userId";var mt=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};mt.store="mutations",mt.keyPath="batchId",mt.userMutationsIndex="userMutationsIndex",mt.userMutationsKeyPath=["userId","batchId"];var fn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Nr(n)]},e.key=function(t,n,i){return[t,Nr(n),i]},e}();fn.store="documentMutations",fn.PLACEHOLDER=new fn;var EF=function(e,t){this.path=e,this.readTime=t},IF=function(e,t){this.path=e,this.version=t},xt=function(e,t,n,i,o,u){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};xt.store="remoteDocuments",xt.readTimeIndex="readTimeIndex",xt.readTimeIndexPath="readTime",xt.collectionReadTimeIndex="collectionReadTimeIndex",xt.collectionReadTimeIndexPath=["parentPath","readTime"];var zr=function(e){this.byteSize=e};zr.store="remoteDocumentGlobal",zr.key="remoteDocumentGlobalKey";var Un=function(e,t,n,i,o,u,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=a};Un.store="targets",Un.keyPath="targetId",Un.queryTargetsIndexName="queryTargetsIndex",Un.queryTargetsKeyPath=["canonicalId","targetId"];var on=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};on.store="targetDocuments",on.keyPath=["targetId","path"],on.documentTargetsIndex="documentTargetsIndex",on.documentTargetsKeyPath=["path","targetId"];var Yn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Yn.key="targetGlobalKey",Yn.store="targetGlobal";var Vo=function(e,t){this.collectionId=e,this.parent=t};Vo.store="collectionParents",Vo.keyPath=["collectionId","parent"];var li=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};li.store="clientMetadata",li.keyPath="clientId";var cu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};cu.store="bundles",cu.keyPath="bundleId";var lu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};lu.store="namedQueries",lu.keyPath="name";var TF=Et(Et([],Et(Et([],Et(Et([],Et(Et([],[$i.store,mt.store,fn.store,xt.store,Un.store,Qn.store,Yn.store,on.store]),[li.store])),[zr.store])),[Vo.store])),[cu.store,lu.store]),u1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",a1=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Bn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},J=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,u){i.nextCallback=function(a){i.wrapSuccess(t,a).next(o,u)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,u)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,u=0,a=!1;t.forEach(function(l){++o,l.next(function(){++u,a&&u===o&&n()},function(f){return i(f)})}),a=!0,u===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,u=t;o<u.length;o++)i(u[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(u,a){o.push(n.call(i,u,a))}),this.waitFor(o)},e}(),c1=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Bn,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new Oa(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var u=uy(o.target.error);i.ft.reject(new Oa(t,u))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(u){throw new Oa(n,u)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(re("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new AF(n)},e}(),fu=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(zo())===12.2&&Vt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return re("SimpleDb","Removing database:",t),No(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=zo(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),u=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||u)},e.gt=function(){var t;return typeof process<"u"&&((t=FM)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return $(this,void 0,void 0,function(){var n,i=this;return B(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(re("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;u(d)},l.onblocked=function(){a(new Oa(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new X(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Oa(t,d))},l.onupgradeneeded=function(f){re("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){re("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return $(this,void 0,void 0,function(){var u,a,l,f,d;return B(this,function(p){switch(p.label){case 0:u=n==="readonly",a=0,l=function(){var g,m,b,_,T;return B(this,function(S){switch(S.label){case 0:++a,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=S.sent(),g=c1.open(f.db,t,u?"readonly":"readwrite",i),m=o(g).catch(function(x){return g.abort(x),J.reject(x)}).toPromise(),b={},m.catch(function(){}),[4,g.dt];case 3:return[2,(b.value=(S.sent(),m),b)];case 4:return _=S.sent(),T=_.name!=="FirebaseError"&&a<3,re("SimpleDb","Transaction failed with error:",_.message,"Retrying:",T),f.close(),T?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(d=p.sent())=="object")return[2,d.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),SF=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return No(this.Pt.delete())},e}(),Oa=function(e){function t(n,i){var o=this;return(o=e.call(this,P.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return Te(t,e),t}(X);function rs(e){return e.name==="IndexedDbTransactionError"}var AF=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(re("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),No(i)},e.prototype.add=function(t){return re("SimpleDb","ADD",this.store.name,t,t),No(this.store.add(t))},e.prototype.get=function(t){var n=this;return No(this.store.get(t)).next(function(i){return i===void 0&&(i=null),re("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return re("SimpleDb","DELETE",this.store.name,t),No(this.store.delete(t))},e.prototype.count=function(){return re("SimpleDb","COUNT",this.store.name),No(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(u,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){re("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(u,a,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new J(function(i,o){n.onerror=function(u){var a=uy(u.target.error);o(a)},n.onsuccess=function(u){var a=u.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new J(function(o,u){t.onerror=function(a){u(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new SF(l),d=n(l.primaryKey,l.value,f);if(d instanceof J){var p=d.catch(function(g){return f.done(),J.reject(g)});i.push(p)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return J.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function No(e){return new J(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=uy(i.target.error);n(o)}})}var HE=!1;function uy(e){var t=fu._t(zo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new X("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return HE||(HE=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KE=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return Te(t,e),t}(a1);function $n(e,t){var n=ue(e);return fu.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ay=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var u=this.mutations[o];u.key.isEqual(t.key)&&eF(u,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t.key)&&Og(a,t,this.localWriteTime);for(var o=0,u=this.mutations;o<u.length;o++){var a;(a=u[o]).key.isEqual(t.key)&&Og(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),u=o;n.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(Ve.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},vt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&nu(this.mutations,t.mutations,function(n,i){return xE(n,i)})&&nu(this.baseMutations,t.baseMutations,function(n,i){return xE(n,i)})},e}(),kF=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){xe(t.mutations.length===i.length);for(var o=sF(),u=t.mutations,a=0;a<u.length;a++)o=o.insert(u[a].key,i[a].version);return new e(t,n,i,o)},e}(),Ch=function(){function e(t,n,i,o,u,a,l){u===void 0&&(u=Ve.min()),a===void 0&&(a=Ve.min()),l===void 0&&(l=qn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),l1=function(e){this.Lt=e};function Lg(e,t){if(t.document)return pF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=be.fromSegments(t.noDocument.path),i=du(t.noDocument.readTime),o=gn.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var u=be.fromSegments(t.unknownDocument.path);return i=du(t.unknownDocument.version),gn.newUnknownDocument(u,i)}return ye()}function zE(e,t,n){var i=cy(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var u=function(g,m){return{name:ec(g,m.key),fields:m.data.value.mapValue.fields,updateTime:Za(g,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new xt(null,null,u,a,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=hu(t.version);return a=t.hasCommittedMutations,new xt(null,new EF(l,f),null,a,i,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),p=hu(t.version);return new xt(new IF(d,p),null,null,!0,i,o)}return ye()}function cy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function f1(e){var t=new jn(e[0],e[1]);return Ve.fromTimestamp(t)}function hu(e){var t=e.toTimestamp();return new _F(t.seconds,t.nanoseconds)}function du(e){var t=new jn(e.seconds,e.nanoseconds);return Ve.fromTimestamp(t)}function Us(e,t){for(var n=(t.baseMutations||[]).map(function(f){return VE(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var u=t.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var a=t.mutations.map(function(f){return VE(e.Lt,f)}),l=jn.fromMillis(t.localWriteTimeMs);return new ay(t.batchId,l,n,a)}function Ta(e){var t,n,i=du(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?du(e.lastLimboFreeSnapshotVersion):Ve.min();return e.query.documents!==void 0?(xe((n=e.query).documents.length===1),t=Jr(Ic(e1(n.documents[0])))):t=function(u){return Jr(i1(u))}(e.query),new Ch(t,e.targetId,0,e.lastListenSequenceNumber,i,o,qn.fromBase64String(e.resumeToken))}function h1(e,t){var n,i=hu(t.snapshotVersion),o=hu(t.lastLimboFreeSnapshotVersion);n=Of(t.target)?n1(e.Lt,t.target):r1(e.Lt,t.target);var u=t.resumeToken.toBase64();return new Un(t.targetId,Ec(t.target),i,u,t.sequenceNumber,o,n)}function d1(e){var t=i1({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?FA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RF=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return GE(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:du(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return GE(t).put({bundleId:(i=n).id,createTime:hu(Cn(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return WE(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:d1(o.bundledQuery),readTime:du(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return WE(t).put(function(i){return{name:i.name,readTime:hu(Cn(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();function GE(e){return $n(e,cu.store)}function WE(e){return $n(e,lu.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CF=function(){function e(){this.Bt=new ly}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),J.resolve()},e.prototype.getCollectionParents=function(t,n){return J.resolve(this.Bt.getEntries(n))},e}(),ly=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Qt(rt.comparator),u=!o.has(i);return this.index[n]=o.add(i),u},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Qt(rt.comparator)).toArray()},e}(),NF=function(){function e(){this.qt=new ly}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),u=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:Nr(u)};return XE(t).put(a)}return J.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[CA(n),""],!1,!0);return XE(t).Nt(o).next(function(u){for(var a=0,l=u;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(ui(f.parent))}return i})},e}();function XE(e){return $n(e,Vo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$r=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(e,t,n){var i=e.store(mt.store),o=e.store(fn.store),u=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(_,T,S){return l++,S.delete()});u.push(f.next(function(){xe(l===1)}));for(var d=[],p=0,g=n.mutations;p<g.length;p++){var m=g[p],b=fn.key(t,m.key.path,n.batchId);u.push(o.delete(b)),d.push(m.key)}return J.waitFor(u).next(function(){return d})}function Mf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ye();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r.DEFAULT_COLLECTION_PERCENTILE=10,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$r.DEFAULT=new $r(41943040,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$r.DISABLED=new $r(-1,0,0);var xF=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return xe(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ri(t).$t({index:mt.userMutationsIndex,range:i},function(o,u,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var u=this,a=js(t),l=Ri(t);return l.add({}).next(function(f){xe(typeof f=="number");for(var d=new ay(f,n,i,o),p=function(x,O,F){var V=F.baseMutations.map(function(U){return Lf(x.Lt,U)}),te=F.mutations.map(function(U){return Lf(x.Lt,U)});return new mt(O,F.batchId,F.localWriteTime.toMillis(),V,te)}(u.R,u.userId,d),g=[],m=new Qt(function(x,O){return Ke(x.canonicalString(),O.canonicalString())}),b=0,_=o;b<_.length;b++){var T=_[b],S=fn.key(u.userId,T.key.path,f);m=m.add(T.key.path.popLast()),g.push(l.put(p)),g.push(a.put(S,fn.PLACEHOLDER))}return m.forEach(function(x){g.push(u.Ut.addToCollectionParentIndex(t,x))}),t.addOnCommittedListener(function(){u.Kt[f]=d.keys()}),J.waitFor(g).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Ri(t).get(n).next(function(o){return o?(xe(o.userId===i.userId),Us(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?J.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var u=o.keys();return i.Kt[n]=u,u}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),a=null;return Ri(t).$t({index:mt.userMutationsIndex,range:u},function(l,f,d){f.userId===i.userId&&(xe(f.batchId>=o),a=Us(i.R,f)),d.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Ri(t).$t({index:mt.userMutationsIndex,range:n,reverse:!0},function(o,u,a){i=u.batchId,a.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ri(t).Nt(mt.userMutationsIndex,i).next(function(o){return o.map(function(u){return Us(n.R,u)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=fn.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),a=[];return js(t).$t({range:u},function(l,f,d){var p=l[0],g=l[1],m=l[2],b=ui(g);if(p===i.userId&&n.path.isEqual(b))return Ri(t).get(m).next(function(_){if(!_)throw ye();xe(_.userId===i.userId),a.push(Us(i.R,_))});d.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Qt(Ke),u=[];return n.forEach(function(a){var l=fn.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=js(t).$t({range:f},function(p,g,m){var b=p[0],_=p[1],T=p[2],S=ui(_);b===i.userId&&a.path.isEqual(S)?o=o.add(T):m.done()});u.push(d)}),J.waitFor(u).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,u=o.length+1,a=fn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Qt(Ke);return js(t).$t({range:l},function(d,p,g){var m=d[0],b=d[1],_=d[2],T=ui(b);m===i.userId&&o.isPrefixOf(T)?T.length===u&&(f=f.add(_)):g.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],u=[];return n.forEach(function(a){u.push(Ri(t).get(a).next(function(l){if(l===null)throw ye();xe(l.userId===i.userId),o.push(Us(i.R,l))}))}),J.waitFor(u).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return p1(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),J.forEach(o,function(u){return i.referenceDelegate.markPotentiallyOrphaned(t,u)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return J.resolve();var o=IDBKeyRange.lowerBound(fn.prefixForUser(n.userId)),u=[];return js(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=ui(a[1]);u.push(d)}else f.done()}).next(function(){xe(u.length===0)})})},e.prototype.containsKey=function(t,n){return v1(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return g1(t).get(this.userId).next(function(i){return i||new $i(n.userId,-1,"")})},e}();function v1(e,t,n){var i=fn.prefixForPath(t,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),a=!1;return js(e).$t({range:u,Ft:!0},function(l,f,d){var p=l[0],g=l[1];l[2],p===t&&g===o&&(a=!0),d.done()}).next(function(){return a})}function Ri(e){return $n(e,mt.store)}function js(e){return $n(e,fn.store)}function g1(e){return $n(e,$i.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ff=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),OF=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new Ff(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Ve.fromTimestamp(new jn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Zt(t,u)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Ds(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return xe(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,u=0,a=[];return Ds(t).$t(function(l,f){var d=Ta(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(u++,a.push(o.removeTargetData(t,d)))}).next(function(){return J.waitFor(a)}).next(function(){return u})},e.prototype.forEachTarget=function(t,n){return Ds(t).$t(function(i,o){var u=Ta(o);n(u)})},e.prototype.Xt=function(t){return YE(t).get(Yn.key).next(function(n){return xe(n!==null),n})},e.prototype.Zt=function(t,n){return YE(t).put(Yn.key,n)},e.prototype.te=function(t,n){return Ds(t).put(h1(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=Ec(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return Ds(t).$t({range:o,index:Un.queryTargetsIndexName},function(a,l,f){var d=Ta(l);Sh(n,d.target)&&(u=d,f.done())}).next(function(){return u})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,u=[],a=Fi(t);return n.forEach(function(l){var f=Nr(l.path);u.push(a.put(new on(i,f))),u.push(o.referenceDelegate.addReference(t,i,l))}),J.waitFor(u)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,u=Fi(t);return J.forEach(n,function(a){var l=Nr(a.path);return J.waitFor([u.delete([i,l]),o.referenceDelegate.removeReference(t,i,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Fi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Fi(t),u=vt();return o.$t({range:i,Ft:!0},function(a,l,f){var d=ui(a[1]),p=new be(d);u=u.add(p)}).next(function(){return u})},e.prototype.containsKey=function(t,n){var i=Nr(n.path),o=IDBKeyRange.bound([i],[CA(i)],!1,!0),u=0;return Fi(t).$t({index:on.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(u++,f.done())}).next(function(){return u>0})},e.prototype.lt=function(t,n){return Ds(t).get(n).next(function(i){return i?Ta(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(e){return $n(e,Un.store)}function YE(e){return $n(e,Yn.store)}function Fi(e){return $n(e,on.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(e){return $(this,void 0,void 0,function(){return B(this,function(t){if(e.code!==P.FAILED_PRECONDITION||e.message!==u1)throw e;return re("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(e,t){var n=e[0],i=e[1],o=t[0],u=t[1],a=Ke(n,o);return a===0?Ke(i,u):a}var PF=function(){function e(t){this.ne=t,this.buffer=new Qt(JE),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();JE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),DF=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;re("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return $(n,void 0,void 0,function(){var o;return B(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return rs(o=u.sent())?(re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,is(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return u.sent(),[2]}})})})},e}(),LF=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return J.resolve(er.o);var o=new PF(n);return this.ae.forEachTarget(t,function(u){return o.re(u.sequenceNumber)}).next(function(){return i.ae.le(t,function(u){return o.re(u)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(QE)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),QE):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,u,a,l,f,d,p=this,g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>p.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+m),o=p.params.maximumSequenceNumbersToCollect):o=m,a=Date.now(),p.nthSequenceNumber(t,o)}).next(function(m){return i=m,l=Date.now(),p.removeTargets(t,i,n)}).next(function(m){return u=m,f=Date.now(),p.removeOrphanedDocuments(t,i)}).next(function(m){return d=Date.now(),Rg()<=tt.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-g)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+u+" targets in "+(f-l)+`ms
	Removed `+m+" documents in "+(d-f)+`ms
Total Duration: `+(d-g)+"ms"),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:m})})},e}(),MF=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new LF(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return zl(t,i)},e.prototype.removeReference=function(t,n,i){return zl(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return zl(t,n)},e.prototype._e=function(t,n){return function(i,o){var u=!1;return g1(i).Ot(function(a){return v1(i,a,o).next(function(l){return l&&(u=!0),J.resolve(!l)})}).next(function(){return u})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],a=0;return this.we(t,function(l,f){if(f<=n){var d=i._e(t,l).next(function(p){if(!p)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Fi(t).delete([0,Nr(l.path)])})});u.push(d)}}).next(function(){return J.waitFor(u)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return zl(t,n)},e.prototype.we=function(t,n){var i,o=Fi(t),u=er.o;return o.$t({index:on.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,p=l.sequenceNumber;f===0?(u!==er.o&&n(new be(ui(i)),u),u=p,i=d):u=er.o}).next(function(){u!==er.o&&n(new be(ui(i)),u)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function zl(e,t){return Fi(e).put(function(n,i){return new on(0,Nr(n.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ku=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){ts(this.inner,function(n,i){for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return NA(this.inner)},e}(),m1=function(){function e(){this.changes=new ku(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Ve.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:gn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?J.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),FF=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Di(t).put(Gl(n),i)},e.prototype.removeEntry=function(t,n){var i=Di(t),o=Gl(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return Di(t).get(Gl(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return Di(t).get(Gl(n)).next(function(o){return{document:i.ye(n,o),size:Mf(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=Cr();return this.pe(t,n,function(u,a){var l=i.ye(u,a);o=o.insert(u,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=Cr(),u=new mn(be.comparator);return this.pe(t,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),u=u.insert(a,Mf(l))}).next(function(){return{documents:o,Te:u}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return J.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),a=u.getNext();return Di(t).$t({range:o},function(l,f,d){for(var p=be.fromSegments(l);a&&be.comparator(a,p)<0;)i(a,null),a=u.getNext();a&&a.isEqual(p)&&(i(a,f),a=u.hasNext()?u.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=u.hasNext()?u.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,u=Cr(),a=n.path.length+1,l={};if(i.isEqual(Ve.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),p=cy(i);l.range=IDBKeyRange.lowerBound([d,p],!0),l.index=xt.collectionReadTimeIndex}return Di(t).$t(l,function(g,m,b){if(g.length===a){var _=Lg(o.R,m);n.path.isPrefixOf(_.key.path)?Sc(n,_)&&(u=u.insert(_.key,_)):b.done()}}).next(function(){return u})},e.prototype.newChangeBuffer=function(t){return new UF(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return ZE(t).get(zr.key).next(function(n){return xe(!!n),n})},e.prototype.me=function(t,n){return ZE(t).put(zr.key,n)},e.prototype.ye=function(t,n){if(n){var i=Lg(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(Ve.min()))return i}return gn.newInvalidDocument(t)},e}(),UF=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new ku(function(u){return u.toString()},function(u,a){return u.isEqual(a)}),o}return Te(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],u=0,a=new Qt(function(l,f){return Ke(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var p=zE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var g=Mf(p);u+=g-d,o.push(i.Ie.addEntry(n,l,p))}else if(u-=d,i.trackRemovals){var m=zE(i.Ie.R,gn.newNoDocument(l,Ve.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,m))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,u)),J.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(u){return o.Ae.set(i,u.size),u.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(u){var a=u.documents;return u.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(m1);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(e){return $n(e,zr.store)}function Di(e){return $n(e,xt.store)}function Gl(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jF=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var u=this;xe(i<o&&i>=0&&o<=11);var a=new c1("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(Qn.store)}(t),function(f){f.createObjectStore($i.store,{keyPath:$i.keyPath}),f.createObjectStore(mt.store,{keyPath:mt.keyPath,autoIncrement:!0}).createIndex(mt.userMutationsIndex,mt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(fn.store)}(t),eI(t),function(f){f.createObjectStore(xt.store)}(t));var l=J.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(on.store),f.deleteObjectStore(Un.store),f.deleteObjectStore(Yn.store)}(t),eI(t)),l=l.next(function(){return function(f){var d=f.store(Yn.store),p=new Yn(0,0,Ve.min().toTimestamp(),0);return d.put(Yn.key,p)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(mt.store).Nt().next(function(p){f.deleteObjectStore(mt.store),f.createObjectStore(mt.store,{keyPath:mt.keyPath,autoIncrement:!0}).createIndex(mt.userMutationsIndex,mt.userMutationsKeyPath,{unique:!0});var g=d.store(mt.store),m=p.map(function(b){return g.put(b)});return J.waitFor(m)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(li.store,{keyPath:li.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return u.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(zr.store)}(t),u.be(a)})),i<7&&o>=7&&(l=l.next(function(){return u.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return u.Pe(t,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(xt.store);d.createIndex(xt.readTimeIndex,xt.readTimeIndexPath,{unique:!1}),d.createIndex(xt.collectionReadTimeIndex,xt.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return u.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(cu.store,{keyPath:cu.keyPath})})(t),function(f){f.createObjectStore(lu.store,{keyPath:lu.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(xt.store).$t(function(i,o){n+=Mf(o)}).next(function(){var i=new zr(n);return t.store(zr.store).put(zr.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store($i.store),o=t.store(mt.store);return i.Nt().next(function(u){return J.forEach(u,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(mt.userMutationsIndex,l).next(function(f){return J.forEach(f,function(d){xe(d.userId===a.userId);var p=Us(n.R,d);return p1(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(on.store),i=t.store(xt.store);return t.store(Yn.store).get(Yn.key).next(function(o){var u=[];return i.$t(function(a,l){var f=new rt(a),d=function(p){return[0,Nr(p)]}(f);u.push(n.get(d).next(function(p){return p?J.resolve():function(g){return n.put(new on(0,Nr(g),o.highestListenSequenceNumber))}(f)}))}).next(function(){return J.waitFor(u)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Vo.store,{keyPath:Vo.keyPath});var i=n.store(Vo.store),o=new ly,u=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:Nr(f)})}};return n.store(xt.store).$t({Ft:!0},function(a,l){var f=new rt(a);return u(f.popLast())}).next(function(){return n.store(fn.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=ui(f);return u(d.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(Un.store);return i.$t(function(o,u){var a=Ta(u),l=h1(n.R,a);return i.put(l)})},e}();function eI(e){e.createObjectStore(on.store,{keyPath:on.keyPath}).createIndex(on.documentTargetsIndex,on.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Un.store,{keyPath:Un.keyPath}).createIndex(Un.queryTargetsIndexName,Un.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Yn.store)}var qv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",VF=function(){function e(t,n,i,o,u,a,l,f,d,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=u,this.window=a,this.document=l,this.De=d,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(g){return Promise.resolve()},!e.yt())throw new X(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MF(this,o),this.Le=n+"main",this.R=new l1(f),this.Be=new fu(this.Le,11,new jF(this.R)),this.qe=new OF(this.referenceDelegate,this.R),this.Ut=new NF,this.Ue=function(g,m){return new FF(g,m)}(this.R,this.Ut),this.Ke=new RF,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&Vt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new X(P.FAILED_PRECONDITION,qv);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new er(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return $(n,void 0,void 0,function(){return B(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return $(n,void 0,void 0,function(){return B(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return $(n,void 0,void 0,function(){return B(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Wl(n).put(new li(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(rs(n))return re("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return wa(t).get(Qn.key).next(function(i){return J.resolve(n.tn(i))})},e.prototype.en=function(t){return Wl(t).delete(this.clientId)},e.prototype.nn=function(){return $(this,void 0,void 0,function(){var t,n,i,o,u=this;return B(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=$n(l,li.store);return f.Nt().next(function(d){var p=u.rn(d,18e5),g=d.filter(function(m){return p.indexOf(m)===-1});return J.forEach(g,function(m){return f.delete(m.clientId)}).next(function(){return g})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?J.resolve(!0):wa(t).get(Qn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new X(P.FAILED_PRECONDITION,qv);return!1}}return!(!n.networkEnabled||!n.inForeground)||Wl(t).Nt().next(function(o){return n.rn(o,5e3).find(function(u){if(n.clientId!==u.clientId){var a=!n.networkEnabled&&u.networkEnabled,l=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&re("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return $(this,void 0,void 0,function(){var t=this;return B(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Qn.store,li.store],function(i){var o=new KE(i,er.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Wl(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return xF.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;re("IndexedDbPersistence","Starting transaction:",t);var u,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,TF,function(l){return u=new KE(l,o.Ne?o.Ne.next():er.o),n==="readwrite-primary"?o.Je(u).next(function(f){return!!f||o.Ye(u)}).next(function(f){if(!f)throw Vt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new X(P.FAILED_PRECONDITION,u1);return i(u)}).next(function(f){return o.Ze(u).next(function(){return f})}):o.dn(u).next(function(){return i(u)})}).then(function(l){return u.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return wa(t).get(Qn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new X(P.FAILED_PRECONDITION,qv)})},e.prototype.Ze=function(t){var n=new Qn(this.clientId,this.allowTabSynchronization,Date.now());return wa(t).put(Qn.key,n)},e.yt=function(){return fu.yt()},e.prototype.Xe=function(t){var n=this,i=wa(t);return i.get(Qn.key).next(function(o){return n.tn(o)?(re("IndexedDbPersistence","Releasing primary lease."),i.delete(Qn.key)):J.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(Vt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),zD()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return re("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Vt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Vt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function wa(e){return $n(e,Qn.store)}function Wl(e){return $n(e,li.store)}function fy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var y1=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var u=0,a=i;u<a.length;u++)a[u].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var u=0,a=n;u<a.length;u++)a[u].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):ny(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new be(n)).next(function(i){var o=Pg();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,u=n.collectionGroup,a=Pg();return this.Ut.getCollectionParents(t,u).next(function(l){return J.forEach(l,function(f){var d=function(p,g){return new vi(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,f.child(u));return o.An(t,d,i).next(function(p){p.forEach(function(g,m){a=a.insert(g,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,i){var o,u,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return u=l,a.Rn(t,u,o).next(function(f){o=f;for(var d=0,p=u;d<p.length;d++)for(var g=p[d],m=0,b=g.mutations;m<b.length;m++){var _=b[m],T=_.key,S=o.get(T);S==null&&(S=gn.newInvalidDocument(T),o=o.insert(T,S)),Og(_,S,g.localWriteTime),S.isFoundDocument()||(o=o.remove(T))}})}).next(function(){return o.forEach(function(l,f){Sc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=vt(),u=0,a=n;u<a.length;u++)for(var l=0,f=a[u].mutations;l<f.length;l++){var d=f[l];d instanceof Ji&&i.get(d.key)===null&&(o=o.add(d.key))}var p=i;return this.Ue.getEntries(t,o).next(function(g){return g.forEach(function(m,b){b.isFoundDocument()&&(p=p.insert(m,b))}),p})},e}(),qF=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=vt(),o=vt(),u=0,a=n.docChanges;u<a.length;u++){var l=a[u];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),w1=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var u=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(Ve.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=u.Cn(n,a);return(cf(n)||Df(n))&&u.Nn(n.limitType,l,o,i)?u.Dn(t,n):(Rg()<=tt.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xg(n)),u.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var i=new Qt(jA(t));return n.forEach(function(o,u){Sc(t,u)&&(i=i.add(u))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var u=t==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Rg()<=tt.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",xg(n)),this.Sn.getDocumentsMatchingQuery(t,n,Ve.min())},e}(),BF=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new mn(Ke),this.Fn=new ku(function(u){return Ec(u)},Sh),this.$n=Ve.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new y1(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(e,t,n,i){return new BF(e,t,n,i)}function _1(e,t){return $(this,void 0,void 0,function(){var n,i,o,u;return B(this,function(a){switch(a.label){case 0:return n=ue(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(t),o=new y1(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var p=[],g=[],m=vt(),b=0,_=f;b<_.length;b++){var T=_[b];p.push(T.batchId);for(var S=0,x=T.mutations;S<x.length;S++){var O=x[S];m=m.add(O.key)}}for(var F=0,V=d;F<V.length;F++){var te=V[F];g.push(te.batchId);for(var U=0,me=te.mutations;U<me.length;U++){var z=me[U];m=m.add(z.key)}}return o.pn(l,m).next(function(oe){return{Ln:oe,removedBatchIds:p,addedBatchIds:g}})})})];case 1:return u=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),u)]}})})}function $F(e,t){var n=ue(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var p=f.batch,g=p.keys(),m=J.resolve();return g.forEach(function(b){m=m.next(function(){return d.getEntry(l,b)}).next(function(_){var T=f.docVersions.get(b);xe(T!==null),_.version.compareTo(T)<0&&(p.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,p)})}(n,i,t,u).next(function(){return u.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function E1(e){var t=ue(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function HF(e,t){var n=ue(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(p,g){var m=o.get(g);if(m){l.push(n.qe.removeMatchingKeys(u,p.removedDocuments,g).next(function(){return n.qe.addMatchingKeys(u,p.addedDocuments,g)}));var b=p.resumeToken;if(b.approximateByteSize()>0){var _=m.withResumeToken(b,i).withSequenceNumber(u.currentSequenceNumber);o=o.insert(g,_),function(T,S,x){return xe(S.resumeToken.approximateByteSize()>0),T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,_,p)&&l.push(n.qe.updateTargetData(u,_))}}});var f=Cr();if(t.documentUpdates.forEach(function(p,g){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(u,p))}),l.push(KF(u,a,t.documentUpdates,i,void 0).next(function(p){f=p})),!i.isEqual(Ve.min())){var d=n.qe.getLastRemoteSnapshotVersion(u).next(function(p){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});l.push(d)}return J.waitFor(l).next(function(){return a.apply(u)}).next(function(){return n.Mn.En(u,f)}).next(function(){return f})}).then(function(u){return n.kn=o,u})}function KF(e,t,n,i,o){var u=vt();return n.forEach(function(a){return u=u.add(a)}),t.getEntries(e,u).next(function(a){var l=Cr();return n.forEach(function(f,d){var p=a.get(f),g=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual(Ve.min())?(t.removeEntry(f,g),l=l.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d,g),l=l.insert(f,d)):re("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),l})}function zF(e,t){var n=ue(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function Uf(e,t){var n=ue(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(u){return u?(o=u,J.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new Ch(t,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function pu(e,t,n){return $(this,void 0,void 0,function(){var i,o,u,a;return B(this,function(l){switch(l.label){case 0:i=ue(e),o=i.kn.get(t),u=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!rs(a=l.sent()))throw a;return re("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function jf(e,t,n){var i=ue(e),o=Ve.min(),u=vt();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var p=ue(l),g=p.Fn.get(d);return g!==void 0?J.resolve(p.kn.get(g)):p.qe.getTargetData(f,d)}(i,a,Jr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){u=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,t,n?o:Ve.min(),n?u:vt())}).next(function(l){return{documents:l,Bn:u}})})}function I1(e,t){var n=ue(e),i=ue(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,t).next(function(a){return a?a.target:null})})}function T1(e){var t=ue(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var a=ue(i),l=Cr(),f=cy(u),d=Di(o),p=IDBKeyRange.lowerBound(f,!0);return d.$t({index:xt.readTimeIndex,range:p},function(g,m){var b=Lg(a.R,m);l=l.insert(b.key,b),f=m.readTime}).next(function(){return{wn:l,readTime:f1(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function GF(e){return $(this,void 0,void 0,function(){var t;return B(this,function(n){return[2,(t=ue(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=Di(o),a=Ve.min();return u.$t({index:xt.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=f1(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WF=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return J.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:Cn(i.createTime)}),J.resolve()},e.prototype.getNamedQuery=function(t,n){return J.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:d1(i.bundledQuery),readTime:Cn(i.readTime)}}(n)),J.resolve()},e}(),hy=function(){function e(){this.Wn=new Qt(Jt.Gn),this.zn=new Qt(Jt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new Jt(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Jt(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new be(new rt([])),o=new Jt(i,t),u=new Jt(i,t+1),a=[];return this.zn.forEachInRange([o,u],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new be(new rt([])),i=new Jt(n,t),o=new Jt(n,t+1),u=vt();return this.zn.forEachInRange([i,o],function(a){u=u.add(a.key)}),u},e.prototype.containsKey=function(t){var n=new Jt(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),Jt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return be.comparator(t.key,n.key)||Ke(t.ns,n.ns)},e.Hn=function(t,n){return Ke(t.ns,n.ns)||be.comparator(t.key,n.key)},e}(),XF=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Qt(Jt.Gn)}return e.prototype.checkEmpty=function(t){return J.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new ay(u,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new Jt(d.key,u)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return J.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return J.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),u=o<0?0:o;return J.resolve(this._n.length>u?this._n[u]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return J.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return J.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new Jt(n,0),u=new Jt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,u],function(l){var f=i.os(l.ns);a.push(f)}),J.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Qt(Ke);return n.forEach(function(u){var a=new Jt(u,0),l=new Jt(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),J.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,u=i;be.isDocumentKey(u)||(u=u.child(""));var a=new Jt(new be(u),0),l=new Qt(Ke);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),J.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var u=n.os(o);u!==null&&i.push(u)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;xe(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return J.forEach(n.mutations,function(u){var a=new Jt(u.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new Jt(n,0),o=this.rs.firstAfterOrEqual(i);return J.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,J.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),QF=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new mn(be.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,u=this.docs.get(o),a=u?u.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return J.resolve(i?i.document.clone():gn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=Cr();return n.forEach(function(u){var a=i.docs.get(u);o=o.insert(u,a?a.document.clone():gn.newInvalidDocument(u))}),J.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=Cr(),u=new be(n.path.child("")),a=this.docs.getIteratorFrom(u);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,p=d.document,g=d.readTime;if(!n.path.isPrefixOf(f.path))break;g.compareTo(i)<=0||Sc(n,p)&&(o=o.insert(p.key,p.clone()))}return J.resolve(o)},e.prototype.fs=function(t,n){return J.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new YF(this)},e.prototype.getSize=function(t){return J.resolve(this.size)},e}(),YF=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return Te(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(u,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),J.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(m1),JF=function(){function e(t){this.persistence=t,this.ds=new ku(function(n){return Ec(n)},Sh),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ws=0,this._s=new hy,this.targetCount=0,this.ys=Ff.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),J.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return J.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return J.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),J.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),J.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Ff(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,J.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),J.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,J.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,u=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),u++)}),J.waitFor(a).next(function(){return u})},e.prototype.getTargetCount=function(t){return J.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return J.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),J.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(function(a){u.push(o.markPotentiallyOrphaned(t,a))}),J.waitFor(u)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),J.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return J.resolve(i)},e.prototype.containsKey=function(t,n){return J.resolve(this._s.containsKey(n))},e}(),ZF=function(){function e(t,n){var i=this;this.gs={},this.Ne=new er(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new JF(this),this.Ut=new CF,this.Ue=function(o,u){return new QF(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new l1(n),this.Ke=new WF(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new XF(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;re("MemoryPersistence","Starting transaction:",t);var u=new eU(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(a){return o.referenceDelegate.Ts(u).next(function(){return a})}).toPromise().then(function(a){return u.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return J.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),eU=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return Te(t,e),t}(a1),tU=function(){function e(t){this.persistence=t,this.As=new hy,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ye()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),J.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),J.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),J.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(u){return i.vs.add(u.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(u){u.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.vs,function(o){var u=be.fromPath(o);return n.Ps(t,u).next(function(a){a||i.removeEntry(u)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return J.or([function(){return J.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),nn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(e,t){return"firestore_clients_"+e+"_"+t}function nI(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function Bv(e,t){return"firestore_targets_"+e+"_"+t}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");var rI=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,u=JSON.parse(i),a=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return a&&u.error&&(a=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(o=new X(u.error.code,u.error.message)),a?new e(t,n,u.state,o):(Vt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),$v=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new X(o.error.code,o.error.message)),u?new e(t,o.state,i):(Vt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),iI=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=Rh(),a=0;o&&a<i.activeTargetIds.length;++a)o=PA(i.activeTargetIds[a]),u=u.add(i.activeTargetIds[a]);return o?new e(t,u):(Vt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),nU=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Vt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Mg=function(){function e(){this.activeTargetIds=Rh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Hv=function(){function e(t,n,i,o,u){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new mn(Ke),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=tI(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Mg),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return $(this,void 0,void 0,function(){var t,n,i,o,u,a,l,f,d,p,g,m=this;return B(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=b.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(u=this.getItem(tI(this.persistenceKey,o)))&&(a=iI.Vs(o,u))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,p=this.$s;d<p.length;d++)g=p[d],this.ks(g);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(Bv(this.persistenceKey,t));if(i){var o=$v.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Bv(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(u){o.Hs(u)}),this.currentUser=t,i.forEach(function(u){o.addPendingMutation(u)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return re("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){re("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){re("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(re("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Vt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return $(n,void 0,void 0,function(){var o,u,a,l,f,d;return B(this,function(p){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(g){var m=er.o;if(g!=null)try{var b=JSON.parse(g);xe(typeof b=="number"),m=b}catch(_){Vt("SharedClientState","Failed to read sequence number from WebStorage",_)}return m}(i.newValue))!==er.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new rI(this.currentUser,t,n,i),u=nI(this.persistenceKey,this.currentUser,t);this.setItem(u,o.Ss())},e.prototype.Hs=function(t){var n=nI(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=Bv(this.persistenceKey,t),u=new $v(t,n,i);this.setItem(o,u.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return iI.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return rI.Vs(new nn(u),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return $v.Vs(o,n)},e.prototype.js=function(t){return nU.Vs(t)},e.prototype.ii=function(t){return $(this,void 0,void 0,function(){return B(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(re("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),u=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){u.has(d)||l.push(d)}),u.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Rh();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),S1=function(){function e(){this.li=new Mg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Mg,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),rU=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),oI=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),iU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},oU=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),sU=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Te(t,e),t.prototype.Fi=function(n,i,o,u){return new Promise(function(a,l){var f=new MM;f.listenOnce(PM.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Vv.NO_ERROR:var p=f.getResponseJson();re("Connection","XHR received:",JSON.stringify(p)),a(p);break;case Vv.TIMEOUT:re("Connection",'RPC "'+n+'" timed out'),l(new X(P.DEADLINE_EXCEEDED,"Request time out"));break;case Vv.HTTP_ERROR:var g=f.getStatus();if(re("Connection",'RPC "'+n+'" failed with status:',g,"response text:",f.getResponseText()),g>0){var m=f.getResponseJson().error;if(m&&m.status&&m.message){var b=function(_){var T=_.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(T)>=0?T:P.UNKNOWN}(m.status);l(new X(b,m.message))}else l(new X(P.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new X(P.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{re("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(u);f.send(i,"POST",d,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=xM(),a=OM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new LM({})),this.ki(l.initMessageHeaders,i),jD()||BD()||$D()||HD()||KD()||qD()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");re("Connection","Creating WebChannel: "+f,l);var d=u.createWebChannel(f,l),p=!1,g=!1,m=new oU({Ei:function(_){g?re("Connection","Not sending because WebChannel is closed:",_):(p||(re("Connection","Opening WebChannel transport."),d.open(),p=!0),re("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),b=function(_,T,S){_.listen(T,function(x){try{S(x)}catch(O){setTimeout(function(){throw O},0)}})};return b(d,Hl.EventType.OPEN,function(){g||re("Connection","WebChannel transport opened.")}),b(d,Hl.EventType.CLOSE,function(){g||(g=!0,re("Connection","WebChannel transport closed"),m.Vi())}),b(d,Hl.EventType.ERROR,function(_){g||(g=!0,Cf("Connection","WebChannel transport errored:",_),m.Vi(new X(P.UNAVAILABLE,"The operation could not be completed")))}),b(d,Hl.EventType.MESSAGE,function(_){var T;if(!g){var S=_.data[0];xe(!!S);var x=S,O=x.error||((T=x[0])===null||T===void 0?void 0:T.error);if(O){re("Connection","WebChannel received error:",O);var F=O.status,V=function(U){var me=Ut[U];if(me!==void 0)return XA(me)}(F),te=O.message;V===void 0&&(V=P.INTERNAL,te="Unknown error status: "+F+" with message "+O.message),g=!0,m.Vi(new X(V,te)),d.close()}else re("Connection","WebChannel received:",S),m.Si(S)}}),b(a,DM.STAT_EVENT,function(_){_.stat===EE.PROXY?re("Connection","Detected buffering proxy"):_.stat===EE.NOPROXY&&re("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var u=this.xi(t,n);re("RestConnection","Sending: ",u,i);var a={};return this.ki(a,o),this.Fi(t,u,a,i).then(function(l){return re("RestConnection","Received: ",l),l},function(l){throw Cf("RestConnection",t+" failed with error: ",l,"url: ",u,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=iU[t];return this.Di+"/v1/"+n+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){return typeof window<"u"?window:null}function hf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(e){return new hF(e,!0)}var dy=function(){function e(t,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-o);u>0&&re("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),k1=function(){function e(t,n,i,o,u,a){this.Se=t,this.zi=i,this.Hi=o,this.Ji=u,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new dy(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return $(this,void 0,void 0,function(){return B(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return $(this,void 0,void 0,function(){return B(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return $(this,void 0,void 0,function(){return B(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Vt(n.toString()),Vt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===P.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var u=new X(P.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(u)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return $(t,void 0,void 0,function(){return B(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return re("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),uU=function(e){function t(n,i,o,u,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=u,l}return Te(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(u,a){var l;if("targetChange"in a){a.targetChange;var f=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:ye()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],p=function(S,x){return S.I?(xe(x===void 0||typeof x=="string"),qn.fromBase64String(x||"")):(xe(x===void 0||x instanceof Uint8Array),qn.fromUint8Array(x||new Uint8Array))}(u,a.targetChange.resumeToken),g=(m=a.targetChange.cause)&&function(S){var x=S.code===void 0?P.UNKNOWN:XA(S.code);return new X(x,S.message||"")}(m);l=new YA(f,d,p,g||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=ci(u,f.document.name),p=Cn(f.document.updateTime);var m=new Jn({mapValue:{fields:f.document.fields}}),b=(g=gn.newFoundDocument(d,p,m),f.targetIds||[]),_=f.removedTargetIds||[];l=new ff(b,_,g.key,g)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=ci(u,f.document),p=f.readTime?Cn(f.readTime):Ve.min(),m=gn.newNoDocument(d,p),g=f.removedTargetIds||[],l=new ff([],g,m.key,m);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=ci(u,f.document),p=f.removedTargetIds||[],l=new ff([],p,d,null);else{if(!("filter"in a))return ye();a.filter;var T=a.filter;T.targetId,f=T.count||0,d=new nF(f),p=T.targetId,l=new QA(p,d)}return l}(this.R,n),o=function(u){if(!("targetChange"in u))return Ve.min();var a=u.targetChange;return a.targetIds&&a.targetIds.length?Ve.min():a.readTime?Cn(a.readTime):Ve.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=tc(this.R),i.addTarget=function(u,a){var l,f=a.target;return(l=Of(f)?{documents:n1(u,f)}:{query:r1(u,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=JA(u,a.resumeToken):a.snapshotVersion.compareTo(Ve.min())>0&&(l.readTime=Za(u,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(u,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ye()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=tc(this.R),i.removeTarget=n,this.cr(i)},t}(k1),aU=function(e){function t(n,i,o,u,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=u,l.gr=!1,l}return Te(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(xe(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(u,a){return u&&u.length>0?(xe(a!==void 0),u.map(function(l){return function(f,d){var p=f.updateTime?Cn(f.updateTime):Cn(d);return p.isEqual(Ve.min())&&(p=Cn(d)),new ZM(p,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=Cn(n.commitTime);return this.listener.Tr(o,i)}return xe(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=tc(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return Lf(i.R,u)})};this.cr(o)},t}(k1),cU=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).credentials=n,u.Hi=i,u.R=o,u.Rr=!1,u}return Te(t,e),t.prototype.br=function(){if(this.Rr)throw new X(P.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new X(P.UNKNOWN,a.toString())})},t.prototype.$i=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new X(P.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),lU=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Vt(n),this.Vr=!1):re("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),fU=function(e,t,n,i,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return $(u,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return Zi(this)?(re("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return $(this,void 0,void 0,function(){var d;return B(this,function(p){switch(p.label){case 0:return(d=ue(f)).Or.add(4),[4,Ru(d)];case 1:return p.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Cc(d)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new lU(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(e){return $(this,void 0,void 0,function(){var t,n;return B(this,function(i){switch(i.label){case 0:if(!Zi(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ru(e){return $(this,void 0,void 0,function(){var t,n;return B(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function xh(e,t){var n=ue(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),gy(n)?vy(n):Nu(n).er()&&py(n,t))}function nc(e,t){var n=ue(e),i=Nu(n);n.$r.delete(t),i.er()&&R1(n,t),n.$r.size===0&&(i.er()?i.ir():Zi(n)&&n.Br.set("Unknown"))}function py(e,t){e.qr.U(t.targetId),Nu(e).mr(t)}function R1(e,t){e.qr.U(t),Nu(e).yr(t)}function vy(e){e.qr=new cF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Nu(e).start(),e.Br.Sr()}function gy(e){return Zi(e)&&!Nu(e).tr()&&e.$r.size>0}function Zi(e){return ue(e).Or.size===0}function C1(e){e.qr=void 0}function hU(e){return $(this,void 0,void 0,function(){return B(this,function(t){return e.$r.forEach(function(n,i){py(e,n)}),[2]})})}function dU(e,t){return $(this,void 0,void 0,function(){return B(this,function(n){return C1(e),gy(e)?(e.Br.Nr(t),vy(e)):e.Br.set("Unknown"),[2]})})}function pU(e,t,n){return $(this,void 0,void 0,function(){var i,o,u;return B(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof YA&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return $(this,void 0,void 0,function(){var d,p,g,m;return B(this,function(b){switch(b.label){case 0:d=f.cause,p=0,g=f.targetIds,b.label=1;case 1:return p<g.length?(m=g[p],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(m),l.qr.removeTarget(m),b.label=3;case 3:b.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),re("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Vf(e,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ff?e.qr.X(t):t instanceof QA?e.qr.rt(t):e.qr.et(t),n.isEqual(Ve.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,E1(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(p,g){if(p.resumeToken.approximateByteSize()>0){var m=l.$r.get(g);m&&l.$r.set(g,m.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach(function(p){var g=l.$r.get(p);if(g){l.$r.set(p,g.withResumeToken(qn.EMPTY_BYTE_STRING,g.snapshotVersion)),R1(l,p);var m=new Ch(g.target,p,1,g.sequenceNumber);py(l,m)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return re("RemoteStore","Failed to raise snapshot:",u=a.sent()),[4,Vf(e,u)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Vf(e,t,n){return $(this,void 0,void 0,function(){var i=this;return B(this,function(o){switch(o.label){case 0:if(!rs(t))throw t;return e.Or.add(1),[4,Ru(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return E1(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return $(i,void 0,void 0,function(){return B(this,function(u){switch(u.label){case 0:return re("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),e.Or.delete(1),[4,Cc(e)];case 2:return u.sent(),[2]}})})}),[2]}})})}function N1(e,t){return t().catch(function(n){return Vf(e,n,t)})}function Cu(e){return $(this,void 0,void 0,function(){var t,n,i,o,u;return B(this,function(a){switch(a.label){case 0:t=ue(e),n=Xi(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Zi(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,zF(t.localStore,i)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=Xi(l);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return u=a.sent(),[4,Vf(t,u)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return x1(t)&&O1(t),[2]}})})}function x1(e){return Zi(e)&&!Xi(e).tr()&&e.Fr.length>0}function O1(e){Xi(e).start()}function vU(e){return $(this,void 0,void 0,function(){return B(this,function(t){return Xi(e).Ar(),[2]})})}function gU(e){return $(this,void 0,void 0,function(){var t,n,i,o;return B(this,function(u){for(t=Xi(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function mU(e,t,n){return $(this,void 0,void 0,function(){var i,o;return B(this,function(u){switch(u.label){case 0:return i=e.Fr.shift(),o=kF.from(i,t,n),[4,N1(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return u.sent(),[4,Cu(e)];case 2:return u.sent(),[2]}})})}function yU(e,t){return $(this,void 0,void 0,function(){return B(this,function(n){switch(n.label){case 0:return t&&Xi(e).pr?[4,function(i,o){return $(this,void 0,void 0,function(){var u,a;return B(this,function(l){switch(l.label){case 0:return WA(a=o.code)&&a!==P.ABORTED?(u=i.Fr.shift(),Xi(i).sr(),[4,N1(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Cu(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return x1(e)&&O1(e),[2]}})})}function Fg(e,t){return $(this,void 0,void 0,function(){var n;return B(this,function(i){switch(i.label){case 0:return n=ue(e),t?(n.Or.delete(2),[4,Cc(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Ru(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Nu(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var u=ue(n);return u.br(),new uU(i,u.Hi,u.credentials,u.R,o)}(e.datastore,e.asyncQueue,{Ii:hU.bind(null,e),Ri:dU.bind(null,e),_r:pU.bind(null,e)}),e.Mr.push(function(n){return $(t,void 0,void 0,function(){return B(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),gy(e)?vy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),C1(e),i.label=3;case 3:return[2]}})})})),e.Ur}function Xi(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var u=ue(n);return u.br(),new aU(i,u.Hi,u.credentials,u.R,o)}(e.datastore,e.asyncQueue,{Ii:vU.bind(null,e),Ri:yU.bind(null,e),Ir:gU.bind(null,e),Tr:mU.bind(null,e)}),e.Mr.push(function(n){return $(t,void 0,void 0,function(){return B(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,Cu(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(re("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var wU=function(){function e(t,n,i,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,i,o,u){var a=new e(t,n,Date.now()+i,o,u);return a.start(i),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function xu(e,t){if(Vt("AsyncQueue",t+": "+e),rs(e))return new X(P.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P1=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||be.comparator(n.key,i.key)}:function(n,i){return be.comparator(n.key,i.key)},this.keyedMap=Pg(),this.sortedSet=new mn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),sI=function(){function e(){this.Qr=new mn(be.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ye():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),qf=function(){function e(t,n,i,o,u,a,l,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var u=[];return n.forEach(function(a){u.push({type:0,doc:a})}),new e(t,n,P1.emptySet(n),u,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Tc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),bU=function(){this.Wr=void 0,this.listeners=[]},_U=function(){this.queries=new ku(function(e){return UA(e)},Tc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(e,t){return $(this,void 0,void 0,function(){var n,i,o,u,a,l,f;return B(this,function(d){switch(d.label){case 0:if(n=ue(e),i=t.query,o=!1,(u=n.queries.get(i))||(o=!0,u=new bU),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=u,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=xu(l,"Initialization of query '"+xg(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,u),u.listeners.push(t),t.zr(n.onlineState),u.Wr&&t.Hr(u.Wr)&&wy(n),[2]}})})}function yy(e,t){return $(this,void 0,void 0,function(){var n,i,o,u,a;return B(this,function(l){return n=ue(e),i=t.query,o=!1,(u=n.queries.get(i))&&(a=u.listeners.indexOf(t))>=0&&(u.listeners.splice(a,1),o=u.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function EU(e,t){for(var n=ue(e),i=!1,o=0,u=t;o<u.length;o++){var a=u[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,p=f.listeners;d<p.length;d++)p[d].Hr(a)&&(i=!0);f.Wr=a}}i&&wy(n)}function IU(e,t,n){var i=ue(e),o=i.queries.get(t);if(o)for(var u=0,a=o.listeners;u<a.length;u++)a[u].onError(n);i.queries.delete(t)}function wy(e){e.Gr.forEach(function(t){t.next()})}var by=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}t=new qf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=qf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D1=function(e){this.key=e},L1=function(e){this.key=e},M1=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=vt(),this.mutatedKeys=vt(),this.lo=jA(t),this.fo=new P1(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new sI,u=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=u,f=!1,d=cf(this.query)&&u.size===this.query.limit?u.last():null,p=Df(this.query)&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal(function(m,b){var _=u.get(m),T=Sc(i.query,b)?b:null,S=!!_&&i.mutatedKeys.has(_.key),x=!!T&&(T.hasLocalMutations||i.mutatedKeys.has(T.key)&&T.hasCommittedMutations),O=!1;_&&T?_.data.isEqual(T.data)?S!==x&&(o.track({type:3,doc:T}),O=!0):i.yo(_,T)||(o.track({type:2,doc:T}),O=!0,(d&&i.lo(T,d)>0||p&&i.lo(T,p)<0)&&(f=!0)):!_&&T?(o.track({type:0,doc:T}),O=!0):_&&!T&&(o.track({type:1,doc:_}),O=!0,(d||p)&&(f=!0)),O&&(T?(l=l.add(T),a=x?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),cf(this.query)||Df(this.query))for(;l.size>this.query.limit;){var g=cf(this.query)?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),o.track({type:1,doc:g})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,u=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,g){return function(m,b){var _=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return _(m)-_(b)}(p.type,g.type)||o.lo(p.doc,g.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new qf(this.query,t.fo,u,a,t.mutatedKeys,f===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new sI,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=vt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new L1(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new D1(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=vt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return qf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),TU=function(e,t,n){this.query=e,this.targetId=t,this.view=n},SU=function(e){this.key=e,this.bo=!1},AU=function(){function e(t,n,i,o,u,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new ku(function(l){return UA(l)},Tc),this.Vo=new Map,this.So=new Set,this.Do=new mn(be.comparator),this.Co=new Map,this.No=new hy,this.xo={},this.ko=new Map,this.Fo=Ff.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function kU(e,t){return $(this,void 0,void 0,function(){var n,i,o,u,a,l;return B(this,function(f){switch(f.label){case 0:return n=Sy(e),(u=n.Po.get(t))?(i=u.targetId,n.sharedClientState.addLocalQueryTarget(i),o=u.view.Ro(),[3,4]):[3,1];case 1:return[4,Uf(n.localStore,Jr(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,_y(n,t,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&xh(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function _y(e,t,n,i){return $(this,void 0,void 0,function(){var o,u,a,l,f,d;return B(this,function(p){switch(p.label){case 0:return e.Oo=function(g,m,b){return function(_,T,S,x){return $(this,void 0,void 0,function(){var O,F,V;return B(this,function(te){switch(te.label){case 0:return O=T.view._o(S),O.Nn?[4,jf(_.localStore,T.query,!1).then(function(U){var me=U.documents;return T.view._o(me,O)})]:[3,2];case 1:O=te.sent(),te.label=2;case 2:return F=x&&x.targetChanges.get(T.targetId),V=T.view.applyChanges(O,_.isPrimaryClient,F),[2,(Ug(_,T.targetId,V.To),V.snapshot)]}})})}(e,g,m,b)},[4,jf(e.localStore,t,!0)];case 1:return o=p.sent(),u=new M1(t,o.Bn),a=u._o(o.documents),l=oy.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=u.applyChanges(a,e.isPrimaryClient,l),Ug(e,n,f.To),d=new TU(t,n,u),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function RU(e,t){return $(this,void 0,void 0,function(){var n,i,o;return B(this,function(u){switch(u.label){case 0:return n=ue(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!Tc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,pu(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),nc(n.remoteStore,i.targetId),vu(n,i.targetId)}).catch(is)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return vu(n,i.targetId),[4,pu(n.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function CU(e,t,n){return $(this,void 0,void 0,function(){var i,o,u,a;return B(this,function(l){switch(l.label){case 0:i=Ay(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var p,g=ue(f),m=jn.now(),b=d.reduce(function(_,T){return _.add(T.key)},vt());return g.persistence.runTransaction("Locally write mutations","readwrite",function(_){return g.Mn.pn(_,b).next(function(T){p=T;for(var S=[],x=0,O=d;x<O.length;x++){var F=O[x],V=tF(F,p.get(F.key));V!=null&&S.push(new Ji(F.key,V,DA(V.value.mapValue),pn.exists(!0)))}return g._n.addMutationBatch(_,m,S,d)})}).then(function(_){return _.applyToLocalDocumentSet(p),{batchId:_.batchId,changes:p}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,p){var g=f.xo[f.currentUser.toKey()];g||(g=new mn(Ke)),g=g.insert(d,p),f.xo[f.currentUser.toKey()]=g}(i,o.batchId,n),[4,eo(i,o.changes)];case 3:return l.sent(),[4,Cu(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return u=l.sent(),a=xu(u,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function F1(e,t){return $(this,void 0,void 0,function(){var n,i;return B(this,function(o){switch(o.label){case 0:n=ue(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,HF(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(u,a){var l=n.Co.get(a);l&&(xe(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?l.bo=!0:u.modifiedDocuments.size>0?xe(l.bo):u.removedDocuments.size>0&&(xe(l.bo),l.bo=!1))}),[4,eo(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,is(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function uI(e,t,n){var i=ue(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(u,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(u,a){var l=ue(u);l.onlineState=a;var f=!1;l.queries.forEach(function(d,p){for(var g=0,m=p.listeners;g<m.length;g++)m[g].zr(a)&&(f=!0)}),f&&wy(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function NU(e,t,n){return $(this,void 0,void 0,function(){var i,o,u,a,l,f;return B(this,function(d){switch(d.label){case 0:return(i=ue(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(u=o&&o.key)?(a=(a=new mn(be.comparator)).insert(u,gn.newNoDocument(u,Ve.min())),l=vt().add(u),f=new iy(Ve.min(),new Map,new Qt(Ke),a,l),[4,F1(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(u),i.Co.delete(t),Ty(i),[3,4];case 2:return[4,pu(i.localStore,t,!1).then(function(){return vu(i,t,n)}).catch(is)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function xU(e,t){return $(this,void 0,void 0,function(){var n,i,o;return B(this,function(u){switch(u.label){case 0:n=ue(e),i=t.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,$F(n.localStore,t)];case 2:return o=u.sent(),Iy(n,i,null),Ey(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,eo(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,is(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function OU(e,t,n){return $(this,void 0,void 0,function(){var i,o;return B(this,function(u){switch(u.label){case 0:i=ue(e),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(a,l){var f=ue(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var p;return f._n.lookupMutationBatch(d,l).next(function(g){return xe(g!==null),p=g.keys(),f._n.removeMutationBatch(d,g)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,p)})})}(i.localStore,t)];case 2:return o=u.sent(),Iy(i,t,n),Ey(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,eo(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,is(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function PU(e,t){return $(this,void 0,void 0,function(){var n,i,o,u,a;return B(this,function(l){switch(l.label){case 0:Zi((n=ue(e)).remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=ue(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return d._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return u=l.sent(),a=xu(u,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Ey(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Iy(e,t,n){var i=ue(e),o=i.xo[i.currentUser.toKey()];if(o){var u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function vu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var u=o[i];e.Po.delete(u),n&&e.vo.Mo(u,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||U1(e,a)})}function U1(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(nc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Ty(e))}function Ug(e,t,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof D1?(e.No.addReference(u.key,t),DU(e,u)):u instanceof L1?(re("SyncEngine","Document no longer in limbo: "+u.key),e.No.removeReference(u.key,t),e.No.containsKey(u.key)||U1(e,u.key)):ye()}}function DU(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(re("SyncEngine","New document in limbo: "+n),e.So.add(i),Ty(e))}function Ty(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new be(rt.fromString(t)),i=e.Fo.next();e.Co.set(i,new SU(n)),e.Do=e.Do.insert(n,i),xh(e.remoteStore,new Ch(Jr(Ic(n.path)),i,2,er.o))}}function eo(e,t,n){return $(this,void 0,void 0,function(){var i,o,u,a;return B(this,function(l){switch(l.label){case 0:return i=ue(e),o=[],u=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,t,n).then(function(p){if(p){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,p.fromCache?"not-current":"current"),o.push(p);var g=qF.Pn(d.targetId,p);u.push(g)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return $(this,void 0,void 0,function(){var p,g,m,b,_,T,S,x,O;return B(this,function(F){switch(F.label){case 0:p=ue(f),F.label=1;case 1:return F.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(V){return J.forEach(d,function(te){return J.forEach(te.bn,function(U){return p.persistence.referenceDelegate.addReference(V,te.targetId,U)}).next(function(){return J.forEach(te.vn,function(U){return p.persistence.referenceDelegate.removeReference(V,te.targetId,U)})})})})];case 2:return F.sent(),[3,4];case 3:if(!rs(g=F.sent()))throw g;return re("LocalStore","Failed to update sequence numbers: "+g),[3,4];case 4:for(m=0,b=d;m<b.length;m++)_=b[m],T=_.targetId,_.fromCache||(S=p.kn.get(T),x=S.snapshotVersion,O=S.withLastLimboFreeSnapshotVersion(x),p.kn=p.kn.insert(T,O));return[2]}})})}(i.localStore,u)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function LU(e,t){return $(this,void 0,void 0,function(){var n,i;return B(this,function(o){switch(o.label){case 0:return(n=ue(e)).currentUser.isEqual(t)?[3,3]:(re("SyncEngine","User change. New user:",t.toKey()),[4,_1(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(u,a){u.ko.forEach(function(l){l.forEach(function(f){f.reject(new X(P.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,eo(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function MU(e,t){var n=ue(e),i=n.Co.get(t);if(i&&i.bo)return vt().add(i.key);var o=vt(),u=n.Vo.get(t);if(!u)return o;for(var a=0,l=u;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function FU(e,t){return $(this,void 0,void 0,function(){var n,i,o;return B(this,function(u){switch(u.label){case 0:return[4,jf((n=ue(e)).localStore,t.query,!0)];case 1:return i=u.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Ug(n,t.targetId,o.To),o)]}})})}function UU(e){return $(this,void 0,void 0,function(){var t;return B(this,function(n){return[2,T1((t=ue(e)).localStore).then(function(i){return eo(t,i)})]})})}function jU(e,t,n,i){return $(this,void 0,void 0,function(){var o,u;return B(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=ue(l),p=ue(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(g){return p.jt(g,f).next(function(m){return m?d.Mn.pn(g,m):J.resolve(null)})})}((o=ue(e)).localStore,t)];case 1:return(u=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Cu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Iy(o,t,i||null),Ey(o,t),function(l,f){ue(ue(l)._n).Gt(f)}(o.localStore,t)):ye(),a.label=4;case 4:return[4,eo(o,u)];case 5:return a.sent(),[3,7];case 6:re("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function VU(e,t){return $(this,void 0,void 0,function(){var n,i,o,u,a,l,f,d;return B(this,function(p){switch(p.label){case 0:return Sy(n=ue(e)),Ay(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,aI(n,i.toArray())]);case 1:return o=p.sent(),n.$o=!0,[4,Fg(n.remoteStore,!0)];case 2:for(p.sent(),u=0,a=o;u<a.length;u++)l=a[u],xh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(g,m){n.sharedClientState.isLocalQueryTarget(m)?f.push(m):d=d.then(function(){return vu(n,m),pu(n.localStore,m,!0)}),nc(n.remoteStore,m)}),[4,d]);case 4:return p.sent(),[4,aI(n,f)];case 5:return p.sent(),function(g){var m=ue(g);m.Co.forEach(function(b,_){nc(m.remoteStore,_)}),m.No.ts(),m.Co=new Map,m.Do=new mn(be.comparator)}(n),n.$o=!1,[4,Fg(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function aI(e,t,n){return $(this,void 0,void 0,function(){var i,o,u,a,l,f,d,p,g,m,b,_,T,S;return B(this,function(x){switch(x.label){case 0:i=ue(e),o=[],u=[],a=0,l=t,x.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(p=i.Vo.get(f))&&p.length!==0?[4,Uf(i.localStore,Jr(p[0]))]:[3,7]):[3,13];case 2:d=x.sent(),g=0,m=p,x.label=3;case 3:return g<m.length?(b=m[g],_=i.Po.get(b),[4,FU(i,_)]):[3,6];case 4:(T=x.sent()).snapshot&&u.push(T.snapshot),x.label=5;case 5:return g++,[3,3];case 6:return[3,11];case 7:return[4,I1(i.localStore,f)];case 8:return S=x.sent(),[4,Uf(i.localStore,S)];case 9:return d=x.sent(),[4,_y(i,j1(S),f,!1)];case 10:x.sent(),x.label=11;case 11:o.push(d),x.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(u),o)]}})})}function j1(e){return MA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function qU(e){var t=ue(e);return ue(ue(t.localStore).persistence).fn()}function BU(e,t,n,i){return $(this,void 0,void 0,function(){var o,u,a;return B(this,function(l){switch(l.label){case 0:return(o=ue(e)).$o?(re("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,T1(o.localStore)];case 3:return u=l.sent(),a=iy.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,eo(o,u,a)];case 4:return l.sent(),[3,8];case 5:return[4,pu(o.localStore,t,!0)];case 6:return l.sent(),vu(o,t,i),[3,8];case 7:ye(),l.label=8;case 8:return[2]}})})}function $U(e,t,n){return $(this,void 0,void 0,function(){var i,o,u,a,l,f,d,p,g,m;return B(this,function(b){switch(b.label){case 0:if(!(i=Sy(e)).$o)return[3,10];o=0,u=t,b.label=1;case 1:return o<u.length?(a=u[o],i.Vo.has(a)?(re("SyncEngine","Adding an already active target "+a),[3,5]):[4,I1(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,Uf(i.localStore,l)];case 3:return f=b.sent(),[4,_y(i,j1(l),f.targetId,!1)];case 4:b.sent(),xh(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(_){return B(this,function(T){switch(T.label){case 0:return i.Vo.has(_)?[4,pu(i.localStore,_,!1).then(function(){nc(i.remoteStore,_),vu(i,_)}).catch(is)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},p=0,g=n,b.label=7;case 7:return p<g.length?(m=g[p],[5,d(m)]):[3,10];case 8:b.sent(),b.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function Sy(e){var t=ue(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=F1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NU.bind(null,t),t.vo._r=EU.bind(null,t.eventManager),t.vo.Mo=IU.bind(null,t.eventManager),t}function Ay(e){var t=ue(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OU.bind(null,t),t}var V1=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return $(this,void 0,void 0,function(){return B(this,function(n){switch(n.label){case 0:return this.R=Nh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return b1(this.persistence,new w1,t.initialUser,this.R)},e.prototype.qo=function(t){return new ZF(tU.bs,this.R)},e.prototype.Bo=function(t){return new S1},e.prototype.terminate=function(){return $(this,void 0,void 0,function(){return B(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),q1=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).Qo=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return Te(t,e),t.prototype.initialize=function(n){return $(this,void 0,void 0,function(){var i=this;return B(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,GF(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Ay(this.Qo.syncEngine)];case 4:return o.sent(),[4,Cu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return b1(this.persistence,new w1,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new DF(i,n.asyncQueue)},t.prototype.qo=function(n){var i=fy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?$r.withCacheSize(this.cacheSizeBytes):$r.DEFAULT;return new VF(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,A1(),hf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new S1},t}(V1),HU=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return Te(t,e),t.prototype.initialize=function(n){return $(this,void 0,void 0,function(){var i,o=this;return B(this,function(u){switch(u.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof Hv?(this.sharedClientState.syncEngine={ui:jU.bind(null,i),ai:BU.bind(null,i),hi:$U.bind(null,i),fn:qU.bind(null,i),ci:UU.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(a){return $(o,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return[4,VU(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},t.prototype.Bo=function(n){var i=A1();if(!Hv.yt(i))throw new X(P.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=fy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Hv(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(q1),jg=function(){function e(){}return e.prototype.initialize=function(t,n){return $(this,void 0,void 0,function(){var i=this;return B(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return uI(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=LU.bind(null,this.syncEngine),[4,Fg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new _U},e.prototype.createDatastore=function(t){var n,i=Nh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new sU(n));return function(u,a,l){return new cU(u,a,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,u,a,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,u=function(f){return uI(l.syncEngine,f,0)},a=oI.yt()?new oI:new rU,new fU(n,i,o,u,a)},e.prototype.createSyncEngine=function(t,n){return function(i,o,u,a,l,f,d){var p=new AU(i,o,u,a,l,f);return d&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return $(this,void 0,void 0,function(){var n;return B(this,function(i){switch(i.label){case 0:return n=ue(t),re("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Ru(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),KU=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return $(this,void 0,void 0,function(){var n,i=this;return B(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new X(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,a){return $(this,void 0,void 0,function(){var l,f,d,p,g,m;return B(this,function(b){switch(b.label){case 0:return l=ue(u),f=tc(l.R)+"/documents",d={documents:a.map(function(_){return ec(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return p=b.sent(),g=new Map,p.forEach(function(_){var T=function(S,x){return"found"in x?function(O,F){xe(!!F.found),F.found.name,F.found.updateTime;var V=ci(O,F.found.name),te=Cn(F.found.updateTime),U=new Jn({mapValue:{fields:F.found.fields}});return gn.newFoundDocument(V,te,U)}(S,x):"missing"in x?function(O,F){xe(!!F.missing),xe(!!F.readTime);var V=ci(O,F.missing),te=Cn(F.readTime);return gn.newNoDocument(V,te)}(S,x):ye()}(l.R,_);g.set(T.key.toString(),T)}),m=[],[2,(a.forEach(function(_){var T=g.get(_.toString());xe(!!T),m.push(T)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(u){return i.recordVersion(u)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Rc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return $(this,void 0,void 0,function(){var t,n=this;return B(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,u){var a=be.fromPath(u);n.mutations.push(new ry(a,n.precondition(a)))}),[4,function(o,u){return $(this,void 0,void 0,function(){var a,l,f;return B(this,function(d){switch(d.label){case 0:return a=ue(o),l=tc(a.R)+"/documents",f={writes:u.map(function(p){return Lf(a.R,p)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ye();n=Ve.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new X(P.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?pn.updateTime(n):pn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Ve.min()))throw new X(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pn.updateTime(n)}return pn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),zU=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new dy(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return $(t,void 0,void 0,function(){var n,i,o=this;return B(this,function(u){return n=new KU(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!ns(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!WA(n)}return!1},e}(),GU=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=RA.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return $(o,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return re("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return a.sent(),this.user=u,[2]}})})})}return e.prototype.getConfiguration=function(){return $(this,void 0,void 0,function(){return B(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new X(P.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return $(t,void 0,void 0,function(){var i,o;return B(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=u.sent(),o=xu(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(e,t){return $(this,void 0,void 0,function(){var n,i,o=this;return B(this,function(u){switch(u.label){case 0:return e.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=u.sent(),[4,t.initialize(n)];case 2:return u.sent(),i=n.initialUser,e.setCredentialChangeListener(function(a){return $(o,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,_1(t.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function $1(e,t){return $(this,void 0,void 0,function(){var n,i;return B(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,ky(e)];case 1:return n=o.sent(),re("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(u){return function(a,l){return $(this,void 0,void 0,function(){var f,d;return B(this,function(p){switch(p.label){case 0:return(f=ue(a)).asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials"),d=Zi(f),f.Or.add(3),[4,Ru(f)];case 1:return p.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),f.Or.delete(3),[4,Cc(f)];case 3:return p.sent(),[2]}})})}(t.remoteStore,u)}),e.onlineComponents=t,[2]}})})}function ky(e){return $(this,void 0,void 0,function(){return B(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(re("FirestoreClient","Using default OfflineComponentProvider"),[4,B1(e,new V1)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Ph(e){return $(this,void 0,void 0,function(){return B(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(re("FirestoreClient","Using default OnlineComponentProvider"),[4,$1(e,new jg)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function cI(e){return ky(e).then(function(t){return t.persistence})}function H1(e){return ky(e).then(function(t){return t.localStore})}function lI(e){return Ph(e).then(function(t){return t.remoteStore})}function K1(e){return Ph(e).then(function(t){return t.syncEngine})}function gu(e){return $(this,void 0,void 0,function(){var t,n;return B(this,function(i){switch(i.label){case 0:return[4,Ph(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=kU.bind(null,t.syncEngine),n.onUnlisten=RU.bind(null,t.syncEngine),n)]}})})}function fI(e,t,n){var i=this;n===void 0&&(n={});var o=new Bn;return e.asyncQueue.enqueueAndForget(function(){return $(i,void 0,void 0,function(){var u;return B(this,function(a){switch(a.label){case 0:return u=function(l,f,d,p,g){var m=new Oh({next:function(_){f.enqueueAndForget(function(){return yy(l,b)});var T=_.docs.has(d);!T&&_.fromCache?g.reject(new X(P.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&p&&p.source==="server"?g.reject(new X(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(_)},error:function(_){return g.reject(_)}}),b=new by(Ic(d.path),m,{includeMetadataChanges:!0,so:!0});return my(l,b)},[4,gu(e)];case 1:return[2,u.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function hI(e,t,n){var i=this;n===void 0&&(n={});var o=new Bn;return e.asyncQueue.enqueueAndForget(function(){return $(i,void 0,void 0,function(){var u;return B(this,function(a){switch(a.label){case 0:return u=function(l,f,d,p,g){var m=new Oh({next:function(_){f.enqueueAndForget(function(){return yy(l,b)}),_.fromCache&&p.source==="server"?g.reject(new X(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(_)},error:function(_){return g.reject(_)}}),b=new by(d,m,{includeMetadataChanges:!0,so:!0});return my(l,b)},[4,gu(e)];case 1:return[2,u.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var WU=function(e,t,n,i,o,u,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=a,this.useFetchStreams=l},Bf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),dI=new Map,z1=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},pI=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(nn.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),XU=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),QU=function(){function e(t){var n=this;this.currentUser=nn.UNAUTHENTICATED,this.oc=new Bn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){re("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(re("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(re("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(xe(typeof o.accessToken=="string"),new z1(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return $(i,void 0,void 0,function(){return B(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return xe(t===null||typeof t=="string"),new nn(t)},e}(),YU=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=nn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),JU=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new YU(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(nn.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(e,t,n){if(!n)throw new X(P.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Cy(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new X(P.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function G1(e,t,n,i){if(t===!0&&i===!0)throw new X(P.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function vI(e){if(!be.isDocumentKey(e))throw new X(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function gI(e){if(be.isDocumentKey(e))throw new X(P.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Dh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ye()}function it(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new X(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Dh(e);throw new X(P.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function mI(e,t){if(t<=0)throw new X(P.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yI=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new X(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new X(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,G1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),rc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yI({}),this._settingsFrozen=!1,t instanceof Bf?(this._databaseId=t,this._credentials=new pI):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new X(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bf(i.options.projectId)}(t),this._credentials=new QU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new X(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new X(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yI(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new pI;switch(n.type){case"gapi":var i=n.client;return xe(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new JU(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new X(P.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=dI.get(t))&&(re("ComponentProvider","Removing Datastore"),dI.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),St=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Hi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),nr=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Hi=function(e){function t(n,i,o){var u=this;return(u=e.call(this,n,i,Ic(o))||this)._path=o,u.type="collection",u}return Te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new St(this.firestore,null,new be(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(nr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=ht(e),Ry("collection","path",t),e instanceof rc)return gI(n=rt.fromString.apply(rt,Et([t],i))),new Hi(e,null,n);if(!(e instanceof St||e instanceof Hi))throw new X(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return gI(n=rt.fromString.apply(rt,Et([e.path],i)).child(rt.fromString(t))),new Hi(e.firestore,null,n)}function df(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=ht(e),arguments.length===1&&(t=RA.u()),Ry("doc","path",t),e instanceof rc)return vI(n=rt.fromString.apply(rt,Et([t],i))),new St(e,null,new be(n));if(!(e instanceof St||e instanceof Hi))throw new X(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return vI(n=e._path.child(rt.fromString.apply(rt,Et([t],i)))),new St(e.firestore,e instanceof Hi?e.converter:null,new be(n))}function X1(e,t){return e=ht(e),t=ht(t),(e instanceof St||e instanceof Hi)&&(t instanceof St||t instanceof Hi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Q1(e,t){return e=ht(e),t=ht(t),e instanceof nr&&t instanceof nr&&e.firestore===t.firestore&&Tc(e._query,t._query)&&e.converter===t.converter}var ZU=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new dy(this,"async_queue_retry"),this.Ic=function(){var i=hf();i&&re("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=hf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=hf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Bn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return $(this,void 0,void 0,function(){var t,n=this;return B(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!rs(t=i.sent()))throw t;return re("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Vt("INTERNAL UNHANDLED ERROR: ",function(u){var a=u.message||"";return u.stack&&(a=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var u=wU.createAndSchedule(this,t,n,i,function(a){return o.vc(a)});return this.mc.push(u),u},e.prototype.Ac=function(){this.yc&&ye()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return $(this,void 0,void 0,function(){var t;return B(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var u=o[i];if(u.skipDelay(),t!=="all"&&u.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function mu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,u=["next","error","complete"];o<u.length;o++){var a=u[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(e)}var ej=-1,Wt=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new ZU,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Te(t,e),t.prototype._terminate=function(){return this._firestoreClient||Y1(this),this._firestoreClient.terminate()},t}(rc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(e){return e._firestoreClient||Y1(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Y1(e){var t,n=e._freezeSettings(),i=function(o,u,a,l){return new WU(o,u,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new GU(e._credentials,e._queue,i)}function wI(e,t,n){var i=this,o=new Bn;return e.asyncQueue.enqueue(function(){return $(i,void 0,void 0,function(){var u;return B(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,B1(e,n)];case 1:return a.sent(),[4,$1(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===P.FAILED_PRECONDITION||l.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(u=a.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function bI(e){if(e._initialized||e._terminated)throw new X(P.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new X(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Jo=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(qn.fromBase64String(t))}catch(n){throw new X(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(qn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),os=function(e){this._methodName=e},Lh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new X(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new X(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ke(this._lat,t._lat)||Ke(this._long,t._long)},e}(),tj=/^__.*__$/,nj=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Ji(t,this.data,this.fieldMask,n,this.fieldTransforms):new kc(t,this.data,n,this.fieldTransforms)},e}(),J1=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new Ji(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}var ek=function(){function e(t,n,i,o,u,a){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return $f(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(Z1(this.Nc)&&tj.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),rj=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||Nh(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new ek({Nc:t,methodName:n,qc:i,path:xr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ss(e){var t=e._freezeSettings(),n=Nh(e._databaseId);return new rj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Mh(e,t,n,i,o,u){u===void 0&&(u={});var a=e.Uc(u.merge||u.mergeFields?2:0,t,n,o);Py("Data must be an object, but it was:",a,i);var l,f,d=rk(i,a);if(u.merge)l=new ru(a.fieldMask),f=a.fieldTransforms;else if(u.mergeFields){for(var p=[],g=0,m=u.mergeFields;g<m.length;g++){var b=Vg(t,m[g],n);if(!a.contains(b))throw new X(P.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");ok(p,b)||p.push(b)}l=new ru(p),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new nj(new Jn(d),l,f)}var Ny=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(os);function tk(e,t,n){return new ek({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var ij=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype._toFieldTransform=function(n){return new Ac(n.path,new uu)},t.prototype.isEqual=function(n){return n instanceof t},t}(os),oj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var i=tk(this,n,!0),o=this.Kc.map(function(a){return us(a,i)}),u=new Qo(o);return new Ac(n.path,u)},t.prototype.isEqual=function(n){return this===n},t}(os),sj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var i=tk(this,n,!0),o=this.Kc.map(function(a){return us(a,i)}),u=new Yo(o);return new Ac(n.path,u)},t.prototype.isEqual=function(n){return this===n},t}(os),uj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var i=new au(n.R,BA(n.R,this.Qc));return new Ac(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(os);function xy(e,t,n,i){var o=e.Uc(1,t,n);Py("Data must be an object, but it was:",o,i);var u=[],a=Jn.empty();ts(i,function(f,d){var p=Dy(t,f,n);d=ht(d);var g=o.Oc(p);if(d instanceof Ny)u.push(p);else{var m=us(d,g);m!=null&&(u.push(p),a.set(p,m))}});var l=new ru(u);return new J1(a,l,o.fieldTransforms)}function Oy(e,t,n,i,o,u){var a=e.Uc(1,t,n),l=[Vg(t,i,n)],f=[o];if(u.length%2!=0)throw new X(P.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<u.length;d+=2)l.push(Vg(t,u[d])),f.push(u[d+1]);for(var p=[],g=Jn.empty(),m=l.length-1;m>=0;--m)if(!ok(p,l[m])){var b=l[m],_=f[m];_=ht(_);var T=a.Oc(b);if(_ instanceof Ny)p.push(b);else{var S=us(_,T);S!=null&&(p.push(b),g.set(b,S))}}var x=new ru(p);return new J1(g,x,a.fieldTransforms)}function nk(e,t,n,i){return i===void 0&&(i=!1),us(n,e.Uc(i?4:3,t))}function us(e,t){if(ik(e=ht(e)))return Py("Unsupported field value:",t,e),rk(e,t);if(e instanceof os)return function(n,i){if(!Z1(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,a=0,l=n;a<l.length;a++){var f=us(l[a],i.Mc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=ht(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return BA(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=jn.fromDate(n);return{timestampValue:Za(i.R,o)}}if(n instanceof jn)return o=new jn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Za(i.R,o)};if(n instanceof Lh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Jo)return{bytesValue:JA(i.R,n._byteString)};if(n instanceof St){o=i.databaseId;var u=n.firestore._databaseId;if(!u.isEqual(o))throw i.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:sy(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+Dh(n))}(e,t)}function rk(e,t){var n={};return NA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ts(e,function(i,o){var u=us(o,t.kc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function ik(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof jn||e instanceof Lh||e instanceof Jo||e instanceof St||e instanceof os)}function Py(e,t,n){if(!ik(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=Dh(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function Vg(e,t,n){if((t=ht(t))instanceof Wr)return t._internalPath;if(typeof t=="string")return Dy(e,t);throw $f("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var aj=new RegExp("[~\\*/\\[\\]]");function Dy(e,t,n){if(t.search(aj)>=0)throw $f("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Wr.bind.apply(Wr,Et([void 0],t.split("."))))()._internalPath}catch{throw $f("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function $f(e,t,n,i,o){var u=i&&!i.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(u||a)&&(f+=" (found",u&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new X(P.INVALID_ARGUMENT,(l+=". ")+e+f)}function ok(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ic=function(){function e(t,n,i,o,u){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new St(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new cj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Hf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),cj=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(ic);function Hf(e,t){return typeof t=="string"?Dy(e,t):t instanceof Wr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Do=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),fi=function(e){function t(n,i,o,u,a,l){var f=this;return(f=e.call(this,n,i,o,u,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return Te(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Pa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(Hf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(ic),Pa=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(fi),Ui=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Do(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new Pa(i._firestore,i._userDataWriter,o.key,o,new Do(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Pa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Do(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Pa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Do(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:lj(l.type),doc:f,oldIndex:d,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function lj(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}function sk(e,t){return e instanceof fi&&t instanceof fi?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ui&&t instanceof Ui&&e._firestore===t._firestore&&Q1(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(e){if(Df(e)&&e.explicitOrderBy.length===0)throw new X(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nc=function(){};function Ci(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var u=o[i];e=u._apply(e)}return e}var fj=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).jc=n,u.Wc=i,u.Gc=o,u.type="where",u}return Te(t,e),t.prototype._apply=function(n){var i=ss(n.firestore),o=function(u,a,l,f,d,p,g){var m;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new X(P.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){SI(g,p);for(var b=[],_=0,T=g;_<T.length;_++){var S=T[_];b.push(TI(f,u,S))}m={arrayValue:{values:b}}}else m=TI(f,u,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||SI(g,p),m=nk(l,"where",g,p==="in"||p==="not-in");var x=tr.create(d,p,m);return function(O,F){if(F.g()){var V=ty(O);if(V!==null&&!V.isEqual(F.field))throw new X(P.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+V.toString()+"' and '"+F.field.toString()+"'");var te=ey(O);te!==null&&ck(O,F.field,te)}var U=function(me,z){for(var oe=0,k=me.filters;oe<k.length;oe++){var Xe=k[oe];if(z.indexOf(Xe.op)>=0)return Xe.op}return null}(O,function(me){switch(me){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(F.op));if(U!==null)throw U===F.op?new X(P.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+F.op.toString()+"' filter."):new X(P.INVALID_ARGUMENT,"Invalid query. You cannot use '"+F.op.toString()+"' filters with '"+U.toString()+"' filters.")}(u,x),x}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new nr(n.firestore,n.converter,function(u,a){var l=u.filters.concat([a]);return new vi(u.path,u.collectionGroup,u.explicitOrderBy.slice(),l,u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))},t}(Nc),hj=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return Te(t,e),t.prototype._apply=function(n){var i=function(o,u,a){if(o.startAt!==null)throw new X(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new X(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Gs(u,a);return function(f,d){if(ey(f)===null){var p=ty(f);p!==null&&ck(f,p,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new nr(n.firestore,n.converter,function(o,u){var a=o.explicitOrderBy.concat([u]);return new vi(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Nc),_I=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Hc=i,u.Jc=o,u}return Te(t,e),t.prototype._apply=function(n){return new nr(n.firestore,n.converter,FA(n._query,this.Hc,this.Jc))},t}(Nc),EI=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Te(t,e),t.prototype._apply=function(n){var i=ak(n,this.type,this.Yc,this.Xc);return new nr(n.firestore,n.converter,function(o,u){return new vi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(n._query,i))},t}(Nc),II=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Te(t,e),t.prototype._apply=function(n){var i=ak(n,this.type,this.Yc,this.Xc);return new nr(n.firestore,n.converter,function(o,u){return new vi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(n._query,i))},t}(Nc);function ak(e,t,n,i){if(n[0]=ht(n[0]),n[0]instanceof ic)return function(u,a,l,f,d){if(!f)throw new X(P.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],g=0,m=su(u);g<m.length;g++){var b=m[g];if(b.field.isKeyField())p.push(xf(a,f.key));else{var _=f.data.field(b.field);if(Ym(_))throw new X(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var T=b.field.canonicalString();throw new X(P.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+T+"' (used as the orderBy) does not exist.")}p.push(_)}}return new Ja(p,d)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=ss(e.firestore);return function(u,a,l,f,d,p){var g=u.explicitOrderBy;if(d.length>g.length)throw new X(P.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],b=0;b<d.length;b++){var _=d[b];if(g[b].field.isKeyField()){if(typeof _!="string")throw new X(P.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!ny(u)&&_.indexOf("/")!==-1)throw new X(P.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var T=u.path.child(rt.fromString(_));if(!be.isDocumentKey(T))throw new X(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+T+"' is not because it contains an odd number of segments.");var S=new be(T);m.push(xf(a,S))}else{var x=nk(l,f,_);m.push(x)}}return new Ja(m,p)}(e._query,e.firestore._databaseId,o,t,n,i)}function TI(e,t,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new X(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ny(t)&&n.indexOf("/")!==-1)throw new X(P.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(rt.fromString(n));if(!be.isDocumentKey(i))throw new X(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return xf(e,new be(i))}if(n instanceof St)return xf(e,n._key);throw new X(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Dh(n)+".")}function SI(e,t){if(!Array.isArray(e)||e.length===0)throw new X(P.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new X(P.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function ck(e,t,n){if(!n.isEqual(t))throw new X(P.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ly=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Xo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return jt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(iu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ye()}},e.prototype.convertObject=function(t,n){var i=this,o={};return ts(t.fields,function(u,a){o[u]=i.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new Lh(jt(t.latitude),jt(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=OA(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Qa(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Wi(t);return new jn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=rt.fromString(t);xe(s1(i));var o=new Bf(i.get(1),i.get(3)),u=new be(i.popFirst(5));return o.isEqual(n)||Vt("Document "+u+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var dj=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Te(t,e),t.prototype.convertBytes=function(n){return new Jo(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new St(this.firestore,null,i)},t}(Ly),pj=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ss(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=ji(t,this._firestore),u=Fh(o.converter,n,i),a=Mh(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,pn.none())),this},e.prototype.update=function(t,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this._verifyNotCommitted();var a,l=ji(t,this._firestore);return a=typeof(n=ht(n))=="string"||n instanceof Wr?Oy(this._dataReader,"WriteBatch.update",l._key,n,i,o):xy(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,pn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=ji(t,this._firestore);return this._mutations=this._mutations.concat(new Rc(n._key,pn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new X(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(e,t){if((e=ht(e)).firestore!==t)throw new X(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qo=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Te(t,e),t.prototype.convertBytes=function(n){return new Jo(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new St(this.firestore,null,i)},t}(Ly);function AI(e,t,n){e=it(e,St);var i=it(e.firestore,Wt),o=Fh(e.converter,t,n);return xc(i,[Mh(ss(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,pn.none())])}function kI(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=it(e,St);var u=it(e.firestore,Wt),a=ss(u);return xc(u,[(typeof(t=ht(t))=="string"||t instanceof Wr?Oy(a,"updateDoc",e._key,t,n,i):xy(a,"updateDoc",e._key,t)).toMutation(e._key,pn.exists(!0))])}function lk(e){for(var t,n,i,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];e=ht(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||mu(o[l])||(a=o[l],l++);var f,d,p,g={includeMetadataChanges:a.includeMetadataChanges};if(mu(o[l])){var m=o[l];o[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),o[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),o[l+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}if(e instanceof St)d=it(e.firestore,Wt),p=Ic(e._key.path),f={next:function(T){o[l]&&o[l](qg(d,e,T))},error:o[l+1],complete:o[l+2]};else{var b=it(e,nr);d=it(b.firestore,Wt),p=b._query;var _=new qo(d);f={next:function(T){o[l]&&o[l](new Ui(d,_,b,T))},error:o[l+1],complete:o[l+2]},uk(e._query)}return function(T,S,x,O){var F=this,V=new Oh(O),te=new by(S,V,x);return T.asyncQueue.enqueueAndForget(function(){return $(F,void 0,void 0,function(){var U;return B(this,function(me){switch(me.label){case 0:return U=my,[4,gu(T)];case 1:return[2,U.apply(void 0,[me.sent(),te])]}})})}),function(){V.Wo(),T.asyncQueue.enqueueAndForget(function(){return $(F,void 0,void 0,function(){var U;return B(this,function(me){switch(me.label){case 0:return U=yy,[4,gu(T)];case 1:return[2,U.apply(void 0,[me.sent(),te])]}})})})}}(hn(d),p,g,f)}function xc(e,t){return function(n,i){var o=this,u=new Bn;return n.asyncQueue.enqueueAndForget(function(){return $(o,void 0,void 0,function(){var a;return B(this,function(l){switch(l.label){case 0:return a=CU,[4,K1(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,u])]}})})}),u.promise}(hn(e),t)}function qg(e,t,n){var i=n.docs.get(t._key),o=new qo(e);return new fi(e,o,t._key,i,new Do(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vj=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return Te(t,e),t.prototype.get=function(n){var i=this,o=ji(n,this._firestore),u=new qo(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new fi(i._firestore,u,o._key,a._document,new Do(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=ss(t)}return e.prototype.get=function(t){var n=this,i=ji(t,this._firestore),o=new dj(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return ye();var a=u[0];if(a.isFoundDocument())return new ic(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new ic(n._firestore,o,i._key,null,i.converter);throw ye()})},e.prototype.set=function(t,n,i){var o=ji(t,this._firestore),u=Fh(o.converter,n,i),a=Mh(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var a,l=ji(t,this._firestore);return a=typeof(n=ht(n))=="string"||n instanceof Wr?Oy(this._dataReader,"Transaction.update",l._key,n,i,o):xy(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=ji(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(){if(typeof Uint8Array>"u")throw new X(P.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function CI(){if(typeof atob>"u")throw new X(P.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var fk=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return CI(),new e(Jo.fromBase64String(t))},e.fromUint8Array=function(t){return RI(),new e(Jo.fromUint8Array(t))},e.prototype.toBase64=function(){return CI(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return RI(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),gj=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){bI(i=it(i,Wt));var u=hn(i),a=i._freezeSettings(),l=new jg;return wI(u,l,new q1(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){bI(n=it(n,Wt));var i=hn(n),o=n._freezeSettings(),u=new jg;return wI(i,u,new HU(u,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new X(P.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Bn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return $(i,void 0,void 0,function(){var u;return B(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return $(this,void 0,void 0,function(){var f;return B(this,function(d){switch(d.label){case 0:return fu.yt()?(f=l+"main",[4,fu.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(fy(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return u=a.sent(),o.reject(u),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),hk=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Bf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Cf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,u,a,l){var f;l===void 0&&(l={});var d=(o=it(o,rc))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==u&&Cf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:u+":"+a,ssl:!1})),l.mockUserToken){var p,g;if(typeof l.mockUserToken=="string")p=l.mockUserToken,g=nn.MOCK_USER;else{p=wS(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new X(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new nn(m)}o._credentials=new XU(new z1(p,g))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return $(n,void 0,void 0,function(){var i,o;return B(this,function(u){switch(u.label){case 0:return[4,cI(t)];case 1:return i=u.sent(),[4,lI(t)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=ue(a);return l.Or.delete(0),Cc(l)}(o))]}})})})}(hn(it(this._delegate,Wt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return $(n,void 0,void 0,function(){var i,o;return B(this,function(u){switch(u.label){case 0:return[4,cI(t)];case 1:return i=u.sent(),[4,lI(t)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!1),function(a){return $(this,void 0,void 0,function(){var l;return B(this,function(f){switch(f.label){case 0:return(l=ue(a)).Or.add(0),[4,Ru(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(hn(it(this._delegate,Wt)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&G1("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new Bn;return t.asyncQueue.enqueueAndForget(function(){return $(n,void 0,void 0,function(){var o;return B(this,function(u){switch(u.label){case 0:return o=PU,[4,K1(t)];case 1:return[2,o.apply(void 0,[u.sent(),i])]}})})}),i.promise}(hn(it(this._delegate,Wt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,u){var a=this,l=new Oh(u);return o.asyncQueue.enqueueAndForget(function(){return $(a,void 0,void 0,function(){var f;return B(this,function(d){switch(d.label){case 0:return f=function(p,g){ue(p).Gr.add(g),g.next()},[4,gu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return $(a,void 0,void 0,function(){var f;return B(this,function(d){switch(d.label){case 0:return f=function(p,g){ue(p).Gr.delete(g)},[4,gu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(hn(n=it(n,Wt)),mu(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new X(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Kf(this,W1(this._delegate,t))}catch(n){throw En(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Bo(this,df(this._delegate,t))}catch(n){throw En(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Vh(this,function(n,i){if(n=it(n,rc),Ry("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new X(P.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new nr(n,null,function(o){return new vi(rt.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw En(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(u,a){var l=this,f=new Bn;return u.asyncQueue.enqueueAndForget(function(){return $(l,void 0,void 0,function(){var d;return B(this,function(p){switch(p.label){case 0:return[4,function(g){return Ph(g).then(function(m){return m.datastore})}(u)];case 1:return d=p.sent(),new zU(u.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(hn(i),function(u){return o(new vj(i,u))})}(this._delegate,function(i){return t(new dk(n,i))})},e.prototype.batch=function(){var t=this;return hn(this._delegate),new pk(new pj(this._delegate,function(n){return xc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new X(P.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new X(P.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Uh=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Te(t,e),t.prototype.convertBytes=function(n){return new fk(new Jo(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Bo.eu(i,this.firestore,null)},t}(Ly);function mj(e){var t;t=e,Rr.setLogLevel(t)}var dk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Uh(t)}return e.prototype.get=function(t){var n=this,i=Lo(t);return this._delegate.get(i).then(function(o){return new oc(n._firestore,new fi(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=Lo(t);return i?(Cy("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=Lo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Et([l,n,i],u)),this},e.prototype.delete=function(t){var n=Lo(t);return this._delegate.delete(n),this},e}(),pk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=Lo(t);return i?(Cy("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=Lo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Et([l,n,i],u)),this},e.prototype.delete=function(t){var n=Lo(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),jh=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Pa(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new sc(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var u=o.get(n);return u||(u=new e(t,new Uh(t),n),o.set(n,u)),u},e}();jh.su=new WeakMap;var Bo=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Uh(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new X(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new St(n._delegate,i,new be(t)))},e.eu=function(t,n,i){return new e(n,new St(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Kf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Kf(this.firestore,W1(this._delegate,t))}catch(n){throw En(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=ht(t))instanceof St&&X1(this._delegate,t)},e.prototype.set=function(t,n){n=Cy("DocumentReference.set",n);try{return n?AI(this._delegate,t,n):AI(this._delegate,t)}catch(i){throw En(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?kI(this._delegate,t):kI.apply(void 0,Et([this._delegate,t,n],i))}catch(u){throw En(u,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return xc(it((t=this._delegate).firestore,Wt),[new Rc(t._key,pn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=vk(n),u=gk(n,function(a){return new oc(t.firestore,new fi(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return lk(this._delegate,o,u)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=it(i,St);var o=it(i.firestore,Wt),u=hn(o),a=new qo(o);return function(l,f){var d=this,p=new Bn;return l.asyncQueue.enqueueAndForget(function(){return $(d,void 0,void 0,function(){var g;return B(this,function(m){switch(m.label){case 0:return g=function(b,_,T){return $(this,void 0,void 0,function(){var S,x;return B(this,function(O){switch(O.label){case 0:return O.trys.push([0,2,,3]),[4,function(F,V){var te=ue(F);return te.persistence.runTransaction("read document","readonly",function(U){return te.Mn.mn(U,V)})}(b,_)];case 1:return(x=O.sent()).isFoundDocument()?T.resolve(x):x.isNoDocument()?T.resolve(null):T.reject(new X(P.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=O.sent(),x=xu(S,"Failed to get document '"+_+" from cache"),T.reject(x),[3,3];case 3:return[2]}})})},[4,H1(l)];case 1:return[2,g.apply(void 0,[m.sent(),f,p])]}})})}),p.promise}(u,i._key).then(function(l){return new fi(o,a,i._key,l,new Do(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=it(i,St);var o=it(i.firestore,Wt);return fI(hn(o),i._key,{source:"server"}).then(function(u){return qg(o,i,u)})}(this._delegate):function(i){i=it(i,St);var o=it(i.firestore,Wt);return fI(hn(o),i._key).then(function(u){return qg(o,i,u)})}(this._delegate)).then(function(i){return new oc(n.firestore,new fi(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(jh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function En(e,t,n){return e.message=e.message.replace(t,n),e}function vk(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!mu(i))return i}return{}}function gk(e,t){var n,i,o;return{next:function(u){o.next&&o.next(t(u))},error:(n=(o=mu(e[0])?e[0]:mu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var oc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Bo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return sk(this._delegate,t._delegate)},e}(),sc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(oc),Vh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Uh(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,Ci(this._delegate,function(o,u,a){var l=u,f=Hf("where",o);return new fj(f,l,a)}(t,n,i)))}catch(o){throw En(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ci(this._delegate,function(i,o){o===void 0&&(o="asc");var u=o,a=Hf("orderBy",i);return new hj(a,u)}(t,n)))}catch(i){throw En(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ci(this._delegate,function(n){return mI("limit",n),new _I("limit",n,"F")}(t)))}catch(n){throw En(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ci(this._delegate,function(n){return mI("limitToLast",n),new _I("limitToLast",n,"L")}(t)))}catch(n){throw En(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ci(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new EI("startAt",i,!0)}).apply(void 0,t)))}catch(i){throw En(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ci(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new EI("startAfter",i,!1)}).apply(void 0,t)))}catch(i){throw En(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ci(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new II("endBefore",i,!0)}).apply(void 0,t)))}catch(i){throw En(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ci(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new II("endAt",i,!1)}).apply(void 0,t)))}catch(i){throw En(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Q1(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=it(i,nr);var o=it(i.firestore,Wt),u=hn(o),a=new qo(o);return function(l,f){var d=this,p=new Bn;return l.asyncQueue.enqueueAndForget(function(){return $(d,void 0,void 0,function(){var g;return B(this,function(m){switch(m.label){case 0:return g=function(b,_,T){return $(this,void 0,void 0,function(){var S,x,O,F,V;return B(this,function(te){switch(te.label){case 0:return te.trys.push([0,2,,3]),[4,jf(b,_,!0)];case 1:return V=te.sent(),S=new M1(_,V.Bn),x=S._o(V.documents),O=S.applyChanges(x,!1),T.resolve(O.snapshot),[3,3];case 2:return F=te.sent(),V=xu(F,"Failed to execute query '"+_+" against cache"),T.reject(V),[3,3];case 3:return[2]}})})},[4,H1(l)];case 1:return[2,g.apply(void 0,[m.sent(),f,p])]}})})}),p.promise}(u,i._query).then(function(l){return new Ui(o,a,i,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=it(i,nr);var o=it(i.firestore,Wt),u=hn(o),a=new qo(o);return hI(u,i._query,{source:"server"}).then(function(l){return new Ui(o,a,i,l)})}(this._delegate):function(i){i=it(i,nr);var o=it(i.firestore,Wt),u=hn(o),a=new qo(o);return uk(i._query),hI(u,i._query).then(function(l){return new Ui(o,a,i,l)})}(this._delegate)).then(function(i){return new Bg(n.firestore,new Ui(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=vk(n),u=gk(n,function(a){return new Bg(t.firestore,new Ui(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return lk(this._delegate,o,u)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(jh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),yj=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new sc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Bg=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Vh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new sc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new yj(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new sc(i._firestore,o))})},e.prototype.isEqual=function(t){return sk(this._delegate,t._delegate)},e}(),Kf=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return Te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Bo(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Bo(this.firestore,n===void 0?df(this._delegate):df(this._delegate,n))}catch(i){throw En(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,u){var a=it(o.firestore,Wt),l=df(o),f=Fh(o.converter,u);return xc(a,[Mh(ss(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,pn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Bo(i.firestore,o)})},t.prototype.isEqual=function(n){return X1(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(jh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Vh);function Lo(e){return it(e,St)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wj=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Wr.bind.apply(Wr,Et([void 0],t)))}return e.documentId=function(){return new e(xr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=ht(t))instanceof Wr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),bj=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new ij("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Ny("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new oj("arrayUnion",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new sj("arrayRemove",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new uj("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),_j={Firestore:hk,GeoPoint:Lh,Timestamp:jn,Blob:fk,Transaction:dk,WriteBatch:pk,DocumentReference:Bo,DocumentSnapshot:oc,Query:Vh,QueryDocumentSnapshot:sc,QuerySnapshot:Bg,CollectionReference:Kf,FieldPath:wj,FieldValue:bj,setLogLevel:mj,CACHE_SIZE_UNLIMITED:ej};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(e){(function(t,n){t.INTERNAL.registerComponent(new hc("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},_j)))})(e,function(t,n){return new hk(t,new Wt(t,n),new gj)}),e.registerVersion("@firebase/firestore","2.4.1")}Ej(ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mk="firebasestorage.googleapis.com",yk="storageBucket",Ij=2*60*1e3,Tj=10*60*1e3,$t=function(e){Te(t,e);function t(n,i){var o=e.call(this,Kv(n),"Firebase Storage: "+i+" ("+Kv(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return Kv(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(_S);function Kv(e){return"storage/"+e}function My(){var e="An unknown error occurred, please check the error payload for server response.";return new $t("unknown",e)}function Sj(e){return new $t("object-not-found","Object '"+e+"' does not exist.")}function Aj(e){return new $t("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kj(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $t("unauthenticated",e)}function Rj(){return new $t("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function Cj(e){return new $t("unauthorized","User does not have permission to access '"+e+"'.")}function Nj(){return new $t("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function wk(){return new $t("canceled","User canceled the upload/download.")}function xj(e){return new $t("invalid-url","Invalid URL '"+e+"'.")}function Oj(e){return new $t("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function Pj(){return new $t("no-default-bucket","No default bucket found. Did you set the '"+yk+"' property when initializing the app?")}function bk(){return new $t("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Dj(){return new $t("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Lj(){return new $t("no-download-url","The given file does not have any download URLs.")}function Ws(e){return new $t("invalid-argument",e)}function _k(){return new $t("app-deleted","The Firebase app was deleted.")}function Ek(e){return new $t("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Da(e,t){return new $t("invalid-format","String does not match format '"+e+"': "+t)}function Xl(e){throw new $t("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},zv=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function Ik(e,t){switch(e){case cr.RAW:return new zv(Tk(t));case cr.BASE64:case cr.BASE64URL:return new zv(Sk(e,t));case cr.DATA_URL:return new zv(Uj(t),jj(t))}throw My()}function Tk(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var u=i,a=e.charCodeAt(++n);i=65536|(u&1023)<<10|a&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function Fj(e){var t;try{t=decodeURIComponent(e)}catch{throw Da(cr.DATA_URL,"Malformed data URL.")}return Tk(t)}function Sk(e,t){switch(e){case cr.BASE64:{var n=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(n||i){var o=n?"-":"_";throw Da(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case cr.BASE64URL:{var u=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(u||a){var o=u?"+":"/";throw Da(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=Mj(t)}catch{throw Da(e,"Invalid character found")}for(var f=new Uint8Array(l.length),d=0;d<l.length;d++)f[d]=l.charCodeAt(d);return f}var Ak=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Da(cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;i!=null&&(this.base64=Vj(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();function Uj(e){var t=new Ak(e);return t.base64?Sk(cr.BASE64,t.rest):Fj(t.rest)}function jj(e){var t=new Ak(e);return t.contentType}function Vj(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qj={STATE_CHANGED:"state_changed"},In={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Gv(e){switch(e){case"running":case"pausing":case"canceling":return In.RUNNING;case"paused":return In.PAUSED;case"success":return In.SUCCESS;case"canceled":return In.CANCELED;case"error":return In.ERROR;default:return In.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $o;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})($o||($o={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bj=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=$o.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=$o.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=$o.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,i,o){if(this.sent_)throw Xl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Xl("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Xl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Xl("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function $j(){return new Bj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hj=function(){function e(){}return e.prototype.createConnection=function(){return $j()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw Oj(t)},e.makeFromUrl=function(t,n){var i=null,o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+o+a,"i"),f={bucket:1,path:3};function d(oe){oe.path_=decodeURIComponent(oe.path)}for(var p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",b=new RegExp("^https?://"+g+"/"+p+"/b/"+o+"/o"+m,"i"),_={bucket:1,path:3},T=n===mk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",x=new RegExp("^https?://"+T+"/"+o+"/"+S,"i"),O={bucket:1,path:2},F=[{regex:l,indices:f,postModify:u},{regex:b,indices:_,postModify:d},{regex:x,indices:O,postModify:d}],V=0;V<F.length;V++){var te=F[V],U=te.regex.exec(t);if(U){var me=U[te.indices.bucket],z=U[te.indices.path];z||(z=""),i=new e(me,z),te.postModify(i);break}}if(i==null)throw xj(t);return i},e}(),Kj=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(e,t,n){var i=1,o=null,u=!1,a=0;function l(){return a===2}var f=!1;function d(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];f||(f=!0,t.apply(null,_))}function p(_){o=setTimeout(function(){o=null,e(g,l())},_)}function g(_){for(var T=[],S=1;S<arguments.length;S++)T[S-1]=arguments[S];if(!f){if(_){d.call.apply(d,Et([null,_],T));return}var x=l()||u;if(x){d.call.apply(d,Et([null,_],T));return}i<64&&(i*=2);var O;a===1?(a=2,O=0):O=(i+Math.random())*1e3,p(O)}}var m=!1;function b(_){m||(m=!0,!f&&(o!==null?(_||(a=2),clearTimeout(o),p(0)):_||(a=1)))}return p(0),setTimeout(function(){u=!0,b(!0)},n),b}function Gj(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(e){return e!==void 0}function Xj(e){return typeof e=="function"}function Qj(e){return typeof e=="object"&&!Array.isArray(e)}function qh(e){return typeof e=="string"||e instanceof String}function NI(e){return Fy()&&e instanceof Blob}function Fy(){return typeof Blob<"u"}function $g(e,t,n,i){if(i<t)throw Ws("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>n)throw Ws("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(e,t){var n=t.match(/^(\w+):\/\/.+/),i=n==null?void 0:n[1],o=t;return i==null&&(o="https://"+t),o+"/v0"+e}function kk(e){var t=encodeURIComponent,n="?";for(var i in e)if(e.hasOwnProperty(i)){var o=t(i)+"="+t(e[i]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yj=function(){function e(t,n,i,o,u,a,l,f,d,p,g){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=u.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=p,this.timeout_=d,this.pool_=g,this.promise_=new Promise(function(b,_){m.resolve_=b,m.reject_=_,m.start_()})}return e.prototype.start_=function(){var t=this;function n(o,u){if(u){o(!1,new Ql(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(f){var d=f.loaded,p=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var f=a.getErrorCode()===$o.NO_ERROR,d=a.getStatus();if(!f||t.isRetryStatusCode_(d)){var p=a.getErrorCode()===$o.ABORT;o(!1,new Ql(!1,null,p));return}var g=t.successCodes_.indexOf(d)!==-1;o(!0,new Ql(g,a))})}function i(o,u){var a=t.resolve_,l=t.reject_,f=u.connection;if(u.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());Wj(d)?a(d):a()}catch(g){l(g)}else if(f!==null){var p=My();p.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,p)):l(p)}else if(u.canceled){var p=t.appDelete_?_k():wk();l(p)}else{var p=Nj();l(p)}}this.canceled_?i(!1,new Ql(!1,null,!0)):this.backoffId_=zj(n,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Gj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=[408,429],o=i.indexOf(t)!==-1,u=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||u},e}(),Ql=function(){function e(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}return e}();function Jj(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Zj(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function eV(e,t){t&&(e["X-Firebase-GMPID"]=t)}function tV(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function nV(e,t,n,i,o,u){var a=kk(e.urlParams),l=e.url+a,f=Object.assign({},e.headers);return eV(f,t),Jj(f,n),Zj(f,u),tV(f,i),new Yj(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iV(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=rV();if(n!==void 0){for(var i=new n,o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}else{if(Fy())return new Blob(e);throw new $t("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function oV(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uy=function(){function e(t,n){var i=0,o="";NI(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(NI(this.data_)){var i=this.data_,o=oV(i,t,n);return o===null?null:new e(o)}else{var u=new Uint8Array(this.data_.buffer,t,n-t);return new e(u,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Fy()){var i=t.map(function(f){return f instanceof e?f.data_:f});return new e(iV.apply(null,i))}else{var o=t.map(function(f){return qh(f)?Ik(cr.RAW,f).data:f.data_}),u=0;o.forEach(function(f){u+=f.byteLength});var a=new Uint8Array(u),l=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)a[l++]=f[d]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(e){var t;try{t=JSON.parse(e)}catch{return null}return Qj(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function uV(e,t){var n=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?n:e+"/"+n}function Rk(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(e,t){return t}var bn=function(){function e(t,n,i,o){this.server=t,this.local=n||t,this.writable=!!i,this.xform=o||aV}return e}(),Yl=null;function cV(e){return!qh(e)||e.length<2?e:Rk(e)}function Bh(){if(Yl)return Yl;var e=[];e.push(new bn("bucket")),e.push(new bn("generation")),e.push(new bn("metageneration")),e.push(new bn("name","fullPath",!0));function t(u,a){return cV(a)}var n=new bn("name");n.xform=t,e.push(n);function i(u,a){return a!==void 0?Number(a):a}var o=new bn("size");return o.xform=i,e.push(o),e.push(new bn("timeCreated")),e.push(new bn("updated")),e.push(new bn("md5Hash",null,!0)),e.push(new bn("cacheControl",null,!0)),e.push(new bn("contentDisposition",null,!0)),e.push(new bn("contentEncoding",null,!0)),e.push(new bn("contentLanguage",null,!0)),e.push(new bn("contentType",null,!0)),e.push(new bn("metadata","customMetadata",!0)),Yl=e,Yl}function lV(e,t){function n(){var i=e.bucket,o=e.fullPath,u=new lr(i,o);return t._makeStorageReference(u)}Object.defineProperty(e,"ref",{get:n})}function fV(e,t,n){var i={};i.type="file";for(var o=n.length,u=0;u<o;u++){var a=n[u];i[a.local]=a.xform(i,t[a.server])}return lV(i,e),i}function Ck(e,t,n){var i=jy(t);if(i===null)return null;var o=i;return fV(e,o,n)}function hV(e,t,n){var i=jy(t);if(i===null||!qh(i.downloadTokens))return null;var o=i.downloadTokens;if(o.length===0)return null;var u=encodeURIComponent,a=o.split(","),l=a.map(function(f){var d=e.bucket,p=e.fullPath,g="/b/"+u(d)+"/o/"+u(p),m=to(g,n),b=kk({alt:"media",token:f});return m+b});return l[0]}function Vy(e,t){for(var n={},i=t.length,o=0;o<i;o++){var u=t[o];u.writable&&(n[u.server]=e[u.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xI="prefixes",OI="items";function dV(e,t,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[xI])for(var o=0,u=n[xI];o<u.length;o++){var a=u[o],l=a.replace(/\/$/,""),f=e._makeStorageReference(new lr(t,l));i.prefixes.push(f)}if(n[OI])for(var d=0,p=n[OI];d<p.length;d++){var g=p[d],f=e._makeStorageReference(new lr(t,g.name));i.items.push(f)}return i}function pV(e,t,n){var i=jy(n);if(i===null)return null;var o=i;return dV(e,t,o)}var gi=function(){function e(t,n,i,o){this.url=t,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(e){if(!e)throw My()}function $h(e,t){function n(i,o){var u=Ck(e,o,t);return Xr(u!==null),u}return n}function vV(e,t){function n(i,o){var u=pV(e,t,o);return Xr(u!==null),u}return n}function gV(e,t){function n(i,o){var u=Ck(e,o,t);return Xr(u!==null),hV(u,o,e.host)}return n}function Ou(e){function t(n,i){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=Rj():o=kj():n.getStatus()===402?o=Aj(e.bucket):n.getStatus()===403?o=Cj(e.path):o=i,o.serverResponse=i.serverResponse,o}return t}function Hh(e){var t=Ou(e);function n(i,o){var u=t(i,o);return i.getStatus()===404&&(u=Sj(e.path)),u.serverResponse=o.serverResponse,u}return n}function Nk(e,t,n){var i=t.fullServerUrl(),o=to(i,e.host),u="GET",a=e.maxOperationRetryTime,l=new gi(o,u,$h(e,n),a);return l.errorHandler=Hh(t),l}function mV(e,t,n,i,o){var u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",n&&n.length>0&&(u.delimiter=n),i&&(u.pageToken=i),o&&(u.maxResults=o);var a=t.bucketOnlyServerUrl(),l=to(a,e.host),f="GET",d=e.maxOperationRetryTime,p=new gi(l,f,vV(e,t.bucket),d);return p.urlParams=u,p.errorHandler=Ou(t),p}function yV(e,t,n){var i=t.fullServerUrl(),o=to(i,e.host),u="GET",a=e.maxOperationRetryTime,l=new gi(o,u,gV(e,n),a);return l.errorHandler=Hh(t),l}function wV(e,t,n,i){var o=t.fullServerUrl(),u=to(o,e.host),a="PATCH",l=Vy(n,i),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,p=new gi(u,a,$h(e,i),d);return p.headers=f,p.body=l,p.errorHandler=Hh(t),p}function bV(e,t){var n=t.fullServerUrl(),i=to(n,e.host),o="DELETE",u=e.maxOperationRetryTime;function a(f,d){}var l=new gi(i,o,a,u);return l.successCodes=[200,204],l.errorHandler=Hh(t),l}function _V(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function xk(e,t,n){var i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=_V(null,t)),i}function EV(e,t,n,i,o){var u=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var F="",V=0;V<2;V++)F=F+Math.random().toString().slice(2);return F}var f=l();a["Content-Type"]="multipart/related; boundary="+f;var d=xk(t,i,o),p=Vy(d,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+f+"--",b=Uy.getBlob(g,i,m);if(b===null)throw bk();var _={name:d.fullPath},T=to(u,e.host),S="POST",x=e.maxUploadRetryTime,O=new gi(T,S,$h(e,n),x);return O.urlParams=_,O.headers=a,O.body=b.uploadData(),O.errorHandler=Ou(t),O}var zf=function(){function e(t,n,i,o){this.current=t,this.total=n,this.finalized=!!i,this.metadata=o||null}return e}();function qy(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Xr(!1)}var i=t||["active"];return Xr(!!n&&i.indexOf(n)!==-1),n}function IV(e,t,n,i,o){var u=t.bucketOnlyServerUrl(),a=xk(t,i,o),l={name:a.fullPath},f=to(u,e.host),d="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},g=Vy(a,n),m=e.maxUploadRetryTime;function b(T){qy(T);var S;try{S=T.getResponseHeader("X-Goog-Upload-URL")}catch{Xr(!1)}return Xr(qh(S)),S}var _=new gi(f,d,b,m);return _.urlParams=l,_.headers=p,_.body=g,_.errorHandler=Ou(t),_}function TV(e,t,n,i){var o={"X-Goog-Upload-Command":"query"};function u(d){var p=qy(d,["active","final"]),g=null;try{g=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xr(!1)}g||Xr(!1);var m=Number(g);return Xr(!isNaN(m)),new zf(m,i.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,f=new gi(n,a,u,l);return f.headers=o,f.errorHandler=Ou(t),f}var PI=256*1024;function SV(e,t,n,i,o,u,a,l){var f=new zf(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw Dj();var d=f.total-f.current,p=d;o>0&&(p=Math.min(p,o));var g=f.current,m=g+p,b=p===d?"upload, finalize":"upload",_={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":""+f.current},T=i.slice(g,m);if(T===null)throw bk();function S(V,te){var U=qy(V,["active","final"]),me=f.current+p,z=i.size(),oe;return U==="final"?oe=$h(t,u)(V,te):oe=null,new zf(me,z,U==="final",oe)}var x="POST",O=t.maxUploadRetryTime,F=new gi(n,x,S,O);return F.headers=_,F.body=T.uploadData(),F.progressCallback=l||null,F.errorHandler=Ou(e),F}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AV=function(){function e(t,n,i){var o=Xj(t)||n!=null||i!=null;if(o)this.next=t,this.error=n,this.complete=i;else{var u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ok=function(){function e(t,n,i){var o=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Bh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(u){o._request=void 0,o._chunkMultiplier=1,u._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=u,o._transition("error"))},this._metadataErrorHandler=function(u){o._request=void 0,u._codeEquals("canceled")?o.completeTransitions_():(o._error=u,o._transition("error"))},this._promise=new Promise(function(u,a){o._resolve=u,o._reject=a,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var o=i[0],u=i[1];switch(n._state){case"running":t(o,u);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,i){var o=IV(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(i,o){var u=TV(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(u,i,o);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=PI*this._chunkMultiplier,i=new zf(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(u,a){var l;try{l=SV(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(l,u,a);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=PI*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,i){var o=Nk(t._ref.storage,t._ref._location,t._mappings),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,i){var o=EV(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=wk(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Gv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,i,o){var u=this,a=new AV(n,i,o);return this._addObserver(a),function(){u._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Gv(this._state)){case In.SUCCESS:Ls(this._resolve.bind(null,this.snapshot))();break;case In.CANCELED:case In.ERROR:var n=this._reject;Ls(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Gv(this._state);switch(n){case In.RUNNING:case In.PAUSED:t.next&&Ls(t.next.bind(t,this.snapshot))();break;case In.SUCCESS:t.complete&&Ls(t.complete.bind(t))();break;case In.CANCELED:case In.ERROR:t.error&&Ls(t.error.bind(t,this._error))();break;default:t.error&&Ls(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kh=function(){function e(t,n){this._service=t,n instanceof lr?this._location=n:this._location=lr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new lr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Rk(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=sV(this._location.path);if(t===null)return null;var n=new lr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw Ek(t)},e}();function kV(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Ok(e,new Uy(t),n)}function RV(e){var t={prefixes:[],items:[]};return Pk(e,t).then(function(){return t})}function Pk(e,t,n){return $(this,void 0,void 0,function(){var i,o,u,a;return B(this,function(l){switch(l.label){case 0:return i={pageToken:n},[4,Dk(e,i)];case 1:return o=l.sent(),(u=t.prefixes).push.apply(u,o.prefixes),(a=t.items).push.apply(a,o.items),o.nextPageToken==null?[3,3]:[4,Pk(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Dk(e,t){return $(this,void 0,void 0,function(){var n,i;return B(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&$g("options.maxResults",1,1e3,t.maxResults),n=t||{},i=mV(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise()]}})})}function CV(e){return $(this,void 0,void 0,function(){var t;return B(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Nk(e.storage,e._location,Bh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function NV(e,t){return $(this,void 0,void 0,function(){var n;return B(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),n=wV(e.storage,e._location,t,Bh()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}function xV(e){return $(this,void 0,void 0,function(){var t;return B(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=yV(e.storage,e._location,Bh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(i){if(i===null)throw Lj();return i})]}})})}function OV(e){return $(this,void 0,void 0,function(){var t;return B(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=bV(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Lk(e,t){var n=uV(e._location.path,t),i=new lr(e._location.bucket,n);return new Kh(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(e){return/^[A-Za-z]+:\/\//.test(e)}function PV(e,t){return new Kh(e,t)}function Mk(e,t){if(e instanceof zh){var n=e;if(n._bucket==null)throw Pj();var i=new Kh(n,n._bucket);return t!=null?Mk(i,t):i}else return t!==void 0?Lk(e,t):e}function DV(e,t){if(t&&Hg(t)){if(e instanceof zh)return PV(e,t);throw Ws("To use ref(service, url), the first argument must be a Storage instance.")}else return Mk(e,t)}function DI(e,t){var n=t==null?void 0:t[yk];return n==null?null:lr.makeFromBucketSpec(n,e)}function LV(e,t,n,i){i===void 0&&(i={}),e.host="http://"+t+":"+n;var o=i.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:wS(o,e.app.options.projectId))}var zh=function(){function e(t,n,i,o,u,a){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=o,this._url=u,this._firebaseVersion=a,this._bucket=null,this._host=mk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ij,this._maxUploadRetryTime=Tj,this._requests=new Set,u!=null?this._bucket=lr.makeFromBucketSpec(u,this._host):this._bucket=DI(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=lr.makeFromBucketSpec(this._url,t):this._bucket=DI(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){$g("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){$g("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return $(this,void 0,void 0,function(){var t,n;return B(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=i.sent(),n!==null)return[2,n.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return $(this,void 0,void 0,function(){var t,n;return B(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=i.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Kh(this,t)},e.prototype._makeRequest=function(t,n,i){var o=this;if(this._deleted)return new Kj(_k());var u=nV(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(function(){return o._requests.delete(u)},function(){return o._requests.delete(u)}),u},e.prototype.makeRequestWithTokens=function(t){return $(this,void 0,void 0,function(){var n,i,o;return B(this,function(u){switch(u.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=u.sent(),i=n[0],o=n[1],[2,this._makeRequest(t,i,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(e,t,n){return e=ht(e),kV(e,t,n)}function FV(e){return e=ht(e),CV(e)}function UV(e,t){return e=ht(e),NV(e,t)}function jV(e,t){return e=ht(e),Dk(e,t)}function VV(e){return e=ht(e),RV(e)}function qV(e){return e=ht(e),xV(e)}function BV(e){return e=ht(e),OV(e)}function LI(e,t){return e=ht(e),DV(e,t)}function $V(e,t){return Lk(e,t)}function HV(e,t,n,i){i===void 0&&(i={}),LV(e,t,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jl=function(){function e(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MI=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Jl(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var i=this;return this._delegate.then(function(o){if(t)return t(new Jl(o,i,i._ref))},n)},e.prototype.on=function(t,n,i,o){var u=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Jl(l,u,u._ref))}:a={next:n.next?function(l){return n.next(new Jl(l,u,u._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,i||void 0,o||void 0)},e}(),FI=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new uc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new uc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=$V(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new MI(MV(this._delegate,t,n),this)},e.prototype.putString=function(t,n,i){n===void 0&&(n=cr.RAW),this._throwIfRoot("putString");var o=Ik(n,t),u=Zs({},i);return u.contentType==null&&o.contentType!=null&&(u.contentType=o.contentType),new MI(new Ok(this._delegate,new Uy(o.data,!0),u),this)},e.prototype.listAll=function(){var t=this;return VV(this._delegate).then(function(n){return new FI(n,t.storage)})},e.prototype.list=function(t){var n=this;return jV(this._delegate,t||void 0).then(function(i){return new FI(i,n.storage)})},e.prototype.getMetadata=function(){return FV(this._delegate)},e.prototype.updateMetadata=function(t){return UV(this._delegate,t)},e.prototype.getDownloadURL=function(){return qV(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),BV(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw Ek(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KV=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Hg(t))throw Ws("ref() expected a child path but got a URL, use refFromURL instead.");return new uc(LI(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Hg(t))throw Ws("refFromURL() expected a full URL but got a child path, use ref() instead.");try{lr.makeFromUrl(t,this._delegate.host)}catch{throw Ws("refFromUrl() expected a valid full URL but got an invalid one.")}return new uc(LI(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),HV(this._delegate,t,n,i)},e}(),zV="@firebase/storage",GV="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WV="storage";function XV(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal"),a=new KV(i,new zh(i,o,u,new Hj,n,ke.SDK_VERSION));return a}function QV(e){var t={TaskState:In,TaskEvent:qj,StringFormat:cr,Storage:zh,Reference:uc};e.INTERNAL.registerComponent(new hc(WV,XV,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(zV,GV)}QV(ke);const YV={apiKey:"AIzaSyB6nywCCST_HFjLRHJZl0XE9TXsf72rqpI",authDomain:"music-f6e93.firebaseapp.com",projectId:"music-f6e93",storageBucket:"music-f6e93.appspot.com",appId:"1:671056328288:web:c8abd445fb6b61addbf505"};ke.initializeApp(YV);const Ki=ke.auth(),Fk=ke.firestore(),Uk=ke.storage(),JV=Fk.collection("users"),zi=Fk.collection("songs"),Oc=vS("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await Ki.createUserWithEmailAndPassword(e.email,e.password);await JV.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country,type_music:e.type_music}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await Ki.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await Ki.signOut(),this.userLoggedIn=!1}}}),dr=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},ZV={name:"Header",computed:{...xD(dg,Oc)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},eq={id:"header",class:"bg-gray-700"},tq={class:"container mx-auto flex justify-start items-center py-5 px-4"},nq={class:"flex flex-grow items-center"},rq={class:"flex flex-row mt-1"},iq={key:0};function oq(e,t,n,i,o,u){const a=Xt("router-link");return ft(),At("header",eq,[K("nav",tq,[Ne(a,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:Ir(()=>[Uo(" Music ")]),_:1}),K("div",nq,[K("ul",rq,[K("li",null,[Ne(a,{class:"px-2 text-white",to:{name:"about"}},{default:Ir(()=>[Uo("About")]),_:1})]),e.userStore.userLoggedIn?(ft(),At(zt,{key:1},[K("li",null,[Ne(a,{class:"px-2 text-white",to:{name:"manage"}},{default:Ir(()=>[Uo("Manage")]),_:1})]),K("li",null,[K("a",{class:"px-2 text-white",href:"#",onClick:t[1]||(t[1]=Tn((...l)=>u.signOut&&u.signOut(...l),["prevent"]))},"Logout")])],64)):(ft(),At("li",iq,[K("a",{class:"px-2 text-white",onClick:t[0]||(t[0]=Tn((...l)=>u.toggleAuthModal&&u.toggleAuthModal(...l),["prevent"])),href:"#"},"Login / Register")]))])])])])}const sq=dr(ZV,[["render",oq]]),uq={name:"LoginForm",data(){return{loginSchema:{email:"required|email",password:"required"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! We are login you in."}},methods:{...gS(Oc,{authenticate:"authenticate"}),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please wait! We are login you in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="Incorrect Email or Password";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Success! You are now logged in.",window.location.reload()}}},aq={class:"mb-3"},cq=K("label",{class:"inline-block mb-2"},"Email",-1),lq={class:"mb-3"},fq=K("label",{class:"inline-block mb-2"},"Password",-1),hq=["disabled"];function dq(e,t,n,i,o,u){const a=Xt("vee-field"),l=Xt("ErrorMessage"),f=Xt("vee-form");return ft(),At(zt,null,[o.login_show_alert?(ft(),At("div",{key:0,class:Zn(["text-white text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},Ar(o.login_alert_msg),3)):wm("",!0),Ne(f,{"validation-schema":o.loginSchema,onSubmit:u.login},{default:Ir(()=>[K("div",aq,[cq,Ne(a,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Ne(l,{class:"text-red-600",name:"email"})]),K("div",lq,[fq,Ne(a,{type:"password",name:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),Ne(l,{class:"text-red-600",name:"password"})]),K("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.login_in_submission}," Submit ",8,hq)]),_:1},8,["validation-schema","onSubmit"])],64)}const pq=dr(uq,[["render",dq]]),vq={name:"RegistrationForm",data(){return{registerSchema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:100",password:"required|min:9|max:100|not_one_of:password",confirm_password:"password_mismatch:@password",country:"required|country_excluded:Antarctica",type_music:"required",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Your account is being created."}},methods:{...gS(Oc,{createUser:"register"}),async register(e){this.reg_in_submission=!0,this.reg_show_alert=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! Your account is being  created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_msg="bg-red-500",this.reg_alert_msg="Something went wrong. Please try again later.";return}this.userLoggedIn=!0,this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success! Your account has been created.",window.location.reload()}}},gq={class:"mb-3"},mq=K("label",{class:"inline-block mb-2"},"Name",-1),yq={class:"mb-3"},wq=K("label",{class:"inline-block mb-2"},"Email",-1),bq={class:"mb-3"},_q=K("label",{class:"inline-block mb-2"},"Age",-1),Eq={class:"mb-3"},Iq=K("label",{class:"inline-block mb-2"},"Password",-1),Tq={class:"mb-3"},Sq=K("label",{class:"inline-block mb-2"},"Confirm Password",-1),Aq={class:"mb-3"},kq=K("label",{class:"inline-block mb-2"},"Country",-1),Rq=K("option",{value:"USA"},"USA",-1),Cq=K("option",{value:"Mexico"},"Mexico",-1),Nq=K("option",{value:"Germany"},"Germany",-1),xq=K("option",{value:"Antarctica"},"Antarctica",-1),Oq={class:"mb-3"},Pq=K("label",{class:"inline-block mb-2"},"Type of music",-1),Dq=K("option",{value:"rock"},"Rock",-1),Lq=K("option",{value:"pop"},"Pop",-1),Mq=K("option",{value:"rap"},"Rap",-1),Fq=K("option",{value:"rnb"},"Rnb",-1),Uq={class:"mb-3 pl-6"},jq=K("label",{class:"inline-block"},"Accept terms of service",-1),Vq=["disabled"];function qq(e,t,n,i,o,u){const a=Xt("vee-field"),l=Xt("ErrorMessage"),f=Xt("vee-form");return ft(),At(zt,null,[o.reg_show_alert?(ft(),At("div",{key:0,class:Zn(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},Ar(o.reg_alert_msg),3)):wm("",!0),Ne(f,{"validation-schema":o.registerSchema,onSubmit:u.register,"initial-values":o.userData},{default:Ir(()=>[K("div",gq,[mq,Ne(a,{type:"text",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),Ne(l,{class:"text-red-600",name:"name"})]),K("div",yq,[wq,Ne(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Ne(l,{class:"text-red-600",name:"email"})]),K("div",bq,[_q,Ne(a,{type:"number",name:"age",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Ne(l,{class:"text-red-600",name:"age"})]),K("div",Eq,[Iq,Ne(a,{name:"password",bails:!1},{default:Ir(({field:d,errors:p})=>[K("input",aS({type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"},d),null,16),(ft(!0),At(zt,null,sh(p,g=>(ft(),At("div",{class:"text-red-600",key:g},Ar(g),1))),128))]),_:1})]),K("div",Tq,[Sq,Ne(a,{type:"password",name:"confirm_password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Ne(l,{class:"text-red-600",name:"confirm_password"})]),K("div",Aq,[kq,Ne(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Ir(()=>[Rq,Cq,Nq,xq]),_:1}),Ne(l,{class:"text-red-600",name:"country"})]),K("div",Oq,[Pq,Ne(a,{as:"select",name:"type_music",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Ir(()=>[Dq,Lq,Mq,Fq]),_:1}),Ne(l,{class:"text-red-600",name:"type_music"})]),K("div",Uq,[Ne(a,{type:"checkbox",name:"tos",value:"1",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),jq,Ne(l,{class:"text-red-600",name:"tos"})]),K("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.reg_in_submission}," Submit ",8,Vq)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const Bq=dr(vq,[["render",qq]]),$q={name:"Auth",components:{LoginForm:pq,RegistrationForm:Bq},computed:{...OD(dg,["hiddenClass"]),...mS(dg,{modalVisibility:"isOpen"})},data(){return{tab:"login"}}},Hq={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Kq=K("div",{class:"fixed inset-0 transition-opacity"},[K("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),zq=K("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"",-1),Gq={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Wq={class:"py-4 text-left px-6"},Xq={class:"flex justify-between items-center pb-4"},Qq=K("p",{class:"text-2xl font-bold"},"Your Account",-1),Yq=K("i",{class:"fas fa-times"},null,-1),Jq=[Yq],Zq={class:"flex flex-wrap mb-4"},eB={class:"flex-auto text-center"},tB={class:"flex-auto text-center"};function nB(e,t,n,i,o,u){const a=Xt("LoginForm"),l=Xt("RegistrationForm");return ft(),At("div",{class:Zn(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[K("div",Hq,[Kq,zq,K("div",Gq,[K("div",Wq,[K("div",Xq,[Qq,K("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=Tn(f=>e.modalVisibility=!1,["prevent"]))},Jq)]),K("ul",Zq,[K("li",eB,[K("a",{onClick:t[1]||(t[1]=Tn(f=>o.tab="login",["prevent"])),class:Zn(["block rounded py-3 px-4 transition",{" hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#"},"Login",2)]),K("li",tB,[K("a",{onClick:t[2]||(t[2]=Tn(f=>o.tab="register",["prevent"])),class:Zn([{" hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"},"block rounded py-3 px-4 transition"]),href:"#"},"Register",2)])]),o.tab==="login"?(ft(),Ba(a,{key:0})):(ft(),Ba(l,{key:1}))])])])],2)}const rB=dr($q,[["render",nB]]),iB={name:"App",components:{Header:sq,Auth:rB},computed:{...mS(Oc,["userLoggedIn"])},created(){Ki.currentUser&&(this.userLoggedIn=!0)}},oB=ym('<div class="fixed bottom-0 left-0 bg-white px-4 py-2 w-full"><div class="text-center"><span class="song-title font-bold">Song Title</span> by <span class="song-artist">Artist</span></div><div class="flex flex-nowrap gap-4 items-center"><button type="button"><i class="fa fa-play text-gray-500 text-xl"></i></button><div class="player-currenttime">00:00</div><div class="w-full h-2 rounded bg-gray-200 relative cursor-pointer"><span class="absolute -top-2.5 -ml-2.5 text-gray-800 text-lg" style="left:50%;"><i class="fas fa-circle"></i></span><span class="block h-2 rounded bg-gradient-to-r from-green-500 to-green-400" style="width:50%;"></span></div><div class="player-duration">03:06</div></div></div>',1);function sB(e,t,n,i,o,u){const a=Xt("Header"),l=Xt("router-view"),f=Xt("Auth");return ft(),At(zt,null,[Ne(a),Ne(l),oB,Ne(f)],64)}const uB=dr(iB,[["render",sB]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Vs=typeof window<"u";function aB(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ut=Object.assign;function Wv(e,t){const n={};for(const i in t){const o=t[i];n[i]=Or(o)?o.map(e):e(o)}return n}const La=()=>{},Or=Array.isArray,cB=/\/$/,lB=e=>e.replace(cB,"");function Xv(e,t,n="/"){let i,o={},u="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=t.slice(0,f),u=t.slice(f+1,l>-1?l:t.length),o=e(u)),l>-1&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=pB(i??t,n),{fullPath:i+(u&&"?")+u+a,path:i,query:o,hash:a}}function fB(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function UI(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function hB(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&yu(t.matched[i],n.matched[o])&&jk(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function yu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function jk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!dB(e[n],t[n]))return!1;return!0}function dB(e,t){return Or(e)?jI(e,t):Or(t)?jI(t,e):e===t}function jI(e,t){return Or(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function pB(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let u=n.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var ac;(function(e){e.pop="pop",e.push="push"})(ac||(ac={}));var Ma;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ma||(Ma={}));function vB(e){if(!e)if(Vs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),lB(e)}const gB=/^[^#]+#/;function mB(e,t){return e.replace(gB,"#")+t}function yB(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Gh=()=>({left:window.pageXOffset,top:window.pageYOffset});function wB(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=yB(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function VI(e,t){return(history.state?history.state.position-t:-1)+e}const Kg=new Map;function bB(e,t){Kg.set(e,t)}function _B(e){const t=Kg.get(e);return Kg.delete(e),t}let EB=()=>location.protocol+"//"+location.host;function Vk(e,t){const{pathname:n,search:i,hash:o}=t,u=e.indexOf("#");if(u>-1){let l=o.includes(e.slice(u))?e.slice(u).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),UI(f,"")}return UI(n,e)+i+o}function IB(e,t,n,i){let o=[],u=[],a=null;const l=({state:m})=>{const b=Vk(e,location),_=n.value,T=t.value;let S=0;if(m){if(n.value=b,t.value=m,a&&a===_){a=null;return}S=T?m.position-T.position:0}else i(b);o.forEach(x=>{x(n.value,_,{delta:S,type:ac.pop,direction:S?S>0?Ma.forward:Ma.back:Ma.unknown})})};function f(){a=n.value}function d(m){o.push(m);const b=()=>{const _=o.indexOf(m);_>-1&&o.splice(_,1)};return u.push(b),b}function p(){const{history:m}=window;m.state&&m.replaceState(ut({},m.state,{scroll:Gh()}),"")}function g(){for(const m of u)m();u=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:f,listen:d,destroy:g}}function qI(e,t,n,i=!1,o=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:o?Gh():null}}function TB(e){const{history:t,location:n}=window,i={value:Vk(e,n)},o={value:t.state};o.value||u(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function u(f,d,p){const g=e.indexOf("#"),m=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+f:EB()+e+f;try{t[p?"replaceState":"pushState"](d,"",m),o.value=d}catch(b){console.error(b),n[p?"replace":"assign"](m)}}function a(f,d){const p=ut({},t.state,qI(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});u(f,p,!0),i.value=f}function l(f,d){const p=ut({},o.value,t.state,{forward:f,scroll:Gh()});u(p.current,p,!0);const g=ut({},qI(i.value,f,null),{position:p.position+1},d);u(f,g,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function SB(e){e=vB(e);const t=TB(e),n=IB(e,t.state,t.location,t.replace);function i(u,a=!0){a||n.pauseListeners(),history.go(u)}const o=ut({location:"",base:e,go:i,createHref:mB.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function AB(e){return typeof e=="string"||e&&typeof e=="object"}function qk(e){return typeof e=="string"||typeof e=="symbol"}const Ni={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Bk=Symbol("");var BI;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(BI||(BI={}));function wu(e,t){return ut(new Error,{type:e,[Bk]:!0},t)}function ii(e,t){return e instanceof Error&&Bk in e&&(t==null||!!(e.type&t))}const $I="[^/]+?",kB={sensitive:!1,strict:!1,start:!0,end:!0},RB=/[.+*?^${}()[\]/\\]/g;function CB(e,t){const n=ut({},kB,t),i=[];let o=n.start?"^":"";const u=[];for(const d of e){const p=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let g=0;g<d.length;g++){const m=d[g];let b=40+(n.sensitive?.25:0);if(m.type===0)g||(o+="/"),o+=m.value.replace(RB,"\\$&"),b+=40;else if(m.type===1){const{value:_,repeatable:T,optional:S,regexp:x}=m;u.push({name:_,repeatable:T,optional:S});const O=x||$I;if(O!==$I){b+=10;try{new RegExp(`(${O})`)}catch(V){throw new Error(`Invalid custom RegExp for param "${_}" (${O}): `+V.message)}}let F=T?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;g||(F=S&&d.length<2?`(?:/${F})`:"/"+F),S&&(F+="?"),o+=F,b+=20,S&&(b+=-8),T&&(b+=-20),O===".*"&&(b+=-50)}p.push(b)}i.push(p)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const p=d.match(a),g={};if(!p)return null;for(let m=1;m<p.length;m++){const b=p[m]||"",_=u[m-1];g[_.name]=b&&_.repeatable?b.split("/"):b}return g}function f(d){let p="",g=!1;for(const m of e){(!g||!p.endsWith("/"))&&(p+="/"),g=!1;for(const b of m)if(b.type===0)p+=b.value;else if(b.type===1){const{value:_,repeatable:T,optional:S}=b,x=_ in d?d[_]:"";if(Or(x)&&!T)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const O=Or(x)?x.join("/"):x;if(!O)if(S)m.length<2&&(p.endsWith("/")?p=p.slice(0,-1):g=!0);else throw new Error(`Missing required param "${_}"`);p+=O}}return p||"/"}return{re:a,score:i,keys:u,parse:l,stringify:f}}function NB(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function xB(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const u=NB(i[n],o[n]);if(u)return u;n++}if(Math.abs(o.length-i.length)===1){if(HI(i))return 1;if(HI(o))return-1}return o.length-i.length}function HI(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const OB={type:0,value:""},PB=/[a-zA-Z0-9_]/;function DB(e){if(!e)return[[]];if(e==="/")return[[OB]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let u;function a(){u&&o.push(u),u=[]}let l=0,f,d="",p="";function g(){d&&(n===0?u.push({type:0,value:d}):n===1||n===2||n===3?(u.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:d,regexp:p,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function m(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&g(),a()):f===":"?(g(),n=1):m();break;case 4:m(),n=i;break;case 1:f==="("?n=2:PB.test(f)?m():(g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+f:n=3:p+=f;break;case 3:g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),g(),a(),o}function LB(e,t,n){const i=CB(DB(e.path),n),o=ut(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function MB(e,t){const n=[],i=new Map;t=GI({strict:!1,end:!0,sensitive:!1},t);function o(p){return i.get(p)}function u(p,g,m){const b=!m,_=FB(p);_.aliasOf=m&&m.record;const T=GI(t,p),S=[_];if("alias"in p){const F=typeof p.alias=="string"?[p.alias]:p.alias;for(const V of F)S.push(ut({},_,{components:m?m.record.components:_.components,path:V,aliasOf:m?m.record:_}))}let x,O;for(const F of S){const{path:V}=F;if(g&&V[0]!=="/"){const te=g.record.path,U=te[te.length-1]==="/"?"":"/";F.path=g.record.path+(V&&U+V)}if(x=LB(F,g,T),m?m.alias.push(x):(O=O||x,O!==x&&O.alias.push(x),b&&p.name&&!zI(x)&&a(p.name)),_.children){const te=_.children;for(let U=0;U<te.length;U++)u(te[U],x,m&&m.children[U])}m=m||x,(x.record.components&&Object.keys(x.record.components).length||x.record.name||x.record.redirect)&&f(x)}return O?()=>{a(O)}:La}function a(p){if(qk(p)){const g=i.get(p);g&&(i.delete(p),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(p);g>-1&&(n.splice(g,1),p.record.name&&i.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function f(p){let g=0;for(;g<n.length&&xB(p,n[g])>=0&&(p.record.path!==n[g].record.path||!$k(p,n[g]));)g++;n.splice(g,0,p),p.record.name&&!zI(p)&&i.set(p.record.name,p)}function d(p,g){let m,b={},_,T;if("name"in p&&p.name){if(m=i.get(p.name),!m)throw wu(1,{location:p});T=m.record.name,b=ut(KI(g.params,m.keys.filter(O=>!O.optional).map(O=>O.name)),p.params&&KI(p.params,m.keys.map(O=>O.name))),_=m.stringify(b)}else if("path"in p)_=p.path,m=n.find(O=>O.re.test(_)),m&&(b=m.parse(_),T=m.record.name);else{if(m=g.name?i.get(g.name):n.find(O=>O.re.test(g.path)),!m)throw wu(1,{location:p,currentLocation:g});T=m.record.name,b=ut({},g.params,p.params),_=m.stringify(b)}const S=[];let x=m;for(;x;)S.unshift(x.record),x=x.parent;return{name:T,path:_,params:b,matched:S,meta:jB(S)}}return e.forEach(p=>u(p)),{addRoute:u,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function KI(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function FB(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:UB(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function UB(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function zI(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function jB(e){return e.reduce((t,n)=>ut(t,n.meta),{})}function GI(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function $k(e,t){return t.children.some(n=>n===e||$k(e,n))}const Hk=/#/g,VB=/&/g,qB=/\//g,BB=/=/g,$B=/\?/g,Kk=/\+/g,HB=/%5B/g,KB=/%5D/g,zk=/%5E/g,zB=/%60/g,Gk=/%7B/g,GB=/%7C/g,Wk=/%7D/g,WB=/%20/g;function By(e){return encodeURI(""+e).replace(GB,"|").replace(HB,"[").replace(KB,"]")}function XB(e){return By(e).replace(Gk,"{").replace(Wk,"}").replace(zk,"^")}function zg(e){return By(e).replace(Kk,"%2B").replace(WB,"+").replace(Hk,"%23").replace(VB,"%26").replace(zB,"`").replace(Gk,"{").replace(Wk,"}").replace(zk,"^")}function QB(e){return zg(e).replace(BB,"%3D")}function YB(e){return By(e).replace(Hk,"%23").replace($B,"%3F")}function JB(e){return e==null?"":YB(e).replace(qB,"%2F")}function Gf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function ZB(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const u=i[o].replace(Kk," "),a=u.indexOf("="),l=Gf(a<0?u:u.slice(0,a)),f=a<0?null:Gf(u.slice(a+1));if(l in t){let d=t[l];Or(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function WI(e){let t="";for(let n in e){const i=e[n];if(n=QB(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Or(i)?i.map(u=>u&&zg(u)):[i&&zg(i)]).forEach(u=>{u!==void 0&&(t+=(t.length?"&":"")+n,u!=null&&(t+="="+u))})}return t}function e$(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Or(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const t$=Symbol(""),XI=Symbol(""),$y=Symbol(""),Xk=Symbol(""),Gg=Symbol("");function ba(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Li(e,t,n,i,o){const u=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=g=>{g===!1?l(wu(4,{from:n,to:t})):g instanceof Error?l(g):AB(g)?l(wu(2,{from:t,to:g})):(u&&i.enterCallbacks[o]===u&&typeof g=="function"&&u.push(g),a())},d=e.call(i&&i.instances[o],t,n,f);let p=Promise.resolve(d);e.length<3&&(p=p.then(f)),p.catch(g=>l(g))})}function Qv(e,t,n,i){const o=[];for(const u of e)for(const a in u.components){let l=u.components[a];if(!(t!=="beforeRouteEnter"&&!u.instances[a]))if(n$(l)){const d=(l.__vccOpts||l)[t];d&&o.push(Li(d,n,i,u,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${u.path}"`));const p=aB(d)?d.default:d;u.components[a]=p;const m=(p.__vccOpts||p)[t];return m&&Li(m,n,i,u,a)()}))}}return o}function n$(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function QI(e){const t=hr($y),n=hr(Xk),i=Fe(()=>t.resolve(Ye(e.to))),o=Fe(()=>{const{matched:f}=i.value,{length:d}=f,p=f[d-1],g=n.matched;if(!p||!g.length)return-1;const m=g.findIndex(yu.bind(null,p));if(m>-1)return m;const b=YI(f[d-2]);return d>1&&YI(p)===b&&g[g.length-1].path!==b?g.findIndex(yu.bind(null,f[d-2])):m}),u=Fe(()=>o.value>-1&&s$(n.params,i.value.params)),a=Fe(()=>o.value>-1&&o.value===n.matched.length-1&&jk(n.params,i.value.params));function l(f={}){return o$(f)?t[Ye(e.replace)?"replace":"push"](Ye(e.to)).catch(La):Promise.resolve()}return{route:i,href:Fe(()=>i.value.href),isActive:u,isExactActive:a,navigate:l}}const r$=fc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:QI,setup(e,{slots:t}){const n=hi(QI(e)),{options:i}=hr($y),o=Fe(()=>({[JI(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[JI(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=t.default&&t.default(n);return e.custom?u:Js("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},u)}}}),i$=r$;function o$(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function s$(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!Or(o)||o.length!==i.length||i.some((u,a)=>u!==o[a]))return!1}return!0}function YI(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const JI=(e,t,n)=>e??t??n,u$=fc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=hr(Gg),o=Fe(()=>e.route||i.value),u=hr(XI,0),a=Fe(()=>{let d=Ye(u);const{matched:p}=o.value;let g;for(;(g=p[d])&&!g.components;)d++;return d}),l=Fe(()=>o.value.matched[a.value]);zs(XI,Fe(()=>a.value+1)),zs(t$,l),zs(Gg,o);const f=Sn();return fr(()=>[f.value,l.value,e.name],([d,p,g],[m,b,_])=>{p&&(p.instances[g]=d,b&&b!==p&&d&&d===m&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),d&&p&&(!b||!yu(p,b)||!m)&&(p.enterCallbacks[g]||[]).forEach(T=>T(d))},{flush:"post"}),()=>{const d=o.value,p=e.name,g=l.value,m=g&&g.components[p];if(!m)return ZI(n.default,{Component:m,route:d});const b=g.props[p],_=b?b===!0?d.params:typeof b=="function"?b(d):b:null,S=Js(m,ut({},_,t,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(g.instances[p]=null)},ref:f}));return ZI(n.default,{Component:S,route:d})||S}}});function ZI(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const a$=u$;function c$(e){const t=MB(e.routes,e),n=e.parseQuery||ZB,i=e.stringifyQuery||WI,o=e.history,u=ba(),a=ba(),l=ba(),f=LT(Ni);let d=Ni;Vs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Wv.bind(null,D=>""+D),g=Wv.bind(null,JB),m=Wv.bind(null,Gf);function b(D,q){let ee,ae;return qk(D)?(ee=t.getRecordMatcher(D),ae=q):ae=D,t.addRoute(ae,ee)}function _(D){const q=t.getRecordMatcher(D);q&&t.removeRoute(q)}function T(){return t.getRoutes().map(D=>D.record)}function S(D){return!!t.getRecordMatcher(D)}function x(D,q){if(q=ut({},q||f.value),typeof D=="string"){const C=Xv(n,D,q.path),L=t.resolve({path:C.path},q),j=o.createHref(C.fullPath);return ut(C,L,{params:m(L.params),hash:Gf(C.hash),redirectedFrom:void 0,href:j})}let ee;if("path"in D)ee=ut({},D,{path:Xv(n,D.path,q.path).path});else{const C=ut({},D.params);for(const L in C)C[L]==null&&delete C[L];ee=ut({},D,{params:g(C)}),q.params=g(q.params)}const ae=t.resolve(ee,q),Ce=D.hash||"";ae.params=p(m(ae.params));const I=fB(i,ut({},D,{hash:XB(Ce),path:ae.path})),A=o.createHref(I);return ut({fullPath:I,hash:Ce,query:i===WI?e$(D.query):D.query||{}},ae,{redirectedFrom:void 0,href:A})}function O(D){return typeof D=="string"?Xv(n,D,f.value.path):ut({},D)}function F(D,q){if(d!==D)return wu(8,{from:q,to:D})}function V(D){return me(D)}function te(D){return V(ut(O(D),{replace:!0}))}function U(D){const q=D.matched[D.matched.length-1];if(q&&q.redirect){const{redirect:ee}=q;let ae=typeof ee=="function"?ee(D):ee;return typeof ae=="string"&&(ae=ae.includes("?")||ae.includes("#")?ae=O(ae):{path:ae},ae.params={}),ut({query:D.query,hash:D.hash,params:"path"in ae?{}:D.params},ae)}}function me(D,q){const ee=d=x(D),ae=f.value,Ce=D.state,I=D.force,A=D.replace===!0,C=U(ee);if(C)return me(ut(O(C),{state:typeof C=="object"?ut({},Ce,C.state):Ce,force:I,replace:A}),q||ee);const L=ee;L.redirectedFrom=q;let j;return!I&&hB(i,ae,ee)&&(j=wu(16,{to:L,from:ae}),Ht(ae,ae,!0,!1)),(j?Promise.resolve(j):k(L,ae)).catch(G=>ii(G)?ii(G,2)?G:Ot(G):_e(G,L,ae)).then(G=>{if(G){if(ii(G,2))return me(ut({replace:A},O(G.to),{state:typeof G.to=="object"?ut({},Ce,G.to.state):Ce,force:I}),q||L)}else G=ot(L,ae,!0,A,Ce);return Xe(L,ae,G),G})}function z(D,q){const ee=F(D,q);return ee?Promise.reject(ee):Promise.resolve()}function oe(D){const q=Hn.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(D):D()}function k(D,q){let ee;const[ae,Ce,I]=l$(D,q);ee=Qv(ae.reverse(),"beforeRouteLeave",D,q);for(const C of ae)C.leaveGuards.forEach(L=>{ee.push(Li(L,D,q))});const A=z.bind(null,D,q);return ee.push(A),ve(ee).then(()=>{ee=[];for(const C of u.list())ee.push(Li(C,D,q));return ee.push(A),ve(ee)}).then(()=>{ee=Qv(Ce,"beforeRouteUpdate",D,q);for(const C of Ce)C.updateGuards.forEach(L=>{ee.push(Li(L,D,q))});return ee.push(A),ve(ee)}).then(()=>{ee=[];for(const C of I)if(C.beforeEnter)if(Or(C.beforeEnter))for(const L of C.beforeEnter)ee.push(Li(L,D,q));else ee.push(Li(C.beforeEnter,D,q));return ee.push(A),ve(ee)}).then(()=>(D.matched.forEach(C=>C.enterCallbacks={}),ee=Qv(I,"beforeRouteEnter",D,q),ee.push(A),ve(ee))).then(()=>{ee=[];for(const C of a.list())ee.push(Li(C,D,q));return ee.push(A),ve(ee)}).catch(C=>ii(C,8)?C:Promise.reject(C))}function Xe(D,q,ee){l.list().forEach(ae=>oe(()=>ae(D,q,ee)))}function ot(D,q,ee,ae,Ce){const I=F(D,q);if(I)return I;const A=q===Ni,C=Vs?history.state:{};ee&&(ae||A?o.replace(D.fullPath,ut({scroll:A&&C&&C.scroll},Ce)):o.push(D.fullPath,Ce)),f.value=D,Ht(D,q,ee,A),Ot()}let at;function dt(){at||(at=o.listen((D,q,ee)=>{if(!fe.listening)return;const ae=x(D),Ce=U(ae);if(Ce){me(ut(Ce,{replace:!0}),ae).catch(La);return}d=ae;const I=f.value;Vs&&bB(VI(I.fullPath,ee.delta),Gh()),k(ae,I).catch(A=>ii(A,12)?A:ii(A,2)?(me(A.to,ae).then(C=>{ii(C,20)&&!ee.delta&&ee.type===ac.pop&&o.go(-1,!1)}).catch(La),Promise.reject()):(ee.delta&&o.go(-ee.delta,!1),_e(A,ae,I))).then(A=>{A=A||ot(ae,I,!1),A&&(ee.delta&&!ii(A,8)?o.go(-ee.delta,!1):ee.type===ac.pop&&ii(A,20)&&o.go(-1,!1)),Xe(ae,I,A)}).catch(La)}))}let Ze=ba(),se=ba(),De;function _e(D,q,ee){Ot(D);const ae=se.list();return ae.length?ae.forEach(Ce=>Ce(D,q,ee)):console.error(D),Promise.reject(D)}function kt(){return De&&f.value!==Ni?Promise.resolve():new Promise((D,q)=>{Ze.add([D,q])})}function Ot(D){return De||(De=!D,dt(),Ze.list().forEach(([q,ee])=>D?ee(D):q()),Ze.reset()),D}function Ht(D,q,ee,ae){const{scrollBehavior:Ce}=e;if(!Vs||!Ce)return Promise.resolve();const I=!ee&&_B(VI(D.fullPath,0))||(ae||!ee)&&history.state&&history.state.scroll||null;return Xn().then(()=>Ce(D,q,I)).then(A=>A&&wB(A)).catch(A=>_e(A,D,q))}const Mt=D=>o.go(D);let gt;const Hn=new Set,fe={currentRoute:f,listening:!0,addRoute:b,removeRoute:_,hasRoute:S,getRoutes:T,resolve:x,options:e,push:V,replace:te,go:Mt,back:()=>Mt(-1),forward:()=>Mt(1),beforeEach:u.add,beforeResolve:a.add,afterEach:l.add,onError:se.add,isReady:kt,install(D){const q=this;D.component("RouterLink",i$),D.component("RouterView",a$),D.config.globalProperties.$router=q,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>Ye(f)}),Vs&&!gt&&f.value===Ni&&(gt=!0,V(o.location).catch(Ce=>{}));const ee={};for(const Ce in Ni)Object.defineProperty(ee,Ce,{get:()=>f.value[Ce],enumerable:!0});D.provide($y,q),D.provide(Xk,xT(ee)),D.provide(Gg,f);const ae=D.unmount;Hn.add(D),D.unmount=function(){Hn.delete(D),Hn.size<1&&(d=Ni,at&&at(),at=null,f.value=Ni,gt=!1,De=!1),ae()}}};function ve(D){return D.reduce((q,ee)=>q.then(()=>oe(ee)),Promise.resolve())}return fe}function l$(e,t){const n=[],i=[],o=[],u=Math.max(t.matched.length,e.matched.length);for(let a=0;a<u;a++){const l=t.matched[a];l&&(e.matched.find(d=>yu(d,l))?i.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(d=>yu(d,f))||o.push(f))}return[n,i,o]}const f$={name:"SongItem",props:["song"],data(){return{showForm:!1}}},h$={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"},d$={class:"text-gray-500 text-sm"},p$={class:"text-gray-600 text-lg"},v$={class:"comments"},g$=K("i",{class:"fa fa-comments text-gray-600"},null,-1);function m$(e,t,n,i,o,u){const a=Xt("router-link");return ft(),At("li",h$,[K("div",null,[Ne(a,{to:{name:"song",params:{id:n.song.docID}},class:"font-bold block text-gray-600"},{default:Ir(()=>[Uo(Ar(n.song.modified_name),1)]),_:1},8,["to"]),K("span",d$,Ar(n.song.display_name),1)]),K("div",p$,[K("span",v$,[g$,Uo(" "+Ar(n.song.comment_count),1)])])])}const y$=dr(f$,[["render",m$]]),w$="/vue/assets/img/introduction-music.png",b$={name:"Home",components:{SongItem:y$},data(){return{songs:[],maxPerPage:6,pendingRequest:!1}},async created(){await this.getSongs(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n===t&&this.getSongs()},async getSongs(){if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const t=await zi.doc(this.songs[this.songs.length-1].docID).get();e=await zi.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get(),e.forEach(n=>{this.songs.push({docID:n.id,...n.data()})})}else e=await zi.orderBy("modified_name").limit(this.maxPerPage).get(),e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})});this.pendingRequest=!1}}},_$=ym('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Lesson - 185</h1><p class="w-full md:w-8/12 mx-auto"> Login Credentials: test@test.com / qwerty123 </p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+w$+'"></section>',1),E$={class:"container mx-auto"},I$={class:"bg-white rounded border border-gray-200 relative flex flex-col"},T$=K("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[K("span",{class:"card-title"},"Songs"),K("i",{class:"fa fa-headphones-alt float-right text-green-400 text-xl"})],-1),S$={id:"playlist"};function A$(e,t,n,i,o,u){const a=Xt("SongItem");return ft(),At(zt,null,[_$,K("section",E$,[K("div",I$,[T$,K("ol",S$,[(ft(!0),At(zt,null,sh(o.songs,l=>(ft(),Ba(a,{key:l.docID,song:l},null,8,["song"]))),128))])])])],64)}const k$=dr(b$,[["render",A$]]),R$={name:"About"},C$={class:"container mx-auto"},N$=K("div",{class:"main-header-content p2"},[K("h1",{class:"text-center font-bold text-5xl pt-10 pb-10"},"About Us"),K("p",{class:"w-full md:w-8/12 mx-auto text-center"}," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Porro, saepe! ")],-1),x$=[N$];function O$(e,t,n,i,o,u){return ft(),At("div",C$,x$)}const P$=dr(R$,[["render",O$]]),D$={name:"Upload",props:{addSong:{type:Function,required:!0}},data(){return{is_dragover:!1,uploads:[]}},methods:{upload(e){(e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files]).forEach(n=>{if(n.type!=="audio/mpeg")return;const u=Uk.ref().child(`songs/${n.name}`).put(n),a=this.uploads.push({task:u,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;u.on("state_change",l=>{const f=l.bytesTransferred/l.totalBytes*100;this.uploads[a].current_progress=f},l=>{this.uploads[a].variant="bg-red-400",this.uploads[a].icon="fas fa-times",this.uploads[a].text_class="text-red-400",console.log(l)},async()=>{const l={uid:Ki.currentUser.uid,display_name:Ki.currentUser.displayName,original_name:u.snapshot.ref.name,modified_name:u.snapshot.ref.name,genre:"",comment_count:0};l.url=await u.snapshot.ref.getDownloadURL();const d=await(await zi.add(l)).get();this.addSong(d),this.uploads[a].variant="bg-green-400",this.uploads[a].icon="fas fa-check",this.uploads[a].text_class="text-green-400"})}),this.is_dragover=!1},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},L$={class:"col-span-1"},M$={class:"bg-white rounded border border-gray-200 relative flex flex-col"},F$=K("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[K("span",{class:"card-title"},"Upload"),K("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),U$={class:"p-6"},j$=K("h5",null,"Drop your files here",-1),V$=[j$],q$=K("hr",{class:"my-6"},null,-1),B$={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function $$(e,t,n,i,o,u){return ft(),At("div",L$,[K("div",M$,[F$,K("div",U$,[K("div",{onDrag:t[0]||(t[0]=Tn(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Tn(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Tn(a=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Tn(a=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Tn(a=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Tn(a=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Tn(a=>u.upload(a),["prevent","stop"])),class:Zn([{"bg-green-400 border-green-400 border-solid":o.is_dragover},"w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid"])},V$,34),K("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=a=>u.upload(a))},null,32),q$,(ft(!0),At(zt,null,sh(o.uploads,a=>(ft(),At("div",{class:"mb-4",key:a.name},[K("div",{class:Zn(["font-bold text-sm",a.text_class])},[K("i",{class:Zn(a.icon)},null,2),Uo(" "+Ar(a.name),1)],2),K("div",B$,[K("div",{class:Zn(["transition-all progress-bar",a.variant]),style:lc({width:a.current_progress+"%"})},null,6)])]))),128))])])])}const H$=dr(D$,[["render",$$]]),K$={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function},index:{type:Number,required:!0}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_msg:"Please wait! Updating song info."}},methods:{async saveChanges(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_msg="Please wait! Updating song info.";try{await zi.doc(this.song.docId).update(e)}catch{this.in_submission=!1,this.show_alert=!0,this.alert_variant="bg-red-500",this.alert_msg="Something went wrong. Try again later.";return}this.updateSong(this.index,e),this.updateUnsavedFlag(!1),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_msg="Success!"},async deleteSong(){await Uk.ref().child(`songs/${this.song.original_name}`).delete(),await zi.doc(this.song.docId).delete(),this.removeSong(this.index)}}},z$={class:"border border-gray-200 p-3 mb-4 rounded"},G$={class:"inline-block text-2xl font-bold"},W$=K("i",{class:"fa fa-times"},null,-1),X$=[W$],Q$=K("i",{class:"fa fa-pencil-alt"},null,-1),Y$=[Q$],J$={class:"mb-3"},Z$=K("label",{class:"inline-block mb-2"},"Song Title",-1),eH={class:"mb-3"},tH=K("label",{class:"inline-block mb-2"},"Genre",-1),nH=K("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600"}," Submit ",-1);function rH(e,t,n,i,o,u){const a=Xt("vee-field"),l=Xt("ErrorMessage"),f=Xt("vee-form");return ft(),At("div",z$,[M_(K("div",null,[K("h4",G$,Ar(n.song.modified_name),1),K("button",{onClick:t[0]||(t[0]=Tn((...d)=>u.deleteSong&&u.deleteSong(...d),["prevent"])),class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"},X$),K("button",{onClick:t[1]||(t[1]=Tn(d=>o.showForm=!o.showForm,["prevent"])),class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"},Y$)],512),[[Q_,!o.showForm]]),M_(K("div",null,[o.show_alert?(ft(),At("div",{key:0,class:Zn(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},Ar(o.alert_msg),3)):wm("",!0),Ne(f,{"validation-schema":o.schema,onSubmit:u.saveChanges,"initial-values":n.song},{default:Ir(()=>[K("div",J$,[Z$,Ne(a,{name:"modified_name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=d=>n.updateUnsavedFlag(!0))}),Ne(l,{class:"text-red-600",name:"modified_name"})]),K("div",eH,[tH,Ne(a,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=d=>n.updateUnsavedFlag(!0))}),Ne(l,{class:"text-red-600",name:"genre"})]),nH,K("button",{onClick:t[4]||(t[4]=Tn(d=>o.showForm=!o.showForm,["prevent"])),type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600"}," Go Back ")]),_:1},8,["validation-schema","onSubmit","initial-values"])],512),[[Q_,o.showForm]])])}const iH=dr(K$,[["render",rH]]),oH={name:"Manage",components:{AppUpload:H$,CompositionItem:iH},data(){return{songs:[],unsavedFlag:!1}},async created(){(await zi.where("uid","==",Ki.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docId:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e}},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const i=confirm("You have unsaved changes. Are you sure want to leave?");n(i)}}},sH={class:"container mx-auto mt-6"},uH={class:"md:grid md:grid-cols-3 md:gap-4"},aH={class:"col-span-2"},cH={class:"bg-white rounded border border-gray-200 relative flex flex-col"},lH=K("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[K("span",{class:"card-title"},"My Songs"),K("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"})],-1),fH={class:"p-6"};function hH(e,t,n,i,o,u){const a=Xt("AppUpload"),l=Xt("CompositionItem");return ft(),At("section",sH,[K("div",uH,[Ne(a,{ref:"upload",addSong:u.addSong},null,8,["addSong"]),K("div",aH,[K("div",cH,[lH,K("div",fH,[(ft(!0),At(zt,null,sh(o.songs,(f,d)=>(ft(),Ba(l,{key:f.docId,song:f,index:d,removeSong:u.removeSong,updateSong:u.updateSong,updateUnsavedFlag:u.updateUnsavedFlag},null,8,["song","index","removeSong","updateSong","updateUnsavedFlag"]))),128))])])])])])}const dH=dr(oH,[["render",hH]]),pH={name:"Song",data(){return{song:{}}},async created(){const e=await zi.doc(this.$route.params.id).get();if(!e.exists){this.$router.push({name:"home"});return}this.song=e.data()},methods:{getImagePath(e){return`url(/vue/assets/img/${e})`}}},vH={class:"w-full mb-8 py-14 text-center text-white relative"},gH={class:"container mx-auto flex items-center"},mH=K("button",{type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none"},[K("i",{class:"fas fa-play"})],-1),yH={class:"z-50 text-left ml-8"},wH={class:"text-3xl font-bold"},bH=ym('<section class="container mx-auto mt-6"><div class="bg-white rounded border border-gray-200 relative flex flex-col"><div class="px-6 pt-6 pb-5 font-bold border-b border-gray-200"><span class="card-title">Comments (15)</span><i class="fa fa-comments float-right text-green-400 text-2xl"></i></div><div class="p-6"><form><textarea class="block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-4" placeholder="Your comment here..."></textarea><button type="submit" class="py-1.5 px-3 rounded text-white bg-green-600 block"> Submit </button></form><select class="block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"><option value="1">Latest</option><option value="2">Oldest</option></select></div></div></section><ul class="container mx-auto"><li class="p-6 bg-gray-50 border border-gray-200"><div class="mb-5"><div class="font-bold">Elaine Dreyfuss</div><time>5 mins ago</time></div><p> Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium der doloremque laudantium. </p></li><li class="p-6 bg-gray-50 border border-gray-200"><div class="mb-5"><div class="font-bold">Elaine Dreyfuss</div><time>5 mins ago</time></div><p> Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium der doloremque laudantium. </p></li><li class="p-6 bg-gray-50 border border-gray-200"><div class="mb-5"><div class="font-bold">Elaine Dreyfuss</div><time>5 mins ago</time></div><p> Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium der doloremque laudantium. </p></li><li class="p-6 bg-gray-50 border border-gray-200"><div class="mb-5"><div class="font-bold">Elaine Dreyfuss</div><time>5 mins ago</time></div><p> Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium der doloremque laudantium. </p></li><li class="p-6 bg-gray-50 border border-gray-200"><div class="mb-5"><div class="font-bold">Elaine Dreyfuss</div><time>5 mins ago</time></div><p> Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium der doloremque laudantium. </p></li><li class="p-6 bg-gray-50 border border-gray-200"><div class="mb-5"><div class="font-bold">Elaine Dreyfuss</div><time>5 mins ago</time></div><p> Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium der doloremque laudantium. </p></li></ul>',2);function _H(e,t,n,i,o,u){return ft(),At(zt,null,[K("section",vH,[K("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:lc({backgroundImage:u.getImagePath("song-header.png")})},null,4),K("div",gH,[mH,K("div",yH,[K("div",wH,Ar(o.song.modified_name),1),K("div",null,Ar(o.song.modified_name),1)])])]),bH],64)}const EH=dr(pH,[["render",_H]]),IH=[{name:"home",path:"/",component:k$},{name:"about",path:"/about",component:P$},{name:"manage",path:"/manage",component:dH,meta:{requiresAuth:!0}},{name:"song",path:"/song/:id",component:EH},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],Qk=c$({history:SB("/vue"),routes:IH,linkExactActiveClass:"text-yellow-500"});Qk.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}Oc().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.12.3
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function rn(e){return typeof e=="function"}function Yk(e){return e==null}const Zo=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Hy(e){return Number(e)>=0}function TH(e){const t=parseFloat(e);return isNaN(t)?e:t}function SH(e){return typeof e=="object"&&e!==null}function AH(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function kH(e){if(!SH(e)||AH(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function cc(e,t){return Object.keys(t).forEach(n=>{if(kH(t[n])){e[n]||(e[n]={}),cc(e[n],t[n]);return}e[n]=t[n]}),e}function Sa(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let i=1;i<t.length;i++){if(Hy(t[i])){n+=`[${t[i]}]`;continue}n+=`.${t[i]}`}return n}const Jk={};function br(e,t){CH(e,t),Jk[e]=t}function RH(e){return Jk[e]}function CH(e,t){if(!rn(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function eT(e,t,n){typeof n.value=="object"&&(n.value=lt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function lt(e){if(typeof e!="object")return e;var t=0,n,i,o,u=Object.prototype.toString.call(e);if(u==="[object Object]"?o=Object.create(e.__proto__||null):u==="[object Array]"?o=Array(e.length):u==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(lt(a))})):u==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(lt(l),lt(a))})):u==="[object Date]"?o=new Date(+e):u==="[object RegExp]"?o=new RegExp(e.source,e.flags):u==="[object DataView]"?o=new e.constructor(lt(e.buffer)):u==="[object ArrayBuffer]"?o=e.slice(0):u.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)eT(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||eT(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}const Wh=Symbol("vee-validate-form"),NH=Symbol("vee-validate-field-instance"),Wf=Symbol("Default empty value"),xH=typeof window<"u";function Wg(e){return rn(e)&&!!e.__locatorRef}function Sr(e){return!!e&&rn(e.parse)&&e.__type==="VVTypedSchema"}function Xf(e){return!!e&&rn(e.validate)}function Pc(e){return e==="checkbox"||e==="radio"}function OH(e){return Zo(e)||Array.isArray(e)}function PH(e){return Array.isArray(e)?e.length===0:Zo(e)&&Object.keys(e).length===0}function Xh(e){return/^\[.+\]$/i.test(e)}function DH(e){return Zk(e)&&e.multiple}function Zk(e){return e.tagName==="SELECT"}function LH(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function MH(e,t){return!LH(e,t)&&t.type!=="file"&&!Pc(t.type)}function eR(e){return Ky(e)&&e.target&&"submit"in e.target}function Ky(e){return e?!!(typeof Event<"u"&&rn(Event)&&e instanceof Event||e&&e.srcElement):!1}function tT(e,t){return t in e&&e[t]!==Wf}function Nn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!Nn(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!Nn(i[1],t.get(i[0])))return!1;return!0}if(nT(e)&&nT(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,i=n;i--!==0;){var u=o[i];if(!Nn(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function nT(e){return xH?e instanceof File:!1}function zy(e){return Xh(e)?e.replace(/\[|\]/gi,""):e}function Mn(e,t,n){return e?Xh(t)?e[zy(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,u)=>OH(o)&&u in o?o[u]:n,e):n}function Oi(e,t,n){if(Xh(t)){e[zy(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let u=0;u<i.length;u++){if(u===i.length-1){o[i[u]]=n;return}(!(i[u]in o)||Yk(o[i[u]]))&&(o[i[u]]=Hy(i[u+1])?[]:{}),o=o[i[u]]}}function Yv(e,t){if(Array.isArray(e)&&Hy(t)){e.splice(Number(t),1);return}Zo(e)&&delete e[t]}function rT(e,t){if(Xh(t)){delete e[zy(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let u=0;u<n.length;u++){if(u===n.length-1){Yv(i,n[u]);break}if(!(n[u]in i)||Yk(i[n[u]]))break;i=i[n[u]]}const o=n.map((u,a)=>Mn(e,n.slice(0,a).join(".")));for(let u=o.length-1;u>=0;u--)if(PH(o[u])){if(u===0){Yv(e,n[0]);continue}Yv(o[u-1],n[u-1])}}function ar(e){return Object.keys(e)}function tR(e,t=void 0){const n=ch();return(n==null?void 0:n.provides[e])||hr(e,t)}function iT(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(u=>Nn(u,t));return o>=0?i.splice(o,1):i.push(t),i}return Nn(e,t)?n:t}function oT(e,t=0){let n=null,i=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const u=e(...o);i.forEach(a=>a(u)),i=[]},t),new Promise(u=>i.push(u))}}function FH(e,t){return Zo(t)&&t.number?TH(e):e}function Xg(e,t){let n;return async function(...o){const u=e(...o);n=u;const a=await u;return u!==n?a:(n=void 0,t(a,o))}}function Qg(e){return Array.isArray(e)?e:e?[e]:[]}function Zl(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}function UH(e){let t=null,n=[];return function(...i){const o=Xn(()=>{if(t!==o)return;const u=e(...i);n.forEach(a=>a(u)),n=[],t=null});return t=o,new Promise(u=>n.push(u))}}function Gy(e,t,n){return t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default}function Jv(e){if(nR(e))return e._value}function nR(e){return"_value"in e}function jH(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function Qf(e){if(!Ky(e))return e;const t=e.target;if(Pc(t.type)&&nR(t))return Jv(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(DH(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Jv);if(Zk(t)){const n=Array.from(t.options).find(i=>i.selected);return n?Jv(n):t.value}return jH(t)}function rR(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Zo(e)&&e._$$isNormalized?e:Zo(e)?Object.keys(e).reduce((n,i)=>{const o=VH(e[i]);return e[i]!==!1&&(n[i]=sT(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=qH(i);return o.name&&(n[o.name]=sT(o.params)),n},t):t}function VH(e){return e===!0?[]:Array.isArray(e)||Zo(e)?e:[e]}function sT(e){const t=n=>typeof n=="string"&&n[0]==="@"?BH(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const qH=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function BH(e){const t=n=>Mn(n,e)||n[e];return t.__locatorRef=e,t}function $H(e){return Array.isArray(e)?e.filter(Wg):ar(e).filter(t=>Wg(e[t])).map(t=>e[t])}const HH={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Yg=Object.assign({},HH);const Mo=()=>Yg,KH=e=>{Yg=Object.assign(Object.assign({},Yg),e)},zH=KH;async function iR(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await GH(o,e)).errors;return{errors:a,valid:!a.length}}async function GH(e,t){if(Sr(e.rules)||Xf(e.rules))return XH(t,e.rules);if(rn(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let p=0;p<f;p++){const g=l[p],m=await g(t,a);if(!(typeof m!="string"&&!Array.isArray(m)&&m)){if(Array.isArray(m))d.push(...m);else{const _=typeof m=="string"?m:sR(a);d.push(_)}if(e.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:rR(e.rules)}),i=[],o=Object.keys(n.rules),u=o.length;for(let a=0;a<u;a++){const l=o[a],f=await QH(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}function WH(e){return!!e&&e.name==="ValidationError"}function oR(e){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!WH(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const u=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(u)}}}}}async function XH(e,t){const i=await(Sr(t)?t:oR(t)).parse(e),o=[];for(const u of i.errors)u.errors.length&&o.push(...u.errors);return{errors:o}}async function QH(e,t,n){const i=RH(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=YH(n.params,e.formData),u={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(t,o,u);return typeof a=="string"?{error:a}:{error:a?void 0:sR(u)}}function sR(e){const t=Mo().generateMessage;return t?t(e):"Field is invalid"}function YH(e,t){const n=i=>Wg(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function JH(e,t){const i=await(Sr(e)?e:oR(e)).parse(lt(t)),o={},u={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,p)=>`[${p}]`);o[f]={valid:!l.length,errors:l},l.length&&(u[f]=l[0])}return{valid:!i.errors.length,results:o,errors:u,values:i.value}}async function ZH(e,t,n){const o=ar(e).map(async d=>{var p,g,m;const b=(p=n==null?void 0:n.names)===null||p===void 0?void 0:p[d],_=await iR(Mn(t,d),e[d],{name:(b==null?void 0:b.name)||d,label:b==null?void 0:b.label,values:t,bails:(m=(g=n==null?void 0:n.bailsMap)===null||g===void 0?void 0:g[d])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},_),{path:d})});let u=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(u=!1,f[d.path]=d.errors[0]);return{valid:u,results:l,errors:f}}let uT=0;function eK(e,t){const{value:n,initialValue:i,setInitialValue:o}=tK(e,t.modelValue,t.form);if(!t.form){let f=function(b){var _;"value"in b&&(n.value=b.value),"errors"in b&&p(b.errors),"touched"in b&&(m.touched=(_=b.touched)!==null&&_!==void 0?_:m.touched),"initialValue"in b&&o(b.initialValue)};const{errors:d,setErrors:p}=iK(),g=uT>=Number.MAX_SAFE_INTEGER?0:++uT,m=rK(n,i,d,t.schema);return{id:g,path:e,value:n,initialValue:i,meta:m,flags:{pendingUnmount:{[g]:!1},pendingReset:!1},errors:d,setState:f}}const u=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate,schema:t.schema}),a=Fe(()=>u.errors);function l(f){var d,p,g;"value"in f&&(n.value=f.value),"errors"in f&&((d=t.form)===null||d===void 0||d.setFieldError(Ye(e),f.errors)),"touched"in f&&((p=t.form)===null||p===void 0||p.setFieldTouched(Ye(e),(g=f.touched)!==null&&g!==void 0?g:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(u.id)?u.id[u.id.length-1]:u.id,path:e,value:n,errors:a,meta:u,initialValue:i,flags:u.__flags,setState:l}}function tK(e,t,n){const i=Sn(Ye(t));function o(){return n?Mn(n.initialValues.value,Ye(e),Ye(i)):Ye(i)}function u(d){if(!n){i.value=d;return}n.setFieldInitialValue(Ye(e),d,!0)}const a=Fe(o);if(!n)return{value:Sn(o()),initialValue:a,setInitialValue:u};const l=nK(t,n,a,e);return n.stageInitialValue(Ye(e),l,!0),{value:Fe({get(){return Mn(n.values,Ye(e))},set(d){n.setFieldValue(Ye(e),d,!1)}}),initialValue:a,setInitialValue:u}}function nK(e,t,n,i){return pt(e)?Ye(e):e!==void 0?e:Mn(t.values,Ye(i),Ye(n))}function rK(e,t,n,i){var o,u;const a=(u=(o=i==null?void 0:i.describe)===null||o===void 0?void 0:o.call(i).required)!==null&&u!==void 0?u:!1,l=hi({touched:!1,pending:!1,valid:!0,required:a,validated:!!Ye(n).length,initialValue:Fe(()=>Ye(t)),dirty:Fe(()=>!Nn(Ye(e),Ye(t)))});return fr(n,f=>{l.valid=!f.length},{immediate:!0,flush:"sync"}),l}function iK(){const e=Sn([]);return{errors:e,setErrors:t=>{e.value=Qg(t)}}}function oK(e,t,n){return Pc(n==null?void 0:n.type)?uK(e,t,n):uR(e,t,n)}function uR(e,t,n){const{initialValue:i,validateOnMount:o,bails:u,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:p,controlled:g,keepValueOnUnmount:m,syncVModel:b,form:_}=sK(n),T=g?tR(Wh):void 0,S=_||T,x=Fe(()=>Sa(nt(e))),O=Fe(()=>{if(nt(S==null?void 0:S.schema))return;const ve=Ye(t);return Xf(ve)||Sr(ve)||rn(ve)||Array.isArray(ve)?ve:rR(ve)}),{id:F,value:V,initialValue:te,meta:U,setState:me,errors:z,flags:oe}=eK(x,{modelValue:i,form:S,bails:u,label:f,type:a,validate:O.value?Ze:void 0,schema:Sr(t)?t:void 0}),k=Fe(()=>z.value[0]);b&&aK({value:V,prop:b,handleChange:se,shouldValidate:()=>d&&!oe.pendingReset});const Xe=(fe,ve=!1)=>{U.touched=!0,ve&&at()};async function ot(fe){var ve,D;if(S!=null&&S.validateSchema){const{results:q}=await S.validateSchema(fe);return(ve=q[nt(x)])!==null&&ve!==void 0?ve:{valid:!0,errors:[]}}return O.value?iR(V.value,O.value,{name:nt(x),label:nt(f),values:(D=S==null?void 0:S.values)!==null&&D!==void 0?D:{},bails:u}):{valid:!0,errors:[]}}const at=Xg(async()=>(U.pending=!0,U.validated=!0,ot("validated-only")),fe=>(oe.pendingUnmount[gt.id]||(me({errors:fe.errors}),U.pending=!1,U.valid=fe.valid),fe)),dt=Xg(async()=>ot("silent"),fe=>(U.valid=fe.valid,fe));function Ze(fe){return(fe==null?void 0:fe.mode)==="silent"?dt():at()}function se(fe,ve=!0){const D=Qf(fe);Ot(D,ve)}vm(()=>{if(o)return at();(!S||!S.validateSchema)&&dt()});function De(fe){U.touched=fe}function _e(fe){var ve;const D=fe&&"value"in fe?fe.value:te.value;me({value:lt(D),initialValue:lt(D),touched:(ve=fe==null?void 0:fe.touched)!==null&&ve!==void 0?ve:!1,errors:(fe==null?void 0:fe.errors)||[]}),U.pending=!1,U.validated=!1,dt()}const kt=ch();function Ot(fe,ve=!0){V.value=kt&&b?FH(fe,kt.props.modelModifiers):fe,(ve?at:dt)()}function Ht(fe){me({errors:Array.isArray(fe)?fe:[fe]})}const Mt=Fe({get(){return V.value},set(fe){Ot(fe,d)}}),gt={id:F,name:x,label:f,value:Mt,meta:U,errors:z,errorMessage:k,type:a,checkedValue:l,uncheckedValue:p,bails:u,keepValueOnUnmount:m,resetField:_e,handleReset:()=>_e(),validate:Ze,handleChange:se,handleBlur:Xe,setState:me,setTouched:De,setErrors:Ht,setValue:Ot};if(zs(NH,gt),pt(t)&&typeof Ye(t)!="function"&&fr(t,(fe,ve)=>{Nn(fe,ve)||(U.validated?at():dt())},{deep:!0}),!S)return gt;const Hn=Fe(()=>{const fe=O.value;return!fe||rn(fe)||Xf(fe)||Sr(fe)||Array.isArray(fe)?{}:Object.keys(fe).reduce((ve,D)=>{const q=$H(fe[D]).map(ee=>ee.__locatorRef).reduce((ee,ae)=>{const Ce=Mn(S.values,ae)||S.values[ae];return Ce!==void 0&&(ee[ae]=Ce),ee},{});return Object.assign(ve,q),ve},{})});return fr(Hn,(fe,ve)=>{if(!Object.keys(fe).length)return;!Nn(fe,ve)&&(U.validated?at():dt())}),QT(()=>{var fe;const ve=(fe=nt(gt.keepValueOnUnmount))!==null&&fe!==void 0?fe:nt(S.keepValuesOnUnmount),D=nt(x);if(ve||!S||oe.pendingUnmount[gt.id]){S==null||S.removePathState(D,F);return}oe.pendingUnmount[gt.id]=!0;const q=S.getPathState(D);if(Array.isArray(q==null?void 0:q.id)&&(q!=null&&q.multiple)?q!=null&&q.id.includes(gt.id):(q==null?void 0:q.id)===gt.id){if(q!=null&&q.multiple&&Array.isArray(q.value)){const ae=q.value.findIndex(Ce=>Nn(Ce,nt(gt.checkedValue)));if(ae>-1){const Ce=[...q.value];Ce.splice(ae,1),S.setFieldValue(D,Ce)}Array.isArray(q.id)&&q.id.splice(q.id.indexOf(gt.id),1)}else S.unsetPathValue(nt(x));S.removePathState(D,F)}}),gt}function sK(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),i=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?Jg(ch(),i):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const u="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:a??!0,checkedValue:u,syncVModel:l})}function uK(e,t,n){const i=n!=null&&n.standalone?void 0:tR(Wh),o=n==null?void 0:n.checkedValue,u=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=Fe(()=>{const g=nt(l.value),m=nt(o);return Array.isArray(g)?g.findIndex(b=>Nn(b,m))>=0:Nn(m,g)});function p(g,m=!0){var b,_;if(d.value===((b=g==null?void 0:g.target)===null||b===void 0?void 0:b.checked)){m&&l.validate();return}const T=nt(e),S=i==null?void 0:i.getPathState(T),x=Qf(g);let O=(_=nt(o))!==null&&_!==void 0?_:x;i&&(S!=null&&S.multiple)&&S.type==="checkbox"?O=iT(Mn(i.values,T)||[],O,void 0):(n==null?void 0:n.type)==="checkbox"&&(O=iT(nt(l.value),O,nt(u))),f(O,m)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:u,handleChange:p})}return a(uR(e,t,n))}function aK({prop:e,value:t,handleChange:n,shouldValidate:i}){const o=ch();if(!o||!e)return;const u=typeof e=="string"?e:"modelValue",a=`update:${u}`;u in o.props&&(fr(t,l=>{Nn(l,Jg(o,u))||o.emit(a,l)}),fr(()=>Jg(o,u),l=>{if(l===Wf&&t.value===void 0)return;const f=l===Wf?void 0:l;Nn(f,t.value)||n(f,i())}))}function Jg(e,t){if(e)return e.props[t]}const cK=fc({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Mo().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Wf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=ko(e,"rules"),i=ko(e,"name"),o=ko(e,"label"),u=ko(e,"uncheckedValue"),a=ko(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:p,handleChange:g,handleBlur:m,setTouched:b,resetField:_,handleReset:T,meta:S,checked:x,setErrors:O}=oK(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:fK(e,t),checkedValue:t.attrs.value,uncheckedValue:u,label:o,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:a,syncVModel:!0}),F=function(oe,k=!0){g(oe,k)},V=Fe(()=>{const{validateOnInput:z,validateOnChange:oe,validateOnBlur:k,validateOnModelUpdate:Xe}=lK(e);function ot(se){m(se,k),rn(t.attrs.onBlur)&&t.attrs.onBlur(se)}function at(se){F(se,z),rn(t.attrs.onInput)&&t.attrs.onInput(se)}function dt(se){F(se,oe),rn(t.attrs.onChange)&&t.attrs.onChange(se)}const Ze={name:e.name,onBlur:ot,onInput:at,onChange:dt};return Ze["onUpdate:modelValue"]=se=>F(se,Xe),Ze}),te=Fe(()=>{const z=Object.assign({},V.value);Pc(t.attrs.type)&&x&&(z.checked=x.value);const oe=aT(e,t);return MH(oe,t.attrs)&&(z.value=f.value),z}),U=Fe(()=>Object.assign(Object.assign({},V.value),{modelValue:f.value}));function me(){return{field:te.value,componentField:U.value,value:f.value,meta:S,errors:l.value,errorMessage:d.value,validate:p,resetField:_,handleChange:F,handleInput:z=>F(z,!1),handleReset:T,handleBlur:V.value.onBlur,setTouched:b,setErrors:O}}return t.expose({value:f,meta:S,errors:l,errorMessage:d,setErrors:O,setTouched:b,reset:_,validate:p,handleChange:g}),()=>{const z=dm(aT(e,t)),oe=Gy(z,t,me);return z?Js(z,Object.assign(Object.assign({},t.attrs),te.value),oe):oe}}});function aT(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function lK(e){var t,n,i,o;const{validateOnInput:u,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Mo();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:u,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function fK(e,t){return Pc(t.attrs.type)?tT(e,"modelValue")?e.modelValue:void 0:tT(e,"modelValue")?e.modelValue:t.attrs.value}const hK=cK;let dK=0;const ef=["bails","fieldsCount","id","multiple","type","validate"];function aR(e){const t=Object.assign({},nt((e==null?void 0:e.initialValues)||{})),n=Ye(e==null?void 0:e.validationSchema);return n&&Sr(n)&&rn(n.cast)?lt(n.cast(t)||{}):lt(t)}function pK(e){var t;const n=dK++;let i=0;const o=Sn(!1),u=Sn(!1),a=Sn(0),l=[],f=hi(aR(e)),d=Sn([]),p=Sn({}),g=Sn({}),m=UH(()=>{g.value=d.value.reduce((R,N)=>(R[Sa(nt(N.path))]=N,R),{})});function b(R,N){const H=se(R);if(!H){typeof R=="string"&&(p.value[Sa(R)]=Qg(N));return}if(typeof R=="string"){const Z=Sa(R);p.value[Z]&&delete p.value[Z]}H.errors=Qg(N),H.valid=!H.errors.length}function _(R){ar(R).forEach(N=>{b(N,R[N])})}e!=null&&e.initialErrors&&_(e.initialErrors);const T=Fe(()=>{const R=d.value.reduce((N,H)=>(H.errors.length&&(N[H.path]=H.errors),N),{});return Object.assign(Object.assign({},p.value),R)}),S=Fe(()=>ar(T.value).reduce((R,N)=>{const H=T.value[N];return H!=null&&H.length&&(R[N]=H[0]),R},{})),x=Fe(()=>d.value.reduce((R,N)=>(R[N.path]={name:N.path||"",label:N.label||""},R),{})),O=Fe(()=>d.value.reduce((R,N)=>{var H;return R[N.path]=(H=N.bails)!==null&&H!==void 0?H:!0,R},{})),F=Object.assign({},(e==null?void 0:e.initialErrors)||{}),V=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:te,originalInitialValues:U,setInitialValues:me}=gK(d,f,e),z=vK(d,f,U,S),oe=Fe(()=>d.value.reduce((R,N)=>{const H=Mn(f,N.path);return Oi(R,N.path,H),R},{})),k=e==null?void 0:e.validationSchema;function Xe(R,N){var H,Z;const Se=Fe(()=>Mn(te.value,nt(R))),pe=g.value[nt(R)],Ae=(N==null?void 0:N.type)==="checkbox"||(N==null?void 0:N.type)==="radio";if(pe&&Ae){pe.multiple=!0;const Ct=i++;return Array.isArray(pe.id)?pe.id.push(Ct):pe.id=[pe.id,Ct],pe.fieldsCount++,pe.__flags.pendingUnmount[Ct]=!1,pe}const Ge=Fe(()=>Mn(f,nt(R))),qe=nt(R),en=Fe(()=>{var Ct,Pr,mi,Pu,Dr,as;return Sr(k)?(mi=(Pr=(Ct=k).describe)===null||Pr===void 0?void 0:Pr.call(Ct,nt(R)).required)!==null&&mi!==void 0?mi:!1:Sr(N==null?void 0:N.schema)&&(as=(Dr=(Pu=N==null?void 0:N.schema).describe)===null||Dr===void 0?void 0:Dr.call(Pu).required)!==null&&as!==void 0?as:!1}),Be=i++,Rt=hi({id:Be,path:R,touched:!1,pending:!1,valid:!0,validated:!!(!((H=F[qe])===null||H===void 0)&&H.length),required:en,initialValue:Se,errors:LT([]),bails:(Z=N==null?void 0:N.bails)!==null&&Z!==void 0?Z:!1,label:N==null?void 0:N.label,type:(N==null?void 0:N.type)||"default",value:Ge,multiple:!1,__flags:{pendingUnmount:{[Be]:!1},pendingReset:!1},fieldsCount:1,validate:N==null?void 0:N.validate,dirty:Fe(()=>!Nn(Ye(Ge),Ye(Se)))});return d.value.push(Rt),g.value[qe]=Rt,m(),S.value[qe]&&!F[qe]&&Xn(()=>{Y(qe,{mode:"silent"})}),pt(R)&&fr(R,Ct=>{m();const Pr=lt(Ge.value);g.value[Ct]=Rt,Xn(()=>{Oi(f,Ct,Pr)})}),Rt}const ot=oT(le,5),at=oT(le,5),dt=Xg(async R=>await(R==="silent"?ot():at()),(R,[N])=>{const H=ar(ve.errorBag.value),Se=[...new Set([...ar(R.results),...d.value.map(pe=>pe.path),...H])].sort().reduce((pe,Ae)=>{var Ge;const qe=Ae,en=se(qe)||De(qe),Be=((Ge=R.results[qe])===null||Ge===void 0?void 0:Ge.errors)||[],Rt=nt(en==null?void 0:en.path)||qe,Ct=mK({errors:Be,valid:!Be.length},pe.results[Rt]);return pe.results[Rt]=Ct,Ct.valid||(pe.errors[Rt]=Ct.errors[0]),en&&p.value[Rt]&&delete p.value[Rt],en?(en.valid=Ct.valid,N==="silent"||N==="validated-only"&&!en.validated||b(en,Ct.errors),pe):(b(Rt,Be),pe)},{valid:R.valid,results:{},errors:{}});return R.values&&(Se.values=R.values),Se});function Ze(R){d.value.forEach(R)}function se(R){const N=typeof R=="string"?Sa(R):R;return typeof N=="string"?g.value[N]:N}function De(R){return d.value.filter(H=>R.startsWith(H.path)).reduce((H,Z)=>H?Z.path.length>H.path.length?Z:H:Z,void 0)}let _e=[],kt;function Ot(R){return _e.push(R),kt||(kt=Xn(()=>{[..._e].sort().reverse().forEach(H=>{rT(f,H)}),_e=[],kt=null})),kt}function Ht(R){return function(H,Z){return function(pe){return pe instanceof Event&&(pe.preventDefault(),pe.stopPropagation()),Ze(Ae=>Ae.touched=!0),o.value=!0,a.value++,ne().then(Ae=>{const Ge=lt(f);if(Ae.valid&&typeof H=="function"){const qe=lt(oe.value);let en=R?qe:Ge;return Ae.values&&(en=Ae.values),H(en,{evt:pe,controlledValues:qe,setErrors:_,setFieldError:b,setTouched:L,setFieldTouched:Ce,setValues:ee,setFieldValue:D,resetForm:G,resetField:j})}!Ae.valid&&typeof Z=="function"&&Z({values:Ge,evt:pe,errors:Ae.errors,results:Ae.results})}).then(Ae=>(o.value=!1,Ae),Ae=>{throw o.value=!1,Ae})}}}const gt=Ht(!1);gt.withControlled=Ht(!0);function Hn(R,N){const H=d.value.findIndex(Se=>Se.path===R),Z=d.value[H];if(!(H===-1||!Z)){if(Xn(()=>{Y(R,{mode:"silent",warn:!1})}),Z.multiple&&Z.fieldsCount&&Z.fieldsCount--,Array.isArray(Z.id)){const Se=Z.id.indexOf(N);Se>=0&&Z.id.splice(Se,1),delete Z.__flags.pendingUnmount[N]}(!Z.multiple||Z.fieldsCount<=0)&&(d.value.splice(H,1),ie(R),m(),delete g.value[R])}}function fe(R){ar(g.value).forEach(N=>{N.startsWith(R)&&delete g.value[N]}),d.value=d.value.filter(N=>!N.path.startsWith(R)),Xn(()=>{m()})}const ve={formId:n,values:f,controlledValues:oe,errorBag:T,errors:S,schema:k,submitCount:a,meta:z,isSubmitting:o,isValidating:u,fieldArrays:l,keepValuesOnUnmount:V,validateSchema:Ye(k)?dt:void 0,validate:ne,setFieldError:b,validateField:Y,setFieldValue:D,setValues:ee,setErrors:_,setFieldTouched:Ce,setTouched:L,resetForm:G,resetField:j,handleSubmit:gt,useFieldModel:je,defineInputBinds:Ee,defineComponentBinds:ze,defineField:Re,stageInitialValue:Q,unsetInitialValue:ie,setFieldInitialValue:ge,createPathState:Xe,getPathState:se,unsetPathValue:Ot,removePathState:Hn,initialValues:te,getAllPathStates:()=>d.value,destroyPath:fe,isFieldTouched:I,isFieldDirty:A,isFieldValid:C};function D(R,N,H=!0){const Z=lt(N),Se=typeof R=="string"?R:R.path;se(Se)||Xe(Se),Oi(f,Se,Z),H&&Y(Se)}function q(R,N=!0){ar(f).forEach(H=>{delete f[H]}),ar(R).forEach(H=>{D(H,R[H],!1)}),N&&ne()}function ee(R,N=!0){cc(f,R),l.forEach(H=>H&&H.reset()),N&&ne()}function ae(R,N){const H=se(nt(R))||Xe(R);return Fe({get(){return H.value},set(Z){var Se;const pe=nt(R);D(pe,Z,(Se=nt(N))!==null&&Se!==void 0?Se:!1)}})}function Ce(R,N){const H=se(R);H&&(H.touched=N)}function I(R){const N=se(R);return N?N.touched:d.value.filter(H=>H.path.startsWith(R)).some(H=>H.touched)}function A(R){const N=se(R);return N?N.dirty:d.value.filter(H=>H.path.startsWith(R)).some(H=>H.dirty)}function C(R){const N=se(R);return N?N.valid:d.value.filter(H=>H.path.startsWith(R)).every(H=>H.valid)}function L(R){if(typeof R=="boolean"){Ze(N=>{N.touched=R});return}ar(R).forEach(N=>{Ce(N,!!R[N])})}function j(R,N){var H;const Z=N&&"value"in N?N.value:Mn(te.value,R),Se=se(R);Se&&(Se.__flags.pendingReset=!0),ge(R,lt(Z),!0),D(R,Z,!1),Ce(R,(H=N==null?void 0:N.touched)!==null&&H!==void 0?H:!1),b(R,(N==null?void 0:N.errors)||[]),Xn(()=>{Se&&(Se.__flags.pendingReset=!1)})}function G(R,N){let H=lt(R!=null&&R.values?R.values:U.value);H=N!=null&&N.force?H:cc(U.value,H),H=Sr(k)&&rn(k.cast)?k.cast(H):H,me(H),Ze(Z=>{var Se;Z.__flags.pendingReset=!0,Z.validated=!1,Z.touched=((Se=R==null?void 0:R.touched)===null||Se===void 0?void 0:Se[Z.path])||!1,D(Z.path,Mn(H,Z.path),!1),b(Z.path,void 0)}),N!=null&&N.force?q(H,!1):ee(H,!1),_((R==null?void 0:R.errors)||{}),a.value=(R==null?void 0:R.submitCount)||0,Xn(()=>{ne({mode:"silent"}),Ze(Z=>{Z.__flags.pendingReset=!1})})}async function ne(R){const N=(R==null?void 0:R.mode)||"force";if(N==="force"&&Ze(pe=>pe.validated=!0),ve.validateSchema)return ve.validateSchema(N);u.value=!0;const H=await Promise.all(d.value.map(pe=>pe.validate?pe.validate(R).then(Ae=>({key:pe.path,valid:Ae.valid,errors:Ae.errors})):Promise.resolve({key:pe.path,valid:!0,errors:[]})));u.value=!1;const Z={},Se={};for(const pe of H)Z[pe.key]={valid:pe.valid,errors:pe.errors},pe.errors.length&&(Se[pe.key]=pe.errors[0]);return{valid:H.every(pe=>pe.valid),results:Z,errors:Se}}async function Y(R,N){var H;const Z=se(R);if(Z&&(N==null?void 0:N.mode)!=="silent"&&(Z.validated=!0),k){const{results:Se}=await dt((N==null?void 0:N.mode)||"validated-only");return Se[R]||{errors:[],valid:!0}}return Z!=null&&Z.validate?Z.validate(N):(!Z&&(H=N==null?void 0:N.warn),Promise.resolve({errors:[],valid:!0}))}function ie(R){rT(te.value,R)}function Q(R,N,H=!1){ge(R,N),Oi(f,R,N),H&&!(e!=null&&e.initialValues)&&Oi(U.value,R,lt(N))}function ge(R,N,H=!1){Oi(te.value,R,lt(N)),H&&Oi(U.value,R,lt(N))}async function le(){const R=Ye(k);if(!R)return{valid:!0,results:{},errors:{}};u.value=!0;const N=Xf(R)||Sr(R)?await JH(R,f):await ZH(R,f,{names:x.value,bailsMap:O.value});return u.value=!1,N}const we=gt((R,{evt:N})=>{eR(N)&&N.target.submit()});vm(()=>{if(e!=null&&e.initialErrors&&_(e.initialErrors),e!=null&&e.initialTouched&&L(e.initialTouched),e!=null&&e.validateOnMount){ne();return}ve.validateSchema&&ve.validateSchema("silent")}),pt(k)&&fr(k,()=>{var R;(R=ve.validateSchema)===null||R===void 0||R.call(ve,"validated-only")}),zs(Wh,ve);function Re(R,N){const H=rn(N)||N==null?void 0:N.label,Z=se(nt(R))||Xe(R,{label:H}),Se=()=>rn(N)?N(Zl(Z,ef)):N||{};function pe(){var Be;Z.touched=!0,((Be=Se().validateOnBlur)!==null&&Be!==void 0?Be:Mo().validateOnBlur)&&Y(Z.path)}function Ae(){var Be;((Be=Se().validateOnInput)!==null&&Be!==void 0?Be:Mo().validateOnInput)&&Xn(()=>{Y(Z.path)})}function Ge(){var Be;((Be=Se().validateOnChange)!==null&&Be!==void 0?Be:Mo().validateOnChange)&&Xn(()=>{Y(Z.path)})}const qe=Fe(()=>{const Be={onChange:Ge,onInput:Ae,onBlur:pe};return rn(N)?Object.assign(Object.assign({},Be),N(Zl(Z,ef)).props||{}):N!=null&&N.props?Object.assign(Object.assign({},Be),N.props(Zl(Z,ef))):Be});return[ae(R,()=>{var Be,Rt,Ct;return(Ct=(Be=Se().validateOnModelUpdate)!==null&&Be!==void 0?Be:(Rt=Mo())===null||Rt===void 0?void 0:Rt.validateOnModelUpdate)!==null&&Ct!==void 0?Ct:!0}),qe]}function je(R){return Array.isArray(R)?R.map(N=>ae(N,!0)):ae(R)}function Ee(R,N){const[H,Z]=Re(R,N);function Se(Ge){Z.value.onBlur(Ge)}function pe(Ge){const qe=Qf(Ge);D(nt(R),qe,!1),Z.value.onInput(Ge)}function Ae(Ge){const qe=Qf(Ge);D(nt(R),qe,!1),Z.value.onChange(Ge)}return Fe(()=>Object.assign(Object.assign({},Z.value),{onBlur:Se,onInput:pe,onChange:Ae,value:H.value}))}function ze(R,N){const[H,Z]=Re(R,N),Se=se(nt(R));function pe(Ae){H.value=Ae}return Fe(()=>{const Ae=rn(N)?N(Zl(Se,ef)):N||{};return Object.assign({[Ae.model||"modelValue"]:H.value,[`onUpdate:${Ae.model||"modelValue"}`]:pe},Z.value)})}return Object.assign(Object.assign({},ve),{values:um(f),handleReset:()=>G(),submitForm:we})}function vK(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},u=Fe(()=>!Nn(t,Ye(n)));function a(){const f=e.value;return ar(o).reduce((d,p)=>{const g=o[p];return d[p]=f[g](m=>m[p]),d},{})}const l=hi(a());return uP(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Fe(()=>Object.assign(Object.assign({initialValues:Ye(n)},l),{valid:l.valid&&!ar(i.value).length,dirty:u.value}))}function gK(e,t,n){const i=aR(n),o=Sn(i),u=Sn(lt(i));function a(l,f=!1){o.value=cc(lt(o.value)||{},lt(l)),u.value=cc(lt(u.value)||{},lt(l)),f&&e.value.forEach(d=>{if(d.touched)return;const g=Mn(o.value,d.path);Oi(t,d.path,lt(g))})}return{initialValues:o,originalInitialValues:u,setInitialValues:a}}function mK(e,t){return t?{valid:e.valid&&t.valid,errors:[...e.errors,...t.errors]}:e}const yK=fc({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=ko(e,"validationSchema"),i=ko(e,"keepValues"),{errors:o,errorBag:u,values:a,meta:l,isSubmitting:f,isValidating:d,submitCount:p,controlledValues:g,validate:m,validateField:b,handleReset:_,resetForm:T,handleSubmit:S,setErrors:x,setFieldError:O,setFieldValue:F,setValues:V,setFieldTouched:te,setTouched:U,resetField:me}=pK({validationSchema:n.value?n:void 0,initialValues:e.initialValues,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:i}),z=S((se,{evt:De})=>{eR(De)&&De.target.submit()},e.onInvalidSubmit),oe=e.onSubmit?S(e.onSubmit,e.onInvalidSubmit):z;function k(se){Ky(se)&&se.preventDefault(),_(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function Xe(se,De){return S(typeof se=="function"&&!De?se:De,e.onInvalidSubmit)(se)}function ot(){return lt(a)}function at(){return lt(l.value)}function dt(){return lt(o.value)}function Ze(){return{meta:l.value,errors:o.value,errorBag:u.value,values:a,isSubmitting:f.value,isValidating:d.value,submitCount:p.value,controlledValues:g.value,validate:m,validateField:b,handleSubmit:Xe,handleReset:_,submitForm:z,setErrors:x,setFieldError:O,setFieldValue:F,setValues:V,setFieldTouched:te,setTouched:U,resetForm:T,resetField:me,getValues:ot,getMeta:at,getErrors:dt}}return t.expose({setFieldError:O,setErrors:x,setFieldValue:F,setValues:V,setFieldTouched:te,setTouched:U,resetForm:T,validate:m,validateField:b,resetField:me,getValues:ot,getMeta:at,getErrors:dt,values:a,meta:l,errors:o}),function(){const De=e.as==="form"?e.as:e.as?dm(e.as):null,_e=Gy(De,t,Ze);return De?Js(De,Object.assign(Object.assign(Object.assign({},De==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:oe,onReset:k}),_e):_e}}}),wK=yK,bK=fc({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=hr(Wh,void 0),i=Fe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const u=e.as?dm(e.as):e.as,a=Gy(u,t,o),l=Object.assign({role:"alert"},t.attrs);return!u&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Js(u||"span",l,i.value):Js(u,l,a)}}}),_K=bK;/**
  * vee-validate v4.12.3
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const tf={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,kz:/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},EK=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Dc(e,t){return Array.isArray(e)?e[0]:e[t]}function no(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const cR=(e,t)=>{if(no(e))return!0;const n=EK(t);if(Array.isArray(e))return e.every(o=>cR(o,{locale:n}));const i=String(e);return n?(tf[n]||tf.en).test(i):Object.keys(tf).some(o=>tf[o].test(i))},IK=(e,t)=>{const n=Dc(t,"target");return String(e)===String(n)},cT=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,TK=e=>no(e)?!0:Array.isArray(e)?e.every(t=>cT.test(String(t))):cT.test(String(e)),lR=(e,t)=>{if(no(e))return!0;const n=Dc(t,"length");return Array.isArray(e)?e.every(i=>lR(i,{length:n})):[...String(e)].length<=Number(n)},fR=(e,t)=>{if(no(e))return!0;const n=Dc(t,"max");return Array.isArray(e)?e.length>0&&e.every(i=>fR(i,{max:n})):Number(e)<=Number(n)},hR=(e,t)=>{if(no(e))return!0;const n=Dc(t,"length");return Array.isArray(e)?e.every(i=>hR(i,{length:n})):[...String(e)].length>=Number(n)},dR=(e,t)=>{if(no(e))return!0;const n=Dc(t,"min");return Array.isArray(e)?e.length>0&&e.every(i=>dR(i,{min:n})):Number(e)>=Number(n)},pR=(e,t)=>no(e)?!0:Array.isArray(e)?e.every(n=>pR(n,t)):Array.from(t).some(n=>n==e),lT=(e,t)=>no(e)?!0:!pR(e,t);function SK(e){return e==null}function AK(e){return Array.isArray(e)&&e.length===0}const fT=e=>SK(e)||AK(e)||e===!1?!1:!!String(e).trim().length,kK={install(e){e.component("VeeForm",wK),e.component("VeeField",hK),e.component("ErrorMessage",_K),br("required",fT),br("tos",fT),br("min",hR),br("max",lR),br("alpha_spaces",cR),br("email",TK),br("min_value",dR),br("max_value",fR),br("password_mismatch",IK),br("not_one_of",lT),br("country_excluded",lT),zH({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too short.`,alpha_spaces:`The field ${t.field} may only contain alphabetical chars`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,password_mismatch:"The password don't match.",not_one_of:`You are not arrowed to use this value for the field ${t.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",tos:"You must accept the Terms of Service."};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let Ms;Ki.onAuthStateChanged(()=>{Ms||(Ms=_D(uB),Ms.use(TD()),Ms.use(Qk),Ms.use(kK),Ms.mount("#app"))});
