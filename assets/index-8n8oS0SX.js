(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ov(e,t){const n=Object.create(null),i=e.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const bt={},Hs=[],Gr=()=>{},vO=()=>!1,nh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),sv=e=>e.startsWith("onUpdate:"),an=Object.assign,uv=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},yO=Object.prototype.hasOwnProperty,Qe=(e,t)=>yO.call(e,t),ke=Array.isArray,Ks=e=>hc(e)==="[object Map]",rh=e=>hc(e)==="[object Set]",N_=e=>hc(e)==="[object Date]",Me=e=>typeof e=="function",$t=e=>typeof e=="string",Gi=e=>typeof e=="symbol",dt=e=>e!==null&&typeof e=="object",bT=e=>(dt(e)||Me(e))&&Me(e.then)&&Me(e.catch),_T=Object.prototype.toString,hc=e=>_T.call(e),wO=e=>hc(e).slice(8,-1),ET=e=>hc(e)==="[object Object]",av=e=>$t(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,sf=ov(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ih=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},bO=/-(\w)/g,Yr=ih(e=>e.replace(bO,(t,n)=>n?n.toUpperCase():"")),_O=/\B([A-Z])/g,Eu=ih(e=>e.replace(_O,"-$1").toLowerCase()),oh=ih(e=>e.charAt(0).toUpperCase()+e.slice(1)),Cg=ih(e=>e?`on${oh(e)}`:""),Ko=(e,t)=>!Object.is(e,t),uf=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},yf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},IT=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let x_;const im=()=>x_||(x_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dc(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=$t(i)?SO(i):dc(i);if(o)for(const u in o)t[u]=o[u]}return t}else if($t(e)||dt(e))return e}const EO=/;(?![^(]*\))/g,IO=/:([^]+)/,TO=/\/\*[^]*?\*\//g;function SO(e){const t={};return e.replace(TO,"").split(EO).forEach(n=>{if(n){const i=n.split(IO);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Un(e){let t="";if($t(e))t=e;else if(ke(e))for(let n=0;n<e.length;n++){const i=Un(e[n]);i&&(t+=i+" ")}else if(dt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const AO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kO=ov(AO);function TT(e){return!!e||e===""}function CO(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=sh(e[i],t[i]);return n}function sh(e,t){if(e===t)return!0;let n=N_(e),i=N_(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Gi(e),i=Gi(t),n||i)return e===t;if(n=ke(e),i=ke(t),n||i)return n&&i?CO(e,t):!1;if(n=dt(e),i=dt(t),n||i){if(!n||!i)return!1;const o=Object.keys(e).length,u=Object.keys(t).length;if(o!==u)return!1;for(const a in e){const l=e.hasOwnProperty(a),f=t.hasOwnProperty(a);if(l&&!f||!l&&f||!sh(e[a],t[a]))return!1}}return String(e)===String(t)}function RO(e,t){return e.findIndex(n=>sh(n,t))}const fn=e=>$t(e)?e:e==null?"":ke(e)||dt(e)&&(e.toString===_T||!Me(e.toString))?JSON.stringify(e,ST,2):String(e),ST=(e,t)=>t&&t.__v_isRef?ST(e,t.value):Ks(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o],u)=>(n[Rg(i,u)+" =>"]=o,n),{})}:rh(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Rg(n))}:Gi(t)?Rg(t):dt(t)&&!ke(t)&&!ET(t)?String(t):t,Rg=(e,t="")=>{var n;return Gi(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let Qn;class AT{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Qn,!t&&Qn&&(this.index=(Qn.scopes||(Qn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Qn;try{return Qn=this,t()}finally{Qn=n}}}on(){Qn=this}off(){Qn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function kT(e){return new AT(e)}function NO(e,t=Qn){t&&t.active&&t.effects.push(e)}function CT(){return Qn}function xO(e){Qn&&Qn.cleanups.push(e)}const cv=e=>{const t=new Set(e);return t.w=0,t.n=0,t},RT=e=>(e.w&Wi)>0,NT=e=>(e.n&Wi)>0,OO=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Wi},PO=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const o=t[i];RT(o)&&!NT(o)?o.delete(e):t[n++]=o,o.w&=~Wi,o.n&=~Wi}t.length=n}},wf=new WeakMap;let Ia=0,Wi=1;const om=30;let Tr;const Uo=Symbol(""),sm=Symbol("");class lv{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,NO(this,i)}run(){if(!this.active)return this.fn();let t=Tr,n=Bi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Tr,Tr=this,Bi=!0,Wi=1<<++Ia,Ia<=om?OO(this):O_(this),this.fn()}finally{Ia<=om&&PO(this),Wi=1<<--Ia,Tr=this.parent,Bi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Tr===this?this.deferStop=!0:this.active&&(O_(this),this.onStop&&this.onStop(),this.active=!1)}}function O_(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Bi=!0;const xT=[];function Iu(){xT.push(Bi),Bi=!1}function Tu(){const e=xT.pop();Bi=e===void 0?!0:e}function Bn(e,t,n){if(Bi&&Tr){let i=wf.get(e);i||wf.set(e,i=new Map);let o=i.get(n);o||i.set(n,o=cv()),OT(o)}}function OT(e,t){let n=!1;Ia<=om?NT(e)||(e.n|=Wi,n=!RT(e)):n=!e.has(Tr),n&&(e.add(Tr),Tr.deps.push(e))}function ci(e,t,n,i,o,u){const a=wf.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&ke(e)){const f=Number(i);a.forEach((d,p)=>{(p==="length"||!Gi(p)&&p>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":ke(e)?av(n)&&l.push(a.get("length")):(l.push(a.get(Uo)),Ks(e)&&l.push(a.get(sm)));break;case"delete":ke(e)||(l.push(a.get(Uo)),Ks(e)&&l.push(a.get(sm)));break;case"set":Ks(e)&&l.push(a.get(Uo));break}if(l.length===1)l[0]&&um(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);um(cv(f))}}function um(e,t){const n=ke(e)?e:[...e];for(const i of n)i.computed&&P_(i);for(const i of n)i.computed||P_(i)}function P_(e,t){(e!==Tr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function DO(e,t){var n;return(n=wf.get(e))==null?void 0:n.get(t)}const LO=ov("__proto__,__v_isRef,__isVue"),PT=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Gi)),D_=MO();function MO(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Je(this);for(let u=0,a=this.length;u<a;u++)Bn(i,"get",u+"");const o=i[t](...n);return o===-1||o===!1?i[t](...n.map(Je)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Iu();const i=Je(this)[t].apply(this,n);return Tu(),i}}),e}function FO(e){const t=Je(this);return Bn(t,"has",e),t.hasOwnProperty(e)}class DT{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,i){const o=this._isReadonly,u=this._shallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return u;if(n==="__v_raw")return i===(o?u?QO:UT:u?FT:MT).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=ke(t);if(!o){if(a&&Qe(D_,n))return Reflect.get(D_,n,i);if(n==="hasOwnProperty")return FO}const l=Reflect.get(t,n,i);return(Gi(n)?PT.has(n):LO(n))||(o||Bn(t,"get",n),u)?l:gt(l)?a&&av(n)?l:l.value:dt(l)?o?dv(l):pi(l):l}}class LT extends DT{constructor(t=!1){super(!1,t)}set(t,n,i,o){let u=t[n];if(Qs(u)&&gt(u)&&!gt(i))return!1;if(!this._shallow&&(!bf(i)&&!Qs(i)&&(u=Je(u),i=Je(i)),!ke(t)&&gt(u)&&!gt(i)))return u.value=i,!0;const a=ke(t)&&av(n)?Number(n)<t.length:Qe(t,n),l=Reflect.set(t,n,i,o);return t===Je(o)&&(a?Ko(i,u)&&ci(t,"set",n,i):ci(t,"add",n,i)),l}deleteProperty(t,n){const i=Qe(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&i&&ci(t,"delete",n,void 0),o}has(t,n){const i=Reflect.has(t,n);return(!Gi(n)||!PT.has(n))&&Bn(t,"has",n),i}ownKeys(t){return Bn(t,"iterate",ke(t)?"length":Uo),Reflect.ownKeys(t)}}class UO extends DT{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const jO=new LT,VO=new UO,qO=new LT(!0),fv=e=>e,uh=e=>Reflect.getPrototypeOf(e);function Fl(e,t,n=!1,i=!1){e=e.__v_raw;const o=Je(e),u=Je(t);n||(Ko(t,u)&&Bn(o,"get",t),Bn(o,"get",u));const{has:a}=uh(o),l=i?fv:n?gv:ja;if(a.call(o,t))return l(e.get(t));if(a.call(o,u))return l(e.get(u));e!==o&&e.get(t)}function Ul(e,t=!1){const n=this.__v_raw,i=Je(n),o=Je(e);return t||(Ko(e,o)&&Bn(i,"has",e),Bn(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function jl(e,t=!1){return e=e.__v_raw,!t&&Bn(Je(e),"iterate",Uo),Reflect.get(e,"size",e)}function L_(e){e=Je(e);const t=Je(this);return uh(t).has.call(t,e)||(t.add(e),ci(t,"add",e,e)),this}function M_(e,t){t=Je(t);const n=Je(this),{has:i,get:o}=uh(n);let u=i.call(n,e);u||(e=Je(e),u=i.call(n,e));const a=o.call(n,e);return n.set(e,t),u?Ko(t,a)&&ci(n,"set",e,t):ci(n,"add",e,t),this}function F_(e){const t=Je(this),{has:n,get:i}=uh(t);let o=n.call(t,e);o||(e=Je(e),o=n.call(t,e)),i&&i.call(t,e);const u=t.delete(e);return o&&ci(t,"delete",e,void 0),u}function U_(){const e=Je(this),t=e.size!==0,n=e.clear();return t&&ci(e,"clear",void 0,void 0),n}function Vl(e,t){return function(i,o){const u=this,a=u.__v_raw,l=Je(a),f=t?fv:e?gv:ja;return!e&&Bn(l,"iterate",Uo),a.forEach((d,p)=>i.call(o,f(d),f(p),u))}}function ql(e,t,n){return function(...i){const o=this.__v_raw,u=Je(o),a=Ks(u),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,d=o[e](...i),p=n?fv:t?gv:ja;return!t&&Bn(u,"iterate",f?sm:Uo),{next(){const{value:m,done:v}=d.next();return v?{value:m,done:v}:{value:l?[p(m[0]),p(m[1])]:p(m),done:v}},[Symbol.iterator](){return this}}}}function Ci(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function BO(){const e={get(u){return Fl(this,u)},get size(){return jl(this)},has:Ul,add:L_,set:M_,delete:F_,clear:U_,forEach:Vl(!1,!1)},t={get(u){return Fl(this,u,!1,!0)},get size(){return jl(this)},has:Ul,add:L_,set:M_,delete:F_,clear:U_,forEach:Vl(!1,!0)},n={get(u){return Fl(this,u,!0)},get size(){return jl(this,!0)},has(u){return Ul.call(this,u,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:Vl(!0,!1)},i={get(u){return Fl(this,u,!0,!0)},get size(){return jl(this,!0)},has(u){return Ul.call(this,u,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:Vl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=ql(u,!1,!1),n[u]=ql(u,!0,!1),t[u]=ql(u,!1,!0),i[u]=ql(u,!0,!0)}),[e,n,t,i]}const[$O,HO,KO,zO]=BO();function hv(e,t){const n=t?e?zO:KO:e?HO:$O;return(i,o,u)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(Qe(n,o)&&o in i?n:i,o,u)}const GO={get:hv(!1,!1)},WO={get:hv(!1,!0)},XO={get:hv(!0,!1)},MT=new WeakMap,FT=new WeakMap,UT=new WeakMap,QO=new WeakMap;function YO(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function JO(e){return e.__v_skip||!Object.isExtensible(e)?0:YO(wO(e))}function pi(e){return Qs(e)?e:pv(e,!1,jO,GO,MT)}function jT(e){return pv(e,!1,qO,WO,FT)}function dv(e){return pv(e,!0,VO,XO,UT)}function pv(e,t,n,i,o){if(!dt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=o.get(e);if(u)return u;const a=JO(e);if(a===0)return e;const l=new Proxy(e,a===2?i:n);return o.set(e,l),l}function $i(e){return Qs(e)?$i(e.__v_raw):!!(e&&e.__v_isReactive)}function Qs(e){return!!(e&&e.__v_isReadonly)}function bf(e){return!!(e&&e.__v_isShallow)}function VT(e){return $i(e)||Qs(e)}function Je(e){const t=e&&e.__v_raw;return t?Je(t):e}function ah(e){return yf(e,"__v_skip",!0),e}const ja=e=>dt(e)?pi(e):e,gv=e=>dt(e)?dv(e):e;function qT(e){Bi&&Tr&&(e=Je(e),OT(e.dep||(e.dep=cv())))}function BT(e,t){e=Je(e);const n=e.dep;n&&um(n)}function gt(e){return!!(e&&e.__v_isRef===!0)}function An(e){return HT(e,!1)}function $T(e){return HT(e,!0)}function HT(e,t){return gt(e)?e:new ZO(e,t)}class ZO{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Je(t),this._value=n?t:ja(t)}get value(){return qT(this),this._value}set value(t){const n=this.__v_isShallow||bf(t)||Qs(t);t=n?t:Je(t),Ko(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ja(t),BT(this))}}function Ye(e){return gt(e)?e.value:e}function rt(e){return Me(e)?e():Ye(e)}const eP={get:(e,t,n)=>Ye(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return gt(o)&&!gt(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function KT(e){return $i(e)?e:new Proxy(e,eP)}function tP(e){const t=ke(e)?new Array(e.length):{};for(const n in e)t[n]=zT(e,n);return t}class nP{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return DO(Je(this._object),this._key)}}class rP{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Co(e,t,n){return gt(e)?e:Me(e)?new rP(e):dt(e)&&arguments.length>1?zT(e,t,n):An(e)}function zT(e,t,n){const i=e[t];return gt(i)?i:new nP(e,t,n)}class iP{constructor(t,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new lv(t,()=>{this._dirty||(this._dirty=!0,BT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const t=Je(this);return qT(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function oP(e,t,n=!1){let i,o;const u=Me(e);return u?(i=e,o=Gr):(i=e.get,o=e.set),new iP(i,o,u||!o,n)}function Hi(e,t,n,i){let o;try{o=i?e(...i):e()}catch(u){ch(u,t,n)}return o}function kr(e,t,n,i){if(Me(e)){const u=Hi(e,t,n,i);return u&&bT(u)&&u.catch(a=>{ch(a,t,n)}),u}const o=[];for(let u=0;u<e.length;u++)o.push(kr(e[u],t,n,i));return o}function ch(e,t,n,i=!0){const o=t?t.vnode:null;if(t){let u=t.parent;const a=t.proxy,l=n;for(;u;){const d=u.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,a,l)===!1)return}u=u.parent}const f=t.appContext.config.errorHandler;if(f){Hi(f,null,10,[e,a,l]);return}}sP(e,n,o,i)}function sP(e,t,n,i=!0){console.error(e)}let Va=!1,am=!1;const pn=[];let Kr=0;const zs=[];let si=null,Ro=0;const GT=Promise.resolve();let mv=null;function Yn(e){const t=mv||GT;return e?t.then(this?e.bind(this):e):t}function uP(e){let t=Kr+1,n=pn.length;for(;t<n;){const i=t+n>>>1,o=pn[i],u=qa(o);u<e||u===e&&o.pre?t=i+1:n=i}return t}function vv(e){(!pn.length||!pn.includes(e,Va&&e.allowRecurse?Kr+1:Kr))&&(e.id==null?pn.push(e):pn.splice(uP(e.id),0,e),WT())}function WT(){!Va&&!am&&(am=!0,mv=GT.then(QT))}function aP(e){const t=pn.indexOf(e);t>Kr&&pn.splice(t,1)}function cP(e){ke(e)?zs.push(...e):(!si||!si.includes(e,e.allowRecurse?Ro+1:Ro))&&zs.push(e),WT()}function j_(e,t,n=Va?Kr+1:0){for(;n<pn.length;n++){const i=pn[n];if(i&&i.pre){if(e&&i.id!==e.uid)continue;pn.splice(n,1),n--,i()}}}function XT(e){if(zs.length){const t=[...new Set(zs)];if(zs.length=0,si){si.push(...t);return}for(si=t,si.sort((n,i)=>qa(n)-qa(i)),Ro=0;Ro<si.length;Ro++)si[Ro]();si=null,Ro=0}}const qa=e=>e.id==null?1/0:e.id,lP=(e,t)=>{const n=qa(e)-qa(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function QT(e){am=!1,Va=!0,pn.sort(lP);try{for(Kr=0;Kr<pn.length;Kr++){const t=pn[Kr];t&&t.active!==!1&&Hi(t,null,14)}}finally{Kr=0,pn.length=0,XT(),Va=!1,mv=null,(pn.length||zs.length)&&QT()}}function fP(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||bt;let o=n;const u=t.startsWith("update:"),a=u&&t.slice(7);if(a&&a in i){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:m,trim:v}=i[p]||bt;v&&(o=n.map(b=>$t(b)?b.trim():b)),m&&(o=n.map(IT))}let l,f=i[l=Cg(t)]||i[l=Cg(Yr(t))];!f&&u&&(f=i[l=Cg(Eu(t))]),f&&kr(f,e,6,o);const d=i[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,kr(d,e,6,o)}}function YT(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const u=e.emits;let a={},l=!1;if(!Me(e)){const f=d=>{const p=YT(d,t,!0);p&&(l=!0,an(a,p))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!u&&!l?(dt(e)&&i.set(e,null),null):(ke(u)?u.forEach(f=>a[f]=null):an(a,u),dt(e)&&i.set(e,a),a)}function lh(e,t){return!e||!nh(t)?!1:(t=t.slice(2).replace(/Once$/,""),Qe(e,t[0].toLowerCase()+t.slice(1))||Qe(e,Eu(t))||Qe(e,t))}let jn=null,JT=null;function _f(e){const t=jn;return jn=e,JT=e&&e.type.__scopeId||null,t}function lr(e,t=jn,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&Q_(-1);const u=_f(t);let a;try{a=e(...o)}finally{_f(u),i._d&&Q_(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Ng(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:u,propsOptions:[a],slots:l,attrs:f,emit:d,render:p,renderCache:m,data:v,setupState:b,ctx:_,inheritAttrs:T}=e;let S,x;const O=_f(e);try{if(n.shapeFlag&4){const q=o||i,te=q;S=Hr(p.call(te,q,m,u,b,v,_)),x=f}else{const q=t;S=Hr(q.length>1?q(u,{attrs:f,slots:l,emit:d}):q(u,null)),x=t.props?f:hP(f)}}catch(q){Ra.length=0,ch(q,e,1),S=Re(zo)}let F=S;if(x&&T!==!1){const q=Object.keys(x),{shapeFlag:te}=F;q.length&&te&7&&(a&&q.some(sv)&&(x=dP(x,a)),F=Js(F,x))}return n.dirs&&(F=Js(F),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),S=F,_f(O),S}const hP=e=>{let t;for(const n in e)(n==="class"||n==="style"||nh(n))&&((t||(t={}))[n]=e[n]);return t},dP=(e,t)=>{const n={};for(const i in e)(!sv(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function pP(e,t,n){const{props:i,children:o,component:u}=e,{props:a,children:l,patchFlag:f}=t,d=u.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?V_(i,a,d):!!a;if(f&8){const p=t.dynamicProps;for(let m=0;m<p.length;m++){const v=p[m];if(a[v]!==i[v]&&!lh(d,v))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?V_(i,a,d):!0:!!a;return!1}function V_(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const u=i[o];if(t[u]!==e[u]&&!lh(n,u))return!0}return!1}function gP({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const yv="components";function Ot(e,t){return eS(yv,e,!0,t)||e}const ZT=Symbol.for("v-ndc");function wv(e){return $t(e)?eS(yv,e,!1)||e:e||ZT}function eS(e,t,n=!0,i=!1){const o=jn||Wt;if(o){const u=o.type;if(e===yv){const l=oD(u,!1);if(l&&(l===t||l===Yr(t)||l===oh(Yr(t))))return u}const a=q_(o[e]||u[e],t)||q_(o.appContext[e],t);return!a&&i?u:a}}function q_(e,t){return e&&(e[t]||e[Yr(t)]||e[oh(Yr(t))])}const mP=e=>e.__isSuspense;function vP(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):cP(e)}function yP(e,t){return bv(e,null,t)}const Bl={};function dr(e,t,n){return bv(e,t,n)}function bv(e,t,{immediate:n,deep:i,flush:o,onTrack:u,onTrigger:a}=bt){var l;const f=CT()===((l=Wt)==null?void 0:l.scope)?Wt:null;let d,p=!1,m=!1;if(gt(e)?(d=()=>e.value,p=bf(e)):$i(e)?(d=()=>e,i=!0):ke(e)?(m=!0,p=e.some(q=>$i(q)||bf(q)),d=()=>e.map(q=>{if(gt(q))return q.value;if($i(q))return Oo(q);if(Me(q))return Hi(q,f,2)})):Me(e)?t?d=()=>Hi(e,f,2):d=()=>{if(!(f&&f.isUnmounted))return v&&v(),kr(e,f,3,[b])}:d=Gr,t&&i){const q=d;d=()=>Oo(q())}let v,b=q=>{v=O.onStop=()=>{Hi(q,f,4),v=O.onStop=void 0}},_;if(Ka)if(b=Gr,t?n&&kr(t,f,3,[d(),m?[]:void 0,b]):d(),o==="sync"){const q=aD();_=q.__watcherHandles||(q.__watcherHandles=[])}else return Gr;let T=m?new Array(e.length).fill(Bl):Bl;const S=()=>{if(O.active)if(t){const q=O.run();(i||p||(m?q.some((te,U)=>Ko(te,T[U])):Ko(q,T)))&&(v&&v(),kr(t,f,3,[q,T===Bl?void 0:m&&T[0]===Bl?[]:T,b]),T=q)}else O.run()};S.allowRecurse=!!t;let x;o==="sync"?x=S:o==="post"?x=()=>Mn(S,f&&f.suspense):(S.pre=!0,f&&(S.id=f.uid),x=()=>vv(S));const O=new lv(d,x);t?n?S():T=O.run():o==="post"?Mn(O.run.bind(O),f&&f.suspense):O.run();const F=()=>{O.stop(),f&&f.scope&&uv(f.scope.effects,O)};return _&&_.push(F),F}function wP(e,t,n){const i=this.proxy,o=$t(e)?e.includes(".")?tS(i,e):()=>i[e]:e.bind(i,i);let u;Me(t)?u=t:(u=t.handler,n=t);const a=Wt;Zs(this);const l=bv(o,u.bind(i),n);return a?Zs(a):Vo(),l}function tS(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function Oo(e,t){if(!dt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),gt(e))Oo(e.value,t);else if(ke(e))for(let n=0;n<e.length;n++)Oo(e[n],t);else if(rh(e)||Ks(e))e.forEach(n=>{Oo(n,t)});else if(ET(e))for(const n in e)Oo(e[n],t);return e}function cm(e,t){const n=jn;if(n===null)return e;const i=gh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let u=0;u<t.length;u++){let[a,l,f,d=bt]=t[u];a&&(Me(a)&&(a={mounted:a,updated:a}),a.deep&&Oo(l),o.push({dir:a,instance:i,value:l,oldValue:void 0,arg:f,modifiers:d}))}return e}function To(e,t,n,i){const o=e.dirs,u=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];u&&(l.oldValue=u[a].value);let f=l.dir[i];f&&(Iu(),kr(f,n,8,[e.el,l,e,t]),Tu())}}/*! #__NO_SIDE_EFFECTS__ */function pc(e,t){return Me(e)?an({name:e.name},t,{setup:e}):e}const af=e=>!!e.type.__asyncLoader,nS=e=>e.type.__isKeepAlive;function bP(e,t){rS(e,"a",t)}function _P(e,t){rS(e,"da",t)}function rS(e,t,n=Wt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(fh(t,i,n),n){let o=n.parent;for(;o&&o.parent;)nS(o.parent.vnode)&&EP(i,t,n,o),o=o.parent}}function EP(e,t,n,i){const o=fh(t,e,i,!0);oS(()=>{uv(i[t],o)},n)}function fh(e,t,n=Wt,i=!1){if(n){const o=n[e]||(n[e]=[]),u=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Iu(),Zs(n);const l=kr(t,n,e,a);return Vo(),Tu(),l});return i?o.unshift(u):o.push(u),u}}const mi=e=>(t,n=Wt)=>(!Ka||e==="sp")&&fh(e,(...i)=>t(...i),n),IP=mi("bm"),_v=mi("m"),TP=mi("bu"),SP=mi("u"),iS=mi("bum"),oS=mi("um"),AP=mi("sp"),kP=mi("rtg"),CP=mi("rtc");function RP(e,t=Wt){fh("ec",e,t)}function gc(e,t,n,i){let o;const u=n&&n[i];if(ke(e)||$t(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,u&&u[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,u&&u[a])}else if(dt(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,u&&u[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=t(e[d],d,l,u&&u[l])}}else o=[];return n&&(n[i]=o),o}const lm=e=>e?yS(e)?gh(e)||e.proxy:lm(e.parent):null,Ca=an(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>lm(e.parent),$root:e=>lm(e.root),$emit:e=>e.emit,$options:e=>Ev(e),$forceUpdate:e=>e.f||(e.f=()=>vv(e.update)),$nextTick:e=>e.n||(e.n=Yn.bind(e.proxy)),$watch:e=>wP.bind(e)}),xg=(e,t)=>e!==bt&&!e.__isScriptSetup&&Qe(e,t),NP={get({_:e},t){const{ctx:n,setupState:i,data:o,props:u,accessCache:a,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return u[t]}else{if(xg(i,t))return a[t]=1,i[t];if(o!==bt&&Qe(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&Qe(d,t))return a[t]=3,u[t];if(n!==bt&&Qe(n,t))return a[t]=4,n[t];fm&&(a[t]=0)}}const p=Ca[t];let m,v;if(p)return t==="$attrs"&&Bn(e,"get",t),p(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==bt&&Qe(n,t))return a[t]=4,n[t];if(v=f.config.globalProperties,Qe(v,t))return v[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:u}=e;return xg(o,t)?(o[t]=n,!0):i!==bt&&Qe(i,t)?(i[t]=n,!0):Qe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:u}},a){let l;return!!n[a]||e!==bt&&Qe(e,a)||xg(t,a)||(l=u[0])&&Qe(l,a)||Qe(i,a)||Qe(Ca,a)||Qe(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Qe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function B_(e){return ke(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let fm=!0;function xP(e){const t=Ev(e),n=e.proxy,i=e.ctx;fm=!1,t.beforeCreate&&$_(t.beforeCreate,e,"bc");const{data:o,computed:u,methods:a,watch:l,provide:f,inject:d,created:p,beforeMount:m,mounted:v,beforeUpdate:b,updated:_,activated:T,deactivated:S,beforeDestroy:x,beforeUnmount:O,destroyed:F,unmounted:q,render:te,renderTracked:U,renderTriggered:ve,errorCaptured:z,serverPrefetch:oe,expose:k,inheritAttrs:Xe,components:st,directives:ct,filters:pt}=t;if(d&&OP(d,i,null),a)for(const De in a){const _e=a[De];Me(_e)&&(i[De]=_e.bind(n))}if(o){const De=o.call(n,n);dt(De)&&(e.data=pi(De))}if(fm=!0,u)for(const De in u){const _e=u[De],kt=Me(_e)?_e.bind(n,n):Me(_e.get)?_e.get.bind(n,n):Gr,Pt=!Me(_e)&&Me(_e.set)?_e.set.bind(n):Gr,zt=Fe({get:kt,set:Pt});Object.defineProperty(i,De,{enumerable:!0,configurable:!0,get:()=>zt.value,set:Ft=>zt.value=Ft})}if(l)for(const De in l)sS(l[De],i,n,De);if(f){const De=Me(f)?f.call(n):f;Reflect.ownKeys(De).forEach(_e=>{Gs(_e,De[_e])})}p&&$_(p,e,"c");function se(De,_e){ke(_e)?_e.forEach(kt=>De(kt.bind(n))):_e&&De(_e.bind(n))}if(se(IP,m),se(_v,v),se(TP,b),se(SP,_),se(bP,T),se(_P,S),se(RP,z),se(CP,U),se(kP,ve),se(iS,O),se(oS,q),se(AP,oe),ke(k))if(k.length){const De=e.exposed||(e.exposed={});k.forEach(_e=>{Object.defineProperty(De,_e,{get:()=>n[_e],set:kt=>n[_e]=kt})})}else e.exposed||(e.exposed={});te&&e.render===Gr&&(e.render=te),Xe!=null&&(e.inheritAttrs=Xe),st&&(e.components=st),ct&&(e.directives=ct)}function OP(e,t,n=Gr){ke(e)&&(e=hm(e));for(const i in e){const o=e[i];let u;dt(o)?"default"in o?u=pr(o.from||i,o.default,!0):u=pr(o.from||i):u=pr(o),gt(u)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>u.value,set:a=>u.value=a}):t[i]=u}}function $_(e,t,n){kr(ke(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function sS(e,t,n,i){const o=i.includes(".")?tS(n,i):()=>n[i];if($t(e)){const u=t[e];Me(u)&&dr(o,u)}else if(Me(e))dr(o,e.bind(n));else if(dt(e))if(ke(e))e.forEach(u=>sS(u,t,n,i));else{const u=Me(e.handler)?e.handler.bind(n):t[e.handler];Me(u)&&dr(o,u,e)}}function Ev(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:u,config:{optionMergeStrategies:a}}=e.appContext,l=u.get(t);let f;return l?f=l:!o.length&&!n&&!i?f=t:(f={},o.length&&o.forEach(d=>Ef(f,d,a,!0)),Ef(f,t,a)),dt(t)&&u.set(t,f),f}function Ef(e,t,n,i=!1){const{mixins:o,extends:u}=t;u&&Ef(e,u,n,!0),o&&o.forEach(a=>Ef(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const l=PP[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const PP={data:H_,props:K_,emits:K_,methods:Ta,computed:Ta,beforeCreate:En,created:En,beforeMount:En,mounted:En,beforeUpdate:En,updated:En,beforeDestroy:En,beforeUnmount:En,destroyed:En,unmounted:En,activated:En,deactivated:En,errorCaptured:En,serverPrefetch:En,components:Ta,directives:Ta,watch:LP,provide:H_,inject:DP};function H_(e,t){return t?e?function(){return an(Me(e)?e.call(this,this):e,Me(t)?t.call(this,this):t)}:t:e}function DP(e,t){return Ta(hm(e),hm(t))}function hm(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function En(e,t){return e?[...new Set([].concat(e,t))]:t}function Ta(e,t){return e?an(Object.create(null),e,t):t}function K_(e,t){return e?ke(e)&&ke(t)?[...new Set([...e,...t])]:an(Object.create(null),B_(e),B_(t??{})):t}function LP(e,t){if(!e)return t;if(!t)return e;const n=an(Object.create(null),e);for(const i in t)n[i]=En(e[i],t[i]);return n}function uS(){return{app:null,config:{isNativeTag:vO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let MP=0;function FP(e,t){return function(i,o=null){Me(i)||(i=an({},i)),o!=null&&!dt(o)&&(o=null);const u=uS(),a=new WeakSet;let l=!1;const f=u.app={_uid:MP++,_component:i,_props:o,_container:null,_context:u,_instance:null,version:cD,get config(){return u.config},set config(d){},use(d,...p){return a.has(d)||(d&&Me(d.install)?(a.add(d),d.install(f,...p)):Me(d)&&(a.add(d),d(f,...p))),f},mixin(d){return u.mixins.includes(d)||u.mixins.push(d),f},component(d,p){return p?(u.components[d]=p,f):u.components[d]},directive(d,p){return p?(u.directives[d]=p,f):u.directives[d]},mount(d,p,m){if(!l){const v=Re(i,o);return v.appContext=u,p&&t?t(v,d):e(v,d,m),l=!0,f._container=d,d.__vue_app__=f,gh(v.component)||v.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,p){return u.provides[d]=p,f},runWithContext(d){Ba=f;try{return d()}finally{Ba=null}}};return f}}let Ba=null;function Gs(e,t){if(Wt){let n=Wt.provides;const i=Wt.parent&&Wt.parent.provides;i===n&&(n=Wt.provides=Object.create(i)),n[e]=t}}function pr(e,t,n=!1){const i=Wt||jn;if(i||Ba){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Ba._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Me(t)?t.call(i&&i.proxy):t}}function UP(){return!!(Wt||jn||Ba)}function jP(e,t,n,i=!1){const o={},u={};yf(u,dh,1),e.propsDefaults=Object.create(null),aS(e,t,o,u);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=i?o:jT(o):e.type.props?e.props=o:e.props=u,e.attrs=u}function VP(e,t,n,i){const{props:o,attrs:u,vnode:{patchFlag:a}}=e,l=Je(o),[f]=e.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let m=0;m<p.length;m++){let v=p[m];if(lh(e.emitsOptions,v))continue;const b=t[v];if(f)if(Qe(u,v))b!==u[v]&&(u[v]=b,d=!0);else{const _=Yr(v);o[_]=dm(f,l,_,b,e,!1)}else b!==u[v]&&(u[v]=b,d=!0)}}}else{aS(e,t,o,u)&&(d=!0);let p;for(const m in l)(!t||!Qe(t,m)&&((p=Eu(m))===m||!Qe(t,p)))&&(f?n&&(n[m]!==void 0||n[p]!==void 0)&&(o[m]=dm(f,l,m,void 0,e,!0)):delete o[m]);if(u!==l)for(const m in u)(!t||!Qe(t,m))&&(delete u[m],d=!0)}d&&ci(e,"set","$attrs")}function aS(e,t,n,i){const[o,u]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(sf(f))continue;const d=t[f];let p;o&&Qe(o,p=Yr(f))?!u||!u.includes(p)?n[p]=d:(l||(l={}))[p]=d:lh(e.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(u){const f=Je(n),d=l||bt;for(let p=0;p<u.length;p++){const m=u[p];n[m]=dm(o,f,m,d[m],e,!Qe(d,m))}}return a}function dm(e,t,n,i,o,u){const a=e[n];if(a!=null){const l=Qe(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&Me(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(Zs(o),i=d[n]=f.call(null,t),Vo())}else i=f}a[0]&&(u&&!l?i=!1:a[1]&&(i===""||i===Eu(n))&&(i=!0))}return i}function cS(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const u=e.props,a={},l=[];let f=!1;if(!Me(e)){const p=m=>{f=!0;const[v,b]=cS(m,t,!0);an(a,v),b&&l.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!u&&!f)return dt(e)&&i.set(e,Hs),Hs;if(ke(u))for(let p=0;p<u.length;p++){const m=Yr(u[p]);z_(m)&&(a[m]=bt)}else if(u)for(const p in u){const m=Yr(p);if(z_(m)){const v=u[p],b=a[m]=ke(v)||Me(v)?{type:v}:an({},v);if(b){const _=X_(Boolean,b.type),T=X_(String,b.type);b[0]=_>-1,b[1]=T<0||_<T,(_>-1||Qe(b,"default"))&&l.push(m)}}}const d=[a,l];return dt(e)&&i.set(e,d),d}function z_(e){return e[0]!=="$"}function G_(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function W_(e,t){return G_(e)===G_(t)}function X_(e,t){return ke(t)?t.findIndex(n=>W_(n,e)):Me(t)&&W_(t,e)?0:-1}const lS=e=>e[0]==="_"||e==="$stable",Iv=e=>ke(e)?e.map(Hr):[Hr(e)],qP=(e,t,n)=>{if(t._n)return t;const i=lr((...o)=>Iv(t(...o)),n);return i._c=!1,i},fS=(e,t,n)=>{const i=e._ctx;for(const o in e){if(lS(o))continue;const u=e[o];if(Me(u))t[o]=qP(o,u,i);else if(u!=null){const a=Iv(u);t[o]=()=>a}}},hS=(e,t)=>{const n=Iv(t);e.slots.default=()=>n},BP=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Je(t),yf(t,"_",n)):fS(t,e.slots={})}else e.slots={},t&&hS(e,t);yf(e.slots,dh,1)},$P=(e,t,n)=>{const{vnode:i,slots:o}=e;let u=!0,a=bt;if(i.shapeFlag&32){const l=t._;l?n&&l===1?u=!1:(an(o,t),!n&&l===1&&delete o._):(u=!t.$stable,fS(t,o)),a=t}else t&&(hS(e,t),a={default:1});if(u)for(const l in o)!lS(l)&&a[l]==null&&delete o[l]};function pm(e,t,n,i,o=!1){if(ke(e)){e.forEach((v,b)=>pm(v,t&&(ke(t)?t[b]:t),n,i,o));return}if(af(i)&&!o)return;const u=i.shapeFlag&4?gh(i.component)||i.component.proxy:i.el,a=o?null:u,{i:l,r:f}=e,d=t&&t.r,p=l.refs===bt?l.refs={}:l.refs,m=l.setupState;if(d!=null&&d!==f&&($t(d)?(p[d]=null,Qe(m,d)&&(m[d]=null)):gt(d)&&(d.value=null)),Me(f))Hi(f,l,12,[a,p]);else{const v=$t(f),b=gt(f);if(v||b){const _=()=>{if(e.f){const T=v?Qe(m,f)?m[f]:p[f]:f.value;o?ke(T)&&uv(T,u):ke(T)?T.includes(u)||T.push(u):v?(p[f]=[u],Qe(m,f)&&(m[f]=p[f])):(f.value=[u],e.k&&(p[e.k]=f.value))}else v?(p[f]=a,Qe(m,f)&&(m[f]=a)):b&&(f.value=a,e.k&&(p[e.k]=a))};a?(_.id=-1,Mn(_,n)):_()}}}const Mn=vP;function HP(e){return KP(e)}function KP(e,t){const n=im();n.__VUE__=!0;const{insert:i,remove:o,patchProp:u,createElement:a,createText:l,createComment:f,setText:d,setElementText:p,parentNode:m,nextSibling:v,setScopeId:b=Gr,insertStaticContent:_}=e,T=(I,A,R,L=null,V=null,G=null,ne=!1,Y=null,ie=!!A.dynamicChildren)=>{if(I===A)return;I&&!ya(I,A)&&(L=D(I),Ft(I,V,G,!0),I=null),A.patchFlag===-2&&(ie=!1,A.dynamicChildren=null);const{type:Q,ref:me,shapeFlag:le}=A;switch(Q){case hh:S(I,A,R,L);break;case zo:x(I,A,R,L);break;case cf:I==null&&O(A,R,L,ne);break;case qt:st(I,A,R,L,V,G,ne,Y,ie);break;default:le&1?te(I,A,R,L,V,G,ne,Y,ie):le&6?ct(I,A,R,L,V,G,ne,Y,ie):(le&64||le&128)&&Q.process(I,A,R,L,V,G,ne,Y,ie,ee)}me!=null&&V&&pm(me,I&&I.ref,G,A||I,!A)},S=(I,A,R,L)=>{if(I==null)i(A.el=l(A.children),R,L);else{const V=A.el=I.el;A.children!==I.children&&d(V,A.children)}},x=(I,A,R,L)=>{I==null?i(A.el=f(A.children||""),R,L):A.el=I.el},O=(I,A,R,L)=>{[I.el,I.anchor]=_(I.children,A,R,L,I.el,I.anchor)},F=({el:I,anchor:A},R,L)=>{let V;for(;I&&I!==A;)V=v(I),i(I,R,L),I=V;i(A,R,L)},q=({el:I,anchor:A})=>{let R;for(;I&&I!==A;)R=v(I),o(I),I=R;o(A)},te=(I,A,R,L,V,G,ne,Y,ie)=>{ne=ne||A.type==="svg",I==null?U(A,R,L,V,G,ne,Y,ie):oe(I,A,V,G,ne,Y,ie)},U=(I,A,R,L,V,G,ne,Y)=>{let ie,Q;const{type:me,props:le,shapeFlag:we,transition:Ne,dirs:je}=I;if(ie=I.el=a(I.type,G,le&&le.is,le),we&8?p(ie,I.children):we&16&&z(I.children,ie,null,L,V,G&&me!=="foreignObject",ne,Y),je&&To(I,null,L,"created"),ve(ie,I,I.scopeId,ne,L),le){for(const ze in le)ze!=="value"&&!sf(ze)&&u(ie,ze,null,le[ze],G,I.children,L,V,ge);"value"in le&&u(ie,"value",null,le.value),(Q=le.onVnodeBeforeMount)&&Br(Q,L,I)}je&&To(I,null,L,"beforeMount");const Ee=zP(V,Ne);Ee&&Ne.beforeEnter(ie),i(ie,A,R),((Q=le&&le.onVnodeMounted)||Ee||je)&&Mn(()=>{Q&&Br(Q,L,I),Ee&&Ne.enter(ie),je&&To(I,null,L,"mounted")},V)},ve=(I,A,R,L,V)=>{if(R&&b(I,R),L)for(let G=0;G<L.length;G++)b(I,L[G]);if(V){let G=V.subTree;if(A===G){const ne=V.vnode;ve(I,ne,ne.scopeId,ne.slotScopeIds,V.parent)}}},z=(I,A,R,L,V,G,ne,Y,ie=0)=>{for(let Q=ie;Q<I.length;Q++){const me=I[Q]=Y?Li(I[Q]):Hr(I[Q]);T(null,me,A,R,L,V,G,ne,Y)}},oe=(I,A,R,L,V,G,ne)=>{const Y=A.el=I.el;let{patchFlag:ie,dynamicChildren:Q,dirs:me}=A;ie|=I.patchFlag&16;const le=I.props||bt,we=A.props||bt;let Ne;R&&So(R,!1),(Ne=we.onVnodeBeforeUpdate)&&Br(Ne,R,A,I),me&&To(A,I,R,"beforeUpdate"),R&&So(R,!0);const je=V&&A.type!=="foreignObject";if(Q?k(I.dynamicChildren,Q,Y,R,L,je,G):ne||_e(I,A,Y,null,R,L,je,G,!1),ie>0){if(ie&16)Xe(Y,A,le,we,R,L,V);else if(ie&2&&le.class!==we.class&&u(Y,"class",null,we.class,V),ie&4&&u(Y,"style",le.style,we.style,V),ie&8){const Ee=A.dynamicProps;for(let ze=0;ze<Ee.length;ze++){const C=Ee[ze],N=le[C],K=we[C];(K!==N||C==="value")&&u(Y,C,N,K,V,I.children,R,L,ge)}}ie&1&&I.children!==A.children&&p(Y,A.children)}else!ne&&Q==null&&Xe(Y,A,le,we,R,L,V);((Ne=we.onVnodeUpdated)||me)&&Mn(()=>{Ne&&Br(Ne,R,A,I),me&&To(A,I,R,"updated")},L)},k=(I,A,R,L,V,G,ne)=>{for(let Y=0;Y<A.length;Y++){const ie=I[Y],Q=A[Y],me=ie.el&&(ie.type===qt||!ya(ie,Q)||ie.shapeFlag&70)?m(ie.el):R;T(ie,Q,me,null,L,V,G,ne,!0)}},Xe=(I,A,R,L,V,G,ne)=>{if(R!==L){if(R!==bt)for(const Y in R)!sf(Y)&&!(Y in L)&&u(I,Y,R[Y],null,ne,A.children,V,G,ge);for(const Y in L){if(sf(Y))continue;const ie=L[Y],Q=R[Y];ie!==Q&&Y!=="value"&&u(I,Y,Q,ie,ne,A.children,V,G,ge)}"value"in L&&u(I,"value",R.value,L.value)}},st=(I,A,R,L,V,G,ne,Y,ie)=>{const Q=A.el=I?I.el:l(""),me=A.anchor=I?I.anchor:l("");let{patchFlag:le,dynamicChildren:we,slotScopeIds:Ne}=A;Ne&&(Y=Y?Y.concat(Ne):Ne),I==null?(i(Q,R,L),i(me,R,L),z(A.children,R,me,V,G,ne,Y,ie)):le>0&&le&64&&we&&I.dynamicChildren?(k(I.dynamicChildren,we,R,V,G,ne,Y),(A.key!=null||V&&A===V.subTree)&&dS(I,A,!0)):_e(I,A,R,me,V,G,ne,Y,ie)},ct=(I,A,R,L,V,G,ne,Y,ie)=>{A.slotScopeIds=Y,I==null?A.shapeFlag&512?V.ctx.activate(A,R,L,ne,ie):pt(A,R,L,V,G,ne,ie):Ze(I,A,ie)},pt=(I,A,R,L,V,G,ne)=>{const Y=I.component=eD(I,L,V);if(nS(I)&&(Y.ctx.renderer=ee),tD(Y),Y.asyncDep){if(V&&V.registerDep(Y,se),!I.el){const ie=Y.subTree=Re(zo);x(null,ie,A,R)}return}se(Y,I,A,R,V,G,ne)},Ze=(I,A,R)=>{const L=A.component=I.component;if(pP(I,A,R))if(L.asyncDep&&!L.asyncResolved){De(L,A,R);return}else L.next=A,aP(L.update),L.update();else A.el=I.el,L.vnode=A},se=(I,A,R,L,V,G,ne)=>{const Y=()=>{if(I.isMounted){let{next:me,bu:le,u:we,parent:Ne,vnode:je}=I,Ee=me,ze;So(I,!1),me?(me.el=je.el,De(I,me,ne)):me=je,le&&uf(le),(ze=me.props&&me.props.onVnodeBeforeUpdate)&&Br(ze,Ne,me,je),So(I,!0);const C=Ng(I),N=I.subTree;I.subTree=C,T(N,C,m(N.el),D(N),I,V,G),me.el=C.el,Ee===null&&gP(I,C.el),we&&Mn(we,V),(ze=me.props&&me.props.onVnodeUpdated)&&Mn(()=>Br(ze,Ne,me,je),V)}else{let me;const{el:le,props:we}=A,{bm:Ne,m:je,parent:Ee}=I,ze=af(A);if(So(I,!1),Ne&&uf(Ne),!ze&&(me=we&&we.onVnodeBeforeMount)&&Br(me,Ee,A),So(I,!0),le&&xe){const C=()=>{I.subTree=Ng(I),xe(le,I.subTree,I,V,null)};ze?A.type.__asyncLoader().then(()=>!I.isUnmounted&&C()):C()}else{const C=I.subTree=Ng(I);T(null,C,R,L,I,V,G),A.el=C.el}if(je&&Mn(je,V),!ze&&(me=we&&we.onVnodeMounted)){const C=A;Mn(()=>Br(me,Ee,C),V)}(A.shapeFlag&256||Ee&&af(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&I.a&&Mn(I.a,V),I.isMounted=!0,A=R=L=null}},ie=I.effect=new lv(Y,()=>vv(Q),I.scope),Q=I.update=()=>ie.run();Q.id=I.uid,So(I,!0),Q()},De=(I,A,R)=>{A.component=I;const L=I.vnode.props;I.vnode=A,I.next=null,VP(I,A.props,L,R),$P(I,A.children,R),Iu(),j_(I),Tu()},_e=(I,A,R,L,V,G,ne,Y,ie=!1)=>{const Q=I&&I.children,me=I?I.shapeFlag:0,le=A.children,{patchFlag:we,shapeFlag:Ne}=A;if(we>0){if(we&128){Pt(Q,le,R,L,V,G,ne,Y,ie);return}else if(we&256){kt(Q,le,R,L,V,G,ne,Y,ie);return}}Ne&8?(me&16&&ge(Q,V,G),le!==Q&&p(R,le)):me&16?Ne&16?Pt(Q,le,R,L,V,G,ne,Y,ie):ge(Q,V,G,!0):(me&8&&p(R,""),Ne&16&&z(le,R,L,V,G,ne,Y,ie))},kt=(I,A,R,L,V,G,ne,Y,ie)=>{I=I||Hs,A=A||Hs;const Q=I.length,me=A.length,le=Math.min(Q,me);let we;for(we=0;we<le;we++){const Ne=A[we]=ie?Li(A[we]):Hr(A[we]);T(I[we],Ne,R,null,V,G,ne,Y,ie)}Q>me?ge(I,V,G,!0,!1,le):z(A,R,L,V,G,ne,Y,ie,le)},Pt=(I,A,R,L,V,G,ne,Y,ie)=>{let Q=0;const me=A.length;let le=I.length-1,we=me-1;for(;Q<=le&&Q<=we;){const Ne=I[Q],je=A[Q]=ie?Li(A[Q]):Hr(A[Q]);if(ya(Ne,je))T(Ne,je,R,null,V,G,ne,Y,ie);else break;Q++}for(;Q<=le&&Q<=we;){const Ne=I[le],je=A[we]=ie?Li(A[we]):Hr(A[we]);if(ya(Ne,je))T(Ne,je,R,null,V,G,ne,Y,ie);else break;le--,we--}if(Q>le){if(Q<=we){const Ne=we+1,je=Ne<me?A[Ne].el:L;for(;Q<=we;)T(null,A[Q]=ie?Li(A[Q]):Hr(A[Q]),R,je,V,G,ne,Y,ie),Q++}}else if(Q>we)for(;Q<=le;)Ft(I[Q],V,G,!0),Q++;else{const Ne=Q,je=Q,Ee=new Map;for(Q=je;Q<=we;Q++){const Ae=A[Q]=ie?Li(A[Q]):Hr(A[Q]);Ae.key!=null&&Ee.set(Ae.key,Q)}let ze,C=0;const N=we-je+1;let K=!1,Z=0;const Se=new Array(N);for(Q=0;Q<N;Q++)Se[Q]=0;for(Q=Ne;Q<=le;Q++){const Ae=I[Q];if(C>=N){Ft(Ae,V,G,!0);continue}let Ge;if(Ae.key!=null)Ge=Ee.get(Ae.key);else for(ze=je;ze<=we;ze++)if(Se[ze-je]===0&&ya(Ae,A[ze])){Ge=ze;break}Ge===void 0?Ft(Ae,V,G,!0):(Se[Ge-je]=Q+1,Ge>=Z?Z=Ge:K=!0,T(Ae,A[Ge],R,null,V,G,ne,Y,ie),C++)}const pe=K?GP(Se):Hs;for(ze=pe.length-1,Q=N-1;Q>=0;Q--){const Ae=je+Q,Ge=A[Ae],qe=Ae+1<me?A[Ae+1].el:L;Se[Q]===0?T(null,Ge,R,qe,V,G,ne,Y,ie):K&&(ze<0||Q!==pe[ze]?zt(Ge,R,qe,2):ze--)}}},zt=(I,A,R,L,V=null)=>{const{el:G,type:ne,transition:Y,children:ie,shapeFlag:Q}=I;if(Q&6){zt(I.component.subTree,A,R,L);return}if(Q&128){I.suspense.move(A,R,L);return}if(Q&64){ne.move(I,A,R,ee);return}if(ne===qt){i(G,A,R);for(let le=0;le<ie.length;le++)zt(ie[le],A,R,L);i(I.anchor,A,R);return}if(ne===cf){F(I,A,R);return}if(L!==2&&Q&1&&Y)if(L===0)Y.beforeEnter(G),i(G,A,R),Mn(()=>Y.enter(G),V);else{const{leave:le,delayLeave:we,afterLeave:Ne}=Y,je=()=>i(G,A,R),Ee=()=>{le(G,()=>{je(),Ne&&Ne()})};we?we(G,je,Ee):Ee()}else i(G,A,R)},Ft=(I,A,R,L=!1,V=!1)=>{const{type:G,props:ne,ref:Y,children:ie,dynamicChildren:Q,shapeFlag:me,patchFlag:le,dirs:we}=I;if(Y!=null&&pm(Y,null,R,I,!0),me&256){A.ctx.deactivate(I);return}const Ne=me&1&&we,je=!af(I);let Ee;if(je&&(Ee=ne&&ne.onVnodeBeforeUnmount)&&Br(Ee,A,I),me&6)fe(I.component,R,L);else{if(me&128){I.suspense.unmount(R,L);return}Ne&&To(I,null,A,"beforeUnmount"),me&64?I.type.remove(I,A,R,V,ee,L):Q&&(G!==qt||le>0&&le&64)?ge(Q,A,R,!1,!0):(G===qt&&le&384||!V&&me&16)&&ge(ie,A,R),L&&yt(I)}(je&&(Ee=ne&&ne.onVnodeUnmounted)||Ne)&&Mn(()=>{Ee&&Br(Ee,A,I),Ne&&To(I,null,A,"unmounted")},R)},yt=I=>{const{type:A,el:R,anchor:L,transition:V}=I;if(A===qt){zn(R,L);return}if(A===cf){q(I);return}const G=()=>{o(R),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(I.shapeFlag&1&&V&&!V.persisted){const{leave:ne,delayLeave:Y}=V,ie=()=>ne(R,G);Y?Y(I.el,G,ie):ie()}else G()},zn=(I,A)=>{let R;for(;I!==A;)R=v(I),o(I),I=R;o(A)},fe=(I,A,R)=>{const{bum:L,scope:V,update:G,subTree:ne,um:Y}=I;L&&uf(L),V.stop(),G&&(G.active=!1,Ft(ne,I,A,R)),Y&&Mn(Y,A),Mn(()=>{I.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},ge=(I,A,R,L=!1,V=!1,G=0)=>{for(let ne=G;ne<I.length;ne++)Ft(I[ne],A,R,L,V)},D=I=>I.shapeFlag&6?D(I.component.subTree):I.shapeFlag&128?I.suspense.next():v(I.anchor||I.el),B=(I,A,R)=>{I==null?A._vnode&&Ft(A._vnode,null,null,!0):T(A._vnode||null,I,A,null,null,null,R),j_(),XT(),A._vnode=I},ee={p:T,um:Ft,m:zt,r:yt,mt:pt,mc:z,pc:_e,pbc:k,n:D,o:e};let ae,xe;return t&&([ae,xe]=t(ee)),{render:B,hydrate:ae,createApp:FP(B,ae)}}function So({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function zP(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function dS(e,t,n=!1){const i=e.children,o=t.children;if(ke(i)&&ke(o))for(let u=0;u<i.length;u++){const a=i[u];let l=o[u];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[u]=Li(o[u]),l.el=a.el),n||dS(a,l)),l.type===hh&&(l.el=a.el)}}function GP(e){const t=e.slice(),n=[0];let i,o,u,a,l;const f=e.length;for(i=0;i<f;i++){const d=e[i];if(d!==0){if(o=n[n.length-1],e[o]<d){t[i]=o,n.push(i);continue}for(u=0,a=n.length-1;u<a;)l=u+a>>1,e[n[l]]<d?u=l+1:a=l;d<e[n[u]]&&(u>0&&(t[i]=n[u-1]),n[u]=i)}}for(u=n.length,a=n[u-1];u-- >0;)n[u]=a,a=t[a];return n}const WP=e=>e.__isTeleport,qt=Symbol.for("v-fgt"),hh=Symbol.for("v-txt"),zo=Symbol.for("v-cmt"),cf=Symbol.for("v-stc"),Ra=[];let Sr=null;function nt(e=!1){Ra.push(Sr=e?null:[])}function XP(){Ra.pop(),Sr=Ra[Ra.length-1]||null}let $a=1;function Q_(e){$a+=e}function pS(e){return e.dynamicChildren=$a>0?Sr||Hs:null,XP(),$a>0&&Sr&&Sr.push(e),e}function mt(e,t,n,i,o,u){return pS(j(e,t,n,i,o,u,!0))}function Ys(e,t,n,i,o){return pS(Re(e,t,n,i,o,!0))}function gm(e){return e?e.__v_isVNode===!0:!1}function ya(e,t){return e.type===t.type&&e.key===t.key}const dh="__vInternal",gS=({key:e})=>e??null,lf=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?$t(e)||gt(e)||Me(e)?{i:jn,r:e,k:t,f:!!n}:e:null);function j(e,t=null,n=null,i=0,o=null,u=e===qt?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&gS(t),ref:t&&lf(t),scopeId:JT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:jn};return l?(Tv(f,n),u&128&&e.normalize(f)):n&&(f.shapeFlag|=$t(n)?8:16),$a>0&&!a&&Sr&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&Sr.push(f),f}const Re=QP;function QP(e,t=null,n=null,i=0,o=null,u=!1){if((!e||e===ZT)&&(e=zo),gm(e)){const l=Js(e,t,!0);return n&&Tv(l,n),$a>0&&!u&&Sr&&(l.shapeFlag&6?Sr[Sr.indexOf(e)]=l:Sr.push(l)),l.patchFlag|=-2,l}if(sD(e)&&(e=e.__vccOpts),t){t=YP(t);let{class:l,style:f}=t;l&&!$t(l)&&(t.class=Un(l)),dt(f)&&(VT(f)&&!ke(f)&&(f=an({},f)),t.style=dc(f))}const a=$t(e)?1:mP(e)?128:WP(e)?64:dt(e)?4:Me(e)?2:0;return j(e,t,n,i,o,a,u,!0)}function YP(e){return e?VT(e)||dh in e?an({},e):e:null}function Js(e,t,n=!1){const{props:i,ref:o,patchFlag:u,children:a}=e,l=t?vS(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&gS(l),ref:t&&t.ref?n&&o?ke(o)?o.concat(lf(t)):[o,lf(t)]:lf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==qt?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Js(e.ssContent),ssFallback:e.ssFallback&&Js(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function jo(e=" ",t=0){return Re(hh,null,e,t)}function mS(e,t){const n=Re(cf,null,e);return n.staticCount=t,n}function Ha(e="",t=!1){return t?(nt(),Ys(zo,null,e)):Re(zo,null,e)}function Hr(e){return e==null||typeof e=="boolean"?Re(zo):ke(e)?Re(qt,null,e.slice()):typeof e=="object"?Li(e):Re(hh,null,String(e))}function Li(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Js(e)}function Tv(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(ke(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),Tv(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(dh in t)?t._ctx=jn:o===3&&jn&&(jn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Me(t)?(t={default:t,_ctx:jn},n=32):(t=String(t),i&64?(n=16,t=[jo(t)]):n=8);e.children=t,e.shapeFlag|=n}function vS(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=Un([t.class,i.class]));else if(o==="style")t.style=dc([t.style,i.style]);else if(nh(o)){const u=t[o],a=i[o];a&&u!==a&&!(ke(u)&&u.includes(a))&&(t[o]=u?[].concat(u,a):a)}else o!==""&&(t[o]=i[o])}return t}function Br(e,t,n,i=null){kr(e,t,7,[n,i])}const JP=uS();let ZP=0;function eD(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||JP,u={uid:ZP++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new AT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:cS(i,o),emitsOptions:YT(i,o),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:i.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=fP.bind(null,u),e.ce&&e.ce(u),u}let Wt=null;const ph=()=>Wt||jn;let Sv,Os,Y_="__VUE_INSTANCE_SETTERS__";(Os=im()[Y_])||(Os=im()[Y_]=[]),Os.push(e=>Wt=e),Sv=e=>{Os.length>1?Os.forEach(t=>t(e)):Os[0](e)};const Zs=e=>{Sv(e),e.scope.on()},Vo=()=>{Wt&&Wt.scope.off(),Sv(null)};function yS(e){return e.vnode.shapeFlag&4}let Ka=!1;function tD(e,t=!1){Ka=t;const{props:n,children:i}=e.vnode,o=yS(e);jP(e,n,o,t),BP(e,i);const u=o?nD(e,t):void 0;return Ka=!1,u}function nD(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ah(new Proxy(e.ctx,NP));const{setup:i}=n;if(i){const o=e.setupContext=i.length>1?iD(e):null;Zs(e),Iu();const u=Hi(i,e,0,[e.props,o]);if(Tu(),Vo(),bT(u)){if(u.then(Vo,Vo),t)return u.then(a=>{J_(e,a,t)}).catch(a=>{ch(a,e,0)});e.asyncDep=u}else J_(e,u,t)}else wS(e,t)}function J_(e,t,n){Me(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:dt(t)&&(e.setupState=KT(t)),wS(e,n)}let Z_;function wS(e,t,n){const i=e.type;if(!e.render){if(!t&&Z_&&!i.render){const o=i.template||Ev(e).template;if(o){const{isCustomElement:u,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=i,d=an(an({isCustomElement:u,delimiters:l},a),f);i.render=Z_(o,d)}}e.render=i.render||Gr}{Zs(e),Iu();try{xP(e)}finally{Tu(),Vo()}}}function rD(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Bn(e,"get","$attrs"),t[n]}}))}function iD(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return rD(e)},slots:e.slots,emit:e.emit,expose:t}}function gh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(KT(ah(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ca)return Ca[n](e)},has(t,n){return n in t||n in Ca}}))}function oD(e,t=!0){return Me(e)?e.displayName||e.name:e.name||t&&e.__name}function sD(e){return Me(e)&&"__vccOpts"in e}const Fe=(e,t)=>oP(e,t,Ka);function eu(e,t,n){const i=arguments.length;return i===2?dt(t)&&!ke(t)?gm(t)?Re(e,null,[t]):Re(e,t):Re(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&gm(n)&&(n=[n]),Re(e,t,n))}const uD=Symbol.for("v-scx"),aD=()=>pr(uD),cD="3.3.11",lD="http://www.w3.org/2000/svg",No=typeof document<"u"?document:null,eE=No&&No.createElement("template"),fD={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t?No.createElementNS(lD,e):No.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>No.createTextNode(e),createComment:e=>No.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>No.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,u){const a=n?n.previousSibling:t.lastChild;if(o&&(o===u||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{eE.innerHTML=i?`<svg>${e}</svg>`:e;const l=eE.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},hD=Symbol("_vtc");function dD(e,t,n){const i=e[hD];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Av=Symbol("_vod"),tE={beforeMount(e,{value:t},{transition:n}){e[Av]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):wa(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),wa(e,!0),i.enter(e)):i.leave(e,()=>{wa(e,!1)}):wa(e,t))},beforeUnmount(e,{value:t}){wa(e,t)}};function wa(e,t){e.style.display=t?e[Av]:"none"}function pD(e,t,n){const i=e.style,o=$t(n);if(n&&!o){if(t&&!$t(t))for(const u in t)n[u]==null&&mm(i,u,"");for(const u in n)mm(i,u,n[u])}else{const u=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),Av in e&&(i.display=u)}}const nE=/\s*!important$/;function mm(e,t,n){if(ke(n))n.forEach(i=>mm(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=gD(e,t);nE.test(n)?e.setProperty(Eu(i),n.replace(nE,""),"important"):e[i]=n}}const rE=["Webkit","Moz","ms"],Og={};function gD(e,t){const n=Og[t];if(n)return n;let i=Yr(t);if(i!=="filter"&&i in e)return Og[t]=i;i=oh(i);for(let o=0;o<rE.length;o++){const u=rE[o]+i;if(u in e)return Og[t]=u}return t}const iE="http://www.w3.org/1999/xlink";function mD(e,t,n,i,o){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(iE,t.slice(6,t.length)):e.setAttributeNS(iE,t,n);else{const u=kO(t);n==null||u&&!TT(n)?e.removeAttribute(t):e.setAttribute(t,u?"":n)}}function vD(e,t,n,i,o,u,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,o,u),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const d=l==="OPTION"?e.getAttribute("value"):e.value,p=n??"";d!==p&&(e.value=p),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=TT(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function bS(e,t,n,i){e.addEventListener(t,n,i)}function yD(e,t,n,i){e.removeEventListener(t,n,i)}const oE=Symbol("_vei");function wD(e,t,n,i,o=null){const u=e[oE]||(e[oE]={}),a=u[t];if(i&&a)a.value=i;else{const[l,f]=bD(t);if(i){const d=u[t]=ID(i,o);bS(e,l,d,f)}else a&&(yD(e,l,a,f),u[t]=void 0)}}const sE=/(?:Once|Passive|Capture)$/;function bD(e){let t;if(sE.test(e)){t={};let i;for(;i=e.match(sE);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Eu(e.slice(2)),t]}let Pg=0;const _D=Promise.resolve(),ED=()=>Pg||(_D.then(()=>Pg=0),Pg=Date.now());function ID(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;kr(TD(i,n.value),t,5,[i])};return n.value=e,n.attached=ED(),n}function TD(e,t){if(ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const uE=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,SD=(e,t,n,i,o=!1,u,a,l,f)=>{t==="class"?dD(e,i,o):t==="style"?pD(e,n,i):nh(t)?sv(t)||wD(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):AD(e,t,i,o))?vD(e,t,i,u,a,l,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),mD(e,t,i,o))};function AD(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&uE(t)&&Me(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return uE(t)&&$t(n)?!1:t in e}const aE=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ke(t)?n=>uf(t,n):t},Dg=Symbol("_assign"),kD={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const o=rh(t);bS(e,"change",()=>{const u=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?IT(If(a)):If(a));e[Dg](e.multiple?o?new Set(u):u:u[0])}),e[Dg]=aE(i)},mounted(e,{value:t}){cE(e,t)},beforeUpdate(e,t,n){e[Dg]=aE(n)},updated(e,{value:t}){cE(e,t)}};function cE(e,t){const n=e.multiple;if(!(n&&!ke(t)&&!rh(t))){for(let i=0,o=e.options.length;i<o;i++){const u=e.options[i],a=If(u);if(n)ke(t)?u.selected=RO(t,a)>-1:u.selected=t.has(a);else if(sh(If(u),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function If(e){return"_value"in e?e._value:e.value}const CD=["ctrl","shift","alt","meta"],RD={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>CD.some(n=>e[`${n}Key`]&&!t.includes(n))},Sn=(e,t)=>e._withMods||(e._withMods=(n,...i)=>{for(let o=0;o<t.length;o++){const u=RD[t[o]];if(u&&u(n,t))return}return e(n,...i)}),ND=an({patchProp:SD},fD);let lE;function xD(){return lE||(lE=HP(ND))}const OD=(...e)=>{const t=xD().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=PD(i);if(!o)return;const u=t._component;!Me(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function PD(e){return $t(e)?document.querySelector(e):e}var DD=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let _S;const mh=e=>_S=e,ES=Symbol();function vm(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Na;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Na||(Na={}));function LD(){const e=kT(!0),t=e.run(()=>An({}));let n=[],i=[];const o=ah({install(u){mh(o),o._a=u,u.provide(ES,o),u.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(u){return!this._a&&!DD?i.push(u):n.push(u),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const IS=()=>{};function fE(e,t,n,i=IS){e.push(t);const o=()=>{const u=e.indexOf(t);u>-1&&(e.splice(u,1),i())};return!n&&CT()&&xO(o),o}function Ps(e,...t){e.slice().forEach(n=>{n(...t)})}const MD=e=>e();function ym(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],o=e[n];vm(o)&&vm(i)&&e.hasOwnProperty(n)&&!gt(i)&&!$i(i)?e[n]=ym(o,i):e[n]=i}return e}const FD=Symbol();function UD(e){return!vm(e)||!e.hasOwnProperty(FD)}const{assign:Pi}=Object;function jD(e){return!!(gt(e)&&e.effect)}function VD(e,t,n,i){const{state:o,actions:u,getters:a}=t,l=n.state.value[e];let f;function d(){l||(n.state.value[e]=o?o():{});const p=tP(n.state.value[e]);return Pi(p,u,Object.keys(a||{}).reduce((m,v)=>(m[v]=ah(Fe(()=>{mh(n);const b=n._s.get(e);return a[v].call(b,b)})),m),{}))}return f=TS(e,d,t,n,i,!0),f}function TS(e,t,n={},i,o,u){let a;const l=Pi({actions:{}},n),f={deep:!0};let d,p,m=[],v=[],b;const _=i.state.value[e];!u&&!_&&(i.state.value[e]={}),An({});let T;function S(z){let oe;d=p=!1,typeof z=="function"?(z(i.state.value[e]),oe={type:Na.patchFunction,storeId:e,events:b}):(ym(i.state.value[e],z),oe={type:Na.patchObject,payload:z,storeId:e,events:b});const k=T=Symbol();Yn().then(()=>{T===k&&(d=!0)}),p=!0,Ps(m,oe,i.state.value[e])}const x=u?function(){const{state:oe}=n,k=oe?oe():{};this.$patch(Xe=>{Pi(Xe,k)})}:IS;function O(){a.stop(),m=[],v=[],i._s.delete(e)}function F(z,oe){return function(){mh(i);const k=Array.from(arguments),Xe=[],st=[];function ct(se){Xe.push(se)}function pt(se){st.push(se)}Ps(v,{args:k,name:z,store:te,after:ct,onError:pt});let Ze;try{Ze=oe.apply(this&&this.$id===e?this:te,k)}catch(se){throw Ps(st,se),se}return Ze instanceof Promise?Ze.then(se=>(Ps(Xe,se),se)).catch(se=>(Ps(st,se),Promise.reject(se))):(Ps(Xe,Ze),Ze)}}const q={_p:i,$id:e,$onAction:fE.bind(null,v),$patch:S,$reset:x,$subscribe(z,oe={}){const k=fE(m,z,oe.detached,()=>Xe()),Xe=a.run(()=>dr(()=>i.state.value[e],st=>{(oe.flush==="sync"?p:d)&&z({storeId:e,type:Na.direct,events:b},st)},Pi({},f,oe)));return k},$dispose:O},te=pi(q);i._s.set(e,te);const ve=(i._a&&i._a.runWithContext||MD)(()=>i._e.run(()=>(a=kT()).run(t)));for(const z in ve){const oe=ve[z];if(gt(oe)&&!jD(oe)||$i(oe))u||(_&&UD(oe)&&(gt(oe)?oe.value=_[z]:ym(oe,_[z])),i.state.value[e][z]=oe);else if(typeof oe=="function"){const k=F(z,oe);ve[z]=k,l.actions[z]=oe}}return Pi(te,ve),Pi(Je(te),ve),Object.defineProperty(te,"$state",{get:()=>i.state.value[e],set:z=>{S(oe=>{Pi(oe,z)})}}),i._p.forEach(z=>{Pi(te,a.run(()=>z({store:te,app:i._a,pinia:i,options:l})))}),_&&u&&n.hydrate&&n.hydrate(te.$state,_),d=!0,p=!0,te}function SS(e,t,n){let i,o;const u=typeof t=="function";typeof e=="string"?(i=e,o=u?n:t):(o=e,i=e.id);function a(l,f){const d=UP();return l=l||(d?pr(ES,null):null),l&&mh(l),l=_S,l._s.has(i)||(u?TS(i,t,o,l):VD(i,o,l)),l._s.get(i)}return a.$id=i,a}let qD="Store";function BD(...e){return e.reduce((t,n)=>(t[n.$id+qD]=function(){return n(this.$pinia)},t),{})}function AS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(){return e(this.$pinia)[i]},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(){const o=e(this.$pinia),u=t[i];return typeof u=="function"?u.call(this,o):o[u]},n),{})}function kS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[i](...o)},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[t[i]](...o)},n),{})}function CS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[i]},set(o){return e(this.$pinia)[i]=o}},n),{}):Object.keys(t).reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[t[i]]},set(o){return e(this.$pinia)[t[i]]=o}},n),{})}const wm=SS("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var bm=function(e,t){return bm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},bm(e,t)};function Te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var tu=function(){return tu=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},tu.apply(this,arguments)};function H(e,t,n,i){function o(u){return u instanceof n?u:new n(function(a){a(u)})}return new(n||(n=Promise))(function(u,a){function l(p){try{d(i.next(p))}catch(m){a(m)}}function f(p){try{d(i.throw(p))}catch(m){a(m)}}function d(p){p.done?u(p.value):o(p.value).then(l,f)}d((i=i.apply(e,t||[])).next())})}function $(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(p){return f([d,p])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(u=d[0]&2?o.return:d[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,d[1])).done)return u;switch(o=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){n.label=d[1];break}if(d[0]===6&&n.label<u[1]){n.label=u[1],u=d;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(d);break}u[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],o=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Lg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $l(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,u=[],a;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return u}function It(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RS=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},$D=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var u=e[n++];t[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){var u=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(u&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var u=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|a&63)}}return t.join("")},HD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var u=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,p=u>>2,m=(u&3)<<4|l>>4,v=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(v=64)),i.push(n[p],n[m],n[v],n[b])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(RS(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):$D(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var u=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var p=o<e.length,m=p?n[e.charAt(o)]:64;if(++o,u==null||l==null||d==null||m==null)throw Error();var v=u<<2|l>>4;if(i.push(v),d!==64){var b=l<<4&240|d>>2;if(i.push(b),m!==64){var _=d<<6&192|m;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},KD=function(e){var t=RS(e);return HD.encodeByteArray(t,!0)},hE=function(e){return KD(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(e){return za(void 0,e)}function za(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!GD(i)||(e[i]=za(e[i],t[i]));return e}function GD(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WD=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=tu({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[hE(JSON.stringify(n)),hE(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Go())}function xS(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QD(){return typeof self=="object"&&self.self===self}function YD(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function JD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZD(){return Go().indexOf("Electron/")>=0}function eL(){var e=Go();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function tL(){return Go().indexOf("MSAppHost/")>=0}function nL(){return!xS()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rL="FirebaseError",OS=function(e){Te(t,e);function t(n,i,o){var u=e.call(this,i)||this;return u.code=n,u.customData=o,u.name=rL,Object.setPrototypeOf(u,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,kv.prototype.create),u}return t}(Error),kv=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+t,a=this.errors[t],l=a?iL(a,o):"Error",f=this.serviceName+": "+l+" ("+u+").",d=new OS(u,f,o);return d},e}();function iL(e,t){return e.replace(oL,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}var oL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function sL(e,t){var n=new uL(e,t);return n.subscribe.bind(n)}var uL=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,u;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");aL(t,["next","error","complete"])?u=t:u={next:t,error:n,complete:i},u.next===void 0&&(u.next=Mg),u.error===void 0&&(u.error=Mg),u.complete===void 0&&(u.complete=Mg);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function aL(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Mg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(e){return e&&e._delegate?e._delegate:e}var mc=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new WD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(fL(t))try{this.getOrInitializeService({instanceIdentifier:ko})}catch{}try{for(var o=Lg(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var a=$l(u.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:d});f.resolve(p)}catch{}}}catch(m){n={error:m}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=ko),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(It(It([],$l(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),$l(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=ko),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=ko),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,u=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var f=Lg(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var p=$l(d.value,2),m=p[0],v=p[1],b=this.normalizeInstanceIdentifier(m);a===b&&v.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(t),this.onInitCallbacks.set(o,u);var a=this.instances.get(o);return a&&t(a,o),function(){u.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,u=this.onInitCallbacks.get(n);if(u)try{for(var a=Lg(u),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:lL(n),options:o}),this.instances.set(n,u),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=ko),this.component?this.component.multipleInstances?t:ko:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function lL(e){return e===ko?void 0:e}function fL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new cL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Ir(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var u=arguments[t],a=0,l=u.length;a<l;a++,o++)i[o]=u[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ao,Cv=[],tt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(tt||(tt={}));var PS={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},dL=tt.INFO,pL=(Ao={},Ao[tt.DEBUG]="log",Ao[tt.VERBOSE]="log",Ao[tt.INFO]="info",Ao[tt.WARN]="warn",Ao[tt.ERROR]="error",Ao),gL=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),u=pL[t];if(u)console[u].apply(console,Ir(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},DS=function(){function e(t){this.name=t,this._logLevel=dL,this._logHandler=gL,this._userLogHandler=null,Cv.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in tt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?PS[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,tt.DEBUG],t)),this._logHandler.apply(this,Ir([this,tt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,tt.VERBOSE],t)),this._logHandler.apply(this,Ir([this,tt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,tt.INFO],t)),this._logHandler.apply(this,Ir([this,tt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,tt.WARN],t)),this._logHandler.apply(this,Ir([this,tt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,tt.ERROR],t)),this._logHandler.apply(this,Ir([this,tt.ERROR],t))},e}();function mL(e){Cv.forEach(function(t){t.setLogLevel(e)})}function vL(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=PS[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var p=[],m=2;m<arguments.length;m++)p[m-2]=arguments[m];var v=p.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&e({level:tt[d].toLowerCase(),message:v,args:p,type:f.name})}},i=0,o=Cv;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri,yL=(Ri={},Ri["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ri["bad-app-name"]="Illegal App name: '{$appName}",Ri["duplicate-app"]="Firebase App named '{$appName}' already exists",Ri["app-deleted"]="Firebase App named '{$appName}' already deleted",Ri["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ri["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ri),Us=new kv("app","Firebase",yL),LS="@firebase/app",wL="0.6.30",bL="@firebase/analytics",_L="@firebase/app-check",EL="@firebase/auth",IL="@firebase/database",TL="@firebase/functions",SL="@firebase/installations",AL="@firebase/messaging",kL="@firebase/performance",CL="@firebase/remote-config",RL="@firebase/storage",NL="@firebase/firestore",xL="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,Tf="[DEFAULT]",OL=(ln={},ln[LS]="fire-core",ln[bL]="fire-analytics",ln[_L]="fire-app-check",ln[EL]="fire-auth",ln[IL]="fire-rtdb",ln[TL]="fire-fn",ln[SL]="fire-iid",ln[AL]="fire-fcm",ln[kL]="fire-perf",ln[CL]="fire-rc",ln[RL]="fire-gcs",ln[NL]="fire-fst",ln["fire-js"]="fire-js",ln[xL]="fire-js-all",ln);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nu=new DS("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ff=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=zD(t),this.container=new hL(n.name),this._addComponent(new mc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return o._addComponent(u)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=Tf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Tf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){nu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Us.create("app-deleted",{appName:this.name_})},e}();ff.prototype.name&&ff.prototype.options||ff.prototype.delete||console.log("dc");var PL="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(e){var t={},n=new Map,i={__esModule:!0,initializeApp:a,app:u,registerVersion:d,setLogLevel:mL,onLog:p,apps:null,SDK_VERSION:PL,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:m}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(v){delete t[v]}function u(v){if(v=v||Tf,!dE(t,v))throw Us.create("no-app",{appName:v});return t[v]}u.App=e;function a(v,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var _=b;b={name:_}}var T=b;T.name===void 0&&(T.name=Tf);var S=T.name;if(typeof S!="string"||!S)throw Us.create("bad-app-name",{appName:String(S)});if(dE(t,S))throw Us.create("duplicate-app",{appName:S});var x=new e(v,T,i);return t[S]=x,x}function l(){return Object.keys(t).map(function(v){return t[v]})}function f(v){var b=v.name;if(n.has(b))return nu.debug("There were multiple attempts to register component "+b+"."),v.type==="PUBLIC"?i[b]:null;if(n.set(b,v),v.type==="PUBLIC"){var _=function(O){if(O===void 0&&(O=u()),typeof O[b]!="function")throw Us.create("invalid-app-argument",{appName:b});return O[b]()};v.serviceProps!==void 0&&za(_,v.serviceProps),i[b]=_,e.prototype[b]=function(){for(var O=[],F=0;F<arguments.length;F++)O[F]=arguments[F];var q=this._getService.bind(this,b);return q.apply(this,v.multipleInstances?O:[])}}for(var T=0,S=Object.keys(t);T<S.length;T++){var x=S[T];t[x]._addComponent(v)}return v.type==="PUBLIC"?i[b]:null}function d(v,b,_){var T,S=(T=OL[v])!==null&&T!==void 0?T:v;_&&(S+="-"+_);var x=S.match(/\s|\//),O=b.match(/\s|\//);if(x||O){var F=['Unable to register library "'+S+'" with version "'+b+'":'];x&&F.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),x&&O&&F.push("and"),O&&F.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),nu.warn(F.join(" "));return}f(new mc(S+"-version",function(){return{library:S,version:b}},"VERSION"))}function p(v,b){if(v!==null&&typeof v!="function")throw Us.create("invalid-log-argument");vL(v,b)}function m(v,b){if(b==="serverAuth")return null;var _=b;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(){var e=DL(ff);e.INTERNAL=tu(tu({},e.INTERNAL),{createFirebaseNamespace:MS,extendNamespace:t,createSubscribe:sL,ErrorFactory:kv,deepExtend:za});function t(n){za(e,n)}return e}var Rv=MS();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LL=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(ML(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();function ML(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(e,t){e.INTERNAL.registerComponent(new mc("platform-logger",function(n){return new LL(n)},"PRIVATE")),e.registerVersion(LS,wL,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(QD()&&self.firebase!==void 0){nu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var pE=self.firebase.SDK_VERSION;pE&&pE.indexOf("LITE")>=0&&nu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var UL=Rv.initializeApp;Rv.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return xS()&&nu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),UL.apply(void 0,e)};var Ce=Rv;FL(Ce);var jL="firebase",FS="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ce.registerVersion(jL,FS,"app");Ce.SDK_VERSION=FS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){r!=Array.prototype&&r!=Object.prototype&&(r[s]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,s){if(s){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var g=r[h];g in c||(c[g]={}),c=c[g]}r=r[r.length-1],h=c[r],s=s(h),s!=h&&s!=null&&t(c,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function a(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(w){this.b=0,this.c=void 0,this.a=[];var E=this.f();try{w(E.resolve,E.reject)}catch(M){E.reject(M)}}function c(){this.a=null}function h(w){return w instanceof s?w:new s(function(E){E(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var E=this;this.c(function(){E.g()})}this.a.push(w)};var g=i.setTimeout;c.prototype.c=function(w){g(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var E=0;E<w.length;++E){var M=w[E];w[E]=null;try{M()}catch(W){this.f(W)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},s.prototype.f=function(){function w(W){return function(Pe){M||(M=!0,W.call(E,Pe))}}var E=this,M=!1;return{resolve:w(this.m),reject:w(this.g)}},s.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof s)this.s(w);else{e:switch(typeof w){case"object":var E=w!=null;break e;case"function":E=!0;break e;default:E=!1}E?this.v(w):this.h(w)}},s.prototype.v=function(w){var E=void 0;try{E=w.then}catch(M){this.g(M);return}typeof E=="function"?this.u(E,w):this.h(w)},s.prototype.g=function(w){this.i(2,w)},s.prototype.h=function(w){this.i(1,w)},s.prototype.i=function(w,E){if(this.b!=0)throw Error("Cannot settle("+w+", "+E+"): Promise already settled in state"+this.b);this.b=w,this.c=E,this.l()},s.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)y.b(this.a[w]);this.a=null}};var y=new c;return s.prototype.s=function(w){var E=this.f();w.Ra(E.resolve,E.reject)},s.prototype.u=function(w,E){var M=this.f();try{w.call(E,M.resolve,M.reject)}catch(W){M.reject(W)}},s.prototype.then=function(w,E){function M(et,Yt){return typeof et=="function"?function(ii){try{W(et(ii))}catch(kg){Pe(kg)}}:Yt}var W,Pe,ut=new s(function(et,Yt){W=et,Pe=Yt});return this.Ra(M(w,W),M(E,Pe)),ut},s.prototype.catch=function(w){return this.then(void 0,w)},s.prototype.Ra=function(w,E){function M(){switch(W.b){case 1:w(W.c);break;case 2:E(W.c);break;default:throw Error("Unexpected state: "+W.b)}}var W=this;this.a==null?y.b(M):this.a.push(M)},s.resolve=h,s.reject=function(w){return new s(function(E,M){M(w)})},s.race=function(w){return new s(function(E,M){for(var W=a(w),Pe=W.next();!Pe.done;Pe=W.next())h(Pe.value).Ra(E,M)})},s.all=function(w){var E=a(w),M=E.next();return M.done?h([]):new s(function(W,Pe){function ut(ii){return function(kg){et[ii]=kg,Yt--,Yt==0&&W(et)}}var et=[],Yt=0;do et.push(void 0),Yt++,h(M.value).Ra(ut(et.length-1),Pe),M=E.next();while(!M.done)})},s});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,p=null;function m(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function v(){}function b(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function _(r){var s=b(r);return s=="array"||s=="object"&&typeof r.length=="number"}function T(r){return b(r)=="function"}function S(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function x(r){return Object.prototype.hasOwnProperty.call(r,O)&&r[O]||(r[O]=++F)}var O="closure_uid_"+(1e9*Math.random()>>>0),F=0;function q(r,s,c){return r.call.apply(r.bind,arguments)}function te(r,s,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,h),r.apply(s,g)}}return function(){return r.apply(s,arguments)}}function U(r,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?U=q:U=te,U.apply(null,arguments)}function ve(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function z(r,s){function c(){}c.prototype=s.prototype,r.bb=s.prototype,r.prototype=new c,r.prototype.constructor=r}function oe(r){return r}function k(r,s,c){this.code=st+r,this.message=s||ct[r]||"",this.a=c||null}z(k,Error),k.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},k.prototype.toJSON=function(){return this.w()};function Xe(r){var s=r&&r.code;return s?new k(s.substring(st.length),r.message,r.serverResponse):null}var st="auth/",ct={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},pt={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ze(r){for(var s in pt)if(pt[s].id===r)return r=pt[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var se;se=Ze("__EID__")?"__EID__":void 0;function De(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function _e(r){if(Error.captureStackTrace)Error.captureStackTrace(this,_e);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}z(_e,Error),_e.prototype.name="CustomError";function kt(r,s){r=r.split("%s");for(var c="",h=r.length-1,g=0;g<h;g++)c+=r[g]+(g<s.length?s[g]:"%s");_e.call(this,c+r[h])}z(kt,_e),kt.prototype.name="AssertionError";function Pt(r,s){throw new kt("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function zt(r,s){this.c=r,this.f=s,this.b=0,this.a=null}zt.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Ft(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function yt(){this.b=this.a=null}var zn=new zt(function(){return new ge},function(r){r.reset()});yt.prototype.add=function(r,s){var c=zn.get();c.set(r,s),this.b?this.b.next=c:this.a=c,this.b=c};function fe(){var r=gw,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function ge(){this.next=this.b=this.a=null}ge.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},ge.prototype.reset=function(){this.next=this.b=this.a=null};var D=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===s)return c;return-1},B=Array.prototype.forEach?function(r,s,c){Array.prototype.forEach.call(r,s,c)}:function(r,s,c){for(var h=r.length,g=typeof r=="string"?r.split(""):r,y=0;y<h;y++)y in g&&s.call(c,g[y],y,r)};function ee(r,s){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&s.call(void 0,c[h],h,r)}var ae=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=[],g=0,y=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in y){var E=y[w];s.call(void 0,E,w,r)&&(h[g++]=E)}return h},xe=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=Array(c),g=typeof r=="string"?r.split(""):r,y=0;y<c;y++)y in g&&(h[y]=s.call(void 0,g[y],y,r));return h},I=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=typeof r=="string"?r.split(""):r,g=0;g<c;g++)if(g in h&&s.call(void 0,h[g],g,r))return!0;return!1};function A(r){e:{for(var s=QR,c=r.length,h=typeof r=="string"?r.split(""):r,g=0;g<c;g++)if(g in h&&s.call(void 0,h[g],g,r)){s=g;break e}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function R(r,s){return 0<=D(r,s)}function L(r,s){s=D(r,s);var c;return(c=0<=s)&&Array.prototype.splice.call(r,s,1),c}function V(r,s){var c=0;ee(r,function(h,g){s.call(void 0,h,g,r)&&Array.prototype.splice.call(r,g,1).length==1&&c++})}function G(r){return Array.prototype.concat.apply([],arguments)}function ne(r){var s=r.length;if(0<s){for(var c=Array(s),h=0;h<s;h++)c[h]=r[h];return c}return[]}var Y=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},ie=/&/g,Q=/</g,me=/>/g,le=/"/g,we=/'/g,Ne=/\x00/g,je=/[\x00&<>"']/;function Ee(r,s){return r.indexOf(s)!=-1}function ze(r,s){return r<s?-1:r>s?1:0}var C;e:{var N=f.navigator;if(N){var K=N.userAgent;if(K){C=K;break e}}C=""}function Z(r){return Ee(C,r)}function Se(r,s){for(var c in r)s.call(void 0,r[c],c,r)}function pe(r){for(var s in r)return!1;return!0}function Ae(r){var s={},c;for(c in r)s[c]=r[c];return s}var Ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qe(r,s){for(var c,h,g=1;g<arguments.length;g++){h=arguments[g];for(c in h)r[c]=h[c];for(var y=0;y<Ge.length;y++)c=Ge[y],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function en(r,s){e:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var g=h;break e}}catch{}g=null}if(g&&typeof g[s]<"u"&&(!r||!(r instanceof g[s])&&(r instanceof g.Location||r instanceof g.Element))){if(S(r))try{var y=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{y="<object could not be stringified>"}else y=r===void 0?"undefined":r===null?"null":typeof r;Pt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,y)}}function Be(r,s){this.a=r===Pr&&s||"",this.b=Rt}Be.prototype.ta=!0,Be.prototype.sa=function(){return this.a},Be.prototype.toString=function(){return"Const{"+this.a+"}"};function Ct(r){return r instanceof Be&&r.constructor===Be&&r.b===Rt?r.a:(Pt("expected object of type Const, got '"+r+"'"),"type_error:Const")}var Rt={},Pr={},wi;function Lu(){if(wi===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:oe,createScript:oe,createScriptURL:oe})}catch(c){f.console&&f.console.error(c.message)}wi=r}else wi=r}return wi}function Dr(r,s){this.a=s===Zy?r:""}Dr.prototype.ta=!0,Dr.prototype.sa=function(){return this.a.toString()},Dr.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function cs(r){return r instanceof Dr&&r.constructor===Dr?r.a:(Pt("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function td(r,s){var c=Ct(r);if(!AC.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(SC,function(h,g){if(!Object.prototype.hasOwnProperty.call(s,g))throw Error('Found marker, "'+g+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[g],h instanceof Be?Ct(h):encodeURIComponent(String(h))}),kC(r)}var SC=/%{(\w+)}/g,AC=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Zy={};function kC(r){var s=Lu();return r=s?s.createScriptURL(r):r,new Dr(r,Zy)}function On(r,s){this.a=s===Mu?r:""}On.prototype.ta=!0,On.prototype.sa=function(){return this.a.toString()},On.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Uc(r){return r instanceof On&&r.constructor===On?r.a:(Pt("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var CC=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,RC=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,ew=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function tw(r){if(r instanceof On)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),ew.test(r))r=new On(r,Mu);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(RC);r=s&&CC.test(s[1])?new On(r,Mu):null}return r}function nw(r){return r instanceof On?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),ew.test(r)||(r="about:invalid#zClosurez"),new On(r,Mu))}var Mu={},rw=new On("about:invalid#zClosurez",Mu);function ls(r,s,c){this.a=c===iw?r:""}ls.prototype.ta=!0,ls.prototype.sa=function(){return this.a.toString()},ls.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function NC(r){return r instanceof ls&&r.constructor===ls?r.a:(Pt("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var iw={};function xC(r,s){en(r,"HTMLScriptElement"),r.src=cs(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=m(s.document):(p===null&&(p=m(f.document)),s=p),s&&r.setAttribute("nonce",s)}function ow(r,s,c,h){return r=r instanceof On?r:nw(r),s=s||f,c=c instanceof Be?Ct(c):c||"",s.open(Uc(r),c,h,void 0)}function sw(r,s){for(var c=r.split("%s"),h="",g=Array.prototype.slice.call(arguments,1);g.length&&1<c.length;)h+=c.shift()+g.shift();return h+c.join("%s")}function nd(r){return je.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(ie,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(Q,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(me,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(le,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(we,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(Ne,"&#0;"))),r}function rd(r){return rd[" "](r),r}rd[" "]=v;function OC(r,s){var c=MC;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=s(r)}var PC=Z("Opera"),mr=Z("Trident")||Z("MSIE"),uw=Z("Edge"),DC=uw||mr,aw=Z("Gecko")&&!(Ee(C.toLowerCase(),"webkit")&&!Z("Edge"))&&!(Z("Trident")||Z("MSIE"))&&!Z("Edge"),LC=Ee(C.toLowerCase(),"webkit")&&!Z("Edge");function cw(){var r=f.document;return r?r.documentMode:void 0}var jc;e:{var id="",od=function(){var r=C;if(aw)return/rv:([^\);]+)(\)|;)/.exec(r);if(uw)return/Edge\/([\d\.]+)/.exec(r);if(mr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(LC)return/WebKit\/(\S+)/.exec(r);if(PC)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(od&&(id=od?od[1]:""),mr){var sd=cw();if(sd!=null&&sd>parseFloat(id)){jc=String(sd);break e}}jc=id}var MC={};function lw(r){return OC(r,function(){for(var s=0,c=Y(String(jc)).split("."),h=Y(String(r)).split("."),g=Math.max(c.length,h.length),y=0;s==0&&y<g;y++){var w=c[y]||"",E=h[y]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],w[0].length==0&&E[0].length==0)break;s=ze(w[1].length==0?0:parseInt(w[1],10),E[1].length==0?0:parseInt(E[1],10))||ze(w[2].length==0,E[2].length==0)||ze(w[2],E[2]),w=w[3],E=E[3]}while(s==0)}return 0<=s})}var ud;if(f.document&&mr){var fw=cw();ud=fw||parseInt(jc,10)||void 0}else ud=void 0;var bi=ud;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var FC=!mr||9<=Number(bi);function Fu(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function hw(r,s){Se(s,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:dw.hasOwnProperty(h)?r.setAttribute(dw[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var dw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function UC(r,s,c){var h=arguments,g=document,y=String(h[0]),w=h[1];if(!FC&&w&&(w.name||w.type)){if(y=["<",y],w.name&&y.push(' name="',nd(w.name),'"'),w.type){y.push(' type="',nd(w.type),'"');var E={};qe(E,w),delete E.type,w=E}y.push(">"),y=y.join("")}return y=Vc(g,y),w&&(typeof w=="string"?y.className=w:Array.isArray(w)?y.className=w.join(" "):hw(y,w)),2<h.length&&jC(g,y,h),y}function jC(r,s,c){function h(E){E&&s.appendChild(typeof E=="string"?r.createTextNode(E):E)}for(var g=2;g<c.length;g++){var y=c[g];if(!_(y)||S(y)&&0<y.nodeType)h(y);else{e:{if(y&&typeof y.length=="number"){if(S(y)){var w=typeof y.item=="function"||typeof y.item=="string";break e}if(T(y)){w=typeof y.item=="function";break e}}w=!1}B(w?ne(y):y,h)}}}function Vc(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function pw(r){f.setTimeout(function(){throw r},0)}var ad;function VC(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Z("Presto")&&(r=function(){var g=Vc(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var y=g.contentWindow;g=y.document,g.open(),g.close();var w="callImmediate"+Math.random(),E=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;g=U(function(M){(E=="*"||M.origin==E)&&M.data==w&&this.port1.onmessage()},this),y.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(w,E)}}}),typeof r<"u"&&!Z("Trident")&&!Z("MSIE")){var s=new r,c={},h=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var g=c.Hb;c.Hb=null,g()}},function(g){h.next={Hb:g},h=h.next,s.port2.postMessage(0)}}return function(g){f.setTimeout(g,0)}}function qc(r,s){Bc||qC(),cd||(Bc(),cd=!0),gw.add(r,s)}var Bc;function qC(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);Bc=function(){r.then(mw)}}else Bc=function(){var s=mw;!T(f.setImmediate)||f.Window&&f.Window.prototype&&!Z("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(ad||(ad=VC()),ad(s)):f.setImmediate(s)}}var cd=!1,gw=new yt;function mw(){for(var r;r=fe();){try{r.a.call(r.b)}catch(s){pw(s)}Ft(zn,r)}cd=!1}function $e(r,s){if(this.a=io,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=v)try{var c=this;r.call(s,function(h){oo(c,Uu,h)},function(h){if(!(h instanceof fs))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}oo(c,ei,h)})}catch(h){oo(this,ei,h)}}var io=0,Uu=2,ei=3;function vw(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}vw.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var yw=new zt(function(){return new vw},function(r){r.reset()});function ld(r,s,c){var h=yw.get();return h.g=r,h.b=s,h.f=c,h}function Ie(r){if(r instanceof $e)return r;var s=new $e(v);return oo(s,Uu,r),s}function _t(r){return new $e(function(s,c){c(r)})}function ww(r,s,c){Iw(r,s,c,null)||qc(ve(s,r))}function BC(r){return new $e(function(s,c){var h=r.length,g=[];if(h)for(var y=function(W,Pe){h--,g[W]=Pe,h==0&&s(g)},w=function(W){c(W)},E=0,M;E<r.length;E++)M=r[E],ww(M,ve(y,E),w);else s(g)})}function bw(r){return new $e(function(s){var c=r.length,h=[];if(c)for(var g=function(E,M,W){c--,h[E]=M?{Qb:!0,value:W}:{Qb:!1,reason:W},c==0&&s(h)},y=0,w;y<r.length;y++)w=r[y],ww(w,ve(g,y,!0),ve(g,y,!1));else s(h)})}$e.prototype.then=function(r,s,c){return Ew(this,T(r)?r:null,T(s)?s:null,c)},$e.prototype.$goog_Thenable=!0,e=$e.prototype,e.oa=function(r,s){return r=ld(r,r,s),r.c=!0,fd(this,r),this},e.o=function(r,s){return Ew(this,null,r,s)},e.cancel=function(r){if(this.a==io){var s=new fs(r);qc(function(){_w(this,s)},this)}};function _w(r,s){if(r.a==io)if(r.c){var c=r.c;if(c.b){for(var h=0,g=null,y=null,w=c.b;w&&(w.c||(h++,w.a==r&&(g=w),!(g&&1<h)));w=w.next)g||(y=w);g&&(c.a==io&&h==1?_w(c,s):(y?(h=y,h.next==c.f&&(c.f=h),h.next=h.next.next):Sw(c),Aw(c,g,ei,s)))}r.c=null}else oo(r,ei,s)}function fd(r,s){r.b||r.a!=Uu&&r.a!=ei||Tw(r),r.f?r.f.next=s:r.b=s,r.f=s}function Ew(r,s,c,h){var g=ld(null,null,null);return g.a=new $e(function(y,w){g.g=s?function(E){try{var M=s.call(h,E);y(M)}catch(W){w(W)}}:y,g.b=c?function(E){try{var M=c.call(h,E);M===void 0&&E instanceof fs?w(E):y(M)}catch(W){w(W)}}:w}),g.a.c=r,fd(r,g),g.a}e.$c=function(r){this.a=io,oo(this,Uu,r)},e.ad=function(r){this.a=io,oo(this,ei,r)};function oo(r,s,c){r.a==io&&(r===c&&(s=ei,c=new TypeError("Promise cannot resolve to itself")),r.a=1,Iw(c,r.$c,r.ad,r)||(r.i=c,r.a=s,r.c=null,Tw(r),s!=ei||c instanceof fs||HC(r,c)))}function Iw(r,s,c,h){if(r instanceof $e)return fd(r,ld(s||v,c||null,h)),!0;if(De(r))return r.then(s,c,h),!0;if(S(r))try{var g=r.then;if(T(g))return $C(r,g,s,c,h),!0}catch(y){return c.call(h,y),!0}return!1}function $C(r,s,c,h,g){function y(M){E||(E=!0,h.call(g,M))}function w(M){E||(E=!0,c.call(g,M))}var E=!1;try{s.call(r,w,y)}catch(M){y(M)}}function Tw(r){r.h||(r.h=!0,qc(r.gc,r))}function Sw(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}e.gc=function(){for(var r;r=Sw(this);)Aw(this,r,this.a,this.i);this.h=!1};function Aw(r,s,c,h){if(c==ei&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,kw(s,c,h);else try{s.c?s.g.call(s.f):kw(s,c,h)}catch(g){Cw.call(null,g)}Ft(yw,s)}function kw(r,s,c){s==Uu?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function HC(r,s){r.g=!0,qc(function(){r.g&&Cw.call(null,s)})}var Cw=pw;function fs(r){_e.call(this,r)}z(fs,_e),fs.prototype.name="cancel";function $c(){this.ya=this.ya,this.pa=this.pa}var KC=0;$c.prototype.ya=!1;function Rw(r){!r.ya&&(r.ya=!0,r.Da(),KC!=0)&&x(r)}$c.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var zC=Object.freeze||function(r){return r},Nw=!mr||9<=Number(bi),GC=mr&&!lw("9"),WC=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",v,s),f.removeEventListener("test",v,s)}catch{}return r}();function Pn(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}Pn.prototype.preventDefault=function(){this.defaultPrevented=!0};function so(r,s){if(Pn.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(aw){e:{try{rd(s.nodeName);var g=!0;break e}catch{}g=!1}g||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:XC[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}z(so,Pn);var XC=zC({2:"touch",3:"pen",4:"mouse"});so.prototype.preventDefault=function(){so.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,GC)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},so.prototype.g=function(){return this.a};var ju="closure_listenable_"+(1e6*Math.random()|0),QC=0;function YC(r,s,c,h,g){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!h,this.Wa=g,this.key=++QC,this.wa=this.Qa=!1}function Hc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function Kc(r){this.src=r,this.a={},this.b=0}Kc.prototype.add=function(r,s,c,h,g){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.b++);var w=dd(r,s,h,g);return-1<w?(s=r[w],c||(s.Qa=!1)):(s=new YC(s,this.src,y,!!h,g),s.Qa=c,r.push(s)),s};function hd(r,s){var c=s.type;c in r.a&&L(r.a[c],s)&&(Hc(s),r.a[c].length==0&&(delete r.a[c],r.b--))}function dd(r,s,c,h){for(var g=0;g<r.length;++g){var y=r[g];if(!y.wa&&y.listener==s&&y.capture==!!c&&y.Wa==h)return g}return-1}var pd="closure_lm_"+(1e6*Math.random()|0),gd={};function or(r,s,c,h,g){if(h&&h.once)md(r,s,c,h,g);else if(Array.isArray(s))for(var y=0;y<s.length;y++)or(r,s[y],c,h,g);else c=yd(c),r&&r[ju]?Mw(r,s,c,S(h)?!!h.capture:!!h,g):xw(r,s,c,!1,h,g)}function xw(r,s,c,h,g,y){if(!s)throw Error("Invalid event type");var w=S(g)?!!g.capture:!!g,E=zc(r);if(E||(r[pd]=E=new Kc(r)),c=E.add(s,c,h,w,y),!c.proxy)if(h=JC(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)WC||(g=w),g===void 0&&(g=!1),r.addEventListener(s.toString(),h,g);else if(r.attachEvent)r.attachEvent(Pw(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function JC(){var r=ZC,s=Nw?function(c){return r.call(s.src,s.listener,c)}:function(c){if(c=r.call(s.src,s.listener,c),!c)return c};return s}function md(r,s,c,h,g){if(Array.isArray(s))for(var y=0;y<s.length;y++)md(r,s[y],c,h,g);else c=yd(c),r&&r[ju]?wd(r,s,c,S(h)?!!h.capture:!!h,g):xw(r,s,c,!0,h,g)}function Gn(r,s,c,h,g){if(Array.isArray(s))for(var y=0;y<s.length;y++)Gn(r,s[y],c,h,g);else h=S(h)?!!h.capture:!!h,c=yd(c),r&&r[ju]?(r=r.v,s=String(s).toString(),s in r.a&&(y=r.a[s],c=dd(y,c,h,g),-1<c&&(Hc(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete r.a[s],r.b--)))):r&&(r=zc(r))&&(s=r.a[s.toString()],r=-1,s&&(r=dd(s,c,h,g)),(c=-1<r?s[r]:null)&&Ow(c))}function Ow(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[ju])hd(s.v,r);else{var c=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(c,h,r.capture):s.detachEvent?s.detachEvent(Pw(c),h):s.addListener&&s.removeListener&&s.removeListener(h),(c=zc(s))?(hd(c,r),c.b==0&&(c.src=null,s[pd]=null)):Hc(r)}}}function Pw(r){return r in gd?gd[r]:gd[r]="on"+r}function Dw(r,s,c,h){var g=!0;if((r=zc(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var y=s[r];y&&y.capture==c&&!y.wa&&(y=Lw(y,h),g=g&&y!==!1)}return g}function Lw(r,s){var c=r.listener,h=r.Wa||r.src;return r.Qa&&Ow(r),c.call(h,s)}function ZC(r,s){if(r.wa)return!0;if(!Nw){if(!s)e:{s=["window","event"];for(var c=f,h=0;h<s.length;h++)if(c=c[s[h]],c==null){s=null;break e}s=c}if(h=s,s=new so(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var g=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{g=!0}(g||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],g=s.b;g;g=g.parentNode)h.push(g);for(r=r.type,g=h.length-1;0<=g;g--){s.b=h[g];var y=Dw(h[g],r,!0,s);c=c&&y}for(g=0;g<h.length;g++)s.b=h[g],y=Dw(h[g],r,!1,s),c=c&&y}return c}return Lw(r,new so(s,this))}function zc(r){return r=r[pd],r instanceof Kc?r:null}var vd="__closure_events_fn_"+(1e9*Math.random()>>>0);function yd(r){return T(r)?r:(r[vd]||(r[vd]=function(s){return r.handleEvent(s)}),r[vd])}function wn(){$c.call(this),this.v=new Kc(this),this.bc=this,this.hb=null}z(wn,$c),wn.prototype[ju]=!0,wn.prototype.addEventListener=function(r,s,c,h){or(this,r,s,c,h)},wn.prototype.removeEventListener=function(r,s,c,h){Gn(this,r,s,c,h)},wn.prototype.dispatchEvent=function(r){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new Pn(r,c);else if(r instanceof Pn)r.target=r.target||c;else{var g=r;r=new Pn(h,c),qe(r,g)}if(g=!0,s)for(var y=s.length-1;0<=y;y--){var w=r.b=s[y];g=Gc(w,h,!0,r)&&g}if(w=r.b=c,g=Gc(w,h,!0,r)&&g,g=Gc(w,h,!1,r)&&g,s)for(y=0;y<s.length;y++)w=r.b=s[y],g=Gc(w,h,!1,r)&&g;return g},wn.prototype.Da=function(){if(wn.bb.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var c=r.a[s],h=0;h<c.length;h++)Hc(c[h]);delete r.a[s],r.b--}}this.hb=null};function Mw(r,s,c,h,g){r.v.add(String(s),c,!1,h,g)}function wd(r,s,c,h,g){r.v.add(String(s),c,!0,h,g)}function Gc(r,s,c,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var g=!0,y=0;y<s.length;++y){var w=s[y];if(w&&!w.wa&&w.capture==c){var E=w.listener,M=w.Wa||w.src;w.Qa&&hd(r.v,w),g=E.call(M,h)!==!1&&g}}return g&&!h.defaultPrevented}function bd(r,s,c){if(T(r))c&&(r=U(r,c));else if(r&&typeof r.handleEvent=="function")r=U(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function hs(r){var s=null;return new $e(function(c,h){s=bd(function(){c(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(s),c})}function Fw(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var s=[],c=r.length,h=0;h<c;h++)s.push(r[h]);return s}s=[],c=0;for(h in r)s[c++]=r[h];return s}function Uw(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(var h in r)s[c++]=h;return s}}function eR(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(_(r)||typeof r=="string")B(r,s,void 0);else for(var c=Uw(r),h=Fw(r),g=h.length,y=0;y<g;y++)s.call(void 0,h[y],c&&c[y],r)}function ds(r,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof ds)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}e=ds.prototype,e.X=function(){_d(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},e.Y=function(){return _d(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function _d(r){if(r.c!=r.a.length){for(var s=0,c=0;s<r.a.length;){var h=r.a[s];uo(r.b,h)&&(r.a[c++]=h),s++}r.a.length=c}if(r.c!=r.a.length){var g={};for(c=s=0;s<r.a.length;)h=r.a[s],uo(g,h)||(r.a[c++]=h,g[h]=1),s++;r.a.length=c}}e.get=function(r,s){return uo(this.b,r)?this.b[r]:s},e.set=function(r,s){uo(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},e.forEach=function(r,s){for(var c=this.Y(),h=0;h<c.length;h++){var g=c[h],y=this.get(g);r.call(s,y,g,this)}};function uo(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var jw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tR(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),g=null;if(0<=h){var y=r[c].substring(0,h);g=r[c].substring(h+1)}else y=r[c];s(y,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function _i(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof _i?(this.i=s!==void 0?s:r.i,Vu(this,r.c),this.l=r.l,this.a=r.a,qu(this,r.g),this.f=r.f,Ed(this,$w(r.b)),this.h=r.h):r&&(c=String(r).match(jw))?(this.i=!!s,Vu(this,c[1]||"",!0),this.l=Bu(c[2]||""),this.a=Bu(c[3]||"",!0),qu(this,c[4]),this.f=Bu(c[5]||"",!0),Ed(this,c[6]||"",!0),this.h=Bu(c[7]||"")):(this.i=!!s,this.b=new ao(null,this.i))}_i.prototype.toString=function(){var r=[],s=this.c;s&&r.push($u(s,Vw,!0),":");var c=this.a;return(c||s=="file")&&(r.push("//"),(s=this.l)&&r.push($u(s,Vw,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push($u(c,c.charAt(0)=="/"?iR:rR,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",$u(c,sR)),r.join("")},_i.prototype.resolve=function(r){var s=new _i(this),c=!!r.c;c?Vu(s,r.c):c=!!r.l,c?s.l=r.l:c=!!r.a,c?s.a=r.a:c=r.g!=null;var h=r.f;if(c)qu(s,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var g=s.f.lastIndexOf("/");g!=-1&&(h=s.f.substr(0,g+1)+h)}if(g=h,g==".."||g==".")h="";else if(Ee(g,"./")||Ee(g,"/.")){h=g.lastIndexOf("/",0)==0,g=g.split("/");for(var y=[],w=0;w<g.length;){var E=g[w++];E=="."?h&&w==g.length&&y.push(""):E==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),h&&w==g.length&&y.push("")):(y.push(E),h=!0)}h=y.join("/")}else h=g}return c?s.f=h:c=r.b.toString()!=="",c?Ed(s,$w(r.b)):c=!!r.h,c&&(s.h=r.h),s};function Vu(r,s,c){r.c=c?Bu(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function qu(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function Ed(r,s,c){s instanceof ao?(r.b=s,uR(r.b,r.i)):(c||(s=$u(s,oR)),r.b=new ao(s,r.i))}function Dt(r,s,c){r.b.set(s,c)}function sr(r,s){return r.b.get(s)}function Dn(r){return r instanceof _i?new _i(r):new _i(r,void 0)}function Wc(r,s,c,h){var g=new _i(null,void 0);return r&&Vu(g,r),s&&(g.a=s),c&&qu(g,c),h&&(g.f=h),g}function Bu(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function $u(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,nR),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function nR(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Vw=/[#\/\?@]/g,rR=/[#\?:]/g,iR=/[#\?]/g,oR=/[#\?@]/g,sR=/#/g;function ao(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function Ei(r){r.a||(r.a=new ds,r.b=0,r.c&&tR(r.c,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function qw(r){var s=Uw(r);if(typeof s>"u")throw Error("Keys are undefined");var c=new ao(null,void 0);r=Fw(r);for(var h=0;h<s.length;h++){var g=s[h],y=r[h];Array.isArray(y)?Bw(c,g,y):c.add(g,y)}return c}e=ao.prototype,e.add=function(r,s){Ei(this),this.c=null,r=ps(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(s),this.b+=1,this};function Lr(r,s){Ei(r),s=ps(r,s),uo(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,uo(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&_d(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function Id(r,s){return Ei(r),s=ps(r,s),uo(r.a.b,s)}e.forEach=function(r,s){Ei(this),this.a.forEach(function(c,h){B(c,function(g){r.call(s,g,h,this)},this)},this)},e.Y=function(){Ei(this);for(var r=this.a.X(),s=this.a.Y(),c=[],h=0;h<s.length;h++)for(var g=r[h],y=0;y<g.length;y++)c.push(s[h]);return c},e.X=function(r){Ei(this);var s=[];if(typeof r=="string")Id(this,r)&&(s=G(s,this.a.get(ps(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)s=G(s,r[c])}return s},e.set=function(r,s){return Ei(this),this.c=null,r=ps(this,r),Id(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},e.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function Bw(r,s,c){Lr(r,s),0<c.length&&(r.c=null,r.a.set(ps(r,s),ne(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),c=0;c<s.length;c++){var h=s[c],g=encodeURIComponent(String(h));h=this.X(h);for(var y=0;y<h.length;y++){var w=g;h[y]!==""&&(w+="="+encodeURIComponent(String(h[y]))),r.push(w)}}return this.c=r.join("&")};function $w(r){var s=new ao;return s.c=r.c,r.a&&(s.a=new ds(r.a),s.b=r.b),s}function ps(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function uR(r,s){s&&!r.f&&(Ei(r),r.c=null,r.a.forEach(function(c,h){var g=h.toLowerCase();h!=g&&(Lr(this,h),Bw(this,g,c))},r)),r.f=s}function Hw(r){var s=[];return Td(new aR,r,s),s.join("")}function aR(){}function Td(r,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,c.push("[");for(var g="",y=0;y<s;y++)c.push(g),Td(r,h[y],c),g=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),g="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(y=s[h],typeof y!="function"&&(c.push(g),zw(h,c),c.push(":"),Td(r,y,c),g=","));c.push("}");return}}switch(typeof s){case"string":zw(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var Kw={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},cR=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function zw(r,s){s.push('"',r.replace(cR,function(c){var h=Kw[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),Kw[c]=h),h}),'"')}function Sd(){var r=tn();return mr&&!!bi&&bi==11||/Edge\/\d+/.test(r)}function Hu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Gw(r,s){s=s||f.window;var c="about:blank";r&&(c=Uc(tw(r)||rw)),s.location.href=c}function Ww(r,s){var c=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<Ww(r[h],s[h]).length&&c.push(h):r[h]!==s[h]&&c.push(h):c.push(h);for(h in s)h in r||c.push(h);return c}function lR(){var r=tn();return r=gs(r)!=Jw?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!mr||!bi||9<bi}function Xw(r){return r=(r||tn()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function co(r){r=r||f.window;try{r.close()}catch{}}function Qw(r,s,c){var h=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var g=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<g?g:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=tn().toLowerCase(),h&&(s.target=h,Ee(c,"crios/")&&(s.target="_blank")),gs(tn())==Cd&&(r=r||"http://localhost",s.scrollbars=!0),c=r||"",(r=s)||(r={}),h=window,s=c instanceof On?c:tw(typeof c.href<"u"?c.href:String(c))||rw,c=r.target||c.target,g=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":g.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(w+"="+(r[w]?1:0))}var w=g.join(",");if((Z("iPhone")&&!Z("iPod")&&!Z("iPad")||Z("iPad")||Z("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=Vc(document,"A"),en(w,"HTMLAnchorElement"),s=s instanceof On?s:nw(s),w.href=Uc(s),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=ow("",h,c,w),r=Uc(s),w&&(DC&&Ee(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+nd(r)+'">',r=(h=Lu())?h.createHTML(r):r,r=new ls(r,null,iw),h=w.document)&&(h.write(NC(r)),h.close())):(w=ow(s,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function fR(r){return new $e(function(s){function c(){hs(2e3).then(function(){if(!r||r.closed)s();else return c()})}return c()})}var hR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dR=/^[^@]+@[^@]+$/;function Xc(){var r=null;return new $e(function(s){f.document.readyState=="complete"?s():(r=function(){s()},md(window,"load",r))}).o(function(s){throw Gn(window,"load",r),s})}function pR(){return Ad(void 0)?Xc().then(function(){return new $e(function(r,s){var c=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):_t(Error("Cordova must run in an Android or iOS file scheme."))}function Ad(r){return r=r||tn(),!(vs()!=="file:"&&vs()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function kd(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function vr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Mr(){return Ce.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ce.INTERNAL.hasOwnProperty("node")?"Node":vr()?"Worker":"Browser"}function Yw(){var r=Mr();return r==="ReactNative"||r==="Node"}function gR(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var Cd="Firefox",Jw="Chrome";function gs(r){var s=r.toLowerCase();if(Ee(s,"opera/")||Ee(s,"opr/")||Ee(s,"opios/"))return"Opera";if(Ee(s,"iemobile"))return"IEMobile";if(Ee(s,"msie")||Ee(s,"trident/"))return"IE";if(Ee(s,"edge/"))return"Edge";if(Ee(s,"firefox/"))return Cd;if(Ee(s,"silk/"))return"Silk";if(Ee(s,"blackberry"))return"Blackberry";if(Ee(s,"webos"))return"Webos";if(!Ee(s,"safari/")||Ee(s,"chrome/")||Ee(s,"crios/")||Ee(s,"android"))if(!Ee(s,"chrome/")&&!Ee(s,"crios/")||Ee(s,"edge/")){if(Ee(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return Jw;else return"Safari";return"Other"}var Zw={md:"FirebaseCore-web",od:"FirebaseUI-web"};function ms(r,s){s=s||[];var c=[],h={},g;for(g in Zw)h[Zw[g]]=!0;for(g=0;g<s.length;g++)typeof h[s[g]]<"u"&&(delete h[s[g]],c.push(s[g]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=Mr(),c==="Browser"?(h=tn(),c=gs(h)):c==="Worker"&&(h=tn(),c=gs(h)+"-"+c),c+"/JsCore/"+r+"/"+s.join(",")}function tn(){return f.navigator&&f.navigator.userAgent||""}function Et(r,s){r=r.split("."),s=s||f;for(var c=0;c<r.length&&typeof s=="object"&&s!=null;c++)s=s[r[c]];return c!=r.length&&(s=void 0),s}function Rd(){try{var r=f.localStorage,s=fo();if(r)return r.setItem(s,"1"),r.removeItem(s),Sd()?!!f.indexedDB:!0}catch{return vr()&&!!f.indexedDB}return!1}function lo(){return(Qc()||vs()==="chrome-extension:"||Ad())&&!Yw()&&Rd()&&!vr()}function Qc(){return vs()==="http:"||vs()==="https:"}function vs(){return f.location&&f.location.protocol||null}function Ku(r){return r=r||tn(),!(Xw(r)||gs(r)==Cd)}function zu(r){return typeof r>"u"?null:Hw(r)}function eb(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(s[c]=r[c]);return s}function ys(r){if(r!==null)return JSON.parse(r)}function fo(r){return r||Math.floor(1e9*Math.random()).toString()}function tb(r){return r=r||tn(),!(gs(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function nb(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function Ii(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=tn(),s=Mr(),this.b=Xw(r)||s==="ReactNative"}Ii.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Qc()||vs()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Nd(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function mR(){var r=f.document,s=null;return Nd()||!r?Ie():new $e(function(c){s=function(){Nd()&&(r.removeEventListener("visibilitychange",s,!1),c())},r.addEventListener("visibilitychange",s,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",s,!1),c})}function Gu(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function rb(){return!(!Et("fireauth.oauthhelper",f)&&!Et("fireauth.iframe",f))}function vR(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function yR(){var r=f.navigator;return r&&r.serviceWorker?Ie().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):Ie(null)}var ib={};function xd(r){ib[r]||(ib[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Od;try{var Pd={};Object.defineProperty(Pd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Pd,"abcd",{configurable:!0,enumerable:!0,value:2}),Od=Pd.abcd==2}catch{Od=!1}function de(r,s,c){Od?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}):r[s]=c}function bn(r,s){if(s)for(var c in s)s.hasOwnProperty(c)&&de(r,c,s[c])}function Fr(r){var s={};return bn(s,r),s}function wR(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);return s}function bR(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var c=0;c<s.length;c++){var h=r[s[c]];if(h==null||h==="")return!1}return!0}function Dd(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var c in r)de(s,c,Dd(r[c]))}return s}function Ld(r){var s=r&&(r[jd]?"phone":null);if(s&&r&&r[Ud]){de(this,"uid",r[Ud]),de(this,"displayName",r[ob]||null);var c=null;r[Fd]&&(c=new Date(r[Fd]).toUTCString()),de(this,"enrollmentTime",c),de(this,"factorId",s)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}Ld.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Md(r){try{var s=new Wu(r)}catch{s=null}return s}var ob="displayName",Fd="enrolledAt",Ud="mfaEnrollmentId",jd="phoneInfo";function Wu(r){Ld.call(this,r),de(this,"phoneNumber",r[jd])}z(Wu,Ld),Wu.prototype.w=function(){var r=Wu.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function _R(r){var s={},c=r[ER],h=r[TR],g=r[SR];if(r=Md(r[IR]),!g||g!=Yc&&g!=Xu&&!c||g==Xu&&!h||g==Vd&&!r)throw Error("Invalid checkActionCode response!");g==Xu?(s[ub]=c||null,s[ab]=c||null,s[sb]=h):(s[ub]=h||null,s[ab]=h||null,s[sb]=c||null),s[AR]=r||null,de(this,CR,g),de(this,kR,Dd(s))}var Vd="REVERT_SECOND_FACTOR_ADDITION",Yc="EMAIL_SIGNIN",Xu="VERIFY_AND_CHANGE_EMAIL",ER="email",IR="mfaInfo",TR="newEmail",SR="requestType",sb="email",ub="fromEmail",AR="multiFactorInfo",ab="previousEmail",kR="data",CR="operation";function qd(r){r=Dn(r);var s=sr(r,cb)||null,c=sr(r,lb)||null,h=sr(r,fb)||null;if(h=h&&OR[h]||null,!s||!c||!h)throw new k("argument-error",cb+", "+lb+"and "+fb+" are required in a valid action code URL.");bn(this,{apiKey:s,operation:h,code:c,continueUrl:sr(r,RR)||null,languageCode:sr(r,NR)||null,tenantId:sr(r,xR)||null})}var cb="apiKey",lb="oobCode",RR="continueUrl",NR="languageCode",fb="mode",xR="tenantId",OR={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Vd,signIn:Yc,verifyAndChangeEmail:Xu,verifyEmail:"VERIFY_EMAIL"};function hb(r){try{return new qd(r)}catch{return null}}function Jc(r){var s=r[PR];if(typeof s>"u")throw new k("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new k("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=r[db];if(c&&typeof c=="object"){s=c[yb];var h=c[mb];if(c=c[vb],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new k("argument-error",mb+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new k("argument-error",vb+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new k("argument-error",yb+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new k("missing-android-pkg-name")}}else if(typeof c<"u")throw new k("argument-error",db+" property must be a non null object when specified.");if(this.f=null,(s=r[gb])&&typeof s=="object"){if(s=s[wb],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new k("argument-error",wb+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new k("argument-error",gb+" property must be a non null object when specified.");if(s=r[Bd],typeof s<"u"&&typeof s!="boolean")throw new k("argument-error",Bd+" property must be a boolean when specified.");if(this.c=!!s,r=r[pb],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new k("argument-error",pb+" property must be a non empty string when specified.");this.i=r||null}var db="android",pb="dynamicLinkDomain",Bd="handleCodeInApp",gb="iOS",PR="url",mb="installApp",vb="minimumVersion",yb="packageName",wb="bundleId";function Zc(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var c in s)s[c]===null&&delete s[c];return s}function DR(r){return xe(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var Qu=null;function LR(r){var s=[];return MR(r,function(c){s.push(c)}),s}function MR(r,s){function c(M){for(;h<r.length;){var W=r.charAt(h++),Pe=Qu[W];if(Pe!=null)return Pe;if(!/^[\s\xa0]*$/.test(W))throw Error("Unknown base64 encoding at char: "+W)}return M}FR();for(var h=0;;){var g=c(-1),y=c(0),w=c(64),E=c(64);if(E===64&&g===-1)break;s(g<<2|y>>4),w!=64&&(s(y<<4&240|w>>2),E!=64&&s(w<<6&192|E))}}function FR(){if(!Qu){Qu={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(s[c].split("")),g=0;g<h.length;g++){var y=h[g];Qu[y]===void 0&&(Qu[y]=g)}}}function el(r){var s=bb(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}el.prototype.T=function(){return this.f},el.prototype.l=function(){return this.c},el.prototype.toString=function(){return this.h};function tl(r){try{return new el(r)}catch{return null}}function bb(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,c=0;c<s;c++)r+=".";try{var h=LR(r);for(r=[],c=s=0;s<h.length;){var g=h[s++];if(128>g)r[c++]=String.fromCharCode(g);else if(191<g&&224>g){var y=h[s++];r[c++]=String.fromCharCode((g&31)<<6|y&63)}else if(239<g&&365>g){y=h[s++];var w=h[s++],E=h[s++],M=((g&7)<<18|(y&63)<<12|(w&63)<<6|E&63)-65536;r[c++]=String.fromCharCode(55296+(M>>10)),r[c++]=String.fromCharCode(56320+(M&1023))}else y=h[s++],w=h[s++],r[c++]=String.fromCharCode((g&15)<<12|(y&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var _b="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),nl=["client_id","response_type","scope","redirect_uri","state"],$d={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:nl},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:nl},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:nl},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:_b},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Hd(r){for(var s in $d)if($d[s].fa==r)return $d[s];return null}function Eb(r){var s={};s["facebook.com"]=Tb,s["google.com"]=Ab,s["github.com"]=Sb,s["twitter.com"]=kb;var c=r&&r[Ib];try{if(c)return s[c]?new s[c](r):new Ur(r);if(typeof r[Kd]<"u")return new zd(r)}catch{}return null}var Kd="idToken",Ib="providerId";function zd(r){var s=r[Ib];if(!s&&r[Kd]){var c=tl(r[Kd]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),de(this,"providerId",s),de(this,"isNewUser",c)}function Ur(r){zd.call(this,r),r=ys(r.rawUserInfo||"{}"),de(this,"profile",Dd(r||{}))}z(Ur,zd);function Tb(r){if(Ur.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}z(Tb,Ur);function Sb(r){if(Ur.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");de(this,"username",this.profile&&this.profile.login||null)}z(Sb,Ur);function Ab(r){if(Ur.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}z(Ab,Ur);function kb(r){if(Ur.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");de(this,"username",r.screenName||null)}z(kb,Ur);function Cb(r){var s=Dn(r),c=sr(s,"link"),h=sr(Dn(c),"link");return s=sr(s,"deep_link_id"),sr(Dn(s),"link")||s||h||c||r}function rl(r,s){if(!r&&!s)throw new k("internal-error","Internal assert: no raw session string available");if(r&&s)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?Yu:il}var Yu="enroll",il="signin";rl.prototype.Ha=function(){return this.a?Ie(this.a):Ie(this.b)},rl.prototype.w=function(){return this.type==Yu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ws(){}ws.prototype.ka=function(){},ws.prototype.b=function(){},ws.prototype.c=function(){},ws.prototype.w=function(){};function bs(r,s){return r.then(function(c){if(c[br]){var h=tl(c[br]);if(!h||s!=h.i)throw new k("user-mismatch");return c}throw new k("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==st+"user-not-found"?new k("user-mismatch"):c})}function ho(r,s){if(s)this.a=s;else throw new k("internal-error","failed to construct a credential");de(this,"providerId",r),de(this,"signInMethod",r)}ho.prototype.ka=function(r){return mp(r,Gd(this))},ho.prototype.b=function(r,s){var c=Gd(this);return c.idToken=s,vp(r,c)},ho.prototype.c=function(r,s){return bs(yp(r,Gd(this)),s)};function Gd(r){return{pendingToken:r.a,requestUri:"http://localhost"}}ho.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function UR(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new ho(r.providerId,r.pendingToken)}catch{}return null}function ti(r,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&de(this,"idToken",s.idToken),s.accessToken&&de(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&de(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)de(this,"accessToken",s.oauthToken),de(this,"secret",s.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");de(this,"providerId",r),de(this,"signInMethod",c)}ti.prototype.ka=function(r){return mp(r,Wd(this))},ti.prototype.b=function(r,s){var c=Wd(this);return c.idToken=s,vp(r,c)},ti.prototype.c=function(r,s){var c=Wd(this);return bs(yp(r,c),s)};function Wd(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:qw(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}ti.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function jR(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new ti(r.providerId,s,r.signInMethod)}catch{}}return null}function po(r,s){this.Qc=s||[],bn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(Hd(r)||{}).Ja||null,this.pb=null}po.prototype.Ka=function(r){return this.Jb=Ae(r),this};function Rb(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');po.call(this,r,[])}z(Rb,po);function Wn(r){po.call(this,r,nl),this.a=[]}z(Wn,po),Wn.prototype.Ca=function(r){return R(this.a,r)||this.a.push(r),this},Wn.prototype.Rb=function(){return ne(this.a)},Wn.prototype.credential=function(r,s){var c;if(S(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new ti(this.providerId,c,this.providerId)};function go(){Wn.call(this,"facebook.com")}z(go,Wn),de(go,"PROVIDER_ID","facebook.com"),de(go,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function Nb(r){if(!r)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return S(r)&&(s=r.accessToken),new go().credential({accessToken:s})}function mo(){Wn.call(this,"github.com")}z(mo,Wn),de(mo,"PROVIDER_ID","github.com"),de(mo,"GITHUB_SIGN_IN_METHOD","github.com");function xb(r){if(!r)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return S(r)&&(s=r.accessToken),new mo().credential({accessToken:s})}function vo(){Wn.call(this,"google.com"),this.Ca("profile")}z(vo,Wn),de(vo,"PROVIDER_ID","google.com"),de(vo,"GOOGLE_SIGN_IN_METHOD","google.com");function Ob(r,s){var c=r;return S(r)&&(c=r.idToken,s=r.accessToken),new vo().credential({idToken:c,accessToken:s})}function _s(){po.call(this,"twitter.com",_b)}z(_s,po),de(_s,"PROVIDER_ID","twitter.com"),de(_s,"TWITTER_SIGN_IN_METHOD","twitter.com");function Pb(r,s){var c=r;if(S(c)||(c={oauthToken:r,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ti("twitter.com",c,"twitter.com")}function Ti(r,s,c){this.a=r,this.f=s,de(this,"providerId","password"),de(this,"signInMethod",c===ur.EMAIL_LINK_SIGN_IN_METHOD?ur.EMAIL_LINK_SIGN_IN_METHOD:ur.EMAIL_PASSWORD_SIGN_IN_METHOD)}Ti.prototype.ka=function(r){return this.signInMethod==ur.EMAIL_LINK_SIGN_IN_METHOD?He(r,IN,{email:this.a,oobCode:this.f}):He(r,u0,{email:this.a,password:this.f})},Ti.prototype.b=function(r,s){return this.signInMethod==ur.EMAIL_LINK_SIGN_IN_METHOD?He(r,TN,{idToken:s,email:this.a,oobCode:this.f}):He(r,s0,{idToken:s,email:this.a,password:this.f})},Ti.prototype.c=function(r,s){return bs(this.ka(r),s)},Ti.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function VR(r){return r&&r.email&&r.password?new Ti(r.email,r.password,r.signInMethod):null}function ur(){bn(this,{providerId:"password",isOAuthProvider:!1})}function Db(r,s){if(s=Xd(s),!s)throw new k("argument-error","Invalid email link!");return new Ti(r,s.code,ur.EMAIL_LINK_SIGN_IN_METHOD)}function Xd(r){return r=Cb(r),(r=hb(r))&&r.operation===Yc?r:null}bn(ur,{PROVIDER_ID:"password"}),bn(ur,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),bn(ur,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Si(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new k("internal-error");this.a=r,de(this,"providerId","phone"),this.fa="phone",de(this,"signInMethod","phone")}Si.prototype.ka=function(r){return r.gb(Ju(this))},Si.prototype.b=function(r,s){var c=Ju(this);return c.idToken=s,He(r,HN,c)},Si.prototype.c=function(r,s){var c=Ju(this);return c.operation="REAUTH",r=He(r,KN,c),bs(r,s)},Si.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function qR(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(s[c]=r[c])}),new Si(s)}return null}function Ju(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function ni(r){try{this.a=r||Ce.auth()}catch{throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}bn(this,{providerId:"phone",isOAuthProvider:!1})}ni.prototype.gb=function(r,s){var c=this.a.a;return Ie(s.verify()).then(function(h){if(typeof h!="string")throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var g=S(r)?r.session:null,y=S(r)?r.phoneNumber:r,w;return g&&g.type==Yu?w=g.Ha().then(function(E){return pN(c,{idToken:E,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:h}})}):g&&g.type==il?w=g.Ha().then(function(E){return gN(c,{mfaPendingCredential:E,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=dN(c,{phoneNumber:y,recaptchaToken:h}),w.then(function(E){return typeof s.reset=="function"&&s.reset(),E},function(E){throw typeof s.reset=="function"&&s.reset(),E});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Lb(r,s){if(!r)throw new k("missing-verification-id");if(!s)throw new k("missing-verification-code");return new Si({fb:r,eb:s})}bn(ni,{PROVIDER_ID:"phone"}),bn(ni,{PHONE_SIGN_IN_METHOD:"phone"});function Qd(r){if(r.temporaryProof&&r.phoneNumber)return new Si({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,g=r&&r.nonce,y=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(s){case"google.com":return Ob(y,c);case"facebook.com":return Nb(c);case"github.com":return xb(c);case"twitter.com":return Pb(c,h);default:return c||h||y||w?w?s.indexOf("saml.")==0?new ho(s,w):new ti(s,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new Wn(s).credential({idToken:y,accessToken:c,rawNonce:g}):null}}catch{return null}}function Yd(r){if(!r.isOAuthProvider)throw new k("invalid-oauth-provider")}function yr(r,s,c,h,g,y,w){if(this.c=r,this.b=s||null,this.g=c||null,this.f=h||null,this.i=y||null,this.h=w||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}yr.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},yr.prototype.T=function(){return this.h},yr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Mb(r){return r=r||{},r.type?new yr(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&Xe(r.error),r.postBody,r.tenantId):null}function BR(){this.b=null,this.a=[]}var Jd=null;function $R(r){var s=Jd;s.a.push(r),s.b||(s.b=function(c){for(var h=0;h<s.a.length;h++)s.a[h](c)},r=Et("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function Zd(r){var s="unauthorized-domain",c=void 0,h=Dn(r);r=h.a,h=h.c,h=="chrome-extension"?c=sw("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=sw("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",k.call(this,s,c)}z(Zd,k);function Zu(r,s,c){k.call(this,r,c),r=s||{},r.Kb&&de(this,"email",r.Kb),r.ea&&de(this,"phoneNumber",r.ea),r.credential&&de(this,"credential",r.credential),r.$b&&de(this,"tenantId",r.$b)}z(Zu,k),Zu.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&qe(r,s),r},Zu.prototype.toJSON=function(){return this.w()};function ol(r){if(r.code){var s=r.code||"";s.indexOf(st)==0&&(s=s.substring(st.length));var c={credential:Qd(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new k(s,r.message||void 0);return new Zu(s,c,r.message)}return null}function ea(){}ea.prototype.c=null;function Fb(r){return r.c||(r.c=r.b())}var ep;function sl(){}z(sl,ea),sl.prototype.a=function(){var r=Ub(this);return r?new ActiveXObject(r):new XMLHttpRequest},sl.prototype.b=function(){var r={};return Ub(this)&&(r[0]=!0,r[1]=!0),r};function Ub(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var h=s[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}ep=new sl;function ul(){}z(ul,ea),ul.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new jb;throw Error("Unsupported browser")},ul.prototype.b=function(){return{}};function jb(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=U(this.qc,this),this.a.onerror=U(this.Tb,this),this.a.onprogress=U(this.rc,this),this.a.ontimeout=U(this.vc,this)}e=jb.prototype,e.open=function(r,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,s)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,tp(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",tp(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,tp(this,1)};function tp(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function np(r,s,c){this.reset(r,s,c,void 0,void 0)}np.prototype.a=null,np.prototype.reset=function(r,s,c,h,g){delete this.a};function rp(r){this.f=r,this.b=this.c=this.a=null}function ta(r,s){this.name=r,this.value=s}ta.prototype.toString=function(){return this.name};var Vb=new ta("SEVERE",1e3),ip=new ta("WARNING",900),HR=new ta("CONFIG",700),KR=new ta("FINE",500);function qb(r){return r.c?r.c:r.a?qb(r.a):(Pt("Root logger has no level set."),null)}rp.prototype.log=function(r,s,c){if(r.value>=qb(this).value)for(T(s)&&(s=s()),r=new np(r,String(s),this.f),c&&(r.a=c),c=this;c;)c=c.a};var op={},al=null;function sp(r){al||(al=new rp(""),op[""]=al,al.c=HR);var s;if(!(s=op[r])){s=new rp(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=sp(r.substr(0,c)),c.b||(c.b={}),c.b[h]=s,s.a=c,op[r]=s}return s}function ar(r,s){r&&r.log(KR,s,void 0)}function cl(r){this.f=r}z(cl,ea),cl.prototype.a=function(){return new ll(this.f)},cl.prototype.b=function(r){return function(){return r}}({});function ll(r){wn.call(this),this.u=r,this.h=void 0,this.readyState=up,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=sp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}z(ll,wn);var up=0;e=ll.prototype,e.open=function(r,s){if(this.readyState!=up)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,ra(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,na(this)),this.readyState=up},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,ra(this)),this.a&&(this.readyState=3,ra(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,Bb(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Bb(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?na(this):ra(this),this.readyState==3&&Bb(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,na(this))},e.sc=function(r){this.a&&(this.response=r,na(this))},e.Va=function(r){var s=this.i;s&&s.log(ip,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&na(this)};function na(r){r.readyState=4,r.g=null,r.c=null,r.m=null,ra(r)}e.setRequestHeader=function(r,s){this.l.append(r,s)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(ip,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(ip,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function ra(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(ll.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function ia(r){wn.call(this),this.headers=new ds,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=$b,this.u=this.S=!1}z(ia,wn);var $b="";ia.prototype.b=sp("goog.net.XhrIo");var zR=/^https?$/i,GR=["POST","PUT"];function WR(r,s,c,h,g){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);c=c?c.toUpperCase():"GET",r.l=s,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():ep.a(),r.C=r.D?Fb(r.D):Fb(ep),r.a.onreadystatechange=U(r.Wb,r);try{ar(r.b,ri(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(s),!0),r.N=!1}catch(w){ar(r.b,ri(r,"Error opening Xhr: "+w.message)),Hb(r,w);return}s=h||"";var y=new ds(r.headers);g&&eR(g,function(w,E){y.set(E,w)}),g=A(y.Y()),h=f.FormData&&s instanceof f.FormData,!R(GR,c)||g||h||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(w,E){this.a.setRequestHeader(E,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{Gb(r),0<r.g&&(r.u=XR(r.a),ar(r.b,ri(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=U(r.Ma,r)):r.s=bd(r.Ma,r.g,r)),ar(r.b,ri(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(w){ar(r.b,ri(r,"Send error: "+w.message)),Hb(r,w)}}function XR(r){return mr&&lw(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function QR(r){return r.toLowerCase()=="content-type"}e=ia.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ar(this.b,ri(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Hb(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,Kb(r),fl(r)}function Kb(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(ar(this.b,ri(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),fl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),fl(this,!0)),ia.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?zb(this):this.Jc())},e.Jc=function(){zb(this)};function zb(r){if(r.c&&typeof l<"u"){if(r.C[1]&&oa(r)==4&&hl(r)==2)ar(r.b,ri(r,"Local request error detected and ignored"));else if(r.i&&oa(r)==4)bd(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),oa(r)==4){ar(r.b,ri(r,"Request complete")),r.c=!1;try{var s=hl(r);e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var h;if(!(h=c)){var g;if(g=s===0){var y=String(r.l).match(jw)[1]||null;if(!y&&f.self&&f.self.location){var w=f.self.location.protocol;y=w.substr(0,w.length-1)}g=!zR.test(y?y.toLowerCase():"")}h=g}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var E=2<oa(r)?r.a.statusText:""}catch(M){ar(r.b,"Can not get status: "+M.message),E=""}r.h=E+" ["+hl(r)+"]",Kb(r)}}finally{fl(r)}}}}function fl(r,s){if(r.a){Gb(r);var c=r.a,h=r.C[0]?v:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(g){(r=r.b)&&r.log(Vb,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function Gb(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function oa(r){return r.a?r.a.readyState:0}function hl(r){try{return 2<oa(r)?r.a.status:-1}catch{return-1}}function YR(r){try{return r.a?r.a.responseText:""}catch(s){return ar(r.b,"Can not get responseText: "+s.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case $b:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(Vb,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return ar(this.b,"Can not get response: "+s.message),null}};function ri(r,s){return s+" ["+r.P+" "+r.l+" "+hl(r)+"]"}function yo(r){var s=eN;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}yo.prototype.cancel=function(r){if(this.a)this.c instanceof yo&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new ua,dl(this),sa(this,!1,r))}},yo.prototype.m=function(r,s){this.i=!1,sa(this,r,s)};function sa(r,s,c){r.a=!0,r.c=c,r.f=!s,Xb(r)}function dl(r){if(r.a){if(!r.v)throw new pl;r.v=!1}}function JR(r,s){ap(r,null,s,void 0)}function ap(r,s,c,h){r.g.push([s,c,h]),r.a&&Xb(r)}yo.prototype.then=function(r,s,c){var h,g,y=new $e(function(w,E){h=w,g=E});return ap(this,h,function(w){w instanceof ua?y.cancel():g(w)}),y.then(r,s,c)},yo.prototype.$goog_Thenable=!0;function Wb(r){return I(r.g,function(s){return T(s[1])})}function Xb(r){if(r.h&&r.a&&Wb(r)){var s=r.h,c=gl[s];c&&(f.clearTimeout(c.a),delete gl[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=c=!1;r.g.length&&!r.i;){var g=r.g.shift(),y=g[0],w=g[1];if(g=g[2],y=r.f?w:y)try{var E=y.call(g||r.s,s);E!==void 0&&(r.f=r.f&&(E==s||E instanceof Error),r.c=s=E),(De(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(M){s=M,r.f=!0,Wb(r)||(c=!0)}}r.c=s,h&&(E=U(r.m,r,!0),h=U(r.m,r,!1),s instanceof yo?(ap(s,E,h),s.C=!0):s.then(E,h)),c&&(s=new Qb(s),gl[s.a]=s,r.h=s.a)}function pl(){_e.call(this)}z(pl,_e),pl.prototype.message="Deferred has already fired",pl.prototype.name="AlreadyCalledError";function ua(){_e.call(this)}z(ua,_e),ua.prototype.message="Deferred was canceled",ua.prototype.name="CanceledError";function Qb(r){this.a=f.setTimeout(U(this.c,this),0),this.b=r}Qb.prototype.c=function(){throw delete gl[this.a],this.b};var gl={};function cp(r){var s={},c=s.document||document,h=cs(r).toString(),g=Vc(document,"SCRIPT"),y={Xb:g,Ma:void 0},w=new yo(y),E=null,M=s.timeout!=null?s.timeout:5e3;return 0<M&&(E=window.setTimeout(function(){ml(g,!0);var W=new lp(nN,"Timeout reached for loading script "+h);dl(w),sa(w,!1,W)},M),y.Ma=E),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(ml(g,s.xd||!1,E),dl(w),sa(w,!0,null))},g.onerror=function(){ml(g,!0,E);var W=new lp(tN,"Error while loading script "+h);dl(w),sa(w,!1,W)},y=s.attributes||{},qe(y,{type:"text/javascript",charset:"UTF-8"}),hw(g,y),xC(g,r),ZR(c).appendChild(g),w}function ZR(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function eN(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&ml(r,!0,this.Ma)}}function ml(r,s,c){c!=null&&f.clearTimeout(c),r.onload=v,r.onerror=v,r.onreadystatechange=v,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var tN=0,nN=1;function lp(r,s){var c="Jsloader error (code #"+r+")";s&&(c+=": "+s),_e.call(this,c),this.code=r}z(lp,_e);function vl(r){this.f=r}z(vl,ea),vl.prototype.a=function(){return new this.f},vl.prototype.b=function(){return{}};function wr(r,s,c){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||rN,this.g=Ae(r.secureTokenHeaders||iN),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||oN,this.a=Ae(r.firebaseHeaders||sN),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Mr()=="Node",c=f.XMLHttpRequest||c&&Ce.INTERNAL.node&&Ce.INTERNAL.node.XMLHttpRequest,!c&&!vr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,vr()?this.f=new cl(self):Yw()?this.f=new vl(c):this.f=new ul,this.b=null}var fp,br="idToken",rN=new Ii(3e4,6e4),iN={"Content-Type":"application/x-www-form-urlencoded"},oN=new Ii(3e4,6e4),sN={"Content-Type":"application/json"};function Yb(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function yl(r,s){s&&(r.l=hp("https://securetoken.googleapis.com/v1/token",s),r.h=hp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=hp("https://identitytoolkit.googleapis.com/v2/",s))}function hp(r,s){return r=Dn(r),s=Dn(s.url),r.f=r.a+r.f,Vu(r,s.c),r.a=s.a,qu(r,s.g),r.toString()}function Jb(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}wr.prototype.T=function(){return this.b};function Zb(r,s,c,h,g,y,w){lR()||vr()?r=U(r.u,r):(fp||(fp=new $e(function(E,M){aN(E,M)})),r=U(r.s,r)),r(s,c,h,g,y,w)}wr.prototype.u=function(r,s,c,h,g,y){if(vr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new ia(this.f);if(y){w.g=Math.max(0,y);var E=setTimeout(function(){w.dispatchEvent("timeout")},y)}Mw(w,"complete",function(){E&&clearTimeout(E);var M=null;try{M=JSON.parse(YR(this))||null}catch{M=null}s&&s(M)}),wd(w,"ready",function(){E&&clearTimeout(E),Rw(this)}),wd(w,"timeout",function(){E&&clearTimeout(E),Rw(this),s&&s(null)}),WR(w,r,c,h,g)};var uN=new Be(Pr,"https://apis.google.com/js/client.js?onload=%{onload}"),e0="__fcb"+Math.floor(1e6*Math.random()).toString();function aN(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[e0]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var c=td(uN,{onload:e0});JR(cp(c),function(){s(Error("CORS_UNSUPPORTED"))})}}wr.prototype.s=function(r,s,c,h,g){var y=this;fp.then(function(){window.gapi.client.setApiKey(y.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:g,authType:"none",callback:function(E){window.gapi.auth.setToken(w),s&&s(E)}})}).o(function(w){s&&s({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function cN(r,s){return new $e(function(c,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?Zb(r,r.l+"?key="+encodeURIComponent(r.c),function(g){g?g.error?h(bp(g)):g.access_token&&g.refresh_token?c(g):h(new k("internal-error")):h(new k("network-request-failed"))},"POST",qw(s).toString(),r.g,r.m.get()):h(new k("internal-error"))})}function t0(r,s,c,h,g,y,w){var E=Dn(s+c);Dt(E,"key",r.c),w&&Dt(E,"cb",Date.now().toString());var M=h=="GET";if(M)for(var W in g)g.hasOwnProperty(W)&&Dt(E,W,g[W]);return new $e(function(Pe,ut){Zb(r,E.toString(),function(et){et?et.error?ut(bp(et,y||{})):Pe(et):ut(new k("network-request-failed"))},h,M?void 0:Hw(eb(g)),r.a,r.v.get())})}function wo(r){if(r=r.email,typeof r!="string"||!dR.test(r))throw new k("invalid-email")}function n0(r){"email"in r&&wo(r)}function lN(r,s){return He(r,bN,{identifier:s,continueUri:Qc()?Hu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function fN(r){return He(r,ON,{}).then(function(s){return s.authorizedDomains||[]})}function Ln(r){if(!r[br])throw r.mfaPendingCredential?new k("multi-factor-auth-required",null,Ae(r)):new k("internal-error")}function dp(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new k("internal-error")}else{if(!r.sessionInfo)throw new k("missing-verification-id");if(!r.code)throw new k("missing-verification-code")}}wr.prototype.Ab=function(){return He(this,MN,{})},wr.prototype.Cb=function(r,s){return He(this,o0,{idToken:r,email:s})},wr.prototype.Db=function(r,s){return He(this,s0,{idToken:r,password:s})};var hN={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=wr.prototype,e.Eb=function(r,s){var c={idToken:r},h=[];return Se(hN,function(g,y){var w=s[y];w===null?h.push(g):y in s&&(c[y]=w)}),h.length&&(c.deleteAttribute=h),He(this,o0,c)},e.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},qe(r,s),He(this,xN,r)},e.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},qe(r,s),He(this,CN,r)},e.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},qe(r,s),He(this,RN,r)},e.Fb=function(r,s,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},qe(r,c),He(this,NN,r)};function dN(r,s){return He(r,LN,s)}e.gb=function(r){return He(this,$N,r)};function pN(r,s){return He(r,FN,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function r0(r){if(!r.phoneVerificationInfo)throw new k("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new k("missing-verification-code")}function gN(r,s){return He(r,UN,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function mN(r,s,c){return He(r,EN,{idToken:s,deleteProvider:c})}function pp(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new k("internal-error")}function gp(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new ao(r.postBody),Id(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function i0(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=ol(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=ol(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=ol(r)):r.errorMessage&&(s=a0(r.errorMessage)),s)throw s;Ln(r)}function mp(r,s){return s.returnIdpCredential=!0,He(r,jN,s)}function vp(r,s){return s.returnIdpCredential=!0,He(r,qN,s)}function yp(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,He(r,VN,s)}function wp(r){if(!r.oobCode)throw new k("invalid-action-code")}e.ob=function(r,s){return He(this,DN,{oobCode:r,newPassword:s})},e.Sa=function(r){return He(this,yN,{oobCode:r})},e.kb=function(r){return He(this,vN,{oobCode:r})};var vN={endpoint:"setAccountInfo",A:wp,Z:"email",B:!0},yN={endpoint:"resetPassword",A:wp,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},B:!0},wN={endpoint:"signupNewUser",A:function(r){if(wo(r),!r.password)throw new k("weak-password")},G:Ln,V:!0,B:!0},bN={endpoint:"createAuthUri",B:!0},_N={endpoint:"deleteAccount",O:["idToken"]},EN={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new k("internal-error")}},IN={endpoint:"emailLinkSignin",O:["email","oobCode"],A:wo,G:Ln,V:!0,B:!0},TN={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:wo,G:Ln,V:!0},SN={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:r0,G:Ln,B:!0,Na:!0},AN={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:r0,G:Ln,B:!0,Na:!0},kN={endpoint:"getAccountInfo"},CN={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new k("internal-error");wo(r)},Z:"email",B:!0},RN={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new k("internal-error")},Z:"email",B:!0},NN={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},Z:"email",B:!0},xN={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new k("internal-error");wo(r)},Z:"email",B:!0},ON={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},PN={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new k("internal-error")}},DN={endpoint:"resetPassword",A:wp,Z:"email",B:!0},LN={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},o0={endpoint:"setAccountInfo",O:["idToken"],A:n0,V:!0},s0={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(n0(r),!r.password)throw new k("weak-password")},G:Ln,V:!0},MN={endpoint:"signupNewUser",G:Ln,V:!0,B:!0},FN={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new k("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},UN={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},jN={endpoint:"verifyAssertion",A:pp,Za:gp,G:i0,V:!0,B:!0},VN={endpoint:"verifyAssertion",A:pp,Za:gp,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new k("user-not-found");if(r.errorMessage)throw a0(r.errorMessage);Ln(r)},V:!0,B:!0},qN={endpoint:"verifyAssertion",A:function(r){if(pp(r),!r.idToken)throw new k("internal-error")},Za:gp,G:i0,V:!0},BN={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new k("invalid-custom-token")},G:Ln,V:!0,B:!0},u0={endpoint:"verifyPassword",A:function(r){if(wo(r),!r.password)throw new k("wrong-password")},G:Ln,V:!0,B:!0},$N={endpoint:"verifyPhoneNumber",A:dp,G:Ln,B:!0},HN={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new k("internal-error");dp(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",ol(r);Ln(r)}},KN={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:dp,G:Ln,B:!0},zN={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[br]^!!r.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function He(r,s,c){if(!bR(c,s.O))return _t(new k("internal-error"));var h=!!s.Na,g=s.Vb||"POST",y;return Ie(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?t0(r,r.i,s.endpoint,g,c,s.Ib,s.mb||!1):t0(r,r.h,s.endpoint,g,c,s.Ib,s.mb||!1)}).then(function(w){return y=w,s.Za?s.Za(c,y):y}).then(s.G).then(function(){if(!s.Z)return y;if(!(s.Z in y))throw new k("internal-error");return y[s.Z]})}function a0(r){return bp({error:{errors:[{message:r}],code:400,message:r}})}function bp(r,s){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new k(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},qe(h,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var g in h)if(c.indexOf(g)===0)return new k(h[g],s);return!s&&r&&(s=zu(r)),new k("internal-error",s)}function GN(r){this.b=r,this.a=null,this.sb=WN(this)}function WN(r){return ex().then(function(){return new $e(function(s,c){Et("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:Et("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function g(){clearTimeout(y),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},ZN.get());h.ping(g).then(g,function(){c(Error("Network Error"))})})})})}function XN(r,s){return r.sb.then(function(){return new $e(function(c){r.a.send(s.type,s,c,Et("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function QN(r,s){r.sb.then(function(){r.a.register("authEvent",s,Et("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var YN=new Be(Pr,"https://apis.google.com/js/api.js?onload=%{onload}"),JN=new Ii(3e4,6e4),ZN=new Ii(5e3,15e3),wl=null;function ex(){return wl||(wl=new $e(function(r,s){function c(){nb(),Et("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){nb(),s(Error("Network Error"))},timeout:JN.get()})}if(Et("gapi.iframes.Iframe"))r();else if(Et("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){Et("gapi.load")?c():s(Error("Network Error"))},h=td(YN,{onload:h}),Ie(cp(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw wl=null,r}))}function c0(r,s,c,h){this.l=r,this.h=s,this.i=c,this.g=h,this.f=null,this.g?(r=Dn(this.g.url),r=Wc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Wc("https",this.l,null,"/__/auth/iframe"),this.a=r,Dt(this.a,"apiKey",this.h),Dt(this.a,"appName",this.i),this.b=null,this.c=[]}c0.prototype.toString=function(){return this.f?Dt(this.a,"v",this.f):Lr(this.a.b,"v"),this.b?Dt(this.a,"eid",this.b):Lr(this.a.b,"eid"),this.c.length?Dt(this.a,"fw",this.c.join(",")):Lr(this.a.b,"fw"),this.a.toString()};function _p(r,s,c,h,g,y){this.u=r,this.s=s,this.c=c,this.m=h,this.v=y,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}_p.prototype.zb=function(r){return this.h=r,this},_p.prototype.toString=function(){if(this.v){var r=Dn(this.v.url);r=Wc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Wc("https",this.u,null,"/__/auth/handler");if(Dt(r,"apiKey",this.s),Dt(r,"appName",this.c),Dt(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=Ce.app(this.c).auth().la()}catch{c=null}s.pb=c,Dt(r,"providerId",this.a.providerId),c=this.a,s=eb(c.Jb);for(var h in s)s[h]=s[h].toString();h=c.Qc,s=Ae(s);for(var g=0;g<h.length;g++){var y=h[g];y in s&&delete s[y]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),pe(s)||Dt(r,"customParameters",zu(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Dt(r,"scopes",c.join(","))),this.l?Dt(r,"redirectUrl",this.l):Lr(r.b,"redirectUrl"),this.g?Dt(r,"eventId",this.g):Lr(r.b,"eventId"),this.i?Dt(r,"v",this.i):Lr(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!sr(r,w)&&Dt(r,w,this.b[w]);return this.h?Dt(r,"tid",this.h):Lr(r.b,"tid"),this.f?Dt(r,"eid",this.f):Lr(r.b,"eid"),w=Ep(this.c),w.length&&Dt(r,"fw",w.join(",")),r.toString()};function Ep(r){try{return Ce.app(r).auth().Ga()}catch{return[]}}function l0(r,s,c,h,g,y){this.s=r,this.g=s,this.b=c,this.f=y,this.c=h||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function f0(r){var s=Hu();return fN(r).then(function(c){e:{var h=Dn(s),g=h.c;h=h.a;for(var y=0;y<c.length;y++){var w=c[y],E=h,M=g;if(w.indexOf("chrome-extension://")==0?E=Dn(w).a==E&&M=="chrome-extension":M!="http"&&M!="https"?E=!1:hR.test(w)?E=E==w:(w=w.split(".").join("\\."),E=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(E)),E){c=!0;break e}}c=!1}if(!c)throw new Zd(Hu())})}function h0(r){return r.m||(r.m=Xc().then(function(){if(!r.u){var s=r.c,c=r.i,h=Ep(r.b),g=new c0(r.s,r.g,r.b,r.f);g.f=s,g.b=c,g.c=ne(h||[]),r.u=g.toString()}r.v=new GN(r.u),tx(r)})),r.m}e=l0.prototype,e.Pb=function(r,s,c){var h=new k("popup-closed-by-user"),g=new k("web-storage-unsupported"),y=this,w=!1;return this.ma().then(function(){nx(y).then(function(E){E||(r&&co(r),s(g),w=!0)})}).o(function(){}).then(function(){if(!w)return fR(r)}).then(function(){if(!w)return hs(c).then(function(){s(h)})})},e.Yb=function(){var r=tn();return!Ku(r)&&!tb(r)},e.Ub=function(){return!1},e.Nb=function(r,s,c,h,g,y,w,E){if(!r)return _t(new k("popup-blocked"));if(w&&!Ku())return this.ma().o(function(W){co(r),g(W)}),h(),Ie();this.a||(this.a=f0(d0(this)));var M=this;return this.a.then(function(){var W=M.ma().o(function(Pe){throw co(r),g(Pe),Pe});return h(),W}).then(function(){if(Yd(c),!w){var W=aa(M.s,M.g,M.b,s,c,null,y,M.c,void 0,M.i,E,M.f);Gw(W,r)}}).o(function(W){throw W.code=="auth/network-request-failed"&&(M.a=null),W})};function d0(r){return r.l||(r.C=r.c?ms(r.c,Ep(r.b)):null,r.l=new wr(r.g,Ze(r.i),r.C),r.f&&yl(r.l,r.f)),r.l}e.Ob=function(r,s,c,h){this.a||(this.a=f0(d0(this)));var g=this;return this.a.then(function(){Yd(s);var y=aa(g.s,g.g,g.b,r,s,Hu(),c,g.c,void 0,g.i,h,g.f);Gw(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(g.a=null),y})},e.ma=function(){var r=this;return h0(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new k("network-request-failed")})},e.ac=function(){return!0};function aa(r,s,c,h,g,y,w,E,M,W,Pe,ut){return r=new _p(r,s,c,h,g,ut),r.l=y,r.g=w,r.i=E,r.b=Ae(M||null),r.f=W,r.zb(Pe).toString()}function tx(r){if(!r.v)throw Error("IfcHandler must be initialized!");QN(r.v,function(s){var c={};if(s&&s.authEvent){var h=!1;for(s=Mb(s.authEvent),c=0;c<r.h.length;c++)h=r.h[c](s)||h;return c={},c.status=h?"ACK":"ERROR",Ie(c)}return c.status="ERROR",Ie(c)})}function nx(r){var s={type:"webStorageSupport"};return h0(r).then(function(){return XN(r.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){V(this.h,function(s){return s==r})};function p0(r){if(this.a=r||Ce.INTERNAL.reactNative&&Ce.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=p0.prototype,e.get=function(r){return Ie(this.a.getItem(r)).then(function(s){return s&&ys(s)})},e.set=function(r,s){return Ie(this.a.setItem(r,zu(s)))},e.U=function(r){return Ie(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function g0(r){this.b=r,this.a={},this.f=U(this.c,this)}var m0=[];function rx(){var r=vr()?self:null;if(B(m0,function(c){c.b==r&&(s=c)}),!s){var s=new g0(r);m0.push(s)}return s}g0.prototype.c=function(r){var s=r.data.eventType,c=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var g=[];B(h,function(y){g.push(Ie().then(function(){return y(r.origin,r.data.data)}))}),bw(g).then(function(y){var w=[];B(y,function(E){w.push({fulfilled:E.Qb,value:E.value,reason:E.reason?E.reason.message:void 0})}),B(w,function(E){for(var M in E)typeof E[M]>"u"&&delete E[M]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:w})})}};function v0(r,s,c){pe(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(c)}function y0(r){this.a=r}y0.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function w0(r){this.c=r,this.b=!1,this.a=[]}function b0(r,s,c,h){var g,y=c||{},w,E,M,W=null;if(r.b)return _t(Error("connection_unavailable"));var Pe=h?800:50,ut=typeof MessageChannel<"u"?new MessageChannel:null;return new $e(function(et,Yt){ut?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),ut.port1.start(),E=setTimeout(function(){Yt(Error("unsupported_event"))},Pe),w=function(ii){ii.data.eventId===g&&(ii.data.status==="ack"?(clearTimeout(E),M=setTimeout(function(){Yt(Error("timeout"))},3e3)):ii.data.status==="done"?(clearTimeout(M),typeof ii.data.response<"u"?et(ii.data.response):Yt(Error("unknown_error"))):(clearTimeout(E),clearTimeout(M),Yt(Error("invalid_response"))))},W={messageChannel:ut,onMessage:w},r.a.push(W),ut.port1.addEventListener("message",w),r.c.postMessage({eventType:s,eventId:g,data:y},[ut.port2])):Yt(Error("connection_unavailable"))}).then(function(et){return Ip(r,W),et}).o(function(et){throw Ip(r,W),et})}function Ip(r,s){if(s){var c=s.messageChannel,h=s.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),V(r.a,function(g){return g==s})}}w0.prototype.close=function(){for(;0<this.a.length;)Ip(this,this.a[0]);this.b=!0};function _0(){if(!Ap())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;vr()&&self?(this.v=rx(),v0(this.v,"keyChanged",function(s,c){return T0(r).then(function(h){return 0<h.length&&B(r.a,function(g){g(h)}),{keyProcessed:R(h,c.key)}})}),v0(this.v,"ping",function(){return Ie(["keyChanged"])})):yR().then(function(s){(r.h=s)&&(r.g=new w0(new y0(s)),b0(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&R(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var Tp;function ix(r){return new $e(function(s,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(g){c(Error(g.target.error))}})}function E0(r){return new $e(function(s,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(g){try{g.preventDefault()}catch{}c(Error(g.target.error))},h.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},h.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?s(g):ix(r).then(function(){return E0(r)}).then(function(y){s(y)}).o(function(y){c(y)})}})}function Sp(r){return r.i||(r.i=E0(r)),r.i}function bl(r,s){function c(g,y){Sp(r).then(s).then(g).o(function(w){if(3<++h)y(w);else return Sp(r).then(function(E){return E.close(),r.i=void 0,c(g,y)}).o(function(E){y(E)})})}var h=0;return new $e(c)}function Ap(){try{return!!f.indexedDB}catch{return!1}}function ca(r){return r.objectStore("firebaseLocalStorage")}function la(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function Es(r){return new $e(function(s,c){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){c(h.target.error)}})}e=_0.prototype,e.set=function(r,s){var c=this,h=!1;return bl(this,function(g){return g=ca(la(g,!0)),Es(g.get(r))}).then(function(g){return bl(c,function(y){if(y=ca(la(y,!0)),g)return g.value=s,Es(y.put(g));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=s,Es(y.add(w))})}).then(function(){return c.c[r]=s,I0(c,r)}).oa(function(){h&&c.b--})};function I0(r,s){return r.g&&r.h&&vR()===r.h?b0(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):Ie()}e.get=function(r){return bl(this,function(s){return Es(ca(la(s,!1)).get(r))}).then(function(s){return s&&s.value})},e.U=function(r){var s=this,c=!1;return bl(this,function(h){return c=!0,s.b++,Es(ca(la(h,!0)).delete(r))}).then(function(){return delete s.c[r],I0(s,r)}).oa(function(){c&&s.b--})};function T0(r){return Sp(r).then(function(s){var c=ca(la(s,!1));return c.getAll?Es(c.getAll()):new $e(function(h,g){var y=[],w=c.openCursor();w.onsuccess=function(E){(E=E.target.result)?(y.push(E.value),E.continue()):h(y)},w.onerror=function(E){g(E.target.error)}})}).then(function(s){var c={},h=[];if(r.b==0){for(h=0;h<s.length;h++)c[s[h].fbase_key]=s[h].value;h=Ww(r.c,c),r.c=c}return h})}e.ca=function(r){this.a.length==0&&ox(this),this.a.push(r)},e.ia=function(r){V(this.a,function(s){return s==r}),this.a.length==0&&S0(this)};function ox(r){function s(){r.f=setTimeout(function(){r.l=T0(r).then(function(c){0<c.length&&B(r.a,function(h){h(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}S0(r),s()}function S0(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function A0(r){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Ie().then(function(){if(Ap()){var h=fo(),g="__sak"+h;return Tp||(Tp=new _0),c=Tp,c.set(g,h).then(function(){return c.get(g)}).then(function(y){if(y!==h)throw Error("indexedDB not supported!");return c.U(g)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(g){B(s.a,function(y){y(g)})}),h})}e=A0.prototype,e.get=function(r){return this.b.then(function(s){return s.get(r)})},e.set=function(r,s){return this.b.then(function(c){return c.set(r,s)})},e.U=function(r){return this.b.then(function(s){return s.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){V(this.a,function(s){return s==r})};function fa(){this.a={},this.type="inMemory"}e=fa.prototype,e.get=function(r){return Ie(this.a[r])},e.set=function(r,s){return this.a[r]=s,Ie()},e.U=function(r){return delete this.a[r],Ie()},e.ca=function(){},e.ia=function(){};function _l(){if(!sx())throw Mr()=="Node"?new k("internal-error","The LocalStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=k0()||Ce.INTERNAL.node.localStorage,this.type="localStorage"}function k0(){try{var r=f.localStorage,s=fo();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function sx(){var r=Mr()=="Node";if(r=k0()||r&&Ce.INTERNAL.node&&Ce.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=_l.prototype,e.get=function(r){var s=this;return Ie().then(function(){var c=s.a.getItem(r);return ys(c)})},e.set=function(r,s){var c=this;return Ie().then(function(){var h=zu(s);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var s=this;return Ie().then(function(){s.a.removeItem(r)})},e.ca=function(r){f.window&&or(f.window,"storage",r)},e.ia=function(r){f.window&&Gn(f.window,"storage",r)};function kp(){this.type="nullStorage"}e=kp.prototype,e.get=function(){return Ie(null)},e.set=function(){return Ie()},e.U=function(){return Ie()},e.ca=function(){},e.ia=function(){};function Cp(){if(!ux())throw Mr()=="Node"?new k("internal-error","The SessionStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=C0()||Ce.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function C0(){try{var r=f.sessionStorage,s=fo();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function ux(){var r=Mr()=="Node";if(r=C0()||r&&Ce.INTERNAL.node&&Ce.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=Cp.prototype,e.get=function(r){var s=this;return Ie().then(function(){var c=s.a.getItem(r);return ys(c)})},e.set=function(r,s){var c=this;return Ie().then(function(){var h=zu(s);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var s=this;return Ie().then(function(){s.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function ax(){var r={};r.Browser=cx,r.Node=lx,r.ReactNative=fx,r.Worker=hx,this.a=r[Mr()]}var Rp,cx={F:_l,cb:Cp},lx={F:_l,cb:Cp},fx={F:p0,cb:kp},hx={F:_l,cb:kp},Is={rd:"local",NONE:"none",td:"session"};function dx(r){var s=new k("invalid-persistence-type"),c=new k("unsupported-persistence-type");e:{for(h in Is)if(Is[h]==r){var h=!0;break e}h=!1}if(!h||typeof r!="string")throw s;switch(Mr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!Ap()&&r!=="none")throw c;break;default:if(!Rd()&&r!=="none")throw c}}function R0(){var r=!!(!tb(tn())&&kd()),s=Ku(),c=Rd();this.m=r,this.h=s,this.l=c,this.a={},Rp||(Rp=new ax),r=Rp;try{this.g=!Sd()&&rb()||!f.indexedDB?new r.a.F:new A0(vr()?new fa:new r.a.F)}catch{this.g=new fa,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new fa}this.v=new fa,this.f=U(this.Zb,this),this.b={}}var Np;function ha(){return Np||(Np=new R0),Np}function bo(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function Ts(r,s){return"firebase:"+r.name+(s?":"+s:"")}function px(r,s,c){var h=Ts(s,c),g=bo(r,s.F);return r.get(s,c).then(function(y){var w=null;try{w=ys(f.localStorage.getItem(h))}catch{}if(w&&!y)return f.localStorage.removeItem(h),r.set(s,w,c);w&&y&&g.type!="localStorage"&&f.localStorage.removeItem(h)})}e=R0.prototype,e.get=function(r,s){return bo(this,r.F).get(Ts(r,s))};function Ss(r,s,c){return c=Ts(s,c),s.F=="local"&&(r.b[c]=null),bo(r,s.F).U(c)}e.set=function(r,s,c){var h=Ts(r,c),g=this,y=bo(this,r.F);return y.set(h,s).then(function(){return y.get(h)}).then(function(w){r.F=="local"&&(g.b[h]=w)})},e.addListener=function(r,s,c){r=Ts(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),pe(this.a)&&(bo(this,"local").ca(this.f),this.h||(Sd()||!rb())&&f.indexedDB||!this.l||gx(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,s,c){r=Ts(r,s),this.a[r]&&(V(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),pe(this.a)&&(bo(this,"local").ia(this.f),xp(this))};function gx(r){xp(r),r.c=setInterval(function(){for(var s in r.a){var c=f.localStorage.getItem(s),h=r.b[s];c!=h&&(r.b[s]=c,c=new so({type:"storage",key:s,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function xp(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var g=f.localStorage.getItem(c);g!==h&&(this.b[c]=g,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?bo(this,"local").ia(this.f):xp(this),this.m){if(c=f.localStorage.getItem(s),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var y=this;c=function(){(typeof r.a.a<"u"||y.b[s]!==f.localStorage.getItem(s))&&(y.b[s]=f.localStorage.getItem(s),y.nb(s))},mr&&bi&&bi==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else B(r,U(this.nb,this))},e.nb=function(r){this.a[r]&&B(this.a[r],function(s){s()})};function mx(r){this.a=r,this.b=ha()}var Op={name:"authEvent",F:"local"};function vx(r){return r.b.get(Op,r.a).then(function(s){return Mb(s)})}function yx(){this.a=ha()}function wx(){this.b=-1}function El(r,s){this.b=N0,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),Il===void 0&&(f.Int32Array?Il=new Int32Array(P0):Il=P0),this.reset()}var Il;z(El,wx);for(var N0=64,bx=N0-1,x0=[],Pp=0;Pp<bx;Pp++)x0[Pp]=0;var O0=G(128,x0);El.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):ne(this.h)};function Dp(r){for(var s=r.f,c=r.l,h=0,g=0;g<s.length;)c[h++]=s[g]<<24|s[g+1]<<16|s[g+2]<<8|s[g+3],g=4*h;for(s=16;64>s;s++){g=c[s-15]|0,h=c[s-2]|0;var y=(c[s-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,w=(c[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[s]=y+w|0}h=r.a[0]|0,g=r.a[1]|0;var E=r.a[2]|0,M=r.a[3]|0,W=r.a[4]|0,Pe=r.a[5]|0,ut=r.a[6]|0;for(y=r.a[7]|0,s=0;64>s;s++){var et=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&g^h&E^g&E)|0;w=W&Pe^~W&ut,y=y+((W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7))|0,w=w+(Il[s]|0)|0,w=y+(w+(c[s]|0)|0)|0,y=ut,ut=Pe,Pe=W,W=M+w|0,M=E,E=g,g=h,h=w+et|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+g|0,r.a[2]=r.a[2]+E|0,r.a[3]=r.a[3]+M|0,r.a[4]=r.a[4]+W|0,r.a[5]=r.a[5]+Pe|0,r.a[6]=r.a[6]+ut|0,r.a[7]=r.a[7]+y|0}function Lp(r,s,c){c===void 0&&(c=s.length);var h=0,g=r.c;if(typeof s=="string")for(;h<c;)r.f[g++]=s.charCodeAt(h++),g==r.b&&(Dp(r),g=0);else if(_(s))for(;h<c;){var y=s[h++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");r.f[g++]=y,g==r.b&&(Dp(r),g=0)}else throw Error("message must be string or array");r.c=g,r.g+=c}var P0=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function D0(){El.call(this,8,_x)}z(D0,El);var _x=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function L0(r,s,c,h,g,y){this.v=r,this.i=s,this.l=c,this.m=h||null,this.u=g||null,this.s=y,this.h=s+":"+c,this.C=new yx,this.g=new mx(this.h),this.f=null,this.b=[],this.a=this.c=null}function Tl(r){return new k("invalid-cordova-configuration",r)}e=L0.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=pR().then(function(){if(typeof Et("universalLinks.subscribe",f)!="function")throw Tl("cordova-universal-links-plugin-fix is not installed");if(typeof Et("BuildInfo.packageName",f)>"u")throw Tl("cordova-plugin-buildinfo is not installed");if(typeof Et("cordova.plugins.browsertab.openUrl",f)!="function")throw Tl("cordova-plugin-browsertab is not installed");if(typeof Et("cordova.InAppBrowser.open",f)!="function")throw Tl("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})};function Ex(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function Ix(r){var s=new D0;Lp(s,r),r=[];var c=8*s.g;56>s.c?Lp(s,O0,56-s.c):Lp(s,O0,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=c&255,c/=256;for(Dp(s),h=c=0;h<s.i;h++)for(var g=24;0<=g;g-=8)r[c++]=s.a[h]>>g&255;return DR(r)}e.Pb=function(r,s){return s(new k("operation-not-supported-in-this-environment")),Ie()},e.Nb=function(){return _t(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,s,c,h){if(this.c)return _t(new k("redirect-operation-pending"));var g=this,y=f.document,w=null,E=null,M=null,W=null;return this.c=Ie().then(function(){return Yd(s),F0(g)}).then(function(){return Tx(g,r,s,c,h)}).then(function(){return new $e(function(Pe,ut){E=function(){var et=Et("cordova.plugins.browsertab.close",f);return Pe(),typeof et=="function"&&et(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(E),M=function(){w||(w=hs(2e3).then(function(){ut(new k("redirect-cancelled-by-user"))}))},W=function(){Nd()&&M()},y.addEventListener("resume",M,!1),tn().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",W,!1)}).o(function(Pe){return Mp(g).then(function(){throw Pe})})}).oa(function(){M&&y.removeEventListener("resume",M,!1),W&&y.removeEventListener("visibilitychange",W,!1),w&&w.cancel(),E&&g.Ta(E),g.c=null})};function Tx(r,s,c,h,g){var y=Ex(),w=new yr(s,h,null,y,new k("no-auth-event"),null,g),E=Et("BuildInfo.packageName",f);if(typeof E!="string")throw new k("invalid-cordova-configuration");var M=Et("BuildInfo.displayName",f),W={};if(tn().toLowerCase().match(/iphone|ipad|ipod/))W.ibi=E;else if(tn().toLowerCase().match(/android/))W.apn=E;else return _t(new k("operation-not-supported-in-this-environment"));M&&(W.appDisplayName=M),y=Ix(y),W.sessionId=y;var Pe=aa(r.v,r.i,r.l,s,c,null,h,r.m,W,r.u,g,r.s);return r.ma().then(function(){var ut=r.h;return r.C.a.set(Op,w.w(),ut)}).then(function(){var ut=Et("cordova.plugins.browsertab.isAvailable",f);if(typeof ut!="function")throw new k("invalid-cordova-configuration");var et=null;ut(function(Yt){if(Yt){if(et=Et("cordova.plugins.browsertab.openUrl",f),typeof et!="function")throw new k("invalid-cordova-configuration");et(Pe)}else{if(et=Et("cordova.InAppBrowser.open",f),typeof et!="function")throw new k("invalid-cordova-configuration");Yt=tn(),r.a=et(Pe,Yt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Yt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function M0(r,s){for(var c=0;c<r.b.length;c++)try{r.b[c](s)}catch{}}function F0(r){return r.f||(r.f=r.ma().then(function(){return new $e(function(s){function c(h){return s(h),r.Ta(c),!1}r.Ea(c),Sx(r)})})),r.f}function Mp(r){var s=null;return vx(r.g).then(function(c){return s=c,c=r.g,Ss(c.b,Op,c.a)}).then(function(){return s})}function Sx(r){function s(w){h=!0,g&&g.cancel(),Mp(r).then(function(E){var M=c;if(E&&w&&w.url){var W=null;M=Cb(w.url),M.indexOf("/__/auth/callback")!=-1&&(W=Dn(M),W=ys(sr(W,"firebaseError")||null),W=(W=typeof W=="object"?Xe(W):null)?new yr(E.c,E.b,null,null,W,null,E.T()):new yr(E.c,E.b,M,E.f,null,null,E.T())),M=W||c}M0(r,M)})}var c=new yr("unknown",null,null,null,new k("no-auth-event")),h=!1,g=hs(500).then(function(){return Mp(r).then(function(){h||M0(r,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(Et("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:w}),typeof y=="function")try{y(w)}catch(E){console.error(E)}},Jd||(Jd=new BR),$R(s)}e.Ea=function(r){this.b.push(r),F0(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new yr("unknown",null,null,null,new k("no-auth-event")),r(s))})},e.Ta=function(r){V(this.b,function(s){return s==r})};function Ax(r){this.a=r,this.b=ha()}var Fp={name:"pendingRedirect",F:"session"};function kx(r){return r.b.set(Fp,"pending",r.a)}function Up(r){return Ss(r.b,Fp,r.a)}function Cx(r){return r.b.get(Fp,r.a).then(function(s){return s=="pending"})}function Sl(r,s,c,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=U(this.s,this),this.b=new kl,this.C=new G0,this.g=new Ax(H0(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=U0(this.D,this.v,this.m,se,this.J)}function U0(r,s,c,h,g){var y=Ce.SDK_VERSION||null;return Ad()?new L0(r,s,c,y,h,g):new l0(r,s,c,y,h,g)}Sl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=U0(this.D,this.v,this.m,null,this.J),this.i={}};function j0(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(c){throw r.a==s&&r.reset(),c})}function V0(r){r.a.Yb()&&j0(r).o(function(s){var c=new yr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Vp(s)&&r.s(c)}),r.a.Ub()||K0(r.b)}function Al(r,s){R(r.h,s)||r.h.push(s),r.f||Cx(r.g).then(function(c){c?Up(r.g).then(function(){j0(r).o(function(h){var g=new yr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Vp(h)&&r.s(g)})}):V0(r)}).o(function(){V0(r)})}function jp(r,s){V(r.h,function(c){return c==s})}Sl.prototype.s=function(r){if(!r)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return K0(this.b),s};var Rx=new Ii(2e3,1e4),Nx=new Ii(3e4,6e4);Sl.prototype.ra=function(){return this.b.ra()};function q0(r,s,c,h,g,y,w){return r.a.Nb(s,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},g,y,w)}function Vp(r){return!!(r&&r.code=="auth/cordova-not-ready")}function B0(r,s,c,h,g){var y;return kx(r.g).then(function(){return r.a.Ob(s,c,h,g).o(function(w){if(Vp(w))throw new k("operation-not-supported-in-this-environment");return y=w,Up(r.g).then(function(){throw y})}).then(function(){return r.a.ac()?new $e(function(){}):Up(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function $0(r,s,c,h,g){return r.a.Pb(h,function(y){s.na(c,null,y,g)},Rx.get())}var qp={};function H0(r,s,c){return r=r+":"+s,c&&(r=r+":"+c.url),r}function Bp(r,s,c,h){var g=H0(s,c,h);return qp[g]||(qp[g]=new Sl(r,s,c,h)),qp[g]}function kl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}kl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},kl.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,g=r.a&&r.a.code=="auth/web-storage-unsupported",y=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!y),c!="unknown"||g||y?r.a?(_o(this,!0,null,r.a),Ie()):s.Fa(c,h)?xx(this,r,s):_t(new k("invalid-auth-event")):(_o(this,!1,null,null),Ie())}else _t(new k("invalid-auth-event"))};function K0(r){r.g||(r.g=!0,_o(r,!1,null,null))}function Cl(r){r.g&&!r.i&&_o(r,!1,null,null)}function xx(r,s,c){c=c.Fa(s.c,s.b);var h=s.g,g=s.f,y=s.i,w=s.T(),E=!!s.c.match(/Redirect$/);c(h,g,w,y).then(function(M){_o(r,E,M,null)}).o(function(M){_o(r,E,null,M)})}function Ox(r,s){if(r.b=function(){return _t(s)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](s)}function z0(r,s){if(r.b=function(){return Ie(s)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](s)}function _o(r,s,c,h){s?h?Ox(r,h):z0(r,c):z0(r,{user:null}),r.f=[],r.c=[]}kl.prototype.ra=function(){var r=this;return new $e(function(s,c){r.b?r.b().then(s,c):(r.f.push(s),r.c.push(c),Px(r))})};function Px(r){var s=new k("timeout");r.a&&r.a.cancel(),r.a=hs(Nx.get()).then(function(){r.b||(r.g=!0,_o(r,!0,null,s))})}function G0(){}G0.prototype.h=function(r,s){if(r){var c=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),Ie()):s.Fa(c,h)?Dx(r,s):_t(new k("invalid-auth-event"))}else _t(new k("invalid-auth-event"))};function Dx(r,s){var c=r.b,h=r.c;s.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(g){s.na(h,g,null,c)}).o(function(g){s.na(h,null,g,c)})}function W0(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function $p(r,s){this.a=s,de(this,"verificationId",r)}$p.prototype.confirm=function(r){return r=Lb(this.verificationId,r),this.a(r)};function Hp(r,s,c,h){return new ni(r).gb(s,c).then(function(g){return new $p(g,h)})}function Lx(r){var s=bb(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");bn(this,{token:r,expirationTime:Gu(1e3*s.exp),authTime:Gu(1e3*s.auth_time),issuedAtTime:Gu(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function Kp(r,s,c){var h=s&&s[Q0];if(!h)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=Ae(s),this.g=c,this.c=new rl(null,h),this.b=[];var g=this;B(s[X0]||[],function(y){(y=Md(y))&&g.b.push(y)}),de(this,"auth",this.a),de(this,"session",this.c),de(this,"hints",this.b)}var X0="mfaInfo",Q0="mfaPendingCredential";Kp.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(c){var h=Ae(s.f);return delete h[X0],delete h[Q0],qe(h,c),s.g(h)})};function zp(r,s,c,h){k.call(this,"multi-factor-auth-required",h,s),this.b=new Kp(r,s,c),de(this,"resolver",this.b)}z(zp,k);function Y0(r,s,c){if(r&&S(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new zp(s,r.serverResponse,c,r.message)}catch{}return null}function J0(){}J0.prototype.tb=function(r,s,c){return s.type==Yu?Mx(this,r,s,c):Fx(this,r,s)};function Mx(r,s,c,h){return c.Ha().then(function(g){return g={idToken:g},typeof h<"u"&&(g.displayName=h),qe(g,{phoneVerificationInfo:Ju(r.a)}),He(s,SN,g)})}function Fx(r,s,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},qe(h,{phoneVerificationInfo:Ju(r.a)}),He(s,AN,h)})}function Gp(r){de(this,"factorId",r.fa),this.a=r}z(Gp,J0);function Z0(r){if(Gp.call(this,r),this.a.fa!=ni.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}z(Z0,Gp);function As(r,s){Pn.call(this,r);for(var c in s)this[c]=s[c]}z(As,Pn);function Wp(r,s){this.a=r,this.b=[],this.c=U(this.yc,this),or(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&B(s.multiFactor.enrolledFactors,function(h){var g=null,y={};if(h){h.uid&&(y[Ud]=h.uid),h.displayName&&(y[ob]=h.displayName),h.enrollmentTime&&(y[Fd]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(y[jd]=h.phoneNumber);try{g=new Wu(y)}catch{}h=g}else h=null;h&&c.push(h)}),Rl(this,c)}function Ux(r){var s=[];return B(r.mfaInfo||[],function(c){(c=Md(c))&&s.push(c)}),s}e=Wp.prototype,e.yc=function(r){Rl(this,Ux(r.hd))};function Rl(r,s){r.b=s,de(r,"enrolledFactors",s)}e.Sb=function(){return this.a.I().then(function(r){return new rl(r,null)})},e.fc=function(r,s){var c=this,h=this.a.a;return this.Sb().then(function(g){return r.tb(h,g,s)}).then(function(g){return jr(c.a,g),c.a.reload()})},e.bd=function(r){var s=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(g){return He(h,zN,{idToken:g,mfaEnrollmentId:c})}).then(function(g){var y=ae(s.b,function(w){return w.uid!=c});return Rl(s,y),jr(s.a,g),s.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:xe(this.b,function(r){return r.w()})}}};function Xp(r,s,c){if(this.h=r,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Xp.prototype.start=function(){this.a=this.c,Qp(this,!0)};function jx(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function Qp(r,s){r.stop(),r.b=hs(jx(r,s)).then(function(){return mR()}).then(function(){return r.h()}).then(function(){Qp(r,!0)}).o(function(c){r.i(c)&&Qp(r,!1)})}Xp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Yp(r){this.f=r,this.b=this.a=null,this.c=Date.now()}Yp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function e_(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function t_(r,s){r.b=tl(s[br]||""),r.a=s.refreshToken,s=s.expiresIn,e_(r,typeof s<"u"?Number(s):void 0)}function Vx(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function qx(r,s){return cN(r.f,s).then(function(c){return r.b=tl(c.access_token),r.a=c.refresh_token,e_(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}Yp.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?_t(new k("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?qx(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})};function Nl(r,s){this.a=r||null,this.b=s||null,bn(this,{lastSignInTime:Gu(s||null),creationTime:Gu(r||null)})}function Bx(r){return new Nl(r.a,r.b)}Nl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function $x(r,s,c,h,g,y){bn(this,{uid:r,displayName:h||null,photoURL:g||null,email:c||null,phoneNumber:y||null,providerId:s})}function Xn(r,s,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=Ce.SDK_VERSION?ms(Ce.SDK_VERSION):null;this.a=new wr(this.l,Ze(se),h),(this.u=r.emulatorConfig||null)&&yl(this.a,this.u),this.h=new Yp(this.a),ig(this,s[br]),t_(this.h,s),de(this,"refreshToken",this.h.a),r_(this,c||{}),wn.call(this),this.P=!1,this.s&&lo()&&(this.b=Bp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=Hx(this),this.ba=U(this.ib,this);var g=this;this.za=null,this.Pa=function(y){g.xa(y.h)},this.qa=null,this.Ba=function(y){Jp(g,y.c)},this.$=null,this.aa=[],this.Oa=function(y){da(g,y.f)},this.ja=null,this.S=new Wp(this,c),de(this,"multiFactor",this.S)}z(Xn,wn),Xn.prototype.xa=function(r){this.za=r,Yb(this.a,r)};function Jp(r,s){r.u=s,yl(r.a,s),r.b&&(s=r.b,r.b=Bp(r.s,r.l,r.m,r.u),r.P&&(jp(s,r),Al(r.b,r)))}Xn.prototype.la=function(){return this.za};function Zp(r,s){r.qa&&Gn(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&or(s,"languageCodeChanged",r.Pa)}function eg(r,s){r.$&&Gn(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&or(s,"emulatorConfigChanged",r.Ba)}function da(r,s){r.aa=s,Jb(r.a,Ce.SDK_VERSION?ms(Ce.SDK_VERSION,r.aa):null)}Xn.prototype.Ga=function(){return ne(this.aa)};function tg(r,s){r.ja&&Gn(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&or(s,"frameworkChanged",r.Oa)}Xn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function ng(r){try{return Ce.app(r.m).auth()}catch{throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function Hx(r){return new Xp(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function n_(r){r.J||r.D.b||(r.D.start(),Gn(r,"tokenChanged",r.ba),or(r,"tokenChanged",r.ba))}function rg(r){Gn(r,"tokenChanged",r.ba),r.D.stop()}function ig(r,s){r.Aa=s,de(r,"_lat",s)}function Kx(r,s){V(r.W,function(c){return c==s})}function Eo(r){for(var s=[],c=0;c<r.W.length;c++)s.push(r.W[c](r));return bw(s).then(function(){return r})}function pa(r){r.b&&!r.P&&(r.P=!0,Al(r.b,r))}function r_(r,s){bn(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new Nl(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}de(Xn.prototype,"providerId","firebase");function i_(){}function og(r){return Ie().then(function(){if(r.J)throw new k("app-deleted")})}function sg(r){return xe(r.providerData,function(s){return s.providerId})}function ug(r,s){s&&(o_(r,s.providerId),r.providerData.push(s))}function o_(r,s){V(r.providerData,function(c){return c.providerId==s})}function Ai(r,s,c){(s!="uid"||c)&&r.hasOwnProperty(s)&&de(r,s,c)}function xl(r,s){r!=s&&(bn(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?de(r,"metadata",Bx(s.metadata)):de(r,"metadata",new Nl),B(s.providerData,function(c){ug(r,c)}),Vx(r.h,s.h),de(r,"refreshToken",r.h.a),Rl(r.S,s.S.b))}e=Xn.prototype,e.reload=function(){var r=this;return Gt(this,og(this).then(function(){return ag(r).then(function(){return Eo(r)}).then(i_)}))};function ag(r){return r.I().then(function(s){var c=r.isAnonymous;return zx(r,s).then(function(){return c||Ai(r,"isAnonymous",!1),s})})}e.oc=function(r){return this.I(r).then(function(s){return new Lx(s)})},e.I=function(r){var s=this;return Gt(this,og(this).then(function(){return s.h.getToken(r)}).then(function(c){if(!c)throw new k("internal-error");return c.accessToken!=s.Aa&&(ig(s,c.accessToken),s.dispatchEvent(new As("tokenChanged"))),Ai(s,"refreshToken",c.refreshToken),c.accessToken}))};function jr(r,s){s[br]&&r.Aa!=s[br]&&(t_(r.h,s),r.dispatchEvent(new As("tokenChanged")),ig(r,s[br]),Ai(r,"refreshToken",r.h.a))}function zx(r,s){return He(r.a,kN,{idToken:s}).then(U(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new k("internal-error");r=r[0],r_(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=Gx(r),c=0;c<s.length;c++)ug(this,s[c]);Ai(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new As("userReloaded",{hd:r}))};function Gx(r){return(r=r.providerUserInfo)&&r.length?xe(r,function(s){return new $x(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}e.Lc=function(r){return xd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var s=this,c=null;return Gt(this,r.c(this.a,this.uid).then(function(h){return jr(s,h),c=ga(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function Ol(r,s){return ag(r).then(function(){if(R(sg(r),s))return Eo(r).then(function(){throw new k("provider-already-linked")})})}e.Cc=function(r){return xd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var s=this,c=null;return Gt(this,Ol(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return c=ga(s,h,"link"),s_(s,h)}).then(function(){return c}))},e.Dc=function(r,s){var c=this;return Gt(this,Ol(this,"phone").then(function(){return Hp(ng(c),r,s,U(c.rb,c))}))},e.Mc=function(r,s){var c=this;return Gt(this,Ie().then(function(){return Hp(ng(c),r,s,U(c.ub,c))}),!0)};function ga(r,s,c){var h=Qd(s);return s=Eb(s),Fr({user:r,credential:h,additionalUserInfo:s,operationType:c})}function s_(r,s){return jr(r,s),r.reload().then(function(){return r})}e.Cb=function(r){var s=this;return Gt(this,this.I().then(function(c){return s.a.Cb(c,r)}).then(function(c){return jr(s,c),s.reload()}))},e.ed=function(r){var s=this;return Gt(this,this.I().then(function(c){return r.b(s.a,c)}).then(function(c){return jr(s,c),s.reload()}))},e.Db=function(r){var s=this;return Gt(this,this.I().then(function(c){return s.a.Db(c,r)}).then(function(c){return jr(s,c),s.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return og(this);var s=this;return Gt(this,this.I().then(function(c){return s.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return jr(s,c),Ai(s,"displayName",c.displayName||null),Ai(s,"photoURL",c.photoUrl||null),B(s.providerData,function(h){h.providerId==="password"&&(de(h,"displayName",s.displayName),de(h,"photoURL",s.photoURL))}),Eo(s)}).then(i_))},e.cd=function(r){var s=this;return Gt(this,ag(this).then(function(c){return R(sg(s),r)?mN(s.a,c,[r]).then(function(h){var g={};return B(h.providerUserInfo||[],function(y){g[y.providerId]=!0}),B(sg(s),function(y){g[y]||o_(s,y)}),g[ni.PROVIDER_ID]||de(s,"phoneNumber",null),Eo(s)}):Eo(s).then(function(){throw new k("no-such-provider")})}))},e.delete=function(){var r=this;return Gt(this,this.I().then(function(s){return He(r.a,_N,{idToken:s})}).then(function(){r.dispatchEvent(new As("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");Zp(r,null),eg(r,null),tg(r,null),r.N=[],r.J=!0,rg(r),de(r,"refreshToken",null),r.b&&jp(r.b,r)})},e.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},e.na=function(r,s,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?U(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?U(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?U(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?U(this.Mb,this):null},e.Ec=function(r){var s=this;return u_(this,"linkViaPopup",r,function(){return Ol(s,r.providerId).then(function(){return Eo(s)})},!1)},e.Nc=function(r){return u_(this,"reauthViaPopup",r,function(){return Ie()},!0)};function u_(r,s,c,h,g){if(!lo())return _t(new k("operation-not-supported-in-this-environment"));if(r.i&&!g)return _t(r.i);var y=Hd(c.providerId),w=fo(r.uid+":::"),E=null;(!Ku()||kd())&&r.s&&c.isOAuthProvider&&(E=aa(r.s,r.l,r.m,s,c,null,w,Ce.SDK_VERSION||null,null,null,r.tenantId,r.u));var M=Qw(E,y&&y.va,y&&y.ua);return h=h().then(function(){if(c_(r),!g)return r.I().then(function(){})}).then(function(){return q0(r.b,M,s,c,w,!!E,r.tenantId)}).then(function(){return new $e(function(W,Pe){r.na(s,null,new k("cancelled-popup-request"),r.g||null),r.f=W,r.C=Pe,r.g=w,r.c=$0(r.b,r,s,M,w)})}).then(function(W){return M&&co(M),W?Fr(W):null}).o(function(W){throw M&&co(M),W}),Gt(r,h,g)}e.Fc=function(r){var s=this;return a_(this,"linkViaRedirect",r,function(){return Ol(s,r.providerId)},!1)},e.Oc=function(r){return a_(this,"reauthViaRedirect",r,function(){return Ie()},!0)};function a_(r,s,c,h,g){if(!lo())return _t(new k("operation-not-supported-in-this-environment"));if(r.i&&!g)return _t(r.i);var y=null,w=fo(r.uid+":::");return h=h().then(function(){if(c_(r),!g)return r.I().then(function(){})}).then(function(){return r.ga=w,Eo(r)}).then(function(E){return r.ha&&(E=r.ha,E=E.b.set(cg,r.w(),E.a)),E}).then(function(){return B0(r.b,s,c,w,r.tenantId)}).o(function(E){if(y=E,r.ha)return f_(r.ha);throw y}).then(function(){if(y)throw y}),Gt(r,h,g)}function c_(r){if(!r.b||!r.P)throw r.b&&!r.P?new k("internal-error"):new k("auth-domain-config-required")}e.Lb=function(r,s,c,h){var g=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(w){return vp(g.a,{requestUri:r,postBody:h,sessionId:s,idToken:w})}).then(function(w){return y=ga(g,w,"link"),s_(g,w)}).then(function(){return y}),Gt(this,c)},e.Mb=function(r,s,c,h){var g=this;this.c&&(this.c.cancel(),this.c=null);var y=null,w=Ie().then(function(){return bs(yp(g.a,{requestUri:r,sessionId:s,postBody:h,tenantId:c}),g.uid)}).then(function(E){return y=ga(g,E,"reauthenticate"),jr(g,E),g.i=null,g.reload()}).then(function(){return y});return Gt(this,w,!0)},e.vb=function(r){var s=this,c=null;return Gt(this,this.I().then(function(h){return c=h,typeof r>"u"||pe(r)?{}:Zc(new Jc(r))}).then(function(h){return s.a.vb(c,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},e.Fb=function(r,s){var c=this,h=null;return Gt(this,this.I().then(function(g){return h=g,typeof s>"u"||pe(s)?{}:Zc(new Jc(s))}).then(function(g){return c.a.Fb(h,r,g)}).then(function(g){if(c.email!=g)return c.reload()}).then(function(){}))};function Gt(r,s,c){var h=Wx(r,s,c);return r.N.push(h),h.oa(function(){L(r.N,h)}),h.o(function(g){var y=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(y=Y0(g.w(),ng(r),U(r.jc,r))),y||g})}e.jc=function(r){var s=null,c=this;return r=bs(Ie(r),c.uid).then(function(h){return s=ga(c,h,"reauthenticate"),jr(c,h),c.i=null,c.reload()}).then(function(){return s}),Gt(this,r,!0)};function Wx(r,s,c){return r.i&&!c?(s.cancel(),_t(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new As("userInvalidated")),r.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&qe(r,this.metadata.w()),B(this.providerData,function(s){r.providerData.push(wR(s))}),qe(r,this.S.w()),r};function l_(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[br]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var g=new Xn(s,c,r);return r.providerData&&B(r.providerData,function(y){y&&ug(g,Fr(y))}),r.redirectEventId&&(g.ga=r.redirectEventId),g}function Xx(r,s,c,h){var g=new Xn(r,s);return c&&(g.ha=c),h&&da(g,h),g.reload().then(function(){return g})}function Qx(r,s,c,h){var g=r.h,y={};return y[br]=g.b&&g.b.toString(),y.refreshToken=g.a,s=new Xn(s||{apiKey:r.l,authDomain:r.s,appName:r.m},y),c&&(s.ha=c),h&&da(s,h),xl(s,r),s}function Yx(r){this.a=r,this.b=ha()}var cg={name:"redirectUser",F:"session"};function f_(r){return Ss(r.b,cg,r.a)}function Jx(r,s){return r.b.get(cg,r.a).then(function(c){return c&&s&&(c.authDomain=s),l_(c||{})})}function lg(r){this.a=r,this.b=ha(),this.c=null,this.f=Zx(this),this.b.addListener(Vr("local"),this.a,U(this.g,this))}lg.prototype.g=function(){var r=this,s=Vr("local");ks(this,function(){return Ie().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(c){if(c)return fg(r,"local").then(function(){r.c=s})})})};function fg(r,s){var c=[],h;for(h in Is)Is[h]!==s&&c.push(Ss(r.b,Vr(Is[h]),r.a));return c.push(Ss(r.b,hg,r.a)),BC(c)}function Zx(r){var s=Vr("local"),c=Vr("session"),h=Vr("none");return px(r.b,s,r.a).then(function(){return r.b.get(c,r.a)}).then(function(g){return g?c:r.b.get(h,r.a).then(function(y){return y?h:r.b.get(s,r.a).then(function(w){return w?s:r.b.get(hg,r.a).then(function(E){return E?Vr(E):s})})})}).then(function(g){return r.c=g,fg(r,g.F)}).o(function(){r.c||(r.c=s)})}var hg={name:"persistence",F:"session"};function Vr(r){return{name:"authUser",F:r}}lg.prototype.yb=function(r){var s=null,c=this;return dx(r),ks(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return s=h,fg(c,r)}).then(function(){if(c.c=Vr(r),s)return c.b.set(c.c,s,c.a)}):Ie()})};function eO(r){return ks(r,function(){return r.b.set(hg,r.c.F,r.a)})}function h_(r,s){return ks(r,function(){return r.b.set(r.c,s.w(),r.a)})}function d_(r){return ks(r,function(){return Ss(r.b,r.c,r.a)})}function p_(r,s,c){return ks(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&c&&(h.emulatorConfig=c),l_(h||{})})})}function ks(r,s){return r.f=r.f.then(s,s),r.f}function _r(r){if(this.l=!1,de(this,"settings",new W0),de(this,"app",r),lt(this).options&&lt(this).options.apiKey)r=Ce.SDK_VERSION?ms(Ce.SDK_VERSION):null,this.a=new wr(lt(this).options&&lt(this).options.apiKey,Ze(se),r);else throw new k("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Ce.INTERNAL.createSubscribe(U(this.zc,this)),this.W=void 0,this.ib=Ce.INTERNAL.createSubscribe(U(this.Ac,this)),Cs(this,null),this.i=new lg(lt(this).options.apiKey+":"+lt(this).name),this.D=new Yx(lt(this).options.apiKey+":"+lt(this).name),this.$=Nt(this,sO(this)),this.h=Nt(this,uO(this)),this.ba=!1,this.ja=U(this.Zc,this),this.Ba=U(this.da,this),this.qa=U(this.mc,this),this.za=U(this.wc,this),this.Aa=U(this.xc,this),this.b=null,rO(this),this.INTERNAL={},this.INTERNAL.delete=U(this.delete,this),this.INTERNAL.logFramework=U(this.Gc,this),this.u=0,wn.call(this),nO(this),this.J=[],this.R=null}z(_r,wn);function g_(r){Pn.call(this,"languageCodeChanged"),this.h=r}z(g_,Pn);function m_(r){Pn.call(this,"emulatorConfigChanged"),this.c=r}z(m_,Pn);function v_(r){Pn.call(this,"frameworkChanged"),this.f=r}z(v_,Pn),e=_r.prototype,e.yb=function(r){return r=this.i.yb(r),Nt(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,Yb(this.a,this.aa),this.dispatchEvent(new g_(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,tO(s),this.R={url:r,ec:s},this.settings.jb=!0,yl(this.a,this.R),this.dispatchEvent(new m_(this.R))}};function tO(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Xc().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}e.Gc=function(r){this.J.push(r),Jb(this.a,Ce.SDK_VERSION?ms(Ce.SDK_VERSION,this.J):null),this.dispatchEvent(new v_(this.J))},e.Ga=function(){return ne(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function nO(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=Dn(this.R.url);s=Fr({protocol:s.c,host:s.a,port:s.g,options:Fr({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}e.toJSON=function(){return{apiKey:lt(this).options.apiKey,authDomain:lt(this).options.authDomain,appName:lt(this).name,currentUser:Ue(this)&&Ue(this).w()}};function dg(r){return r.Oa||_t(new k("auth-domain-config-required"))}function rO(r){var s=lt(r).options.authDomain,c=lt(r).options.apiKey;s&&lo()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Bp(s,c,lt(r).name,r.R),Al(r.b,r),Ue(r)&&pa(Ue(r)),r.m){pa(r.m);var h=r.m;h.xa(r.la()),Zp(h,r),h=r.m,da(h,r.J),tg(h,r),h=r.m,Jp(h,r.R),eg(h,r),r.m=null}return r.b}}))}e.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},e.na=function(r,s,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?U(this.ic,this):null},e.ic=function(r,s,c,h){var g=this,y={requestUri:r,postBody:h,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return Io(g,mp(g.a,y))})},e.Xc=function(r){if(!lo())return _t(new k("operation-not-supported-in-this-environment"));var s=this,c=Hd(r.providerId),h=fo(),g=null;(!Ku()||kd())&&lt(this).options.authDomain&&r.isOAuthProvider&&(g=aa(lt(this).options.authDomain,lt(this).options.apiKey,lt(this).name,"signInViaPopup",r,null,h,Ce.SDK_VERSION||null,null,null,this.T(),this.R));var y=Qw(g,c&&c.va,c&&c.ua);return c=dg(this).then(function(w){return q0(w,y,"signInViaPopup",r,h,!!g,s.T())}).then(function(){return new $e(function(w,E){s.na("signInViaPopup",null,new k("cancelled-popup-request"),s.g),s.f=w,s.C=E,s.g=h,s.c=$0(s.b,s,"signInViaPopup",y,h)})}).then(function(w){return y&&co(y),w?Fr(w):null}).o(function(w){throw y&&co(y),w}),Nt(this,c)},e.Yc=function(r){if(!lo())return _t(new k("operation-not-supported-in-this-environment"));var s=this,c=dg(this).then(function(){return eO(s.i)}).then(function(){return B0(s.b,"signInViaRedirect",r,void 0,s.T())});return Nt(this,c)};function y_(r){if(!lo())return _t(new k("operation-not-supported-in-this-environment"));var s=dg(r).then(function(){return r.b.ra()}).then(function(c){return c?Fr(c):null});return Nt(r,s)}e.ra=function(){var r=this;return y_(this).then(function(s){return r.b&&Cl(r.b.b),s}).o(function(s){throw r.b&&Cl(r.b.b),s})},e.dd=function(r){if(!r)return _t(new k("null-user"));if(this.S!=r.tenantId)return _t(new k("tenant-id-mismatch"));var s=this,c={};c.apiKey=lt(this).options.apiKey,c.authDomain=lt(this).options.authDomain,c.appName=lt(this).name;var h=Qx(r,c,s.D,s.Ga());return Nt(this,this.h.then(function(){if(lt(s).options.apiKey!=r.l)return h.reload()}).then(function(){return Ue(s)&&r.uid==Ue(s).uid?(xl(Ue(s),r),s.da(r)):(Cs(s,h),pa(h),s.da(h))}).then(function(){ma(s)}))};function iO(r,s){var c={};return c.apiKey=lt(r).options.apiKey,c.authDomain=lt(r).options.authDomain,c.appName=lt(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return Xx(c,s,r.D,r.Ga())}).then(function(h){return Ue(r)&&h.uid==Ue(r).uid?(xl(Ue(r),h),r.da(h)):(Cs(r,h),pa(h),r.da(h))}).then(function(){ma(r)})}function Cs(r,s){Ue(r)&&(Kx(Ue(r),r.Ba),Gn(Ue(r),"tokenChanged",r.qa),Gn(Ue(r),"userDeleted",r.za),Gn(Ue(r),"userInvalidated",r.Aa),rg(Ue(r))),s&&(s.W.push(r.Ba),or(s,"tokenChanged",r.qa),or(s,"userDeleted",r.za),or(s,"userInvalidated",r.Aa),0<r.u&&n_(s)),de(r,"currentUser",s),s&&(s.xa(r.la()),Zp(s,r),da(s,r.J),tg(s,r),Jp(s,r.R),eg(s,r))}e.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&Cl(r.b.b),Ue(r)?(Cs(r,null),d_(r.i).then(function(){ma(r)})):Ie()});return Nt(this,s)};function oO(r){var s=Jx(r.D,lt(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),f_(r.D)});return Nt(r,s)}function sO(r){var s=lt(r).options.authDomain,c=oO(r).then(function(){return p_(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return h_(r.i,h).then(function(){return h})}).o(function(g){return g.code=="auth/network-request-failed"?h:d_(r.i)})):null}).then(function(h){Cs(r,h||null)});return Nt(r,c)}function uO(r){return r.$.then(function(){return y_(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(Vr("local"),s.a,r.ja)}})}e.Zc=function(){var r=this;return p_(this.i,lt(this).options.authDomain).then(function(s){if(!r.l){var c;if(c=Ue(r)&&s){c=Ue(r).uid;var h=s.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return xl(Ue(r),s),Ue(r).I();(Ue(r)||s)&&(Cs(r,s),s&&(pa(s),s.ha=r.D),r.b&&Al(r.b,r),ma(r))}})},e.da=function(r){return h_(this.i,r)},e.mc=function(){ma(this),this.da(Ue(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Io(r,s){var c=null,h=null;return Nt(r,s.then(function(g){return c=Qd(g),h=Eb(g),iO(r,g)},function(g){var y=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(y=Y0(g.w(),r,U(r.kc,r))),y||g}).then(function(){return Fr({user:Ue(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(r){var s=this;return this.h.then(function(){return Io(s,Ie(r))})},e.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(Ue(s))})},e.Ac=function(r){var s=this;aO(this,function(){r.next(Ue(s))})},e.Ic=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(Ue(h)):typeof r.next=="function"&&r.next(Ue(h))}),this.Pa(r,s,c)},e.Hc=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(Ue(h)):typeof r.next=="function"&&r.next(Ue(h))}),this.ib(r,s,c)},e.nc=function(r){var s=this,c=this.h.then(function(){return Ue(s)?Ue(s).I(r).then(function(h){return{accessToken:h}}):null});return Nt(this,c)},e.Tc=function(r){var s=this;return this.h.then(function(){return Io(s,He(s.a,BN,{token:r}))}).then(function(c){var h=c.user;return Ai(h,"isAnonymous",!1),s.da(h),c})},e.Uc=function(r,s){var c=this;return this.h.then(function(){return Io(c,He(c.a,u0,{email:r,password:s}))})},e.dc=function(r,s){var c=this;return this.h.then(function(){return Io(c,He(c.a,wN,{email:r,password:s}))})},e.ab=function(r){var s=this;return this.h.then(function(){return Io(s,r.ka(s.a))})},e.Sc=function(r){return xd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var s=Ue(r);if(s&&s.isAnonymous){var c=Fr({providerId:null,isNewUser:!1});return Fr({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return Io(r,r.a.Ab()).then(function(h){var g=h.user;return Ai(g,"isAnonymous",!0),r.da(g),h})})};function lt(r){return r.app}function Ue(r){return r.currentUser}e.getUid=function(){return Ue(this)&&Ue(this).uid||null};function Pl(r){return Ue(r)&&Ue(r)._lat||null}function ma(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](Pl(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](Pl(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&Ue(this)&&n_(Ue(this))},e.Pc=function(r){var s=this;B(this.s,function(c){c==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&Ue(this)&&rg(Ue(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var s=this;this.s.push(r),Nt(this,this.h.then(function(){s.l||R(s.s,r)&&r(Pl(s))}))},e.removeAuthTokenListener=function(r){V(this.s,function(s){return s==r})};function aO(r,s){r.N.push(s),Nt(r,r.h.then(function(){!r.l&&R(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(Pl(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Vr("local"),r.a,this.ja)),this.b&&(jp(this.b,this),Cl(this.b.b)),Promise.resolve()};function Nt(r,s){return r.P.push(s),s.oa(function(){L(r.P,s)}),s}e.hc=function(r){return Nt(this,lN(this.a,r))},e.Bc=function(r){return!!Xd(r)},e.xb=function(r,s){var c=this;return Nt(this,Ie().then(function(){var h=new Jc(s);if(!h.c)throw new k("argument-error",Bd+" must be true when sending sign in link to email");return Zc(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},e.ob=function(r,s){return Nt(this,this.a.ob(r,s).then(function(){}))},e.Sa=function(r){return Nt(this,this.a.Sa(r).then(function(s){return new _R(s)}))},e.kb=function(r){return Nt(this,this.a.kb(r).then(function(){}))},e.wb=function(r,s){var c=this;return Nt(this,Ie().then(function(){return typeof s>"u"||pe(s)?{}:Zc(new Jc(s))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},e.Wc=function(r,s){return Nt(this,Hp(this,r,s,U(this.ab,this)))},e.Vc=function(r,s){var c=this;return Nt(this,Ie().then(function(){var h=s||Hu(),g=Db(r,h);if(h=Xd(h),!h)throw new k("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new k("tenant-id-mismatch");return c.ab(g)}))};function va(){}va.prototype.render=function(){},va.prototype.reset=function(){},va.prototype.getResponse=function(){},va.prototype.execute=function(){};function Rs(){this.a={},this.b=1e12}var pg=null;Rs.prototype.render=function(r,s){return this.a[this.b.toString()]=new Dl(r,s),this.b++},Rs.prototype.reset=function(r){var s=gg(this,r);r=w_(r),s&&r&&(s.delete(),delete this.a[r])},Rs.prototype.getResponse=function(r){return(r=gg(this,r))?r.getResponse():null},Rs.prototype.execute=function(r){(r=gg(this,r))&&r.execute()};function gg(r,s){return(s=w_(s))&&r.a[s]||null}function w_(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function Dl(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Fu(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():or(this.f,"click",this.i)}Dl.prototype.getResponse=function(){return mg(this),this.b},Dl.prototype.execute=function(){mg(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=gR();var s=r.c.callback,c=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},Dl.prototype.delete=function(){mg(this),this.g=!0,clearTimeout(this.a),this.a=null,Gn(this.f,"click",this.i)};function mg(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function vg(){}de(vg,"FACTOR_ID","phone");function yg(){}yg.prototype.g=function(){return pg||(pg=new Rs),Ie(pg)},yg.prototype.c=function(){};var wg=null;function bg(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var cO=new Be(Pr,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),lO=new Ii(3e4,6e4);bg.prototype.g=function(r){var s=this;return new $e(function(c,h){var g=setTimeout(function(){h(new k("network-request-failed"))},lO.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(E,M){return E=w(E,M),s.b++,E},clearTimeout(g),c(f.grecaptcha)}else clearTimeout(g),h(new k("internal-error"));delete f[s.a]};var y=td(cO,{onload:s.a,hl:r||""});Ie(cp(y)).o(function(){clearTimeout(g),h(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),c(f.grecaptcha)})},bg.prototype.c=function(){this.b--};var _g=null;function Eg(r,s,c,h,g,y,w){if(de(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,w?(wg||(wg=new yg),w=wg):(_g||(_g=new bg),w=_g),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[E_])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[fO]==="invisible",!f.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Fu(s)||!this.i&&Fu(s).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new wr(r,y||null,g||null),this.u=h||function(){return null};var E=this;this.l=[];var M=this.a[b_];this.a[b_]=function(Pe){if(I_(E,Pe),typeof M=="function")M(Pe);else if(typeof M=="string"){var ut=Et(M,f);typeof ut=="function"&&ut(Pe)}};var W=this.a[__];this.a[__]=function(){if(I_(E,null),typeof W=="function")W();else if(typeof W=="string"){var Pe=Et(W,f);typeof Pe=="function"&&Pe()}}}var b_="callback",__="expired-callback",E_="sitekey",fO="size";function I_(r,s){for(var c=0;c<r.l.length;c++)try{r.l[c](s)}catch{}}function hO(r,s){V(r.l,function(c){return c==s})}function Ig(r,s){return r.h.push(s),s.oa(function(){L(r.h,s)}),s}e=Eg.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=Ig(this,Ie().then(function(){if(Qc()&&!vr())return Xc();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,He(r.s,PN,{})}).then(function(s){r.a[E_]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},e.render=function(){Ll(this);var r=this;return Ig(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var c=Fu(s);s=UC("DIV"),c.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},e.verify=function(){Ll(this);var r=this;return Ig(this,this.render().then(function(s){return new $e(function(c){var h=r.g.getResponse(s);if(h)c(h);else{var g=function(y){y&&(hO(r,g),c(y))};r.l.push(g),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){Ll(this),this.c!==null&&this.g.reset(this.c)};function Ll(r){if(r.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Ll(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=Fu(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function Tg(r,s,c){var h=!1;try{this.b=c||Ce.app()}catch{throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new k("invalid-api-key");var g=this,y=null;try{y=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}y=Ce.SDK_VERSION?ms(Ce.SDK_VERSION,y):null,Eg.call(this,c,r,s,function(){try{var w=g.b.auth().la()}catch{w=null}return w},y,Ze(se),h)}z(Tg,Eg);function T_(r,s,c,h){e:{c=Array.prototype.slice.call(c);for(var g=0,y=!1,w=0;w<s.length;w++)if(s[w].optional)y=!0;else{if(y)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(y=s.length,c.length<g||y<c.length)h="Expected "+(g==y?g==1?"1 argument":g+" arguments":g+"-"+y+" arguments")+" but got "+c.length+".";else{for(g=0;g<c.length;g++)if(y=s[g].optional&&c[g]===void 0,!s[g].M(c[g])&&!y){if(s=s[g],0>g||g>=S_.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");c=S_[g],h=(h?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break e}h=null}}if(h)throw new k("argument-error",r+" failed: "+h)}var S_="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function he(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function Sg(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function Ut(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:S}}function Ns(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function qr(r,s){return{name:r||"",K:"null",optional:!!s,M:function(c){return c===null}}}function dO(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function pO(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof _r)}}}function gO(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof Ce.app.App)}}}function ki(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!r||s.providerId===r;return!(!s.ka||!c)}}}function A_(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function xs(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function Ag(r,s){return S(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function k_(r){return S(r)&&typeof r.uid=="string"}function Ml(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Lt(r,s,c,h){return{name:c||"",K:r.K+" or "+s.K,optional:!!h,M:function(g){return r.M(g)||s.M(g)}}}function St(r,s){for(var c in s){var h=s[c].name;r[h]=R_(h,r[c],s[c].j)}}function C_(r,s){for(var c in s){var h=s[c].name;h!==c&&Object.defineProperty(r,h,{get:ve(function(g){return this[g]},c),set:ve(function(g,y,w,E){T_(g,[w],[E],!0),this[y]=E},h,c,s[c].lb),enumerable:!0})}}function Mt(r,s,c,h){r[s]=R_(s,c,h)}function R_(r,s,c){function h(){var w=Array.prototype.slice.call(arguments);return T_(g,c,w),s.apply(this,w)}if(!c)return s;var g=mO(r),y;for(y in s)h[y]=s[y];for(y in s.prototype)h.prototype[y]=s.prototype[y];return h}function mO(r){return r=r.split("."),r[r.length-1]}St(_r.prototype,{kb:{name:"applyActionCode",j:[he("code")]},Sa:{name:"checkActionCode",j:[he("code")]},ob:{name:"confirmPasswordReset",j:[he("code"),he("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[he("email"),he("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[he("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[he("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Lt(Ut(),Ns(),"nextOrObserver"),Ns("opt_error",!0),Ns("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Lt(Ut(),Ns(),"nextOrObserver"),Ns("opt_error",!0),Ns("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[he("email"),Lt(Ut("opt_actionCodeSettings",!0),qr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[he("email"),Ut("actionCodeSettings")]},yb:{name:"setPersistence",j:[he("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ki()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ki()]},Tc:{name:"signInWithCustomToken",j:[he("token")]},Uc:{name:"signInWithEmailAndPassword",j:[he("email"),he("password")]},Vc:{name:"signInWithEmailLink",j:[he("email"),he("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[he("phoneNumber"),Ml()]},Xc:{name:"signInWithPopup",j:[xs()]},Yc:{name:"signInWithRedirect",j:[xs()]},dd:{name:"updateCurrentUser",j:[Lt(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof Xn)}}}(),qr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[he(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[he("url"),Ut("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[he("code")]}}),C_(_r.prototype,{lc:{name:"languageCode",lb:Lt(he(),qr(),"languageCode")},ti:{name:"tenantId",lb:Lt(he(),qr(),"tenantId")}}),_r.Persistence=Is,_r.Persistence.LOCAL="local",_r.Persistence.SESSION="session",_r.Persistence.NONE="none",St(Xn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Sg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Sg("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ki()]},rb:{name:"linkWithCredential",j:[ki()]},Dc:{name:"linkWithPhoneNumber",j:[he("phoneNumber"),Ml()]},Ec:{name:"linkWithPopup",j:[xs()]},Fc:{name:"linkWithRedirect",j:[xs()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ki()]},ub:{name:"reauthenticateWithCredential",j:[ki()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[he("phoneNumber"),Ml()]},Nc:{name:"reauthenticateWithPopup",j:[xs()]},Oc:{name:"reauthenticateWithRedirect",j:[xs()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Lt(Ut("opt_actionCodeSettings",!0),qr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[he(null,!0)]},cd:{name:"unlink",j:[he("provider")]},Cb:{name:"updateEmail",j:[he("email")]},Db:{name:"updatePassword",j:[he("password")]},ed:{name:"updatePhoneNumber",j:[ki("phone")]},Eb:{name:"updateProfile",j:[Ut("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[he("email"),Lt(Ut("opt_actionCodeSettings",!0),qr(null,!0),"opt_actionCodeSettings",!0)]}}),St(Rs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),St(va.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),St($e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),C_(W0.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Sg("appVerificationDisabledForTesting")}}),St($p.prototype,{confirm:{name:"confirm",j:[he("verificationCode")]}}),Mt(ws,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,c=[jR,VR,qR,UR],h=0;h<c.length;h++)if(s=c[h](r))return s;return null},[Lt(he(),Ut(),"json")]),Mt(ur,"credential",function(r,s){return new Ti(r,s)},[he("email"),he("password")]),St(Ti.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),St(go.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Ut("customOAuthParameters")]}}),Mt(go,"credential",Nb,[Lt(he(),Ut(),"token")]),Mt(ur,"credentialWithLink",Db,[he("email"),he("emailLink")]),St(mo.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Ut("customOAuthParameters")]}}),Mt(mo,"credential",xb,[Lt(he(),Ut(),"token")]),St(vo.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Ut("customOAuthParameters")]}}),Mt(vo,"credential",Ob,[Lt(he(),Lt(Ut(),qr()),"idToken"),Lt(he(),qr(),"accessToken",!0)]),St(_s.prototype,{Ka:{name:"setCustomParameters",j:[Ut("customOAuthParameters")]}}),Mt(_s,"credential",Pb,[Lt(he(),Ut(),"token"),he("secret",!0)]),St(Wn.prototype,{Ca:{name:"addScope",j:[he("scope")]},credential:{name:"credential",j:[Lt(he(),Lt(Ut(),qr()),"optionsOrIdToken"),Lt(he(),qr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ut("customOAuthParameters")]}}),St(ti.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),St(ho.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Mt(ni,"credential",Lb,[he("verificationId"),he("verificationCode")]),St(ni.prototype,{gb:{name:"verifyPhoneNumber",j:[Lt(he(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?Ag(c.session,Yu)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Ag(c.session,il)&&k_(c.multiFactorHint):c.session&&c.multiFactorUid?Ag(c.session,il)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Ml()]}}),St(Si.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),St(k.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),St(Zu.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),St(Zd.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),St(zp.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),St(Kp.prototype,{Rc:{name:"resolveSignIn",j:[A_()]}}),St(Wp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[A_(),he("displayName",!0)]},bd:{name:"unenroll",j:[Lt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:k_},he(),"multiFactorInfoIdentifier")]}}),St(Tg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Mt(qd,"parseLink",hb,[he("link")]),Mt(vg,"assertion",function(r){return new Z0(r)},[ki("phone")]),function(){if(typeof Ce<"u"&&Ce.INTERNAL&&Ce.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Yc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Vd,VERIFY_AND_CHANGE_EMAIL:Xu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:_r,AuthCredential:ws,Error:k};Mt(r,"EmailAuthProvider",ur,[]),Mt(r,"FacebookAuthProvider",go,[]),Mt(r,"GithubAuthProvider",mo,[]),Mt(r,"GoogleAuthProvider",vo,[]),Mt(r,"TwitterAuthProvider",_s,[]),Mt(r,"OAuthProvider",Wn,[he("providerId")]),Mt(r,"SAMLAuthProvider",Rb,[he("providerId")]),Mt(r,"PhoneAuthProvider",ni,[pO()]),Mt(r,"RecaptchaVerifier",Tg,[Lt(he(),dO(),"recaptchaContainer"),Ut("recaptchaParameters",!0),gO()]),Mt(r,"ActionCodeURL",qd,[]),Mt(r,"PhoneMultiFactorGenerator",vg,[]),Ce.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new _r(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),Ce.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:U(s.getUid,s),getToken:U(s.nc,s),addAuthTokenListener:U(s.cc,s),removeAuthTokenListener:U(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ce.registerVersion("@firebase/auth","0.16.8"),Ce.INTERNAL.extendNamespace({User:Xn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _m=function(e,t){return _m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},_m(e,t)};function VL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_m(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function US(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var qL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce,Nv=Nv||{},Le=qL||self;function Sf(){}function Em(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function vc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function BL(e){return Object.prototype.hasOwnProperty.call(e,Fg)&&e[Fg]||(e[Fg]=++$L)}var Fg="closure_uid_"+(1e9*Math.random()>>>0),$L=0;function HL(e,t,n){return e.call.apply(e.bind,arguments)}function KL(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function sn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?sn=HL:sn=KL,sn.apply(null,arguments)}function Hl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function cn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,u){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(i,a)}}function Yi(){this.s=this.s,this.o=this.o}var zL=0;Yi.prototype.s=!1;Yi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),zL!=0)&&BL(this)};Yi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var jS=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},VS=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,u=0;u<i;u++)u in o&&t.call(n,o[u],u,e)};function GL(e){e:{for(var t=UM,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function gE(e){return Array.prototype.concat.apply([],arguments)}function xv(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function Af(e){return/^[\s\xa0]*$/.test(e)}var mE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function kn(e,t){return e.indexOf(t)!=-1}function Ug(e,t){return e<t?-1:e>t?1:0}var Cn;e:{var vE=Le.navigator;if(vE){var yE=vE.userAgent;if(yE){Cn=yE;break e}}Cn=""}function Ov(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function qS(e){var t={};for(var n in e)t[n]=e[n];return t}var wE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BS(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var u=0;u<wE.length;u++)n=wE[u],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Pv(e){return Pv[" "](e),e}Pv[" "]=Sf;function WL(e){var t=YL;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var XL=kn(Cn,"Opera"),ru=kn(Cn,"Trident")||kn(Cn,"MSIE"),$S=kn(Cn,"Edge"),Im=$S||ru,HS=kn(Cn,"Gecko")&&!(kn(Cn.toLowerCase(),"webkit")&&!kn(Cn,"Edge"))&&!(kn(Cn,"Trident")||kn(Cn,"MSIE"))&&!kn(Cn,"Edge"),QL=kn(Cn.toLowerCase(),"webkit")&&!kn(Cn,"Edge");function KS(){var e=Le.document;return e?e.documentMode:void 0}var kf;e:{var jg="",Vg=function(){var e=Cn;if(HS)return/rv:([^\);]+)(\)|;)/.exec(e);if($S)return/Edge\/([\d\.]+)/.exec(e);if(ru)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(QL)return/WebKit\/(\S+)/.exec(e);if(XL)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Vg&&(jg=Vg?Vg[1]:""),ru){var qg=KS();if(qg!=null&&qg>parseFloat(jg)){kf=String(qg);break e}}kf=jg}var YL={};function JL(){return WL(function(){for(var e=0,t=mE(String(kf)).split("."),n=mE("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var u=t[o]||"",a=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u[0].length==0&&a[0].length==0)break;e=Ug(u[1].length==0?0:parseInt(u[1],10),a[1].length==0?0:parseInt(a[1],10))||Ug(u[2].length==0,a[2].length==0)||Ug(u[2],a[2]),u=u[3],a=a[3]}while(e==0)}return 0<=e})}var Tm;if(Le.document&&ru){var bE=KS();Tm=bE||parseInt(kf,10)||void 0}else Tm=void 0;var ZL=Tm,eM=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Le.addEventListener("test",Sf,t),Le.removeEventListener("test",Sf,t)}catch{}return e}();function mn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}mn.prototype.h=function(){this.defaultPrevented=!0};function Ga(e,t){if(mn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(HS){e:{try{Pv(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:tM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ga.Z.h.call(this)}}cn(Ga,mn);var tM={2:"touch",3:"pen",4:"mouse"};Ga.prototype.h=function(){Ga.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var yc="closure_listenable_"+(1e6*Math.random()|0),nM=0;function rM(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++nM,this.ca=this.fa=!1}function vh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function yh(e){this.src=e,this.g={},this.h=0}yh.prototype.add=function(e,t,n,i,o){var u=e.toString();e=this.g[u],e||(e=this.g[u]=[],this.h++);var a=Am(e,t,i,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new rM(t,this.src,u,!!i,o),t.fa=n,e.push(t)),t};function Sm(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=jS(i,t),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(vh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Am(e,t,n,i){for(var o=0;o<e.length;++o){var u=e[o];if(!u.ca&&u.listener==t&&u.capture==!!n&&u.ia==i)return o}return-1}var Dv="closure_lm_"+(1e6*Math.random()|0),Bg={};function zS(e,t,n,i,o){if(i&&i.once)return WS(e,t,n,i,o);if(Array.isArray(t)){for(var u=0;u<t.length;u++)zS(e,t[u],n,i,o);return null}return n=Fv(n),e&&e[yc]?e.N(t,n,vc(i)?!!i.capture:!!i,o):GS(e,t,n,!1,i,o)}function GS(e,t,n,i,o,u){if(!t)throw Error("Invalid event type");var a=vc(o)?!!o.capture:!!o,l=Mv(e);if(l||(e[Dv]=l=new yh(e)),n=l.add(t,n,i,a,u),n.proxy)return n;if(i=iM(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)eM||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(QS(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function iM(){function e(n){return t.call(e.src,e.listener,n)}var t=oM;return e}function WS(e,t,n,i,o){if(Array.isArray(t)){for(var u=0;u<t.length;u++)WS(e,t[u],n,i,o);return null}return n=Fv(n),e&&e[yc]?e.O(t,n,vc(i)?!!i.capture:!!i,o):GS(e,t,n,!0,i,o)}function XS(e,t,n,i,o){if(Array.isArray(t))for(var u=0;u<t.length;u++)XS(e,t[u],n,i,o);else i=vc(i)?!!i.capture:!!i,n=Fv(n),e&&e[yc]?(e=e.i,t=String(t).toString(),t in e.g&&(u=e.g[t],n=Am(u,n,i,o),-1<n&&(vh(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete e.g[t],e.h--)))):e&&(e=Mv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Am(t,n,i,o)),(n=-1<e?t[e]:null)&&Lv(n))}function Lv(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[yc])Sm(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(QS(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Mv(t))?(Sm(n,e),n.h==0&&(n.src=null,t[Dv]=null)):vh(e)}}}function QS(e){return e in Bg?Bg[e]:Bg[e]="on"+e}function oM(e,t){if(e.ca)e=!0;else{t=new Ga(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&Lv(e),e=n.call(i,t)}return e}function Mv(e){return e=e[Dv],e instanceof yh?e:null}var $g="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fv(e){return typeof e=="function"?e:(e[$g]||(e[$g]=function(t){return e.handleEvent(t)}),e[$g])}function Zt(){Yi.call(this),this.i=new yh(this),this.P=this,this.I=null}cn(Zt,Yi);Zt.prototype[yc]=!0;Zt.prototype.removeEventListener=function(e,t,n,i){XS(this,e,t,n,i)};function un(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new mn(t,e);else if(t instanceof mn)t.target=t.target||e;else{var o=t;t=new mn(i,e),BS(t,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var a=t.g=n[u];o=Kl(a,i,!0,t)&&o}if(a=t.g=e,o=Kl(a,i,!0,t)&&o,o=Kl(a,i,!1,t)&&o,n)for(u=0;u<n.length;u++)a=t.g=n[u],o=Kl(a,i,!1,t)&&o}Zt.prototype.M=function(){if(Zt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)vh(n[i]);delete e.g[t],e.h--}}this.I=null};Zt.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};Zt.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Kl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,u=0;u<t.length;++u){var a=t[u];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&Sm(e.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Uv=Le.JSON.stringify;function sM(){var e=JS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var uM=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=YS.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),YS=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new aM},function(e){return e.reset()}),aM=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function cM(e){Le.setTimeout(function(){throw e},0)}function jv(e,t){km||lM(),Cm||(km(),Cm=!0),JS.add(e,t)}var km;function lM(){var e=Le.Promise.resolve(void 0);km=function(){e.then(fM)}}var Cm=!1,JS=new uM;function fM(){for(var e;e=sM();){try{e.h.call(e.g)}catch(n){cM(n)}var t=YS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Cm=!1}function wh(e,t){Zt.call(this),this.h=e||1,this.g=t||Le,this.j=sn(this.kb,this),this.l=Date.now()}cn(wh,Zt);ce=wh.prototype;ce.da=!1;ce.S=null;ce.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),un(this,"tick"),this.da&&(Vv(this),this.start()))}};ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Vv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ce.M=function(){wh.Z.M.call(this),Vv(this),delete this.g};function qv(e,t,n){if(typeof e=="function")n&&(e=sn(e,n));else if(e&&typeof e.handleEvent=="function")e=sn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Le.setTimeout(e,t||0)}function ZS(e){e.g=qv(function(){e.g=null,e.i&&(e.i=!1,ZS(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var hM=function(e){VL(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:ZS(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Yi);function Wa(e){Yi.call(this),this.h=e,this.g={}}cn(Wa,Yi);var _E=[];function eA(e,t,n,i){Array.isArray(n)||(n&&(_E[0]=n.toString()),n=_E);for(var o=0;o<n.length;o++){var u=zS(t,n[o],i||e.handleEvent,!1,e.h||e);if(!u)break;e.g[u.key]=u}}function tA(e){Ov(e.g,function(t,n){this.g.hasOwnProperty(n)&&Lv(t)},e),e.g={}}Wa.prototype.M=function(){Wa.Z.M.call(this),tA(this)};Wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function bh(){this.g=!0}bh.prototype.Aa=function(){this.g=!1};function dM(e,t,n,i,o,u){e.info(function(){if(e.g)if(u)for(var a="",l=u.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var p=d[0];d=d[1];var m=p.split("_");a=2<=m.length&&m[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function pM(e,t,n,i,o,u,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+u+" "+a})}function Bs(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+mM(e,n)+(i?" "+i:"")})}function gM(e,t){e.info(function(){return"TIMEOUT: "+t})}bh.prototype.info=function(){};function mM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Uv(n)}catch{return t}}var ts={},EE=null;function _h(){return EE=EE||new Zt}ts.Ma="serverreachability";function nA(e){mn.call(this,ts.Ma,e)}cn(nA,mn);function Xa(e){var t=_h();un(t,new nA(t))}ts.STAT_EVENT="statevent";function rA(e,t){mn.call(this,ts.STAT_EVENT,e),this.stat=t}cn(rA,mn);function Rn(e){var t=_h();un(t,new rA(t,e))}ts.Na="timingevent";function iA(e,t){mn.call(this,ts.Na,e),this.size=t}cn(iA,mn);function wc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){e()},t)}var Eh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},oA={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Bv(){}Bv.prototype.h=null;function IE(e){return e.h||(e.h=e.i())}function sA(){}var bc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function $v(){mn.call(this,"d")}cn($v,mn);function Hv(){mn.call(this,"c")}cn(Hv,mn);var Rm;function Ih(){}cn(Ih,Bv);Ih.prototype.g=function(){return new XMLHttpRequest};Ih.prototype.i=function(){return{}};Rm=new Ih;function _c(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new Wa(this),this.P=vM,e=Im?125:void 0,this.W=new wh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new uA}function uA(){this.i=null,this.g="",this.h=!1}var vM=45e3,Nm={},Cf={};ce=_c.prototype;ce.setTimeout=function(e){this.P=e};function xm(e,t,n){e.K=1,e.v=Sh(gi(t)),e.s=n,e.U=!0,aA(e,null)}function aA(e,t){e.F=Date.now(),Ec(e),e.A=gi(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),gA(n.h,"t",i),e.C=0,n=e.l.H,e.h=new uA,e.g=LA(e.l,n?t:null,!e.s),0<e.O&&(e.L=new hM(sn(e.Ia,e,e.g),e.O)),eA(e.V,e.g,"readystatechange",e.gb),t=e.H?qS(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Xa(),dM(e.j,e.u,e.A,e.m,e.X,e.s)}ce.gb=function(e){e=e.target;var t=this.L;t&&ui(e)==3?t.l():this.Ia(e)};ce.Ia=function(e){try{if(e==this.g)e:{var t=ui(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||Im||this.g&&(this.h.h||this.g.ga()||kE(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?Xa(3):Xa(2)),Th(this);var o=this.g.ba();this.N=o;t:if(cA(this)){var u=kE(this.g);e="";var a=u.length,l=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Po(this),xa(this);var f="";break t}this.h.i=new Le.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(u[n],{stream:l&&n==a-1});u.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,pM(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Af(d)){var m=d;break t}}m=null}if(o=m)Bs(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Om(this,o);else{this.i=!1,this.o=3,Rn(12),Po(this),xa(this);break e}}this.U?(lA(this,t,f),Im&&this.i&&t==3&&(eA(this.V,this.W,"tick",this.fb),this.W.start())):(Bs(this.j,this.m,f,null),Om(this,f)),t==4&&Po(this),this.i&&!this.I&&(t==4?xA(this.l,this):(this.i=!1,Ec(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Rn(12)):(this.o=0,Rn(13)),Po(this),xa(this)}}}catch{}finally{}};function cA(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function lA(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=yM(e,n),o==Cf){t==4&&(e.o=4,Rn(14),i=!1),Bs(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Nm){e.o=4,Rn(15),Bs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Bs(e.j,e.m,o,null),Om(e,o);cA(e)&&o!=Cf&&o!=Nm&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Rn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zv(t),t.L=!0,Rn(11))):(Bs(e.j,e.m,n,"[Invalid Chunked Response]"),Po(e),xa(e))}ce.fb=function(){if(this.g){var e=ui(this.g),t=this.g.ga();this.C<t.length&&(Th(this),lA(this,e,t),this.i&&e!=4&&Ec(this))}};function yM(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Cf:(n=Number(t.substring(n,i)),isNaN(n)?Nm:(i+=1,i+n>t.length?Cf:(t=t.substr(i,n),e.C=i+n,t)))}ce.cancel=function(){this.I=!0,Po(this)};function Ec(e){e.Y=Date.now()+e.P,fA(e,e.P)}function fA(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=wc(sn(e.eb,e),t)}function Th(e){e.B&&(Le.clearTimeout(e.B),e.B=null)}ce.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(gM(this.j,this.A),this.K!=2&&(Xa(),Rn(17)),Po(this),this.o=2,xa(this)):fA(this,this.Y-e)};function xa(e){e.l.G==0||e.I||xA(e.l,e)}function Po(e){Th(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Vv(e.W),tA(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Om(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Pm(n.i,e))){if(n.I=e.N,!e.J&&Pm(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Of(n),Ch(n);else break e;Jv(n),Rn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=wc(sn(n.ab,n),6e3));if(1>=yA(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Do(n,11)}else if((e.J||n.g==e)&&Of(n),!Af(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var u=o[t];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];var a=u[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=u[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=e.g;if(d){var p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var m=i.i;!m.g&&(kn(p,"spdy")||kn(p,"quic")||kn(p,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(Gv(m,m.h),m.h=null))}if(i.D){var v=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(i.sa=v,Tt(i.F,i.D,v))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=e;if(i.oa=DA(i,i.H?i.la:null,i.W),b.J){wA(i.i,b);var _=b,T=i.K;T&&_.setTimeout(T),_.B&&(Th(_),Ec(_)),i.g=b}else RA(i);0<n.l.length&&Rh(n)}else u[0]!="stop"&&u[0]!="close"||Do(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Do(n,7):Yv(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Xa(4)}catch{}}function wM(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Em(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function Kv(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Em(e)||typeof e=="string")VS(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Em(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=wM(e),o=i.length;for(var u=0;u<o;u++)t.call(void 0,i[u],n&&n[u],e)}}function Su(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof Su)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}ce=Su.prototype;ce.R=function(){zv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ce.T=function(){return zv(this),this.g.concat()};function zv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Wo(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],Wo(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}ce.get=function(e,t){return Wo(this.h,e)?this.h[e]:t};ce.set=function(e,t){Wo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ce.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);e.call(t,u,o,this)}};function Wo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var hA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var u=e[n].substring(0,i);o=e[n].substring(i+1)}else u=e[n];t(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Xo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Xo){this.g=t!==void 0?t:e.g,Rf(this,e.j),this.s=e.s,Nf(this,e.i),xf(this,e.m),this.l=e.l,t=e.h;var n=new Qa;n.i=t.i,t.g&&(n.g=new Su(t.g),n.h=t.h),TE(this,n),this.o=e.o}else e&&(n=String(e).match(hA))?(this.g=!!t,Rf(this,n[1]||"",!0),this.s=Oa(n[2]||""),Nf(this,n[3]||"",!0),xf(this,n[4]),this.l=Oa(n[5]||"",!0),TE(this,n[6]||"",!0),this.o=Oa(n[7]||"")):(this.g=!!t,this.h=new Qa(null,this.g))}Xo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Sa(t,SE,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Sa(t,SE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Sa(n,n.charAt(0)=="/"?SM:TM,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Sa(n,kM)),e.join("")};function gi(e){return new Xo(e)}function Rf(e,t,n){e.j=n?Oa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Nf(e,t,n){e.i=n?Oa(t,!0):t}function xf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function TE(e,t,n){t instanceof Qa?(e.h=t,CM(e.h,e.g)):(n||(t=Sa(t,AM)),e.h=new Qa(t,e.g))}function Tt(e,t,n){e.h.set(t,n)}function Sh(e){return Tt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function _M(e){return e instanceof Xo?gi(e):new Xo(e,void 0)}function EM(e,t,n,i){var o=new Xo(null,void 0);return e&&Rf(o,e),t&&Nf(o,t),n&&xf(o,n),i&&(o.l=i),o}function Oa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Sa(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,IM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function IM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var SE=/[#\/\?@]/g,TM=/[#\?:]/g,SM=/[#\?]/g,AM=/[#\?@]/g,kM=/#/g;function Qa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ji(e){e.g||(e.g=new Su,e.h=0,e.i&&bM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ce=Qa.prototype;ce.add=function(e,t){Ji(this),this.i=null,e=Au(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function dA(e,t){Ji(e),t=Au(e,t),Wo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Wo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&zv(e)))}function pA(e,t){return Ji(e),t=Au(e,t),Wo(e.g.h,t)}ce.forEach=function(e,t){Ji(this),this.g.forEach(function(n,i){VS(n,function(o){e.call(t,o,i,this)},this)},this)};ce.T=function(){Ji(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],u=0;u<o.length;u++)n.push(t[i]);return n};ce.R=function(e){Ji(this);var t=[];if(typeof e=="string")pA(this,e)&&(t=gE(t,this.g.get(Au(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=gE(t,e[n])}return t};ce.set=function(e,t){return Ji(this),this.i=null,e=Au(this,e),pA(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ce.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function gA(e,t,n){dA(e,t),0<n.length&&(e.i=null,e.g.set(Au(e,t),xv(n)),e.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var a=o;i[u]!==""&&(a+="="+encodeURIComponent(String(i[u]))),e.push(a)}}return this.i=e.join("&")};function Au(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function CM(e,t){t&&!e.j&&(Ji(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(dA(this,i),gA(this,o,n))},e)),e.j=t}var RM=function(){function e(t,n){this.h=t,this.g=n}return e}();function mA(e){this.l=e||NM,Le.PerformanceNavigationTiming?(e=Le.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Le.g&&Le.g.Ea&&Le.g.Ea()&&Le.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var NM=10;function vA(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function yA(e){return e.h?1:e.g?e.g.size:0}function Pm(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Gv(e,t){e.g?e.g.add(t):e.h=t}function wA(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}mA.prototype.cancel=function(){var e,t;if(this.i=bA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=US(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function bA(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=US(e.g.values()),u=o.next();!u.done;u=o.next()){var a=u.value;i=i.concat(a.D)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return xv(e.i)}function Wv(){}Wv.prototype.stringify=function(e){return Le.JSON.stringify(e,void 0)};Wv.prototype.parse=function(e){return Le.JSON.parse(e,void 0)};function xM(){this.g=new Wv}function OM(e,t,n){var i=n||"";try{Kv(e,function(o,u){var a=o;vc(o)&&(a=Uv(o)),t.push(i+u+"="+encodeURIComponent(a))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function PM(e,t){var n=new bh;if(Le.Image){var i=new Image;i.onload=Hl(zl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Hl(zl,n,i,"TestLoadImage: error",!1,t),i.onabort=Hl(zl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Hl(zl,n,i,"TestLoadImage: timeout",!1,t),Le.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function zl(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function Ic(e){this.l=e.$b||null,this.j=e.ib||!1}cn(Ic,Bv);Ic.prototype.g=function(){return new Ah(this.l,this.j)};Ic.prototype.i=function(e){return function(){return e}}({});function Ah(e,t){Zt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Xv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cn(Ah,Zt);var Xv=0;ce=Ah.prototype;ce.open=function(e,t){if(this.readyState!=Xv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ya(this)};ce.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Le).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tc(this)),this.readyState=Xv};ce.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ya(this)),this.g&&(this.readyState=3,Ya(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_A(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function _A(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ce.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tc(this):Ya(this),this.readyState==3&&_A(this)}};ce.Ua=function(e){this.g&&(this.response=this.responseText=e,Tc(this))};ce.Ta=function(e){this.g&&(this.response=e,Tc(this))};ce.ha=function(){this.g&&Tc(this)};function Tc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ya(e)}ce.setRequestHeader=function(e,t){this.v.append(e,t)};ce.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ya(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Ah.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var DM=Le.JSON.parse;function Ht(e){Zt.call(this),this.headers=new Su,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=EA,this.K=this.L=!1}cn(Ht,Zt);var EA="",LM=/^https?$/i,MM=["POST","PUT"];ce=Ht.prototype;ce.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rm.g(),this.C=this.u?IE(this.u):IE(Rm),this.g.onreadystatechange=sn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){AE(this,u);return}e=n||"";var o=new Su(this.headers);i&&Kv(i,function(u,a){o.set(a,u)}),i=GL(o.T()),n=Le.FormData&&e instanceof Le.FormData,!(0<=jS(MM,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,a){this.g.setRequestHeader(a,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{SA(this),0<this.B&&((this.K=FM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sn(this.pa,this)):this.A=qv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){AE(this,u)}};function FM(e){return ru&&JL()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function UM(e){return e.toLowerCase()=="content-type"}ce.pa=function(){typeof Nv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,un(this,"timeout"),this.abort(8))};function AE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,IA(e),kh(e)}function IA(e){e.D||(e.D=!0,un(e,"complete"),un(e,"error"))}ce.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,un(this,"complete"),un(this,"abort"),kh(this))};ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kh(this,!0)),Ht.Z.M.call(this)};ce.Fa=function(){this.s||(this.F||this.v||this.l?TA(this):this.cb())};ce.cb=function(){TA(this)};function TA(e){if(e.h&&typeof Nv<"u"&&(!e.C[1]||ui(e)!=4||e.ba()!=2)){if(e.v&&ui(e)==4)qv(e.Fa,0,e);else if(un(e,"readystatechange"),ui(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var u=String(e.H).match(hA)[1]||null;if(!u&&Le.self&&Le.self.location){var a=Le.self.location.protocol;u=a.substr(0,a.length-1)}o=!LM.test(u?u.toLowerCase():"")}i=o}if(i)un(e,"complete"),un(e,"success");else{e.m=6;try{var l=2<ui(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",IA(e)}}finally{kh(e)}}}}function kh(e,t){if(e.g){SA(e);var n=e.g,i=e.C[0]?Sf:null;e.g=null,e.C=null,t||un(e,"ready");try{n.onreadystatechange=i}catch{}}}function SA(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Le.clearTimeout(e.A),e.A=null)}function ui(e){return e.g?e.g.readyState:0}ce.ba=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}};ce.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),DM(t)}};function kE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case EA:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ce.Da=function(){return this.m};ce.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function jM(e){var t="";return Ov(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Qv(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=jM(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Tt(e,t,n))}function ba(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function AA(e){this.za=0,this.l=[],this.h=new bh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ba("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ba("baseRetryDelayMs",5e3,e),this.$a=ba("retryDelaySeedMs",1e4,e),this.Ya=ba("forwardChannelMaxRetries",2,e),this.ra=ba("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new mA(e&&e.concurrentRequestLimit),this.Ca=new xM,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ce=AA.prototype;ce.ma=8;ce.G=1;function Yv(e){if(kA(e),e.G==3){var t=e.V++,n=gi(e.F);Tt(n,"SID",e.J),Tt(n,"RID",t),Tt(n,"TYPE","terminate"),Sc(e,n),t=new _c(e,e.h,t,void 0),t.K=2,t.v=Sh(gi(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon&&(n=Le.navigator.sendBeacon(t.v.toString(),"")),!n&&Le.Image&&(new Image().src=t.v,n=!0),n||(t.g=LA(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ec(t)}PA(e)}ce.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Ch(e){e.g&&(Zv(e),e.g.cancel(),e.g=null)}function kA(e){Ch(e),e.u&&(Le.clearTimeout(e.u),e.u=null),Of(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Le.clearTimeout(e.m),e.m=null)}function Hg(e,t){e.l.push(new RM(e.Za++,t)),e.G==3&&Rh(e)}function Rh(e){vA(e.i)||e.m||(e.m=!0,jv(e.Ha,e),e.C=0)}function VM(e,t){return yA(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=wc(sn(e.Ha,e,t),OA(e,e.C)),e.C++,!0)}ce.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new _c(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=qS(n),BS(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var u=this.l[o];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break t}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=CA(this,t,i),o=gi(this.F),Tt(o,"RID",e),Tt(o,"CVER",22),this.D&&Tt(o,"X-HTTP-Session-Id",this.D),Sc(this,o),this.o&&n&&Qv(o,this.o,n),Gv(this.i,t),this.Ra&&Tt(o,"TYPE","init"),this.ja?(Tt(o,"$req",i),Tt(o,"SID","null"),t.$=!0,xm(t,o,null)):xm(t,o,i),this.G=2}}else this.G==3&&(e?CE(this,e):this.l.length==0||vA(this.i)||CE(this))};function CE(e,t){var n;t?n=t.m:n=e.V++;var i=gi(e.F);Tt(i,"SID",e.J),Tt(i,"RID",n),Tt(i,"AID",e.U),Sc(e,i),e.o&&e.s&&Qv(i,e.o,e.s),n=new _c(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=CA(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Gv(e.i,n),xm(n,i,t)}function Sc(e,t){e.j&&Kv({},function(n,i){Tt(t,i,n)})}function CA(e,t,n){n=Math.min(e.l.length,n);var i=e.j?sn(e.j.Oa,e.j,e):null;e:for(var o=e.l,u=-1;;){var a=["count="+n];u==-1?0<n?(u=o[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var l=!0,f=0;f<n;f++){var d=o[f].h,p=o[f].g;if(d-=u,0>d)u=Math.max(0,o[f].h-100),l=!1;else try{OM(p,a,"req"+d+"_")}catch{i&&i(p)}}if(l){i=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,i}function RA(e){e.g||e.u||(e.Y=1,jv(e.Ga,e),e.A=0)}function Jv(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=wc(sn(e.Ga,e),OA(e,e.A)),e.A++,!0)}ce.Ga=function(){if(this.u=null,NA(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=wc(sn(this.bb,this),e)}};ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Rn(10),Ch(this),NA(this))};function Zv(e){e.B!=null&&(Le.clearTimeout(e.B),e.B=null)}function NA(e){e.g=new _c(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=gi(e.oa);Tt(t,"RID","rpc"),Tt(t,"SID",e.J),Tt(t,"CI",e.N?"0":"1"),Tt(t,"AID",e.U),Sc(e,t),Tt(t,"TYPE","xmlhttp"),e.o&&e.s&&Qv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Sh(gi(t)),n.s=null,n.U=!0,aA(n,e)}ce.ab=function(){this.v!=null&&(this.v=null,Ch(this),Jv(this),Rn(19))};function Of(e){e.v!=null&&(Le.clearTimeout(e.v),e.v=null)}function xA(e,t){var n=null;if(e.g==t){Of(e),Zv(e),e.g=null;var i=2}else if(Pm(e.i,t))n=t.D,wA(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=_h(),un(i,new iA(i,n)),Rh(e)}else RA(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&VM(e,t)||i==2&&Jv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Do(e,5);break;case 4:Do(e,10);break;case 3:Do(e,6);break;default:Do(e,2)}}}function OA(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Do(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=sn(e.jb,e);n||(n=new Xo("//www.google.com/images/cleardot.gif"),Le.location&&Le.location.protocol=="http"||Rf(n,"https"),Sh(n)),PM(n.toString(),i)}else Rn(2);e.G=0,e.j&&e.j.va(t),PA(e),kA(e)}ce.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Rn(2)):(this.h.info("Failed to ping google.com"),Rn(1))};function PA(e){e.G=0,e.I=-1,e.j&&((bA(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,xv(e.l),e.l.length=0),e.j.ua())}function DA(e,t,n){var i=_M(n);if(i.i!="")t&&Nf(i,t+"."+i.i),xf(i,i.m);else{var o=Le.location;i=EM(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Ov(e.aa,function(u,a){Tt(i,a,u)}),t=e.D,n=e.sa,t&&n&&Tt(i,t,n),Tt(i,"VER",e.ma),Sc(e,i),i}function LA(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Ht(new Ic({ib:!0})):new Ht(e.qa),t.L=e.H,t}function MA(){}ce=MA.prototype;ce.xa=function(){};ce.wa=function(){};ce.va=function(){};ce.ua=function(){};ce.Oa=function(){};function Pf(){if(ru&&!(10<=Number(ZL)))throw Error("Environmental error: no available transport.")}Pf.prototype.g=function(e,t){return new ir(e,t)};function ir(e,t){Zt.call(this),this.g=new AA(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Af(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Af(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new ku(this)}cn(ir,Zt);ir.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),jv(sn(e.hb,e,t))),Rn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=DA(e,null,e.W),Rh(e)};ir.prototype.close=function(){Yv(this.g)};ir.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Hg(this.g,t)}else this.v?(t={},t.__data__=Uv(e),Hg(this.g,t)):Hg(this.g,e)};ir.prototype.M=function(){this.g.j=null,delete this.j,Yv(this.g),delete this.g,ir.Z.M.call(this)};function FA(e){$v.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}cn(FA,$v);function UA(){Hv.call(this),this.status=1}cn(UA,Hv);function ku(e){this.g=e}cn(ku,MA);ku.prototype.xa=function(){un(this.g,"a")};ku.prototype.wa=function(e){un(this.g,new FA(e))};ku.prototype.va=function(e){un(this.g,new UA)};ku.prototype.ua=function(){un(this.g,"b")};Pf.prototype.createWebChannel=Pf.prototype.g;ir.prototype.send=ir.prototype.u;ir.prototype.open=ir.prototype.m;ir.prototype.close=ir.prototype.close;Eh.NO_ERROR=0;Eh.TIMEOUT=8;Eh.HTTP_ERROR=6;oA.COMPLETE="complete";sA.EventType=bc;bc.OPEN="a";bc.CLOSE="b";bc.ERROR="c";bc.MESSAGE="d";Zt.prototype.listen=Zt.prototype.N;Ht.prototype.listenOnce=Ht.prototype.O;Ht.prototype.getLastError=Ht.prototype.La;Ht.prototype.getLastErrorCode=Ht.prototype.Da;Ht.prototype.getStatus=Ht.prototype.ba;Ht.prototype.getResponseJson=Ht.prototype.Qa;Ht.prototype.getResponseText=Ht.prototype.ga;Ht.prototype.send=Ht.prototype.ea;var qM=function(){return new Pf},BM=function(){return _h()},Kg=Eh,$M=oA,HM=ts,RE={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},KM=Ic,Gl=sA,zM=Ht,GM={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();tr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Te(t,e),t}(Error),Cr=new DS("@firebase/firestore");function Dm(){return Cr.logLevel}function re(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Cr.logLevel<=tt.DEBUG){var i=t.map(ey);Cr.debug.apply(Cr,It(["Firestore (8.10.1): "+e],i))}}function Bt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Cr.logLevel<=tt.ERROR){var i=t.map(ey);Cr.error.apply(Cr,It(["Firestore (8.10.1): "+e],i))}}function Df(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Cr.logLevel<=tt.WARN){var i=t.map(ey);Cr.warn.apply(Cr,It(["Firestore (8.10.1): "+e],i))}}function ey(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Bt(t),new Error(t)}function Oe(e,t){e||ye()}function ue(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jA=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=WM(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=t.charAt(o[u]%t.length));return i},e}();function Ke(e,t){return e<t?-1:e>t?1:0}function iu(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function VA(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new X(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new X(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new X(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ke(this.nanoseconds,t.nanoseconds):Ke(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ve=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new qn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ns(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BA=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&ye(),i===void 0?i=t.length-n:i>t.length-n&&ye(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var u=t.get(o),a=n.get(o);if(u<a)return-1;if(u>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),it=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,a=n;u<a.length;u++){var l=a[u];if(l.indexOf("//")>=0)throw new X(P.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(BA),XM=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return XM.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",u=0,a=function(){if(o.length===0)throw new X(P.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new X(P.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[u+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new X(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(o+=f,u++):(a(),u++)}if(a(),l)throw new X(P.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(BA),ou=function(){function e(t){this.fields=t,t.sort(xr.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return iu(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),$n=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ke(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();$n.EMPTY_BYTE_STRING=new $n("");var QM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(e){if(Oe(!!e),typeof e=="string"){var t=0,n=QM.exec(e);if(Oe(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Vt(e.seconds),nanos:Vt(e.nanos)}}function Vt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function su(e){return typeof e=="string"?$n.fromBase64String(e):$n.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $A(e){var t=e.mapValue.fields.__previous_value__;return ty(t)?$A(t):t}function Ja(e){var t=Xi(e.mapValue.fields.__local_write_time__.timestampValue);return new qn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(e){return e==null}function Lf(e){return e===0&&1/e==-1/0}function HA(e){return typeof e=="number"&&Number.isInteger(e)&&!Lf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(it.fromString(t))},e.fromName=function(t){return new e(it.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&it.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return it.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new it(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ty(e)?4:10:ye()}function Jr(e,t){var n=Qo(e);if(n!==Qo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ja(e).isEqual(Ja(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=Xi(i.timestampValue),a=Xi(o.timestampValue);return u.seconds===a.seconds&&u.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return su(i.bytesValue).isEqual(su(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Vt(i.geoPointValue.latitude)===Vt(o.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Vt(i.integerValue)===Vt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=Vt(i.doubleValue),a=Vt(o.doubleValue);return u===a?Lf(u)===Lf(a):isNaN(u)&&isNaN(a)}return!1}(e,t);case 9:return iu(e.arrayValue.values||[],t.arrayValue.values||[],Jr);case 10:return function(i,o){var u=i.mapValue.fields||{},a=o.mapValue.fields||{};if(NE(u)!==NE(a))return!1;for(var l in u)if(u.hasOwnProperty(l)&&(a[l]===void 0||!Jr(u[l],a[l])))return!1;return!0}(e,t);default:return ye()}}function Za(e,t){return(e.values||[]).find(function(n){return Jr(n,t)})!==void 0}function uu(e,t){var n=Qo(e),i=Qo(t);if(n!==i)return Ke(n,i);switch(n){case 0:return 0;case 1:return Ke(e.booleanValue,t.booleanValue);case 2:return function(o,u){var a=Vt(o.integerValue||o.doubleValue),l=Vt(u.integerValue||u.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return xE(e.timestampValue,t.timestampValue);case 4:return xE(Ja(e),Ja(t));case 5:return Ke(e.stringValue,t.stringValue);case 6:return function(o,u){var a=su(o),l=su(u);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,u){for(var a=o.split("/"),l=u.split("/"),f=0;f<a.length&&f<l.length;f++){var d=Ke(a[f],l[f]);if(d!==0)return d}return Ke(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,u){var a=Ke(Vt(o.latitude),Vt(u.latitude));return a!==0?a:Ke(Vt(o.longitude),Vt(u.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,u){for(var a=o.values||[],l=u.values||[],f=0;f<a.length&&f<l.length;++f){var d=uu(a[f],l[f]);if(d)return d}return Ke(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,u){var a=o.fields||{},l=Object.keys(a),f=u.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var p=0;p<l.length&&p<d.length;++p){var m=Ke(l[p],d[p]);if(m!==0)return m;var v=uu(a[l[p]],f[d[p]]);if(v!==0)return v}return Ke(l.length,d.length)}(e.mapValue,t.mapValue);default:throw ye()}}function xE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ke(e,t);var n=Xi(e),i=Xi(t),o=Ke(n.seconds,i.seconds);return o!==0?o:Ke(n.nanos,i.nanos)}function ny(e){return Lm(e)}function Lm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=Xi(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?su(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,be.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",u=!0,a=0,l=i.values||[];a<l.length;a++)u?u=!1:o+=",",o+=Lm(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",u=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];u?u=!1:o+=",",o+=f+":"+Lm(i.fields[f])}return o+"}"}(e.mapValue):ye();var t,n}function Mf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Mm(e){return!!e&&"integerValue"in e}function ry(e){return!!e&&"arrayValue"in e}function OE(e){return!!e&&"nullValue"in e}function PE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function hf(e){return!!e&&"mapValue"in e}function Pa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ns(e.mapValue.fields,function(o,u){return t.mapValue.fields[o]=Pa(u)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Pa(e.arrayValue.values[i]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!hf(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pa(n)},e.prototype.setAll=function(t){var n=this,i=xr.emptyPath(),o={},u=[];t.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,u),o={},u=[],i=f.popLast()}l?o[f.lastSegment()]=Pa(l):u.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,u)},e.prototype.delete=function(t){var n=this.field(t.popLast());hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Jr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];hf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){ns(n,function(l,f){return t[l]=f});for(var o=0,u=i;o<u.length;o++){var a=u[o];delete t[a]}},e.prototype.clone=function(){return new e(Pa(this.value))},e}();function KA(e){var t=[];return ns(e.fields,function(n,i){var o=new xr([n]);if(hf(i)){var u=KA(i.mapValue).fields;if(u.length===0)t.push(o);else for(var a=0,l=u;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new ou(t)}var vn=function(){function e(t,n,i,o,u){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=u}return e.newInvalidDocument=function(t){return new e(t,0,Ve.min(),er.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,er.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,er.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=er.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=er.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),YM=function(e,t,n,i,o,u,a){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(e,t,n,i,o,u,a){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),new YM(e,t,n,i,o,u,a)}function Ac(e){var t=ue(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+ny(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),rs(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Uf(t.startAt)),t.endAt&&(n+="|ub:",n+=Uf(t.endAt)),t.h=n}return t.h}function Nh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!oF(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],u=t.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!Jr(o.value,u.value))return!1;var o,u;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ME(e.startAt,t.startAt)&&ME(e.endAt,t.endAt)}function Ff(e){return be.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var nr=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).field=n,u.op=i,u.value=o,u}return Te(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new JM(n,i,o):i==="array-contains"?new tF(n,o):i==="in"?new nF(n,o):i==="not-in"?new rF(n,o):i==="array-contains-any"?new iF(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new ZM(n,o):new eF(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(uu(i,this.value)):i!==null&&Qo(this.value)===Qo(i)&&this.m(uu(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ye()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),JM=function(e){function t(n,i,o){var u=this;return(u=e.call(this,n,i,o)||this).key=be.fromName(o.referenceValue),u}return Te(t,e),t.prototype.matches=function(n){var i=be.comparator(n.key,this.key);return this.m(i)},t}(nr),ZM=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=zA("in",i),o}return Te(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(nr),eF=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=zA("not-in",i),o}return Te(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(nr);function zA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return be.fromName(i.referenceValue)})}var tF=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return Te(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return ry(i)&&Za(i.arrayValue,this.value)},t}(nr),nF=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return Te(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Za(this.value.arrayValue,i)},t}(nr),rF=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return Te(t,e),t.prototype.matches=function(n){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Za(this.value.arrayValue,i)},t}(nr),iF=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return Te(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!ry(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return Za(i.value.arrayValue,u)})},t}(nr),ec=function(e,t){this.position=e,this.before=t};function Uf(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return ny(t)}).join(",")}var Ws=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function oF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function LE(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var u=t[o],a=e.position[o];if(i=u.field.isKeyField()?be.comparator(be.fromName(a.referenceValue),n.key):uu(a,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function ME(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Jr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vi=function(e,t,n,i,o,u,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=u,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function GA(e,t,n,i,o,u,a,l){return new vi(e,t,n,i,o,u,a,l)}function kc(e){return new vi(e)}function df(e){return!rs(e.limit)&&e.limitType==="F"}function jf(e){return!rs(e.limit)&&e.limitType==="L"}function iy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function oy(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function sy(e){return e.collectionGroup!==null}function au(e){var t=ue(e);if(t.p===null){t.p=[];var n=oy(t),i=iy(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new Ws(n)),t.p.push(new Ws(xr.keyField(),"asc"));else{for(var o=!1,u=0,a=t.explicitOrderBy;u<a.length;u++){var l=a[u];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ws(xr.keyField(),f))}}}return t.p}function Zr(e){var t=ue(e);if(!t.T)if(t.limitType==="F")t.T=DE(t.path,t.collectionGroup,au(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=au(t);i<o.length;i++){var u=o[i],a=u.dir==="desc"?"asc":"desc";n.push(new Ws(u.field,a))}var l=t.endAt?new ec(t.endAt.position,!t.endAt.before):null,f=t.startAt?new ec(t.startAt.position,!t.startAt.before):null;t.T=DE(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function WA(e,t,n){return new vi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cc(e,t){return Nh(Zr(e),Zr(t))&&e.limitType===t.limitType}function XA(e){return Ac(Zr(e))+"|lt:"+e.limitType}function Fm(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+ny(o.value);var o}).join(", ")+"]"),rs(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Uf(t.startAt)),t.endAt&&(n+=", endAt: "+Uf(t.endAt)),"Target("+n+")"}(Zr(e))+"; limitType="+e.limitType+")"}function Rc(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):be.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,u=n.explicitOrderBy;o<u.length;o++){var a=u[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!LE(n.startAt,au(n),i))&&(!n.endAt||!LE(n.endAt,au(n),i))}(e,t)}function QA(e){return function(t,n){for(var i=!1,o=0,u=au(e);o<u.length;o++){var a=u[o],l=sF(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function sF(e,t,n){var i=e.field.isKeyField()?be.comparator(t.key,n.key):function(o,u,a){var l=u.data.field(o),f=a.data.field(o);return l!==null&&f!==null?uu(l,f):ye()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lf(t)?"-0":t}}function JA(e){return{integerValue:""+e}}function ZA(e,t){return HA(t)?JA(t):YA(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xh=function(){this._=void 0};function uF(e,t,n){return e instanceof cu?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,t):e instanceof Yo?t1(e,t):e instanceof Jo?n1(e,t):function(i,o){var u=e1(i,o),a=FE(u)+FE(i.A);return Mm(u)&&Mm(i.A)?JA(a):YA(i.R,a)}(e,t)}function aF(e,t,n){return e instanceof Yo?t1(e,t):e instanceof Jo?n1(e,t):n}function e1(e,t){return e instanceof lu?Mm(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}var cu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t}(xh),Yo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Te(t,e),t}(xh);function t1(e,t){for(var n=r1(t),i=function(a){n.some(function(l){return Jr(l,a)})||n.push(a)},o=0,u=e.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var Jo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Te(t,e),t}(xh);function n1(e,t){for(var n=r1(t),i=function(a){n=n.filter(function(l){return!Jr(l,a)})},o=0,u=e.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var lu=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return Te(t,e),t}(xh);function FE(e){return Vt(e.integerValue||e.doubleValue)}function r1(e){return ry(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nc=function(e,t){this.field=e,this.transform=t},cF=function(e,t){this.version=e,this.transformResults=t},gn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function pf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Oh=function(){};function lF(e,t,n){e instanceof xc?function(i,o,u){var a=i.value.clone(),l=VE(i.fieldTransforms,o,u.transformResults);a.setAll(l),o.convertToFoundDocument(u.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Zi?function(i,o,u){if(pf(i.precondition,o)){var a=VE(i.fieldTransforms,o,u.transformResults),l=o.data;l.setAll(i1(i)),l.setAll(a),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(u.version)}(e,t,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,n)}function Um(e,t,n){e instanceof xc?function(i,o,u){if(pf(i.precondition,o)){var a=i.value.clone(),l=qE(i.fieldTransforms,u,o);a.setAll(l),o.convertToFoundDocument(jE(o),a).setHasLocalMutations()}}(e,t,n):e instanceof Zi?function(i,o,u){if(pf(i.precondition,o)){var a=qE(i.fieldTransforms,u,o),l=o.data;l.setAll(i1(i)),l.setAll(a),o.convertToFoundDocument(jE(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){pf(i.precondition,o)&&o.convertToNoDocument(Ve.min())}(e,t)}function fF(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var u=o[i],a=t.data.field(u.field),l=e1(u.transform,a||null);l!=null&&(n==null&&(n=er.empty()),n.set(u.field,l))}return n||null}function UE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&iu(n,i,function(o,u){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof Yo&&d instanceof Yo||f instanceof Jo&&d instanceof Jo?iu(f.elements,d.elements,Jr):f instanceof lu&&d instanceof lu?Jr(f.A,d.A):f instanceof cu&&d instanceof cu}(a.transform,l.transform)}(o,u)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function jE(e){return e.isFoundDocument()?e.version:Ve.min()}var xc=function(e){function t(n,i,o,u){u===void 0&&(u=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=u,a.type=0,a}return Te(t,e),t}(Oh),Zi=function(e){function t(n,i,o,u,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=u,l.fieldTransforms=a,l.type=1,l}return Te(t,e),t}(Oh);function i1(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function VE(e,t,n){var i=new Map;Oe(e.length===n.length);for(var o=0;o<n.length;o++){var u=e[o],a=u.transform,l=t.data.field(u.field);i.set(u.field,aF(a,l,n[o]))}return i}function qE(e,t,n){for(var i=new Map,o=0,u=e;o<u.length;o++){var a=u[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,uF(l,f,t))}return i}var jt,We,Oc=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return Te(t,e),t}(Oh),uy=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return Te(t,e),t}(Oh),hF=function(e){this.count=e};function o1(e){switch(e){case P.OK:return ye();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return ye()}}function s1(e){if(e===void 0)return Bt("GRPC error has no .code"),P.UNKNOWN;switch(e){case jt.OK:return P.OK;case jt.CANCELLED:return P.CANCELLED;case jt.UNKNOWN:return P.UNKNOWN;case jt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case jt.INTERNAL:return P.INTERNAL;case jt.UNAVAILABLE:return P.UNAVAILABLE;case jt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case jt.NOT_FOUND:return P.NOT_FOUND;case jt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case jt.ABORTED:return P.ABORTED;case jt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case jt.DATA_LOSS:return P.DATA_LOSS;default:return ye()}}(We=jt||(jt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn=function(){function e(t,n){this.comparator=t,this.root=n||Ui.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ui.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ui.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Wl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Wl(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Wl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Wl(this.root,t,this.comparator,!0)},e}(),Wl=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var u=1;!t.isEmpty();)if(u=n?i(t.key,n):1,o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Ui=function(){function e(t,n,i,o,u){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=u??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,u){return new e(t??this.key,n??this.value,i??this.color,o??this.left,u??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,u=i(t,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(t,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();var t=this.left.check();if(t!==this.right.check())throw ye();return t+(this.isRed()?0:1)},e}();Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1,Ui.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ye()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,u){return this},e.prototype.insert=function(t,n,i){return new Ui(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt=function(){function e(t){this.comparator=t,this.data=new yn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new BE(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new BE(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),BE=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),dF=new yn(be.comparator);function Rr(){return dF}var pF=new yn(be.comparator);function jm(){return pF}var gF=new yn(be.comparator);function mF(){return gF}var vF=new Qt(be.comparator);function vt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=vF,i=0,o=e;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var yF=new Qt(Ke);function Ph(){return yF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ay=function(){function e(t,n,i,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,cy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ve.min(),i,Ph(),Rr(),vt())},e}(),cy=function(){function e(t,n,i,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e($n.EMPTY_BYTE_STRING,n,vt(),vt(),vt())},e}(),gf=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},u1=function(e,t){this.targetId=e,this.V=t},a1=function(e,t,n,i){n===void 0&&(n=$n.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},$E=function(){function e(){this.S=0,this.D=KE(),this.C=$n.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=vt(),n=vt(),i=vt();return this.D.forEach(function(o,u){switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ye()}}),new cy(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=KE()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),wF=function(){function e(t){this.W=t,this.G=new Map,this.H=Rr(),this.J=HE(),this.Y=new Qt(Ke)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var u=0,a=t.removedTargetIds;u<a.length;u++)o=a[u],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:ye()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,u){i.st(u)&&n(u)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var u=o.target;if(Ff(u))if(i===0){var a=new be(u.path);this.tt(n,a,vn.newNoDocument(a,Ve.min()))}else Oe(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Ff(f.target)){var d=new be(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,vn.newNoDocument(d,t))}a.$&&(i.set(l,a.M()),a.L())}});var o=vt();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var p=n.ot(d);return!p||p.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var u=new ay(t,i,this.Y,this.H,o);return this.H=Rr(),this.J=HE(),this.Y=new Qt(Ke),u},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new $E,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Qt(Ke),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||re("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new $E),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function HE(){return new yn(be.comparator)}function KE(){return new yn(be.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bF={asc:"ASCENDING",desc:"DESCENDING"},_F={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EF=function(e,t){this.databaseId=e,this.I=t};function tc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function c1(e,t){return e.I?t.toBase64():t.toUint8Array()}function IF(e,t){return tc(e,t.toTimestamp())}function Nn(e){return Oe(!!e),Ve.fromTimestamp(function(t){var n=Xi(t);return new qn(n.seconds,n.nanos)}(e))}function ly(e,t){return function(n){return new it(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function l1(e){var t=it.fromString(e);return Oe(v1(t)),t}function nc(e,t){return ly(e.databaseId,t.path)}function li(e,t){var n=l1(t);if(n.get(1)!==e.databaseId.projectId)throw new X(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new X(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new be(h1(n))}function Vm(e,t){return ly(e.databaseId,t)}function f1(e){var t=l1(e);return t.length===4?it.emptyPath():h1(t)}function rc(e){return new it(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function h1(e){return Oe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function zE(e,t,n){return{name:nc(e,t),fields:n.value.mapValue.fields}}function TF(e,t,n){var i=li(e,t.name),o=Nn(t.updateTime),u=new er({mapValue:{fields:t.fields}}),a=vn.newFoundDocument(i,o,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Vf(e,t){var n;if(t instanceof xc)n={update:zE(e,t.key,t.value)};else if(t instanceof Oc)n={delete:nc(e,t.key)};else if(t instanceof Zi)n={update:zE(e,t.key,t.data),updateMask:RF(t.fieldMask)};else{if(!(t instanceof uy))return ye();n={verify:nc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,u){var a=u.transform;if(a instanceof cu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jo)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lu)return{fieldPath:u.field.canonicalString(),increment:a.A};throw ye()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:IF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(e,t.precondition)),n}function GE(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?gn.updateTime(Nn(d.updateTime)):d.exists!==void 0?gn.exists(d.exists):gn.none()}(t.currentDocument):gn.none(),i=t.updateTransforms?t.updateTransforms.map(function(d){return function(p,m){var v=null;if("setToServerValue"in m)Oe(m.setToServerValue==="REQUEST_TIME"),v=new cu;else if("appendMissingElements"in m){var b=m.appendMissingElements.values||[];v=new Yo(b)}else if("removeAllFromArray"in m){var _=m.removeAllFromArray.values||[];v=new Jo(_)}else"increment"in m?v=new lu(p,m.increment):ye();var T=xr.fromServerFormat(m.fieldPath);return new Nc(T,v)}(e,d)}):[];if(t.update){t.update.name;var o=li(e,t.update.name),u=new er({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(d){var p=d.fieldPaths||[];return new ou(p.map(function(m){return xr.fromServerFormat(m)}))}(t.updateMask);return new Zi(o,u,a,n,i)}return new xc(o,u,n,i)}if(t.delete){var l=li(e,t.delete);return new Oc(l,n)}if(t.verify){var f=li(e,t.verify);return new uy(f,n)}return ye()}function d1(e,t){return{documents:[Vm(e,t.path)]}}function p1(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Vm(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vm(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(p){if(p.op==="=="){if(PE(p.value))return{unaryFilter:{field:Ds(p.field),op:"IS_NAN"}};if(OE(p.value))return{unaryFilter:{field:Ds(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(PE(p.value))return{unaryFilter:{field:Ds(p.field),op:"IS_NOT_NAN"}};if(OE(p.value))return{unaryFilter:{field:Ds(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(p.field),op:AF(p.op),value:p.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var u=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:Ds(d.field),direction:SF(d.dir)}}(f)})}(t.orderBy);u&&(n.structuredQuery.orderBy=u);var a=function(l,f){return l.I||rs(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=WE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=WE(t.endAt)),n}function g1(e){var t=f1(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Oe(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:t=t.child(u.collectionId)}var a=[];n.where&&(a=m1(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(m){return function(v){return new Ws($s(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m)}));var f=null;n.limit&&(f=function(m){var v;return rs(v=typeof m=="object"?m.value:m)?null:v}(n.limit));var d=null;n.startAt&&(d=XE(n.startAt));var p=null;return n.endAt&&(p=XE(n.endAt)),GA(t,o,l,a,f,"F",d,p)}function m1(e){return e?e.unaryFilter!==void 0?[CF(e)]:e.fieldFilter!==void 0?[kF(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return m1(t)}).reduce(function(t,n){return t.concat(n)}):ye():[]}function WE(e){return{before:e.before,values:e.position}}function XE(e){var t=!!e.before,n=e.values||[];return new ec(n,t)}function SF(e){return bF[e]}function AF(e){return _F[e]}function Ds(e){return{fieldPath:e.canonicalString()}}function $s(e){return xr.fromServerFormat(e.fieldPath)}function kF(e){return nr.create($s(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ye()}}(e.fieldFilter.op),e.fieldFilter.value)}function CF(e){switch(e.unaryFilter.op){case"IS_NAN":var t=$s(e.unaryFilter.field);return nr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=$s(e.unaryFilter.field);return nr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=$s(e.unaryFilter.field);return nr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=$s(e.unaryFilter.field);return nr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ye()}}function RF(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function v1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=QE(t)),t=NF(e.get(n),t);return QE(t)}function NF(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var u=e.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function QE(e){return e+""}function ai(e){var t=e.length;if(Oe(t>=2),t===2)return Oe(e.charAt(0)===""&&e.charAt(1)===""),it.emptyPath();for(var n=t-2,i=[],o="",u=0;u<t;){var a=e.indexOf("",u);switch((a<0||a>n)&&ye(),e.charAt(a+1)){case"":var l=e.substring(u,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=e.substring(u,a),o+="\0";break;case"":o+=e.substring(u,a+1);break;default:ye()}u=a+2}return new it(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xF=function(e,t){this.seconds=e,this.nanoseconds=t},Jn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Jn.store="owner",Jn.key="owner";var Ki=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Ki.store="mutationQueues",Ki.keyPath="userId";var wt=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};wt.store="mutations",wt.keyPath="batchId",wt.userMutationsIndex="userMutationsIndex",wt.userMutationsKeyPath=["userId","batchId"];var hn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Nr(n)]},e.key=function(t,n,i){return[t,Nr(n),i]},e}();hn.store="documentMutations",hn.PLACEHOLDER=new hn;var OF=function(e,t){this.path=e,this.readTime=t},PF=function(e,t){this.path=e,this.version=t},xt=function(e,t,n,i,o,u){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};xt.store="remoteDocuments",xt.readTimeIndex="readTimeIndex",xt.readTimeIndexPath="readTime",xt.collectionReadTimeIndex="collectionReadTimeIndex",xt.collectionReadTimeIndexPath=["parentPath","readTime"];var zr=function(e){this.byteSize=e};zr.store="remoteDocumentGlobal",zr.key="remoteDocumentGlobalKey";var Vn=function(e,t,n,i,o,u,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=a};Vn.store="targets",Vn.keyPath="targetId",Vn.queryTargetsIndexName="queryTargetsIndex",Vn.queryTargetsKeyPath=["canonicalId","targetId"];var on=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};on.store="targetDocuments",on.keyPath=["targetId","path"],on.documentTargetsIndex="documentTargetsIndex",on.documentTargetsKeyPath=["path","targetId"];var Zn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Zn.key="targetGlobalKey",Zn.store="targetGlobal";var qo=function(e,t){this.collectionId=e,this.parent=t};qo.store="collectionParents",qo.keyPath=["collectionId","parent"];var fi=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};fi.store="clientMetadata",fi.keyPath="clientId";var fu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};fu.store="bundles",fu.keyPath="bundleId";var hu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};hu.store="namedQueries",hu.keyPath="name";var DF=It(It([],It(It([],It(It([],It(It([],[Ki.store,wt.store,hn.store,xt.store,Vn.store,Jn.store,Zn.store,on.store]),[fi.store])),[zr.store])),[qo.store])),[fu.store,hu.store]),y1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",w1=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Hn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},J=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,u){i.nextCallback=function(a){i.wrapSuccess(t,a).next(o,u)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,u)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,u=0,a=!1;t.forEach(function(l){++o,l.next(function(){++u,a&&u===o&&n()},function(f){return i(f)})}),a=!0,u===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,u=t;o<u.length;o++)i(u[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(u,a){o.push(n.call(i,u,a))}),this.waitFor(o)},e}(),b1=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Hn,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new Da(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var u=fy(o.target.error);i.ft.reject(new Da(t,u))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(u){throw new Da(n,u)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(re("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new MF(n)},e}(),du=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(Go())===12.2&&Bt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return re("SimpleDb","Removing database:",t),xo(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Go(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),u=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||u)},e.gt=function(){var t;return typeof process<"u"&&((t=GM)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return H(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(re("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;u(d)},l.onblocked=function(){a(new Da(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new X(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Da(t,d))},l.onupgradeneeded=function(f){re("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){re("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return H(this,void 0,void 0,function(){var u,a,l,f,d;return $(this,function(p){switch(p.label){case 0:u=n==="readonly",a=0,l=function(){var m,v,b,_,T;return $(this,function(S){switch(S.label){case 0:++a,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=S.sent(),m=b1.open(f.db,t,u?"readonly":"readwrite",i),v=o(m).catch(function(x){return m.abort(x),J.reject(x)}).toPromise(),b={},v.catch(function(){}),[4,m.dt];case 3:return[2,(b.value=(S.sent(),v),b)];case 4:return _=S.sent(),T=_.name!=="FirebaseError"&&a<3,re("SimpleDb","Transaction failed with error:",_.message,"Retrying:",T),f.close(),T?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(d=p.sent())=="object")return[2,d.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),LF=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return xo(this.Pt.delete())},e}(),Da=function(e){function t(n,i){var o=this;return(o=e.call(this,P.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return Te(t,e),t}(X);function is(e){return e.name==="IndexedDbTransactionError"}var MF=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(re("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),xo(i)},e.prototype.add=function(t){return re("SimpleDb","ADD",this.store.name,t,t),xo(this.store.add(t))},e.prototype.get=function(t){var n=this;return xo(this.store.get(t)).next(function(i){return i===void 0&&(i=null),re("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return re("SimpleDb","DELETE",this.store.name,t),xo(this.store.delete(t))},e.prototype.count=function(){return re("SimpleDb","COUNT",this.store.name),xo(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(u,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){re("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(u,a,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new J(function(i,o){n.onerror=function(u){var a=fy(u.target.error);o(a)},n.onsuccess=function(u){var a=u.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new J(function(o,u){t.onerror=function(a){u(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new LF(l),d=n(l.primaryKey,l.value,f);if(d instanceof J){var p=d.catch(function(m){return f.done(),J.reject(m)});i.push(p)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return J.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function xo(e){return new J(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=fy(i.target.error);n(o)}})}var YE=!1;function fy(e){var t=du._t(Go());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new X("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return YE||(YE=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JE=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return Te(t,e),t}(w1);function Kn(e,t){var n=ue(e);return du.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hy=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var u=this.mutations[o];u.key.isEqual(t.key)&&lF(u,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t.key)&&Um(a,t,this.localWriteTime);for(var o=0,u=this.mutations;o<u.length;o++){var a;(a=u[o]).key.isEqual(t.key)&&Um(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),u=o;n.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(Ve.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},vt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&iu(this.mutations,t.mutations,function(n,i){return UE(n,i)})&&iu(this.baseMutations,t.baseMutations,function(n,i){return UE(n,i)})},e}(),FF=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){Oe(t.mutations.length===i.length);for(var o=mF(),u=t.mutations,a=0;a<u.length;a++)o=o.insert(u[a].key,i[a].version);return new e(t,n,i,o)},e}(),Dh=function(){function e(t,n,i,o,u,a,l){u===void 0&&(u=Ve.min()),a===void 0&&(a=Ve.min()),l===void 0&&(l=$n.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),_1=function(e){this.Lt=e};function qm(e,t){if(t.document)return TF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=be.fromSegments(t.noDocument.path),i=gu(t.noDocument.readTime),o=vn.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var u=be.fromSegments(t.unknownDocument.path);return i=gu(t.unknownDocument.version),vn.newUnknownDocument(u,i)}return ye()}function ZE(e,t,n){var i=dy(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var u=function(m,v){return{name:nc(m,v.key),fields:v.data.value.mapValue.fields,updateTime:tc(m,v.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new xt(null,null,u,a,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=pu(t.version);return a=t.hasCommittedMutations,new xt(null,new OF(l,f),null,a,i,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),p=pu(t.version);return new xt(new PF(d,p),null,null,!0,i,o)}return ye()}function dy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function E1(e){var t=new qn(e[0],e[1]);return Ve.fromTimestamp(t)}function pu(e){var t=e.toTimestamp();return new xF(t.seconds,t.nanoseconds)}function gu(e){var t=new qn(e.seconds,e.nanoseconds);return Ve.fromTimestamp(t)}function js(e,t){for(var n=(t.baseMutations||[]).map(function(f){return GE(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var u=t.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var a=t.mutations.map(function(f){return GE(e.Lt,f)}),l=qn.fromMillis(t.localWriteTimeMs);return new hy(t.batchId,l,n,a)}function Aa(e){var t,n,i=gu(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?gu(e.lastLimboFreeSnapshotVersion):Ve.min();return e.query.documents!==void 0?(Oe((n=e.query).documents.length===1),t=Zr(kc(f1(n.documents[0])))):t=function(u){return Zr(g1(u))}(e.query),new Dh(t,e.targetId,0,e.lastListenSequenceNumber,i,o,$n.fromBase64String(e.resumeToken))}function I1(e,t){var n,i=pu(t.snapshotVersion),o=pu(t.lastLimboFreeSnapshotVersion);n=Ff(t.target)?d1(e.Lt,t.target):p1(e.Lt,t.target);var u=t.resumeToken.toBase64();return new Vn(t.targetId,Ac(t.target),i,u,t.sequenceNumber,o,n)}function T1(e){var t=g1({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?WA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UF=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return eI(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:gu(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return eI(t).put({bundleId:(i=n).id,createTime:pu(Nn(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return tI(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:T1(o.bundledQuery),readTime:gu(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return tI(t).put(function(i){return{name:i.name,readTime:pu(Nn(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();function eI(e){return Kn(e,fu.store)}function tI(e){return Kn(e,hu.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jF=function(){function e(){this.Bt=new py}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),J.resolve()},e.prototype.getCollectionParents=function(t,n){return J.resolve(this.Bt.getEntries(n))},e}(),py=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Qt(it.comparator),u=!o.has(i);return this.index[n]=o.add(i),u},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Qt(it.comparator)).toArray()},e}(),VF=function(){function e(){this.qt=new py}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),u=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:Nr(u)};return nI(t).put(a)}return J.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[VA(n),""],!1,!0);return nI(t).Nt(o).next(function(u){for(var a=0,l=u;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(ai(f.parent))}return i})},e}();function nI(e){return Kn(e,qo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$r=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(e,t,n){var i=e.store(wt.store),o=e.store(hn.store),u=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(_,T,S){return l++,S.delete()});u.push(f.next(function(){Oe(l===1)}));for(var d=[],p=0,m=n.mutations;p<m.length;p++){var v=m[p],b=hn.key(t,v.key.path,n.batchId);u.push(o.delete(b)),d.push(v.key)}return J.waitFor(u).next(function(){return d})}function qf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ye();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r.DEFAULT_COLLECTION_PERCENTILE=10,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$r.DEFAULT=new $r(41943040,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$r.DISABLED=new $r(-1,0,0);var qF=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return Oe(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ni(t).$t({index:wt.userMutationsIndex,range:i},function(o,u,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var u=this,a=Vs(t),l=Ni(t);return l.add({}).next(function(f){Oe(typeof f=="number");for(var d=new hy(f,n,i,o),p=function(x,O,F){var q=F.baseMutations.map(function(U){return Vf(x.Lt,U)}),te=F.mutations.map(function(U){return Vf(x.Lt,U)});return new wt(O,F.batchId,F.localWriteTime.toMillis(),q,te)}(u.R,u.userId,d),m=[],v=new Qt(function(x,O){return Ke(x.canonicalString(),O.canonicalString())}),b=0,_=o;b<_.length;b++){var T=_[b],S=hn.key(u.userId,T.key.path,f);v=v.add(T.key.path.popLast()),m.push(l.put(p)),m.push(a.put(S,hn.PLACEHOLDER))}return v.forEach(function(x){m.push(u.Ut.addToCollectionParentIndex(t,x))}),t.addOnCommittedListener(function(){u.Kt[f]=d.keys()}),J.waitFor(m).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Ni(t).get(n).next(function(o){return o?(Oe(o.userId===i.userId),js(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?J.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var u=o.keys();return i.Kt[n]=u,u}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),a=null;return Ni(t).$t({index:wt.userMutationsIndex,range:u},function(l,f,d){f.userId===i.userId&&(Oe(f.batchId>=o),a=js(i.R,f)),d.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Ni(t).$t({index:wt.userMutationsIndex,range:n,reverse:!0},function(o,u,a){i=u.batchId,a.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ni(t).Nt(wt.userMutationsIndex,i).next(function(o){return o.map(function(u){return js(n.R,u)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=hn.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),a=[];return Vs(t).$t({range:u},function(l,f,d){var p=l[0],m=l[1],v=l[2],b=ai(m);if(p===i.userId&&n.path.isEqual(b))return Ni(t).get(v).next(function(_){if(!_)throw ye();Oe(_.userId===i.userId),a.push(js(i.R,_))});d.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Qt(Ke),u=[];return n.forEach(function(a){var l=hn.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=Vs(t).$t({range:f},function(p,m,v){var b=p[0],_=p[1],T=p[2],S=ai(_);b===i.userId&&a.path.isEqual(S)?o=o.add(T):v.done()});u.push(d)}),J.waitFor(u).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,u=o.length+1,a=hn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Qt(Ke);return Vs(t).$t({range:l},function(d,p,m){var v=d[0],b=d[1],_=d[2],T=ai(b);v===i.userId&&o.isPrefixOf(T)?T.length===u&&(f=f.add(_)):m.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],u=[];return n.forEach(function(a){u.push(Ni(t).get(a).next(function(l){if(l===null)throw ye();Oe(l.userId===i.userId),o.push(js(i.R,l))}))}),J.waitFor(u).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return S1(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),J.forEach(o,function(u){return i.referenceDelegate.markPotentiallyOrphaned(t,u)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return J.resolve();var o=IDBKeyRange.lowerBound(hn.prefixForUser(n.userId)),u=[];return Vs(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=ai(a[1]);u.push(d)}else f.done()}).next(function(){Oe(u.length===0)})})},e.prototype.containsKey=function(t,n){return A1(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return k1(t).get(this.userId).next(function(i){return i||new Ki(n.userId,-1,"")})},e}();function A1(e,t,n){var i=hn.prefixForPath(t,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),a=!1;return Vs(e).$t({range:u,Ft:!0},function(l,f,d){var p=l[0],m=l[1];l[2],p===t&&m===o&&(a=!0),d.done()}).next(function(){return a})}function Ni(e){return Kn(e,wt.store)}function Vs(e){return Kn(e,hn.store)}function k1(e){return Kn(e,Ki.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bf=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),BF=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new Bf(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Ve.fromTimestamp(new qn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Zt(t,u)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Ls(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return Oe(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,u=0,a=[];return Ls(t).$t(function(l,f){var d=Aa(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(u++,a.push(o.removeTargetData(t,d)))}).next(function(){return J.waitFor(a)}).next(function(){return u})},e.prototype.forEachTarget=function(t,n){return Ls(t).$t(function(i,o){var u=Aa(o);n(u)})},e.prototype.Xt=function(t){return iI(t).get(Zn.key).next(function(n){return Oe(n!==null),n})},e.prototype.Zt=function(t,n){return iI(t).put(Zn.key,n)},e.prototype.te=function(t,n){return Ls(t).put(I1(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=Ac(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return Ls(t).$t({range:o,index:Vn.queryTargetsIndexName},function(a,l,f){var d=Aa(l);Nh(n,d.target)&&(u=d,f.done())}).next(function(){return u})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,u=[],a=ji(t);return n.forEach(function(l){var f=Nr(l.path);u.push(a.put(new on(i,f))),u.push(o.referenceDelegate.addReference(t,i,l))}),J.waitFor(u)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,u=ji(t);return J.forEach(n,function(a){var l=Nr(a.path);return J.waitFor([u.delete([i,l]),o.referenceDelegate.removeReference(t,i,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=ji(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=ji(t),u=vt();return o.$t({range:i,Ft:!0},function(a,l,f){var d=ai(a[1]),p=new be(d);u=u.add(p)}).next(function(){return u})},e.prototype.containsKey=function(t,n){var i=Nr(n.path),o=IDBKeyRange.bound([i],[VA(i)],!1,!0),u=0;return ji(t).$t({index:on.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(u++,f.done())}).next(function(){return u>0})},e.prototype.lt=function(t,n){return Ls(t).get(n).next(function(i){return i?Aa(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(e){return Kn(e,Vn.store)}function iI(e){return Kn(e,Zn.store)}function ji(e){return Kn(e,on.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(e){return H(this,void 0,void 0,function(){return $(this,function(t){if(e.code!==P.FAILED_PRECONDITION||e.message!==y1)throw e;return re("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(e,t){var n=e[0],i=e[1],o=t[0],u=t[1],a=Ke(n,o);return a===0?Ke(i,u):a}var $F=function(){function e(t){this.ne=t,this.buffer=new Qt(oI),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();oI(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),HF=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;re("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return H(n,void 0,void 0,function(){var o;return $(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return is(o=u.sent())?(re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,os(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return u.sent(),[2]}})})})},e}(),KF=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return J.resolve(tr.o);var o=new $F(n);return this.ae.forEachTarget(t,function(u){return o.re(u.sequenceNumber)}).next(function(){return i.ae.le(t,function(u){return o.re(u)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(rI)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),rI):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,u,a,l,f,d,p=this,m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(v){return v>p.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+v),o=p.params.maximumSequenceNumbersToCollect):o=v,a=Date.now(),p.nthSequenceNumber(t,o)}).next(function(v){return i=v,l=Date.now(),p.removeTargets(t,i,n)}).next(function(v){return u=v,f=Date.now(),p.removeOrphanedDocuments(t,i)}).next(function(v){return d=Date.now(),Dm()<=tt.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-m)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+u+" targets in "+(f-l)+`ms
	Removed `+v+" documents in "+(d-f)+`ms
Total Duration: `+(d-m)+"ms"),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:v})})},e}(),zF=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new KF(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return Xl(t,i)},e.prototype.removeReference=function(t,n,i){return Xl(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return Xl(t,n)},e.prototype._e=function(t,n){return function(i,o){var u=!1;return k1(i).Ot(function(a){return A1(i,a,o).next(function(l){return l&&(u=!0),J.resolve(!l)})}).next(function(){return u})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],a=0;return this.we(t,function(l,f){if(f<=n){var d=i._e(t,l).next(function(p){if(!p)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),ji(t).delete([0,Nr(l.path)])})});u.push(d)}}).next(function(){return J.waitFor(u)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return Xl(t,n)},e.prototype.we=function(t,n){var i,o=ji(t),u=tr.o;return o.$t({index:on.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,p=l.sequenceNumber;f===0?(u!==tr.o&&n(new be(ai(i)),u),u=p,i=d):u=tr.o}).next(function(){u!==tr.o&&n(new be(ai(i)),u)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Xl(e,t){return ji(e).put(function(n,i){return new on(0,Nr(n.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){ns(this.inner,function(n,i){for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return qA(this.inner)},e}(),C1=function(){function e(){this.changes=new Cu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Ve.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:vn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?J.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),GF=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Mi(t).put(Ql(n),i)},e.prototype.removeEntry=function(t,n){var i=Mi(t),o=Ql(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return Mi(t).get(Ql(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return Mi(t).get(Ql(n)).next(function(o){return{document:i.ye(n,o),size:qf(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=Rr();return this.pe(t,n,function(u,a){var l=i.ye(u,a);o=o.insert(u,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=Rr(),u=new yn(be.comparator);return this.pe(t,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),u=u.insert(a,qf(l))}).next(function(){return{documents:o,Te:u}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return J.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),a=u.getNext();return Mi(t).$t({range:o},function(l,f,d){for(var p=be.fromSegments(l);a&&be.comparator(a,p)<0;)i(a,null),a=u.getNext();a&&a.isEqual(p)&&(i(a,f),a=u.hasNext()?u.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=u.hasNext()?u.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,u=Rr(),a=n.path.length+1,l={};if(i.isEqual(Ve.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),p=dy(i);l.range=IDBKeyRange.lowerBound([d,p],!0),l.index=xt.collectionReadTimeIndex}return Mi(t).$t(l,function(m,v,b){if(m.length===a){var _=qm(o.R,v);n.path.isPrefixOf(_.key.path)?Rc(n,_)&&(u=u.insert(_.key,_)):b.done()}}).next(function(){return u})},e.prototype.newChangeBuffer=function(t){return new WF(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return sI(t).get(zr.key).next(function(n){return Oe(!!n),n})},e.prototype.me=function(t,n){return sI(t).put(zr.key,n)},e.prototype.ye=function(t,n){if(n){var i=qm(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(Ve.min()))return i}return vn.newInvalidDocument(t)},e}(),WF=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new Cu(function(u){return u.toString()},function(u,a){return u.isEqual(a)}),o}return Te(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],u=0,a=new Qt(function(l,f){return Ke(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var p=ZE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var m=qf(p);u+=m-d,o.push(i.Ie.addEntry(n,l,p))}else if(u-=d,i.trackRemovals){var v=ZE(i.Ie.R,vn.newNoDocument(l,Ve.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,v))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,u)),J.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(u){return o.Ae.set(i,u.size),u.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(u){var a=u.documents;return u.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(C1);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(e){return Kn(e,zr.store)}function Mi(e){return Kn(e,xt.store)}function Ql(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XF=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var u=this;Oe(i<o&&i>=0&&o<=11);var a=new b1("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(Jn.store)}(t),function(f){f.createObjectStore(Ki.store,{keyPath:Ki.keyPath}),f.createObjectStore(wt.store,{keyPath:wt.keyPath,autoIncrement:!0}).createIndex(wt.userMutationsIndex,wt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(hn.store)}(t),uI(t),function(f){f.createObjectStore(xt.store)}(t));var l=J.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(on.store),f.deleteObjectStore(Vn.store),f.deleteObjectStore(Zn.store)}(t),uI(t)),l=l.next(function(){return function(f){var d=f.store(Zn.store),p=new Zn(0,0,Ve.min().toTimestamp(),0);return d.put(Zn.key,p)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(wt.store).Nt().next(function(p){f.deleteObjectStore(wt.store),f.createObjectStore(wt.store,{keyPath:wt.keyPath,autoIncrement:!0}).createIndex(wt.userMutationsIndex,wt.userMutationsKeyPath,{unique:!0});var m=d.store(wt.store),v=p.map(function(b){return m.put(b)});return J.waitFor(v)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(fi.store,{keyPath:fi.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return u.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(zr.store)}(t),u.be(a)})),i<7&&o>=7&&(l=l.next(function(){return u.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return u.Pe(t,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(xt.store);d.createIndex(xt.readTimeIndex,xt.readTimeIndexPath,{unique:!1}),d.createIndex(xt.collectionReadTimeIndex,xt.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return u.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(fu.store,{keyPath:fu.keyPath})})(t),function(f){f.createObjectStore(hu.store,{keyPath:hu.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(xt.store).$t(function(i,o){n+=qf(o)}).next(function(){var i=new zr(n);return t.store(zr.store).put(zr.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(Ki.store),o=t.store(wt.store);return i.Nt().next(function(u){return J.forEach(u,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(wt.userMutationsIndex,l).next(function(f){return J.forEach(f,function(d){Oe(d.userId===a.userId);var p=js(n.R,d);return S1(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(on.store),i=t.store(xt.store);return t.store(Zn.store).get(Zn.key).next(function(o){var u=[];return i.$t(function(a,l){var f=new it(a),d=function(p){return[0,Nr(p)]}(f);u.push(n.get(d).next(function(p){return p?J.resolve():function(m){return n.put(new on(0,Nr(m),o.highestListenSequenceNumber))}(f)}))}).next(function(){return J.waitFor(u)})})},e.prototype.Pe=function(t,n){t.createObjectStore(qo.store,{keyPath:qo.keyPath});var i=n.store(qo.store),o=new py,u=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:Nr(f)})}};return n.store(xt.store).$t({Ft:!0},function(a,l){var f=new it(a);return u(f.popLast())}).next(function(){return n.store(hn.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=ai(f);return u(d.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(Vn.store);return i.$t(function(o,u){var a=Aa(u),l=I1(n.R,a);return i.put(l)})},e}();function uI(e){e.createObjectStore(on.store,{keyPath:on.keyPath}).createIndex(on.documentTargetsIndex,on.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Vn.store,{keyPath:Vn.keyPath}).createIndex(Vn.queryTargetsIndexName,Vn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Zn.store)}var zg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",QF=function(){function e(t,n,i,o,u,a,l,f,d,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=u,this.window=a,this.document=l,this.De=d,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(m){return Promise.resolve()},!e.yt())throw new X(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zF(this,o),this.Le=n+"main",this.R=new _1(f),this.Be=new du(this.Le,11,new XF(this.R)),this.qe=new BF(this.referenceDelegate,this.R),this.Ut=new VF,this.Ue=function(m,v){return new GF(m,v)}(this.R,this.Ut),this.Ke=new UF,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&Bt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new X(P.FAILED_PRECONDITION,zg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new tr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return H(n,void 0,void 0,function(){return $(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return H(n,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return H(n,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Yl(n).put(new fi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(is(n))return re("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return _a(t).get(Jn.key).next(function(i){return J.resolve(n.tn(i))})},e.prototype.en=function(t){return Yl(t).delete(this.clientId)},e.prototype.nn=function(){return H(this,void 0,void 0,function(){var t,n,i,o,u=this;return $(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Kn(l,fi.store);return f.Nt().next(function(d){var p=u.rn(d,18e5),m=d.filter(function(v){return p.indexOf(v)===-1});return J.forEach(m,function(v){return f.delete(v.clientId)}).next(function(){return m})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?J.resolve(!0):_a(t).get(Jn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new X(P.FAILED_PRECONDITION,zg);return!1}}return!(!n.networkEnabled||!n.inForeground)||Yl(t).Nt().next(function(o){return n.rn(o,5e3).find(function(u){if(n.clientId!==u.clientId){var a=!n.networkEnabled&&u.networkEnabled,l=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&re("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return H(this,void 0,void 0,function(){var t=this;return $(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Jn.store,fi.store],function(i){var o=new JE(i,tr.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Yl(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return qF.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;re("IndexedDbPersistence","Starting transaction:",t);var u,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,DF,function(l){return u=new JE(l,o.Ne?o.Ne.next():tr.o),n==="readwrite-primary"?o.Je(u).next(function(f){return!!f||o.Ye(u)}).next(function(f){if(!f)throw Bt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new X(P.FAILED_PRECONDITION,y1);return i(u)}).next(function(f){return o.Ze(u).next(function(){return f})}):o.dn(u).next(function(){return i(u)})}).then(function(l){return u.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return _a(t).get(Jn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new X(P.FAILED_PRECONDITION,zg)})},e.prototype.Ze=function(t){var n=new Jn(this.clientId,this.allowTabSynchronization,Date.now());return _a(t).put(Jn.key,n)},e.yt=function(){return du.yt()},e.prototype.Xe=function(t){var n=this,i=_a(t);return i.get(Jn.key).next(function(o){return n.tn(o)?(re("IndexedDbPersistence","Releasing primary lease."),i.delete(Jn.key)):J.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(Bt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),nL()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return re("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Bt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Bt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function _a(e){return Kn(e,Jn.store)}function Yl(e){return Kn(e,fi.store)}function gy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var R1=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var u=0,a=i;u<a.length;u++)a[u].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var u=0,a=n;u<a.length;u++)a[u].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):sy(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new be(n)).next(function(i){var o=jm();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,u=n.collectionGroup,a=jm();return this.Ut.getCollectionParents(t,u).next(function(l){return J.forEach(l,function(f){var d=function(p,m){return new vi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,f.child(u));return o.An(t,d,i).next(function(p){p.forEach(function(m,v){a=a.insert(m,v)})})}).next(function(){return a})})},e.prototype.An=function(t,n,i){var o,u,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return u=l,a.Rn(t,u,o).next(function(f){o=f;for(var d=0,p=u;d<p.length;d++)for(var m=p[d],v=0,b=m.mutations;v<b.length;v++){var _=b[v],T=_.key,S=o.get(T);S==null&&(S=vn.newInvalidDocument(T),o=o.insert(T,S)),Um(_,S,m.localWriteTime),S.isFoundDocument()||(o=o.remove(T))}})}).next(function(){return o.forEach(function(l,f){Rc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=vt(),u=0,a=n;u<a.length;u++)for(var l=0,f=a[u].mutations;l<f.length;l++){var d=f[l];d instanceof Zi&&i.get(d.key)===null&&(o=o.add(d.key))}var p=i;return this.Ue.getEntries(t,o).next(function(m){return m.forEach(function(v,b){b.isFoundDocument()&&(p=p.insert(v,b))}),p})},e}(),YF=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=vt(),o=vt(),u=0,a=n.docChanges;u<a.length;u++){var l=a[u];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),N1=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var u=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(Ve.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=u.Cn(n,a);return(df(n)||jf(n))&&u.Nn(n.limitType,l,o,i)?u.Dn(t,n):(Dm()<=tt.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fm(n)),u.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var i=new Qt(QA(t));return n.forEach(function(o,u){Rc(t,u)&&(i=i.add(u))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var u=t==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Dm()<=tt.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Fm(n)),this.Sn.getDocumentsMatchingQuery(t,n,Ve.min())},e}(),JF=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new yn(Ke),this.Fn=new Cu(function(u){return Ac(u)},Nh),this.$n=Ve.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new R1(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(e,t,n,i){return new JF(e,t,n,i)}function O1(e,t){return H(this,void 0,void 0,function(){var n,i,o,u;return $(this,function(a){switch(a.label){case 0:return n=ue(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(t),o=new R1(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var p=[],m=[],v=vt(),b=0,_=f;b<_.length;b++){var T=_[b];p.push(T.batchId);for(var S=0,x=T.mutations;S<x.length;S++){var O=x[S];v=v.add(O.key)}}for(var F=0,q=d;F<q.length;F++){var te=q[F];m.push(te.batchId);for(var U=0,ve=te.mutations;U<ve.length;U++){var z=ve[U];v=v.add(z.key)}}return o.pn(l,v).next(function(oe){return{Ln:oe,removedBatchIds:p,addedBatchIds:m}})})})];case 1:return u=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),u)]}})})}function ZF(e,t){var n=ue(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var p=f.batch,m=p.keys(),v=J.resolve();return m.forEach(function(b){v=v.next(function(){return d.getEntry(l,b)}).next(function(_){var T=f.docVersions.get(b);Oe(T!==null),_.version.compareTo(T)<0&&(p.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),v.next(function(){return a._n.removeMutationBatch(l,p)})}(n,i,t,u).next(function(){return u.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function P1(e){var t=ue(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function eU(e,t){var n=ue(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(p,m){var v=o.get(m);if(v){l.push(n.qe.removeMatchingKeys(u,p.removedDocuments,m).next(function(){return n.qe.addMatchingKeys(u,p.addedDocuments,m)}));var b=p.resumeToken;if(b.approximateByteSize()>0){var _=v.withResumeToken(b,i).withSequenceNumber(u.currentSequenceNumber);o=o.insert(m,_),function(T,S,x){return Oe(S.resumeToken.approximateByteSize()>0),T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(v,_,p)&&l.push(n.qe.updateTargetData(u,_))}}});var f=Rr();if(t.documentUpdates.forEach(function(p,m){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(u,p))}),l.push(tU(u,a,t.documentUpdates,i,void 0).next(function(p){f=p})),!i.isEqual(Ve.min())){var d=n.qe.getLastRemoteSnapshotVersion(u).next(function(p){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});l.push(d)}return J.waitFor(l).next(function(){return a.apply(u)}).next(function(){return n.Mn.En(u,f)}).next(function(){return f})}).then(function(u){return n.kn=o,u})}function tU(e,t,n,i,o){var u=vt();return n.forEach(function(a){return u=u.add(a)}),t.getEntries(e,u).next(function(a){var l=Rr();return n.forEach(function(f,d){var p=a.get(f),m=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual(Ve.min())?(t.removeEntry(f,m),l=l.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d,m),l=l.insert(f,d)):re("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),l})}function nU(e,t){var n=ue(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function $f(e,t){var n=ue(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(u){return u?(o=u,J.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new Dh(t,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function mu(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:i=ue(e),o=i.kn.get(t),u=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!is(a=l.sent()))throw a;return re("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function Hf(e,t,n){var i=ue(e),o=Ve.min(),u=vt();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var p=ue(l),m=p.Fn.get(d);return m!==void 0?J.resolve(p.kn.get(m)):p.qe.getTargetData(f,d)}(i,a,Zr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){u=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,t,n?o:Ve.min(),n?u:vt())}).next(function(l){return{documents:l,Bn:u}})})}function D1(e,t){var n=ue(e),i=ue(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,t).next(function(a){return a?a.target:null})})}function L1(e){var t=ue(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var a=ue(i),l=Rr(),f=dy(u),d=Mi(o),p=IDBKeyRange.lowerBound(f,!0);return d.$t({index:xt.readTimeIndex,range:p},function(m,v){var b=qm(a.R,v);l=l.insert(b.key,b),f=v.readTime}).next(function(){return{wn:l,readTime:E1(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function rU(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){return[2,(t=ue(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=Mi(o),a=Ve.min();return u.$t({index:xt.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=E1(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iU=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return J.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:Nn(i.createTime)}),J.resolve()},e.prototype.getNamedQuery=function(t,n){return J.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:T1(i.bundledQuery),readTime:Nn(i.readTime)}}(n)),J.resolve()},e}(),my=function(){function e(){this.Wn=new Qt(Jt.Gn),this.zn=new Qt(Jt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new Jt(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Jt(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new be(new it([])),o=new Jt(i,t),u=new Jt(i,t+1),a=[];return this.zn.forEachInRange([o,u],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new be(new it([])),i=new Jt(n,t),o=new Jt(n,t+1),u=vt();return this.zn.forEachInRange([i,o],function(a){u=u.add(a.key)}),u},e.prototype.containsKey=function(t){var n=new Jt(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),Jt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return be.comparator(t.key,n.key)||Ke(t.ns,n.ns)},e.Hn=function(t,n){return Ke(t.ns,n.ns)||be.comparator(t.key,n.key)},e}(),oU=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Qt(Jt.Gn)}return e.prototype.checkEmpty=function(t){return J.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new hy(u,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new Jt(d.key,u)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return J.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return J.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),u=o<0?0:o;return J.resolve(this._n.length>u?this._n[u]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return J.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return J.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new Jt(n,0),u=new Jt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,u],function(l){var f=i.os(l.ns);a.push(f)}),J.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Qt(Ke);return n.forEach(function(u){var a=new Jt(u,0),l=new Jt(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),J.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,u=i;be.isDocumentKey(u)||(u=u.child(""));var a=new Jt(new be(u),0),l=new Qt(Ke);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),J.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var u=n.os(o);u!==null&&i.push(u)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;Oe(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return J.forEach(n.mutations,function(u){var a=new Jt(u.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new Jt(n,0),o=this.rs.firstAfterOrEqual(i);return J.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,J.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),sU=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new yn(be.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,u=this.docs.get(o),a=u?u.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return J.resolve(i?i.document.clone():vn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=Rr();return n.forEach(function(u){var a=i.docs.get(u);o=o.insert(u,a?a.document.clone():vn.newInvalidDocument(u))}),J.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=Rr(),u=new be(n.path.child("")),a=this.docs.getIteratorFrom(u);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,p=d.document,m=d.readTime;if(!n.path.isPrefixOf(f.path))break;m.compareTo(i)<=0||Rc(n,p)&&(o=o.insert(p.key,p.clone()))}return J.resolve(o)},e.prototype.fs=function(t,n){return J.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new uU(this)},e.prototype.getSize=function(t){return J.resolve(this.size)},e}(),uU=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return Te(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(u,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),J.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(C1),aU=function(){function e(t){this.persistence=t,this.ds=new Cu(function(n){return Ac(n)},Nh),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ws=0,this._s=new my,this.targetCount=0,this.ys=Bf.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),J.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return J.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return J.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),J.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),J.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Bf(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,J.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),J.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,J.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,u=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),u++)}),J.waitFor(a).next(function(){return u})},e.prototype.getTargetCount=function(t){return J.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return J.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),J.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(function(a){u.push(o.markPotentiallyOrphaned(t,a))}),J.waitFor(u)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),J.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return J.resolve(i)},e.prototype.containsKey=function(t,n){return J.resolve(this._s.containsKey(n))},e}(),cU=function(){function e(t,n){var i=this;this.gs={},this.Ne=new tr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new aU(this),this.Ut=new jF,this.Ue=function(o,u){return new sU(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new _1(n),this.Ke=new iU(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new oU(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;re("MemoryPersistence","Starting transaction:",t);var u=new lU(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(a){return o.referenceDelegate.Ts(u).next(function(){return a})}).toPromise().then(function(a){return u.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return J.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),lU=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return Te(t,e),t}(w1),fU=function(){function e(t){this.persistence=t,this.As=new my,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ye()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),J.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),J.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),J.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(u){return i.vs.add(u.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(u){u.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.vs,function(o){var u=be.fromPath(o);return n.Ps(t,u).next(function(a){a||i.removeEntry(u)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return J.or([function(){return J.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),nn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(e,t){return"firestore_clients_"+e+"_"+t}function cI(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function Gg(e,t){return"firestore_targets_"+e+"_"+t}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");var lI=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,u=JSON.parse(i),a=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return a&&u.error&&(a=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(o=new X(u.error.code,u.error.message)),a?new e(t,n,u.state,o):(Bt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Wg=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new X(o.error.code,o.error.message)),u?new e(t,o.state,i):(Bt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),fI=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=Ph(),a=0;o&&a<i.activeTargetIds.length;++a)o=HA(i.activeTargetIds[a]),u=u.add(i.activeTargetIds[a]);return o?new e(t,u):(Bt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),hU=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Bt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Bm=function(){function e(){this.activeTargetIds=Ph()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Xg=function(){function e(t,n,i,o,u){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new yn(Ke),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=aI(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Bm),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return H(this,void 0,void 0,function(){var t,n,i,o,u,a,l,f,d,p,m,v=this;return $(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=b.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(u=this.getItem(aI(this.persistenceKey,o)))&&(a=fI.Vs(o,u))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,p=this.$s;d<p.length;d++)m=p[d],this.ks(m);return this.$s=[],this.window.addEventListener("pagehide",function(){return v.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(Gg(this.persistenceKey,t));if(i){var o=Wg.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Gg(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(u){o.Hs(u)}),this.currentUser=t,i.forEach(function(u){o.addPendingMutation(u)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return re("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){re("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){re("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(re("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Bt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return H(n,void 0,void 0,function(){var o,u,a,l,f,d;return $(this,function(p){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(m){var v=tr.o;if(m!=null)try{var b=JSON.parse(m);Oe(typeof b=="number"),v=b}catch(_){Bt("SharedClientState","Failed to read sequence number from WebStorage",_)}return v}(i.newValue))!==tr.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new lI(this.currentUser,t,n,i),u=cI(this.persistenceKey,this.currentUser,t);this.setItem(u,o.Ss())},e.prototype.Hs=function(t){var n=cI(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=Gg(this.persistenceKey,t),u=new Wg(t,n,i);this.setItem(o,u.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return fI.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return lI.Vs(new nn(u),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return Wg.Vs(o,n)},e.prototype.js=function(t){return hU.Vs(t)},e.prototype.ii=function(t){return H(this,void 0,void 0,function(){return $(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(re("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),u=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){u.has(d)||l.push(d)}),u.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Ph();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),M1=function(){function e(){this.li=new Bm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Bm,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),dU=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),hI=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),pU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gU=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),mU=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Te(t,e),t.prototype.Fi=function(n,i,o,u){return new Promise(function(a,l){var f=new zM;f.listenOnce($M.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Kg.NO_ERROR:var p=f.getResponseJson();re("Connection","XHR received:",JSON.stringify(p)),a(p);break;case Kg.TIMEOUT:re("Connection",'RPC "'+n+'" timed out'),l(new X(P.DEADLINE_EXCEEDED,"Request time out"));break;case Kg.HTTP_ERROR:var m=f.getStatus();if(re("Connection",'RPC "'+n+'" failed with status:',m,"response text:",f.getResponseText()),m>0){var v=f.getResponseJson().error;if(v&&v.status&&v.message){var b=function(_){var T=_.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(T)>=0?T:P.UNKNOWN}(v.status);l(new X(b,v.message))}else l(new X(P.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new X(P.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{re("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(u);f.send(i,"POST",d,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=qM(),a=BM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new KM({})),this.ki(l.initMessageHeaders,i),XD()||JD()||ZD()||eL()||tL()||YD()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");re("Connection","Creating WebChannel: "+f,l);var d=u.createWebChannel(f,l),p=!1,m=!1,v=new gU({Ei:function(_){m?re("Connection","Not sending because WebChannel is closed:",_):(p||(re("Connection","Opening WebChannel transport."),d.open(),p=!0),re("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),b=function(_,T,S){_.listen(T,function(x){try{S(x)}catch(O){setTimeout(function(){throw O},0)}})};return b(d,Gl.EventType.OPEN,function(){m||re("Connection","WebChannel transport opened.")}),b(d,Gl.EventType.CLOSE,function(){m||(m=!0,re("Connection","WebChannel transport closed"),v.Vi())}),b(d,Gl.EventType.ERROR,function(_){m||(m=!0,Df("Connection","WebChannel transport errored:",_),v.Vi(new X(P.UNAVAILABLE,"The operation could not be completed")))}),b(d,Gl.EventType.MESSAGE,function(_){var T;if(!m){var S=_.data[0];Oe(!!S);var x=S,O=x.error||((T=x[0])===null||T===void 0?void 0:T.error);if(O){re("Connection","WebChannel received error:",O);var F=O.status,q=function(U){var ve=jt[U];if(ve!==void 0)return s1(ve)}(F),te=O.message;q===void 0&&(q=P.INTERNAL,te="Unknown error status: "+F+" with message "+O.message),m=!0,v.Vi(new X(q,te)),d.close()}else re("Connection","WebChannel received:",S),v.Si(S)}}),b(a,HM.STAT_EVENT,function(_){_.stat===RE.PROXY?re("Connection","Detected buffering proxy"):_.stat===RE.NOPROXY&&re("Connection","Detected no buffering proxy")}),setTimeout(function(){v.Pi()},0),v},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var u=this.xi(t,n);re("RestConnection","Sending: ",u,i);var a={};return this.ki(a,o),this.Fi(t,u,a,i).then(function(l){return re("RestConnection","Received: ",l),l},function(l){throw Df("RestConnection",t+" failed with error: ",l,"url: ",u,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=pU[t];return this.Di+"/v1/"+n+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(){return typeof window<"u"?window:null}function mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(e){return new EF(e,!0)}var vy=function(){function e(t,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-o);u>0&&re("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),U1=function(){function e(t,n,i,o,u,a){this.Se=t,this.zi=i,this.Hi=o,this.Ji=u,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new vy(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return H(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return H(this,void 0,void 0,function(){return $(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return H(this,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Bt(n.toString()),Bt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===P.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var u=new X(P.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(u)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return H(t,void 0,void 0,function(){return $(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return re("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),vU=function(e){function t(n,i,o,u,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=u,l}return Te(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(u,a){var l;if("targetChange"in a){a.targetChange;var f=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:ye()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],p=function(S,x){return S.I?(Oe(x===void 0||typeof x=="string"),$n.fromBase64String(x||"")):(Oe(x===void 0||x instanceof Uint8Array),$n.fromUint8Array(x||new Uint8Array))}(u,a.targetChange.resumeToken),m=(v=a.targetChange.cause)&&function(S){var x=S.code===void 0?P.UNKNOWN:s1(S.code);return new X(x,S.message||"")}(v);l=new a1(f,d,p,m||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=li(u,f.document.name),p=Nn(f.document.updateTime);var v=new er({mapValue:{fields:f.document.fields}}),b=(m=vn.newFoundDocument(d,p,v),f.targetIds||[]),_=f.removedTargetIds||[];l=new gf(b,_,m.key,m)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=li(u,f.document),p=f.readTime?Nn(f.readTime):Ve.min(),v=vn.newNoDocument(d,p),m=f.removedTargetIds||[],l=new gf([],m,v.key,v);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=li(u,f.document),p=f.removedTargetIds||[],l=new gf([],p,d,null);else{if(!("filter"in a))return ye();a.filter;var T=a.filter;T.targetId,f=T.count||0,d=new hF(f),p=T.targetId,l=new u1(p,d)}return l}(this.R,n),o=function(u){if(!("targetChange"in u))return Ve.min();var a=u.targetChange;return a.targetIds&&a.targetIds.length?Ve.min():a.readTime?Nn(a.readTime):Ve.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=rc(this.R),i.addTarget=function(u,a){var l,f=a.target;return(l=Ff(f)?{documents:d1(u,f)}:{query:p1(u,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=c1(u,a.resumeToken):a.snapshotVersion.compareTo(Ve.min())>0&&(l.readTime=tc(u,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(u,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ye()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=rc(this.R),i.removeTarget=n,this.cr(i)},t}(U1),yU=function(e){function t(n,i,o,u,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=u,l.gr=!1,l}return Te(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Oe(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(u,a){return u&&u.length>0?(Oe(a!==void 0),u.map(function(l){return function(f,d){var p=f.updateTime?Nn(f.updateTime):Nn(d);return p.isEqual(Ve.min())&&(p=Nn(d)),new cF(p,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=Nn(n.commitTime);return this.listener.Tr(o,i)}return Oe(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=rc(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return Vf(i.R,u)})};this.cr(o)},t}(U1),wU=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).credentials=n,u.Hi=i,u.R=o,u.Rr=!1,u}return Te(t,e),t.prototype.br=function(){if(this.Rr)throw new X(P.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new X(P.UNKNOWN,a.toString())})},t.prototype.$i=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new X(P.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),bU=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Bt(n),this.Vr=!1):re("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),_U=function(e,t,n,i,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return H(u,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return eo(this)?(re("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return H(this,void 0,void 0,function(){var d;return $(this,function(p){switch(p.label){case 0:return(d=ue(f)).Or.add(4),[4,Ru(d)];case 1:return p.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Pc(d)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new bU(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(e){return H(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:if(!eo(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ru(e){return H(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Mh(e,t){var n=ue(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),by(n)?wy(n):xu(n).er()&&yy(n,t))}function ic(e,t){var n=ue(e),i=xu(n);n.$r.delete(t),i.er()&&j1(n,t),n.$r.size===0&&(i.er()?i.ir():eo(n)&&n.Br.set("Unknown"))}function yy(e,t){e.qr.U(t.targetId),xu(e).mr(t)}function j1(e,t){e.qr.U(t),xu(e).yr(t)}function wy(e){e.qr=new wF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),xu(e).start(),e.Br.Sr()}function by(e){return eo(e)&&!xu(e).tr()&&e.$r.size>0}function eo(e){return ue(e).Or.size===0}function V1(e){e.qr=void 0}function EU(e){return H(this,void 0,void 0,function(){return $(this,function(t){return e.$r.forEach(function(n,i){yy(e,n)}),[2]})})}function IU(e,t){return H(this,void 0,void 0,function(){return $(this,function(n){return V1(e),by(e)?(e.Br.Nr(t),wy(e)):e.Br.set("Unknown"),[2]})})}function TU(e,t,n){return H(this,void 0,void 0,function(){var i,o,u;return $(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof a1&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return H(this,void 0,void 0,function(){var d,p,m,v;return $(this,function(b){switch(b.label){case 0:d=f.cause,p=0,m=f.targetIds,b.label=1;case 1:return p<m.length?(v=m[p],l.$r.has(v)?[4,l.remoteSyncer.rejectListen(v,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(v),l.qr.removeTarget(v),b.label=3;case 3:b.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),re("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Kf(e,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof gf?e.qr.X(t):t instanceof u1?e.qr.rt(t):e.qr.et(t),n.isEqual(Ve.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,P1(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(p,m){if(p.resumeToken.approximateByteSize()>0){var v=l.$r.get(m);v&&l.$r.set(m,v.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach(function(p){var m=l.$r.get(p);if(m){l.$r.set(p,m.withResumeToken($n.EMPTY_BYTE_STRING,m.snapshotVersion)),j1(l,p);var v=new Dh(m.target,p,1,m.sequenceNumber);yy(l,v)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return re("RemoteStore","Failed to raise snapshot:",u=a.sent()),[4,Kf(e,u)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Kf(e,t,n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:if(!is(t))throw t;return e.Or.add(1),[4,Ru(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return P1(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return $(this,function(u){switch(u.label){case 0:return re("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),e.Or.delete(1),[4,Pc(e)];case 2:return u.sent(),[2]}})})}),[2]}})})}function q1(e,t){return t().catch(function(n){return Kf(e,n,t)})}function Nu(e){return H(this,void 0,void 0,function(){var t,n,i,o,u;return $(this,function(a){switch(a.label){case 0:t=ue(e),n=Qi(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return eo(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,nU(t.localStore,i)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=Qi(l);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return u=a.sent(),[4,Kf(t,u)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return B1(t)&&$1(t),[2]}})})}function B1(e){return eo(e)&&!Qi(e).tr()&&e.Fr.length>0}function $1(e){Qi(e).start()}function SU(e){return H(this,void 0,void 0,function(){return $(this,function(t){return Qi(e).Ar(),[2]})})}function AU(e){return H(this,void 0,void 0,function(){var t,n,i,o;return $(this,function(u){for(t=Qi(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function kU(e,t,n){return H(this,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return i=e.Fr.shift(),o=FF.from(i,t,n),[4,q1(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return u.sent(),[4,Nu(e)];case 2:return u.sent(),[2]}})})}function CU(e,t){return H(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return t&&Qi(e).pr?[4,function(i,o){return H(this,void 0,void 0,function(){var u,a;return $(this,function(l){switch(l.label){case 0:return o1(a=o.code)&&a!==P.ABORTED?(u=i.Fr.shift(),Qi(i).sr(),[4,q1(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Nu(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return B1(e)&&$1(e),[2]}})})}function $m(e,t){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=ue(e),t?(n.Or.delete(2),[4,Pc(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Ru(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function xu(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var u=ue(n);return u.br(),new vU(i,u.Hi,u.credentials,u.R,o)}(e.datastore,e.asyncQueue,{Ii:EU.bind(null,e),Ri:IU.bind(null,e),_r:TU.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),by(e)?wy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),V1(e),i.label=3;case 3:return[2]}})})})),e.Ur}function Qi(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var u=ue(n);return u.br(),new yU(i,u.Hi,u.credentials,u.R,o)}(e.datastore,e.asyncQueue,{Ii:SU.bind(null,e),Ri:CU.bind(null,e),Ir:AU.bind(null,e),Tr:kU.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,Nu(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(re("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var RU=function(){function e(t,n,i,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,i,o,u){var a=new e(t,n,Date.now()+i,o,u);return a.start(i),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ou(e,t){if(Bt("AsyncQueue",t+": "+e),is(e))return new X(P.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H1=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||be.comparator(n.key,i.key)}:function(n,i){return be.comparator(n.key,i.key)},this.keyedMap=jm(),this.sortedSet=new yn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),dI=function(){function e(){this.Qr=new yn(be.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ye():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),zf=function(){function e(t,n,i,o,u,a,l,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var u=[];return n.forEach(function(a){u.push({type:0,doc:a})}),new e(t,n,H1.emptySet(n),u,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),NU=function(){this.Wr=void 0,this.listeners=[]},xU=function(){this.queries=new Cu(function(e){return XA(e)},Cc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a,l,f;return $(this,function(d){switch(d.label){case 0:if(n=ue(e),i=t.query,o=!1,(u=n.queries.get(i))||(o=!0,u=new NU),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=u,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=Ou(l,"Initialization of query '"+Fm(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,u),u.listeners.push(t),t.zr(n.onlineState),u.Wr&&t.Hr(u.Wr)&&Iy(n),[2]}})})}function Ey(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a;return $(this,function(l){return n=ue(e),i=t.query,o=!1,(u=n.queries.get(i))&&(a=u.listeners.indexOf(t))>=0&&(u.listeners.splice(a,1),o=u.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function OU(e,t){for(var n=ue(e),i=!1,o=0,u=t;o<u.length;o++){var a=u[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,p=f.listeners;d<p.length;d++)p[d].Hr(a)&&(i=!0);f.Wr=a}}i&&Iy(n)}function PU(e,t,n){var i=ue(e),o=i.queries.get(t);if(o)for(var u=0,a=o.listeners;u<a.length;u++)a[u].onError(n);i.queries.delete(t)}function Iy(e){e.Gr.forEach(function(t){t.next()})}var Ty=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}t=new zf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=zf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K1=function(e){this.key=e},z1=function(e){this.key=e},G1=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=vt(),this.mutatedKeys=vt(),this.lo=QA(t),this.fo=new H1(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new dI,u=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=u,f=!1,d=df(this.query)&&u.size===this.query.limit?u.last():null,p=jf(this.query)&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal(function(v,b){var _=u.get(v),T=Rc(i.query,b)?b:null,S=!!_&&i.mutatedKeys.has(_.key),x=!!T&&(T.hasLocalMutations||i.mutatedKeys.has(T.key)&&T.hasCommittedMutations),O=!1;_&&T?_.data.isEqual(T.data)?S!==x&&(o.track({type:3,doc:T}),O=!0):i.yo(_,T)||(o.track({type:2,doc:T}),O=!0,(d&&i.lo(T,d)>0||p&&i.lo(T,p)<0)&&(f=!0)):!_&&T?(o.track({type:0,doc:T}),O=!0):_&&!T&&(o.track({type:1,doc:_}),O=!0,(d||p)&&(f=!0)),O&&(T?(l=l.add(T),a=x?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))}),df(this.query)||jf(this.query))for(;l.size>this.query.limit;){var m=df(this.query)?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),o.track({type:1,doc:m})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,u=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,m){return function(v,b){var _=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return _(v)-_(b)}(p.type,m.type)||o.lo(p.doc,m.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new zf(this.query,t.fo,u,a,t.mutatedKeys,f===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new dI,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=vt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new z1(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new K1(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=vt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return zf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),DU=function(e,t,n){this.query=e,this.targetId=t,this.view=n},LU=function(e){this.key=e,this.bo=!1},MU=function(){function e(t,n,i,o,u,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Cu(function(l){return XA(l)},Cc),this.Vo=new Map,this.So=new Set,this.Do=new yn(be.comparator),this.Co=new Map,this.No=new my,this.xo={},this.ko=new Map,this.Fo=Bf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function FU(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a,l;return $(this,function(f){switch(f.label){case 0:return n=Ry(e),(u=n.Po.get(t))?(i=u.targetId,n.sharedClientState.addLocalQueryTarget(i),o=u.view.Ro(),[3,4]):[3,1];case 1:return[4,$f(n.localStore,Zr(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,Sy(n,t,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Mh(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function Sy(e,t,n,i){return H(this,void 0,void 0,function(){var o,u,a,l,f,d;return $(this,function(p){switch(p.label){case 0:return e.Oo=function(m,v,b){return function(_,T,S,x){return H(this,void 0,void 0,function(){var O,F,q;return $(this,function(te){switch(te.label){case 0:return O=T.view._o(S),O.Nn?[4,Hf(_.localStore,T.query,!1).then(function(U){var ve=U.documents;return T.view._o(ve,O)})]:[3,2];case 1:O=te.sent(),te.label=2;case 2:return F=x&&x.targetChanges.get(T.targetId),q=T.view.applyChanges(O,_.isPrimaryClient,F),[2,(Hm(_,T.targetId,q.To),q.snapshot)]}})})}(e,m,v,b)},[4,Hf(e.localStore,t,!0)];case 1:return o=p.sent(),u=new G1(t,o.Bn),a=u._o(o.documents),l=cy.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=u.applyChanges(a,e.isPrimaryClient,l),Hm(e,n,f.To),d=new DU(t,n,u),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function UU(e,t){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:return n=ue(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!Cc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,mu(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),ic(n.remoteStore,i.targetId),vu(n,i.targetId)}).catch(os)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return vu(n,i.targetId),[4,mu(n.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function jU(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:i=Ny(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var p,m=ue(f),v=qn.now(),b=d.reduce(function(_,T){return _.add(T.key)},vt());return m.persistence.runTransaction("Locally write mutations","readwrite",function(_){return m.Mn.pn(_,b).next(function(T){p=T;for(var S=[],x=0,O=d;x<O.length;x++){var F=O[x],q=fF(F,p.get(F.key));q!=null&&S.push(new Zi(F.key,q,KA(q.value.mapValue),gn.exists(!0)))}return m._n.addMutationBatch(_,v,S,d)})}).then(function(_){return _.applyToLocalDocumentSet(p),{batchId:_.batchId,changes:p}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,p){var m=f.xo[f.currentUser.toKey()];m||(m=new yn(Ke)),m=m.insert(d,p),f.xo[f.currentUser.toKey()]=m}(i,o.batchId,n),[4,to(i,o.changes)];case 3:return l.sent(),[4,Nu(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return u=l.sent(),a=Ou(u,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function W1(e,t){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:n=ue(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,eU(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(u,a){var l=n.Co.get(a);l&&(Oe(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?l.bo=!0:u.modifiedDocuments.size>0?Oe(l.bo):u.removedDocuments.size>0&&(Oe(l.bo),l.bo=!1))}),[4,to(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,os(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function pI(e,t,n){var i=ue(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(u,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(u,a){var l=ue(u);l.onlineState=a;var f=!1;l.queries.forEach(function(d,p){for(var m=0,v=p.listeners;m<v.length;m++)v[m].zr(a)&&(f=!0)}),f&&Iy(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function VU(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f;return $(this,function(d){switch(d.label){case 0:return(i=ue(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(u=o&&o.key)?(a=(a=new yn(be.comparator)).insert(u,vn.newNoDocument(u,Ve.min())),l=vt().add(u),f=new ay(Ve.min(),new Map,new Qt(Ke),a,l),[4,W1(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(u),i.Co.delete(t),Cy(i),[3,4];case 2:return[4,mu(i.localStore,t,!1).then(function(){return vu(i,t,n)}).catch(os)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function qU(e,t){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:n=ue(e),i=t.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,ZF(n.localStore,t)];case 2:return o=u.sent(),ky(n,i,null),Ay(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,to(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,os(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function BU(e,t,n){return H(this,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:i=ue(e),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(a,l){var f=ue(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var p;return f._n.lookupMutationBatch(d,l).next(function(m){return Oe(m!==null),p=m.keys(),f._n.removeMutationBatch(d,m)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,p)})})}(i.localStore,t)];case 2:return o=u.sent(),ky(i,t,n),Ay(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,to(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,os(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function $U(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a;return $(this,function(l){switch(l.label){case 0:eo((n=ue(e)).remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=ue(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return d._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return u=l.sent(),a=Ou(u,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Ay(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function ky(e,t,n){var i=ue(e),o=i.xo[i.currentUser.toKey()];if(o){var u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function vu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var u=o[i];e.Po.delete(u),n&&e.vo.Mo(u,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||X1(e,a)})}function X1(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(ic(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Cy(e))}function Hm(e,t,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof K1?(e.No.addReference(u.key,t),HU(e,u)):u instanceof z1?(re("SyncEngine","Document no longer in limbo: "+u.key),e.No.removeReference(u.key,t),e.No.containsKey(u.key)||X1(e,u.key)):ye()}}function HU(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(re("SyncEngine","New document in limbo: "+n),e.So.add(i),Cy(e))}function Cy(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new be(it.fromString(t)),i=e.Fo.next();e.Co.set(i,new LU(n)),e.Do=e.Do.insert(n,i),Mh(e.remoteStore,new Dh(Zr(kc(n.path)),i,2,tr.o))}}function to(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:return i=ue(e),o=[],u=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,t,n).then(function(p){if(p){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,p.fromCache?"not-current":"current"),o.push(p);var m=YF.Pn(d.targetId,p);u.push(m)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return H(this,void 0,void 0,function(){var p,m,v,b,_,T,S,x,O;return $(this,function(F){switch(F.label){case 0:p=ue(f),F.label=1;case 1:return F.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(q){return J.forEach(d,function(te){return J.forEach(te.bn,function(U){return p.persistence.referenceDelegate.addReference(q,te.targetId,U)}).next(function(){return J.forEach(te.vn,function(U){return p.persistence.referenceDelegate.removeReference(q,te.targetId,U)})})})})];case 2:return F.sent(),[3,4];case 3:if(!is(m=F.sent()))throw m;return re("LocalStore","Failed to update sequence numbers: "+m),[3,4];case 4:for(v=0,b=d;v<b.length;v++)_=b[v],T=_.targetId,_.fromCache||(S=p.kn.get(T),x=S.snapshotVersion,O=S.withLastLimboFreeSnapshotVersion(x),p.kn=p.kn.insert(T,O));return[2]}})})}(i.localStore,u)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function KU(e,t){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return(n=ue(e)).currentUser.isEqual(t)?[3,3]:(re("SyncEngine","User change. New user:",t.toKey()),[4,O1(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(u,a){u.ko.forEach(function(l){l.forEach(function(f){f.reject(new X(P.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,to(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function zU(e,t){var n=ue(e),i=n.Co.get(t);if(i&&i.bo)return vt().add(i.key);var o=vt(),u=n.Vo.get(t);if(!u)return o;for(var a=0,l=u;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function GU(e,t){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:return[4,Hf((n=ue(e)).localStore,t.query,!0)];case 1:return i=u.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Hm(n,t.targetId,o.To),o)]}})})}function WU(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){return[2,L1((t=ue(e)).localStore).then(function(i){return to(t,i)})]})})}function XU(e,t,n,i){return H(this,void 0,void 0,function(){var o,u;return $(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=ue(l),p=ue(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(m){return p.jt(m,f).next(function(v){return v?d.Mn.pn(m,v):J.resolve(null)})})}((o=ue(e)).localStore,t)];case 1:return(u=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Nu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(ky(o,t,i||null),Ay(o,t),function(l,f){ue(ue(l)._n).Gt(f)}(o.localStore,t)):ye(),a.label=4;case 4:return[4,to(o,u)];case 5:return a.sent(),[3,7];case 6:re("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function QU(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a,l,f,d;return $(this,function(p){switch(p.label){case 0:return Ry(n=ue(e)),Ny(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,gI(n,i.toArray())]);case 1:return o=p.sent(),n.$o=!0,[4,$m(n.remoteStore,!0)];case 2:for(p.sent(),u=0,a=o;u<a.length;u++)l=a[u],Mh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(m,v){n.sharedClientState.isLocalQueryTarget(v)?f.push(v):d=d.then(function(){return vu(n,v),mu(n.localStore,v,!0)}),ic(n.remoteStore,v)}),[4,d]);case 4:return p.sent(),[4,gI(n,f)];case 5:return p.sent(),function(m){var v=ue(m);v.Co.forEach(function(b,_){ic(v.remoteStore,_)}),v.No.ts(),v.Co=new Map,v.Do=new yn(be.comparator)}(n),n.$o=!1,[4,$m(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function gI(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f,d,p,m,v,b,_,T,S;return $(this,function(x){switch(x.label){case 0:i=ue(e),o=[],u=[],a=0,l=t,x.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(p=i.Vo.get(f))&&p.length!==0?[4,$f(i.localStore,Zr(p[0]))]:[3,7]):[3,13];case 2:d=x.sent(),m=0,v=p,x.label=3;case 3:return m<v.length?(b=v[m],_=i.Po.get(b),[4,GU(i,_)]):[3,6];case 4:(T=x.sent()).snapshot&&u.push(T.snapshot),x.label=5;case 5:return m++,[3,3];case 6:return[3,11];case 7:return[4,D1(i.localStore,f)];case 8:return S=x.sent(),[4,$f(i.localStore,S)];case 9:return d=x.sent(),[4,Sy(i,Q1(S),f,!1)];case 10:x.sent(),x.label=11;case 11:o.push(d),x.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(u),o)]}})})}function Q1(e){return GA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function YU(e){var t=ue(e);return ue(ue(t.localStore).persistence).fn()}function JU(e,t,n,i){return H(this,void 0,void 0,function(){var o,u,a;return $(this,function(l){switch(l.label){case 0:return(o=ue(e)).$o?(re("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,L1(o.localStore)];case 3:return u=l.sent(),a=ay.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,to(o,u,a)];case 4:return l.sent(),[3,8];case 5:return[4,mu(o.localStore,t,!0)];case 6:return l.sent(),vu(o,t,i),[3,8];case 7:ye(),l.label=8;case 8:return[2]}})})}function ZU(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f,d,p,m,v;return $(this,function(b){switch(b.label){case 0:if(!(i=Ry(e)).$o)return[3,10];o=0,u=t,b.label=1;case 1:return o<u.length?(a=u[o],i.Vo.has(a)?(re("SyncEngine","Adding an already active target "+a),[3,5]):[4,D1(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,$f(i.localStore,l)];case 3:return f=b.sent(),[4,Sy(i,Q1(l),f.targetId,!1)];case 4:b.sent(),Mh(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(_){return $(this,function(T){switch(T.label){case 0:return i.Vo.has(_)?[4,mu(i.localStore,_,!1).then(function(){ic(i.remoteStore,_),vu(i,_)}).catch(os)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},p=0,m=n,b.label=7;case 7:return p<m.length?(v=m[p],[5,d(v)]):[3,10];case 8:b.sent(),b.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function Ry(e){var t=ue(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=W1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=VU.bind(null,t),t.vo._r=OU.bind(null,t.eventManager),t.vo.Mo=PU.bind(null,t.eventManager),t}function Ny(e){var t=ue(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BU.bind(null,t),t}var Y1=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return H(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return this.R=Lh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return x1(this.persistence,new N1,t.initialUser,this.R)},e.prototype.qo=function(t){return new cU(fU.bs,this.R)},e.prototype.Bo=function(t){return new M1},e.prototype.terminate=function(){return H(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),J1=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).Qo=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return Te(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,rU(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Ny(this.Qo.syncEngine)];case 4:return o.sent(),[4,Nu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return x1(this.persistence,new N1,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new HF(i,n.asyncQueue)},t.prototype.qo=function(n){var i=gy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?$r.withCacheSize(this.cacheSizeBytes):$r.DEFAULT;return new QF(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,F1(),mf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new M1},t}(Y1),ej=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return Te(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i,o=this;return $(this,function(u){switch(u.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof Xg?(this.sharedClientState.syncEngine={ui:XU.bind(null,i),ai:JU.bind(null,i),hi:ZU.bind(null,i),fn:YU.bind(null,i),ci:WU.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(a){return H(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return[4,QU(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},t.prototype.Bo=function(n){var i=F1();if(!Xg.yt(i))throw new X(P.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=gy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Xg(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(J1),Km=function(){function e(){}return e.prototype.initialize=function(t,n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return pI(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=KU.bind(null,this.syncEngine),[4,$m(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new xU},e.prototype.createDatastore=function(t){var n,i=Lh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new mU(n));return function(u,a,l){return new wU(u,a,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,u,a,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,u=function(f){return pI(l.syncEngine,f,0)},a=hI.yt()?new hI:new dU,new _U(n,i,o,u,a)},e.prototype.createSyncEngine=function(t,n){return function(i,o,u,a,l,f,d){var p=new MU(i,o,u,a,l,f);return d&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=ue(t),re("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Ru(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),tj=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return H(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new X(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,a){return H(this,void 0,void 0,function(){var l,f,d,p,m,v;return $(this,function(b){switch(b.label){case 0:return l=ue(u),f=rc(l.R)+"/documents",d={documents:a.map(function(_){return nc(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return p=b.sent(),m=new Map,p.forEach(function(_){var T=function(S,x){return"found"in x?function(O,F){Oe(!!F.found),F.found.name,F.found.updateTime;var q=li(O,F.found.name),te=Nn(F.found.updateTime),U=new er({mapValue:{fields:F.found.fields}});return vn.newFoundDocument(q,te,U)}(S,x):"missing"in x?function(O,F){Oe(!!F.missing),Oe(!!F.readTime);var q=li(O,F.missing),te=Nn(F.readTime);return vn.newNoDocument(q,te)}(S,x):ye()}(l.R,_);m.set(T.key.toString(),T)}),v=[],[2,(a.forEach(function(_){var T=m.get(_.toString());Oe(!!T),v.push(T)}),v)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(u){return i.recordVersion(u)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Oc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return H(this,void 0,void 0,function(){var t,n=this;return $(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,u){var a=be.fromPath(u);n.mutations.push(new uy(a,n.precondition(a)))}),[4,function(o,u){return H(this,void 0,void 0,function(){var a,l,f;return $(this,function(d){switch(d.label){case 0:return a=ue(o),l=rc(a.R)+"/documents",f={writes:u.map(function(p){return Vf(a.R,p)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ye();n=Ve.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new X(P.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?gn.updateTime(n):gn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Ve.min()))throw new X(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gn.updateTime(n)}return gn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),nj=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new vy(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return H(t,void 0,void 0,function(){var n,i,o=this;return $(this,function(u){return n=new tj(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!rs(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!o1(n)}return!1},e}(),rj=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=jA.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return H(o,void 0,void 0,function(){return $(this,function(a){switch(a.label){case 0:return re("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return a.sent(),this.user=u,[2]}})})})}return e.prototype.getConfiguration=function(){return H(this,void 0,void 0,function(){return $(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new X(P.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return H(t,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=u.sent(),o=Ou(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(e,t){return H(this,void 0,void 0,function(){var n,i,o=this;return $(this,function(u){switch(u.label){case 0:return e.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=u.sent(),[4,t.initialize(n)];case 2:return u.sent(),i=n.initialUser,e.setCredentialChangeListener(function(a){return H(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,O1(t.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function ek(e,t){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,xy(e)];case 1:return n=o.sent(),re("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(u){return function(a,l){return H(this,void 0,void 0,function(){var f,d;return $(this,function(p){switch(p.label){case 0:return(f=ue(a)).asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials"),d=eo(f),f.Or.add(3),[4,Ru(f)];case 1:return p.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),f.Or.delete(3),[4,Pc(f)];case 3:return p.sent(),[2]}})})}(t.remoteStore,u)}),e.onlineComponents=t,[2]}})})}function xy(e){return H(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(re("FirestoreClient","Using default OfflineComponentProvider"),[4,Z1(e,new Y1)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Uh(e){return H(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(re("FirestoreClient","Using default OnlineComponentProvider"),[4,ek(e,new Km)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function mI(e){return xy(e).then(function(t){return t.persistence})}function tk(e){return xy(e).then(function(t){return t.localStore})}function vI(e){return Uh(e).then(function(t){return t.remoteStore})}function nk(e){return Uh(e).then(function(t){return t.syncEngine})}function yu(e){return H(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:return[4,Uh(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=FU.bind(null,t.syncEngine),n.onUnlisten=UU.bind(null,t.syncEngine),n)]}})})}function yI(e,t,n){var i=this;n===void 0&&(n={});var o=new Hn;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return u=function(l,f,d,p,m){var v=new Fh({next:function(_){f.enqueueAndForget(function(){return Ey(l,b)});var T=_.docs.has(d);!T&&_.fromCache?m.reject(new X(P.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&p&&p.source==="server"?m.reject(new X(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:function(_){return m.reject(_)}}),b=new Ty(kc(d.path),v,{includeMetadataChanges:!0,so:!0});return _y(l,b)},[4,yu(e)];case 1:return[2,u.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function wI(e,t,n){var i=this;n===void 0&&(n={});var o=new Hn;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return u=function(l,f,d,p,m){var v=new Fh({next:function(_){f.enqueueAndForget(function(){return Ey(l,b)}),_.fromCache&&p.source==="server"?m.reject(new X(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:function(_){return m.reject(_)}}),b=new Ty(d,v,{includeMetadataChanges:!0,so:!0});return _y(l,b)},[4,yu(e)];case 1:return[2,u.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var ij=function(e,t,n,i,o,u,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=a,this.useFetchStreams=l},Gf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),bI=new Map,rk=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},_I=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(nn.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),oj=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),sj=function(){function e(t){var n=this;this.currentUser=nn.UNAUTHENTICATED,this.oc=new Hn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){re("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(re("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(re("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Oe(typeof o.accessToken=="string"),new rk(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Oe(t===null||typeof t=="string"),new nn(t)},e}(),uj=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=nn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),aj=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new uj(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(nn.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(e,t,n){if(!n)throw new X(P.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Py(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new X(P.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function ik(e,t,n,i){if(t===!0&&i===!0)throw new X(P.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function EI(e){if(!be.isDocumentKey(e))throw new X(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function II(e){if(be.isDocumentKey(e))throw new X(P.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function jh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ye()}function ot(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new X(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=jh(e);throw new X(P.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function TI(e,t){if(t<=0)throw new X(P.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SI=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new X(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new X(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ik("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),oc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SI({}),this._settingsFrozen=!1,t instanceof Gf?(this._databaseId=t,this._credentials=new _I):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new X(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gf(i.options.projectId)}(t),this._credentials=new sj(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new X(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new X(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SI(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new _I;switch(n.type){case"gapi":var i=n.client;return Oe(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new aj(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new X(P.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=bI.get(t))&&(re("ComponentProvider","Removing Datastore"),bI.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),At=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new zi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),rr=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),zi=function(e){function t(n,i,o){var u=this;return(u=e.call(this,n,i,kc(o))||this)._path=o,u.type="collection",u}return Te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new At(this.firestore,null,new be(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(rr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=ht(e),Oy("collection","path",t),e instanceof oc)return II(n=it.fromString.apply(it,It([t],i))),new zi(e,null,n);if(!(e instanceof At||e instanceof zi))throw new X(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return II(n=it.fromString.apply(it,It([e.path],i)).child(it.fromString(t))),new zi(e.firestore,null,n)}function vf(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=ht(e),arguments.length===1&&(t=jA.u()),Oy("doc","path",t),e instanceof oc)return EI(n=it.fromString.apply(it,It([t],i))),new At(e,null,new be(n));if(!(e instanceof At||e instanceof zi))throw new X(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return EI(n=e._path.child(it.fromString.apply(it,It([t],i)))),new At(e.firestore,e instanceof zi?e.converter:null,new be(n))}function sk(e,t){return e=ht(e),t=ht(t),(e instanceof At||e instanceof zi)&&(t instanceof At||t instanceof zi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function uk(e,t){return e=ht(e),t=ht(t),e instanceof rr&&t instanceof rr&&e.firestore===t.firestore&&Cc(e._query,t._query)&&e.converter===t.converter}var cj=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new vy(this,"async_queue_retry"),this.Ic=function(){var i=mf();i&&re("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=mf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=mf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Hn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return H(this,void 0,void 0,function(){var t,n=this;return $(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!is(t=i.sent()))throw t;return re("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Bt("INTERNAL UNHANDLED ERROR: ",function(u){var a=u.message||"";return u.stack&&(a=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var u=RU.createAndSchedule(this,t,n,i,function(a){return o.vc(a)});return this.mc.push(u),u},e.prototype.Ac=function(){this.yc&&ye()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var u=o[i];if(u.skipDelay(),t!=="all"&&u.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function wu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,u=["next","error","complete"];o<u.length;o++){var a=u[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(e)}var lj=-1,Xt=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new cj,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Te(t,e),t.prototype._terminate=function(){return this._firestoreClient||ak(this),this._firestoreClient.terminate()},t}(oc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(e){return e._firestoreClient||ak(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ak(e){var t,n=e._freezeSettings(),i=function(o,u,a,l){return new ij(o,u,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new rj(e._credentials,e._queue,i)}function AI(e,t,n){var i=this,o=new Hn;return e.asyncQueue.enqueue(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,Z1(e,n)];case 1:return a.sent(),[4,ek(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===P.FAILED_PRECONDITION||l.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(u=a.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function kI(e){if(e._initialized||e._terminated)throw new X(P.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new X(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Zo=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e($n.fromBase64String(t))}catch(n){throw new X(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e($n.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),ss=function(e){this._methodName=e},Vh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new X(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new X(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ke(this._lat,t._lat)||Ke(this._long,t._long)},e}(),fj=/^__.*__$/,hj=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Zi(t,this.data,this.fieldMask,n,this.fieldTransforms):new xc(t,this.data,n,this.fieldTransforms)},e}(),ck=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new Zi(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}var fk=function(){function e(t,n,i,o,u,a){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Wf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(lk(this.Nc)&&fj.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),dj=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||Lh(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new fk({Nc:t,methodName:n,qc:i,path:xr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function us(e){var t=e._freezeSettings(),n=Lh(e._databaseId);return new dj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function qh(e,t,n,i,o,u){u===void 0&&(u={});var a=e.Uc(u.merge||u.mergeFields?2:0,t,n,o);Fy("Data must be an object, but it was:",a,i);var l,f,d=pk(i,a);if(u.merge)l=new ou(a.fieldMask),f=a.fieldTransforms;else if(u.mergeFields){for(var p=[],m=0,v=u.mergeFields;m<v.length;m++){var b=zm(t,v[m],n);if(!a.contains(b))throw new X(P.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");mk(p,b)||p.push(b)}l=new ou(p),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new hj(new er(d),l,f)}var Dy=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(ss);function hk(e,t,n){return new fk({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var pj=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype._toFieldTransform=function(n){return new Nc(n.path,new cu)},t.prototype.isEqual=function(n){return n instanceof t},t}(ss),gj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var i=hk(this,n,!0),o=this.Kc.map(function(a){return as(a,i)}),u=new Yo(o);return new Nc(n.path,u)},t.prototype.isEqual=function(n){return this===n},t}(ss),mj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var i=hk(this,n,!0),o=this.Kc.map(function(a){return as(a,i)}),u=new Jo(o);return new Nc(n.path,u)},t.prototype.isEqual=function(n){return this===n},t}(ss),vj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var i=new lu(n.R,ZA(n.R,this.Qc));return new Nc(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(ss);function Ly(e,t,n,i){var o=e.Uc(1,t,n);Fy("Data must be an object, but it was:",o,i);var u=[],a=er.empty();ns(i,function(f,d){var p=Uy(t,f,n);d=ht(d);var m=o.Oc(p);if(d instanceof Dy)u.push(p);else{var v=as(d,m);v!=null&&(u.push(p),a.set(p,v))}});var l=new ou(u);return new ck(a,l,o.fieldTransforms)}function My(e,t,n,i,o,u){var a=e.Uc(1,t,n),l=[zm(t,i,n)],f=[o];if(u.length%2!=0)throw new X(P.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<u.length;d+=2)l.push(zm(t,u[d])),f.push(u[d+1]);for(var p=[],m=er.empty(),v=l.length-1;v>=0;--v)if(!mk(p,l[v])){var b=l[v],_=f[v];_=ht(_);var T=a.Oc(b);if(_ instanceof Dy)p.push(b);else{var S=as(_,T);S!=null&&(p.push(b),m.set(b,S))}}var x=new ou(p);return new ck(m,x,a.fieldTransforms)}function dk(e,t,n,i){return i===void 0&&(i=!1),as(n,e.Uc(i?4:3,t))}function as(e,t){if(gk(e=ht(e)))return Fy("Unsupported field value:",t,e),pk(e,t);if(e instanceof ss)return function(n,i){if(!lk(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,a=0,l=n;a<l.length;a++){var f=as(l[a],i.Mc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=ht(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ZA(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=qn.fromDate(n);return{timestampValue:tc(i.R,o)}}if(n instanceof qn)return o=new qn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:tc(i.R,o)};if(n instanceof Vh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zo)return{bytesValue:c1(i.R,n._byteString)};if(n instanceof At){o=i.databaseId;var u=n.firestore._databaseId;if(!u.isEqual(o))throw i.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:ly(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+jh(n))}(e,t)}function pk(e,t){var n={};return qA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ns(e,function(i,o){var u=as(o,t.kc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function gk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qn||e instanceof Vh||e instanceof Zo||e instanceof At||e instanceof ss)}function Fy(e,t,n){if(!gk(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=jh(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function zm(e,t,n){if((t=ht(t))instanceof Wr)return t._internalPath;if(typeof t=="string")return Uy(e,t);throw Wf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var yj=new RegExp("[~\\*/\\[\\]]");function Uy(e,t,n){if(t.search(yj)>=0)throw Wf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Wr.bind.apply(Wr,It([void 0],t.split("."))))()._internalPath}catch{throw Wf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Wf(e,t,n,i,o){var u=i&&!i.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(u||a)&&(f+=" (found",u&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new X(P.INVALID_ARGUMENT,(l+=". ")+e+f)}function mk(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sc=function(){function e(t,n,i,o,u){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new At(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new wj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Xf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),wj=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(sc);function Xf(e,t){return typeof t=="string"?Uy(e,t):t instanceof Wr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),hi=function(e){function t(n,i,o,u,a,l){var f=this;return(f=e.call(this,n,i,o,u,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return Te(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new La(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(Xf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(sc),La=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(hi),Vi=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Lo(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new La(i._firestore,i._userDataWriter,o.key,o,new Lo(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new La(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Lo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new La(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Lo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:bj(l.type),doc:f,oldIndex:d,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function bj(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}function vk(e,t){return e instanceof hi&&t instanceof hi?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Vi&&t instanceof Vi&&e._firestore===t._firestore&&uk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(e){if(jf(e)&&e.explicitOrderBy.length===0)throw new X(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Dc=function(){};function xi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var u=o[i];e=u._apply(e)}return e}var _j=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).jc=n,u.Wc=i,u.Gc=o,u.type="where",u}return Te(t,e),t.prototype._apply=function(n){var i=us(n.firestore),o=function(u,a,l,f,d,p,m){var v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new X(P.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){OI(m,p);for(var b=[],_=0,T=m;_<T.length;_++){var S=T[_];b.push(xI(f,u,S))}v={arrayValue:{values:b}}}else v=xI(f,u,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||OI(m,p),v=dk(l,"where",m,p==="in"||p==="not-in");var x=nr.create(d,p,v);return function(O,F){if(F.g()){var q=oy(O);if(q!==null&&!q.isEqual(F.field))throw new X(P.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+q.toString()+"' and '"+F.field.toString()+"'");var te=iy(O);te!==null&&bk(O,F.field,te)}var U=function(ve,z){for(var oe=0,k=ve.filters;oe<k.length;oe++){var Xe=k[oe];if(z.indexOf(Xe.op)>=0)return Xe.op}return null}(O,function(ve){switch(ve){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(F.op));if(U!==null)throw U===F.op?new X(P.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+F.op.toString()+"' filter."):new X(P.INVALID_ARGUMENT,"Invalid query. You cannot use '"+F.op.toString()+"' filters with '"+U.toString()+"' filters.")}(u,x),x}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new rr(n.firestore,n.converter,function(u,a){var l=u.filters.concat([a]);return new vi(u.path,u.collectionGroup,u.explicitOrderBy.slice(),l,u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))},t}(Dc),Ej=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return Te(t,e),t.prototype._apply=function(n){var i=function(o,u,a){if(o.startAt!==null)throw new X(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new X(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Ws(u,a);return function(f,d){if(iy(f)===null){var p=oy(f);p!==null&&bk(f,p,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new rr(n.firestore,n.converter,function(o,u){var a=o.explicitOrderBy.concat([u]);return new vi(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Dc),CI=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Hc=i,u.Jc=o,u}return Te(t,e),t.prototype._apply=function(n){return new rr(n.firestore,n.converter,WA(n._query,this.Hc,this.Jc))},t}(Dc),RI=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Te(t,e),t.prototype._apply=function(n){var i=wk(n,this.type,this.Yc,this.Xc);return new rr(n.firestore,n.converter,function(o,u){return new vi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(n._query,i))},t}(Dc),NI=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Te(t,e),t.prototype._apply=function(n){var i=wk(n,this.type,this.Yc,this.Xc);return new rr(n.firestore,n.converter,function(o,u){return new vi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(n._query,i))},t}(Dc);function wk(e,t,n,i){if(n[0]=ht(n[0]),n[0]instanceof sc)return function(u,a,l,f,d){if(!f)throw new X(P.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],m=0,v=au(u);m<v.length;m++){var b=v[m];if(b.field.isKeyField())p.push(Mf(a,f.key));else{var _=f.data.field(b.field);if(ty(_))throw new X(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var T=b.field.canonicalString();throw new X(P.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+T+"' (used as the orderBy) does not exist.")}p.push(_)}}return new ec(p,d)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=us(e.firestore);return function(u,a,l,f,d,p){var m=u.explicitOrderBy;if(d.length>m.length)throw new X(P.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var v=[],b=0;b<d.length;b++){var _=d[b];if(m[b].field.isKeyField()){if(typeof _!="string")throw new X(P.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!sy(u)&&_.indexOf("/")!==-1)throw new X(P.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var T=u.path.child(it.fromString(_));if(!be.isDocumentKey(T))throw new X(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+T+"' is not because it contains an odd number of segments.");var S=new be(T);v.push(Mf(a,S))}else{var x=dk(l,f,_);v.push(x)}}return new ec(v,p)}(e._query,e.firestore._databaseId,o,t,n,i)}function xI(e,t,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new X(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!sy(t)&&n.indexOf("/")!==-1)throw new X(P.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(it.fromString(n));if(!be.isDocumentKey(i))throw new X(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Mf(e,new be(i))}if(n instanceof At)return Mf(e,n._key);throw new X(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+jh(n)+".")}function OI(e,t){if(!Array.isArray(e)||e.length===0)throw new X(P.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new X(P.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function bk(e,t,n){if(!n.isEqual(t))throw new X(P.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jy=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Qo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(su(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ye()}},e.prototype.convertObject=function(t,n){var i=this,o={};return ns(t.fields,function(u,a){o[u]=i.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new Vh(Vt(t.latitude),Vt(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=$A(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ja(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Xi(t);return new qn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=it.fromString(t);Oe(v1(i));var o=new Gf(i.get(1),i.get(3)),u=new be(i.popFirst(5));return o.isEqual(n)||Bt("Document "+u+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Ij=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Te(t,e),t.prototype.convertBytes=function(n){return new Zo(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new At(this.firestore,null,i)},t}(jy),Tj=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=us(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=qi(t,this._firestore),u=Bh(o.converter,n,i),a=qh(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,gn.none())),this},e.prototype.update=function(t,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this._verifyNotCommitted();var a,l=qi(t,this._firestore);return a=typeof(n=ht(n))=="string"||n instanceof Wr?My(this._dataReader,"WriteBatch.update",l._key,n,i,o):Ly(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,gn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=qi(t,this._firestore);return this._mutations=this._mutations.concat(new Oc(n._key,gn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new X(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(e,t){if((e=ht(e)).firestore!==t)throw new X(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bo=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Te(t,e),t.prototype.convertBytes=function(n){return new Zo(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new At(this.firestore,null,i)},t}(jy);function PI(e,t,n){e=ot(e,At);var i=ot(e.firestore,Xt),o=Bh(e.converter,t,n);return Lc(i,[qh(us(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,gn.none())])}function DI(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=ot(e,At);var u=ot(e.firestore,Xt),a=us(u);return Lc(u,[(typeof(t=ht(t))=="string"||t instanceof Wr?My(a,"updateDoc",e._key,t,n,i):Ly(a,"updateDoc",e._key,t)).toMutation(e._key,gn.exists(!0))])}function _k(e){for(var t,n,i,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];e=ht(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||wu(o[l])||(a=o[l],l++);var f,d,p,m={includeMetadataChanges:a.includeMetadataChanges};if(wu(o[l])){var v=o[l];o[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),o[l+1]=(n=v.error)===null||n===void 0?void 0:n.bind(v),o[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}if(e instanceof At)d=ot(e.firestore,Xt),p=kc(e._key.path),f={next:function(T){o[l]&&o[l](Gm(d,e,T))},error:o[l+1],complete:o[l+2]};else{var b=ot(e,rr);d=ot(b.firestore,Xt),p=b._query;var _=new Bo(d);f={next:function(T){o[l]&&o[l](new Vi(d,_,b,T))},error:o[l+1],complete:o[l+2]},yk(e._query)}return function(T,S,x,O){var F=this,q=new Fh(O),te=new Ty(S,q,x);return T.asyncQueue.enqueueAndForget(function(){return H(F,void 0,void 0,function(){var U;return $(this,function(ve){switch(ve.label){case 0:return U=_y,[4,yu(T)];case 1:return[2,U.apply(void 0,[ve.sent(),te])]}})})}),function(){q.Wo(),T.asyncQueue.enqueueAndForget(function(){return H(F,void 0,void 0,function(){var U;return $(this,function(ve){switch(ve.label){case 0:return U=Ey,[4,yu(T)];case 1:return[2,U.apply(void 0,[ve.sent(),te])]}})})})}}(dn(d),p,m,f)}function Lc(e,t){return function(n,i){var o=this,u=new Hn;return n.asyncQueue.enqueueAndForget(function(){return H(o,void 0,void 0,function(){var a;return $(this,function(l){switch(l.label){case 0:return a=jU,[4,nk(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,u])]}})})}),u.promise}(dn(e),t)}function Gm(e,t,n){var i=n.docs.get(t._key),o=new Bo(e);return new hi(e,o,t._key,i,new Lo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sj=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return Te(t,e),t.prototype.get=function(n){var i=this,o=qi(n,this._firestore),u=new Bo(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new hi(i._firestore,u,o._key,a._document,new Lo(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=us(t)}return e.prototype.get=function(t){var n=this,i=qi(t,this._firestore),o=new Ij(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return ye();var a=u[0];if(a.isFoundDocument())return new sc(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new sc(n._firestore,o,i._key,null,i.converter);throw ye()})},e.prototype.set=function(t,n,i){var o=qi(t,this._firestore),u=Bh(o.converter,n,i),a=qh(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var a,l=qi(t,this._firestore);return a=typeof(n=ht(n))=="string"||n instanceof Wr?My(this._dataReader,"Transaction.update",l._key,n,i,o):Ly(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=qi(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){if(typeof Uint8Array>"u")throw new X(P.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function MI(){if(typeof atob>"u")throw new X(P.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ek=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return MI(),new e(Zo.fromBase64String(t))},e.fromUint8Array=function(t){return LI(),new e(Zo.fromUint8Array(t))},e.prototype.toBase64=function(){return MI(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return LI(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Aj=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){kI(i=ot(i,Xt));var u=dn(i),a=i._freezeSettings(),l=new Km;return AI(u,l,new J1(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){kI(n=ot(n,Xt));var i=dn(n),o=n._freezeSettings(),u=new Km;return AI(i,u,new ej(u,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new X(P.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Hn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return H(this,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return du.yt()?(f=l+"main",[4,du.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(gy(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return u=a.sent(),o.reject(u),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),Ik=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Gf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Df("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,u,a,l){var f;l===void 0&&(l={});var d=(o=ot(o,oc))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==u&&Df("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:u+":"+a,ssl:!1})),l.mockUserToken){var p,m;if(typeof l.mockUserToken=="string")p=l.mockUserToken,m=nn.MOCK_USER;else{p=NS(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var v=l.mockUserToken.sub||l.mockUserToken.user_id;if(!v)throw new X(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new nn(v)}o._credentials=new oj(new rk(p,m))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return[4,mI(t)];case 1:return i=u.sent(),[4,vI(t)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=ue(a);return l.Or.delete(0),Pc(l)}(o))]}})})})}(dn(ot(this._delegate,Xt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return[4,mI(t)];case 1:return i=u.sent(),[4,vI(t)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!1),function(a){return H(this,void 0,void 0,function(){var l;return $(this,function(f){switch(f.label){case 0:return(l=ue(a)).Or.add(0),[4,Ru(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(dn(ot(this._delegate,Xt)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&ik("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new Hn;return t.asyncQueue.enqueueAndForget(function(){return H(n,void 0,void 0,function(){var o;return $(this,function(u){switch(u.label){case 0:return o=$U,[4,nk(t)];case 1:return[2,o.apply(void 0,[u.sent(),i])]}})})}),i.promise}(dn(ot(this._delegate,Xt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,u){var a=this,l=new Fh(u);return o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return f=function(p,m){ue(p).Gr.add(m),m.next()},[4,yu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return f=function(p,m){ue(p).Gr.delete(m)},[4,yu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(dn(n=ot(n,Xt)),wu(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new X(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qf(this,ok(this._delegate,t))}catch(n){throw In(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new $o(this,vf(this._delegate,t))}catch(n){throw In(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Kh(this,function(n,i){if(n=ot(n,oc),Oy("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new X(P.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new rr(n,null,function(o){return new vi(it.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw In(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(u,a){var l=this,f=new Hn;return u.asyncQueue.enqueueAndForget(function(){return H(l,void 0,void 0,function(){var d;return $(this,function(p){switch(p.label){case 0:return[4,function(m){return Uh(m).then(function(v){return v.datastore})}(u)];case 1:return d=p.sent(),new nj(u.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(dn(i),function(u){return o(new Sj(i,u))})}(this._delegate,function(i){return t(new Tk(n,i))})},e.prototype.batch=function(){var t=this;return dn(this._delegate),new Sk(new Tj(this._delegate,function(n){return Lc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new X(P.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new X(P.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),$h=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Te(t,e),t.prototype.convertBytes=function(n){return new Ek(new Zo(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return $o.eu(i,this.firestore,null)},t}(jy);function kj(e){var t;t=e,Cr.setLogLevel(t)}var Tk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new $h(t)}return e.prototype.get=function(t){var n=this,i=Mo(t);return this._delegate.get(i).then(function(o){return new uc(n._firestore,new hi(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=Mo(t);return i?(Py("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=Mo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,It([l,n,i],u)),this},e.prototype.delete=function(t){var n=Mo(t);return this._delegate.delete(n),this},e}(),Sk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=Mo(t);return i?(Py("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=Mo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,It([l,n,i],u)),this},e.prototype.delete=function(t){var n=Mo(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Hh=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new La(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ac(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var u=o.get(n);return u||(u=new e(t,new $h(t),n),o.set(n,u)),u},e}();Hh.su=new WeakMap;var $o=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new $h(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new X(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new At(n._delegate,i,new be(t)))},e.eu=function(t,n,i){return new e(n,new At(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Qf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qf(this.firestore,ok(this._delegate,t))}catch(n){throw In(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=ht(t))instanceof At&&sk(this._delegate,t)},e.prototype.set=function(t,n){n=Py("DocumentReference.set",n);try{return n?PI(this._delegate,t,n):PI(this._delegate,t)}catch(i){throw In(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?DI(this._delegate,t):DI.apply(void 0,It([this._delegate,t,n],i))}catch(u){throw In(u,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Lc(ot((t=this._delegate).firestore,Xt),[new Oc(t._key,gn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=Ak(n),u=kk(n,function(a){return new uc(t.firestore,new hi(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return _k(this._delegate,o,u)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=ot(i,At);var o=ot(i.firestore,Xt),u=dn(o),a=new Bo(o);return function(l,f){var d=this,p=new Hn;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var m;return $(this,function(v){switch(v.label){case 0:return m=function(b,_,T){return H(this,void 0,void 0,function(){var S,x;return $(this,function(O){switch(O.label){case 0:return O.trys.push([0,2,,3]),[4,function(F,q){var te=ue(F);return te.persistence.runTransaction("read document","readonly",function(U){return te.Mn.mn(U,q)})}(b,_)];case 1:return(x=O.sent()).isFoundDocument()?T.resolve(x):x.isNoDocument()?T.resolve(null):T.reject(new X(P.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=O.sent(),x=Ou(S,"Failed to get document '"+_+" from cache"),T.reject(x),[3,3];case 3:return[2]}})})},[4,tk(l)];case 1:return[2,m.apply(void 0,[v.sent(),f,p])]}})})}),p.promise}(u,i._key).then(function(l){return new hi(o,a,i._key,l,new Lo(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=ot(i,At);var o=ot(i.firestore,Xt);return yI(dn(o),i._key,{source:"server"}).then(function(u){return Gm(o,i,u)})}(this._delegate):function(i){i=ot(i,At);var o=ot(i.firestore,Xt);return yI(dn(o),i._key).then(function(u){return Gm(o,i,u)})}(this._delegate)).then(function(i){return new uc(n.firestore,new hi(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Hh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function In(e,t,n){return e.message=e.message.replace(t,n),e}function Ak(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!wu(i))return i}return{}}function kk(e,t){var n,i,o;return{next:function(u){o.next&&o.next(t(u))},error:(n=(o=wu(e[0])?e[0]:wu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var uc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new $o(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return vk(this._delegate,t._delegate)},e}(),ac=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(uc),Kh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new $h(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,xi(this._delegate,function(o,u,a){var l=u,f=Xf("where",o);return new _j(f,l,a)}(t,n,i)))}catch(o){throw In(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,xi(this._delegate,function(i,o){o===void 0&&(o="asc");var u=o,a=Xf("orderBy",i);return new Ej(a,u)}(t,n)))}catch(i){throw In(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,xi(this._delegate,function(n){return TI("limit",n),new CI("limit",n,"F")}(t)))}catch(n){throw In(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,xi(this._delegate,function(n){return TI("limitToLast",n),new CI("limitToLast",n,"L")}(t)))}catch(n){throw In(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new RI("startAt",i,!0)}).apply(void 0,t)))}catch(i){throw In(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new RI("startAfter",i,!1)}).apply(void 0,t)))}catch(i){throw In(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new NI("endBefore",i,!0)}).apply(void 0,t)))}catch(i){throw In(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new NI("endAt",i,!1)}).apply(void 0,t)))}catch(i){throw In(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return uk(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=ot(i,rr);var o=ot(i.firestore,Xt),u=dn(o),a=new Bo(o);return function(l,f){var d=this,p=new Hn;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var m;return $(this,function(v){switch(v.label){case 0:return m=function(b,_,T){return H(this,void 0,void 0,function(){var S,x,O,F,q;return $(this,function(te){switch(te.label){case 0:return te.trys.push([0,2,,3]),[4,Hf(b,_,!0)];case 1:return q=te.sent(),S=new G1(_,q.Bn),x=S._o(q.documents),O=S.applyChanges(x,!1),T.resolve(O.snapshot),[3,3];case 2:return F=te.sent(),q=Ou(F,"Failed to execute query '"+_+" against cache"),T.reject(q),[3,3];case 3:return[2]}})})},[4,tk(l)];case 1:return[2,m.apply(void 0,[v.sent(),f,p])]}})})}),p.promise}(u,i._query).then(function(l){return new Vi(o,a,i,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=ot(i,rr);var o=ot(i.firestore,Xt),u=dn(o),a=new Bo(o);return wI(u,i._query,{source:"server"}).then(function(l){return new Vi(o,a,i,l)})}(this._delegate):function(i){i=ot(i,rr);var o=ot(i.firestore,Xt),u=dn(o),a=new Bo(o);return yk(i._query),wI(u,i._query).then(function(l){return new Vi(o,a,i,l)})}(this._delegate)).then(function(i){return new Wm(n.firestore,new Vi(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=Ak(n),u=kk(n,function(a){return new Wm(t.firestore,new Vi(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return _k(this._delegate,o,u)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Hh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Cj=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ac(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Wm=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Kh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new ac(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new Cj(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new ac(i._firestore,o))})},e.prototype.isEqual=function(t){return vk(this._delegate,t._delegate)},e}(),Qf=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return Te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new $o(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new $o(this.firestore,n===void 0?vf(this._delegate):vf(this._delegate,n))}catch(i){throw In(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,u){var a=ot(o.firestore,Xt),l=vf(o),f=Bh(o.converter,u);return Lc(a,[qh(us(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,gn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new $o(i.firestore,o)})},t.prototype.isEqual=function(n){return sk(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Hh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Kh);function Mo(e){return ot(e,At)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rj=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Wr.bind.apply(Wr,It([void 0],t)))}return e.documentId=function(){return new e(xr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=ht(t))instanceof Wr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),Nj=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new pj("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Dy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new gj("arrayUnion",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new mj("arrayRemove",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new vj("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),xj={Firestore:Ik,GeoPoint:Vh,Timestamp:qn,Blob:Ek,Transaction:Tk,WriteBatch:Sk,DocumentReference:$o,DocumentSnapshot:uc,Query:Kh,QueryDocumentSnapshot:ac,QuerySnapshot:Wm,CollectionReference:Qf,FieldPath:Rj,FieldValue:Nj,setLogLevel:kj,CACHE_SIZE_UNLIMITED:lj};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(e){(function(t,n){t.INTERNAL.registerComponent(new mc("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},xj)))})(e,function(t,n){return new Ik(t,new Xt(t,n),new Aj)}),e.registerVersion("@firebase/firestore","2.4.1")}Oj(Ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ck="firebasestorage.googleapis.com",Rk="storageBucket",Pj=2*60*1e3,Dj=10*60*1e3,Kt=function(e){Te(t,e);function t(n,i){var o=e.call(this,Qg(n),"Firebase Storage: "+i+" ("+Qg(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return Qg(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(OS);function Qg(e){return"storage/"+e}function Vy(){var e="An unknown error occurred, please check the error payload for server response.";return new Kt("unknown",e)}function Lj(e){return new Kt("object-not-found","Object '"+e+"' does not exist.")}function Mj(e){return new Kt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Fj(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kt("unauthenticated",e)}function Uj(){return new Kt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function jj(e){return new Kt("unauthorized","User does not have permission to access '"+e+"'.")}function Vj(){return new Kt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Nk(){return new Kt("canceled","User canceled the upload/download.")}function qj(e){return new Kt("invalid-url","Invalid URL '"+e+"'.")}function Bj(e){return new Kt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function $j(){return new Kt("no-default-bucket","No default bucket found. Did you set the '"+Rk+"' property when initializing the app?")}function xk(){return new Kt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Hj(){return new Kt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Kj(){return new Kt("no-download-url","The given file does not have any download URLs.")}function Xs(e){return new Kt("invalid-argument",e)}function Ok(){return new Kt("app-deleted","The Firebase app was deleted.")}function Pk(e){return new Kt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ma(e,t){return new Kt("invalid-format","String does not match format '"+e+"': "+t)}function Jl(e){throw new Kt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Yg=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function Dk(e,t){switch(e){case fr.RAW:return new Yg(Lk(t));case fr.BASE64:case fr.BASE64URL:return new Yg(Mk(e,t));case fr.DATA_URL:return new Yg(Wj(t),Xj(t))}throw Vy()}function Lk(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var u=i,a=e.charCodeAt(++n);i=65536|(u&1023)<<10|a&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function Gj(e){var t;try{t=decodeURIComponent(e)}catch{throw Ma(fr.DATA_URL,"Malformed data URL.")}return Lk(t)}function Mk(e,t){switch(e){case fr.BASE64:{var n=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(n||i){var o=n?"-":"_";throw Ma(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case fr.BASE64URL:{var u=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(u||a){var o=u?"+":"/";throw Ma(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=zj(t)}catch{throw Ma(e,"Invalid character found")}for(var f=new Uint8Array(l.length),d=0;d<l.length;d++)f[d]=l.charCodeAt(d);return f}var Fk=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ma(fr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;i!=null&&(this.base64=Qj(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();function Wj(e){var t=new Fk(e);return t.base64?Mk(fr.BASE64,t.rest):Gj(t.rest)}function Xj(e){var t=new Fk(e);return t.contentType}function Qj(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yj={STATE_CHANGED:"state_changed"},Tn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Jg(e){switch(e){case"running":case"pausing":case"canceling":return Tn.RUNNING;case"paused":return Tn.PAUSED;case"success":return Tn.SUCCESS;case"canceled":return Tn.CANCELED;case"error":return Tn.ERROR;default:return Tn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ho;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ho||(Ho={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jj=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ho.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ho.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ho.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,i,o){if(this.sent_)throw Jl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Jl("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Jl("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function Zj(){return new Jj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eV=function(){function e(){}return e.prototype.createConnection=function(){return Zj()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw Bj(t)},e.makeFromUrl=function(t,n){var i=null,o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+o+a,"i"),f={bucket:1,path:3};function d(oe){oe.path_=decodeURIComponent(oe.path)}for(var p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp("^https?://"+m+"/"+p+"/b/"+o+"/o"+v,"i"),_={bucket:1,path:3},T=n===Ck?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",x=new RegExp("^https?://"+T+"/"+o+"/"+S,"i"),O={bucket:1,path:2},F=[{regex:l,indices:f,postModify:u},{regex:b,indices:_,postModify:d},{regex:x,indices:O,postModify:d}],q=0;q<F.length;q++){var te=F[q],U=te.regex.exec(t);if(U){var ve=U[te.indices.bucket],z=U[te.indices.path];z||(z=""),i=new e(ve,z),te.postModify(i);break}}if(i==null)throw qj(t);return i},e}(),tV=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(e,t,n){var i=1,o=null,u=!1,a=0;function l(){return a===2}var f=!1;function d(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];f||(f=!0,t.apply(null,_))}function p(_){o=setTimeout(function(){o=null,e(m,l())},_)}function m(_){for(var T=[],S=1;S<arguments.length;S++)T[S-1]=arguments[S];if(!f){if(_){d.call.apply(d,It([null,_],T));return}var x=l()||u;if(x){d.call.apply(d,It([null,_],T));return}i<64&&(i*=2);var O;a===1?(a=2,O=0):O=(i+Math.random())*1e3,p(O)}}var v=!1;function b(_){v||(v=!0,!f&&(o!==null?(_||(a=2),clearTimeout(o),p(0)):_||(a=1)))}return p(0),setTimeout(function(){u=!0,b(!0)},n),b}function rV(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(e){return e!==void 0}function oV(e){return typeof e=="function"}function sV(e){return typeof e=="object"&&!Array.isArray(e)}function zh(e){return typeof e=="string"||e instanceof String}function FI(e){return qy()&&e instanceof Blob}function qy(){return typeof Blob<"u"}function Xm(e,t,n,i){if(i<t)throw Xs("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>n)throw Xs("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(e,t){var n=t.match(/^(\w+):\/\/.+/),i=n==null?void 0:n[1],o=t;return i==null&&(o="https://"+t),o+"/v0"+e}function Uk(e){var t=encodeURIComponent,n="?";for(var i in e)if(e.hasOwnProperty(i)){var o=t(i)+"="+t(e[i]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uV=function(){function e(t,n,i,o,u,a,l,f,d,p,m){var v=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=u.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=p,this.timeout_=d,this.pool_=m,this.promise_=new Promise(function(b,_){v.resolve_=b,v.reject_=_,v.start_()})}return e.prototype.start_=function(){var t=this;function n(o,u){if(u){o(!1,new Zl(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(f){var d=f.loaded,p=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var f=a.getErrorCode()===Ho.NO_ERROR,d=a.getStatus();if(!f||t.isRetryStatusCode_(d)){var p=a.getErrorCode()===Ho.ABORT;o(!1,new Zl(!1,null,p));return}var m=t.successCodes_.indexOf(d)!==-1;o(!0,new Zl(m,a))})}function i(o,u){var a=t.resolve_,l=t.reject_,f=u.connection;if(u.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());iV(d)?a(d):a()}catch(m){l(m)}else if(f!==null){var p=Vy();p.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,p)):l(p)}else if(u.canceled){var p=t.appDelete_?Ok():Nk();l(p)}else{var p=Vj();l(p)}}this.canceled_?i(!1,new Zl(!1,null,!0)):this.backoffId_=nV(n,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&rV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=[408,429],o=i.indexOf(t)!==-1,u=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||u},e}(),Zl=function(){function e(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}return e}();function aV(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function cV(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function lV(e,t){t&&(e["X-Firebase-GMPID"]=t)}function fV(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function hV(e,t,n,i,o,u){var a=Uk(e.urlParams),l=e.url+a,f=Object.assign({},e.headers);return lV(f,t),aV(f,n),cV(f,u),fV(f,i),new uV(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pV(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=dV();if(n!==void 0){for(var i=new n,o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}else{if(qy())return new Blob(e);throw new Kt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function gV(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var By=function(){function e(t,n){var i=0,o="";FI(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(FI(this.data_)){var i=this.data_,o=gV(i,t,n);return o===null?null:new e(o)}else{var u=new Uint8Array(this.data_.buffer,t,n-t);return new e(u,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(qy()){var i=t.map(function(f){return f instanceof e?f.data_:f});return new e(pV.apply(null,i))}else{var o=t.map(function(f){return zh(f)?Dk(fr.RAW,f).data:f.data_}),u=0;o.forEach(function(f){u+=f.byteLength});var a=new Uint8Array(u),l=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)a[l++]=f[d]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(e){var t;try{t=JSON.parse(e)}catch{return null}return sV(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function vV(e,t){var n=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?n:e+"/"+n}function jk(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(e,t){return t}var _n=function(){function e(t,n,i,o){this.server=t,this.local=n||t,this.writable=!!i,this.xform=o||yV}return e}(),ef=null;function wV(e){return!zh(e)||e.length<2?e:jk(e)}function Gh(){if(ef)return ef;var e=[];e.push(new _n("bucket")),e.push(new _n("generation")),e.push(new _n("metageneration")),e.push(new _n("name","fullPath",!0));function t(u,a){return wV(a)}var n=new _n("name");n.xform=t,e.push(n);function i(u,a){return a!==void 0?Number(a):a}var o=new _n("size");return o.xform=i,e.push(o),e.push(new _n("timeCreated")),e.push(new _n("updated")),e.push(new _n("md5Hash",null,!0)),e.push(new _n("cacheControl",null,!0)),e.push(new _n("contentDisposition",null,!0)),e.push(new _n("contentEncoding",null,!0)),e.push(new _n("contentLanguage",null,!0)),e.push(new _n("contentType",null,!0)),e.push(new _n("metadata","customMetadata",!0)),ef=e,ef}function bV(e,t){function n(){var i=e.bucket,o=e.fullPath,u=new hr(i,o);return t._makeStorageReference(u)}Object.defineProperty(e,"ref",{get:n})}function _V(e,t,n){var i={};i.type="file";for(var o=n.length,u=0;u<o;u++){var a=n[u];i[a.local]=a.xform(i,t[a.server])}return bV(i,e),i}function Vk(e,t,n){var i=$y(t);if(i===null)return null;var o=i;return _V(e,o,n)}function EV(e,t,n){var i=$y(t);if(i===null||!zh(i.downloadTokens))return null;var o=i.downloadTokens;if(o.length===0)return null;var u=encodeURIComponent,a=o.split(","),l=a.map(function(f){var d=e.bucket,p=e.fullPath,m="/b/"+u(d)+"/o/"+u(p),v=no(m,n),b=Uk({alt:"media",token:f});return v+b});return l[0]}function Hy(e,t){for(var n={},i=t.length,o=0;o<i;o++){var u=t[o];u.writable&&(n[u.server]=e[u.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UI="prefixes",jI="items";function IV(e,t,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[UI])for(var o=0,u=n[UI];o<u.length;o++){var a=u[o],l=a.replace(/\/$/,""),f=e._makeStorageReference(new hr(t,l));i.prefixes.push(f)}if(n[jI])for(var d=0,p=n[jI];d<p.length;d++){var m=p[d],f=e._makeStorageReference(new hr(t,m.name));i.items.push(f)}return i}function TV(e,t,n){var i=$y(n);if(i===null)return null;var o=i;return IV(e,t,o)}var yi=function(){function e(t,n,i,o){this.url=t,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(e){if(!e)throw Vy()}function Wh(e,t){function n(i,o){var u=Vk(e,o,t);return Xr(u!==null),u}return n}function SV(e,t){function n(i,o){var u=TV(e,t,o);return Xr(u!==null),u}return n}function AV(e,t){function n(i,o){var u=Vk(e,o,t);return Xr(u!==null),EV(u,o,e.host)}return n}function Pu(e){function t(n,i){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=Uj():o=Fj():n.getStatus()===402?o=Mj(e.bucket):n.getStatus()===403?o=jj(e.path):o=i,o.serverResponse=i.serverResponse,o}return t}function Xh(e){var t=Pu(e);function n(i,o){var u=t(i,o);return i.getStatus()===404&&(u=Lj(e.path)),u.serverResponse=o.serverResponse,u}return n}function qk(e,t,n){var i=t.fullServerUrl(),o=no(i,e.host),u="GET",a=e.maxOperationRetryTime,l=new yi(o,u,Wh(e,n),a);return l.errorHandler=Xh(t),l}function kV(e,t,n,i,o){var u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",n&&n.length>0&&(u.delimiter=n),i&&(u.pageToken=i),o&&(u.maxResults=o);var a=t.bucketOnlyServerUrl(),l=no(a,e.host),f="GET",d=e.maxOperationRetryTime,p=new yi(l,f,SV(e,t.bucket),d);return p.urlParams=u,p.errorHandler=Pu(t),p}function CV(e,t,n){var i=t.fullServerUrl(),o=no(i,e.host),u="GET",a=e.maxOperationRetryTime,l=new yi(o,u,AV(e,n),a);return l.errorHandler=Xh(t),l}function RV(e,t,n,i){var o=t.fullServerUrl(),u=no(o,e.host),a="PATCH",l=Hy(n,i),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,p=new yi(u,a,Wh(e,i),d);return p.headers=f,p.body=l,p.errorHandler=Xh(t),p}function NV(e,t){var n=t.fullServerUrl(),i=no(n,e.host),o="DELETE",u=e.maxOperationRetryTime;function a(f,d){}var l=new yi(i,o,a,u);return l.successCodes=[200,204],l.errorHandler=Xh(t),l}function xV(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Bk(e,t,n){var i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=xV(null,t)),i}function OV(e,t,n,i,o){var u=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var F="",q=0;q<2;q++)F=F+Math.random().toString().slice(2);return F}var f=l();a["Content-Type"]="multipart/related; boundary="+f;var d=Bk(t,i,o),p=Hy(d,n),m="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,v=`\r
--`+f+"--",b=By.getBlob(m,i,v);if(b===null)throw xk();var _={name:d.fullPath},T=no(u,e.host),S="POST",x=e.maxUploadRetryTime,O=new yi(T,S,Wh(e,n),x);return O.urlParams=_,O.headers=a,O.body=b.uploadData(),O.errorHandler=Pu(t),O}var Yf=function(){function e(t,n,i,o){this.current=t,this.total=n,this.finalized=!!i,this.metadata=o||null}return e}();function Ky(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Xr(!1)}var i=t||["active"];return Xr(!!n&&i.indexOf(n)!==-1),n}function PV(e,t,n,i,o){var u=t.bucketOnlyServerUrl(),a=Bk(t,i,o),l={name:a.fullPath},f=no(u,e.host),d="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},m=Hy(a,n),v=e.maxUploadRetryTime;function b(T){Ky(T);var S;try{S=T.getResponseHeader("X-Goog-Upload-URL")}catch{Xr(!1)}return Xr(zh(S)),S}var _=new yi(f,d,b,v);return _.urlParams=l,_.headers=p,_.body=m,_.errorHandler=Pu(t),_}function DV(e,t,n,i){var o={"X-Goog-Upload-Command":"query"};function u(d){var p=Ky(d,["active","final"]),m=null;try{m=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xr(!1)}m||Xr(!1);var v=Number(m);return Xr(!isNaN(v)),new Yf(v,i.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,f=new yi(n,a,u,l);return f.headers=o,f.errorHandler=Pu(t),f}var VI=256*1024;function LV(e,t,n,i,o,u,a,l){var f=new Yf(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw Hj();var d=f.total-f.current,p=d;o>0&&(p=Math.min(p,o));var m=f.current,v=m+p,b=p===d?"upload, finalize":"upload",_={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":""+f.current},T=i.slice(m,v);if(T===null)throw xk();function S(q,te){var U=Ky(q,["active","final"]),ve=f.current+p,z=i.size(),oe;return U==="final"?oe=Wh(t,u)(q,te):oe=null,new Yf(ve,z,U==="final",oe)}var x="POST",O=t.maxUploadRetryTime,F=new yi(n,x,S,O);return F.headers=_,F.body=T.uploadData(),F.progressCallback=l||null,F.errorHandler=Pu(e),F}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MV=function(){function e(t,n,i){var o=oV(t)||n!=null||i!=null;if(o)this.next=t,this.error=n,this.complete=i;else{var u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $k=function(){function e(t,n,i){var o=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Gh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(u){o._request=void 0,o._chunkMultiplier=1,u._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=u,o._transition("error"))},this._metadataErrorHandler=function(u){o._request=void 0,u._codeEquals("canceled")?o.completeTransitions_():(o._error=u,o._transition("error"))},this._promise=new Promise(function(u,a){o._resolve=u,o._reject=a,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var o=i[0],u=i[1];switch(n._state){case"running":t(o,u);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,i){var o=PV(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(i,o){var u=DV(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(u,i,o);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=VI*this._chunkMultiplier,i=new Yf(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(u,a){var l;try{l=LV(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(l,u,a);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=VI*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,i){var o=qk(t._ref.storage,t._ref._location,t._mappings),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,i){var o=OV(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Nk(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Jg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,i,o){var u=this,a=new MV(n,i,o);return this._addObserver(a),function(){u._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Jg(this._state)){case Tn.SUCCESS:Ms(this._resolve.bind(null,this.snapshot))();break;case Tn.CANCELED:case Tn.ERROR:var n=this._reject;Ms(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Jg(this._state);switch(n){case Tn.RUNNING:case Tn.PAUSED:t.next&&Ms(t.next.bind(t,this.snapshot))();break;case Tn.SUCCESS:t.complete&&Ms(t.complete.bind(t))();break;case Tn.CANCELED:case Tn.ERROR:t.error&&Ms(t.error.bind(t,this._error))();break;default:t.error&&Ms(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qh=function(){function e(t,n){this._service=t,n instanceof hr?this._location=n:this._location=hr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new hr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return jk(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=mV(this._location.path);if(t===null)return null;var n=new hr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw Pk(t)},e}();function FV(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new $k(e,new By(t),n)}function UV(e){var t={prefixes:[],items:[]};return Hk(e,t).then(function(){return t})}function Hk(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:return i={pageToken:n},[4,Kk(e,i)];case 1:return o=l.sent(),(u=t.prefixes).push.apply(u,o.prefixes),(a=t.items).push.apply(a,o.items),o.nextPageToken==null?[3,3]:[4,Hk(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Kk(e,t){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Xm("options.maxResults",1,1e3,t.maxResults),n=t||{},i=kV(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise()]}})})}function jV(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=qk(e.storage,e._location,Gh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function VV(e,t){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),n=RV(e.storage,e._location,t,Gh()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}function qV(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=CV(e.storage,e._location,Gh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(i){if(i===null)throw Kj();return i})]}})})}function BV(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=NV(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function zk(e,t){var n=vV(e._location.path,t),i=new hr(e._location.bucket,n);return new Qh(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(e){return/^[A-Za-z]+:\/\//.test(e)}function $V(e,t){return new Qh(e,t)}function Gk(e,t){if(e instanceof Yh){var n=e;if(n._bucket==null)throw $j();var i=new Qh(n,n._bucket);return t!=null?Gk(i,t):i}else return t!==void 0?zk(e,t):e}function HV(e,t){if(t&&Qm(t)){if(e instanceof Yh)return $V(e,t);throw Xs("To use ref(service, url), the first argument must be a Storage instance.")}else return Gk(e,t)}function qI(e,t){var n=t==null?void 0:t[Rk];return n==null?null:hr.makeFromBucketSpec(n,e)}function KV(e,t,n,i){i===void 0&&(i={}),e.host="http://"+t+":"+n;var o=i.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:NS(o,e.app.options.projectId))}var Yh=function(){function e(t,n,i,o,u,a){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=o,this._url=u,this._firebaseVersion=a,this._bucket=null,this._host=Ck,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Pj,this._maxUploadRetryTime=Dj,this._requests=new Set,u!=null?this._bucket=hr.makeFromBucketSpec(u,this._host):this._bucket=qI(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=hr.makeFromBucketSpec(this._url,t):this._bucket=qI(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Xm("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Xm("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return H(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=i.sent(),n!==null)return[2,n.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return H(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=i.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Qh(this,t)},e.prototype._makeRequest=function(t,n,i){var o=this;if(this._deleted)return new tV(Ok());var u=hV(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(function(){return o._requests.delete(u)},function(){return o._requests.delete(u)}),u},e.prototype.makeRequestWithTokens=function(t){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=u.sent(),i=n[0],o=n[1],[2,this._makeRequest(t,i,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(e,t,n){return e=ht(e),FV(e,t,n)}function GV(e){return e=ht(e),jV(e)}function WV(e,t){return e=ht(e),VV(e,t)}function XV(e,t){return e=ht(e),Kk(e,t)}function QV(e){return e=ht(e),UV(e)}function YV(e){return e=ht(e),qV(e)}function JV(e){return e=ht(e),BV(e)}function BI(e,t){return e=ht(e),HV(e,t)}function ZV(e,t){return zk(e,t)}function eq(e,t,n,i){i===void 0&&(i={}),KV(e,t,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tf=function(){function e(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $I=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new tf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var i=this;return this._delegate.then(function(o){if(t)return t(new tf(o,i,i._ref))},n)},e.prototype.on=function(t,n,i,o){var u=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new tf(l,u,u._ref))}:a={next:n.next?function(l){return n.next(new tf(l,u,u._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,i||void 0,o||void 0)},e}(),HI=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new cc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new cc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=ZV(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new $I(zV(this._delegate,t,n),this)},e.prototype.putString=function(t,n,i){n===void 0&&(n=fr.RAW),this._throwIfRoot("putString");var o=Dk(n,t),u=tu({},i);return u.contentType==null&&o.contentType!=null&&(u.contentType=o.contentType),new $I(new $k(this._delegate,new By(o.data,!0),u),this)},e.prototype.listAll=function(){var t=this;return QV(this._delegate).then(function(n){return new HI(n,t.storage)})},e.prototype.list=function(t){var n=this;return XV(this._delegate,t||void 0).then(function(i){return new HI(i,n.storage)})},e.prototype.getMetadata=function(){return GV(this._delegate)},e.prototype.updateMetadata=function(t){return WV(this._delegate,t)},e.prototype.getDownloadURL=function(){return YV(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),JV(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw Pk(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tq=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Qm(t))throw Xs("ref() expected a child path but got a URL, use refFromURL instead.");return new cc(BI(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Qm(t))throw Xs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{hr.makeFromUrl(t,this._delegate.host)}catch{throw Xs("refFromUrl() expected a valid full URL but got an invalid one.")}return new cc(BI(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),eq(this._delegate,t,n,i)},e}(),nq="@firebase/storage",rq="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iq="storage";function oq(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal"),a=new tq(i,new Yh(i,o,u,new eV,n,Ce.SDK_VERSION));return a}function sq(e){var t={TaskState:Tn,TaskEvent:Yj,StringFormat:fr,Storage:Yh,Reference:cc};e.INTERNAL.registerComponent(new mc(iq,oq,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(nq,rq)}sq(Ce);const uq={apiKey:"AIzaSyB6nywCCST_HFjLRHJZl0XE9TXsf72rqpI",authDomain:"music-f6e93.firebaseapp.com",projectId:"music-f6e93",storageBucket:"music-f6e93.appspot.com",appId:"1:671056328288:web:c8abd445fb6b61addbf505"};Ce.initializeApp(uq);const Qr=Ce.auth(),zy=Ce.firestore(),Wk=Ce.storage(),aq=zy.collection("users"),di=zy.collection("songs"),KI=zy.collection("comments"),Du=SS("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await Qr.createUserWithEmailAndPassword(e.email,e.password);await aq.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country,type_music:e.type_music}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await Qr.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await Qr.signOut(),this.userLoggedIn=!1}}}),gr=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},cq={name:"Header",computed:{...BD(wm,Du)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},lq={id:"header",class:"bg-gray-700"},fq={class:"container mx-auto flex justify-start items-center py-5 px-4"},hq={class:"flex flex-grow items-center"},dq={class:"flex flex-row mt-1"},pq={key:0};function gq(e,t,n,i,o,u){const a=Ot("router-link");return nt(),mt("header",lq,[j("nav",fq,[Re(a,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:lr(()=>[jo(" Music ")]),_:1}),j("div",hq,[j("ul",dq,[j("li",null,[Re(a,{class:"px-2 text-white",to:{name:"about"}},{default:lr(()=>[jo("About")]),_:1})]),e.userStore.userLoggedIn?(nt(),mt(qt,{key:1},[j("li",null,[Re(a,{class:"px-2 text-white",to:{name:"manage"}},{default:lr(()=>[jo("Manage")]),_:1})]),j("li",null,[j("a",{class:"px-2 text-white",href:"#",onClick:t[1]||(t[1]=Sn((...l)=>u.signOut&&u.signOut(...l),["prevent"]))},"Logout")])],64)):(nt(),mt("li",pq,[j("a",{class:"px-2 text-white",onClick:t[0]||(t[0]=Sn((...l)=>u.toggleAuthModal&&u.toggleAuthModal(...l),["prevent"])),href:"#"},"Login / Register")]))])])])])}const mq=gr(cq,[["render",gq]]),vq={name:"LoginForm",data(){return{loginSchema:{email:"required|email",password:"required"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! We are login you in."}},methods:{...kS(Du,{authenticate:"authenticate"}),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please wait! We are login you in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="Incorrect Email or Password";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Success! You are now logged in.",window.location.reload()}}},yq={class:"mb-3"},wq=j("label",{class:"inline-block mb-2"},"Email",-1),bq={class:"mb-3"},_q=j("label",{class:"inline-block mb-2"},"Password",-1),Eq=["disabled"];function Iq(e,t,n,i,o,u){const a=Ot("vee-field"),l=Ot("ErrorMessage"),f=Ot("vee-form");return nt(),mt(qt,null,[o.login_show_alert?(nt(),mt("div",{key:0,class:Un(["text-white text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},fn(o.login_alert_msg),3)):Ha("",!0),Re(f,{"validation-schema":o.loginSchema,onSubmit:u.login},{default:lr(()=>[j("div",yq,[wq,Re(a,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Re(l,{class:"text-red-600",name:"email"})]),j("div",bq,[_q,Re(a,{type:"password",name:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),Re(l,{class:"text-red-600",name:"password"})]),j("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.login_in_submission}," Submit ",8,Eq)]),_:1},8,["validation-schema","onSubmit"])],64)}const Tq=gr(vq,[["render",Iq]]),Sq={name:"RegistrationForm",data(){return{registerSchema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:100",password:"required|min:9|max:100|not_one_of:password",confirm_password:"password_mismatch:@password",country:"required|country_excluded:Antarctica",type_music:"required",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Your account is being created."}},methods:{...kS(Du,{createUser:"register"}),async register(e){this.reg_in_submission=!0,this.reg_show_alert=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! Your account is being  created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_msg="bg-red-500",this.reg_alert_msg="Something went wrong. Please try again later.";return}this.userLoggedIn=!0,this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success! Your account has been created.",window.location.reload()}}},Aq={class:"mb-3"},kq=j("label",{class:"inline-block mb-2"},"Name",-1),Cq={class:"mb-3"},Rq=j("label",{class:"inline-block mb-2"},"Email",-1),Nq={class:"mb-3"},xq=j("label",{class:"inline-block mb-2"},"Age",-1),Oq={class:"mb-3"},Pq=j("label",{class:"inline-block mb-2"},"Password",-1),Dq={class:"mb-3"},Lq=j("label",{class:"inline-block mb-2"},"Confirm Password",-1),Mq={class:"mb-3"},Fq=j("label",{class:"inline-block mb-2"},"Country",-1),Uq=j("option",{value:"USA"},"USA",-1),jq=j("option",{value:"Mexico"},"Mexico",-1),Vq=j("option",{value:"Germany"},"Germany",-1),qq=j("option",{value:"Antarctica"},"Antarctica",-1),Bq={class:"mb-3"},$q=j("label",{class:"inline-block mb-2"},"Type of music",-1),Hq=j("option",{value:"rock"},"Rock",-1),Kq=j("option",{value:"pop"},"Pop",-1),zq=j("option",{value:"rap"},"Rap",-1),Gq=j("option",{value:"rnb"},"Rnb",-1),Wq={class:"mb-3 pl-6"},Xq=j("label",{class:"inline-block"},"Accept terms of service",-1),Qq=["disabled"];function Yq(e,t,n,i,o,u){const a=Ot("vee-field"),l=Ot("ErrorMessage"),f=Ot("vee-form");return nt(),mt(qt,null,[o.reg_show_alert?(nt(),mt("div",{key:0,class:Un(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},fn(o.reg_alert_msg),3)):Ha("",!0),Re(f,{"validation-schema":o.registerSchema,onSubmit:u.register,"initial-values":o.userData},{default:lr(()=>[j("div",Aq,[kq,Re(a,{type:"text",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),Re(l,{class:"text-red-600",name:"name"})]),j("div",Cq,[Rq,Re(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Re(l,{class:"text-red-600",name:"email"})]),j("div",Nq,[xq,Re(a,{type:"number",name:"age",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Re(l,{class:"text-red-600",name:"age"})]),j("div",Oq,[Pq,Re(a,{name:"password",bails:!1},{default:lr(({field:d,errors:p})=>[j("input",vS({type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"},d),null,16),(nt(!0),mt(qt,null,gc(p,m=>(nt(),mt("div",{class:"text-red-600",key:m},fn(m),1))),128))]),_:1})]),j("div",Dq,[Lq,Re(a,{type:"password",name:"confirm_password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Re(l,{class:"text-red-600",name:"confirm_password"})]),j("div",Mq,[Fq,Re(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:lr(()=>[Uq,jq,Vq,qq]),_:1}),Re(l,{class:"text-red-600",name:"country"})]),j("div",Bq,[$q,Re(a,{as:"select",name:"type_music",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:lr(()=>[Hq,Kq,zq,Gq]),_:1}),Re(l,{class:"text-red-600",name:"type_music"})]),j("div",Wq,[Re(a,{type:"checkbox",name:"tos",value:"1",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),Xq,Re(l,{class:"text-red-600",name:"tos"})]),j("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.reg_in_submission}," Submit ",8,Qq)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const Jq=gr(Sq,[["render",Yq]]),Zq={name:"Auth",components:{LoginForm:Tq,RegistrationForm:Jq},computed:{...AS(wm,["hiddenClass"]),...CS(wm,{modalVisibility:"isOpen"})},data(){return{tab:"login"}}},eB={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},tB=j("div",{class:"fixed inset-0 transition-opacity"},[j("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),nB=j("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"",-1),rB={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},iB={class:"py-4 text-left px-6"},oB={class:"flex justify-between items-center pb-4"},sB=j("p",{class:"text-2xl font-bold"},"Your Account",-1),uB=j("i",{class:"fas fa-times"},null,-1),aB=[uB],cB={class:"flex flex-wrap mb-4"},lB={class:"flex-auto text-center"},fB={class:"flex-auto text-center"};function hB(e,t,n,i,o,u){const a=Ot("LoginForm"),l=Ot("RegistrationForm");return nt(),mt("div",{class:Un(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[j("div",eB,[tB,nB,j("div",rB,[j("div",iB,[j("div",oB,[sB,j("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=Sn(f=>e.modalVisibility=!1,["prevent"]))},aB)]),j("ul",cB,[j("li",lB,[j("a",{onClick:t[1]||(t[1]=Sn(f=>o.tab="login",["prevent"])),class:Un(["block rounded py-3 px-4 transition",{" hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#"},"Login",2)]),j("li",fB,[j("a",{onClick:t[2]||(t[2]=Sn(f=>o.tab="register",["prevent"])),class:Un([{" hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"},"block rounded py-3 px-4 transition"]),href:"#"},"Register",2)])]),o.tab==="login"?(nt(),Ys(a,{key:0})):(nt(),Ys(l,{key:1}))])])])],2)}const dB=gr(Zq,[["render",hB]]),pB={name:"App",components:{Header:mq,Auth:dB},computed:{...CS(Du,["userLoggedIn"])},created(){Qr.currentUser&&(this.userLoggedIn=!0)}},gB=mS('<div class="fixed bottom-0 left-0 bg-white px-4 py-2 w-full"><div class="text-center"><span class="song-title font-bold">Song Title</span> by <span class="song-artist">Artist</span></div><div class="flex flex-nowrap gap-4 items-center"><button type="button"><i class="fa fa-play text-gray-500 text-xl"></i></button><div class="player-currenttime">00:00</div><div class="w-full h-2 rounded bg-gray-200 relative cursor-pointer"><span class="absolute -top-2.5 -ml-2.5 text-gray-800 text-lg" style="left:50%;"><i class="fas fa-circle"></i></span><span class="block h-2 rounded bg-gradient-to-r from-green-500 to-green-400" style="width:50%;"></span></div><div class="player-duration">03:06</div></div></div>',1);function mB(e,t,n,i,o,u){const a=Ot("Header"),l=Ot("router-view"),f=Ot("Auth");return nt(),mt(qt,null,[Re(a),Re(l),gB,Re(f)],64)}const vB=gr(pB,[["render",mB]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const qs=typeof window<"u";function yB(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const at=Object.assign;function Zg(e,t){const n={};for(const i in t){const o=t[i];n[i]=Or(o)?o.map(e):e(o)}return n}const Fa=()=>{},Or=Array.isArray,wB=/\/$/,bB=e=>e.replace(wB,"");function em(e,t,n="/"){let i,o={},u="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=t.slice(0,f),u=t.slice(f+1,l>-1?l:t.length),o=e(u)),l>-1&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=TB(i??t,n),{fullPath:i+(u&&"?")+u+a,path:i,query:o,hash:a}}function _B(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function zI(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function EB(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&bu(t.matched[i],n.matched[o])&&Xk(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function bu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Xk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!IB(e[n],t[n]))return!1;return!0}function IB(e,t){return Or(e)?GI(e,t):Or(t)?GI(t,e):e===t}function GI(e,t){return Or(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function TB(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let u=n.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var lc;(function(e){e.pop="pop",e.push="push"})(lc||(lc={}));var Ua;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ua||(Ua={}));function SB(e){if(!e)if(qs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),bB(e)}const AB=/^[^#]+#/;function kB(e,t){return e.replace(AB,"#")+t}function CB(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Jh=()=>({left:window.pageXOffset,top:window.pageYOffset});function RB(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=CB(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function WI(e,t){return(history.state?history.state.position-t:-1)+e}const Ym=new Map;function NB(e,t){Ym.set(e,t)}function xB(e){const t=Ym.get(e);return Ym.delete(e),t}let OB=()=>location.protocol+"//"+location.host;function Qk(e,t){const{pathname:n,search:i,hash:o}=t,u=e.indexOf("#");if(u>-1){let l=o.includes(e.slice(u))?e.slice(u).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),zI(f,"")}return zI(n,e)+i+o}function PB(e,t,n,i){let o=[],u=[],a=null;const l=({state:v})=>{const b=Qk(e,location),_=n.value,T=t.value;let S=0;if(v){if(n.value=b,t.value=v,a&&a===_){a=null;return}S=T?v.position-T.position:0}else i(b);o.forEach(x=>{x(n.value,_,{delta:S,type:lc.pop,direction:S?S>0?Ua.forward:Ua.back:Ua.unknown})})};function f(){a=n.value}function d(v){o.push(v);const b=()=>{const _=o.indexOf(v);_>-1&&o.splice(_,1)};return u.push(b),b}function p(){const{history:v}=window;v.state&&v.replaceState(at({},v.state,{scroll:Jh()}),"")}function m(){for(const v of u)v();u=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:f,listen:d,destroy:m}}function XI(e,t,n,i=!1,o=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:o?Jh():null}}function DB(e){const{history:t,location:n}=window,i={value:Qk(e,n)},o={value:t.state};o.value||u(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function u(f,d,p){const m=e.indexOf("#"),v=m>-1?(n.host&&document.querySelector("base")?e:e.slice(m))+f:OB()+e+f;try{t[p?"replaceState":"pushState"](d,"",v),o.value=d}catch(b){console.error(b),n[p?"replace":"assign"](v)}}function a(f,d){const p=at({},t.state,XI(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});u(f,p,!0),i.value=f}function l(f,d){const p=at({},o.value,t.state,{forward:f,scroll:Jh()});u(p.current,p,!0);const m=at({},XI(i.value,f,null),{position:p.position+1},d);u(f,m,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function LB(e){e=SB(e);const t=DB(e),n=PB(e,t.state,t.location,t.replace);function i(u,a=!0){a||n.pauseListeners(),history.go(u)}const o=at({location:"",base:e,go:i,createHref:kB.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function MB(e){return typeof e=="string"||e&&typeof e=="object"}function Yk(e){return typeof e=="string"||typeof e=="symbol"}const Oi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Jk=Symbol("");var QI;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(QI||(QI={}));function _u(e,t){return at(new Error,{type:e,[Jk]:!0},t)}function oi(e,t){return e instanceof Error&&Jk in e&&(t==null||!!(e.type&t))}const YI="[^/]+?",FB={sensitive:!1,strict:!1,start:!0,end:!0},UB=/[.+*?^${}()[\]/\\]/g;function jB(e,t){const n=at({},FB,t),i=[];let o=n.start?"^":"";const u=[];for(const d of e){const p=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let m=0;m<d.length;m++){const v=d[m];let b=40+(n.sensitive?.25:0);if(v.type===0)m||(o+="/"),o+=v.value.replace(UB,"\\$&"),b+=40;else if(v.type===1){const{value:_,repeatable:T,optional:S,regexp:x}=v;u.push({name:_,repeatable:T,optional:S});const O=x||YI;if(O!==YI){b+=10;try{new RegExp(`(${O})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${_}" (${O}): `+q.message)}}let F=T?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;m||(F=S&&d.length<2?`(?:/${F})`:"/"+F),S&&(F+="?"),o+=F,b+=20,S&&(b+=-8),T&&(b+=-20),O===".*"&&(b+=-50)}p.push(b)}i.push(p)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const p=d.match(a),m={};if(!p)return null;for(let v=1;v<p.length;v++){const b=p[v]||"",_=u[v-1];m[_.name]=b&&_.repeatable?b.split("/"):b}return m}function f(d){let p="",m=!1;for(const v of e){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const b of v)if(b.type===0)p+=b.value;else if(b.type===1){const{value:_,repeatable:T,optional:S}=b,x=_ in d?d[_]:"";if(Or(x)&&!T)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const O=Or(x)?x.join("/"):x;if(!O)if(S)v.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${_}"`);p+=O}}return p||"/"}return{re:a,score:i,keys:u,parse:l,stringify:f}}function VB(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function qB(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const u=VB(i[n],o[n]);if(u)return u;n++}if(Math.abs(o.length-i.length)===1){if(JI(i))return 1;if(JI(o))return-1}return o.length-i.length}function JI(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const BB={type:0,value:""},$B=/[a-zA-Z0-9_]/;function HB(e){if(!e)return[[]];if(e==="/")return[[BB]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let u;function a(){u&&o.push(u),u=[]}let l=0,f,d="",p="";function m(){d&&(n===0?u.push({type:0,value:d}):n===1||n===2||n===3?(u.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:d,regexp:p,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function v(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&m(),a()):f===":"?(m(),n=1):v();break;case 4:v(),n=i;break;case 1:f==="("?n=2:$B.test(f)?v():(m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+f:n=3:p+=f;break;case 3:m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),m(),a(),o}function KB(e,t,n){const i=jB(HB(e.path),n),o=at(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function zB(e,t){const n=[],i=new Map;t=tT({strict:!1,end:!0,sensitive:!1},t);function o(p){return i.get(p)}function u(p,m,v){const b=!v,_=GB(p);_.aliasOf=v&&v.record;const T=tT(t,p),S=[_];if("alias"in p){const F=typeof p.alias=="string"?[p.alias]:p.alias;for(const q of F)S.push(at({},_,{components:v?v.record.components:_.components,path:q,aliasOf:v?v.record:_}))}let x,O;for(const F of S){const{path:q}=F;if(m&&q[0]!=="/"){const te=m.record.path,U=te[te.length-1]==="/"?"":"/";F.path=m.record.path+(q&&U+q)}if(x=KB(F,m,T),v?v.alias.push(x):(O=O||x,O!==x&&O.alias.push(x),b&&p.name&&!eT(x)&&a(p.name)),_.children){const te=_.children;for(let U=0;U<te.length;U++)u(te[U],x,v&&v.children[U])}v=v||x,(x.record.components&&Object.keys(x.record.components).length||x.record.name||x.record.redirect)&&f(x)}return O?()=>{a(O)}:Fa}function a(p){if(Yk(p)){const m=i.get(p);m&&(i.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&i.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function f(p){let m=0;for(;m<n.length&&qB(p,n[m])>=0&&(p.record.path!==n[m].record.path||!Zk(p,n[m]));)m++;n.splice(m,0,p),p.record.name&&!eT(p)&&i.set(p.record.name,p)}function d(p,m){let v,b={},_,T;if("name"in p&&p.name){if(v=i.get(p.name),!v)throw _u(1,{location:p});T=v.record.name,b=at(ZI(m.params,v.keys.filter(O=>!O.optional).map(O=>O.name)),p.params&&ZI(p.params,v.keys.map(O=>O.name))),_=v.stringify(b)}else if("path"in p)_=p.path,v=n.find(O=>O.re.test(_)),v&&(b=v.parse(_),T=v.record.name);else{if(v=m.name?i.get(m.name):n.find(O=>O.re.test(m.path)),!v)throw _u(1,{location:p,currentLocation:m});T=v.record.name,b=at({},m.params,p.params),_=v.stringify(b)}const S=[];let x=v;for(;x;)S.unshift(x.record),x=x.parent;return{name:T,path:_,params:b,matched:S,meta:XB(S)}}return e.forEach(p=>u(p)),{addRoute:u,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function ZI(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function GB(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:WB(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function WB(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function eT(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function XB(e){return e.reduce((t,n)=>at(t,n.meta),{})}function tT(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function Zk(e,t){return t.children.some(n=>n===e||Zk(e,n))}const eC=/#/g,QB=/&/g,YB=/\//g,JB=/=/g,ZB=/\?/g,tC=/\+/g,e$=/%5B/g,t$=/%5D/g,nC=/%5E/g,n$=/%60/g,rC=/%7B/g,r$=/%7C/g,iC=/%7D/g,i$=/%20/g;function Gy(e){return encodeURI(""+e).replace(r$,"|").replace(e$,"[").replace(t$,"]")}function o$(e){return Gy(e).replace(rC,"{").replace(iC,"}").replace(nC,"^")}function Jm(e){return Gy(e).replace(tC,"%2B").replace(i$,"+").replace(eC,"%23").replace(QB,"%26").replace(n$,"`").replace(rC,"{").replace(iC,"}").replace(nC,"^")}function s$(e){return Jm(e).replace(JB,"%3D")}function u$(e){return Gy(e).replace(eC,"%23").replace(ZB,"%3F")}function a$(e){return e==null?"":u$(e).replace(YB,"%2F")}function Jf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function c$(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const u=i[o].replace(tC," "),a=u.indexOf("="),l=Jf(a<0?u:u.slice(0,a)),f=a<0?null:Jf(u.slice(a+1));if(l in t){let d=t[l];Or(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function nT(e){let t="";for(let n in e){const i=e[n];if(n=s$(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Or(i)?i.map(u=>u&&Jm(u)):[i&&Jm(i)]).forEach(u=>{u!==void 0&&(t+=(t.length?"&":"")+n,u!=null&&(t+="="+u))})}return t}function l$(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Or(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const f$=Symbol(""),rT=Symbol(""),Wy=Symbol(""),oC=Symbol(""),Zm=Symbol("");function Ea(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Fi(e,t,n,i,o){const u=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=m=>{m===!1?l(_u(4,{from:n,to:t})):m instanceof Error?l(m):MB(m)?l(_u(2,{from:t,to:m})):(u&&i.enterCallbacks[o]===u&&typeof m=="function"&&u.push(m),a())},d=e.call(i&&i.instances[o],t,n,f);let p=Promise.resolve(d);e.length<3&&(p=p.then(f)),p.catch(m=>l(m))})}function tm(e,t,n,i){const o=[];for(const u of e)for(const a in u.components){let l=u.components[a];if(!(t!=="beforeRouteEnter"&&!u.instances[a]))if(h$(l)){const d=(l.__vccOpts||l)[t];d&&o.push(Fi(d,n,i,u,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${u.path}"`));const p=yB(d)?d.default:d;u.components[a]=p;const v=(p.__vccOpts||p)[t];return v&&Fi(v,n,i,u,a)()}))}}return o}function h$(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function iT(e){const t=pr(Wy),n=pr(oC),i=Fe(()=>t.resolve(Ye(e.to))),o=Fe(()=>{const{matched:f}=i.value,{length:d}=f,p=f[d-1],m=n.matched;if(!p||!m.length)return-1;const v=m.findIndex(bu.bind(null,p));if(v>-1)return v;const b=oT(f[d-2]);return d>1&&oT(p)===b&&m[m.length-1].path!==b?m.findIndex(bu.bind(null,f[d-2])):v}),u=Fe(()=>o.value>-1&&m$(n.params,i.value.params)),a=Fe(()=>o.value>-1&&o.value===n.matched.length-1&&Xk(n.params,i.value.params));function l(f={}){return g$(f)?t[Ye(e.replace)?"replace":"push"](Ye(e.to)).catch(Fa):Promise.resolve()}return{route:i,href:Fe(()=>i.value.href),isActive:u,isExactActive:a,navigate:l}}const d$=pc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:iT,setup(e,{slots:t}){const n=pi(iT(e)),{options:i}=pr(Wy),o=Fe(()=>({[sT(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[sT(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=t.default&&t.default(n);return e.custom?u:eu("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},u)}}}),p$=d$;function g$(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function m$(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!Or(o)||o.length!==i.length||i.some((u,a)=>u!==o[a]))return!1}return!0}function oT(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const sT=(e,t,n)=>e??t??n,v$=pc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=pr(Zm),o=Fe(()=>e.route||i.value),u=pr(rT,0),a=Fe(()=>{let d=Ye(u);const{matched:p}=o.value;let m;for(;(m=p[d])&&!m.components;)d++;return d}),l=Fe(()=>o.value.matched[a.value]);Gs(rT,Fe(()=>a.value+1)),Gs(f$,l),Gs(Zm,o);const f=An();return dr(()=>[f.value,l.value,e.name],([d,p,m],[v,b,_])=>{p&&(p.instances[m]=d,b&&b!==p&&d&&d===v&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),d&&p&&(!b||!bu(p,b)||!v)&&(p.enterCallbacks[m]||[]).forEach(T=>T(d))},{flush:"post"}),()=>{const d=o.value,p=e.name,m=l.value,v=m&&m.components[p];if(!v)return uT(n.default,{Component:v,route:d});const b=m.props[p],_=b?b===!0?d.params:typeof b=="function"?b(d):b:null,S=eu(v,at({},_,t,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(m.instances[p]=null)},ref:f}));return uT(n.default,{Component:S,route:d})||S}}});function uT(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const y$=v$;function w$(e){const t=zB(e.routes,e),n=e.parseQuery||c$,i=e.stringifyQuery||nT,o=e.history,u=Ea(),a=Ea(),l=Ea(),f=$T(Oi);let d=Oi;qs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Zg.bind(null,D=>""+D),m=Zg.bind(null,a$),v=Zg.bind(null,Jf);function b(D,B){let ee,ae;return Yk(D)?(ee=t.getRecordMatcher(D),ae=B):ae=D,t.addRoute(ae,ee)}function _(D){const B=t.getRecordMatcher(D);B&&t.removeRoute(B)}function T(){return t.getRoutes().map(D=>D.record)}function S(D){return!!t.getRecordMatcher(D)}function x(D,B){if(B=at({},B||f.value),typeof D=="string"){const R=em(n,D,B.path),L=t.resolve({path:R.path},B),V=o.createHref(R.fullPath);return at(R,L,{params:v(L.params),hash:Jf(R.hash),redirectedFrom:void 0,href:V})}let ee;if("path"in D)ee=at({},D,{path:em(n,D.path,B.path).path});else{const R=at({},D.params);for(const L in R)R[L]==null&&delete R[L];ee=at({},D,{params:m(R)}),B.params=m(B.params)}const ae=t.resolve(ee,B),xe=D.hash||"";ae.params=p(v(ae.params));const I=_B(i,at({},D,{hash:o$(xe),path:ae.path})),A=o.createHref(I);return at({fullPath:I,hash:xe,query:i===nT?l$(D.query):D.query||{}},ae,{redirectedFrom:void 0,href:A})}function O(D){return typeof D=="string"?em(n,D,f.value.path):at({},D)}function F(D,B){if(d!==D)return _u(8,{from:B,to:D})}function q(D){return ve(D)}function te(D){return q(at(O(D),{replace:!0}))}function U(D){const B=D.matched[D.matched.length-1];if(B&&B.redirect){const{redirect:ee}=B;let ae=typeof ee=="function"?ee(D):ee;return typeof ae=="string"&&(ae=ae.includes("?")||ae.includes("#")?ae=O(ae):{path:ae},ae.params={}),at({query:D.query,hash:D.hash,params:"path"in ae?{}:D.params},ae)}}function ve(D,B){const ee=d=x(D),ae=f.value,xe=D.state,I=D.force,A=D.replace===!0,R=U(ee);if(R)return ve(at(O(R),{state:typeof R=="object"?at({},xe,R.state):xe,force:I,replace:A}),B||ee);const L=ee;L.redirectedFrom=B;let V;return!I&&EB(i,ae,ee)&&(V=_u(16,{to:L,from:ae}),zt(ae,ae,!0,!1)),(V?Promise.resolve(V):k(L,ae)).catch(G=>oi(G)?oi(G,2)?G:Pt(G):_e(G,L,ae)).then(G=>{if(G){if(oi(G,2))return ve(at({replace:A},O(G.to),{state:typeof G.to=="object"?at({},xe,G.to.state):xe,force:I}),B||L)}else G=st(L,ae,!0,A,xe);return Xe(L,ae,G),G})}function z(D,B){const ee=F(D,B);return ee?Promise.reject(ee):Promise.resolve()}function oe(D){const B=zn.values().next().value;return B&&typeof B.runWithContext=="function"?B.runWithContext(D):D()}function k(D,B){let ee;const[ae,xe,I]=b$(D,B);ee=tm(ae.reverse(),"beforeRouteLeave",D,B);for(const R of ae)R.leaveGuards.forEach(L=>{ee.push(Fi(L,D,B))});const A=z.bind(null,D,B);return ee.push(A),ge(ee).then(()=>{ee=[];for(const R of u.list())ee.push(Fi(R,D,B));return ee.push(A),ge(ee)}).then(()=>{ee=tm(xe,"beforeRouteUpdate",D,B);for(const R of xe)R.updateGuards.forEach(L=>{ee.push(Fi(L,D,B))});return ee.push(A),ge(ee)}).then(()=>{ee=[];for(const R of I)if(R.beforeEnter)if(Or(R.beforeEnter))for(const L of R.beforeEnter)ee.push(Fi(L,D,B));else ee.push(Fi(R.beforeEnter,D,B));return ee.push(A),ge(ee)}).then(()=>(D.matched.forEach(R=>R.enterCallbacks={}),ee=tm(I,"beforeRouteEnter",D,B),ee.push(A),ge(ee))).then(()=>{ee=[];for(const R of a.list())ee.push(Fi(R,D,B));return ee.push(A),ge(ee)}).catch(R=>oi(R,8)?R:Promise.reject(R))}function Xe(D,B,ee){l.list().forEach(ae=>oe(()=>ae(D,B,ee)))}function st(D,B,ee,ae,xe){const I=F(D,B);if(I)return I;const A=B===Oi,R=qs?history.state:{};ee&&(ae||A?o.replace(D.fullPath,at({scroll:A&&R&&R.scroll},xe)):o.push(D.fullPath,xe)),f.value=D,zt(D,B,ee,A),Pt()}let ct;function pt(){ct||(ct=o.listen((D,B,ee)=>{if(!fe.listening)return;const ae=x(D),xe=U(ae);if(xe){ve(at(xe,{replace:!0}),ae).catch(Fa);return}d=ae;const I=f.value;qs&&NB(WI(I.fullPath,ee.delta),Jh()),k(ae,I).catch(A=>oi(A,12)?A:oi(A,2)?(ve(A.to,ae).then(R=>{oi(R,20)&&!ee.delta&&ee.type===lc.pop&&o.go(-1,!1)}).catch(Fa),Promise.reject()):(ee.delta&&o.go(-ee.delta,!1),_e(A,ae,I))).then(A=>{A=A||st(ae,I,!1),A&&(ee.delta&&!oi(A,8)?o.go(-ee.delta,!1):ee.type===lc.pop&&oi(A,20)&&o.go(-1,!1)),Xe(ae,I,A)}).catch(Fa)}))}let Ze=Ea(),se=Ea(),De;function _e(D,B,ee){Pt(D);const ae=se.list();return ae.length?ae.forEach(xe=>xe(D,B,ee)):console.error(D),Promise.reject(D)}function kt(){return De&&f.value!==Oi?Promise.resolve():new Promise((D,B)=>{Ze.add([D,B])})}function Pt(D){return De||(De=!D,pt(),Ze.list().forEach(([B,ee])=>D?ee(D):B()),Ze.reset()),D}function zt(D,B,ee,ae){const{scrollBehavior:xe}=e;if(!qs||!xe)return Promise.resolve();const I=!ee&&xB(WI(D.fullPath,0))||(ae||!ee)&&history.state&&history.state.scroll||null;return Yn().then(()=>xe(D,B,I)).then(A=>A&&RB(A)).catch(A=>_e(A,D,B))}const Ft=D=>o.go(D);let yt;const zn=new Set,fe={currentRoute:f,listening:!0,addRoute:b,removeRoute:_,hasRoute:S,getRoutes:T,resolve:x,options:e,push:q,replace:te,go:Ft,back:()=>Ft(-1),forward:()=>Ft(1),beforeEach:u.add,beforeResolve:a.add,afterEach:l.add,onError:se.add,isReady:kt,install(D){const B=this;D.component("RouterLink",p$),D.component("RouterView",y$),D.config.globalProperties.$router=B,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>Ye(f)}),qs&&!yt&&f.value===Oi&&(yt=!0,q(o.location).catch(xe=>{}));const ee={};for(const xe in Oi)Object.defineProperty(ee,xe,{get:()=>f.value[xe],enumerable:!0});D.provide(Wy,B),D.provide(oC,jT(ee)),D.provide(Zm,f);const ae=D.unmount;zn.add(D),D.unmount=function(){zn.delete(D),zn.size<1&&(d=Oi,ct&&ct(),ct=null,f.value=Oi,yt=!1,De=!1),ae()}}};function ge(D){return D.reduce((B,ee)=>B.then(()=>oe(ee)),Promise.resolve())}return fe}function b$(e,t){const n=[],i=[],o=[],u=Math.max(t.matched.length,e.matched.length);for(let a=0;a<u;a++){const l=t.matched[a];l&&(e.matched.find(d=>bu(d,l))?i.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(d=>bu(d,f))||o.push(f))}return[n,i,o]}const _$={name:"SongItem",props:["song"],data(){return{showForm:!1}}},E$={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"},I$={class:"text-gray-500 text-sm"},T$={class:"text-gray-600 text-lg"},S$={class:"comments"},A$=j("i",{class:"fa fa-comments text-gray-600"},null,-1);function k$(e,t,n,i,o,u){const a=Ot("router-link");return nt(),mt("li",E$,[j("div",null,[Re(a,{to:{name:"song",params:{id:n.song.docID}},class:"font-bold block text-gray-600"},{default:lr(()=>[jo(fn(n.song.modified_name),1)]),_:1},8,["to"]),j("span",I$,fn(n.song.display_name),1)]),j("div",T$,[j("span",S$,[A$,jo(" "+fn(n.song.comment_count),1)])])])}const C$=gr(_$,[["render",k$]]),R$="/vue/assets/img/introduction-music.png",N$={name:"Home",components:{SongItem:C$},data(){return{songs:[],maxPerPage:6,pendingRequest:!1}},async created(){await this.getSongs(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n===t&&this.getSongs()},async getSongs(){if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const t=await di.doc(this.songs[this.songs.length-1].docID).get();e=await di.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get(),e.forEach(n=>{this.songs.push({docID:n.id,...n.data()})})}else e=await di.orderBy("modified_name").limit(this.maxPerPage).get(),e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})});this.pendingRequest=!1}}},x$=mS('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Lesson - 195</h1><p class="w-full md:w-8/12 mx-auto"> Login Credentials: test@test.com / qwerty123 </p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+R$+'"></section>',1),O$={class:"container mx-auto"},P$={class:"bg-white rounded border border-gray-200 relative flex flex-col"},D$=j("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[j("span",{class:"card-title"},"Songs"),j("i",{class:"fa fa-headphones-alt float-right text-green-400 text-xl"})],-1),L$={id:"playlist"};function M$(e,t,n,i,o,u){const a=Ot("SongItem");return nt(),mt(qt,null,[x$,j("section",O$,[j("div",P$,[D$,j("ol",L$,[(nt(!0),mt(qt,null,gc(o.songs,l=>(nt(),Ys(a,{key:l.docID,song:l},null,8,["song"]))),128))])])])],64)}const F$=gr(N$,[["render",M$]]),U$={name:"About"},j$={class:"container mx-auto"},V$=j("div",{class:"main-header-content p2"},[j("h1",{class:"text-center font-bold text-5xl pt-10 pb-10"},"About Us"),j("p",{class:"w-full md:w-8/12 mx-auto text-center"}," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Porro, saepe! ")],-1),q$=[V$];function B$(e,t,n,i,o,u){return nt(),mt("div",j$,q$)}const $$=gr(U$,[["render",B$]]),H$={name:"Upload",props:{addSong:{type:Function,required:!0}},data(){return{is_dragover:!1,uploads:[]}},methods:{upload(e){(e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files]).forEach(n=>{if(n.type!=="audio/mpeg")return;const u=Wk.ref().child(`songs/${n.name}`).put(n),a=this.uploads.push({task:u,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;u.on("state_change",l=>{const f=l.bytesTransferred/l.totalBytes*100;this.uploads[a].current_progress=f},l=>{this.uploads[a].variant="bg-red-400",this.uploads[a].icon="fas fa-times",this.uploads[a].text_class="text-red-400",console.log(l)},async()=>{const l={uid:Qr.currentUser.uid,display_name:Qr.currentUser.displayName,original_name:u.snapshot.ref.name,modified_name:u.snapshot.ref.name,genre:"",comment_count:0};l.url=await u.snapshot.ref.getDownloadURL();const d=await(await di.add(l)).get();this.addSong(d),this.uploads[a].variant="bg-green-400",this.uploads[a].icon="fas fa-check",this.uploads[a].text_class="text-green-400"})}),this.is_dragover=!1},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},K$={class:"col-span-1"},z$={class:"bg-white rounded border border-gray-200 relative flex flex-col"},G$=j("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[j("span",{class:"card-title"},"Upload"),j("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),W$={class:"p-6"},X$=j("h5",null,"Drop your files here",-1),Q$=[X$],Y$=j("hr",{class:"my-6"},null,-1),J$={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function Z$(e,t,n,i,o,u){return nt(),mt("div",K$,[j("div",z$,[G$,j("div",W$,[j("div",{onDrag:t[0]||(t[0]=Sn(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Sn(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Sn(a=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Sn(a=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Sn(a=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Sn(a=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Sn(a=>u.upload(a),["prevent","stop"])),class:Un([{"bg-green-400 border-green-400 border-solid":o.is_dragover},"w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid"])},Q$,34),j("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=a=>u.upload(a))},null,32),Y$,(nt(!0),mt(qt,null,gc(o.uploads,a=>(nt(),mt("div",{class:"mb-4",key:a.name},[j("div",{class:Un(["font-bold text-sm",a.text_class])},[j("i",{class:Un(a.icon)},null,2),jo(" "+fn(a.name),1)],2),j("div",J$,[j("div",{class:Un(["transition-all progress-bar",a.variant]),style:dc({width:a.current_progress+"%"})},null,6)])]))),128))])])])}const eH=gr(H$,[["render",Z$]]),tH={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function},index:{type:Number,required:!0}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_msg:"Please wait! Updating song info."}},methods:{async saveChanges(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_msg="Please wait! Updating song info.";try{await di.doc(this.song.docId).update(e)}catch{this.in_submission=!1,this.show_alert=!0,this.alert_variant="bg-red-500",this.alert_msg="Something went wrong. Try again later.";return}this.updateSong(this.index,e),this.updateUnsavedFlag(!1),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_msg="Success!"},async deleteSong(){await Wk.ref().child(`songs/${this.song.original_name}`).delete(),await di.doc(this.song.docId).delete(),this.removeSong(this.index)}}},nH={class:"border border-gray-200 p-3 mb-4 rounded"},rH={class:"inline-block text-2xl font-bold"},iH=j("i",{class:"fa fa-times"},null,-1),oH=[iH],sH=j("i",{class:"fa fa-pencil-alt"},null,-1),uH=[sH],aH={class:"mb-3"},cH=j("label",{class:"inline-block mb-2"},"Song Title",-1),lH={class:"mb-3"},fH=j("label",{class:"inline-block mb-2"},"Genre",-1),hH=j("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600"}," Submit ",-1);function dH(e,t,n,i,o,u){const a=Ot("vee-field"),l=Ot("ErrorMessage"),f=Ot("vee-form");return nt(),mt("div",nH,[cm(j("div",null,[j("h4",rH,fn(n.song.modified_name),1),j("button",{onClick:t[0]||(t[0]=Sn((...d)=>u.deleteSong&&u.deleteSong(...d),["prevent"])),class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"},oH),j("button",{onClick:t[1]||(t[1]=Sn(d=>o.showForm=!o.showForm,["prevent"])),class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"},uH)],512),[[tE,!o.showForm]]),cm(j("div",null,[o.show_alert?(nt(),mt("div",{key:0,class:Un(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},fn(o.alert_msg),3)):Ha("",!0),Re(f,{"validation-schema":o.schema,onSubmit:u.saveChanges,"initial-values":n.song},{default:lr(()=>[j("div",aH,[cH,Re(a,{name:"modified_name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=d=>n.updateUnsavedFlag(!0))}),Re(l,{class:"text-red-600",name:"modified_name"})]),j("div",lH,[fH,Re(a,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=d=>n.updateUnsavedFlag(!0))}),Re(l,{class:"text-red-600",name:"genre"})]),hH,j("button",{onClick:t[4]||(t[4]=Sn(d=>o.showForm=!o.showForm,["prevent"])),type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600"}," Go Back ")]),_:1},8,["validation-schema","onSubmit","initial-values"])],512),[[tE,o.showForm]])])}const pH=gr(tH,[["render",dH]]),gH={name:"Manage",components:{AppUpload:eH,CompositionItem:pH},data(){return{songs:[],unsavedFlag:!1}},async created(){(await di.where("uid","==",Qr.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docId:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e}},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const i=confirm("You have unsaved changes. Are you sure want to leave?");n(i)}}},mH={class:"container mx-auto mt-6"},vH={class:"md:grid md:grid-cols-3 md:gap-4"},yH={class:"col-span-2"},wH={class:"bg-white rounded border border-gray-200 relative flex flex-col"},bH=j("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[j("span",{class:"card-title"},"My Songs"),j("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"})],-1),_H={class:"p-6"};function EH(e,t,n,i,o,u){const a=Ot("AppUpload"),l=Ot("CompositionItem");return nt(),mt("section",mH,[j("div",vH,[Re(a,{ref:"upload",addSong:u.addSong},null,8,["addSong"]),j("div",yH,[j("div",wH,[bH,j("div",_H,[(nt(!0),mt(qt,null,gc(o.songs,(f,d)=>(nt(),Ys(l,{key:f.docId,song:f,index:d,removeSong:u.removeSong,updateSong:u.updateSong,updateUnsavedFlag:u.updateUnsavedFlag},null,8,["song","index","removeSong","updateSong","updateUnsavedFlag"]))),128))])])])])])}const IH=gr(gH,[["render",EH]]),TH={name:"Song",data(){return{song:{},commentSchema:{comment:"required|min:3"},comments:[],comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Please wait...",sort:"1"}},computed:{...AS(Du,["userLoggedIn"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.datePosted)-new Date(e.datePosted):new Date(e.datePosted)-new Date(t.datePosted))}},async created(){const e=await di.doc(this.$route.params.id).get();if(!e.exists){this.$router.push({name:"home"});return}const{sort:t}=this.$route.query;this.sort=t==="1"||t==="2"?t:"1",this.song=e.data(),await this.getComments()},methods:{getImagePath(e){return`url(/vue/assets/img/${e})`},async addNewComment(e,{resetForm:t}){this.comment_in_submission=!0,this.comment_show_alert=!0,this.comment_alert_variant="bg-blue-500",this.comment_alert_message="Please wait! Your comment is being submitted";const n={content:e.comment,datePosted:new Date().toString(),sid:this.$route.params.id,name:Qr.currentUser.displayName,uid:Qr.currentUser.uid};await KI.add(n),this.song.comment_count+=1,await di.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),await this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant="bg-green-500",this.comment_alert_message="Comment added!",t()},async getComments(){const e=await KI.where("sid","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>{this.comments.push({docID:t.id,...t.data()})})}},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}}},SH={class:"w-full mb-8 py-14 text-center text-white relative"},AH={class:"container mx-auto flex items-center"},kH=j("button",{type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none"},[j("i",{class:"fas fa-play"})],-1),CH={class:"z-50 text-left ml-8"},RH={class:"text-3xl font-bold"},NH={class:"container mx-auto mt-6"},xH={class:"bg-white rounded border border-gray-200 relative flex flex-col"},OH={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},PH={class:"card-title"},DH=j("i",{class:"fa fa-comments float-right text-green-400 text-2xl"},null,-1),LH={class:"p-6"},MH=["disabled"],FH=j("option",{value:"1"},"Latest",-1),UH=j("option",{value:"2"},"Oldest",-1),jH=[FH,UH],VH={class:"container mx-auto"},qH={class:"mb-5"},BH={class:"font-bold"};function $H(e,t,n,i,o,u){const a=Ot("vee-field"),l=Ot("ErrorMessage"),f=Ot("vee-form");return nt(),mt(qt,null,[j("section",SH,[j("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:dc({backgroundImage:u.getImagePath("song-header.png")})},null,4),j("div",AH,[kH,j("div",CH,[j("div",RH,fn(o.song.modified_name),1),j("div",null,fn(o.song.modified_name),1)])])]),j("section",NH,[j("div",xH,[j("div",OH,[j("span",PH,"Comments ("+fn(o.song.comment_count)+")",1),DH]),j("div",LH,[o.comment_show_alert?(nt(),mt("div",{key:0,class:Un(["text-white text-center font-bold p-4 mb-4",o.comment_alert_variant])},fn(o.comment_alert_message),3)):Ha("",!0),e.userLoggedIn?(nt(),Ys(f,{key:1,"validation-schema":o.commentSchema,onSubmit:u.addNewComment},{default:lr(()=>[Re(a,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-4",placeholder:"Your comment here..."}),Re(l,{class:"text-red-600",name:"comment"}),j("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Submit ",8,MH)]),_:1},8,["validation-schema","onSubmit"])):Ha("",!0),cm(j("select",{"onUpdate:modelValue":t[0]||(t[0]=d=>o.sort=d),class:"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},jH,512),[[kD,o.sort]])])])]),j("ul",VH,[(nt(!0),mt(qt,null,gc(u.sortedComments,d=>(nt(),mt("li",{class:"p-6 bg-gray-50 border border-gray-200",key:d.docID},[j("div",qH,[j("div",BH,fn(d.name),1),j("time",null,fn(d.datePosted),1)]),j("p",null,fn(d.content),1)]))),128))])],64)}const HH=gr(TH,[["render",$H]]),KH=[{name:"home",path:"/",component:F$},{name:"about",path:"/about",component:$$},{name:"manage",path:"/manage",component:IH,meta:{requiresAuth:!0}},{name:"song",path:"/song/:id",component:HH},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],sC=w$({history:LB("/vue"),routes:KH,linkExactActiveClass:"text-yellow-500"});sC.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}Du().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.12.3
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function rn(e){return typeof e=="function"}function uC(e){return e==null}const es=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Xy(e){return Number(e)>=0}function zH(e){const t=parseFloat(e);return isNaN(t)?e:t}function GH(e){return typeof e=="object"&&e!==null}function WH(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function XH(e){if(!GH(e)||WH(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function fc(e,t){return Object.keys(t).forEach(n=>{if(XH(t[n])){e[n]||(e[n]={}),fc(e[n],t[n]);return}e[n]=t[n]}),e}function ka(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let i=1;i<t.length;i++){if(Xy(t[i])){n+=`[${t[i]}]`;continue}n+=`.${t[i]}`}return n}const aC={};function Er(e,t){YH(e,t),aC[e]=t}function QH(e){return aC[e]}function YH(e,t){if(!rn(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function aT(e,t,n){typeof n.value=="object"&&(n.value=ft(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function ft(e){if(typeof e!="object")return e;var t=0,n,i,o,u=Object.prototype.toString.call(e);if(u==="[object Object]"?o=Object.create(e.__proto__||null):u==="[object Array]"?o=Array(e.length):u==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(ft(a))})):u==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(ft(l),ft(a))})):u==="[object Date]"?o=new Date(+e):u==="[object RegExp]"?o=new RegExp(e.source,e.flags):u==="[object DataView]"?o=new e.constructor(ft(e.buffer)):u==="[object ArrayBuffer]"?o=e.slice(0):u.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)aT(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||aT(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}const Zh=Symbol("vee-validate-form"),JH=Symbol("vee-validate-field-instance"),Zf=Symbol("Default empty value"),ZH=typeof window<"u";function ev(e){return rn(e)&&!!e.__locatorRef}function Ar(e){return!!e&&rn(e.parse)&&e.__type==="VVTypedSchema"}function eh(e){return!!e&&rn(e.validate)}function Mc(e){return e==="checkbox"||e==="radio"}function eK(e){return es(e)||Array.isArray(e)}function tK(e){return Array.isArray(e)?e.length===0:es(e)&&Object.keys(e).length===0}function ed(e){return/^\[.+\]$/i.test(e)}function nK(e){return cC(e)&&e.multiple}function cC(e){return e.tagName==="SELECT"}function rK(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function iK(e,t){return!rK(e,t)&&t.type!=="file"&&!Mc(t.type)}function lC(e){return Qy(e)&&e.target&&"submit"in e.target}function Qy(e){return e?!!(typeof Event<"u"&&rn(Event)&&e instanceof Event||e&&e.srcElement):!1}function cT(e,t){return t in e&&e[t]!==Zf}function xn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!xn(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!xn(i[1],t.get(i[0])))return!1;return!0}if(lT(e)&&lT(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,i=n;i--!==0;){var u=o[i];if(!xn(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function lT(e){return ZH?e instanceof File:!1}function Yy(e){return ed(e)?e.replace(/\[|\]/gi,""):e}function Fn(e,t,n){return e?ed(t)?e[Yy(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,u)=>eK(o)&&u in o?o[u]:n,e):n}function Di(e,t,n){if(ed(t)){e[Yy(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let u=0;u<i.length;u++){if(u===i.length-1){o[i[u]]=n;return}(!(i[u]in o)||uC(o[i[u]]))&&(o[i[u]]=Xy(i[u+1])?[]:{}),o=o[i[u]]}}function nm(e,t){if(Array.isArray(e)&&Xy(t)){e.splice(Number(t),1);return}es(e)&&delete e[t]}function fT(e,t){if(ed(t)){delete e[Yy(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let u=0;u<n.length;u++){if(u===n.length-1){nm(i,n[u]);break}if(!(n[u]in i)||uC(i[n[u]]))break;i=i[n[u]]}const o=n.map((u,a)=>Fn(e,n.slice(0,a).join(".")));for(let u=o.length-1;u>=0;u--)if(tK(o[u])){if(u===0){nm(e,n[0]);continue}nm(o[u-1],n[u-1])}}function cr(e){return Object.keys(e)}function fC(e,t=void 0){const n=ph();return(n==null?void 0:n.provides[e])||pr(e,t)}function hT(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(u=>xn(u,t));return o>=0?i.splice(o,1):i.push(t),i}return xn(e,t)?n:t}function dT(e,t=0){let n=null,i=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const u=e(...o);i.forEach(a=>a(u)),i=[]},t),new Promise(u=>i.push(u))}}function oK(e,t){return es(t)&&t.number?zH(e):e}function tv(e,t){let n;return async function(...o){const u=e(...o);n=u;const a=await u;return u!==n?a:(n=void 0,t(a,o))}}function nv(e){return Array.isArray(e)?e:e?[e]:[]}function nf(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}function sK(e){let t=null,n=[];return function(...i){const o=Yn(()=>{if(t!==o)return;const u=e(...i);n.forEach(a=>a(u)),n=[],t=null});return t=o,new Promise(u=>n.push(u))}}function Jy(e,t,n){return t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default}function rm(e){if(hC(e))return e._value}function hC(e){return"_value"in e}function uK(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function th(e){if(!Qy(e))return e;const t=e.target;if(Mc(t.type)&&hC(t))return rm(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(nK(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(rm);if(cC(t)){const n=Array.from(t.options).find(i=>i.selected);return n?rm(n):t.value}return uK(t)}function dC(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?es(e)&&e._$$isNormalized?e:es(e)?Object.keys(e).reduce((n,i)=>{const o=aK(e[i]);return e[i]!==!1&&(n[i]=pT(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=cK(i);return o.name&&(n[o.name]=pT(o.params)),n},t):t}function aK(e){return e===!0?[]:Array.isArray(e)||es(e)?e:[e]}function pT(e){const t=n=>typeof n=="string"&&n[0]==="@"?lK(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const cK=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function lK(e){const t=n=>Fn(n,e)||n[e];return t.__locatorRef=e,t}function fK(e){return Array.isArray(e)?e.filter(ev):cr(e).filter(t=>ev(e[t])).map(t=>e[t])}const hK={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let rv=Object.assign({},hK);const Fo=()=>rv,dK=e=>{rv=Object.assign(Object.assign({},rv),e)},pK=dK;async function pC(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await gK(o,e)).errors;return{errors:a,valid:!a.length}}async function gK(e,t){if(Ar(e.rules)||eh(e.rules))return vK(t,e.rules);if(rn(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let p=0;p<f;p++){const m=l[p],v=await m(t,a);if(!(typeof v!="string"&&!Array.isArray(v)&&v)){if(Array.isArray(v))d.push(...v);else{const _=typeof v=="string"?v:mC(a);d.push(_)}if(e.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:dC(e.rules)}),i=[],o=Object.keys(n.rules),u=o.length;for(let a=0;a<u;a++){const l=o[a],f=await yK(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}function mK(e){return!!e&&e.name==="ValidationError"}function gC(e){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!mK(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const u=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(u)}}}}}async function vK(e,t){const i=await(Ar(t)?t:gC(t)).parse(e),o=[];for(const u of i.errors)u.errors.length&&o.push(...u.errors);return{errors:o}}async function yK(e,t,n){const i=QH(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=wK(n.params,e.formData),u={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(t,o,u);return typeof a=="string"?{error:a}:{error:a?void 0:mC(u)}}function mC(e){const t=Fo().generateMessage;return t?t(e):"Field is invalid"}function wK(e,t){const n=i=>ev(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function bK(e,t){const i=await(Ar(e)?e:gC(e)).parse(ft(t)),o={},u={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,p)=>`[${p}]`);o[f]={valid:!l.length,errors:l},l.length&&(u[f]=l[0])}return{valid:!i.errors.length,results:o,errors:u,values:i.value}}async function _K(e,t,n){const o=cr(e).map(async d=>{var p,m,v;const b=(p=n==null?void 0:n.names)===null||p===void 0?void 0:p[d],_=await pC(Fn(t,d),e[d],{name:(b==null?void 0:b.name)||d,label:b==null?void 0:b.label,values:t,bails:(v=(m=n==null?void 0:n.bailsMap)===null||m===void 0?void 0:m[d])!==null&&v!==void 0?v:!0});return Object.assign(Object.assign({},_),{path:d})});let u=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(u=!1,f[d.path]=d.errors[0]);return{valid:u,results:l,errors:f}}let gT=0;function EK(e,t){const{value:n,initialValue:i,setInitialValue:o}=IK(e,t.modelValue,t.form);if(!t.form){let f=function(b){var _;"value"in b&&(n.value=b.value),"errors"in b&&p(b.errors),"touched"in b&&(v.touched=(_=b.touched)!==null&&_!==void 0?_:v.touched),"initialValue"in b&&o(b.initialValue)};const{errors:d,setErrors:p}=AK(),m=gT>=Number.MAX_SAFE_INTEGER?0:++gT,v=SK(n,i,d,t.schema);return{id:m,path:e,value:n,initialValue:i,meta:v,flags:{pendingUnmount:{[m]:!1},pendingReset:!1},errors:d,setState:f}}const u=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate,schema:t.schema}),a=Fe(()=>u.errors);function l(f){var d,p,m;"value"in f&&(n.value=f.value),"errors"in f&&((d=t.form)===null||d===void 0||d.setFieldError(Ye(e),f.errors)),"touched"in f&&((p=t.form)===null||p===void 0||p.setFieldTouched(Ye(e),(m=f.touched)!==null&&m!==void 0?m:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(u.id)?u.id[u.id.length-1]:u.id,path:e,value:n,errors:a,meta:u,initialValue:i,flags:u.__flags,setState:l}}function IK(e,t,n){const i=An(Ye(t));function o(){return n?Fn(n.initialValues.value,Ye(e),Ye(i)):Ye(i)}function u(d){if(!n){i.value=d;return}n.setFieldInitialValue(Ye(e),d,!0)}const a=Fe(o);if(!n)return{value:An(o()),initialValue:a,setInitialValue:u};const l=TK(t,n,a,e);return n.stageInitialValue(Ye(e),l,!0),{value:Fe({get(){return Fn(n.values,Ye(e))},set(d){n.setFieldValue(Ye(e),d,!1)}}),initialValue:a,setInitialValue:u}}function TK(e,t,n,i){return gt(e)?Ye(e):e!==void 0?e:Fn(t.values,Ye(i),Ye(n))}function SK(e,t,n,i){var o,u;const a=(u=(o=i==null?void 0:i.describe)===null||o===void 0?void 0:o.call(i).required)!==null&&u!==void 0?u:!1,l=pi({touched:!1,pending:!1,valid:!0,required:a,validated:!!Ye(n).length,initialValue:Fe(()=>Ye(t)),dirty:Fe(()=>!xn(Ye(e),Ye(t)))});return dr(n,f=>{l.valid=!f.length},{immediate:!0,flush:"sync"}),l}function AK(){const e=An([]);return{errors:e,setErrors:t=>{e.value=nv(t)}}}function kK(e,t,n){return Mc(n==null?void 0:n.type)?RK(e,t,n):vC(e,t,n)}function vC(e,t,n){const{initialValue:i,validateOnMount:o,bails:u,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:p,controlled:m,keepValueOnUnmount:v,syncVModel:b,form:_}=CK(n),T=m?fC(Zh):void 0,S=_||T,x=Fe(()=>ka(rt(e))),O=Fe(()=>{if(rt(S==null?void 0:S.schema))return;const ge=Ye(t);return eh(ge)||Ar(ge)||rn(ge)||Array.isArray(ge)?ge:dC(ge)}),{id:F,value:q,initialValue:te,meta:U,setState:ve,errors:z,flags:oe}=EK(x,{modelValue:i,form:S,bails:u,label:f,type:a,validate:O.value?Ze:void 0,schema:Ar(t)?t:void 0}),k=Fe(()=>z.value[0]);b&&NK({value:q,prop:b,handleChange:se,shouldValidate:()=>d&&!oe.pendingReset});const Xe=(fe,ge=!1)=>{U.touched=!0,ge&&ct()};async function st(fe){var ge,D;if(S!=null&&S.validateSchema){const{results:B}=await S.validateSchema(fe);return(ge=B[rt(x)])!==null&&ge!==void 0?ge:{valid:!0,errors:[]}}return O.value?pC(q.value,O.value,{name:rt(x),label:rt(f),values:(D=S==null?void 0:S.values)!==null&&D!==void 0?D:{},bails:u}):{valid:!0,errors:[]}}const ct=tv(async()=>(U.pending=!0,U.validated=!0,st("validated-only")),fe=>(oe.pendingUnmount[yt.id]||(ve({errors:fe.errors}),U.pending=!1,U.valid=fe.valid),fe)),pt=tv(async()=>st("silent"),fe=>(U.valid=fe.valid,fe));function Ze(fe){return(fe==null?void 0:fe.mode)==="silent"?pt():ct()}function se(fe,ge=!0){const D=th(fe);Pt(D,ge)}_v(()=>{if(o)return ct();(!S||!S.validateSchema)&&pt()});function De(fe){U.touched=fe}function _e(fe){var ge;const D=fe&&"value"in fe?fe.value:te.value;ve({value:ft(D),initialValue:ft(D),touched:(ge=fe==null?void 0:fe.touched)!==null&&ge!==void 0?ge:!1,errors:(fe==null?void 0:fe.errors)||[]}),U.pending=!1,U.validated=!1,pt()}const kt=ph();function Pt(fe,ge=!0){q.value=kt&&b?oK(fe,kt.props.modelModifiers):fe,(ge?ct:pt)()}function zt(fe){ve({errors:Array.isArray(fe)?fe:[fe]})}const Ft=Fe({get(){return q.value},set(fe){Pt(fe,d)}}),yt={id:F,name:x,label:f,value:Ft,meta:U,errors:z,errorMessage:k,type:a,checkedValue:l,uncheckedValue:p,bails:u,keepValueOnUnmount:v,resetField:_e,handleReset:()=>_e(),validate:Ze,handleChange:se,handleBlur:Xe,setState:ve,setTouched:De,setErrors:zt,setValue:Pt};if(Gs(JH,yt),gt(t)&&typeof Ye(t)!="function"&&dr(t,(fe,ge)=>{xn(fe,ge)||(U.validated?ct():pt())},{deep:!0}),!S)return yt;const zn=Fe(()=>{const fe=O.value;return!fe||rn(fe)||eh(fe)||Ar(fe)||Array.isArray(fe)?{}:Object.keys(fe).reduce((ge,D)=>{const B=fK(fe[D]).map(ee=>ee.__locatorRef).reduce((ee,ae)=>{const xe=Fn(S.values,ae)||S.values[ae];return xe!==void 0&&(ee[ae]=xe),ee},{});return Object.assign(ge,B),ge},{})});return dr(zn,(fe,ge)=>{if(!Object.keys(fe).length)return;!xn(fe,ge)&&(U.validated?ct():pt())}),iS(()=>{var fe;const ge=(fe=rt(yt.keepValueOnUnmount))!==null&&fe!==void 0?fe:rt(S.keepValuesOnUnmount),D=rt(x);if(ge||!S||oe.pendingUnmount[yt.id]){S==null||S.removePathState(D,F);return}oe.pendingUnmount[yt.id]=!0;const B=S.getPathState(D);if(Array.isArray(B==null?void 0:B.id)&&(B!=null&&B.multiple)?B!=null&&B.id.includes(yt.id):(B==null?void 0:B.id)===yt.id){if(B!=null&&B.multiple&&Array.isArray(B.value)){const ae=B.value.findIndex(xe=>xn(xe,rt(yt.checkedValue)));if(ae>-1){const xe=[...B.value];xe.splice(ae,1),S.setFieldValue(D,xe)}Array.isArray(B.id)&&B.id.splice(B.id.indexOf(yt.id),1)}else S.unsetPathValue(rt(x));S.removePathState(D,F)}}),yt}function CK(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),i=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?iv(ph(),i):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const u="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:a??!0,checkedValue:u,syncVModel:l})}function RK(e,t,n){const i=n!=null&&n.standalone?void 0:fC(Zh),o=n==null?void 0:n.checkedValue,u=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=Fe(()=>{const m=rt(l.value),v=rt(o);return Array.isArray(m)?m.findIndex(b=>xn(b,v))>=0:xn(v,m)});function p(m,v=!0){var b,_;if(d.value===((b=m==null?void 0:m.target)===null||b===void 0?void 0:b.checked)){v&&l.validate();return}const T=rt(e),S=i==null?void 0:i.getPathState(T),x=th(m);let O=(_=rt(o))!==null&&_!==void 0?_:x;i&&(S!=null&&S.multiple)&&S.type==="checkbox"?O=hT(Fn(i.values,T)||[],O,void 0):(n==null?void 0:n.type)==="checkbox"&&(O=hT(rt(l.value),O,rt(u))),f(O,v)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:u,handleChange:p})}return a(vC(e,t,n))}function NK({prop:e,value:t,handleChange:n,shouldValidate:i}){const o=ph();if(!o||!e)return;const u=typeof e=="string"?e:"modelValue",a=`update:${u}`;u in o.props&&(dr(t,l=>{xn(l,iv(o,u))||o.emit(a,l)}),dr(()=>iv(o,u),l=>{if(l===Zf&&t.value===void 0)return;const f=l===Zf?void 0:l;xn(f,t.value)||n(f,i())}))}function iv(e,t){if(e)return e.props[t]}const xK=pc({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Fo().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Zf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Co(e,"rules"),i=Co(e,"name"),o=Co(e,"label"),u=Co(e,"uncheckedValue"),a=Co(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:p,handleChange:m,handleBlur:v,setTouched:b,resetField:_,handleReset:T,meta:S,checked:x,setErrors:O}=kK(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:PK(e,t),checkedValue:t.attrs.value,uncheckedValue:u,label:o,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:a,syncVModel:!0}),F=function(oe,k=!0){m(oe,k)},q=Fe(()=>{const{validateOnInput:z,validateOnChange:oe,validateOnBlur:k,validateOnModelUpdate:Xe}=OK(e);function st(se){v(se,k),rn(t.attrs.onBlur)&&t.attrs.onBlur(se)}function ct(se){F(se,z),rn(t.attrs.onInput)&&t.attrs.onInput(se)}function pt(se){F(se,oe),rn(t.attrs.onChange)&&t.attrs.onChange(se)}const Ze={name:e.name,onBlur:st,onInput:ct,onChange:pt};return Ze["onUpdate:modelValue"]=se=>F(se,Xe),Ze}),te=Fe(()=>{const z=Object.assign({},q.value);Mc(t.attrs.type)&&x&&(z.checked=x.value);const oe=mT(e,t);return iK(oe,t.attrs)&&(z.value=f.value),z}),U=Fe(()=>Object.assign(Object.assign({},q.value),{modelValue:f.value}));function ve(){return{field:te.value,componentField:U.value,value:f.value,meta:S,errors:l.value,errorMessage:d.value,validate:p,resetField:_,handleChange:F,handleInput:z=>F(z,!1),handleReset:T,handleBlur:q.value.onBlur,setTouched:b,setErrors:O}}return t.expose({value:f,meta:S,errors:l,errorMessage:d,setErrors:O,setTouched:b,reset:_,validate:p,handleChange:m}),()=>{const z=wv(mT(e,t)),oe=Jy(z,t,ve);return z?eu(z,Object.assign(Object.assign({},t.attrs),te.value),oe):oe}}});function mT(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function OK(e){var t,n,i,o;const{validateOnInput:u,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Fo();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:u,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function PK(e,t){return Mc(t.attrs.type)?cT(e,"modelValue")?e.modelValue:void 0:cT(e,"modelValue")?e.modelValue:t.attrs.value}const DK=xK;let LK=0;const rf=["bails","fieldsCount","id","multiple","type","validate"];function yC(e){const t=Object.assign({},rt((e==null?void 0:e.initialValues)||{})),n=Ye(e==null?void 0:e.validationSchema);return n&&Ar(n)&&rn(n.cast)?ft(n.cast(t)||{}):ft(t)}function MK(e){var t;const n=LK++;let i=0;const o=An(!1),u=An(!1),a=An(0),l=[],f=pi(yC(e)),d=An([]),p=An({}),m=An({}),v=sK(()=>{m.value=d.value.reduce((C,N)=>(C[ka(rt(N.path))]=N,C),{})});function b(C,N){const K=se(C);if(!K){typeof C=="string"&&(p.value[ka(C)]=nv(N));return}if(typeof C=="string"){const Z=ka(C);p.value[Z]&&delete p.value[Z]}K.errors=nv(N),K.valid=!K.errors.length}function _(C){cr(C).forEach(N=>{b(N,C[N])})}e!=null&&e.initialErrors&&_(e.initialErrors);const T=Fe(()=>{const C=d.value.reduce((N,K)=>(K.errors.length&&(N[K.path]=K.errors),N),{});return Object.assign(Object.assign({},p.value),C)}),S=Fe(()=>cr(T.value).reduce((C,N)=>{const K=T.value[N];return K!=null&&K.length&&(C[N]=K[0]),C},{})),x=Fe(()=>d.value.reduce((C,N)=>(C[N.path]={name:N.path||"",label:N.label||""},C),{})),O=Fe(()=>d.value.reduce((C,N)=>{var K;return C[N.path]=(K=N.bails)!==null&&K!==void 0?K:!0,C},{})),F=Object.assign({},(e==null?void 0:e.initialErrors)||{}),q=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:te,originalInitialValues:U,setInitialValues:ve}=UK(d,f,e),z=FK(d,f,U,S),oe=Fe(()=>d.value.reduce((C,N)=>{const K=Fn(f,N.path);return Di(C,N.path,K),C},{})),k=e==null?void 0:e.validationSchema;function Xe(C,N){var K,Z;const Se=Fe(()=>Fn(te.value,rt(C))),pe=m.value[rt(C)],Ae=(N==null?void 0:N.type)==="checkbox"||(N==null?void 0:N.type)==="radio";if(pe&&Ae){pe.multiple=!0;const Rt=i++;return Array.isArray(pe.id)?pe.id.push(Rt):pe.id=[pe.id,Rt],pe.fieldsCount++,pe.__flags.pendingUnmount[Rt]=!1,pe}const Ge=Fe(()=>Fn(f,rt(C))),qe=rt(C),en=Fe(()=>{var Rt,Pr,wi,Lu,Dr,cs;return Ar(k)?(wi=(Pr=(Rt=k).describe)===null||Pr===void 0?void 0:Pr.call(Rt,rt(C)).required)!==null&&wi!==void 0?wi:!1:Ar(N==null?void 0:N.schema)&&(cs=(Dr=(Lu=N==null?void 0:N.schema).describe)===null||Dr===void 0?void 0:Dr.call(Lu).required)!==null&&cs!==void 0?cs:!1}),Be=i++,Ct=pi({id:Be,path:C,touched:!1,pending:!1,valid:!0,validated:!!(!((K=F[qe])===null||K===void 0)&&K.length),required:en,initialValue:Se,errors:$T([]),bails:(Z=N==null?void 0:N.bails)!==null&&Z!==void 0?Z:!1,label:N==null?void 0:N.label,type:(N==null?void 0:N.type)||"default",value:Ge,multiple:!1,__flags:{pendingUnmount:{[Be]:!1},pendingReset:!1},fieldsCount:1,validate:N==null?void 0:N.validate,dirty:Fe(()=>!xn(Ye(Ge),Ye(Se)))});return d.value.push(Ct),m.value[qe]=Ct,v(),S.value[qe]&&!F[qe]&&Yn(()=>{Y(qe,{mode:"silent"})}),gt(C)&&dr(C,Rt=>{v();const Pr=ft(Ge.value);m.value[Rt]=Ct,Yn(()=>{Di(f,Rt,Pr)})}),Ct}const st=dT(le,5),ct=dT(le,5),pt=tv(async C=>await(C==="silent"?st():ct()),(C,[N])=>{const K=cr(ge.errorBag.value),Se=[...new Set([...cr(C.results),...d.value.map(pe=>pe.path),...K])].sort().reduce((pe,Ae)=>{var Ge;const qe=Ae,en=se(qe)||De(qe),Be=((Ge=C.results[qe])===null||Ge===void 0?void 0:Ge.errors)||[],Ct=rt(en==null?void 0:en.path)||qe,Rt=jK({errors:Be,valid:!Be.length},pe.results[Ct]);return pe.results[Ct]=Rt,Rt.valid||(pe.errors[Ct]=Rt.errors[0]),en&&p.value[Ct]&&delete p.value[Ct],en?(en.valid=Rt.valid,N==="silent"||N==="validated-only"&&!en.validated||b(en,Rt.errors),pe):(b(Ct,Be),pe)},{valid:C.valid,results:{},errors:{}});return C.values&&(Se.values=C.values),Se});function Ze(C){d.value.forEach(C)}function se(C){const N=typeof C=="string"?ka(C):C;return typeof N=="string"?m.value[N]:N}function De(C){return d.value.filter(K=>C.startsWith(K.path)).reduce((K,Z)=>K?Z.path.length>K.path.length?Z:K:Z,void 0)}let _e=[],kt;function Pt(C){return _e.push(C),kt||(kt=Yn(()=>{[..._e].sort().reverse().forEach(K=>{fT(f,K)}),_e=[],kt=null})),kt}function zt(C){return function(K,Z){return function(pe){return pe instanceof Event&&(pe.preventDefault(),pe.stopPropagation()),Ze(Ae=>Ae.touched=!0),o.value=!0,a.value++,ne().then(Ae=>{const Ge=ft(f);if(Ae.valid&&typeof K=="function"){const qe=ft(oe.value);let en=C?qe:Ge;return Ae.values&&(en=Ae.values),K(en,{evt:pe,controlledValues:qe,setErrors:_,setFieldError:b,setTouched:L,setFieldTouched:xe,setValues:ee,setFieldValue:D,resetForm:G,resetField:V})}!Ae.valid&&typeof Z=="function"&&Z({values:Ge,evt:pe,errors:Ae.errors,results:Ae.results})}).then(Ae=>(o.value=!1,Ae),Ae=>{throw o.value=!1,Ae})}}}const yt=zt(!1);yt.withControlled=zt(!0);function zn(C,N){const K=d.value.findIndex(Se=>Se.path===C),Z=d.value[K];if(!(K===-1||!Z)){if(Yn(()=>{Y(C,{mode:"silent",warn:!1})}),Z.multiple&&Z.fieldsCount&&Z.fieldsCount--,Array.isArray(Z.id)){const Se=Z.id.indexOf(N);Se>=0&&Z.id.splice(Se,1),delete Z.__flags.pendingUnmount[N]}(!Z.multiple||Z.fieldsCount<=0)&&(d.value.splice(K,1),ie(C),v(),delete m.value[C])}}function fe(C){cr(m.value).forEach(N=>{N.startsWith(C)&&delete m.value[N]}),d.value=d.value.filter(N=>!N.path.startsWith(C)),Yn(()=>{v()})}const ge={formId:n,values:f,controlledValues:oe,errorBag:T,errors:S,schema:k,submitCount:a,meta:z,isSubmitting:o,isValidating:u,fieldArrays:l,keepValuesOnUnmount:q,validateSchema:Ye(k)?pt:void 0,validate:ne,setFieldError:b,validateField:Y,setFieldValue:D,setValues:ee,setErrors:_,setFieldTouched:xe,setTouched:L,resetForm:G,resetField:V,handleSubmit:yt,useFieldModel:je,defineInputBinds:Ee,defineComponentBinds:ze,defineField:Ne,stageInitialValue:Q,unsetInitialValue:ie,setFieldInitialValue:me,createPathState:Xe,getPathState:se,unsetPathValue:Pt,removePathState:zn,initialValues:te,getAllPathStates:()=>d.value,destroyPath:fe,isFieldTouched:I,isFieldDirty:A,isFieldValid:R};function D(C,N,K=!0){const Z=ft(N),Se=typeof C=="string"?C:C.path;se(Se)||Xe(Se),Di(f,Se,Z),K&&Y(Se)}function B(C,N=!0){cr(f).forEach(K=>{delete f[K]}),cr(C).forEach(K=>{D(K,C[K],!1)}),N&&ne()}function ee(C,N=!0){fc(f,C),l.forEach(K=>K&&K.reset()),N&&ne()}function ae(C,N){const K=se(rt(C))||Xe(C);return Fe({get(){return K.value},set(Z){var Se;const pe=rt(C);D(pe,Z,(Se=rt(N))!==null&&Se!==void 0?Se:!1)}})}function xe(C,N){const K=se(C);K&&(K.touched=N)}function I(C){const N=se(C);return N?N.touched:d.value.filter(K=>K.path.startsWith(C)).some(K=>K.touched)}function A(C){const N=se(C);return N?N.dirty:d.value.filter(K=>K.path.startsWith(C)).some(K=>K.dirty)}function R(C){const N=se(C);return N?N.valid:d.value.filter(K=>K.path.startsWith(C)).every(K=>K.valid)}function L(C){if(typeof C=="boolean"){Ze(N=>{N.touched=C});return}cr(C).forEach(N=>{xe(N,!!C[N])})}function V(C,N){var K;const Z=N&&"value"in N?N.value:Fn(te.value,C),Se=se(C);Se&&(Se.__flags.pendingReset=!0),me(C,ft(Z),!0),D(C,Z,!1),xe(C,(K=N==null?void 0:N.touched)!==null&&K!==void 0?K:!1),b(C,(N==null?void 0:N.errors)||[]),Yn(()=>{Se&&(Se.__flags.pendingReset=!1)})}function G(C,N){let K=ft(C!=null&&C.values?C.values:U.value);K=N!=null&&N.force?K:fc(U.value,K),K=Ar(k)&&rn(k.cast)?k.cast(K):K,ve(K),Ze(Z=>{var Se;Z.__flags.pendingReset=!0,Z.validated=!1,Z.touched=((Se=C==null?void 0:C.touched)===null||Se===void 0?void 0:Se[Z.path])||!1,D(Z.path,Fn(K,Z.path),!1),b(Z.path,void 0)}),N!=null&&N.force?B(K,!1):ee(K,!1),_((C==null?void 0:C.errors)||{}),a.value=(C==null?void 0:C.submitCount)||0,Yn(()=>{ne({mode:"silent"}),Ze(Z=>{Z.__flags.pendingReset=!1})})}async function ne(C){const N=(C==null?void 0:C.mode)||"force";if(N==="force"&&Ze(pe=>pe.validated=!0),ge.validateSchema)return ge.validateSchema(N);u.value=!0;const K=await Promise.all(d.value.map(pe=>pe.validate?pe.validate(C).then(Ae=>({key:pe.path,valid:Ae.valid,errors:Ae.errors})):Promise.resolve({key:pe.path,valid:!0,errors:[]})));u.value=!1;const Z={},Se={};for(const pe of K)Z[pe.key]={valid:pe.valid,errors:pe.errors},pe.errors.length&&(Se[pe.key]=pe.errors[0]);return{valid:K.every(pe=>pe.valid),results:Z,errors:Se}}async function Y(C,N){var K;const Z=se(C);if(Z&&(N==null?void 0:N.mode)!=="silent"&&(Z.validated=!0),k){const{results:Se}=await pt((N==null?void 0:N.mode)||"validated-only");return Se[C]||{errors:[],valid:!0}}return Z!=null&&Z.validate?Z.validate(N):(!Z&&(K=N==null?void 0:N.warn),Promise.resolve({errors:[],valid:!0}))}function ie(C){fT(te.value,C)}function Q(C,N,K=!1){me(C,N),Di(f,C,N),K&&!(e!=null&&e.initialValues)&&Di(U.value,C,ft(N))}function me(C,N,K=!1){Di(te.value,C,ft(N)),K&&Di(U.value,C,ft(N))}async function le(){const C=Ye(k);if(!C)return{valid:!0,results:{},errors:{}};u.value=!0;const N=eh(C)||Ar(C)?await bK(C,f):await _K(C,f,{names:x.value,bailsMap:O.value});return u.value=!1,N}const we=yt((C,{evt:N})=>{lC(N)&&N.target.submit()});_v(()=>{if(e!=null&&e.initialErrors&&_(e.initialErrors),e!=null&&e.initialTouched&&L(e.initialTouched),e!=null&&e.validateOnMount){ne();return}ge.validateSchema&&ge.validateSchema("silent")}),gt(k)&&dr(k,()=>{var C;(C=ge.validateSchema)===null||C===void 0||C.call(ge,"validated-only")}),Gs(Zh,ge);function Ne(C,N){const K=rn(N)||N==null?void 0:N.label,Z=se(rt(C))||Xe(C,{label:K}),Se=()=>rn(N)?N(nf(Z,rf)):N||{};function pe(){var Be;Z.touched=!0,((Be=Se().validateOnBlur)!==null&&Be!==void 0?Be:Fo().validateOnBlur)&&Y(Z.path)}function Ae(){var Be;((Be=Se().validateOnInput)!==null&&Be!==void 0?Be:Fo().validateOnInput)&&Yn(()=>{Y(Z.path)})}function Ge(){var Be;((Be=Se().validateOnChange)!==null&&Be!==void 0?Be:Fo().validateOnChange)&&Yn(()=>{Y(Z.path)})}const qe=Fe(()=>{const Be={onChange:Ge,onInput:Ae,onBlur:pe};return rn(N)?Object.assign(Object.assign({},Be),N(nf(Z,rf)).props||{}):N!=null&&N.props?Object.assign(Object.assign({},Be),N.props(nf(Z,rf))):Be});return[ae(C,()=>{var Be,Ct,Rt;return(Rt=(Be=Se().validateOnModelUpdate)!==null&&Be!==void 0?Be:(Ct=Fo())===null||Ct===void 0?void 0:Ct.validateOnModelUpdate)!==null&&Rt!==void 0?Rt:!0}),qe]}function je(C){return Array.isArray(C)?C.map(N=>ae(N,!0)):ae(C)}function Ee(C,N){const[K,Z]=Ne(C,N);function Se(Ge){Z.value.onBlur(Ge)}function pe(Ge){const qe=th(Ge);D(rt(C),qe,!1),Z.value.onInput(Ge)}function Ae(Ge){const qe=th(Ge);D(rt(C),qe,!1),Z.value.onChange(Ge)}return Fe(()=>Object.assign(Object.assign({},Z.value),{onBlur:Se,onInput:pe,onChange:Ae,value:K.value}))}function ze(C,N){const[K,Z]=Ne(C,N),Se=se(rt(C));function pe(Ae){K.value=Ae}return Fe(()=>{const Ae=rn(N)?N(nf(Se,rf)):N||{};return Object.assign({[Ae.model||"modelValue"]:K.value,[`onUpdate:${Ae.model||"modelValue"}`]:pe},Z.value)})}return Object.assign(Object.assign({},ge),{values:dv(f),handleReset:()=>G(),submitForm:we})}function FK(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},u=Fe(()=>!xn(t,Ye(n)));function a(){const f=e.value;return cr(o).reduce((d,p)=>{const m=o[p];return d[p]=f[m](v=>v[p]),d},{})}const l=pi(a());return yP(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Fe(()=>Object.assign(Object.assign({initialValues:Ye(n)},l),{valid:l.valid&&!cr(i.value).length,dirty:u.value}))}function UK(e,t,n){const i=yC(n),o=An(i),u=An(ft(i));function a(l,f=!1){o.value=fc(ft(o.value)||{},ft(l)),u.value=fc(ft(u.value)||{},ft(l)),f&&e.value.forEach(d=>{if(d.touched)return;const m=Fn(o.value,d.path);Di(t,d.path,ft(m))})}return{initialValues:o,originalInitialValues:u,setInitialValues:a}}function jK(e,t){return t?{valid:e.valid&&t.valid,errors:[...e.errors,...t.errors]}:e}const VK=pc({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Co(e,"validationSchema"),i=Co(e,"keepValues"),{errors:o,errorBag:u,values:a,meta:l,isSubmitting:f,isValidating:d,submitCount:p,controlledValues:m,validate:v,validateField:b,handleReset:_,resetForm:T,handleSubmit:S,setErrors:x,setFieldError:O,setFieldValue:F,setValues:q,setFieldTouched:te,setTouched:U,resetField:ve}=MK({validationSchema:n.value?n:void 0,initialValues:e.initialValues,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:i}),z=S((se,{evt:De})=>{lC(De)&&De.target.submit()},e.onInvalidSubmit),oe=e.onSubmit?S(e.onSubmit,e.onInvalidSubmit):z;function k(se){Qy(se)&&se.preventDefault(),_(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function Xe(se,De){return S(typeof se=="function"&&!De?se:De,e.onInvalidSubmit)(se)}function st(){return ft(a)}function ct(){return ft(l.value)}function pt(){return ft(o.value)}function Ze(){return{meta:l.value,errors:o.value,errorBag:u.value,values:a,isSubmitting:f.value,isValidating:d.value,submitCount:p.value,controlledValues:m.value,validate:v,validateField:b,handleSubmit:Xe,handleReset:_,submitForm:z,setErrors:x,setFieldError:O,setFieldValue:F,setValues:q,setFieldTouched:te,setTouched:U,resetForm:T,resetField:ve,getValues:st,getMeta:ct,getErrors:pt}}return t.expose({setFieldError:O,setErrors:x,setFieldValue:F,setValues:q,setFieldTouched:te,setTouched:U,resetForm:T,validate:v,validateField:b,resetField:ve,getValues:st,getMeta:ct,getErrors:pt,values:a,meta:l,errors:o}),function(){const De=e.as==="form"?e.as:e.as?wv(e.as):null,_e=Jy(De,t,Ze);return De?eu(De,Object.assign(Object.assign(Object.assign({},De==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:oe,onReset:k}),_e):_e}}}),qK=VK,BK=pc({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=pr(Zh,void 0),i=Fe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const u=e.as?wv(e.as):e.as,a=Jy(u,t,o),l=Object.assign({role:"alert"},t.attrs);return!u&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?eu(u||"span",l,i.value):eu(u,l,a)}}}),$K=BK;/**
  * vee-validate v4.12.3
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const of={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,kz:/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},HK=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Fc(e,t){return Array.isArray(e)?e[0]:e[t]}function ro(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const wC=(e,t)=>{if(ro(e))return!0;const n=HK(t);if(Array.isArray(e))return e.every(o=>wC(o,{locale:n}));const i=String(e);return n?(of[n]||of.en).test(i):Object.keys(of).some(o=>of[o].test(i))},KK=(e,t)=>{const n=Fc(t,"target");return String(e)===String(n)},vT=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,zK=e=>ro(e)?!0:Array.isArray(e)?e.every(t=>vT.test(String(t))):vT.test(String(e)),bC=(e,t)=>{if(ro(e))return!0;const n=Fc(t,"length");return Array.isArray(e)?e.every(i=>bC(i,{length:n})):[...String(e)].length<=Number(n)},_C=(e,t)=>{if(ro(e))return!0;const n=Fc(t,"max");return Array.isArray(e)?e.length>0&&e.every(i=>_C(i,{max:n})):Number(e)<=Number(n)},EC=(e,t)=>{if(ro(e))return!0;const n=Fc(t,"length");return Array.isArray(e)?e.every(i=>EC(i,{length:n})):[...String(e)].length>=Number(n)},IC=(e,t)=>{if(ro(e))return!0;const n=Fc(t,"min");return Array.isArray(e)?e.length>0&&e.every(i=>IC(i,{min:n})):Number(e)>=Number(n)},TC=(e,t)=>ro(e)?!0:Array.isArray(e)?e.every(n=>TC(n,t)):Array.from(t).some(n=>n==e),yT=(e,t)=>ro(e)?!0:!TC(e,t);function GK(e){return e==null}function WK(e){return Array.isArray(e)&&e.length===0}const wT=e=>GK(e)||WK(e)||e===!1?!1:!!String(e).trim().length,XK={install(e){e.component("VeeForm",qK),e.component("VeeField",DK),e.component("ErrorMessage",$K),Er("required",wT),Er("tos",wT),Er("min",EC),Er("max",bC),Er("alpha_spaces",wC),Er("email",zK),Er("min_value",IC),Er("max_value",_C),Er("password_mismatch",KK),Er("not_one_of",yT),Er("country_excluded",yT),pK({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too short.`,alpha_spaces:`The field ${t.field} may only contain alphabetical chars`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,password_mismatch:"The password don't match.",not_one_of:`You are not arrowed to use this value for the field ${t.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",tos:"You must accept the Terms of Service."};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let Fs;Qr.onAuthStateChanged(()=>{Fs||(Fs=OD(vB),Fs.use(LD()),Fs.use(sC),Fs.use(XK),Fs.mount("#app"))});
