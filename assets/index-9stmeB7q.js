(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function lg(e,t){const n=Object.create(null),i=e.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const wt={},Ks=[],zr=()=>{},wN=()=>!1,oh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),fg=e=>e.startsWith("onUpdate:"),ln=Object.assign,hg=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},bN=Object.prototype.hasOwnProperty,Ze=(e,t)=>bN.call(e,t),xe=Array.isArray,Gs=e=>pc(e)==="[object Map]",sh=e=>pc(e)==="[object Set]",Mb=e=>pc(e)==="[object Date]",Me=e=>typeof e=="function",$t=e=>typeof e=="string",Wi=e=>typeof e=="symbol",mt=e=>e!==null&&typeof e=="object",kT=e=>(mt(e)||Me(e))&&Me(e.then)&&Me(e.catch),xT=Object.prototype.toString,pc=e=>xT.call(e),IN=e=>pc(e).slice(8,-1),CT=e=>pc(e)==="[object Object]",dg=e=>$t(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,uf=lg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),uh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},EN=/-(\w)/g,Yr=uh(e=>e.replace(EN,(t,n)=>n?n.toUpperCase():"")),TN=/\B([A-Z])/g,Tu=uh(e=>e.replace(TN,"-$1").toLowerCase()),ah=uh(e=>e.charAt(0).toUpperCase()+e.slice(1)),Nm=uh(e=>e?`on${ah(e)}`:""),Ko=(e,t)=>!Object.is(e,t),af=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},_f=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},RT=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Fb;const av=()=>Fb||(Fb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Go(e){if(xe(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=$t(i)?xN(i):Go(i);if(o)for(const s in o)t[s]=o[s]}return t}else if($t(e)||mt(e))return e}const SN=/;(?![^(]*\))/g,AN=/:([^]+)/,kN=/\/\*[^]*?\*\//g;function xN(e){const t={};return e.replace(kN,"").split(SN).forEach(n=>{if(n){const i=n.split(AN);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function vn(e){let t="";if($t(e))t=e;else if(xe(e))for(let n=0;n<e.length;n++){const i=vn(e[n]);i&&(t+=i+" ")}else if(mt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const CN="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",RN=lg(CN);function OT(e){return!!e||e===""}function ON(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=ch(e[i],t[i]);return n}function ch(e,t){if(e===t)return!0;let n=Mb(e),i=Mb(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Wi(e),i=Wi(t),n||i)return e===t;if(n=xe(e),i=xe(t),n||i)return n&&i?ON(e,t):!1;if(n=mt(e),i=mt(t),n||i){if(!n||!i)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const a in e){const l=e.hasOwnProperty(a),f=t.hasOwnProperty(a);if(l&&!f||!l&&f||!ch(e[a],t[a]))return!1}}return String(e)===String(t)}function NN(e,t){return e.findIndex(n=>ch(n,t))}const Bt=e=>$t(e)?e:e==null?"":xe(e)||mt(e)&&(e.toString===xT||!Me(e.toString))?JSON.stringify(e,NT,2):String(e),NT=(e,t)=>t&&t.__v_isRef?NT(e,t.value):Gs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o],s)=>(n[Pm(i,s)+" =>"]=o,n),{})}:sh(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Pm(n))}:Wi(t)?Pm(t):mt(t)&&!xe(t)&&!CT(t)?String(t):t,Pm=(e,t="")=>{var n;return Wi(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let Qn;class PT{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Qn,!t&&Qn&&(this.index=(Qn.scopes||(Qn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Qn;try{return Qn=this,t()}finally{Qn=n}}}on(){Qn=this}off(){Qn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function DT(e){return new PT(e)}function PN(e,t=Qn){t&&t.active&&t.effects.push(e)}function LT(){return Qn}function DN(e){Qn&&Qn.cleanups.push(e)}const pg=e=>{const t=new Set(e);return t.w=0,t.n=0,t},MT=e=>(e.w&Xi)>0,FT=e=>(e.n&Xi)>0,LN=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Xi},MN=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const o=t[i];MT(o)&&!FT(o)?o.delete(e):t[n++]=o,o.w&=~Xi,o.n&=~Xi}t.length=n}},wf=new WeakMap;let Aa=0,Xi=1;const cv=30;let Tr;const Uo=Symbol(""),lv=Symbol("");class mg{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,PN(this,i)}run(){if(!this.active)return this.fn();let t=Tr,n=qi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Tr,Tr=this,qi=!0,Xi=1<<++Aa,Aa<=cv?LN(this):Vb(this),this.fn()}finally{Aa<=cv&&MN(this),Xi=1<<--Aa,Tr=this.parent,qi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Tr===this?this.deferStop=!0:this.active&&(Vb(this),this.onStop&&this.onStop(),this.active=!1)}}function Vb(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let qi=!0;const VT=[];function Su(){VT.push(qi),qi=!1}function Au(){const e=VT.pop();qi=e===void 0?!0:e}function qn(e,t,n){if(qi&&Tr){let i=wf.get(e);i||wf.set(e,i=new Map);let o=i.get(n);o||i.set(n,o=pg()),UT(o)}}function UT(e,t){let n=!1;Aa<=cv?FT(e)||(e.n|=Xi,n=!MT(e)):n=!e.has(Tr),n&&(e.add(Tr),Tr.deps.push(e))}function ci(e,t,n,i,o,s){const a=wf.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&xe(e)){const f=Number(i);a.forEach((p,v)=>{(v==="length"||!Wi(v)&&v>=f)&&l.push(p)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":xe(e)?dg(n)&&l.push(a.get("length")):(l.push(a.get(Uo)),Gs(e)&&l.push(a.get(lv)));break;case"delete":xe(e)||(l.push(a.get(Uo)),Gs(e)&&l.push(a.get(lv)));break;case"set":Gs(e)&&l.push(a.get(Uo));break}if(l.length===1)l[0]&&fv(l[0]);else{const f=[];for(const p of l)p&&f.push(...p);fv(pg(f))}}function fv(e,t){const n=xe(e)?e:[...e];for(const i of n)i.computed&&Ub(i);for(const i of n)i.computed||Ub(i)}function Ub(e,t){(e!==Tr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function FN(e,t){var n;return(n=wf.get(e))==null?void 0:n.get(t)}const VN=lg("__proto__,__v_isRef,__isVue"),jT=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Wi)),jb=UN();function UN(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=tt(this);for(let s=0,a=this.length;s<a;s++)qn(i,"get",s+"");const o=i[t](...n);return o===-1||o===!1?i[t](...n.map(tt)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Su();const i=tt(this)[t].apply(this,n);return Au(),i}}),e}function jN(e){const t=tt(this);return qn(t,"has",e),t.hasOwnProperty(e)}class BT{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,i){const o=this._isReadonly,s=this._shallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(o?s?ZN:KT:s?HT:$T).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=xe(t);if(!o){if(a&&Ze(jb,n))return Reflect.get(jb,n,i);if(n==="hasOwnProperty")return jN}const l=Reflect.get(t,n,i);return(Wi(n)?jT.has(n):VN(n))||(o||qn(t,"get",n),s)?l:vt(l)?a&&dg(n)?l:l.value:mt(l)?o?yg(l):pi(l):l}}class qT extends BT{constructor(t=!1){super(!1,t)}set(t,n,i,o){let s=t[n];if(Ys(s)&&vt(s)&&!vt(i))return!1;if(!this._shallow&&(!bf(i)&&!Ys(i)&&(s=tt(s),i=tt(i)),!xe(t)&&vt(s)&&!vt(i)))return s.value=i,!0;const a=xe(t)&&dg(n)?Number(n)<t.length:Ze(t,n),l=Reflect.set(t,n,i,o);return t===tt(o)&&(a?Ko(i,s)&&ci(t,"set",n,i):ci(t,"add",n,i)),l}deleteProperty(t,n){const i=Ze(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&i&&ci(t,"delete",n,void 0),o}has(t,n){const i=Reflect.has(t,n);return(!Wi(n)||!jT.has(n))&&qn(t,"has",n),i}ownKeys(t){return qn(t,"iterate",xe(t)?"length":Uo),Reflect.ownKeys(t)}}class BN extends BT{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const qN=new qT,$N=new BN,HN=new qT(!0),vg=e=>e,lh=e=>Reflect.getPrototypeOf(e);function Vl(e,t,n=!1,i=!1){e=e.__v_raw;const o=tt(e),s=tt(t);n||(Ko(t,s)&&qn(o,"get",t),qn(o,"get",s));const{has:a}=lh(o),l=i?vg:n?wg:qa;if(a.call(o,t))return l(e.get(t));if(a.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function Ul(e,t=!1){const n=this.__v_raw,i=tt(n),o=tt(e);return t||(Ko(e,o)&&qn(i,"has",e),qn(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function jl(e,t=!1){return e=e.__v_raw,!t&&qn(tt(e),"iterate",Uo),Reflect.get(e,"size",e)}function Bb(e){e=tt(e);const t=tt(this);return lh(t).has.call(t,e)||(t.add(e),ci(t,"add",e,e)),this}function qb(e,t){t=tt(t);const n=tt(this),{has:i,get:o}=lh(n);let s=i.call(n,e);s||(e=tt(e),s=i.call(n,e));const a=o.call(n,e);return n.set(e,t),s?Ko(t,a)&&ci(n,"set",e,t):ci(n,"add",e,t),this}function $b(e){const t=tt(this),{has:n,get:i}=lh(t);let o=n.call(t,e);o||(e=tt(e),o=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return o&&ci(t,"delete",e,void 0),s}function Hb(){const e=tt(this),t=e.size!==0,n=e.clear();return t&&ci(e,"clear",void 0,void 0),n}function Bl(e,t){return function(i,o){const s=this,a=s.__v_raw,l=tt(a),f=t?vg:e?wg:qa;return!e&&qn(l,"iterate",Uo),a.forEach((p,v)=>i.call(o,f(p),f(v),s))}}function ql(e,t,n){return function(...i){const o=this.__v_raw,s=tt(o),a=Gs(s),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,p=o[e](...i),v=n?vg:t?wg:qa;return!t&&qn(s,"iterate",f?lv:Uo),{next(){const{value:h,done:m}=p.next();return m?{value:h,done:m}:{value:l?[v(h[0]),v(h[1])]:v(h),done:m}},[Symbol.iterator](){return this}}}}function xi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function KN(){const e={get(s){return Vl(this,s)},get size(){return jl(this)},has:Ul,add:Bb,set:qb,delete:$b,clear:Hb,forEach:Bl(!1,!1)},t={get(s){return Vl(this,s,!1,!0)},get size(){return jl(this)},has:Ul,add:Bb,set:qb,delete:$b,clear:Hb,forEach:Bl(!1,!0)},n={get(s){return Vl(this,s,!0)},get size(){return jl(this,!0)},has(s){return Ul.call(this,s,!0)},add:xi("add"),set:xi("set"),delete:xi("delete"),clear:xi("clear"),forEach:Bl(!0,!1)},i={get(s){return Vl(this,s,!0,!0)},get size(){return jl(this,!0)},has(s){return Ul.call(this,s,!0)},add:xi("add"),set:xi("set"),delete:xi("delete"),clear:xi("clear"),forEach:Bl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=ql(s,!1,!1),n[s]=ql(s,!0,!1),t[s]=ql(s,!1,!0),i[s]=ql(s,!0,!0)}),[e,n,t,i]}const[GN,zN,WN,XN]=KN();function gg(e,t){const n=t?e?XN:WN:e?zN:GN;return(i,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(Ze(n,o)&&o in i?n:i,o,s)}const QN={get:gg(!1,!1)},YN={get:gg(!1,!0)},JN={get:gg(!0,!1)},$T=new WeakMap,HT=new WeakMap,KT=new WeakMap,ZN=new WeakMap;function eP(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tP(e){return e.__v_skip||!Object.isExtensible(e)?0:eP(IN(e))}function pi(e){return Ys(e)?e:_g(e,!1,qN,QN,$T)}function GT(e){return _g(e,!1,HN,YN,HT)}function yg(e){return _g(e,!0,$N,JN,KT)}function _g(e,t,n,i,o){if(!mt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=tP(e);if(a===0)return e;const l=new Proxy(e,a===2?i:n);return o.set(e,l),l}function $i(e){return Ys(e)?$i(e.__v_raw):!!(e&&e.__v_isReactive)}function Ys(e){return!!(e&&e.__v_isReadonly)}function bf(e){return!!(e&&e.__v_isShallow)}function zT(e){return $i(e)||Ys(e)}function tt(e){const t=e&&e.__v_raw;return t?tt(t):e}function fh(e){return _f(e,"__v_skip",!0),e}const qa=e=>mt(e)?pi(e):e,wg=e=>mt(e)?yg(e):e;function WT(e){qi&&Tr&&(e=tt(e),UT(e.dep||(e.dep=pg())))}function XT(e,t){e=tt(e);const n=e.dep;n&&fv(n)}function vt(e){return!!(e&&e.__v_isRef===!0)}function kn(e){return YT(e,!1)}function QT(e){return YT(e,!0)}function YT(e,t){return vt(e)?e:new nP(e,t)}class nP{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:tt(t),this._value=n?t:qa(t)}get value(){return WT(this),this._value}set value(t){const n=this.__v_isShallow||bf(t)||Ys(t);t=n?t:tt(t),Ko(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:qa(t),XT(this))}}function et(e){return vt(e)?e.value:e}function st(e){return Me(e)?e():et(e)}const rP={get:(e,t,n)=>et(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return vt(o)&&!vt(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function JT(e){return $i(e)?e:new Proxy(e,rP)}function iP(e){const t=xe(e)?new Array(e.length):{};for(const n in e)t[n]=ZT(e,n);return t}class oP{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return FN(tt(this._object),this._key)}}class sP{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Co(e,t,n){return vt(e)?e:Me(e)?new sP(e):mt(e)&&arguments.length>1?ZT(e,t,n):kn(e)}function ZT(e,t,n){const i=e[t];return vt(i)?i:new oP(e,t,n)}class uP{constructor(t,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new mg(t,()=>{this._dirty||(this._dirty=!0,XT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const t=tt(this);return WT(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function aP(e,t,n=!1){let i,o;const s=Me(e);return s?(i=e,o=zr):(i=e.get,o=e.set),new uP(i,o,s||!o,n)}function Hi(e,t,n,i){let o;try{o=i?e(...i):e()}catch(s){hh(s,t,n)}return o}function kr(e,t,n,i){if(Me(e)){const s=Hi(e,t,n,i);return s&&kT(s)&&s.catch(a=>{hh(a,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(kr(e[s],t,n,i));return o}function hh(e,t,n,i=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,l=n;for(;s;){const p=s.ec;if(p){for(let v=0;v<p.length;v++)if(p[v](e,a,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){Hi(f,null,10,[e,a,l]);return}}cP(e,n,o,i)}function cP(e,t,n,i=!0){console.error(e)}let $a=!1,hv=!1;const mn=[];let Kr=0;const zs=[];let si=null,Ro=0;const eS=Promise.resolve();let bg=null;function Yn(e){const t=bg||eS;return e?t.then(this?e.bind(this):e):t}function lP(e){let t=Kr+1,n=mn.length;for(;t<n;){const i=t+n>>>1,o=mn[i],s=Ha(o);s<e||s===e&&o.pre?t=i+1:n=i}return t}function Ig(e){(!mn.length||!mn.includes(e,$a&&e.allowRecurse?Kr+1:Kr))&&(e.id==null?mn.push(e):mn.splice(lP(e.id),0,e),tS())}function tS(){!$a&&!hv&&(hv=!0,bg=eS.then(rS))}function fP(e){const t=mn.indexOf(e);t>Kr&&mn.splice(t,1)}function hP(e){xe(e)?zs.push(...e):(!si||!si.includes(e,e.allowRecurse?Ro+1:Ro))&&zs.push(e),tS()}function Kb(e,t,n=$a?Kr+1:0){for(;n<mn.length;n++){const i=mn[n];if(i&&i.pre){if(e&&i.id!==e.uid)continue;mn.splice(n,1),n--,i()}}}function nS(e){if(zs.length){const t=[...new Set(zs)];if(zs.length=0,si){si.push(...t);return}for(si=t,si.sort((n,i)=>Ha(n)-Ha(i)),Ro=0;Ro<si.length;Ro++)si[Ro]();si=null,Ro=0}}const Ha=e=>e.id==null?1/0:e.id,dP=(e,t)=>{const n=Ha(e)-Ha(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function rS(e){hv=!1,$a=!0,mn.sort(dP);try{for(Kr=0;Kr<mn.length;Kr++){const t=mn[Kr];t&&t.active!==!1&&Hi(t,null,14)}}finally{Kr=0,mn.length=0,nS(),$a=!1,bg=null,(mn.length||zs.length)&&rS()}}function pP(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||wt;let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in i){const v=`${a==="modelValue"?"model":a}Modifiers`,{number:h,trim:m}=i[v]||wt;m&&(o=n.map(y=>$t(y)?y.trim():y)),h&&(o=n.map(RT))}let l,f=i[l=Nm(t)]||i[l=Nm(Yr(t))];!f&&s&&(f=i[l=Nm(Tu(t))]),f&&kr(f,e,6,o);const p=i[l+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,kr(p,e,6,o)}}function iS(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const s=e.emits;let a={},l=!1;if(!Me(e)){const f=p=>{const v=iS(p,t,!0);v&&(l=!0,ln(a,v))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(mt(e)&&i.set(e,null),null):(xe(s)?s.forEach(f=>a[f]=null):ln(a,s),mt(e)&&i.set(e,a),a)}function dh(e,t){return!e||!oh(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ze(e,t[0].toLowerCase()+t.slice(1))||Ze(e,Tu(t))||Ze(e,t))}let Un=null,oS=null;function If(e){const t=Un;return Un=e,oS=e&&e.type.__scopeId||null,t}function tr(e,t=Un,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&nI(-1);const s=If(t);let a;try{a=e(...o)}finally{If(s),i._d&&nI(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Dm(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[a],slots:l,attrs:f,emit:p,render:v,renderCache:h,data:m,setupState:y,ctx:_,inheritAttrs:I}=e;let E,T;const C=If(e);try{if(n.shapeFlag&4){const M=o||i,J=M;E=Hr(v.call(J,M,h,s,y,m,_)),T=f}else{const M=t;E=Hr(M.length>1?M(s,{attrs:f,slots:l,emit:p}):M(s,null)),T=t.props?f:mP(f)}}catch(M){Na.length=0,hh(M,e,1),E=Ae(zo)}let P=E;if(T&&I!==!1){const M=Object.keys(T),{shapeFlag:J}=P;M.length&&J&7&&(a&&M.some(fg)&&(T=vP(T,a)),P=Zs(P,T))}return n.dirs&&(P=Zs(P),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&(P.transition=n.transition),E=P,If(C),E}const mP=e=>{let t;for(const n in e)(n==="class"||n==="style"||oh(n))&&((t||(t={}))[n]=e[n]);return t},vP=(e,t)=>{const n={};for(const i in e)(!fg(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function gP(e,t,n){const{props:i,children:o,component:s}=e,{props:a,children:l,patchFlag:f}=t,p=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?Gb(i,a,p):!!a;if(f&8){const v=t.dynamicProps;for(let h=0;h<v.length;h++){const m=v[h];if(a[m]!==i[m]&&!dh(p,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?Gb(i,a,p):!0:!!a;return!1}function Gb(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const s=i[o];if(t[s]!==e[s]&&!dh(n,s))return!0}return!1}function yP({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Eg="components";function kt(e,t){return uS(Eg,e,!0,t)||e}const sS=Symbol.for("v-ndc");function Tg(e){return $t(e)?uS(Eg,e,!1)||e:e||sS}function uS(e,t,n=!0,i=!1){const o=Un||Xt;if(o){const s=o.type;if(e===Eg){const l=cD(s,!1);if(l&&(l===t||l===Yr(t)||l===ah(Yr(t))))return s}const a=zb(o[e]||s[e],t)||zb(o.appContext[e],t);return!a&&i?s:a}}function zb(e,t){return e&&(e[t]||e[Yr(t)]||e[ah(Yr(t))])}const _P=e=>e.__isSuspense;function wP(e,t){t&&t.pendingBranch?xe(e)?t.effects.push(...e):t.effects.push(e):hP(e)}function bP(e,t){return Sg(e,null,t)}const $l={};function pr(e,t,n){return Sg(e,t,n)}function Sg(e,t,{immediate:n,deep:i,flush:o,onTrack:s,onTrigger:a}=wt){var l;const f=LT()===((l=Xt)==null?void 0:l.scope)?Xt:null;let p,v=!1,h=!1;if(vt(e)?(p=()=>e.value,v=bf(e)):$i(e)?(p=()=>e,i=!0):xe(e)?(h=!0,v=e.some(M=>$i(M)||bf(M)),p=()=>e.map(M=>{if(vt(M))return M.value;if($i(M))return Po(M);if(Me(M))return Hi(M,f,2)})):Me(e)?t?p=()=>Hi(e,f,2):p=()=>{if(!(f&&f.isUnmounted))return m&&m(),kr(e,f,3,[y])}:p=zr,t&&i){const M=p;p=()=>Po(M())}let m,y=M=>{m=C.onStop=()=>{Hi(M,f,4),m=C.onStop=void 0}},_;if(za)if(y=zr,t?n&&kr(t,f,3,[p(),h?[]:void 0,y]):p(),o==="sync"){const M=hD();_=M.__watcherHandles||(M.__watcherHandles=[])}else return zr;let I=h?new Array(e.length).fill($l):$l;const E=()=>{if(C.active)if(t){const M=C.run();(i||v||(h?M.some((J,V)=>Ko(J,I[V])):Ko(M,I)))&&(m&&m(),kr(t,f,3,[M,I===$l?void 0:h&&I[0]===$l?[]:I,y]),I=M)}else C.run()};E.allowRecurse=!!t;let T;o==="sync"?T=E:o==="post"?T=()=>Fn(E,f&&f.suspense):(E.pre=!0,f&&(E.id=f.uid),T=()=>Ig(E));const C=new mg(p,T);t?n?E():I=C.run():o==="post"?Fn(C.run.bind(C),f&&f.suspense):C.run();const P=()=>{C.stop(),f&&f.scope&&hg(f.scope.effects,C)};return _&&_.push(P),P}function IP(e,t,n){const i=this.proxy,o=$t(e)?e.includes(".")?aS(i,e):()=>i[e]:e.bind(i,i);let s;Me(t)?s=t:(s=t.handler,n=t);const a=Xt;tu(this);const l=Sg(o,s.bind(i),n);return a?tu(a):jo(),l}function aS(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function Po(e,t){if(!mt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),vt(e))Po(e.value,t);else if(xe(e))for(let n=0;n<e.length;n++)Po(e[n],t);else if(sh(e)||Gs(e))e.forEach(n=>{Po(n,t)});else if(CT(e))for(const n in e)Po(e[n],t);return e}function dv(e,t){const n=Un;if(n===null)return e;const i=yh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,l,f,p=wt]=t[s];a&&(Me(a)&&(a={mounted:a,updated:a}),a.deep&&Po(l),o.push({dir:a,instance:i,value:l,oldValue:void 0,arg:f,modifiers:p}))}return e}function So(e,t,n,i){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let f=l.dir[i];f&&(Su(),kr(f,n,8,[e.el,l,e,t]),Au())}}/*! #__NO_SIDE_EFFECTS__ */function mc(e,t){return Me(e)?ln({name:e.name},t,{setup:e}):e}const cf=e=>!!e.type.__asyncLoader,cS=e=>e.type.__isKeepAlive;function EP(e,t){lS(e,"a",t)}function TP(e,t){lS(e,"da",t)}function lS(e,t,n=Xt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(ph(t,i,n),n){let o=n.parent;for(;o&&o.parent;)cS(o.parent.vnode)&&SP(i,t,n,o),o=o.parent}}function SP(e,t,n,i){const o=ph(t,e,i,!0);hS(()=>{hg(i[t],o)},n)}function ph(e,t,n=Xt,i=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Su(),tu(n);const l=kr(t,n,e,a);return jo(),Au(),l});return i?o.unshift(s):o.push(s),s}}const vi=e=>(t,n=Xt)=>(!za||e==="sp")&&ph(e,(...i)=>t(...i),n),AP=vi("bm"),Ag=vi("m"),kP=vi("bu"),xP=vi("u"),fS=vi("bum"),hS=vi("um"),CP=vi("sp"),RP=vi("rtg"),OP=vi("rtc");function NP(e,t=Xt){ph("ec",e,t)}function vc(e,t,n,i){let o;const s=n&&n[i];if(xe(e)||$t(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,s&&s[a])}else if(mt(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const p=a[l];o[l]=t(e[p],p,l,s&&s[l])}}else o=[];return n&&(n[i]=o),o}const pv=e=>e?TS(e)?yh(e)||e.proxy:pv(e.parent):null,Oa=ln(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>pv(e.parent),$root:e=>pv(e.root),$emit:e=>e.emit,$options:e=>kg(e),$forceUpdate:e=>e.f||(e.f=()=>Ig(e.update)),$nextTick:e=>e.n||(e.n=Yn.bind(e.proxy)),$watch:e=>IP.bind(e)}),Lm=(e,t)=>e!==wt&&!e.__isScriptSetup&&Ze(e,t),PP={get({_:e},t){const{ctx:n,setupState:i,data:o,props:s,accessCache:a,type:l,appContext:f}=e;let p;if(t[0]!=="$"){const y=a[t];if(y!==void 0)switch(y){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Lm(i,t))return a[t]=1,i[t];if(o!==wt&&Ze(o,t))return a[t]=2,o[t];if((p=e.propsOptions[0])&&Ze(p,t))return a[t]=3,s[t];if(n!==wt&&Ze(n,t))return a[t]=4,n[t];mv&&(a[t]=0)}}const v=Oa[t];let h,m;if(v)return t==="$attrs"&&qn(e,"get",t),v(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==wt&&Ze(n,t))return a[t]=4,n[t];if(m=f.config.globalProperties,Ze(m,t))return m[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;return Lm(o,t)?(o[t]=n,!0):i!==wt&&Ze(i,t)?(i[t]=n,!0):Ze(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:s}},a){let l;return!!n[a]||e!==wt&&Ze(e,a)||Lm(t,a)||(l=s[0])&&Ze(l,a)||Ze(i,a)||Ze(Oa,a)||Ze(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ze(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Wb(e){return xe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let mv=!0;function DP(e){const t=kg(e),n=e.proxy,i=e.ctx;mv=!1,t.beforeCreate&&Xb(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:l,provide:f,inject:p,created:v,beforeMount:h,mounted:m,beforeUpdate:y,updated:_,activated:I,deactivated:E,beforeDestroy:T,beforeUnmount:C,destroyed:P,unmounted:M,render:J,renderTracked:V,renderTriggered:de,errorCaptured:G,serverPrefetch:Q,expose:x,inheritAttrs:He,components:it,directives:ot,filters:Je}=t;if(p&&LP(p,i,null),a)for(const De in a){const be=a[De];Me(be)&&(i[De]=be.bind(n))}if(o){const De=o.call(n,n);mt(De)&&(e.data=pi(De))}if(mv=!0,s)for(const De in s){const be=s[De],xt=Me(be)?be.bind(n,n):Me(be.get)?be.get.bind(n,n):zr,Pt=!Me(be)&&Me(be.set)?be.set.bind(n):zr,Gt=Fe({get:xt,set:Pt});Object.defineProperty(i,De,{enumerable:!0,configurable:!0,get:()=>Gt.value,set:Ft=>Gt.value=Ft})}if(l)for(const De in l)dS(l[De],i,n,De);if(f){const De=Me(f)?f.call(n):f;Reflect.ownKeys(De).forEach(be=>{Ws(be,De[be])})}v&&Xb(v,e,"c");function se(De,be){xe(be)?be.forEach(xt=>De(xt.bind(n))):be&&De(be.bind(n))}if(se(AP,h),se(Ag,m),se(kP,y),se(xP,_),se(EP,I),se(TP,E),se(NP,G),se(OP,V),se(RP,de),se(fS,C),se(hS,M),se(CP,Q),xe(x))if(x.length){const De=e.exposed||(e.exposed={});x.forEach(be=>{Object.defineProperty(De,be,{get:()=>n[be],set:xt=>n[be]=xt})})}else e.exposed||(e.exposed={});J&&e.render===zr&&(e.render=J),He!=null&&(e.inheritAttrs=He),it&&(e.components=it),ot&&(e.directives=ot)}function LP(e,t,n=zr){xe(e)&&(e=vv(e));for(const i in e){const o=e[i];let s;mt(o)?"default"in o?s=mr(o.from||i,o.default,!0):s=mr(o.from||i):s=mr(o),vt(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[i]=s}}function Xb(e,t,n){kr(xe(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function dS(e,t,n,i){const o=i.includes(".")?aS(n,i):()=>n[i];if($t(e)){const s=t[e];Me(s)&&pr(o,s)}else if(Me(e))pr(o,e.bind(n));else if(mt(e))if(xe(e))e.forEach(s=>dS(s,t,n,i));else{const s=Me(e.handler)?e.handler.bind(n):t[e.handler];Me(s)&&pr(o,s,e)}}function kg(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!i?f=t:(f={},o.length&&o.forEach(p=>Ef(f,p,a,!0)),Ef(f,t,a)),mt(t)&&s.set(t,f),f}function Ef(e,t,n,i=!1){const{mixins:o,extends:s}=t;s&&Ef(e,s,n,!0),o&&o.forEach(a=>Ef(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const l=MP[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const MP={data:Qb,props:Yb,emits:Yb,methods:ka,computed:ka,beforeCreate:Tn,created:Tn,beforeMount:Tn,mounted:Tn,beforeUpdate:Tn,updated:Tn,beforeDestroy:Tn,beforeUnmount:Tn,destroyed:Tn,unmounted:Tn,activated:Tn,deactivated:Tn,errorCaptured:Tn,serverPrefetch:Tn,components:ka,directives:ka,watch:VP,provide:Qb,inject:FP};function Qb(e,t){return t?e?function(){return ln(Me(e)?e.call(this,this):e,Me(t)?t.call(this,this):t)}:t:e}function FP(e,t){return ka(vv(e),vv(t))}function vv(e){if(xe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Tn(e,t){return e?[...new Set([].concat(e,t))]:t}function ka(e,t){return e?ln(Object.create(null),e,t):t}function Yb(e,t){return e?xe(e)&&xe(t)?[...new Set([...e,...t])]:ln(Object.create(null),Wb(e),Wb(t??{})):t}function VP(e,t){if(!e)return t;if(!t)return e;const n=ln(Object.create(null),e);for(const i in t)n[i]=Tn(e[i],t[i]);return n}function pS(){return{app:null,config:{isNativeTag:wN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let UP=0;function jP(e,t){return function(i,o=null){Me(i)||(i=ln({},i)),o!=null&&!mt(o)&&(o=null);const s=pS(),a=new WeakSet;let l=!1;const f=s.app={_uid:UP++,_component:i,_props:o,_container:null,_context:s,_instance:null,version:dD,get config(){return s.config},set config(p){},use(p,...v){return a.has(p)||(p&&Me(p.install)?(a.add(p),p.install(f,...v)):Me(p)&&(a.add(p),p(f,...v))),f},mixin(p){return s.mixins.includes(p)||s.mixins.push(p),f},component(p,v){return v?(s.components[p]=v,f):s.components[p]},directive(p,v){return v?(s.directives[p]=v,f):s.directives[p]},mount(p,v,h){if(!l){const m=Ae(i,o);return m.appContext=s,v&&t?t(m,p):e(m,p,h),l=!0,f._container=p,p.__vue_app__=f,yh(m.component)||m.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(p,v){return s.provides[p]=v,f},runWithContext(p){Ka=f;try{return p()}finally{Ka=null}}};return f}}let Ka=null;function Ws(e,t){if(Xt){let n=Xt.provides;const i=Xt.parent&&Xt.parent.provides;i===n&&(n=Xt.provides=Object.create(i)),n[e]=t}}function mr(e,t,n=!1){const i=Xt||Un;if(i||Ka){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Ka._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Me(t)?t.call(i&&i.proxy):t}}function BP(){return!!(Xt||Un||Ka)}function qP(e,t,n,i=!1){const o={},s={};_f(s,vh,1),e.propsDefaults=Object.create(null),mS(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=i?o:GT(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function $P(e,t,n,i){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,l=tt(o),[f]=e.propsOptions;let p=!1;if((i||a>0)&&!(a&16)){if(a&8){const v=e.vnode.dynamicProps;for(let h=0;h<v.length;h++){let m=v[h];if(dh(e.emitsOptions,m))continue;const y=t[m];if(f)if(Ze(s,m))y!==s[m]&&(s[m]=y,p=!0);else{const _=Yr(m);o[_]=gv(f,l,_,y,e,!1)}else y!==s[m]&&(s[m]=y,p=!0)}}}else{mS(e,t,o,s)&&(p=!0);let v;for(const h in l)(!t||!Ze(t,h)&&((v=Tu(h))===h||!Ze(t,v)))&&(f?n&&(n[h]!==void 0||n[v]!==void 0)&&(o[h]=gv(f,l,h,void 0,e,!0)):delete o[h]);if(s!==l)for(const h in s)(!t||!Ze(t,h))&&(delete s[h],p=!0)}p&&ci(e,"set","$attrs")}function mS(e,t,n,i){const[o,s]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(uf(f))continue;const p=t[f];let v;o&&Ze(o,v=Yr(f))?!s||!s.includes(v)?n[v]=p:(l||(l={}))[v]=p:dh(e.emitsOptions,f)||(!(f in i)||p!==i[f])&&(i[f]=p,a=!0)}if(s){const f=tt(n),p=l||wt;for(let v=0;v<s.length;v++){const h=s[v];n[h]=gv(o,f,h,p[h],e,!Ze(p,h))}}return a}function gv(e,t,n,i,o,s){const a=e[n];if(a!=null){const l=Ze(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&Me(f)){const{propsDefaults:p}=o;n in p?i=p[n]:(tu(o),i=p[n]=f.call(null,t),jo())}else i=f}a[0]&&(s&&!l?i=!1:a[1]&&(i===""||i===Tu(n))&&(i=!0))}return i}function vS(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const s=e.props,a={},l=[];let f=!1;if(!Me(e)){const v=h=>{f=!0;const[m,y]=vS(h,t,!0);ln(a,m),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}if(!s&&!f)return mt(e)&&i.set(e,Ks),Ks;if(xe(s))for(let v=0;v<s.length;v++){const h=Yr(s[v]);Jb(h)&&(a[h]=wt)}else if(s)for(const v in s){const h=Yr(v);if(Jb(h)){const m=s[v],y=a[h]=xe(m)||Me(m)?{type:m}:ln({},m);if(y){const _=tI(Boolean,y.type),I=tI(String,y.type);y[0]=_>-1,y[1]=I<0||_<I,(_>-1||Ze(y,"default"))&&l.push(h)}}}const p=[a,l];return mt(e)&&i.set(e,p),p}function Jb(e){return e[0]!=="$"}function Zb(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function eI(e,t){return Zb(e)===Zb(t)}function tI(e,t){return xe(t)?t.findIndex(n=>eI(n,e)):Me(t)&&eI(t,e)?0:-1}const gS=e=>e[0]==="_"||e==="$stable",xg=e=>xe(e)?e.map(Hr):[Hr(e)],HP=(e,t,n)=>{if(t._n)return t;const i=tr((...o)=>xg(t(...o)),n);return i._c=!1,i},yS=(e,t,n)=>{const i=e._ctx;for(const o in e){if(gS(o))continue;const s=e[o];if(Me(s))t[o]=HP(o,s,i);else if(s!=null){const a=xg(s);t[o]=()=>a}}},_S=(e,t)=>{const n=xg(t);e.slots.default=()=>n},KP=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=tt(t),_f(t,"_",n)):yS(t,e.slots={})}else e.slots={},t&&_S(e,t);_f(e.slots,vh,1)},GP=(e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,a=wt;if(i.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(ln(o,t),!n&&l===1&&delete o._):(s=!t.$stable,yS(t,o)),a=t}else t&&(_S(e,t),a={default:1});if(s)for(const l in o)!gS(l)&&a[l]==null&&delete o[l]};function yv(e,t,n,i,o=!1){if(xe(e)){e.forEach((m,y)=>yv(m,t&&(xe(t)?t[y]:t),n,i,o));return}if(cf(i)&&!o)return;const s=i.shapeFlag&4?yh(i.component)||i.component.proxy:i.el,a=o?null:s,{i:l,r:f}=e,p=t&&t.r,v=l.refs===wt?l.refs={}:l.refs,h=l.setupState;if(p!=null&&p!==f&&($t(p)?(v[p]=null,Ze(h,p)&&(h[p]=null)):vt(p)&&(p.value=null)),Me(f))Hi(f,l,12,[a,v]);else{const m=$t(f),y=vt(f);if(m||y){const _=()=>{if(e.f){const I=m?Ze(h,f)?h[f]:v[f]:f.value;o?xe(I)&&hg(I,s):xe(I)?I.includes(s)||I.push(s):m?(v[f]=[s],Ze(h,f)&&(h[f]=v[f])):(f.value=[s],e.k&&(v[e.k]=f.value))}else m?(v[f]=a,Ze(h,f)&&(h[f]=a)):y&&(f.value=a,e.k&&(v[e.k]=a))};a?(_.id=-1,Fn(_,n)):_()}}}const Fn=wP;function zP(e){return WP(e)}function WP(e,t){const n=av();n.__VUE__=!0;const{insert:i,remove:o,patchProp:s,createElement:a,createText:l,createComment:f,setText:p,setElementText:v,parentNode:h,nextSibling:m,setScopeId:y=zr,insertStaticContent:_}=e,I=(A,k,O,U=null,B=null,z=null,re=!1,Z=null,oe=!!k.dynamicChildren)=>{if(A===k)return;A&&!wa(A,k)&&(U=L(A),Ft(A,B,z,!0),A=null),k.patchFlag===-2&&(oe=!1,k.dynamicChildren=null);const{type:Y,ref:ge,shapeFlag:le}=k;switch(Y){case mh:E(A,k,O,U);break;case zo:T(A,k,O,U);break;case lf:A==null&&C(k,O,U,re);break;case en:it(A,k,O,U,B,z,re,Z,oe);break;default:le&1?J(A,k,O,U,B,z,re,Z,oe):le&6?ot(A,k,O,U,B,z,re,Z,oe):(le&64||le&128)&&Y.process(A,k,O,U,B,z,re,Z,oe,ne)}ge!=null&&B&&yv(ge,A&&A.ref,z,k||A,!k)},E=(A,k,O,U)=>{if(A==null)i(k.el=l(k.children),O,U);else{const B=k.el=A.el;k.children!==A.children&&p(B,k.children)}},T=(A,k,O,U)=>{A==null?i(k.el=f(k.children||""),O,U):k.el=A.el},C=(A,k,O,U)=>{[A.el,A.anchor]=_(A.children,k,O,U,A.el,A.anchor)},P=({el:A,anchor:k},O,U)=>{let B;for(;A&&A!==k;)B=m(A),i(A,O,U),A=B;i(k,O,U)},M=({el:A,anchor:k})=>{let O;for(;A&&A!==k;)O=m(A),o(A),A=O;o(k)},J=(A,k,O,U,B,z,re,Z,oe)=>{re=re||k.type==="svg",A==null?V(k,O,U,B,z,re,Z,oe):Q(A,k,B,z,re,Z,oe)},V=(A,k,O,U,B,z,re,Z)=>{let oe,Y;const{type:ge,props:le,shapeFlag:_e,transition:Re,dirs:Ue}=A;if(oe=A.el=a(A.type,z,le&&le.is,le),_e&8?v(oe,A.children):_e&16&&G(A.children,oe,null,U,B,z&&ge!=="foreignObject",re,Z),Ue&&So(A,null,U,"created"),de(oe,A,A.scopeId,re,U),le){for(const Xe in le)Xe!=="value"&&!uf(Xe)&&s(oe,Xe,null,le[Xe],z,A.children,U,B,ve);"value"in le&&s(oe,"value",null,le.value),(Y=le.onVnodeBeforeMount)&&qr(Y,U,A)}Ue&&So(A,null,U,"beforeMount");const Ie=XP(B,Re);Ie&&Re.beforeEnter(oe),i(oe,k,O),((Y=le&&le.onVnodeMounted)||Ie||Ue)&&Fn(()=>{Y&&qr(Y,U,A),Ie&&Re.enter(oe),Ue&&So(A,null,U,"mounted")},B)},de=(A,k,O,U,B)=>{if(O&&y(A,O),U)for(let z=0;z<U.length;z++)y(A,U[z]);if(B){let z=B.subTree;if(k===z){const re=B.vnode;de(A,re,re.scopeId,re.slotScopeIds,B.parent)}}},G=(A,k,O,U,B,z,re,Z,oe=0)=>{for(let Y=oe;Y<A.length;Y++){const ge=A[Y]=Z?Li(A[Y]):Hr(A[Y]);I(null,ge,k,O,U,B,z,re,Z)}},Q=(A,k,O,U,B,z,re)=>{const Z=k.el=A.el;let{patchFlag:oe,dynamicChildren:Y,dirs:ge}=k;oe|=A.patchFlag&16;const le=A.props||wt,_e=k.props||wt;let Re;O&&Ao(O,!1),(Re=_e.onVnodeBeforeUpdate)&&qr(Re,O,k,A),ge&&So(k,A,O,"beforeUpdate"),O&&Ao(O,!0);const Ue=B&&k.type!=="foreignObject";if(Y?x(A.dynamicChildren,Y,Z,O,U,Ue,z):re||be(A,k,Z,null,O,U,Ue,z,!1),oe>0){if(oe&16)He(Z,k,le,_e,O,U,B);else if(oe&2&&le.class!==_e.class&&s(Z,"class",null,_e.class,B),oe&4&&s(Z,"style",le.style,_e.style,B),oe&8){const Ie=k.dynamicProps;for(let Xe=0;Xe<Ie.length;Xe++){const R=Ie[Xe],N=le[R],K=_e[R];(K!==N||R==="value")&&s(Z,R,N,K,B,A.children,O,U,ve)}}oe&1&&A.children!==k.children&&v(Z,k.children)}else!re&&Y==null&&He(Z,k,le,_e,O,U,B);((Re=_e.onVnodeUpdated)||ge)&&Fn(()=>{Re&&qr(Re,O,k,A),ge&&So(k,A,O,"updated")},U)},x=(A,k,O,U,B,z,re)=>{for(let Z=0;Z<k.length;Z++){const oe=A[Z],Y=k[Z],ge=oe.el&&(oe.type===en||!wa(oe,Y)||oe.shapeFlag&70)?h(oe.el):O;I(oe,Y,ge,null,U,B,z,re,!0)}},He=(A,k,O,U,B,z,re)=>{if(O!==U){if(O!==wt)for(const Z in O)!uf(Z)&&!(Z in U)&&s(A,Z,O[Z],null,re,k.children,B,z,ve);for(const Z in U){if(uf(Z))continue;const oe=U[Z],Y=O[Z];oe!==Y&&Z!=="value"&&s(A,Z,Y,oe,re,k.children,B,z,ve)}"value"in U&&s(A,"value",O.value,U.value)}},it=(A,k,O,U,B,z,re,Z,oe)=>{const Y=k.el=A?A.el:l(""),ge=k.anchor=A?A.anchor:l("");let{patchFlag:le,dynamicChildren:_e,slotScopeIds:Re}=k;Re&&(Z=Z?Z.concat(Re):Re),A==null?(i(Y,O,U),i(ge,O,U),G(k.children,O,ge,B,z,re,Z,oe)):le>0&&le&64&&_e&&A.dynamicChildren?(x(A.dynamicChildren,_e,O,B,z,re,Z),(k.key!=null||B&&k===B.subTree)&&wS(A,k,!0)):be(A,k,O,ge,B,z,re,Z,oe)},ot=(A,k,O,U,B,z,re,Z,oe)=>{k.slotScopeIds=Z,A==null?k.shapeFlag&512?B.ctx.activate(k,O,U,re,oe):Je(k,O,U,B,z,re,oe):We(A,k,oe)},Je=(A,k,O,U,B,z,re)=>{const Z=A.component=iD(A,U,B);if(cS(A)&&(Z.ctx.renderer=ne),oD(Z),Z.asyncDep){if(B&&B.registerDep(Z,se),!A.el){const oe=Z.subTree=Ae(zo);T(null,oe,k,O)}return}se(Z,A,k,O,B,z,re)},We=(A,k,O)=>{const U=k.component=A.component;if(gP(A,k,O))if(U.asyncDep&&!U.asyncResolved){De(U,k,O);return}else U.next=k,fP(U.update),U.update();else k.el=A.el,U.vnode=k},se=(A,k,O,U,B,z,re)=>{const Z=()=>{if(A.isMounted){let{next:ge,bu:le,u:_e,parent:Re,vnode:Ue}=A,Ie=ge,Xe;Ao(A,!1),ge?(ge.el=Ue.el,De(A,ge,re)):ge=Ue,le&&af(le),(Xe=ge.props&&ge.props.onVnodeBeforeUpdate)&&qr(Xe,Re,ge,Ue),Ao(A,!0);const R=Dm(A),N=A.subTree;A.subTree=R,I(N,R,h(N.el),L(N),A,B,z),ge.el=R.el,Ie===null&&yP(A,R.el),_e&&Fn(_e,B),(Xe=ge.props&&ge.props.onVnodeUpdated)&&Fn(()=>qr(Xe,Re,ge,Ue),B)}else{let ge;const{el:le,props:_e}=k,{bm:Re,m:Ue,parent:Ie}=A,Xe=cf(k);if(Ao(A,!1),Re&&af(Re),!Xe&&(ge=_e&&_e.onVnodeBeforeMount)&&qr(ge,Ie,k),Ao(A,!0),le&&Oe){const R=()=>{A.subTree=Dm(A),Oe(le,A.subTree,A,B,null)};Xe?k.type.__asyncLoader().then(()=>!A.isUnmounted&&R()):R()}else{const R=A.subTree=Dm(A);I(null,R,O,U,A,B,z),k.el=R.el}if(Ue&&Fn(Ue,B),!Xe&&(ge=_e&&_e.onVnodeMounted)){const R=k;Fn(()=>qr(ge,Ie,R),B)}(k.shapeFlag&256||Ie&&cf(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&A.a&&Fn(A.a,B),A.isMounted=!0,k=O=U=null}},oe=A.effect=new mg(Z,()=>Ig(Y),A.scope),Y=A.update=()=>oe.run();Y.id=A.uid,Ao(A,!0),Y()},De=(A,k,O)=>{k.component=A;const U=A.vnode.props;A.vnode=k,A.next=null,$P(A,k.props,U,O),GP(A,k.children,O),Su(),Kb(A),Au()},be=(A,k,O,U,B,z,re,Z,oe=!1)=>{const Y=A&&A.children,ge=A?A.shapeFlag:0,le=k.children,{patchFlag:_e,shapeFlag:Re}=k;if(_e>0){if(_e&128){Pt(Y,le,O,U,B,z,re,Z,oe);return}else if(_e&256){xt(Y,le,O,U,B,z,re,Z,oe);return}}Re&8?(ge&16&&ve(Y,B,z),le!==Y&&v(O,le)):ge&16?Re&16?Pt(Y,le,O,U,B,z,re,Z,oe):ve(Y,B,z,!0):(ge&8&&v(O,""),Re&16&&G(le,O,U,B,z,re,Z,oe))},xt=(A,k,O,U,B,z,re,Z,oe)=>{A=A||Ks,k=k||Ks;const Y=A.length,ge=k.length,le=Math.min(Y,ge);let _e;for(_e=0;_e<le;_e++){const Re=k[_e]=oe?Li(k[_e]):Hr(k[_e]);I(A[_e],Re,O,null,B,z,re,Z,oe)}Y>ge?ve(A,B,z,!0,!1,le):G(k,O,U,B,z,re,Z,oe,le)},Pt=(A,k,O,U,B,z,re,Z,oe)=>{let Y=0;const ge=k.length;let le=A.length-1,_e=ge-1;for(;Y<=le&&Y<=_e;){const Re=A[Y],Ue=k[Y]=oe?Li(k[Y]):Hr(k[Y]);if(wa(Re,Ue))I(Re,Ue,O,null,B,z,re,Z,oe);else break;Y++}for(;Y<=le&&Y<=_e;){const Re=A[le],Ue=k[_e]=oe?Li(k[_e]):Hr(k[_e]);if(wa(Re,Ue))I(Re,Ue,O,null,B,z,re,Z,oe);else break;le--,_e--}if(Y>le){if(Y<=_e){const Re=_e+1,Ue=Re<ge?k[Re].el:U;for(;Y<=_e;)I(null,k[Y]=oe?Li(k[Y]):Hr(k[Y]),O,Ue,B,z,re,Z,oe),Y++}}else if(Y>_e)for(;Y<=le;)Ft(A[Y],B,z,!0),Y++;else{const Re=Y,Ue=Y,Ie=new Map;for(Y=Ue;Y<=_e;Y++){const ke=k[Y]=oe?Li(k[Y]):Hr(k[Y]);ke.key!=null&&Ie.set(ke.key,Y)}let Xe,R=0;const N=_e-Ue+1;let K=!1,te=0;const Se=new Array(N);for(Y=0;Y<N;Y++)Se[Y]=0;for(Y=Re;Y<=le;Y++){const ke=A[Y];if(R>=N){Ft(ke,B,z,!0);continue}let Qe;if(ke.key!=null)Qe=Ie.get(ke.key);else for(Xe=Ue;Xe<=_e;Xe++)if(Se[Xe-Ue]===0&&wa(ke,k[Xe])){Qe=Xe;break}Qe===void 0?Ft(ke,B,z,!0):(Se[Qe-Ue]=Y+1,Qe>=te?te=Qe:K=!0,I(ke,k[Qe],O,null,B,z,re,Z,oe),R++)}const me=K?QP(Se):Ks;for(Xe=me.length-1,Y=N-1;Y>=0;Y--){const ke=Ue+Y,Qe=k[ke],Be=ke+1<ge?k[ke+1].el:U;Se[Y]===0?I(null,Qe,O,Be,B,z,re,Z,oe):K&&(Xe<0||Y!==me[Xe]?Gt(Qe,O,Be,2):Xe--)}}},Gt=(A,k,O,U,B=null)=>{const{el:z,type:re,transition:Z,children:oe,shapeFlag:Y}=A;if(Y&6){Gt(A.component.subTree,k,O,U);return}if(Y&128){A.suspense.move(k,O,U);return}if(Y&64){re.move(A,k,O,ne);return}if(re===en){i(z,k,O);for(let le=0;le<oe.length;le++)Gt(oe[le],k,O,U);i(A.anchor,k,O);return}if(re===lf){P(A,k,O);return}if(U!==2&&Y&1&&Z)if(U===0)Z.beforeEnter(z),i(z,k,O),Fn(()=>Z.enter(z),B);else{const{leave:le,delayLeave:_e,afterLeave:Re}=Z,Ue=()=>i(z,k,O),Ie=()=>{le(z,()=>{Ue(),Re&&Re()})};_e?_e(z,Ue,Ie):Ie()}else i(z,k,O)},Ft=(A,k,O,U=!1,B=!1)=>{const{type:z,props:re,ref:Z,children:oe,dynamicChildren:Y,shapeFlag:ge,patchFlag:le,dirs:_e}=A;if(Z!=null&&yv(Z,null,O,A,!0),ge&256){k.ctx.deactivate(A);return}const Re=ge&1&&_e,Ue=!cf(A);let Ie;if(Ue&&(Ie=re&&re.onVnodeBeforeUnmount)&&qr(Ie,k,A),ge&6)fe(A.component,O,U);else{if(ge&128){A.suspense.unmount(O,U);return}Re&&So(A,null,k,"beforeUnmount"),ge&64?A.type.remove(A,k,O,B,ne,U):Y&&(z!==en||le>0&&le&64)?ve(Y,k,O,!1,!0):(z===en&&le&384||!B&&ge&16)&&ve(oe,k,O),U&&yt(A)}(Ue&&(Ie=re&&re.onVnodeUnmounted)||Re)&&Fn(()=>{Ie&&qr(Ie,k,A),Re&&So(A,null,k,"unmounted")},O)},yt=A=>{const{type:k,el:O,anchor:U,transition:B}=A;if(k===en){Gn(O,U);return}if(k===lf){M(A);return}const z=()=>{o(O),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(A.shapeFlag&1&&B&&!B.persisted){const{leave:re,delayLeave:Z}=B,oe=()=>re(O,z);Z?Z(A.el,z,oe):oe()}else z()},Gn=(A,k)=>{let O;for(;A!==k;)O=m(A),o(A),A=O;o(k)},fe=(A,k,O)=>{const{bum:U,scope:B,update:z,subTree:re,um:Z}=A;U&&af(U),B.stop(),z&&(z.active=!1,Ft(re,A,k,O)),Z&&Fn(Z,k),Fn(()=>{A.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},ve=(A,k,O,U=!1,B=!1,z=0)=>{for(let re=z;re<A.length;re++)Ft(A[re],k,O,U,B)},L=A=>A.shapeFlag&6?L(A.component.subTree):A.shapeFlag&128?A.suspense.next():m(A.anchor||A.el),q=(A,k,O)=>{A==null?k._vnode&&Ft(k._vnode,null,null,!0):I(k._vnode||null,A,k,null,null,null,O),Kb(),nS(),k._vnode=A},ne={p:I,um:Ft,m:Gt,r:yt,mt:Je,mc:G,pc:be,pbc:x,n:L,o:e};let ae,Oe;return t&&([ae,Oe]=t(ne)),{render:q,hydrate:ae,createApp:jP(q,ae)}}function Ao({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function XP(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function wS(e,t,n=!1){const i=e.children,o=t.children;if(xe(i)&&xe(o))for(let s=0;s<i.length;s++){const a=i[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Li(o[s]),l.el=a.el),n||wS(a,l)),l.type===mh&&(l.el=a.el)}}function QP(e){const t=e.slice(),n=[0];let i,o,s,a,l;const f=e.length;for(i=0;i<f;i++){const p=e[i];if(p!==0){if(o=n[n.length-1],e[o]<p){t[i]=o,n.push(i);continue}for(s=0,a=n.length-1;s<a;)l=s+a>>1,e[n[l]]<p?s=l+1:a=l;p<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}const YP=e=>e.__isTeleport,en=Symbol.for("v-fgt"),mh=Symbol.for("v-txt"),zo=Symbol.for("v-cmt"),lf=Symbol.for("v-stc"),Na=[];let Sr=null;function ze(e=!1){Na.push(Sr=e?null:[])}function JP(){Na.pop(),Sr=Na[Na.length-1]||null}let Ga=1;function nI(e){Ga+=e}function bS(e){return e.dynamicChildren=Ga>0?Sr||Ks:null,JP(),Ga>0&&Sr&&Sr.push(e),e}function ct(e,t,n,i,o,s){return bS(F(e,t,n,i,o,s,!0))}function Js(e,t,n,i,o){return bS(Ae(e,t,n,i,o,!0))}function _v(e){return e?e.__v_isVNode===!0:!1}function wa(e,t){return e.type===t.type&&e.key===t.key}const vh="__vInternal",IS=({key:e})=>e??null,ff=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?$t(e)||vt(e)||Me(e)?{i:Un,r:e,k:t,f:!!n}:e:null);function F(e,t=null,n=null,i=0,o=null,s=e===en?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&IS(t),ref:t&&ff(t),scopeId:oS,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Un};return l?(Cg(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=$t(n)?8:16),Ga>0&&!a&&Sr&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Sr.push(f),f}const Ae=ZP;function ZP(e,t=null,n=null,i=0,o=null,s=!1){if((!e||e===sS)&&(e=zo),_v(e)){const l=Zs(e,t,!0);return n&&Cg(l,n),Ga>0&&!s&&Sr&&(l.shapeFlag&6?Sr[Sr.indexOf(e)]=l:Sr.push(l)),l.patchFlag|=-2,l}if(lD(e)&&(e=e.__vccOpts),t){t=eD(t);let{class:l,style:f}=t;l&&!$t(l)&&(t.class=vn(l)),mt(f)&&(zT(f)&&!xe(f)&&(f=ln({},f)),t.style=Go(f))}const a=$t(e)?1:_P(e)?128:YP(e)?64:mt(e)?4:Me(e)?2:0;return F(e,t,n,i,o,a,s,!0)}function eD(e){return e?zT(e)||vh in e?ln({},e):e:null}function Zs(e,t,n=!1){const{props:i,ref:o,patchFlag:s,children:a}=e,l=t?ES(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&IS(l),ref:t&&t.ref?n&&o?xe(o)?o.concat(ff(t)):[o,ff(t)]:ff(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==en?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zs(e.ssContent),ssFallback:e.ssFallback&&Zs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ki(e=" ",t=0){return Ae(mh,null,e,t)}function tD(e,t){const n=Ae(lf,null,e);return n.staticCount=t,n}function eu(e="",t=!1){return t?(ze(),Js(zo,null,e)):Ae(zo,null,e)}function Hr(e){return e==null||typeof e=="boolean"?Ae(zo):xe(e)?Ae(en,null,e.slice()):typeof e=="object"?Li(e):Ae(mh,null,String(e))}function Li(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Zs(e)}function Cg(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(xe(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),Cg(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(vh in t)?t._ctx=Un:o===3&&Un&&(Un.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Me(t)?(t={default:t,_ctx:Un},n=32):(t=String(t),i&64?(n=16,t=[Ki(t)]):n=8);e.children=t,e.shapeFlag|=n}function ES(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=vn([t.class,i.class]));else if(o==="style")t.style=Go([t.style,i.style]);else if(oh(o)){const s=t[o],a=i[o];a&&s!==a&&!(xe(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=i[o])}return t}function qr(e,t,n,i=null){kr(e,t,7,[n,i])}const nD=pS();let rD=0;function iD(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||nD,s={uid:rD++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new PT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vS(i,o),emitsOptions:iS(i,o),emit:null,emitted:null,propsDefaults:wt,inheritAttrs:i.inheritAttrs,ctx:wt,data:wt,props:wt,attrs:wt,slots:wt,refs:wt,setupState:wt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=pP.bind(null,s),e.ce&&e.ce(s),s}let Xt=null;const gh=()=>Xt||Un;let Rg,Ps,rI="__VUE_INSTANCE_SETTERS__";(Ps=av()[rI])||(Ps=av()[rI]=[]),Ps.push(e=>Xt=e),Rg=e=>{Ps.length>1?Ps.forEach(t=>t(e)):Ps[0](e)};const tu=e=>{Rg(e),e.scope.on()},jo=()=>{Xt&&Xt.scope.off(),Rg(null)};function TS(e){return e.vnode.shapeFlag&4}let za=!1;function oD(e,t=!1){za=t;const{props:n,children:i}=e.vnode,o=TS(e);qP(e,n,o,t),KP(e,i);const s=o?sD(e,t):void 0;return za=!1,s}function sD(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=fh(new Proxy(e.ctx,PP));const{setup:i}=n;if(i){const o=e.setupContext=i.length>1?aD(e):null;tu(e),Su();const s=Hi(i,e,0,[e.props,o]);if(Au(),jo(),kT(s)){if(s.then(jo,jo),t)return s.then(a=>{iI(e,a,t)}).catch(a=>{hh(a,e,0)});e.asyncDep=s}else iI(e,s,t)}else SS(e,t)}function iI(e,t,n){Me(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:mt(t)&&(e.setupState=JT(t)),SS(e,n)}let oI;function SS(e,t,n){const i=e.type;if(!e.render){if(!t&&oI&&!i.render){const o=i.template||kg(e).template;if(o){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=i,p=ln(ln({isCustomElement:s,delimiters:l},a),f);i.render=oI(o,p)}}e.render=i.render||zr}{tu(e),Su();try{DP(e)}finally{Au(),jo()}}}function uD(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return qn(e,"get","$attrs"),t[n]}}))}function aD(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return uD(e)},slots:e.slots,emit:e.emit,expose:t}}function yh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(JT(fh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Oa)return Oa[n](e)},has(t,n){return n in t||n in Oa}}))}function cD(e,t=!0){return Me(e)?e.displayName||e.name:e.name||t&&e.__name}function lD(e){return Me(e)&&"__vccOpts"in e}const Fe=(e,t)=>aP(e,t,za);function nu(e,t,n){const i=arguments.length;return i===2?mt(t)&&!xe(t)?_v(t)?Ae(e,null,[t]):Ae(e,t):Ae(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&_v(n)&&(n=[n]),Ae(e,t,n))}const fD=Symbol.for("v-scx"),hD=()=>mr(fD),dD="3.3.11",pD="http://www.w3.org/2000/svg",Oo=typeof document<"u"?document:null,sI=Oo&&Oo.createElement("template"),mD={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t?Oo.createElementNS(pD,e):Oo.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>Oo.createTextNode(e),createComment:e=>Oo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Oo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,s){const a=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{sI.innerHTML=i?`<svg>${e}</svg>`:e;const l=sI.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},vD=Symbol("_vtc");function gD(e,t,n){const i=e[vD];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Og=Symbol("_vod"),uI={beforeMount(e,{value:t},{transition:n}){e[Og]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ba(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),ba(e,!0),i.enter(e)):i.leave(e,()=>{ba(e,!1)}):ba(e,t))},beforeUnmount(e,{value:t}){ba(e,t)}};function ba(e,t){e.style.display=t?e[Og]:"none"}function yD(e,t,n){const i=e.style,o=$t(n);if(n&&!o){if(t&&!$t(t))for(const s in t)n[s]==null&&wv(i,s,"");for(const s in n)wv(i,s,n[s])}else{const s=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),Og in e&&(i.display=s)}}const aI=/\s*!important$/;function wv(e,t,n){if(xe(n))n.forEach(i=>wv(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=_D(e,t);aI.test(n)?e.setProperty(Tu(i),n.replace(aI,""),"important"):e[i]=n}}const cI=["Webkit","Moz","ms"],Mm={};function _D(e,t){const n=Mm[t];if(n)return n;let i=Yr(t);if(i!=="filter"&&i in e)return Mm[t]=i;i=ah(i);for(let o=0;o<cI.length;o++){const s=cI[o]+i;if(s in e)return Mm[t]=s}return t}const lI="http://www.w3.org/1999/xlink";function wD(e,t,n,i,o){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(lI,t.slice(6,t.length)):e.setAttributeNS(lI,t,n);else{const s=RN(t);n==null||s&&!OT(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function bD(e,t,n,i,o,s,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,o,s),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const p=l==="OPTION"?e.getAttribute("value"):e.value,v=n??"";p!==v&&(e.value=v),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const p=typeof e[t];p==="boolean"?n=OT(n):n==null&&p==="string"?(n="",f=!0):p==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function AS(e,t,n,i){e.addEventListener(t,n,i)}function ID(e,t,n,i){e.removeEventListener(t,n,i)}const fI=Symbol("_vei");function ED(e,t,n,i,o=null){const s=e[fI]||(e[fI]={}),a=s[t];if(i&&a)a.value=i;else{const[l,f]=TD(t);if(i){const p=s[t]=kD(i,o);AS(e,l,p,f)}else a&&(ID(e,l,a,f),s[t]=void 0)}}const hI=/(?:Once|Passive|Capture)$/;function TD(e){let t;if(hI.test(e)){t={};let i;for(;i=e.match(hI);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Tu(e.slice(2)),t]}let Fm=0;const SD=Promise.resolve(),AD=()=>Fm||(SD.then(()=>Fm=0),Fm=Date.now());function kD(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;kr(xD(i,n.value),t,5,[i])};return n.value=e,n.attached=AD(),n}function xD(e,t){if(xe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const dI=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,CD=(e,t,n,i,o=!1,s,a,l,f)=>{t==="class"?gD(e,i,o):t==="style"?yD(e,n,i):oh(t)?fg(t)||ED(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):RD(e,t,i,o))?bD(e,t,i,s,a,l,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),wD(e,t,i,o))};function RD(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&dI(t)&&Me(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return dI(t)&&$t(n)?!1:t in e}const pI=e=>{const t=e.props["onUpdate:modelValue"]||!1;return xe(t)?n=>af(t,n):t},Vm=Symbol("_assign"),OD={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const o=sh(t);AS(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?RT(Tf(a)):Tf(a));e[Vm](e.multiple?o?new Set(s):s:s[0])}),e[Vm]=pI(i)},mounted(e,{value:t}){mI(e,t)},beforeUpdate(e,t,n){e[Vm]=pI(n)},updated(e,{value:t}){mI(e,t)}};function mI(e,t){const n=e.multiple;if(!(n&&!xe(t)&&!sh(t))){for(let i=0,o=e.options.length;i<o;i++){const s=e.options[i],a=Tf(s);if(n)xe(t)?s.selected=NN(t,a)>-1:s.selected=t.has(a);else if(ch(Tf(s),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Tf(e){return"_value"in e?e._value:e.value}const ND=["ctrl","shift","alt","meta"],PD={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ND.some(n=>e[`${n}Key`]&&!t.includes(n))},Wt=(e,t)=>e._withMods||(e._withMods=(n,...i)=>{for(let o=0;o<t.length;o++){const s=PD[t[o]];if(s&&s(n,t))return}return e(n,...i)}),DD=ln({patchProp:CD},mD);let vI;function LD(){return vI||(vI=zP(DD))}const MD=(...e)=>{const t=LD().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=FD(i);if(!o)return;const s=t._component;!Me(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function FD(e){return $t(e)?document.querySelector(e):e}var VD=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let kS;const _h=e=>kS=e,xS=Symbol();function bv(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Pa;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Pa||(Pa={}));function UD(){const e=DT(!0),t=e.run(()=>kn({}));let n=[],i=[];const o=fh({install(s){_h(o),o._a=s,s.provide(xS,o),s.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(s){return!this._a&&!VD?i.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const CS=()=>{};function gI(e,t,n,i=CS){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!n&&LT()&&DN(o),o}function Ds(e,...t){e.slice().forEach(n=>{n(...t)})}const jD=e=>e();function Iv(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],o=e[n];bv(o)&&bv(i)&&e.hasOwnProperty(n)&&!vt(i)&&!$i(i)?e[n]=Iv(o,i):e[n]=i}return e}const BD=Symbol();function qD(e){return!bv(e)||!e.hasOwnProperty(BD)}const{assign:Pi}=Object;function $D(e){return!!(vt(e)&&e.effect)}function HD(e,t,n,i){const{state:o,actions:s,getters:a}=t,l=n.state.value[e];let f;function p(){l||(n.state.value[e]=o?o():{});const v=iP(n.state.value[e]);return Pi(v,s,Object.keys(a||{}).reduce((h,m)=>(h[m]=fh(Fe(()=>{_h(n);const y=n._s.get(e);return a[m].call(y,y)})),h),{}))}return f=RS(e,p,t,n,i,!0),f}function RS(e,t,n={},i,o,s){let a;const l=Pi({actions:{}},n),f={deep:!0};let p,v,h=[],m=[],y;const _=i.state.value[e];!s&&!_&&(i.state.value[e]={}),kn({});let I;function E(G){let Q;p=v=!1,typeof G=="function"?(G(i.state.value[e]),Q={type:Pa.patchFunction,storeId:e,events:y}):(Iv(i.state.value[e],G),Q={type:Pa.patchObject,payload:G,storeId:e,events:y});const x=I=Symbol();Yn().then(()=>{I===x&&(p=!0)}),v=!0,Ds(h,Q,i.state.value[e])}const T=s?function(){const{state:Q}=n,x=Q?Q():{};this.$patch(He=>{Pi(He,x)})}:CS;function C(){a.stop(),h=[],m=[],i._s.delete(e)}function P(G,Q){return function(){_h(i);const x=Array.from(arguments),He=[],it=[];function ot(se){He.push(se)}function Je(se){it.push(se)}Ds(m,{args:x,name:G,store:J,after:ot,onError:Je});let We;try{We=Q.apply(this&&this.$id===e?this:J,x)}catch(se){throw Ds(it,se),se}return We instanceof Promise?We.then(se=>(Ds(He,se),se)).catch(se=>(Ds(it,se),Promise.reject(se))):(Ds(He,We),We)}}const M={_p:i,$id:e,$onAction:gI.bind(null,m),$patch:E,$reset:T,$subscribe(G,Q={}){const x=gI(h,G,Q.detached,()=>He()),He=a.run(()=>pr(()=>i.state.value[e],it=>{(Q.flush==="sync"?v:p)&&G({storeId:e,type:Pa.direct,events:y},it)},Pi({},f,Q)));return x},$dispose:C},J=pi(M);i._s.set(e,J);const de=(i._a&&i._a.runWithContext||jD)(()=>i._e.run(()=>(a=DT()).run(t)));for(const G in de){const Q=de[G];if(vt(Q)&&!$D(Q)||$i(Q))s||(_&&qD(Q)&&(vt(Q)?Q.value=_[G]:Iv(Q,_[G])),i.state.value[e][G]=Q);else if(typeof Q=="function"){const x=P(G,Q);de[G]=x,l.actions[G]=Q}}return Pi(J,de),Pi(tt(J),de),Object.defineProperty(J,"$state",{get:()=>i.state.value[e],set:G=>{E(Q=>{Pi(Q,G)})}}),i._p.forEach(G=>{Pi(J,a.run(()=>G({store:J,app:i._a,pinia:i,options:l})))}),_&&s&&n.hydrate&&n.hydrate(J.$state,_),p=!0,v=!0,J}function Ng(e,t,n){let i,o;const s=typeof t=="function";typeof e=="string"?(i=e,o=s?n:t):(o=e,i=e.id);function a(l,f){const p=BP();return l=l||(p?mr(xS,null):null),l&&_h(l),l=kS,l._s.has(i)||(s?RS(i,t,o,l):HD(i,o,l)),l._s.get(i)}return a.$id=i,a}let KD="Store";function GD(...e){return e.reduce((t,n)=>(t[n.$id+KD]=function(){return n(this.$pinia)},t),{})}function Sf(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(){return e(this.$pinia)[i]},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(){const o=e(this.$pinia),s=t[i];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function wh(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[i](...o)},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[t[i]](...o)},n),{})}function OS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[i]},set(o){return e(this.$pinia)[i]=o}},n),{}):Object.keys(t).reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[t[i]]},set(o){return e(this.$pinia)[t[i]]=o}},n),{})}const Ev=Ng("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var Tv=function(e,t){return Tv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Tv(e,t)};function Te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Tv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ru=function(){return ru=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ru.apply(this,arguments)};function H(e,t,n,i){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(v){try{p(i.next(v))}catch(h){a(h)}}function f(v){try{p(i.throw(v))}catch(h){a(h)}}function p(v){v.done?s(v.value):o(v.value).then(l,f)}p((i=i.apply(e,t||[])).next())})}function $(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(p){return function(v){return f([p,v])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,p[0]&&(n=0)),n;)try{if(i=1,o&&(s=p[0]&2?o.return:p[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,p[1])).done)return s;switch(o=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(v){p=[6,v],o=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function Um(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function Et(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,s;i<o;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NS=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},zD=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[i++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return t.join("")},WD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var s=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,p=f?e[o+2]:0,v=s>>2,h=(s&3)<<4|l>>4,m=(l&15)<<2|p>>6,y=p&63;f||(y=64,a||(m=64)),i.push(n[v],n[h],n[m],n[y])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(NS(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):zD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var s=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,p=f?n[e.charAt(o)]:64;++o;var v=o<e.length,h=v?n[e.charAt(o)]:64;if(++o,s==null||l==null||p==null||h==null)throw Error();var m=s<<2|l>>4;if(i.push(m),p!==64){var y=l<<4&240|p>>2;if(i.push(y),h!==64){var _=p<<6&192|h;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},XD=function(e){var t=NS(e);return WD.encodeByteArray(t,!0)},yI=function(e){return XD(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(e){return Wa(void 0,e)}function Wa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!YD(i)||(e[i]=Wa(e[i],t[i]));return e}function YD(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JD=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=ru({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[yI(JSON.stringify(n)),yI(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wo())}function DS(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eL(){return typeof self=="object"&&self.self===self}function tL(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function nL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rL(){return Wo().indexOf("Electron/")>=0}function iL(){var e=Wo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function oL(){return Wo().indexOf("MSAppHost/")>=0}function sL(){return!DS()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uL="FirebaseError",LS=function(e){Te(t,e);function t(n,i,o){var s=e.call(this,i)||this;return s.code=n,s.customData=o,s.name=uL,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Pg.prototype.create),s}return t}(Error),Pg=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?aL(a,o):"Error",f=this.serviceName+": "+l+" ("+s+").",p=new LS(s,f,o);return p},e}();function aL(e,t){return e.replace(cL,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}var cL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function lL(e,t){var n=new fL(e,t);return n.subscribe.bind(n)}var fL=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");hL(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=jm),s.error===void 0&&(s.error=jm),s.complete===void 0&&(s.complete=jm);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function hL(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(e){return e&&e._delegate?e._delegate:e}var gc=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new JD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(mL(t))try{this.getOrInitializeService({instanceIdentifier:xo})}catch{}try{for(var o=Um(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var a=Hl(s.value,2),l=a[0],f=a[1],p=this.normalizeInstanceIdentifier(l);try{var v=this.getOrInitializeService({instanceIdentifier:p});f.resolve(v)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=xo),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Et(Et([],Hl(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),Hl(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=xo),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=xo),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var f=Um(this.instancesDeferred.entries()),p=f.next();!p.done;p=f.next()){var v=Hl(p.value,2),h=v[0],m=v[1],y=this.normalizeInstanceIdentifier(h);a===y&&m.resolve(l)}}catch(_){n={error:_}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(o,s);var a=this.instances.get(o);return a&&t(a,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,s=this.onInitCallbacks.get(n);if(s)try{for(var a=Um(s),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(p){i={error:p}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pL(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=xo),this.component?this.component.multipleInstances?t:xo:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function pL(e){return e===xo?void 0:e}function mL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new dL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Er(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,o++)i[o]=s[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ko,Dg=[],rt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(rt||(rt={}));var MS={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},gL=rt.INFO,yL=(ko={},ko[rt.DEBUG]="log",ko[rt.VERBOSE]="log",ko[rt.INFO]="info",ko[rt.WARN]="warn",ko[rt.ERROR]="error",ko),_L=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=yL[t];if(s)console[s].apply(console,Er(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},FS=function(){function e(t){this.name=t,this._logLevel=gL,this._logHandler=_L,this._userLogHandler=null,Dg.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in rt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?MS[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,rt.DEBUG],t)),this._logHandler.apply(this,Er([this,rt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,rt.VERBOSE],t)),this._logHandler.apply(this,Er([this,rt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,rt.INFO],t)),this._logHandler.apply(this,Er([this,rt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,rt.WARN],t)),this._logHandler.apply(this,Er([this,rt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,rt.ERROR],t)),this._logHandler.apply(this,Er([this,rt.ERROR],t))},e}();function wL(e){Dg.forEach(function(t){t.setLogLevel(e)})}function bL(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=MS[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,p){for(var v=[],h=2;h<arguments.length;h++)v[h-2]=arguments[h];var m=v.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");p>=(l??f.logLevel)&&e({level:rt[p].toLowerCase(),message:m,args:v,type:f.name})}},i=0,o=Dg;i<o.length;i++){var s=o[i];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci,IL=(Ci={},Ci["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ci["bad-app-name"]="Illegal App name: '{$appName}",Ci["duplicate-app"]="Firebase App named '{$appName}' already exists",Ci["app-deleted"]="Firebase App named '{$appName}' already deleted",Ci["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ci["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ci),Us=new Pg("app","Firebase",IL),VS="@firebase/app",EL="0.6.30",TL="@firebase/analytics",SL="@firebase/app-check",AL="@firebase/auth",kL="@firebase/database",xL="@firebase/functions",CL="@firebase/installations",RL="@firebase/messaging",OL="@firebase/performance",NL="@firebase/remote-config",PL="@firebase/storage",DL="@firebase/firestore",LL="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,Af="[DEFAULT]",ML=(hn={},hn[VS]="fire-core",hn[TL]="fire-analytics",hn[SL]="fire-app-check",hn[AL]="fire-auth",hn[kL]="fire-rtdb",hn[xL]="fire-fn",hn[CL]="fire-iid",hn[RL]="fire-fcm",hn[OL]="fire-perf",hn[NL]="fire-rc",hn[PL]="fire-gcs",hn[DL]="fire-fst",hn["fire-js"]="fire-js",hn[LL]="fire-js-all",hn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iu=new FS("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hf=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=QD(t),this.container=new vL(n.name),this._addComponent(new gc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=Af),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Af),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){iu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Us.create("app-deleted",{appName:this.name_})},e}();hf.prototype.name&&hf.prototype.options||hf.prototype.delete||console.log("dc");var FL="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(e){var t={},n=new Map,i={__esModule:!0,initializeApp:a,app:s,registerVersion:p,setLogLevel:wL,onLog:v,apps:null,SDK_VERSION:FL,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:h}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(m){delete t[m]}function s(m){if(m=m||Af,!_I(t,m))throw Us.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var _=y;y={name:_}}var I=y;I.name===void 0&&(I.name=Af);var E=I.name;if(typeof E!="string"||!E)throw Us.create("bad-app-name",{appName:String(E)});if(_I(t,E))throw Us.create("duplicate-app",{appName:E});var T=new e(m,I,i);return t[E]=T,T}function l(){return Object.keys(t).map(function(m){return t[m]})}function f(m){var y=m.name;if(n.has(y))return iu.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?i[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var _=function(C){if(C===void 0&&(C=s()),typeof C[y]!="function")throw Us.create("invalid-app-argument",{appName:y});return C[y]()};m.serviceProps!==void 0&&Wa(_,m.serviceProps),i[y]=_,e.prototype[y]=function(){for(var C=[],P=0;P<arguments.length;P++)C[P]=arguments[P];var M=this._getService.bind(this,y);return M.apply(this,m.multipleInstances?C:[])}}for(var I=0,E=Object.keys(t);I<E.length;I++){var T=E[I];t[T]._addComponent(m)}return m.type==="PUBLIC"?i[y]:null}function p(m,y,_){var I,E=(I=ML[m])!==null&&I!==void 0?I:m;_&&(E+="-"+_);var T=E.match(/\s|\//),C=y.match(/\s|\//);if(T||C){var P=['Unable to register library "'+E+'" with version "'+y+'":'];T&&P.push('library name "'+E+'" contains illegal characters (whitespace or "/")'),T&&C&&P.push("and"),C&&P.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),iu.warn(P.join(" "));return}f(new gc(E+"-version",function(){return{library:E,version:y}},"VERSION"))}function v(m,y){if(m!==null&&typeof m!="function")throw Us.create("invalid-log-argument");bL(m,y)}function h(m,y){if(y==="serverAuth")return null;var _=y;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){var e=VL(hf);e.INTERNAL=ru(ru({},e.INTERNAL),{createFirebaseNamespace:US,extendNamespace:t,createSubscribe:lL,ErrorFactory:Pg,deepExtend:Wa});function t(n){Wa(e,n)}return e}var Lg=US();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UL=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(jL(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();function jL(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(e,t){e.INTERNAL.registerComponent(new gc("platform-logger",function(n){return new UL(n)},"PRIVATE")),e.registerVersion(VS,EL,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(eL()&&self.firebase!==void 0){iu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var wI=self.firebase.SDK_VERSION;wI&&wI.indexOf("LITE")>=0&&iu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var qL=Lg.initializeApp;Lg.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return DS()&&iu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),qL.apply(void 0,e)};var Ce=Lg;BL(Ce);var $L="firebase",jS="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ce.registerVersion($L,jS,"app");Ce.SDK_VERSION=jS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,u,c){r!=Array.prototype&&r!=Object.prototype&&(r[u]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var u=0;u<r.length;++u){var c=r[u];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,u){if(u){var c=i;r=r.split(".");for(var d=0;d<r.length-1;d++){var g=r[d];g in c||(c[g]={}),c=c[g]}r=r[r.length-1],d=c[r],u=u(d),u!=d&&u!=null&&t(c,r,{configurable:!0,writable:!0,value:u})}}function s(r){var u=0;return function(){return u<r.length?{done:!1,value:r[u++]}:{done:!0}}}function a(r){var u=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return u?u.call(r):{next:s(r)}}o("Promise",function(r){function u(b){this.b=0,this.c=void 0,this.a=[];var S=this.f();try{b(S.resolve,S.reject)}catch(j){S.reject(j)}}function c(){this.a=null}function d(b){return b instanceof u?b:new u(function(S){S(b)})}if(r)return r;c.prototype.b=function(b){if(this.a==null){this.a=[];var S=this;this.c(function(){S.g()})}this.a.push(b)};var g=i.setTimeout;c.prototype.c=function(b){g(b,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var S=0;S<b.length;++S){var j=b[S];b[S]=null;try{j()}catch(W){this.f(W)}}}this.a=null},c.prototype.f=function(b){this.c(function(){throw b})},u.prototype.f=function(){function b(W){return function(Pe){j||(j=!0,W.call(S,Pe))}}var S=this,j=!1;return{resolve:b(this.m),reject:b(this.g)}},u.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof u)this.s(b);else{e:switch(typeof b){case"object":var S=b!=null;break e;case"function":S=!0;break e;default:S=!1}S?this.v(b):this.h(b)}},u.prototype.v=function(b){var S=void 0;try{S=b.then}catch(j){this.g(j);return}typeof S=="function"?this.u(S,b):this.h(b)},u.prototype.g=function(b){this.i(2,b)},u.prototype.h=function(b){this.i(1,b)},u.prototype.i=function(b,S){if(this.b!=0)throw Error("Cannot settle("+b+", "+S+"): Promise already settled in state"+this.b);this.b=b,this.c=S,this.l()},u.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)w.b(this.a[b]);this.a=null}};var w=new c;return u.prototype.s=function(b){var S=this.f();b.Ra(S.resolve,S.reject)},u.prototype.u=function(b,S){var j=this.f();try{b.call(S,j.resolve,j.reject)}catch(W){j.reject(W)}},u.prototype.then=function(b,S){function j(nt,Jt){return typeof nt=="function"?function(ii){try{W(nt(ii))}catch(Om){Pe(Om)}}:Jt}var W,Pe,lt=new u(function(nt,Jt){W=nt,Pe=Jt});return this.Ra(j(b,W),j(S,Pe)),lt},u.prototype.catch=function(b){return this.then(void 0,b)},u.prototype.Ra=function(b,S){function j(){switch(W.b){case 1:b(W.c);break;case 2:S(W.c);break;default:throw Error("Unexpected state: "+W.b)}}var W=this;this.a==null?w.b(j):this.a.push(j)},u.resolve=d,u.reject=function(b){return new u(function(S,j){j(b)})},u.race=function(b){return new u(function(S,j){for(var W=a(b),Pe=W.next();!Pe.done;Pe=W.next())d(Pe.value).Ra(S,j)})},u.all=function(b){var S=a(b),j=S.next();return j.done?d([]):new u(function(W,Pe){function lt(ii){return function(Om){nt[ii]=Om,Jt--,Jt==0&&W(nt)}}var nt=[],Jt=0;do nt.push(void 0),Jt++,d(j.value).Ra(lt(nt.length-1),Pe),j=S.next();while(!j.done)})},u});var l=l||{},f=this||self,p=/^[\w+/_-]+[=]{0,2}$/,v=null;function h(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&p.test(r)?r:""}function m(){}function y(r){var u=typeof r;return u!="object"?u:r?Array.isArray(r)?"array":u:"null"}function _(r){var u=y(r);return u=="array"||u=="object"&&typeof r.length=="number"}function I(r){return y(r)=="function"}function E(r){var u=typeof r;return u=="object"&&r!=null||u=="function"}function T(r){return Object.prototype.hasOwnProperty.call(r,C)&&r[C]||(r[C]=++P)}var C="closure_uid_"+(1e9*Math.random()>>>0),P=0;function M(r,u,c){return r.call.apply(r.bind,arguments)}function J(r,u,c){if(!r)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,d),r.apply(u,g)}}return function(){return r.apply(u,arguments)}}function V(r,u,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?V=M:V=J,V.apply(null,arguments)}function de(r,u){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),r.apply(this,d)}}function G(r,u){function c(){}c.prototype=u.prototype,r.bb=u.prototype,r.prototype=new c,r.prototype.constructor=r}function Q(r){return r}function x(r,u,c){this.code=it+r,this.message=u||ot[r]||"",this.a=c||null}G(x,Error),x.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},x.prototype.toJSON=function(){return this.w()};function He(r){var u=r&&r.code;return u?new x(u.substring(it.length),r.message,r.serverResponse):null}var it="auth/",ot={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Je={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function We(r){for(var u in Je)if(Je[u].id===r)return r=Je[u],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var se;se=We("__EID__")?"__EID__":void 0;function De(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function be(r){if(Error.captureStackTrace)Error.captureStackTrace(this,be);else{var u=Error().stack;u&&(this.stack=u)}r&&(this.message=String(r))}G(be,Error),be.prototype.name="CustomError";function xt(r,u){r=r.split("%s");for(var c="",d=r.length-1,g=0;g<d;g++)c+=r[g]+(g<u.length?u[g]:"%s");be.call(this,c+r[d])}G(xt,be),xt.prototype.name="AssertionError";function Pt(r,u){throw new xt("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function Gt(r,u){this.c=r,this.f=u,this.b=0,this.a=null}Gt.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Ft(r,u){r.f(u),100>r.b&&(r.b++,u.next=r.a,r.a=u)}function yt(){this.b=this.a=null}var Gn=new Gt(function(){return new ve},function(r){r.reset()});yt.prototype.add=function(r,u){var c=Gn.get();c.set(r,u),this.b?this.b.next=c:this.a=c,this.b=c};function fe(){var r=b_,u=null;return r.a&&(u=r.a,r.a=r.a.next,r.a||(r.b=null),u.next=null),u}function ve(){this.next=this.b=this.a=null}ve.prototype.set=function(r,u){this.a=r,this.b=u,this.next=null},ve.prototype.reset=function(){this.next=this.b=this.a=null};var L=Array.prototype.indexOf?function(r,u){return Array.prototype.indexOf.call(r,u,void 0)}:function(r,u){if(typeof r=="string")return typeof u!="string"||u.length!=1?-1:r.indexOf(u,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===u)return c;return-1},q=Array.prototype.forEach?function(r,u,c){Array.prototype.forEach.call(r,u,c)}:function(r,u,c){for(var d=r.length,g=typeof r=="string"?r.split(""):r,w=0;w<d;w++)w in g&&u.call(c,g[w],w,r)};function ne(r,u){for(var c=typeof r=="string"?r.split(""):r,d=r.length-1;0<=d;--d)d in c&&u.call(void 0,c[d],d,r)}var ae=Array.prototype.filter?function(r,u){return Array.prototype.filter.call(r,u,void 0)}:function(r,u){for(var c=r.length,d=[],g=0,w=typeof r=="string"?r.split(""):r,b=0;b<c;b++)if(b in w){var S=w[b];u.call(void 0,S,b,r)&&(d[g++]=S)}return d},Oe=Array.prototype.map?function(r,u){return Array.prototype.map.call(r,u,void 0)}:function(r,u){for(var c=r.length,d=Array(c),g=typeof r=="string"?r.split(""):r,w=0;w<c;w++)w in g&&(d[w]=u.call(void 0,g[w],w,r));return d},A=Array.prototype.some?function(r,u){return Array.prototype.some.call(r,u,void 0)}:function(r,u){for(var c=r.length,d=typeof r=="string"?r.split(""):r,g=0;g<c;g++)if(g in d&&u.call(void 0,d[g],g,r))return!0;return!1};function k(r){e:{for(var u=ZC,c=r.length,d=typeof r=="string"?r.split(""):r,g=0;g<c;g++)if(g in d&&u.call(void 0,d[g],g,r)){u=g;break e}u=-1}return 0>u?null:typeof r=="string"?r.charAt(u):r[u]}function O(r,u){return 0<=L(r,u)}function U(r,u){u=L(r,u);var c;return(c=0<=u)&&Array.prototype.splice.call(r,u,1),c}function B(r,u){var c=0;ne(r,function(d,g){u.call(void 0,d,g,r)&&Array.prototype.splice.call(r,g,1).length==1&&c++})}function z(r){return Array.prototype.concat.apply([],arguments)}function re(r){var u=r.length;if(0<u){for(var c=Array(u),d=0;d<u;d++)c[d]=r[d];return c}return[]}var Z=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},oe=/&/g,Y=/</g,ge=/>/g,le=/"/g,_e=/'/g,Re=/\x00/g,Ue=/[\x00&<>"']/;function Ie(r,u){return r.indexOf(u)!=-1}function Xe(r,u){return r<u?-1:r>u?1:0}var R;e:{var N=f.navigator;if(N){var K=N.userAgent;if(K){R=K;break e}}R=""}function te(r){return Ie(R,r)}function Se(r,u){for(var c in r)u.call(void 0,r[c],c,r)}function me(r){for(var u in r)return!1;return!0}function ke(r){var u={},c;for(c in r)u[c]=r[c];return u}var Qe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Be(r,u){for(var c,d,g=1;g<arguments.length;g++){d=arguments[g];for(c in d)r[c]=d[c];for(var w=0;w<Qe.length;w++)c=Qe[w],Object.prototype.hasOwnProperty.call(d,c)&&(r[c]=d[c])}}function nn(r,u){e:{try{var c=r&&r.ownerDocument,d=c&&(c.defaultView||c.parentWindow);if(d=d||f,d.Element&&d.Location){var g=d;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!r||!(r instanceof g[u])&&(r instanceof g.Location||r instanceof g.Element))){if(E(r))try{var w=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{w="<object could not be stringified>"}else w=r===void 0?"undefined":r===null?"null":typeof r;Pt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,w)}}function qe(r,u){this.a=r===Pr&&u||"",this.b=Rt}qe.prototype.ta=!0,qe.prototype.sa=function(){return this.a},qe.prototype.toString=function(){return"Const{"+this.a+"}"};function Ct(r){return r instanceof qe&&r.constructor===qe&&r.b===Rt?r.a:(Pt("expected object of type Const, got '"+r+"'"),"type_error:Const")}var Rt={},Pr={},_i;function Fu(){if(_i===void 0){var r=null,u=f.trustedTypes;if(u&&u.createPolicy){try{r=u.createPolicy("goog#html",{createHTML:Q,createScript:Q,createScriptURL:Q})}catch(c){f.console&&f.console.error(c.message)}_i=r}else _i=r}return _i}function Dr(r,u){this.a=u===o_?r:""}Dr.prototype.ta=!0,Dr.prototype.sa=function(){return this.a.toString()},Dr.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function ls(r){return r instanceof Dr&&r.constructor===Dr?r.a:(Pt("expected object of type TrustedResourceUrl, got '"+r+"' of type "+y(r)),"type_error:TrustedResourceUrl")}function od(r,u){var c=Ct(r);if(!Cx.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(xx,function(d,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(u));return d=u[g],d instanceof qe?Ct(d):encodeURIComponent(String(d))}),Rx(r)}var xx=/%{(\w+)}/g,Cx=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,o_={};function Rx(r){var u=Fu();return r=u?u.createScriptURL(r):r,new Dr(r,o_)}function Pn(r,u){this.a=u===Vu?r:""}Pn.prototype.ta=!0,Pn.prototype.sa=function(){return this.a.toString()},Pn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Uc(r){return r instanceof Pn&&r.constructor===Pn?r.a:(Pt("expected object of type SafeUrl, got '"+r+"' of type "+y(r)),"type_error:SafeUrl")}var Ox=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Nx=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,s_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function u_(r){if(r instanceof Pn)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),s_.test(r))r=new Pn(r,Vu);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var u=r.match(Nx);r=u&&Ox.test(u[1])?new Pn(r,Vu):null}return r}function a_(r){return r instanceof Pn?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),s_.test(r)||(r="about:invalid#zClosurez"),new Pn(r,Vu))}var Vu={},c_=new Pn("about:invalid#zClosurez",Vu);function fs(r,u,c){this.a=c===l_?r:""}fs.prototype.ta=!0,fs.prototype.sa=function(){return this.a.toString()},fs.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Px(r){return r instanceof fs&&r.constructor===fs?r.a:(Pt("expected object of type SafeHtml, got '"+r+"' of type "+y(r)),"type_error:SafeHtml")}var l_={};function Dx(r,u){nn(r,"HTMLScriptElement"),r.src=ls(u),(u=r.ownerDocument&&r.ownerDocument.defaultView)&&u!=f?u=h(u.document):(v===null&&(v=h(f.document)),u=v),u&&r.setAttribute("nonce",u)}function f_(r,u,c,d){return r=r instanceof Pn?r:a_(r),u=u||f,c=c instanceof qe?Ct(c):c||"",u.open(Uc(r),c,d,void 0)}function h_(r,u){for(var c=r.split("%s"),d="",g=Array.prototype.slice.call(arguments,1);g.length&&1<c.length;)d+=c.shift()+g.shift();return d+c.join("%s")}function sd(r){return Ue.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(oe,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(Y,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(ge,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(le,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(_e,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(Re,"&#0;"))),r}function ud(r){return ud[" "](r),r}ud[" "]=m;function Lx(r,u){var c=Ux;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=u(r)}var Mx=te("Opera"),vr=te("Trident")||te("MSIE"),d_=te("Edge"),Fx=d_||vr,p_=te("Gecko")&&!(Ie(R.toLowerCase(),"webkit")&&!te("Edge"))&&!(te("Trident")||te("MSIE"))&&!te("Edge"),Vx=Ie(R.toLowerCase(),"webkit")&&!te("Edge");function m_(){var r=f.document;return r?r.documentMode:void 0}var jc;e:{var ad="",cd=function(){var r=R;if(p_)return/rv:([^\);]+)(\)|;)/.exec(r);if(d_)return/Edge\/([\d\.]+)/.exec(r);if(vr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(Vx)return/WebKit\/(\S+)/.exec(r);if(Mx)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(cd&&(ad=cd?cd[1]:""),vr){var ld=m_();if(ld!=null&&ld>parseFloat(ad)){jc=String(ld);break e}}jc=ad}var Ux={};function v_(r){return Lx(r,function(){for(var u=0,c=Z(String(jc)).split("."),d=Z(String(r)).split("."),g=Math.max(c.length,d.length),w=0;u==0&&w<g;w++){var b=c[w]||"",S=d[w]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],b[0].length==0&&S[0].length==0)break;u=Xe(b[1].length==0?0:parseInt(b[1],10),S[1].length==0?0:parseInt(S[1],10))||Xe(b[2].length==0,S[2].length==0)||Xe(b[2],S[2]),b=b[3],S=S[3]}while(u==0)}return 0<=u})}var fd;if(f.document&&vr){var g_=m_();fd=g_||parseInt(jc,10)||void 0}else fd=void 0;var wi=fd;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var jx=!vr||9<=Number(wi);function Uu(r){var u=document;return typeof r=="string"?u.getElementById(r):r}function y_(r,u){Se(u,function(c,d){c&&typeof c=="object"&&c.ta&&(c=c.sa()),d=="style"?r.style.cssText=c:d=="class"?r.className=c:d=="for"?r.htmlFor=c:__.hasOwnProperty(d)?r.setAttribute(__[d],c):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?r.setAttribute(d,c):r[d]=c})}var __={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Bx(r,u,c){var d=arguments,g=document,w=String(d[0]),b=d[1];if(!jx&&b&&(b.name||b.type)){if(w=["<",w],b.name&&w.push(' name="',sd(b.name),'"'),b.type){w.push(' type="',sd(b.type),'"');var S={};Be(S,b),delete S.type,b=S}w.push(">"),w=w.join("")}return w=Bc(g,w),b&&(typeof b=="string"?w.className=b:Array.isArray(b)?w.className=b.join(" "):y_(w,b)),2<d.length&&qx(g,w,d),w}function qx(r,u,c){function d(S){S&&u.appendChild(typeof S=="string"?r.createTextNode(S):S)}for(var g=2;g<c.length;g++){var w=c[g];if(!_(w)||E(w)&&0<w.nodeType)d(w);else{e:{if(w&&typeof w.length=="number"){if(E(w)){var b=typeof w.item=="function"||typeof w.item=="string";break e}if(I(w)){b=typeof w.item=="function";break e}}b=!1}q(b?re(w):w,d)}}}function Bc(r,u){return u=String(u),r.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),r.createElement(u)}function w_(r){f.setTimeout(function(){throw r},0)}var hd;function $x(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!te("Presto")&&(r=function(){var g=Bc(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var w=g.contentWindow;g=w.document,g.open(),g.close();var b="callImmediate"+Math.random(),S=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;g=V(function(j){(S=="*"||j.origin==S)&&j.data==b&&this.port1.onmessage()},this),w.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(b,S)}}}),typeof r<"u"&&!te("Trident")&&!te("MSIE")){var u=new r,c={},d=c;return u.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var g=c.Hb;c.Hb=null,g()}},function(g){d.next={Hb:g},d=d.next,u.port2.postMessage(0)}}return function(g){f.setTimeout(g,0)}}function qc(r,u){$c||Hx(),dd||($c(),dd=!0),b_.add(r,u)}var $c;function Hx(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);$c=function(){r.then(I_)}}else $c=function(){var u=I_;!I(f.setImmediate)||f.Window&&f.Window.prototype&&!te("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(hd||(hd=$x()),hd(u)):f.setImmediate(u)}}var dd=!1,b_=new yt;function I_(){for(var r;r=fe();){try{r.a.call(r.b)}catch(u){w_(u)}Ft(Gn,r)}dd=!1}function $e(r,u){if(this.a=oo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=m)try{var c=this;r.call(u,function(d){so(c,ju,d)},function(d){if(!(d instanceof hs))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}so(c,ei,d)})}catch(d){so(this,ei,d)}}var oo=0,ju=2,ei=3;function E_(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}E_.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var T_=new Gt(function(){return new E_},function(r){r.reset()});function pd(r,u,c){var d=T_.get();return d.g=r,d.b=u,d.f=c,d}function Ee(r){if(r instanceof $e)return r;var u=new $e(m);return so(u,ju,r),u}function bt(r){return new $e(function(u,c){c(r)})}function S_(r,u,c){C_(r,u,c,null)||qc(de(u,r))}function Kx(r){return new $e(function(u,c){var d=r.length,g=[];if(d)for(var w=function(W,Pe){d--,g[W]=Pe,d==0&&u(g)},b=function(W){c(W)},S=0,j;S<r.length;S++)j=r[S],S_(j,de(w,S),b);else u(g)})}function A_(r){return new $e(function(u){var c=r.length,d=[];if(c)for(var g=function(S,j,W){c--,d[S]=j?{Qb:!0,value:W}:{Qb:!1,reason:W},c==0&&u(d)},w=0,b;w<r.length;w++)b=r[w],S_(b,de(g,w,!0),de(g,w,!1));else u(d)})}$e.prototype.then=function(r,u,c){return x_(this,I(r)?r:null,I(u)?u:null,c)},$e.prototype.$goog_Thenable=!0,e=$e.prototype,e.oa=function(r,u){return r=pd(r,r,u),r.c=!0,md(this,r),this},e.o=function(r,u){return x_(this,null,r,u)},e.cancel=function(r){if(this.a==oo){var u=new hs(r);qc(function(){k_(this,u)},this)}};function k_(r,u){if(r.a==oo)if(r.c){var c=r.c;if(c.b){for(var d=0,g=null,w=null,b=c.b;b&&(b.c||(d++,b.a==r&&(g=b),!(g&&1<d)));b=b.next)g||(w=b);g&&(c.a==oo&&d==1?k_(c,u):(w?(d=w,d.next==c.f&&(c.f=d),d.next=d.next.next):O_(c),N_(c,g,ei,u)))}r.c=null}else so(r,ei,u)}function md(r,u){r.b||r.a!=ju&&r.a!=ei||R_(r),r.f?r.f.next=u:r.b=u,r.f=u}function x_(r,u,c,d){var g=pd(null,null,null);return g.a=new $e(function(w,b){g.g=u?function(S){try{var j=u.call(d,S);w(j)}catch(W){b(W)}}:w,g.b=c?function(S){try{var j=c.call(d,S);j===void 0&&S instanceof hs?b(S):w(j)}catch(W){b(W)}}:b}),g.a.c=r,md(r,g),g.a}e.$c=function(r){this.a=oo,so(this,ju,r)},e.ad=function(r){this.a=oo,so(this,ei,r)};function so(r,u,c){r.a==oo&&(r===c&&(u=ei,c=new TypeError("Promise cannot resolve to itself")),r.a=1,C_(c,r.$c,r.ad,r)||(r.i=c,r.a=u,r.c=null,R_(r),u!=ei||c instanceof hs||zx(r,c)))}function C_(r,u,c,d){if(r instanceof $e)return md(r,pd(u||m,c||null,d)),!0;if(De(r))return r.then(u,c,d),!0;if(E(r))try{var g=r.then;if(I(g))return Gx(r,g,u,c,d),!0}catch(w){return c.call(d,w),!0}return!1}function Gx(r,u,c,d,g){function w(j){S||(S=!0,d.call(g,j))}function b(j){S||(S=!0,c.call(g,j))}var S=!1;try{u.call(r,b,w)}catch(j){w(j)}}function R_(r){r.h||(r.h=!0,qc(r.gc,r))}function O_(r){var u=null;return r.b&&(u=r.b,r.b=u.next,u.next=null),r.b||(r.f=null),u}e.gc=function(){for(var r;r=O_(this);)N_(this,r,this.a,this.i);this.h=!1};function N_(r,u,c,d){if(c==ei&&u.b&&!u.c)for(;r&&r.g;r=r.c)r.g=!1;if(u.a)u.a.c=null,P_(u,c,d);else try{u.c?u.g.call(u.f):P_(u,c,d)}catch(g){D_.call(null,g)}Ft(T_,u)}function P_(r,u,c){u==ju?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function zx(r,u){r.g=!0,qc(function(){r.g&&D_.call(null,u)})}var D_=w_;function hs(r){be.call(this,r)}G(hs,be),hs.prototype.name="cancel";function Hc(){this.ya=this.ya,this.pa=this.pa}var Wx=0;Hc.prototype.ya=!1;function L_(r){!r.ya&&(r.ya=!0,r.Da(),Wx!=0)&&T(r)}Hc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Xx=Object.freeze||function(r){return r},M_=!vr||9<=Number(wi),Qx=vr&&!v_("9"),Yx=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,u=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",m,u),f.removeEventListener("test",m,u)}catch{}return r}();function Dn(r,u){this.type=r,this.b=this.target=u,this.defaultPrevented=!1}Dn.prototype.preventDefault=function(){this.defaultPrevented=!0};function uo(r,u){if(Dn.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,d=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=u,u=r.relatedTarget){if(p_){e:{try{ud(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else c=="mouseover"?u=r.fromElement:c=="mouseout"&&(u=r.toElement);this.relatedTarget=u,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:Jx[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}G(uo,Dn);var Jx=Xx({2:"touch",3:"pen",4:"mouse"});uo.prototype.preventDefault=function(){uo.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,Qx)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},uo.prototype.g=function(){return this.a};var Bu="closure_listenable_"+(1e6*Math.random()|0),Zx=0;function eC(r,u,c,d,g){this.listener=r,this.proxy=null,this.src=u,this.type=c,this.capture=!!d,this.Wa=g,this.key=++Zx,this.wa=this.Qa=!1}function Kc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function Gc(r){this.src=r,this.a={},this.b=0}Gc.prototype.add=function(r,u,c,d,g){var w=r.toString();r=this.a[w],r||(r=this.a[w]=[],this.b++);var b=gd(r,u,d,g);return-1<b?(u=r[b],c||(u.Qa=!1)):(u=new eC(u,this.src,w,!!d,g),u.Qa=c,r.push(u)),u};function vd(r,u){var c=u.type;c in r.a&&U(r.a[c],u)&&(Kc(u),r.a[c].length==0&&(delete r.a[c],r.b--))}function gd(r,u,c,d){for(var g=0;g<r.length;++g){var w=r[g];if(!w.wa&&w.listener==u&&w.capture==!!c&&w.Wa==d)return g}return-1}var yd="closure_lm_"+(1e6*Math.random()|0),_d={};function ur(r,u,c,d,g){if(d&&d.once)wd(r,u,c,d,g);else if(Array.isArray(u))for(var w=0;w<u.length;w++)ur(r,u[w],c,d,g);else c=Id(c),r&&r[Bu]?q_(r,u,c,E(d)?!!d.capture:!!d,g):F_(r,u,c,!1,d,g)}function F_(r,u,c,d,g,w){if(!u)throw Error("Invalid event type");var b=E(g)?!!g.capture:!!g,S=zc(r);if(S||(r[yd]=S=new Gc(r)),c=S.add(u,c,d,b,w),!c.proxy)if(d=tC(),c.proxy=d,d.src=r,d.listener=c,r.addEventListener)Yx||(g=b),g===void 0&&(g=!1),r.addEventListener(u.toString(),d,g);else if(r.attachEvent)r.attachEvent(U_(u.toString()),d);else if(r.addListener&&r.removeListener)r.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function tC(){var r=nC,u=M_?function(c){return r.call(u.src,u.listener,c)}:function(c){if(c=r.call(u.src,u.listener,c),!c)return c};return u}function wd(r,u,c,d,g){if(Array.isArray(u))for(var w=0;w<u.length;w++)wd(r,u[w],c,d,g);else c=Id(c),r&&r[Bu]?Ed(r,u,c,E(d)?!!d.capture:!!d,g):F_(r,u,c,!0,d,g)}function zn(r,u,c,d,g){if(Array.isArray(u))for(var w=0;w<u.length;w++)zn(r,u[w],c,d,g);else d=E(d)?!!d.capture:!!d,c=Id(c),r&&r[Bu]?(r=r.v,u=String(u).toString(),u in r.a&&(w=r.a[u],c=gd(w,c,d,g),-1<c&&(Kc(w[c]),Array.prototype.splice.call(w,c,1),w.length==0&&(delete r.a[u],r.b--)))):r&&(r=zc(r))&&(u=r.a[u.toString()],r=-1,u&&(r=gd(u,c,d,g)),(c=-1<r?u[r]:null)&&V_(c))}function V_(r){if(typeof r!="number"&&r&&!r.wa){var u=r.src;if(u&&u[Bu])vd(u.v,r);else{var c=r.type,d=r.proxy;u.removeEventListener?u.removeEventListener(c,d,r.capture):u.detachEvent?u.detachEvent(U_(c),d):u.addListener&&u.removeListener&&u.removeListener(d),(c=zc(u))?(vd(c,r),c.b==0&&(c.src=null,u[yd]=null)):Kc(r)}}}function U_(r){return r in _d?_d[r]:_d[r]="on"+r}function j_(r,u,c,d){var g=!0;if((r=zc(r))&&(u=r.a[u.toString()]))for(u=u.concat(),r=0;r<u.length;r++){var w=u[r];w&&w.capture==c&&!w.wa&&(w=B_(w,d),g=g&&w!==!1)}return g}function B_(r,u){var c=r.listener,d=r.Wa||r.src;return r.Qa&&V_(r),c.call(d,u)}function nC(r,u){if(r.wa)return!0;if(!M_){if(!u)e:{u=["window","event"];for(var c=f,d=0;d<u.length;d++)if(c=c[u[d]],c==null){u=null;break e}u=c}if(d=u,u=new uo(d,this),c=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var g=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{g=!0}(g||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],g=u.b;g;g=g.parentNode)d.push(g);for(r=r.type,g=d.length-1;0<=g;g--){u.b=d[g];var w=j_(d[g],r,!0,u);c=c&&w}for(g=0;g<d.length;g++)u.b=d[g],w=j_(d[g],r,!1,u),c=c&&w}return c}return B_(r,new uo(u,this))}function zc(r){return r=r[yd],r instanceof Gc?r:null}var bd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Id(r){return I(r)?r:(r[bd]||(r[bd]=function(u){return r.handleEvent(u)}),r[bd])}function bn(){Hc.call(this),this.v=new Gc(this),this.bc=this,this.hb=null}G(bn,Hc),bn.prototype[Bu]=!0,bn.prototype.addEventListener=function(r,u,c,d){ur(this,r,u,c,d)},bn.prototype.removeEventListener=function(r,u,c,d){zn(this,r,u,c,d)},bn.prototype.dispatchEvent=function(r){var u,c=this.hb;if(c)for(u=[];c;c=c.hb)u.push(c);c=this.bc;var d=r.type||r;if(typeof r=="string")r=new Dn(r,c);else if(r instanceof Dn)r.target=r.target||c;else{var g=r;r=new Dn(d,c),Be(r,g)}if(g=!0,u)for(var w=u.length-1;0<=w;w--){var b=r.b=u[w];g=Wc(b,d,!0,r)&&g}if(b=r.b=c,g=Wc(b,d,!0,r)&&g,g=Wc(b,d,!1,r)&&g,u)for(w=0;w<u.length;w++)b=r.b=u[w],g=Wc(b,d,!1,r)&&g;return g},bn.prototype.Da=function(){if(bn.bb.Da.call(this),this.v){var r=this.v,u;for(u in r.a){for(var c=r.a[u],d=0;d<c.length;d++)Kc(c[d]);delete r.a[u],r.b--}}this.hb=null};function q_(r,u,c,d,g){r.v.add(String(u),c,!1,d,g)}function Ed(r,u,c,d,g){r.v.add(String(u),c,!0,d,g)}function Wc(r,u,c,d){if(u=r.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,w=0;w<u.length;++w){var b=u[w];if(b&&!b.wa&&b.capture==c){var S=b.listener,j=b.Wa||b.src;b.Qa&&vd(r.v,b),g=S.call(j,d)!==!1&&g}}return g&&!d.defaultPrevented}function Td(r,u,c){if(I(r))c&&(r=V(r,c));else if(r&&typeof r.handleEvent=="function")r=V(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:f.setTimeout(r,u||0)}function ds(r){var u=null;return new $e(function(c,d){u=Td(function(){c(void 0)},r),u==-1&&d(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(u),c})}function $_(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var u=[],c=r.length,d=0;d<c;d++)u.push(r[d]);return u}u=[],c=0;for(d in r)u[c++]=r[d];return u}function H_(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var u=[];r=r.length;for(var c=0;c<r;c++)u.push(c);return u}u=[],c=0;for(var d in r)u[c++]=d;return u}}function rC(r,u){if(r.forEach&&typeof r.forEach=="function")r.forEach(u,void 0);else if(_(r)||typeof r=="string")q(r,u,void 0);else for(var c=H_(r),d=$_(r),g=d.length,w=0;w<g;w++)u.call(void 0,d[w],c&&c[w],r)}function ps(r,u){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(r)if(r instanceof ps)for(c=r.Y(),d=0;d<c.length;d++)this.set(c[d],r.get(c[d]));else for(d in r)this.set(d,r[d])}e=ps.prototype,e.X=function(){Sd(this);for(var r=[],u=0;u<this.a.length;u++)r.push(this.b[this.a[u]]);return r},e.Y=function(){return Sd(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Sd(r){if(r.c!=r.a.length){for(var u=0,c=0;u<r.a.length;){var d=r.a[u];ao(r.b,d)&&(r.a[c++]=d),u++}r.a.length=c}if(r.c!=r.a.length){var g={};for(c=u=0;u<r.a.length;)d=r.a[u],ao(g,d)||(r.a[c++]=d,g[d]=1),u++;r.a.length=c}}e.get=function(r,u){return ao(this.b,r)?this.b[r]:u},e.set=function(r,u){ao(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=u},e.forEach=function(r,u){for(var c=this.Y(),d=0;d<c.length;d++){var g=c[d],w=this.get(g);r.call(u,w,g,this)}};function ao(r,u){return Object.prototype.hasOwnProperty.call(r,u)}var K_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function iC(r,u){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var d=r[c].indexOf("="),g=null;if(0<=d){var w=r[c].substring(0,d);g=r[c].substring(d+1)}else w=r[c];u(w,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function bi(r,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof bi?(this.i=u!==void 0?u:r.i,qu(this,r.c),this.l=r.l,this.a=r.a,$u(this,r.g),this.f=r.f,Ad(this,X_(r.b)),this.h=r.h):r&&(c=String(r).match(K_))?(this.i=!!u,qu(this,c[1]||"",!0),this.l=Hu(c[2]||""),this.a=Hu(c[3]||"",!0),$u(this,c[4]),this.f=Hu(c[5]||"",!0),Ad(this,c[6]||"",!0),this.h=Hu(c[7]||"")):(this.i=!!u,this.b=new co(null,this.i))}bi.prototype.toString=function(){var r=[],u=this.c;u&&r.push(Ku(u,G_,!0),":");var c=this.a;return(c||u=="file")&&(r.push("//"),(u=this.l)&&r.push(Ku(u,G_,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(Ku(c,c.charAt(0)=="/"?uC:sC,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",Ku(c,cC)),r.join("")},bi.prototype.resolve=function(r){var u=new bi(this),c=!!r.c;c?qu(u,r.c):c=!!r.l,c?u.l=r.l:c=!!r.a,c?u.a=r.a:c=r.g!=null;var d=r.f;if(c)$u(u,r.g);else if(c=!!r.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var g=u.f.lastIndexOf("/");g!=-1&&(d=u.f.substr(0,g+1)+d)}if(g=d,g==".."||g==".")d="";else if(Ie(g,"./")||Ie(g,"/.")){d=g.lastIndexOf("/",0)==0,g=g.split("/");for(var w=[],b=0;b<g.length;){var S=g[b++];S=="."?d&&b==g.length&&w.push(""):S==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),d&&b==g.length&&w.push("")):(w.push(S),d=!0)}d=w.join("/")}else d=g}return c?u.f=d:c=r.b.toString()!=="",c?Ad(u,X_(r.b)):c=!!r.h,c&&(u.h=r.h),u};function qu(r,u,c){r.c=c?Hu(u,!0):u,r.c&&(r.c=r.c.replace(/:$/,""))}function $u(r,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);r.g=u}else r.g=null}function Ad(r,u,c){u instanceof co?(r.b=u,lC(r.b,r.i)):(c||(u=Ku(u,aC)),r.b=new co(u,r.i))}function Dt(r,u,c){r.b.set(u,c)}function ar(r,u){return r.b.get(u)}function Ln(r){return r instanceof bi?new bi(r):new bi(r,void 0)}function Xc(r,u,c,d){var g=new bi(null,void 0);return r&&qu(g,r),u&&(g.a=u),c&&$u(g,c),d&&(g.f=d),g}function Hu(r,u){return r?u?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Ku(r,u,c){return typeof r=="string"?(r=encodeURI(r).replace(u,oC),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function oC(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var G_=/[#\/\?@]/g,sC=/[#\?:]/g,uC=/[#\?]/g,aC=/[#\?@]/g,cC=/#/g;function co(r,u){this.b=this.a=null,this.c=r||null,this.f=!!u}function Ii(r){r.a||(r.a=new ps,r.b=0,r.c&&iC(r.c,function(u,c){r.add(decodeURIComponent(u.replace(/\+/g," ")),c)}))}function z_(r){var u=H_(r);if(typeof u>"u")throw Error("Keys are undefined");var c=new co(null,void 0);r=$_(r);for(var d=0;d<u.length;d++){var g=u[d],w=r[d];Array.isArray(w)?W_(c,g,w):c.add(g,w)}return c}e=co.prototype,e.add=function(r,u){Ii(this),this.c=null,r=ms(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(u),this.b+=1,this};function Lr(r,u){Ii(r),u=ms(r,u),ao(r.a.b,u)&&(r.c=null,r.b-=r.a.get(u).length,r=r.a,ao(r.b,u)&&(delete r.b[u],r.c--,r.a.length>2*r.c&&Sd(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function kd(r,u){return Ii(r),u=ms(r,u),ao(r.a.b,u)}e.forEach=function(r,u){Ii(this),this.a.forEach(function(c,d){q(c,function(g){r.call(u,g,d,this)},this)},this)},e.Y=function(){Ii(this);for(var r=this.a.X(),u=this.a.Y(),c=[],d=0;d<u.length;d++)for(var g=r[d],w=0;w<g.length;w++)c.push(u[d]);return c},e.X=function(r){Ii(this);var u=[];if(typeof r=="string")kd(this,r)&&(u=z(u,this.a.get(ms(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)u=z(u,r[c])}return u},e.set=function(r,u){return Ii(this),this.c=null,r=ms(this,r),kd(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[u]),this.b+=1,this},e.get=function(r,u){return r?(r=this.X(r),0<r.length?String(r[0]):u):u};function W_(r,u,c){Lr(r,u),0<c.length&&(r.c=null,r.a.set(ms(r,u),re(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],u=this.a.Y(),c=0;c<u.length;c++){var d=u[c],g=encodeURIComponent(String(d));d=this.X(d);for(var w=0;w<d.length;w++){var b=g;d[w]!==""&&(b+="="+encodeURIComponent(String(d[w]))),r.push(b)}}return this.c=r.join("&")};function X_(r){var u=new co;return u.c=r.c,r.a&&(u.a=new ps(r.a),u.b=r.b),u}function ms(r,u){return u=String(u),r.f&&(u=u.toLowerCase()),u}function lC(r,u){u&&!r.f&&(Ii(r),r.c=null,r.a.forEach(function(c,d){var g=d.toLowerCase();d!=g&&(Lr(this,d),W_(this,g,c))},r)),r.f=u}function Q_(r){var u=[];return xd(new fC,r,u),u.join("")}function fC(){}function xd(r,u,c){if(u==null)c.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var d=u;u=d.length,c.push("[");for(var g="",w=0;w<u;w++)c.push(g),xd(r,d[w],c),g=",";c.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{c.push("{"),g="";for(d in u)Object.prototype.hasOwnProperty.call(u,d)&&(w=u[d],typeof w!="function"&&(c.push(g),J_(d,c),c.push(":"),xd(r,w,c),g=","));c.push("}");return}}switch(typeof u){case"string":J_(u,c);break;case"number":c.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":c.push(String(u));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var Y_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},hC=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function J_(r,u){u.push('"',r.replace(hC,function(c){var d=Y_[c];return d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),Y_[c]=d),d}),'"')}function Cd(){var r=rn();return vr&&!!wi&&wi==11||/Edge\/\d+/.test(r)}function Gu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Z_(r,u){u=u||f.window;var c="about:blank";r&&(c=Uc(u_(r)||c_)),u.location.href=c}function ew(r,u){var c=[],d;for(d in r)d in u?typeof r[d]!=typeof u[d]?c.push(d):typeof r[d]=="object"&&r[d]!=null&&u[d]!=null?0<ew(r[d],u[d]).length&&c.push(d):r[d]!==u[d]&&c.push(d):c.push(d);for(d in u)d in r||c.push(d);return c}function dC(){var r=rn();return r=vs(r)!=iw?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!vr||!wi||9<wi}function tw(r){return r=(r||rn()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function lo(r){r=r||f.window;try{r.close()}catch{}}function nw(r,u,c){var d=Math.floor(1e9*Math.random()).toString();u=u||500,c=c||600;var g=(window.screen.availHeight-c)/2,w=(window.screen.availWidth-u)/2;u={width:u,height:c,top:0<g?g:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=rn().toLowerCase(),d&&(u.target=d,Ie(c,"crios/")&&(u.target="_blank")),vs(rn())==Nd&&(r=r||"http://localhost",u.scrollbars=!0),c=r||"",(r=u)||(r={}),d=window,u=c instanceof Pn?c:u_(typeof c.href<"u"?c.href:String(c))||c_,c=r.target||c.target,g=[];for(b in r)switch(b){case"width":case"height":case"top":case"left":g.push(b+"="+r[b]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(b+"="+(r[b]?1:0))}var b=g.join(",");if((te("iPhone")&&!te("iPod")&&!te("iPad")||te("iPad")||te("iPod"))&&d.navigator&&d.navigator.standalone&&c&&c!="_self"?(b=Bc(document,"A"),nn(b,"HTMLAnchorElement"),u=u instanceof Pn?u:a_(u),b.href=Uc(u),b.setAttribute("target",c),r.noreferrer&&b.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,d,1),b.dispatchEvent(r),b={}):r.noreferrer?(b=f_("",d,c,b),r=Uc(u),b&&(Fx&&Ie(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),b.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+sd(r)+'">',r=(d=Fu())?d.createHTML(r):r,r=new fs(r,null,l_),d=b.document)&&(d.write(Px(r)),d.close())):(b=f_(u,d,c,b))&&r.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function pC(r){return new $e(function(u){function c(){ds(2e3).then(function(){if(!r||r.closed)u();else return c()})}return c()})}var mC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vC=/^[^@]+@[^@]+$/;function Qc(){var r=null;return new $e(function(u){f.document.readyState=="complete"?u():(r=function(){u()},wd(window,"load",r))}).o(function(u){throw zn(window,"load",r),u})}function gC(){return Rd(void 0)?Qc().then(function(){return new $e(function(r,u){var c=f.document,d=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(d),r()},!1)})}):bt(Error("Cordova must run in an Android or iOS file scheme."))}function Rd(r){return r=r||rn(),!(ys()!=="file:"&&ys()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function Od(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function gr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Mr(){return Ce.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ce.INTERNAL.hasOwnProperty("node")?"Node":gr()?"Worker":"Browser"}function rw(){var r=Mr();return r==="ReactNative"||r==="Node"}function yC(){for(var r=50,u=[];0<r;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return u.join("")}var Nd="Firefox",iw="Chrome";function vs(r){var u=r.toLowerCase();if(Ie(u,"opera/")||Ie(u,"opr/")||Ie(u,"opios/"))return"Opera";if(Ie(u,"iemobile"))return"IEMobile";if(Ie(u,"msie")||Ie(u,"trident/"))return"IE";if(Ie(u,"edge/"))return"Edge";if(Ie(u,"firefox/"))return Nd;if(Ie(u,"silk/"))return"Silk";if(Ie(u,"blackberry"))return"Blackberry";if(Ie(u,"webos"))return"Webos";if(!Ie(u,"safari/")||Ie(u,"chrome/")||Ie(u,"crios/")||Ie(u,"android"))if(!Ie(u,"chrome/")&&!Ie(u,"crios/")||Ie(u,"edge/")){if(Ie(u,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return iw;else return"Safari";return"Other"}var ow={md:"FirebaseCore-web",od:"FirebaseUI-web"};function gs(r,u){u=u||[];var c=[],d={},g;for(g in ow)d[ow[g]]=!0;for(g=0;g<u.length;g++)typeof d[u[g]]<"u"&&(delete d[u[g]],c.push(u[g]));return c.sort(),u=c,u.length||(u=["FirebaseCore-web"]),c=Mr(),c==="Browser"?(d=rn(),c=vs(d)):c==="Worker"&&(d=rn(),c=vs(d)+"-"+c),c+"/JsCore/"+r+"/"+u.join(",")}function rn(){return f.navigator&&f.navigator.userAgent||""}function It(r,u){r=r.split("."),u=u||f;for(var c=0;c<r.length&&typeof u=="object"&&u!=null;c++)u=u[r[c]];return c!=r.length&&(u=void 0),u}function Pd(){try{var r=f.localStorage,u=ho();if(r)return r.setItem(u,"1"),r.removeItem(u),Cd()?!!f.indexedDB:!0}catch{return gr()&&!!f.indexedDB}return!1}function fo(){return(Yc()||ys()==="chrome-extension:"||Rd())&&!rw()&&Pd()&&!gr()}function Yc(){return ys()==="http:"||ys()==="https:"}function ys(){return f.location&&f.location.protocol||null}function zu(r){return r=r||rn(),!(tw(r)||vs(r)==Nd)}function Wu(r){return typeof r>"u"?null:Q_(r)}function sw(r){var u={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(u[c]=r[c]);return u}function _s(r){if(r!==null)return JSON.parse(r)}function ho(r){return r||Math.floor(1e9*Math.random()).toString()}function uw(r){return r=r||rn(),!(vs(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function aw(){var r=f.___jsl;if(r&&r.H){for(var u in r.H)if(r.H[u].r=r.H[u].r||[],r.H[u].L=r.H[u].L||[],r.H[u].r=r.H[u].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function Ei(r,u){if(r>u)throw Error("Short delay should be less than long delay!");this.a=r,this.c=u,r=rn(),u=Mr(),this.b=tw(r)||u==="ReactNative"}Ei.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Yc()||ys()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Dd(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function _C(){var r=f.document,u=null;return Dd()||!r?Ee():new $e(function(c){u=function(){Dd()&&(r.removeEventListener("visibilitychange",u,!1),c())},r.addEventListener("visibilitychange",u,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",u,!1),c})}function Xu(r){try{var u=new Date(parseInt(r,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(r))return u.toUTCString()}catch{}return null}function cw(){return!(!It("fireauth.oauthhelper",f)&&!It("fireauth.iframe",f))}function wC(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function bC(){var r=f.navigator;return r&&r.serviceWorker?Ee().then(function(){return r.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):Ee(null)}var lw={};function Ld(r){lw[r]||(lw[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Md;try{var Fd={};Object.defineProperty(Fd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Fd,"abcd",{configurable:!0,enumerable:!0,value:2}),Md=Fd.abcd==2}catch{Md=!1}function pe(r,u,c){Md?Object.defineProperty(r,u,{configurable:!0,enumerable:!0,value:c}):r[u]=c}function In(r,u){if(u)for(var c in u)u.hasOwnProperty(c)&&pe(r,c,u[c])}function Fr(r){var u={};return In(u,r),u}function IC(r){var u={},c;for(c in r)r.hasOwnProperty(c)&&(u[c]=r[c]);return u}function EC(r,u){if(!u||!u.length)return!0;if(!r)return!1;for(var c=0;c<u.length;c++){var d=r[u[c]];if(d==null||d==="")return!1}return!0}function Vd(r){var u=r;if(typeof r=="object"&&r!=null){u="length"in r?[]:{};for(var c in r)pe(u,c,Vd(r[c]))}return u}function Ud(r){var u=r&&(r[$d]?"phone":null);if(u&&r&&r[qd]){pe(this,"uid",r[qd]),pe(this,"displayName",r[fw]||null);var c=null;r[Bd]&&(c=new Date(r[Bd]).toUTCString()),pe(this,"enrollmentTime",c),pe(this,"factorId",u)}else throw new x("internal-error","Internal assert: invalid MultiFactorInfo object")}Ud.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function jd(r){try{var u=new Qu(r)}catch{u=null}return u}var fw="displayName",Bd="enrolledAt",qd="mfaEnrollmentId",$d="phoneInfo";function Qu(r){Ud.call(this,r),pe(this,"phoneNumber",r[$d])}G(Qu,Ud),Qu.prototype.w=function(){var r=Qu.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function TC(r){var u={},c=r[SC],d=r[kC],g=r[xC];if(r=jd(r[AC]),!g||g!=Jc&&g!=Yu&&!c||g==Yu&&!d||g==Hd&&!r)throw Error("Invalid checkActionCode response!");g==Yu?(u[dw]=c||null,u[pw]=c||null,u[hw]=d):(u[dw]=d||null,u[pw]=d||null,u[hw]=c||null),u[CC]=r||null,pe(this,OC,g),pe(this,RC,Vd(u))}var Hd="REVERT_SECOND_FACTOR_ADDITION",Jc="EMAIL_SIGNIN",Yu="VERIFY_AND_CHANGE_EMAIL",SC="email",AC="mfaInfo",kC="newEmail",xC="requestType",hw="email",dw="fromEmail",CC="multiFactorInfo",pw="previousEmail",RC="data",OC="operation";function Kd(r){r=Ln(r);var u=ar(r,mw)||null,c=ar(r,vw)||null,d=ar(r,gw)||null;if(d=d&&LC[d]||null,!u||!c||!d)throw new x("argument-error",mw+", "+vw+"and "+gw+" are required in a valid action code URL.");In(this,{apiKey:u,operation:d,code:c,continueUrl:ar(r,NC)||null,languageCode:ar(r,PC)||null,tenantId:ar(r,DC)||null})}var mw="apiKey",vw="oobCode",NC="continueUrl",PC="languageCode",gw="mode",DC="tenantId",LC={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Hd,signIn:Jc,verifyAndChangeEmail:Yu,verifyEmail:"VERIFY_EMAIL"};function yw(r){try{return new Kd(r)}catch{return null}}function Zc(r){var u=r[MC];if(typeof u>"u")throw new x("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new x("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var c=r[_w];if(c&&typeof c=="object"){u=c[Tw];var d=c[Iw];if(c=c[Ew],typeof u=="string"&&u.length){if(this.a=u,typeof d<"u"&&typeof d!="boolean")throw new x("argument-error",Iw+" property must be a boolean when specified.");if(this.g=!!d,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new x("argument-error",Ew+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof u<"u")throw new x("argument-error",Tw+" property must be a non empty string when specified.");if(typeof d<"u"||typeof c<"u")throw new x("missing-android-pkg-name")}}else if(typeof c<"u")throw new x("argument-error",_w+" property must be a non null object when specified.");if(this.f=null,(u=r[bw])&&typeof u=="object"){if(u=u[Sw],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new x("argument-error",Sw+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new x("argument-error",bw+" property must be a non null object when specified.");if(u=r[Gd],typeof u<"u"&&typeof u!="boolean")throw new x("argument-error",Gd+" property must be a boolean when specified.");if(this.c=!!u,r=r[ww],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new x("argument-error",ww+" property must be a non empty string when specified.");this.i=r||null}var _w="android",ww="dynamicLinkDomain",Gd="handleCodeInApp",bw="iOS",MC="url",Iw="installApp",Ew="minimumVersion",Tw="packageName",Sw="bundleId";function el(r){var u={};u.continueUrl=r.h,u.canHandleCodeInApp=r.c,(u.androidPackageName=r.a)&&(u.androidMinimumVersion=r.b,u.androidInstallApp=r.g),u.iOSBundleId=r.f,u.dynamicLinkDomain=r.i;for(var c in u)u[c]===null&&delete u[c];return u}function FC(r){return Oe(r,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var Ju=null;function VC(r){var u=[];return UC(r,function(c){u.push(c)}),u}function UC(r,u){function c(j){for(;d<r.length;){var W=r.charAt(d++),Pe=Ju[W];if(Pe!=null)return Pe;if(!/^[\s\xa0]*$/.test(W))throw Error("Unknown base64 encoding at char: "+W)}return j}jC();for(var d=0;;){var g=c(-1),w=c(0),b=c(64),S=c(64);if(S===64&&g===-1)break;u(g<<2|w>>4),b!=64&&(u(w<<4&240|b>>2),S!=64&&u(b<<6&192|S))}}function jC(){if(!Ju){Ju={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var d=r.concat(u[c].split("")),g=0;g<d.length;g++){var w=d[g];Ju[w]===void 0&&(Ju[w]=g)}}}function tl(r){var u=Aw(r);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=r,this.a=u.exp,this.i=u.sub,r=Date.now()/1e3,this.g=u.iat||(r>this.a?this.a:r),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}tl.prototype.T=function(){return this.f},tl.prototype.l=function(){return this.c},tl.prototype.toString=function(){return this.h};function nl(r){try{return new tl(r)}catch{return null}}function Aw(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var u=(4-r.length%4)%4,c=0;c<u;c++)r+=".";try{var d=VC(r);for(r=[],c=u=0;u<d.length;){var g=d[u++];if(128>g)r[c++]=String.fromCharCode(g);else if(191<g&&224>g){var w=d[u++];r[c++]=String.fromCharCode((g&31)<<6|w&63)}else if(239<g&&365>g){w=d[u++];var b=d[u++],S=d[u++],j=((g&7)<<18|(w&63)<<12|(b&63)<<6|S&63)-65536;r[c++]=String.fromCharCode(55296+(j>>10)),r[c++]=String.fromCharCode(56320+(j&1023))}else w=d[u++],b=d[u++],r[c++]=String.fromCharCode((g&15)<<12|(w&63)<<6|b&63)}return JSON.parse(r.join(""))}catch{}return null}var kw="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),rl=["client_id","response_type","scope","redirect_uri","state"],zd={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:rl},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:rl},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:rl},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:kw},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Wd(r){for(var u in zd)if(zd[u].fa==r)return zd[u];return null}function xw(r){var u={};u["facebook.com"]=Rw,u["google.com"]=Nw,u["github.com"]=Ow,u["twitter.com"]=Pw;var c=r&&r[Cw];try{if(c)return u[c]?new u[c](r):new Vr(r);if(typeof r[Xd]<"u")return new Qd(r)}catch{}return null}var Xd="idToken",Cw="providerId";function Qd(r){var u=r[Cw];if(!u&&r[Xd]){var c=nl(r[Xd]);c&&c.b&&(u=c.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),pe(this,"providerId",u),pe(this,"isNewUser",c)}function Vr(r){Qd.call(this,r),r=_s(r.rawUserInfo||"{}"),pe(this,"profile",Vd(r||{}))}G(Vr,Qd);function Rw(r){if(Vr.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}G(Rw,Vr);function Ow(r){if(Vr.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");pe(this,"username",this.profile&&this.profile.login||null)}G(Ow,Vr);function Nw(r){if(Vr.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}G(Nw,Vr);function Pw(r){if(Vr.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");pe(this,"username",r.screenName||null)}G(Pw,Vr);function Dw(r){var u=Ln(r),c=ar(u,"link"),d=ar(Ln(c),"link");return u=ar(u,"deep_link_id"),ar(Ln(u),"link")||u||d||c||r}function il(r,u){if(!r&&!u)throw new x("internal-error","Internal assert: no raw session string available");if(r&&u)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=u||null,this.type=this.a?Zu:ol}var Zu="enroll",ol="signin";il.prototype.Ha=function(){return this.a?Ee(this.a):Ee(this.b)},il.prototype.w=function(){return this.type==Zu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ws(){}ws.prototype.ka=function(){},ws.prototype.b=function(){},ws.prototype.c=function(){},ws.prototype.w=function(){};function bs(r,u){return r.then(function(c){if(c[wr]){var d=nl(c[wr]);if(!d||u!=d.i)throw new x("user-mismatch");return c}throw new x("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==it+"user-not-found"?new x("user-mismatch"):c})}function po(r,u){if(u)this.a=u;else throw new x("internal-error","failed to construct a credential");pe(this,"providerId",r),pe(this,"signInMethod",r)}po.prototype.ka=function(r){return wp(r,Yd(this))},po.prototype.b=function(r,u){var c=Yd(this);return c.idToken=u,bp(r,c)},po.prototype.c=function(r,u){return bs(Ip(r,Yd(this)),u)};function Yd(r){return{pendingToken:r.a,requestUri:"http://localhost"}}po.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function BC(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new po(r.providerId,r.pendingToken)}catch{}return null}function ti(r,u,c){if(this.a=null,u.idToken||u.accessToken)u.idToken&&pe(this,"idToken",u.idToken),u.accessToken&&pe(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&pe(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)pe(this,"accessToken",u.oauthToken),pe(this,"secret",u.oauthTokenSecret);else throw new x("internal-error","failed to construct a credential");pe(this,"providerId",r),pe(this,"signInMethod",c)}ti.prototype.ka=function(r){return wp(r,Jd(this))},ti.prototype.b=function(r,u){var c=Jd(this);return c.idToken=u,bp(r,c)},ti.prototype.c=function(r,u){var c=Jd(this);return bs(Ip(r,c),u)};function Jd(r){var u={};return r.idToken&&(u.id_token=r.idToken),r.accessToken&&(u.access_token=r.accessToken),r.secret&&(u.oauth_token_secret=r.secret),u.providerId=r.providerId,r.nonce&&!r.a&&(u.nonce=r.nonce),u={postBody:z_(u).toString(),requestUri:"http://localhost"},r.a&&(delete u.postBody,u.pendingToken=r.a),u}ti.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function qC(r){if(r&&r.providerId&&r.signInMethod){var u={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new ti(r.providerId,u,r.signInMethod)}catch{}}return null}function mo(r,u){this.Qc=u||[],In(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(Wd(r)||{}).Ja||null,this.pb=null}mo.prototype.Ka=function(r){return this.Jb=ke(r),this};function Lw(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,r,[])}G(Lw,mo);function Wn(r){mo.call(this,r,rl),this.a=[]}G(Wn,mo),Wn.prototype.Ca=function(r){return O(this.a,r)||this.a.push(r),this},Wn.prototype.Rb=function(){return re(this.a)},Wn.prototype.credential=function(r,u){var c;if(E(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:u||null},!c.idToken&&!c.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new ti(this.providerId,c,this.providerId)};function vo(){Wn.call(this,"facebook.com")}G(vo,Wn),pe(vo,"PROVIDER_ID","facebook.com"),pe(vo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function Mw(r){if(!r)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=r;return E(r)&&(u=r.accessToken),new vo().credential({accessToken:u})}function go(){Wn.call(this,"github.com")}G(go,Wn),pe(go,"PROVIDER_ID","github.com"),pe(go,"GITHUB_SIGN_IN_METHOD","github.com");function Fw(r){if(!r)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=r;return E(r)&&(u=r.accessToken),new go().credential({accessToken:u})}function yo(){Wn.call(this,"google.com"),this.Ca("profile")}G(yo,Wn),pe(yo,"PROVIDER_ID","google.com"),pe(yo,"GOOGLE_SIGN_IN_METHOD","google.com");function Vw(r,u){var c=r;return E(r)&&(c=r.idToken,u=r.accessToken),new yo().credential({idToken:c,accessToken:u})}function Is(){mo.call(this,"twitter.com",kw)}G(Is,mo),pe(Is,"PROVIDER_ID","twitter.com"),pe(Is,"TWITTER_SIGN_IN_METHOD","twitter.com");function Uw(r,u){var c=r;if(E(c)||(c={oauthToken:r,oauthTokenSecret:u}),!c.oauthToken||!c.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ti("twitter.com",c,"twitter.com")}function Ti(r,u,c){this.a=r,this.f=u,pe(this,"providerId","password"),pe(this,"signInMethod",c===cr.EMAIL_LINK_SIGN_IN_METHOD?cr.EMAIL_LINK_SIGN_IN_METHOD:cr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Ti.prototype.ka=function(r){return this.signInMethod==cr.EMAIL_LINK_SIGN_IN_METHOD?Ke(r,AR,{email:this.a,oobCode:this.f}):Ke(r,d0,{email:this.a,password:this.f})},Ti.prototype.b=function(r,u){return this.signInMethod==cr.EMAIL_LINK_SIGN_IN_METHOD?Ke(r,kR,{idToken:u,email:this.a,oobCode:this.f}):Ke(r,h0,{idToken:u,email:this.a,password:this.f})},Ti.prototype.c=function(r,u){return bs(this.ka(r),u)},Ti.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function $C(r){return r&&r.email&&r.password?new Ti(r.email,r.password,r.signInMethod):null}function cr(){In(this,{providerId:"password",isOAuthProvider:!1})}function jw(r,u){if(u=Zd(u),!u)throw new x("argument-error","Invalid email link!");return new Ti(r,u.code,cr.EMAIL_LINK_SIGN_IN_METHOD)}function Zd(r){return r=Dw(r),(r=yw(r))&&r.operation===Jc?r:null}In(cr,{PROVIDER_ID:"password"}),In(cr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),In(cr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Si(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new x("internal-error");this.a=r,pe(this,"providerId","phone"),this.fa="phone",pe(this,"signInMethod","phone")}Si.prototype.ka=function(r){return r.gb(ea(this))},Si.prototype.b=function(r,u){var c=ea(this);return c.idToken=u,Ke(r,zR,c)},Si.prototype.c=function(r,u){var c=ea(this);return c.operation="REAUTH",r=Ke(r,WR,c),bs(r,u)},Si.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function HC(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var u={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(u[c]=r[c])}),new Si(u)}return null}function ea(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function ni(r){try{this.a=r||Ce.auth()}catch{throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}In(this,{providerId:"phone",isOAuthProvider:!1})}ni.prototype.gb=function(r,u){var c=this.a.a;return Ee(u.verify()).then(function(d){if(typeof d!="string")throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=E(r)?r.session:null,w=E(r)?r.phoneNumber:r,b;return g&&g.type==Zu?b=g.Ha().then(function(S){return gR(c,{idToken:S,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:d}})}):g&&g.type==ol?b=g.Ha().then(function(S){return yR(c,{mfaPendingCredential:S,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):b=vR(c,{phoneNumber:w,recaptchaToken:d}),b.then(function(S){return typeof u.reset=="function"&&u.reset(),S},function(S){throw typeof u.reset=="function"&&u.reset(),S});default:throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Bw(r,u){if(!r)throw new x("missing-verification-id");if(!u)throw new x("missing-verification-code");return new Si({fb:r,eb:u})}In(ni,{PROVIDER_ID:"phone"}),In(ni,{PHONE_SIGN_IN_METHOD:"phone"});function ep(r){if(r.temporaryProof&&r.phoneNumber)return new Si({La:r.temporaryProof,ea:r.phoneNumber});var u=r&&r.providerId;if(!u||u==="password")return null;var c=r&&r.oauthAccessToken,d=r&&r.oauthTokenSecret,g=r&&r.nonce,w=r&&r.oauthIdToken,b=r&&r.pendingToken;try{switch(u){case"google.com":return Vw(w,c);case"facebook.com":return Mw(c);case"github.com":return Fw(c);case"twitter.com":return Uw(c,d);default:return c||d||w||b?b?u.indexOf("saml.")==0?new po(u,b):new ti(u,{pendingToken:b,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},u):new Wn(u).credential({idToken:w,accessToken:c,rawNonce:g}):null}}catch{return null}}function tp(r){if(!r.isOAuthProvider)throw new x("invalid-oauth-provider")}function yr(r,u,c,d,g,w,b){if(this.c=r,this.b=u||null,this.g=c||null,this.f=d||null,this.i=w||null,this.h=b||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}else throw new x("invalid-auth-event")}yr.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},yr.prototype.T=function(){return this.h},yr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function qw(r){return r=r||{},r.type?new yr(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&He(r.error),r.postBody,r.tenantId):null}function KC(){this.b=null,this.a=[]}var np=null;function GC(r){var u=np;u.a.push(r),u.b||(u.b=function(c){for(var d=0;d<u.a.length;d++)u.a[d](c)},r=It("universalLinks.subscribe",f),typeof r=="function"&&r(null,u.b))}function rp(r){var u="unauthorized-domain",c=void 0,d=Ln(r);r=d.a,d=d.c,d=="chrome-extension"?c=h_("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):d=="http"||d=="https"?c=h_("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):u="operation-not-supported-in-this-environment",x.call(this,u,c)}G(rp,x);function ta(r,u,c){x.call(this,r,c),r=u||{},r.Kb&&pe(this,"email",r.Kb),r.ea&&pe(this,"phoneNumber",r.ea),r.credential&&pe(this,"credential",r.credential),r.$b&&pe(this,"tenantId",r.$b)}G(ta,x),ta.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Be(r,u),r},ta.prototype.toJSON=function(){return this.w()};function sl(r){if(r.code){var u=r.code||"";u.indexOf(it)==0&&(u=u.substring(it.length));var c={credential:ep(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new x(u,r.message||void 0);return new ta(u,c,r.message)}return null}function na(){}na.prototype.c=null;function $w(r){return r.c||(r.c=r.b())}var ip;function ul(){}G(ul,na),ul.prototype.a=function(){var r=Hw(this);return r?new ActiveXObject(r):new XMLHttpRequest},ul.prototype.b=function(){var r={};return Hw(this)&&(r[0]=!0,r[1]=!0),r};function Hw(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<u.length;c++){var d=u[c];try{return new ActiveXObject(d),r.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}ip=new ul;function al(){}G(al,na),al.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new Kw;throw Error("Unsupported browser")},al.prototype.b=function(){return{}};function Kw(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=V(this.qc,this),this.a.onerror=V(this.Tb,this),this.a.onprogress=V(this.rc,this),this.a.ontimeout=V(this.vc,this)}e=Kw.prototype,e.open=function(r,u,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,u)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,op(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",op(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,op(this,1)};function op(r,u){r.readyState=u,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function sp(r,u,c){this.reset(r,u,c,void 0,void 0)}sp.prototype.a=null,sp.prototype.reset=function(r,u,c,d,g){delete this.a};function up(r){this.f=r,this.b=this.c=this.a=null}function ra(r,u){this.name=r,this.value=u}ra.prototype.toString=function(){return this.name};var Gw=new ra("SEVERE",1e3),ap=new ra("WARNING",900),zC=new ra("CONFIG",700),WC=new ra("FINE",500);function zw(r){return r.c?r.c:r.a?zw(r.a):(Pt("Root logger has no level set."),null)}up.prototype.log=function(r,u,c){if(r.value>=zw(this).value)for(I(u)&&(u=u()),r=new sp(r,String(u),this.f),c&&(r.a=c),c=this;c;)c=c.a};var cp={},cl=null;function lp(r){cl||(cl=new up(""),cp[""]=cl,cl.c=zC);var u;if(!(u=cp[r])){u=new up(r);var c=r.lastIndexOf("."),d=r.substr(c+1);c=lp(r.substr(0,c)),c.b||(c.b={}),c.b[d]=u,u.a=c,cp[r]=u}return u}function lr(r,u){r&&r.log(WC,u,void 0)}function ll(r){this.f=r}G(ll,na),ll.prototype.a=function(){return new fl(this.f)},ll.prototype.b=function(r){return function(){return r}}({});function fl(r){bn.call(this),this.u=r,this.h=void 0,this.readyState=fp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=lp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}G(fl,bn);var fp=0;e=fl.prototype,e.open=function(r,u){if(this.readyState!=fp)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=u,this.readyState=1,oa(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(u.body=r),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,ia(this)),this.readyState=fp},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,oa(this)),this.a&&(this.readyState=3,oa(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,Ww(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Ww(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var u=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});u&&(this.response=this.responseText+=u),r.done?ia(this):oa(this),this.readyState==3&&Ww(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,ia(this))},e.sc=function(r){this.a&&(this.response=r,ia(this))},e.Va=function(r){var u=this.i;u&&u.log(ap,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&ia(this)};function ia(r){r.readyState=4,r.g=null,r.c=null,r.m=null,oa(r)}e.setRequestHeader=function(r,u){this.l.append(r,u)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(ap,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(ap,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var u=this.b.entries(),c=u.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=u.next();return r.join(`\r
`)};function oa(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(fl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function sa(r){bn.call(this),this.headers=new ps,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Xw,this.u=this.S=!1}G(sa,bn);var Xw="";sa.prototype.b=lp("goog.net.XhrIo");var XC=/^https?$/i,QC=["POST","PUT"];function YC(r,u,c,d,g){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+u);c=c?c.toUpperCase():"GET",r.l=u,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():ip.a(),r.C=r.D?$w(r.D):$w(ip),r.a.onreadystatechange=V(r.Wb,r);try{lr(r.b,ri(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(u),!0),r.N=!1}catch(b){lr(r.b,ri(r,"Error opening Xhr: "+b.message)),Qw(r,b);return}u=d||"";var w=new ps(r.headers);g&&rC(g,function(b,S){w.set(S,b)}),g=k(w.Y()),d=f.FormData&&u instanceof f.FormData,!O(QC,c)||g||d||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(b,S){this.a.setRequestHeader(S,b)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{Zw(r),0<r.g&&(r.u=JC(r.a),lr(r.b,ri(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=V(r.Ma,r)):r.s=Td(r.Ma,r.g,r)),lr(r.b,ri(r,"Sending request")),r.i=!0,r.a.send(u),r.i=!1}catch(b){lr(r.b,ri(r,"Send error: "+b.message)),Qw(r,b)}}function JC(r){return vr&&v_(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function ZC(r){return r.toLowerCase()=="content-type"}e=sa.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",lr(this.b,ri(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Qw(r,u){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=u,Yw(r),hl(r)}function Yw(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(lr(this.b,ri(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),hl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),hl(this,!0)),sa.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Jw(this):this.Jc())},e.Jc=function(){Jw(this)};function Jw(r){if(r.c&&typeof l<"u"){if(r.C[1]&&ua(r)==4&&dl(r)==2)lr(r.b,ri(r,"Local request error detected and ignored"));else if(r.i&&ua(r)==4)Td(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),ua(r)==4){lr(r.b,ri(r,"Request complete")),r.c=!1;try{var u=dl(r);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var g;if(g=u===0){var w=String(r.l).match(K_)[1]||null;if(!w&&f.self&&f.self.location){var b=f.self.location.protocol;w=b.substr(0,b.length-1)}g=!XC.test(w?w.toLowerCase():"")}d=g}if(d)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var S=2<ua(r)?r.a.statusText:""}catch(j){lr(r.b,"Can not get status: "+j.message),S=""}r.h=S+" ["+dl(r)+"]",Yw(r)}}finally{hl(r)}}}}function hl(r,u){if(r.a){Zw(r);var c=r.a,d=r.C[0]?m:null;r.a=null,r.C=null,u||r.dispatchEvent("ready");try{c.onreadystatechange=d}catch(g){(r=r.b)&&r.log(Gw,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function Zw(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function ua(r){return r.a?r.a.readyState:0}function dl(r){try{return 2<ua(r)?r.a.status:-1}catch{return-1}}function eR(r){try{return r.a?r.a.responseText:""}catch(u){return lr(r.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Xw:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(Gw,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return lr(this.b,"Can not get response: "+u.message),null}};function ri(r,u){return u+" ["+r.P+" "+r.l+" "+dl(r)+"]"}function _o(r){var u=rR;this.g=[],this.u=u,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}_o.prototype.cancel=function(r){if(this.a)this.c instanceof _o&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,r?u.cancel(r):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new ca,pl(this),aa(this,!1,r))}},_o.prototype.m=function(r,u){this.i=!1,aa(this,r,u)};function aa(r,u,c){r.a=!0,r.c=c,r.f=!u,t0(r)}function pl(r){if(r.a){if(!r.v)throw new ml;r.v=!1}}function tR(r,u){hp(r,null,u,void 0)}function hp(r,u,c,d){r.g.push([u,c,d]),r.a&&t0(r)}_o.prototype.then=function(r,u,c){var d,g,w=new $e(function(b,S){d=b,g=S});return hp(this,d,function(b){b instanceof ca?w.cancel():g(b)}),w.then(r,u,c)},_o.prototype.$goog_Thenable=!0;function e0(r){return A(r.g,function(u){return I(u[1])})}function t0(r){if(r.h&&r.a&&e0(r)){var u=r.h,c=vl[u];c&&(f.clearTimeout(c.a),delete vl[u]),r.h=0}r.b&&(r.b.l--,delete r.b),u=r.c;for(var d=c=!1;r.g.length&&!r.i;){var g=r.g.shift(),w=g[0],b=g[1];if(g=g[2],w=r.f?b:w)try{var S=w.call(g||r.s,u);S!==void 0&&(r.f=r.f&&(S==u||S instanceof Error),r.c=u=S),(De(u)||typeof f.Promise=="function"&&u instanceof f.Promise)&&(d=!0,r.i=!0)}catch(j){u=j,r.f=!0,e0(r)||(c=!0)}}r.c=u,d&&(S=V(r.m,r,!0),d=V(r.m,r,!1),u instanceof _o?(hp(u,S,d),u.C=!0):u.then(S,d)),c&&(u=new n0(u),vl[u.a]=u,r.h=u.a)}function ml(){be.call(this)}G(ml,be),ml.prototype.message="Deferred has already fired",ml.prototype.name="AlreadyCalledError";function ca(){be.call(this)}G(ca,be),ca.prototype.message="Deferred was canceled",ca.prototype.name="CanceledError";function n0(r){this.a=f.setTimeout(V(this.c,this),0),this.b=r}n0.prototype.c=function(){throw delete vl[this.a],this.b};var vl={};function dp(r){var u={},c=u.document||document,d=ls(r).toString(),g=Bc(document,"SCRIPT"),w={Xb:g,Ma:void 0},b=new _o(w),S=null,j=u.timeout!=null?u.timeout:5e3;return 0<j&&(S=window.setTimeout(function(){gl(g,!0);var W=new pp(oR,"Timeout reached for loading script "+d);pl(b),aa(b,!1,W)},j),w.Ma=S),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(gl(g,u.xd||!1,S),pl(b),aa(b,!0,null))},g.onerror=function(){gl(g,!0,S);var W=new pp(iR,"Error while loading script "+d);pl(b),aa(b,!1,W)},w=u.attributes||{},Be(w,{type:"text/javascript",charset:"UTF-8"}),y_(g,w),Dx(g,r),nR(c).appendChild(g),b}function nR(r){var u;return(u=(r||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:r.documentElement}function rR(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&gl(r,!0,this.Ma)}}function gl(r,u,c){c!=null&&f.clearTimeout(c),r.onload=m,r.onerror=m,r.onreadystatechange=m,u&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var iR=0,oR=1;function pp(r,u){var c="Jsloader error (code #"+r+")";u&&(c+=": "+u),be.call(this,c),this.code=r}G(pp,be);function yl(r){this.f=r}G(yl,na),yl.prototype.a=function(){return new this.f},yl.prototype.b=function(){return{}};function _r(r,u,c){if(this.c=r,r=u||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||sR,this.g=ke(r.secureTokenHeaders||uR),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||aR,this.a=ke(r.firebaseHeaders||cR),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Mr()=="Node",c=f.XMLHttpRequest||c&&Ce.INTERNAL.node&&Ce.INTERNAL.node.XMLHttpRequest,!c&&!gr())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,gr()?this.f=new ll(self):rw()?this.f=new yl(c):this.f=new al,this.b=null}var mp,wr="idToken",sR=new Ei(3e4,6e4),uR={"Content-Type":"application/x-www-form-urlencoded"},aR=new Ei(3e4,6e4),cR={"Content-Type":"application/json"};function r0(r,u){u?r.a["X-Firebase-Locale"]=u:delete r.a["X-Firebase-Locale"]}function _l(r,u){u&&(r.l=vp("https://securetoken.googleapis.com/v1/token",u),r.h=vp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),r.i=vp("https://identitytoolkit.googleapis.com/v2/",u))}function vp(r,u){return r=Ln(r),u=Ln(u.url),r.f=r.a+r.f,qu(r,u.c),r.a=u.a,$u(r,u.g),r.toString()}function i0(r,u){u?(r.a["X-Client-Version"]=u,r.g["X-Client-Version"]=u):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}_r.prototype.T=function(){return this.b};function o0(r,u,c,d,g,w,b){dC()||gr()?r=V(r.u,r):(mp||(mp=new $e(function(S,j){fR(S,j)})),r=V(r.s,r)),r(u,c,d,g,w,b)}_r.prototype.u=function(r,u,c,d,g,w){if(gr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new sa(this.f);if(w){b.g=Math.max(0,w);var S=setTimeout(function(){b.dispatchEvent("timeout")},w)}q_(b,"complete",function(){S&&clearTimeout(S);var j=null;try{j=JSON.parse(eR(this))||null}catch{j=null}u&&u(j)}),Ed(b,"ready",function(){S&&clearTimeout(S),L_(this)}),Ed(b,"timeout",function(){S&&clearTimeout(S),L_(this),u&&u(null)}),YC(b,r,c,d,g)};var lR=new qe(Pr,"https://apis.google.com/js/client.js?onload=%{onload}"),s0="__fcb"+Math.floor(1e6*Math.random()).toString();function fR(r,u){if(((window.gapi||{}).client||{}).request)r();else{f[s0]=function(){((window.gapi||{}).client||{}).request?r():u(Error("CORS_UNSUPPORTED"))};var c=od(lR,{onload:s0});tR(dp(c),function(){u(Error("CORS_UNSUPPORTED"))})}}_r.prototype.s=function(r,u,c,d,g){var w=this;mp.then(function(){window.gapi.client.setApiKey(w.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:d,headers:g,authType:"none",callback:function(S){window.gapi.auth.setToken(b),u&&u(S)}})}).o(function(b){u&&u({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function hR(r,u){return new $e(function(c,d){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?o0(r,r.l+"?key="+encodeURIComponent(r.c),function(g){g?g.error?d(Tp(g)):g.access_token&&g.refresh_token?c(g):d(new x("internal-error")):d(new x("network-request-failed"))},"POST",z_(u).toString(),r.g,r.m.get()):d(new x("internal-error"))})}function u0(r,u,c,d,g,w,b){var S=Ln(u+c);Dt(S,"key",r.c),b&&Dt(S,"cb",Date.now().toString());var j=d=="GET";if(j)for(var W in g)g.hasOwnProperty(W)&&Dt(S,W,g[W]);return new $e(function(Pe,lt){o0(r,S.toString(),function(nt){nt?nt.error?lt(Tp(nt,w||{})):Pe(nt):lt(new x("network-request-failed"))},d,j?void 0:Q_(sw(g)),r.a,r.v.get())})}function wo(r){if(r=r.email,typeof r!="string"||!vC.test(r))throw new x("invalid-email")}function a0(r){"email"in r&&wo(r)}function dR(r,u){return Ke(r,ER,{identifier:u,continueUri:Yc()?Gu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function pR(r){return Ke(r,LR,{}).then(function(u){return u.authorizedDomains||[]})}function Mn(r){if(!r[wr])throw r.mfaPendingCredential?new x("multi-factor-auth-required",null,ke(r)):new x("internal-error")}function gp(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new x("internal-error")}else{if(!r.sessionInfo)throw new x("missing-verification-id");if(!r.code)throw new x("missing-verification-code")}}_r.prototype.Ab=function(){return Ke(this,UR,{})},_r.prototype.Cb=function(r,u){return Ke(this,f0,{idToken:r,email:u})},_r.prototype.Db=function(r,u){return Ke(this,h0,{idToken:r,password:u})};var mR={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=_r.prototype,e.Eb=function(r,u){var c={idToken:r},d=[];return Se(mR,function(g,w){var b=u[w];b===null?d.push(g):w in u&&(c[w]=b)}),d.length&&(c.deleteAttribute=d),Ke(this,f0,c)},e.wb=function(r,u){return r={requestType:"PASSWORD_RESET",email:r},Be(r,u),Ke(this,DR,r)},e.xb=function(r,u){return r={requestType:"EMAIL_SIGNIN",email:r},Be(r,u),Ke(this,OR,r)},e.vb=function(r,u){return r={requestType:"VERIFY_EMAIL",idToken:r},Be(r,u),Ke(this,NR,r)},e.Fb=function(r,u,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:u},Be(r,c),Ke(this,PR,r)};function vR(r,u){return Ke(r,VR,u)}e.gb=function(r){return Ke(this,GR,r)};function gR(r,u){return Ke(r,jR,u).then(function(c){return c.phoneSessionInfo.sessionInfo})}function c0(r){if(!r.phoneVerificationInfo)throw new x("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new x("missing-verification-code")}function yR(r,u){return Ke(r,BR,u).then(function(c){return c.phoneResponseInfo.sessionInfo})}function _R(r,u,c){return Ke(r,SR,{idToken:u,deleteProvider:c})}function yp(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new x("internal-error")}function _p(r,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(r.sessionId?u.nonce=r.sessionId:r.postBody&&(r=new co(r.postBody),kd(r,"nonce")&&(u.nonce=r.get("nonce")))),u}function l0(r){var u=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",u=sl(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",u=sl(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",u=sl(r)):r.errorMessage&&(u=p0(r.errorMessage)),u)throw u;Mn(r)}function wp(r,u){return u.returnIdpCredential=!0,Ke(r,qR,u)}function bp(r,u){return u.returnIdpCredential=!0,Ke(r,HR,u)}function Ip(r,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Ke(r,$R,u)}function Ep(r){if(!r.oobCode)throw new x("invalid-action-code")}e.ob=function(r,u){return Ke(this,FR,{oobCode:r,newPassword:u})},e.Sa=function(r){return Ke(this,bR,{oobCode:r})},e.kb=function(r){return Ke(this,wR,{oobCode:r})};var wR={endpoint:"setAccountInfo",A:Ep,Z:"email",B:!0},bR={endpoint:"resetPassword",A:Ep,G:function(r){var u=r.requestType;if(!u||!r.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},B:!0},IR={endpoint:"signupNewUser",A:function(r){if(wo(r),!r.password)throw new x("weak-password")},G:Mn,V:!0,B:!0},ER={endpoint:"createAuthUri",B:!0},TR={endpoint:"deleteAccount",O:["idToken"]},SR={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new x("internal-error")}},AR={endpoint:"emailLinkSignin",O:["email","oobCode"],A:wo,G:Mn,V:!0,B:!0},kR={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:wo,G:Mn,V:!0},xR={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:c0,G:Mn,B:!0,Na:!0},CR={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:c0,G:Mn,B:!0,Na:!0},RR={endpoint:"getAccountInfo"},OR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new x("internal-error");wo(r)},Z:"email",B:!0},NR={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new x("internal-error")},Z:"email",B:!0},PR={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},Z:"email",B:!0},DR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new x("internal-error");wo(r)},Z:"email",B:!0},LR={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},MR={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new x("internal-error")}},FR={endpoint:"resetPassword",A:Ep,Z:"email",B:!0},VR={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},f0={endpoint:"setAccountInfo",O:["idToken"],A:a0,V:!0},h0={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(a0(r),!r.password)throw new x("weak-password")},G:Mn,V:!0},UR={endpoint:"signupNewUser",G:Mn,V:!0,B:!0},jR={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new x("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},BR={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},qR={endpoint:"verifyAssertion",A:yp,Za:_p,G:l0,V:!0,B:!0},$R={endpoint:"verifyAssertion",A:yp,Za:_p,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new x("user-not-found");if(r.errorMessage)throw p0(r.errorMessage);Mn(r)},V:!0,B:!0},HR={endpoint:"verifyAssertion",A:function(r){if(yp(r),!r.idToken)throw new x("internal-error")},Za:_p,G:l0,V:!0},KR={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new x("invalid-custom-token")},G:Mn,V:!0,B:!0},d0={endpoint:"verifyPassword",A:function(r){if(wo(r),!r.password)throw new x("wrong-password")},G:Mn,V:!0,B:!0},GR={endpoint:"verifyPhoneNumber",A:gp,G:Mn,B:!0},zR={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new x("internal-error");gp(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",sl(r);Mn(r)}},WR={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:gp,G:Mn,B:!0},XR={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[wr]^!!r.refreshToken)throw new x("internal-error")},B:!0,Na:!0};function Ke(r,u,c){if(!EC(c,u.O))return bt(new x("internal-error"));var d=!!u.Na,g=u.Vb||"POST",w;return Ee(c).then(u.A).then(function(){return u.V&&(c.returnSecureToken=!0),u.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),d?u0(r,r.i,u.endpoint,g,c,u.Ib,u.mb||!1):u0(r,r.h,u.endpoint,g,c,u.Ib,u.mb||!1)}).then(function(b){return w=b,u.Za?u.Za(c,w):w}).then(u.G).then(function(){if(!u.Z)return w;if(!(u.Z in w))throw new x("internal-error");return w[u.Z]})}function p0(r){return Tp({error:{errors:[{message:r}],code:400,message:r}})}function Tp(r,u){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=d[c]?new x(d[c]):null)return c;c=r.error&&r.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Be(d,u||{}),u=(u=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in d)if(c.indexOf(g)===0)return new x(d[g],u);return!u&&r&&(u=Wu(r)),new x("internal-error",u)}function QR(r){this.b=r,this.a=null,this.sb=YR(this)}function YR(r){return rO().then(function(){return new $e(function(u,c){It("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:It("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function g(){clearTimeout(w),u()}r.a=d,r.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){c(Error("Network Error"))},nO.get());d.ping(g).then(g,function(){c(Error("Network Error"))})})})})}function JR(r,u){return r.sb.then(function(){return new $e(function(c){r.a.send(u.type,u,c,It("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function ZR(r,u){r.sb.then(function(){r.a.register("authEvent",u,It("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var eO=new qe(Pr,"https://apis.google.com/js/api.js?onload=%{onload}"),tO=new Ei(3e4,6e4),nO=new Ei(5e3,15e3),wl=null;function rO(){return wl||(wl=new $e(function(r,u){function c(){aw(),It("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){aw(),u(Error("Network Error"))},timeout:tO.get()})}if(It("gapi.iframes.Iframe"))r();else if(It("gapi.load"))c();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[d]=function(){It("gapi.load")?c():u(Error("Network Error"))},d=od(eO,{onload:d}),Ee(dp(d)).o(function(){u(Error("Network Error"))})}}).o(function(r){throw wl=null,r}))}function m0(r,u,c,d){this.l=r,this.h=u,this.i=c,this.g=d,this.f=null,this.g?(r=Ln(this.g.url),r=Xc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Xc("https",this.l,null,"/__/auth/iframe"),this.a=r,Dt(this.a,"apiKey",this.h),Dt(this.a,"appName",this.i),this.b=null,this.c=[]}m0.prototype.toString=function(){return this.f?Dt(this.a,"v",this.f):Lr(this.a.b,"v"),this.b?Dt(this.a,"eid",this.b):Lr(this.a.b,"eid"),this.c.length?Dt(this.a,"fw",this.c.join(",")):Lr(this.a.b,"fw"),this.a.toString()};function Sp(r,u,c,d,g,w){this.u=r,this.s=u,this.c=c,this.m=d,this.v=w,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}Sp.prototype.zb=function(r){return this.h=r,this},Sp.prototype.toString=function(){if(this.v){var r=Ln(this.v.url);r=Xc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Xc("https",this.u,null,"/__/auth/handler");if(Dt(r,"apiKey",this.s),Dt(r,"appName",this.c),Dt(r,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var c=Ce.app(this.c).auth().la()}catch{c=null}u.pb=c,Dt(r,"providerId",this.a.providerId),c=this.a,u=sw(c.Jb);for(var d in u)u[d]=u[d].toString();d=c.Qc,u=ke(u);for(var g=0;g<d.length;g++){var w=d[g];w in u&&delete u[w]}c.qb&&c.pb&&!u[c.qb]&&(u[c.qb]=c.pb),me(u)||Dt(r,"customParameters",Wu(u))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Dt(r,"scopes",c.join(","))),this.l?Dt(r,"redirectUrl",this.l):Lr(r.b,"redirectUrl"),this.g?Dt(r,"eventId",this.g):Lr(r.b,"eventId"),this.i?Dt(r,"v",this.i):Lr(r.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!ar(r,b)&&Dt(r,b,this.b[b]);return this.h?Dt(r,"tid",this.h):Lr(r.b,"tid"),this.f?Dt(r,"eid",this.f):Lr(r.b,"eid"),b=Ap(this.c),b.length&&Dt(r,"fw",b.join(",")),r.toString()};function Ap(r){try{return Ce.app(r).auth().Ga()}catch{return[]}}function v0(r,u,c,d,g,w){this.s=r,this.g=u,this.b=c,this.f=w,this.c=d||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function g0(r){var u=Gu();return pR(r).then(function(c){e:{var d=Ln(u),g=d.c;d=d.a;for(var w=0;w<c.length;w++){var b=c[w],S=d,j=g;if(b.indexOf("chrome-extension://")==0?S=Ln(b).a==S&&j=="chrome-extension":j!="http"&&j!="https"?S=!1:mC.test(b)?S=S==b:(b=b.split(".").join("\\."),S=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(S)),S){c=!0;break e}}c=!1}if(!c)throw new rp(Gu())})}function y0(r){return r.m||(r.m=Qc().then(function(){if(!r.u){var u=r.c,c=r.i,d=Ap(r.b),g=new m0(r.s,r.g,r.b,r.f);g.f=u,g.b=c,g.c=re(d||[]),r.u=g.toString()}r.v=new QR(r.u),iO(r)})),r.m}e=v0.prototype,e.Pb=function(r,u,c){var d=new x("popup-closed-by-user"),g=new x("web-storage-unsupported"),w=this,b=!1;return this.ma().then(function(){oO(w).then(function(S){S||(r&&lo(r),u(g),b=!0)})}).o(function(){}).then(function(){if(!b)return pC(r)}).then(function(){if(!b)return ds(c).then(function(){u(d)})})},e.Yb=function(){var r=rn();return!zu(r)&&!uw(r)},e.Ub=function(){return!1},e.Nb=function(r,u,c,d,g,w,b,S){if(!r)return bt(new x("popup-blocked"));if(b&&!zu())return this.ma().o(function(W){lo(r),g(W)}),d(),Ee();this.a||(this.a=g0(_0(this)));var j=this;return this.a.then(function(){var W=j.ma().o(function(Pe){throw lo(r),g(Pe),Pe});return d(),W}).then(function(){if(tp(c),!b){var W=la(j.s,j.g,j.b,u,c,null,w,j.c,void 0,j.i,S,j.f);Z_(W,r)}}).o(function(W){throw W.code=="auth/network-request-failed"&&(j.a=null),W})};function _0(r){return r.l||(r.C=r.c?gs(r.c,Ap(r.b)):null,r.l=new _r(r.g,We(r.i),r.C),r.f&&_l(r.l,r.f)),r.l}e.Ob=function(r,u,c,d){this.a||(this.a=g0(_0(this)));var g=this;return this.a.then(function(){tp(u);var w=la(g.s,g.g,g.b,r,u,Gu(),c,g.c,void 0,g.i,d,g.f);Z_(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(g.a=null),w})},e.ma=function(){var r=this;return y0(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new x("network-request-failed")})},e.ac=function(){return!0};function la(r,u,c,d,g,w,b,S,j,W,Pe,lt){return r=new Sp(r,u,c,d,g,lt),r.l=w,r.g=b,r.i=S,r.b=ke(j||null),r.f=W,r.zb(Pe).toString()}function iO(r){if(!r.v)throw Error("IfcHandler must be initialized!");ZR(r.v,function(u){var c={};if(u&&u.authEvent){var d=!1;for(u=qw(u.authEvent),c=0;c<r.h.length;c++)d=r.h[c](u)||d;return c={},c.status=d?"ACK":"ERROR",Ee(c)}return c.status="ERROR",Ee(c)})}function oO(r){var u={type:"webStorageSupport"};return y0(r).then(function(){return JR(r.v,u)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){B(this.h,function(u){return u==r})};function w0(r){if(this.a=r||Ce.INTERNAL.reactNative&&Ce.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=w0.prototype,e.get=function(r){return Ee(this.a.getItem(r)).then(function(u){return u&&_s(u)})},e.set=function(r,u){return Ee(this.a.setItem(r,Wu(u)))},e.U=function(r){return Ee(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function b0(r){this.b=r,this.a={},this.f=V(this.c,this)}var I0=[];function sO(){var r=gr()?self:null;if(q(I0,function(c){c.b==r&&(u=c)}),!u){var u=new b0(r);I0.push(u)}return u}b0.prototype.c=function(r){var u=r.data.eventType,c=r.data.eventId,d=this.a[u];if(d&&0<d.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:u,response:null});var g=[];q(d,function(w){g.push(Ee().then(function(){return w(r.origin,r.data.data)}))}),A_(g).then(function(w){var b=[];q(w,function(S){b.push({fulfilled:S.Qb,value:S.value,reason:S.reason?S.reason.message:void 0})}),q(b,function(S){for(var j in S)typeof S[j]>"u"&&delete S[j]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:u,response:b})})}};function E0(r,u,c){me(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[u]>"u"&&(r.a[u]=[]),r.a[u].push(c)}function T0(r){this.a=r}T0.prototype.postMessage=function(r,u){this.a.postMessage(r,u)};function S0(r){this.c=r,this.b=!1,this.a=[]}function A0(r,u,c,d){var g,w=c||{},b,S,j,W=null;if(r.b)return bt(Error("connection_unavailable"));var Pe=d?800:50,lt=typeof MessageChannel<"u"?new MessageChannel:null;return new $e(function(nt,Jt){lt?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),lt.port1.start(),S=setTimeout(function(){Jt(Error("unsupported_event"))},Pe),b=function(ii){ii.data.eventId===g&&(ii.data.status==="ack"?(clearTimeout(S),j=setTimeout(function(){Jt(Error("timeout"))},3e3)):ii.data.status==="done"?(clearTimeout(j),typeof ii.data.response<"u"?nt(ii.data.response):Jt(Error("unknown_error"))):(clearTimeout(S),clearTimeout(j),Jt(Error("invalid_response"))))},W={messageChannel:lt,onMessage:b},r.a.push(W),lt.port1.addEventListener("message",b),r.c.postMessage({eventType:u,eventId:g,data:w},[lt.port2])):Jt(Error("connection_unavailable"))}).then(function(nt){return kp(r,W),nt}).o(function(nt){throw kp(r,W),nt})}function kp(r,u){if(u){var c=u.messageChannel,d=u.onMessage;c&&(c.port1.removeEventListener("message",d),c.port1.close()),B(r.a,function(g){return g==u})}}S0.prototype.close=function(){for(;0<this.a.length;)kp(this,this.a[0]);this.b=!0};function k0(){if(!Rp())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;gr()&&self?(this.v=sO(),E0(this.v,"keyChanged",function(u,c){return R0(r).then(function(d){return 0<d.length&&q(r.a,function(g){g(d)}),{keyProcessed:O(d,c.key)}})}),E0(this.v,"ping",function(){return Ee(["keyChanged"])})):bC().then(function(u){(r.h=u)&&(r.g=new S0(new T0(u)),A0(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&O(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var xp;function uO(r){return new $e(function(u,c){var d=r.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){u()},d.onerror=function(g){c(Error(g.target.error))}})}function x0(r){return new $e(function(u,c){var d=r.m.open("firebaseLocalStorageDb",1);d.onerror=function(g){try{g.preventDefault()}catch{}c(Error(g.target.error))},d.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){c(w)}},d.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):uO(r).then(function(){return x0(r)}).then(function(w){u(w)}).o(function(w){c(w)})}})}function Cp(r){return r.i||(r.i=x0(r)),r.i}function bl(r,u){function c(g,w){Cp(r).then(u).then(g).o(function(b){if(3<++d)w(b);else return Cp(r).then(function(S){return S.close(),r.i=void 0,c(g,w)}).o(function(S){w(S)})})}var d=0;return new $e(c)}function Rp(){try{return!!f.indexedDB}catch{return!1}}function fa(r){return r.objectStore("firebaseLocalStorage")}function ha(r,u){return r.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function Es(r){return new $e(function(u,c){r.onsuccess=function(d){d&&d.target?u(d.target.result):u()},r.onerror=function(d){c(d.target.error)}})}e=k0.prototype,e.set=function(r,u){var c=this,d=!1;return bl(this,function(g){return g=fa(ha(g,!0)),Es(g.get(r))}).then(function(g){return bl(c,function(w){if(w=fa(ha(w,!0)),g)return g.value=u,Es(w.put(g));c.b++,d=!0;var b={};return b.fbase_key=r,b.value=u,Es(w.add(b))})}).then(function(){return c.c[r]=u,C0(c,r)}).oa(function(){d&&c.b--})};function C0(r,u){return r.g&&r.h&&wC()===r.h?A0(r.g,"keyChanged",{key:u},r.s).then(function(){}).o(function(){}):Ee()}e.get=function(r){return bl(this,function(u){return Es(fa(ha(u,!1)).get(r))}).then(function(u){return u&&u.value})},e.U=function(r){var u=this,c=!1;return bl(this,function(d){return c=!0,u.b++,Es(fa(ha(d,!0)).delete(r))}).then(function(){return delete u.c[r],C0(u,r)}).oa(function(){c&&u.b--})};function R0(r){return Cp(r).then(function(u){var c=fa(ha(u,!1));return c.getAll?Es(c.getAll()):new $e(function(d,g){var w=[],b=c.openCursor();b.onsuccess=function(S){(S=S.target.result)?(w.push(S.value),S.continue()):d(w)},b.onerror=function(S){g(S.target.error)}})}).then(function(u){var c={},d=[];if(r.b==0){for(d=0;d<u.length;d++)c[u[d].fbase_key]=u[d].value;d=ew(r.c,c),r.c=c}return d})}e.ca=function(r){this.a.length==0&&aO(this),this.a.push(r)},e.ia=function(r){B(this.a,function(u){return u==r}),this.a.length==0&&O0(this)};function aO(r){function u(){r.f=setTimeout(function(){r.l=R0(r).then(function(c){0<c.length&&q(r.a,function(d){d(c)})}).then(function(){u()}).o(function(c){c.message!="STOP_EVENT"&&u()})},800)}O0(r),u()}function O0(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function N0(r){var u=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Ee().then(function(){if(Rp()){var d=ho(),g="__sak"+d;return xp||(xp=new k0),c=xp,c.set(g,d).then(function(){return c.get(g)}).then(function(w){if(w!==d)throw Error("indexedDB not supported!");return c.U(g)}).then(function(){return c}).o(function(){return u.c})}return u.c}).then(function(d){return u.type=d.type,d.ca(function(g){q(u.a,function(w){w(g)})}),d})}e=N0.prototype,e.get=function(r){return this.b.then(function(u){return u.get(r)})},e.set=function(r,u){return this.b.then(function(c){return c.set(r,u)})},e.U=function(r){return this.b.then(function(u){return u.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){B(this.a,function(u){return u==r})};function da(){this.a={},this.type="inMemory"}e=da.prototype,e.get=function(r){return Ee(this.a[r])},e.set=function(r,u){return this.a[r]=u,Ee()},e.U=function(r){return delete this.a[r],Ee()},e.ca=function(){},e.ia=function(){};function Il(){if(!cO())throw Mr()=="Node"?new x("internal-error","The LocalStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=P0()||Ce.INTERNAL.node.localStorage,this.type="localStorage"}function P0(){try{var r=f.localStorage,u=ho();return r&&(r.setItem(u,"1"),r.removeItem(u)),r}catch{return null}}function cO(){var r=Mr()=="Node";if(r=P0()||r&&Ce.INTERNAL.node&&Ce.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=Il.prototype,e.get=function(r){var u=this;return Ee().then(function(){var c=u.a.getItem(r);return _s(c)})},e.set=function(r,u){var c=this;return Ee().then(function(){var d=Wu(u);d===null?c.U(r):c.a.setItem(r,d)})},e.U=function(r){var u=this;return Ee().then(function(){u.a.removeItem(r)})},e.ca=function(r){f.window&&ur(f.window,"storage",r)},e.ia=function(r){f.window&&zn(f.window,"storage",r)};function Op(){this.type="nullStorage"}e=Op.prototype,e.get=function(){return Ee(null)},e.set=function(){return Ee()},e.U=function(){return Ee()},e.ca=function(){},e.ia=function(){};function Np(){if(!lO())throw Mr()=="Node"?new x("internal-error","The SessionStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=D0()||Ce.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function D0(){try{var r=f.sessionStorage,u=ho();return r&&(r.setItem(u,"1"),r.removeItem(u)),r}catch{return null}}function lO(){var r=Mr()=="Node";if(r=D0()||r&&Ce.INTERNAL.node&&Ce.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=Np.prototype,e.get=function(r){var u=this;return Ee().then(function(){var c=u.a.getItem(r);return _s(c)})},e.set=function(r,u){var c=this;return Ee().then(function(){var d=Wu(u);d===null?c.U(r):c.a.setItem(r,d)})},e.U=function(r){var u=this;return Ee().then(function(){u.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function fO(){var r={};r.Browser=hO,r.Node=dO,r.ReactNative=pO,r.Worker=mO,this.a=r[Mr()]}var Pp,hO={F:Il,cb:Np},dO={F:Il,cb:Np},pO={F:w0,cb:Op},mO={F:Il,cb:Op},Ts={rd:"local",NONE:"none",td:"session"};function vO(r){var u=new x("invalid-persistence-type"),c=new x("unsupported-persistence-type");e:{for(d in Ts)if(Ts[d]==r){var d=!0;break e}d=!1}if(!d||typeof r!="string")throw u;switch(Mr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!Rp()&&r!=="none")throw c;break;default:if(!Pd()&&r!=="none")throw c}}function L0(){var r=!!(!uw(rn())&&Od()),u=zu(),c=Pd();this.m=r,this.h=u,this.l=c,this.a={},Pp||(Pp=new fO),r=Pp;try{this.g=!Cd()&&cw()||!f.indexedDB?new r.a.F:new N0(gr()?new da:new r.a.F)}catch{this.g=new da,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new da}this.v=new da,this.f=V(this.Zb,this),this.b={}}var Dp;function pa(){return Dp||(Dp=new L0),Dp}function bo(r,u){switch(u){case"session":return r.i;case"none":return r.v;default:return r.g}}function Ss(r,u){return"firebase:"+r.name+(u?":"+u:"")}function gO(r,u,c){var d=Ss(u,c),g=bo(r,u.F);return r.get(u,c).then(function(w){var b=null;try{b=_s(f.localStorage.getItem(d))}catch{}if(b&&!w)return f.localStorage.removeItem(d),r.set(u,b,c);b&&w&&g.type!="localStorage"&&f.localStorage.removeItem(d)})}e=L0.prototype,e.get=function(r,u){return bo(this,r.F).get(Ss(r,u))};function As(r,u,c){return c=Ss(u,c),u.F=="local"&&(r.b[c]=null),bo(r,u.F).U(c)}e.set=function(r,u,c){var d=Ss(r,c),g=this,w=bo(this,r.F);return w.set(d,u).then(function(){return w.get(d)}).then(function(b){r.F=="local"&&(g.b[d]=b)})},e.addListener=function(r,u,c){r=Ss(r,u),this.l&&(this.b[r]=f.localStorage.getItem(r)),me(this.a)&&(bo(this,"local").ca(this.f),this.h||(Cd()||!cw())&&f.indexedDB||!this.l||yO(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,u,c){r=Ss(r,u),this.a[r]&&(B(this.a[r],function(d){return d==c}),this.a[r].length==0&&delete this.a[r]),me(this.a)&&(bo(this,"local").ia(this.f),Lp(this))};function yO(r){Lp(r),r.c=setInterval(function(){for(var u in r.a){var c=f.localStorage.getItem(u),d=r.b[u];c!=d&&(r.b[u]=c,c=new uo({type:"storage",key:u,target:window,oldValue:d,newValue:c,a:!0}),r.Zb(c))}},1e3)}function Lp(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var u=r.a.key;if(u==null)for(var c in this.a){var d=this.b[c];typeof d>"u"&&(d=null);var g=f.localStorage.getItem(c);g!==d&&(this.b[c]=g,this.nb(c))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof r.a.a<"u"?bo(this,"local").ia(this.f):Lp(this),this.m){if(c=f.localStorage.getItem(u),d=r.a.newValue,d!==c)d!==null?f.localStorage.setItem(u,d):f.localStorage.removeItem(u);else if(this.b[u]===d&&typeof r.a.a>"u")return}var w=this;c=function(){(typeof r.a.a<"u"||w.b[u]!==f.localStorage.getItem(u))&&(w.b[u]=f.localStorage.getItem(u),w.nb(u))},vr&&wi&&wi==10&&f.localStorage.getItem(u)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else q(r,V(this.nb,this))},e.nb=function(r){this.a[r]&&q(this.a[r],function(u){u()})};function _O(r){this.a=r,this.b=pa()}var Mp={name:"authEvent",F:"local"};function wO(r){return r.b.get(Mp,r.a).then(function(u){return qw(u)})}function bO(){this.a=pa()}function IO(){this.b=-1}function El(r,u){this.b=M0,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=u,this.l=f.Int32Array?new Int32Array(64):Array(64),Tl===void 0&&(f.Int32Array?Tl=new Int32Array(U0):Tl=U0),this.reset()}var Tl;G(El,IO);for(var M0=64,EO=M0-1,F0=[],Fp=0;Fp<EO;Fp++)F0[Fp]=0;var V0=z(128,F0);El.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):re(this.h)};function Vp(r){for(var u=r.f,c=r.l,d=0,g=0;g<u.length;)c[d++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*d;for(u=16;64>u;u++){g=c[u-15]|0,d=c[u-2]|0;var w=(c[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,b=(c[u-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[u]=w+b|0}d=r.a[0]|0,g=r.a[1]|0;var S=r.a[2]|0,j=r.a[3]|0,W=r.a[4]|0,Pe=r.a[5]|0,lt=r.a[6]|0;for(w=r.a[7]|0,u=0;64>u;u++){var nt=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&g^d&S^g&S)|0;b=W&Pe^~W&lt,w=w+((W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7))|0,b=b+(Tl[u]|0)|0,b=w+(b+(c[u]|0)|0)|0,w=lt,lt=Pe,Pe=W,W=j+b|0,j=S,S=g,g=d,d=b+nt|0}r.a[0]=r.a[0]+d|0,r.a[1]=r.a[1]+g|0,r.a[2]=r.a[2]+S|0,r.a[3]=r.a[3]+j|0,r.a[4]=r.a[4]+W|0,r.a[5]=r.a[5]+Pe|0,r.a[6]=r.a[6]+lt|0,r.a[7]=r.a[7]+w|0}function Up(r,u,c){c===void 0&&(c=u.length);var d=0,g=r.c;if(typeof u=="string")for(;d<c;)r.f[g++]=u.charCodeAt(d++),g==r.b&&(Vp(r),g=0);else if(_(u))for(;d<c;){var w=u[d++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");r.f[g++]=w,g==r.b&&(Vp(r),g=0)}else throw Error("message must be string or array");r.c=g,r.g+=c}var U0=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function j0(){El.call(this,8,TO)}G(j0,El);var TO=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function B0(r,u,c,d,g,w){this.v=r,this.i=u,this.l=c,this.m=d||null,this.u=g||null,this.s=w,this.h=u+":"+c,this.C=new bO,this.g=new _O(this.h),this.f=null,this.b=[],this.a=this.c=null}function Sl(r){return new x("invalid-cordova-configuration",r)}e=B0.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=gC().then(function(){if(typeof It("universalLinks.subscribe",f)!="function")throw Sl("cordova-universal-links-plugin-fix is not installed");if(typeof It("BuildInfo.packageName",f)>"u")throw Sl("cordova-plugin-buildinfo is not installed");if(typeof It("cordova.plugins.browsertab.openUrl",f)!="function")throw Sl("cordova-plugin-browsertab is not installed");if(typeof It("cordova.InAppBrowser.open",f)!="function")throw Sl("cordova-plugin-inappbrowser is not installed")},function(){throw new x("cordova-not-ready")})};function SO(){for(var r=20,u=[];0<r;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return u.join("")}function AO(r){var u=new j0;Up(u,r),r=[];var c=8*u.g;56>u.c?Up(u,V0,56-u.c):Up(u,V0,u.b-(u.c-56));for(var d=63;56<=d;d--)u.f[d]=c&255,c/=256;for(Vp(u),d=c=0;d<u.i;d++)for(var g=24;0<=g;g-=8)r[c++]=u.a[d]>>g&255;return FC(r)}e.Pb=function(r,u){return u(new x("operation-not-supported-in-this-environment")),Ee()},e.Nb=function(){return bt(new x("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,u,c,d){if(this.c)return bt(new x("redirect-operation-pending"));var g=this,w=f.document,b=null,S=null,j=null,W=null;return this.c=Ee().then(function(){return tp(u),$0(g)}).then(function(){return kO(g,r,u,c,d)}).then(function(){return new $e(function(Pe,lt){S=function(){var nt=It("cordova.plugins.browsertab.close",f);return Pe(),typeof nt=="function"&&nt(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(S),j=function(){b||(b=ds(2e3).then(function(){lt(new x("redirect-cancelled-by-user"))}))},W=function(){Dd()&&j()},w.addEventListener("resume",j,!1),rn().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",W,!1)}).o(function(Pe){return jp(g).then(function(){throw Pe})})}).oa(function(){j&&w.removeEventListener("resume",j,!1),W&&w.removeEventListener("visibilitychange",W,!1),b&&b.cancel(),S&&g.Ta(S),g.c=null})};function kO(r,u,c,d,g){var w=SO(),b=new yr(u,d,null,w,new x("no-auth-event"),null,g),S=It("BuildInfo.packageName",f);if(typeof S!="string")throw new x("invalid-cordova-configuration");var j=It("BuildInfo.displayName",f),W={};if(rn().toLowerCase().match(/iphone|ipad|ipod/))W.ibi=S;else if(rn().toLowerCase().match(/android/))W.apn=S;else return bt(new x("operation-not-supported-in-this-environment"));j&&(W.appDisplayName=j),w=AO(w),W.sessionId=w;var Pe=la(r.v,r.i,r.l,u,c,null,d,r.m,W,r.u,g,r.s);return r.ma().then(function(){var lt=r.h;return r.C.a.set(Mp,b.w(),lt)}).then(function(){var lt=It("cordova.plugins.browsertab.isAvailable",f);if(typeof lt!="function")throw new x("invalid-cordova-configuration");var nt=null;lt(function(Jt){if(Jt){if(nt=It("cordova.plugins.browsertab.openUrl",f),typeof nt!="function")throw new x("invalid-cordova-configuration");nt(Pe)}else{if(nt=It("cordova.InAppBrowser.open",f),typeof nt!="function")throw new x("invalid-cordova-configuration");Jt=rn(),r.a=nt(Pe,Jt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Jt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function q0(r,u){for(var c=0;c<r.b.length;c++)try{r.b[c](u)}catch{}}function $0(r){return r.f||(r.f=r.ma().then(function(){return new $e(function(u){function c(d){return u(d),r.Ta(c),!1}r.Ea(c),xO(r)})})),r.f}function jp(r){var u=null;return wO(r.g).then(function(c){return u=c,c=r.g,As(c.b,Mp,c.a)}).then(function(){return u})}function xO(r){function u(b){d=!0,g&&g.cancel(),jp(r).then(function(S){var j=c;if(S&&b&&b.url){var W=null;j=Dw(b.url),j.indexOf("/__/auth/callback")!=-1&&(W=Ln(j),W=_s(ar(W,"firebaseError")||null),W=(W=typeof W=="object"?He(W):null)?new yr(S.c,S.b,null,null,W,null,S.T()):new yr(S.c,S.b,j,S.f,null,null,S.T())),j=W||c}q0(r,j)})}var c=new yr("unknown",null,null,null,new x("no-auth-event")),d=!1,g=ds(500).then(function(){return jp(r).then(function(){d||q0(r,c)})}),w=f.handleOpenURL;f.handleOpenURL=function(b){if(b.toLowerCase().indexOf(It("BuildInfo.packageName",f).toLowerCase()+"://")==0&&u({url:b}),typeof w=="function")try{w(b)}catch(S){console.error(S)}},np||(np=new KC),GC(u)}e.Ea=function(r){this.b.push(r),$0(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new yr("unknown",null,null,null,new x("no-auth-event")),r(u))})},e.Ta=function(r){B(this.b,function(u){return u==r})};function CO(r){this.a=r,this.b=pa()}var Bp={name:"pendingRedirect",F:"session"};function RO(r){return r.b.set(Bp,"pending",r.a)}function qp(r){return As(r.b,Bp,r.a)}function OO(r){return r.b.get(Bp,r.a).then(function(u){return u=="pending"})}function Al(r,u,c,d){this.i={},this.u=0,this.D=r,this.v=u,this.m=c,this.J=d,this.h=[],this.f=!1,this.l=V(this.s,this),this.b=new xl,this.C=new Z0,this.g=new CO(Q0(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=H0(this.D,this.v,this.m,se,this.J)}function H0(r,u,c,d,g){var w=Ce.SDK_VERSION||null;return Rd()?new B0(r,u,c,w,d,g):new v0(r,u,c,w,d,g)}Al.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=H0(this.D,this.v,this.m,null,this.J),this.i={}};function K0(r){r.f||(r.f=!0,r.a.Ea(r.l));var u=r.a;return r.a.ma().o(function(c){throw r.a==u&&r.reset(),c})}function G0(r){r.a.Yb()&&K0(r).o(function(u){var c=new yr("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));Hp(u)&&r.s(c)}),r.a.Ub()||Y0(r.b)}function kl(r,u){O(r.h,u)||r.h.push(u),r.f||OO(r.g).then(function(c){c?qp(r.g).then(function(){K0(r).o(function(d){var g=new yr("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));Hp(d)&&r.s(g)})}):G0(r)}).o(function(){G0(r)})}function $p(r,u){B(r.h,function(c){return c==u})}Al.prototype.s=function(r){if(!r)throw new x("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var u=!1,c=0;c<this.h.length;c++){var d=this.h[c];if(d.Gb(r.c,r.b)){(u=this.c[r.c])&&(u.h(r,d),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),u=!0;break}}return Y0(this.b),u};var NO=new Ei(2e3,1e4),PO=new Ei(3e4,6e4);Al.prototype.ra=function(){return this.b.ra()};function z0(r,u,c,d,g,w,b){return r.a.Nb(u,c,d,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},g,w,b)}function Hp(r){return!!(r&&r.code=="auth/cordova-not-ready")}function W0(r,u,c,d,g){var w;return RO(r.g).then(function(){return r.a.Ob(u,c,d,g).o(function(b){if(Hp(b))throw new x("operation-not-supported-in-this-environment");return w=b,qp(r.g).then(function(){throw w})}).then(function(){return r.a.ac()?new $e(function(){}):qp(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function X0(r,u,c,d,g){return r.a.Pb(d,function(w){u.na(c,null,w,g)},NO.get())}var Kp={};function Q0(r,u,c){return r=r+":"+u,c&&(r=r+":"+c.url),r}function Gp(r,u,c,d){var g=Q0(u,c,d);return Kp[g]||(Kp[g]=new Al(r,u,c,d)),Kp[g]}function xl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}xl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},xl.prototype.h=function(r,u){if(r){this.reset(),this.g=!0;var c=r.c,d=r.b,g=r.a&&r.a.code=="auth/web-storage-unsupported",w=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!w),c!="unknown"||g||w?r.a?(Io(this,!0,null,r.a),Ee()):u.Fa(c,d)?DO(this,r,u):bt(new x("invalid-auth-event")):(Io(this,!1,null,null),Ee())}else bt(new x("invalid-auth-event"))};function Y0(r){r.g||(r.g=!0,Io(r,!1,null,null))}function Cl(r){r.g&&!r.i&&Io(r,!1,null,null)}function DO(r,u,c){c=c.Fa(u.c,u.b);var d=u.g,g=u.f,w=u.i,b=u.T(),S=!!u.c.match(/Redirect$/);c(d,g,b,w).then(function(j){Io(r,S,j,null)}).o(function(j){Io(r,S,null,j)})}function LO(r,u){if(r.b=function(){return bt(u)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](u)}function J0(r,u){if(r.b=function(){return Ee(u)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](u)}function Io(r,u,c,d){u?d?LO(r,d):J0(r,c):J0(r,{user:null}),r.f=[],r.c=[]}xl.prototype.ra=function(){var r=this;return new $e(function(u,c){r.b?r.b().then(u,c):(r.f.push(u),r.c.push(c),MO(r))})};function MO(r){var u=new x("timeout");r.a&&r.a.cancel(),r.a=ds(PO.get()).then(function(){r.b||(r.g=!0,Io(r,!0,null,u))})}function Z0(){}Z0.prototype.h=function(r,u){if(r){var c=r.c,d=r.b;r.a?(u.na(r.c,null,r.a,r.b),Ee()):u.Fa(c,d)?FO(r,u):bt(new x("invalid-auth-event"))}else bt(new x("invalid-auth-event"))};function FO(r,u){var c=r.b,d=r.c;u.Fa(d,c)(r.g,r.f,r.T(),r.i).then(function(g){u.na(d,g,null,c)}).o(function(g){u.na(d,null,g,c)})}function eb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function zp(r,u){this.a=u,pe(this,"verificationId",r)}zp.prototype.confirm=function(r){return r=Bw(this.verificationId,r),this.a(r)};function Wp(r,u,c,d){return new ni(r).gb(u,c).then(function(g){return new zp(g,d)})}function VO(r){var u=Aw(r);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");In(this,{token:r,expirationTime:Xu(1e3*u.exp),authTime:Xu(1e3*u.auth_time),issuedAtTime:Xu(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function Xp(r,u,c){var d=u&&u[nb];if(!d)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=ke(u),this.g=c,this.c=new il(null,d),this.b=[];var g=this;q(u[tb]||[],function(w){(w=jd(w))&&g.b.push(w)}),pe(this,"auth",this.a),pe(this,"session",this.c),pe(this,"hints",this.b)}var tb="mfaInfo",nb="mfaPendingCredential";Xp.prototype.Rc=function(r){var u=this;return r.tb(this.a.a,this.c).then(function(c){var d=ke(u.f);return delete d[tb],delete d[nb],Be(d,c),u.g(d)})};function Qp(r,u,c,d){x.call(this,"multi-factor-auth-required",d,u),this.b=new Xp(r,u,c),pe(this,"resolver",this.b)}G(Qp,x);function rb(r,u,c){if(r&&E(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new Qp(u,r.serverResponse,c,r.message)}catch{}return null}function ib(){}ib.prototype.tb=function(r,u,c){return u.type==Zu?UO(this,r,u,c):jO(this,r,u)};function UO(r,u,c,d){return c.Ha().then(function(g){return g={idToken:g},typeof d<"u"&&(g.displayName=d),Be(g,{phoneVerificationInfo:ea(r.a)}),Ke(u,xR,g)})}function jO(r,u,c){return c.Ha().then(function(d){return d={mfaPendingCredential:d},Be(d,{phoneVerificationInfo:ea(r.a)}),Ke(u,CR,d)})}function Yp(r){pe(this,"factorId",r.fa),this.a=r}G(Yp,ib);function ob(r){if(Yp.call(this,r),this.a.fa!=ni.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}G(ob,Yp);function ks(r,u){Dn.call(this,r);for(var c in u)this[c]=u[c]}G(ks,Dn);function Jp(r,u){this.a=r,this.b=[],this.c=V(this.yc,this),ur(this.a,"userReloaded",this.c);var c=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&q(u.multiFactor.enrolledFactors,function(d){var g=null,w={};if(d){d.uid&&(w[qd]=d.uid),d.displayName&&(w[fw]=d.displayName),d.enrollmentTime&&(w[Bd]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(w[$d]=d.phoneNumber);try{g=new Qu(w)}catch{}d=g}else d=null;d&&c.push(d)}),Rl(this,c)}function BO(r){var u=[];return q(r.mfaInfo||[],function(c){(c=jd(c))&&u.push(c)}),u}e=Jp.prototype,e.yc=function(r){Rl(this,BO(r.hd))};function Rl(r,u){r.b=u,pe(r,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(r){return new il(r,null)})},e.fc=function(r,u){var c=this,d=this.a.a;return this.Sb().then(function(g){return r.tb(d,g,u)}).then(function(g){return Ur(c.a,g),c.a.reload()})},e.bd=function(r){var u=this,c=typeof r=="string"?r:r.uid,d=this.a.a;return this.a.I().then(function(g){return Ke(d,XR,{idToken:g,mfaEnrollmentId:c})}).then(function(g){var w=ae(u.b,function(b){return b.uid!=c});return Rl(u,w),Ur(u.a,g),u.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},e.w=function(){return{multiFactor:{enrolledFactors:Oe(this.b,function(r){return r.w()})}}};function Zp(r,u,c){if(this.h=r,this.i=u,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Zp.prototype.start=function(){this.a=this.c,em(this,!0)};function qO(r,u){return u?(r.a=r.c,r.g()):(u=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),u)}function em(r,u){r.stop(),r.b=ds(qO(r,u)).then(function(){return _C()}).then(function(){return r.h()}).then(function(){em(r,!0)}).o(function(c){r.i(c)&&em(r,!1)})}Zp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function tm(r){this.f=r,this.b=this.a=null,this.c=Date.now()}tm.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function sb(r,u){typeof u>"u"&&(r.b?(u=r.b,u=u.a-u.g):u=0),r.c=Date.now()+1e3*u}function ub(r,u){r.b=nl(u[wr]||""),r.a=u.refreshToken,u=u.expiresIn,sb(r,typeof u<"u"?Number(u):void 0)}function $O(r,u){r.b=u.b,r.a=u.a,r.c=u.c}function HO(r,u){return hR(r.f,u).then(function(c){return r.b=nl(c.access_token),r.a=c.refresh_token,sb(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}tm.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?bt(new x("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?HO(this,{grant_type:"refresh_token",refresh_token:this.a}):Ee(null):Ee({accessToken:this.b.toString(),refreshToken:this.a})};function Ol(r,u){this.a=r||null,this.b=u||null,In(this,{lastSignInTime:Xu(u||null),creationTime:Xu(r||null)})}function KO(r){return new Ol(r.a,r.b)}Ol.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function GO(r,u,c,d,g,w){In(this,{uid:r,displayName:d||null,photoURL:g||null,email:c||null,phoneNumber:w||null,providerId:u})}function Xn(r,u,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var d=Ce.SDK_VERSION?gs(Ce.SDK_VERSION):null;this.a=new _r(this.l,We(se),d),(this.u=r.emulatorConfig||null)&&_l(this.a,this.u),this.h=new tm(this.a),am(this,u[wr]),ub(this.h,u),pe(this,"refreshToken",this.h.a),cb(this,c||{}),bn.call(this),this.P=!1,this.s&&fo()&&(this.b=Gp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=zO(this),this.ba=V(this.ib,this);var g=this;this.za=null,this.Pa=function(w){g.xa(w.h)},this.qa=null,this.Ba=function(w){nm(g,w.c)},this.$=null,this.aa=[],this.Oa=function(w){ma(g,w.f)},this.ja=null,this.S=new Jp(this,c),pe(this,"multiFactor",this.S)}G(Xn,bn),Xn.prototype.xa=function(r){this.za=r,r0(this.a,r)};function nm(r,u){r.u=u,_l(r.a,u),r.b&&(u=r.b,r.b=Gp(r.s,r.l,r.m,r.u),r.P&&($p(u,r),kl(r.b,r)))}Xn.prototype.la=function(){return this.za};function rm(r,u){r.qa&&zn(r.qa,"languageCodeChanged",r.Pa),(r.qa=u)&&ur(u,"languageCodeChanged",r.Pa)}function im(r,u){r.$&&zn(r.$,"emulatorConfigChanged",r.Ba),(r.$=u)&&ur(u,"emulatorConfigChanged",r.Ba)}function ma(r,u){r.aa=u,i0(r.a,Ce.SDK_VERSION?gs(Ce.SDK_VERSION,r.aa):null)}Xn.prototype.Ga=function(){return re(this.aa)};function om(r,u){r.ja&&zn(r.ja,"frameworkChanged",r.Oa),(r.ja=u)&&ur(u,"frameworkChanged",r.Oa)}Xn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function sm(r){try{return Ce.app(r.m).auth()}catch{throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function zO(r){return new Zp(function(){return r.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=r.h.c-Date.now()-3e5;return 0<u?u:0})}function ab(r){r.J||r.D.b||(r.D.start(),zn(r,"tokenChanged",r.ba),ur(r,"tokenChanged",r.ba))}function um(r){zn(r,"tokenChanged",r.ba),r.D.stop()}function am(r,u){r.Aa=u,pe(r,"_lat",u)}function WO(r,u){B(r.W,function(c){return c==u})}function Eo(r){for(var u=[],c=0;c<r.W.length;c++)u.push(r.W[c](r));return A_(u).then(function(){return r})}function va(r){r.b&&!r.P&&(r.P=!0,kl(r.b,r))}function cb(r,u){In(r,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Ol(u.createdAt,u.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}pe(Xn.prototype,"providerId","firebase");function lb(){}function cm(r){return Ee().then(function(){if(r.J)throw new x("app-deleted")})}function lm(r){return Oe(r.providerData,function(u){return u.providerId})}function fm(r,u){u&&(fb(r,u.providerId),r.providerData.push(u))}function fb(r,u){B(r.providerData,function(c){return c.providerId==u})}function Ai(r,u,c){(u!="uid"||c)&&r.hasOwnProperty(u)&&pe(r,u,c)}function Nl(r,u){r!=u&&(In(r,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?pe(r,"metadata",KO(u.metadata)):pe(r,"metadata",new Ol),q(u.providerData,function(c){fm(r,c)}),$O(r.h,u.h),pe(r,"refreshToken",r.h.a),Rl(r.S,u.S.b))}e=Xn.prototype,e.reload=function(){var r=this;return zt(this,cm(this).then(function(){return hm(r).then(function(){return Eo(r)}).then(lb)}))};function hm(r){return r.I().then(function(u){var c=r.isAnonymous;return XO(r,u).then(function(){return c||Ai(r,"isAnonymous",!1),u})})}e.oc=function(r){return this.I(r).then(function(u){return new VO(u)})},e.I=function(r){var u=this;return zt(this,cm(this).then(function(){return u.h.getToken(r)}).then(function(c){if(!c)throw new x("internal-error");return c.accessToken!=u.Aa&&(am(u,c.accessToken),u.dispatchEvent(new ks("tokenChanged"))),Ai(u,"refreshToken",c.refreshToken),c.accessToken}))};function Ur(r,u){u[wr]&&r.Aa!=u[wr]&&(ub(r.h,u),r.dispatchEvent(new ks("tokenChanged")),am(r,u[wr]),Ai(r,"refreshToken",r.h.a))}function XO(r,u){return Ke(r.a,RR,{idToken:u}).then(V(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new x("internal-error");r=r[0],cb(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var u=QO(r),c=0;c<u.length;c++)fm(this,u[c]);Ai(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ks("userReloaded",{hd:r}))};function QO(r){return(r=r.providerUserInfo)&&r.length?Oe(r,function(u){return new GO(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(r){return Ld("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var u=this,c=null;return zt(this,r.c(this.a,this.uid).then(function(d){return Ur(u,d),c=ga(u,d,"reauthenticate"),u.i=null,u.reload()}).then(function(){return c}),!0)};function Pl(r,u){return hm(r).then(function(){if(O(lm(r),u))return Eo(r).then(function(){throw new x("provider-already-linked")})})}e.Cc=function(r){return Ld("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var u=this,c=null;return zt(this,Pl(this,r.providerId).then(function(){return u.I()}).then(function(d){return r.b(u.a,d)}).then(function(d){return c=ga(u,d,"link"),hb(u,d)}).then(function(){return c}))},e.Dc=function(r,u){var c=this;return zt(this,Pl(this,"phone").then(function(){return Wp(sm(c),r,u,V(c.rb,c))}))},e.Mc=function(r,u){var c=this;return zt(this,Ee().then(function(){return Wp(sm(c),r,u,V(c.ub,c))}),!0)};function ga(r,u,c){var d=ep(u);return u=xw(u),Fr({user:r,credential:d,additionalUserInfo:u,operationType:c})}function hb(r,u){return Ur(r,u),r.reload().then(function(){return r})}e.Cb=function(r){var u=this;return zt(this,this.I().then(function(c){return u.a.Cb(c,r)}).then(function(c){return Ur(u,c),u.reload()}))},e.ed=function(r){var u=this;return zt(this,this.I().then(function(c){return r.b(u.a,c)}).then(function(c){return Ur(u,c),u.reload()}))},e.Db=function(r){var u=this;return zt(this,this.I().then(function(c){return u.a.Db(c,r)}).then(function(c){return Ur(u,c),u.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return cm(this);var u=this;return zt(this,this.I().then(function(c){return u.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Ur(u,c),Ai(u,"displayName",c.displayName||null),Ai(u,"photoURL",c.photoUrl||null),q(u.providerData,function(d){d.providerId==="password"&&(pe(d,"displayName",u.displayName),pe(d,"photoURL",u.photoURL))}),Eo(u)}).then(lb))},e.cd=function(r){var u=this;return zt(this,hm(this).then(function(c){return O(lm(u),r)?_R(u.a,c,[r]).then(function(d){var g={};return q(d.providerUserInfo||[],function(w){g[w.providerId]=!0}),q(lm(u),function(w){g[w]||fb(u,w)}),g[ni.PROVIDER_ID]||pe(u,"phoneNumber",null),Eo(u)}):Eo(u).then(function(){throw new x("no-such-provider")})}))},e.delete=function(){var r=this;return zt(this,this.I().then(function(u){return Ke(r.a,TR,{idToken:u})}).then(function(){r.dispatchEvent(new ks("userDeleted"))})).then(function(){for(var u=0;u<r.N.length;u++)r.N[u].cancel("app-deleted");rm(r,null),im(r,null),om(r,null),r.N=[],r.J=!0,um(r),pe(r,"refreshToken",null),r.b&&$p(r.b,r)})},e.Gb=function(r,u){return!!(r=="linkViaPopup"&&(this.g||null)==u&&this.f||r=="reauthViaPopup"&&(this.g||null)==u&&this.f||r=="linkViaRedirect"&&(this.ga||null)==u||r=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(r,u,c,d){r!="linkViaPopup"&&r!="reauthViaPopup"||d!=(this.g||null)||(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,u){return r=="linkViaPopup"&&u==(this.g||null)?V(this.Lb,this):r=="reauthViaPopup"&&u==(this.g||null)?V(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==u?V(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==u?V(this.Mb,this):null},e.Ec=function(r){var u=this;return db(this,"linkViaPopup",r,function(){return Pl(u,r.providerId).then(function(){return Eo(u)})},!1)},e.Nc=function(r){return db(this,"reauthViaPopup",r,function(){return Ee()},!0)};function db(r,u,c,d,g){if(!fo())return bt(new x("operation-not-supported-in-this-environment"));if(r.i&&!g)return bt(r.i);var w=Wd(c.providerId),b=ho(r.uid+":::"),S=null;(!zu()||Od())&&r.s&&c.isOAuthProvider&&(S=la(r.s,r.l,r.m,u,c,null,b,Ce.SDK_VERSION||null,null,null,r.tenantId,r.u));var j=nw(S,w&&w.va,w&&w.ua);return d=d().then(function(){if(mb(r),!g)return r.I().then(function(){})}).then(function(){return z0(r.b,j,u,c,b,!!S,r.tenantId)}).then(function(){return new $e(function(W,Pe){r.na(u,null,new x("cancelled-popup-request"),r.g||null),r.f=W,r.C=Pe,r.g=b,r.c=X0(r.b,r,u,j,b)})}).then(function(W){return j&&lo(j),W?Fr(W):null}).o(function(W){throw j&&lo(j),W}),zt(r,d,g)}e.Fc=function(r){var u=this;return pb(this,"linkViaRedirect",r,function(){return Pl(u,r.providerId)},!1)},e.Oc=function(r){return pb(this,"reauthViaRedirect",r,function(){return Ee()},!0)};function pb(r,u,c,d,g){if(!fo())return bt(new x("operation-not-supported-in-this-environment"));if(r.i&&!g)return bt(r.i);var w=null,b=ho(r.uid+":::");return d=d().then(function(){if(mb(r),!g)return r.I().then(function(){})}).then(function(){return r.ga=b,Eo(r)}).then(function(S){return r.ha&&(S=r.ha,S=S.b.set(dm,r.w(),S.a)),S}).then(function(){return W0(r.b,u,c,b,r.tenantId)}).o(function(S){if(w=S,r.ha)return gb(r.ha);throw w}).then(function(){if(w)throw w}),zt(r,d,g)}function mb(r){if(!r.b||!r.P)throw r.b&&!r.P?new x("internal-error"):new x("auth-domain-config-required")}e.Lb=function(r,u,c,d){var g=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return c=this.I().then(function(b){return bp(g.a,{requestUri:r,postBody:d,sessionId:u,idToken:b})}).then(function(b){return w=ga(g,b,"link"),hb(g,b)}).then(function(){return w}),zt(this,c)},e.Mb=function(r,u,c,d){var g=this;this.c&&(this.c.cancel(),this.c=null);var w=null,b=Ee().then(function(){return bs(Ip(g.a,{requestUri:r,sessionId:u,postBody:d,tenantId:c}),g.uid)}).then(function(S){return w=ga(g,S,"reauthenticate"),Ur(g,S),g.i=null,g.reload()}).then(function(){return w});return zt(this,b,!0)},e.vb=function(r){var u=this,c=null;return zt(this,this.I().then(function(d){return c=d,typeof r>"u"||me(r)?{}:el(new Zc(r))}).then(function(d){return u.a.vb(c,d)}).then(function(d){if(u.email!=d)return u.reload()}).then(function(){}))},e.Fb=function(r,u){var c=this,d=null;return zt(this,this.I().then(function(g){return d=g,typeof u>"u"||me(u)?{}:el(new Zc(u))}).then(function(g){return c.a.Fb(d,r,g)}).then(function(g){if(c.email!=g)return c.reload()}).then(function(){}))};function zt(r,u,c){var d=YO(r,u,c);return r.N.push(d),d.oa(function(){U(r.N,d)}),d.o(function(g){var w=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(w=rb(g.w(),sm(r),V(r.jc,r))),w||g})}e.jc=function(r){var u=null,c=this;return r=bs(Ee(r),c.uid).then(function(d){return u=ga(c,d,"reauthenticate"),Ur(c,d),c.i=null,c.reload()}).then(function(){return u}),zt(this,r,!0)};function YO(r,u,c){return r.i&&!c?(u.cancel(),bt(r.i)):u.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new ks("userInvalidated")),r.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Be(r,this.metadata.w()),q(this.providerData,function(u){r.providerData.push(IC(u))}),Be(r,this.S.w()),r};function vb(r){if(!r.apiKey)return null;var u={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[wr]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var d=r.stsTokenManager.expirationTime;d&&(c.expiresIn=(d-Date.now())/1e3)}else return null;var g=new Xn(u,c,r);return r.providerData&&q(r.providerData,function(w){w&&fm(g,Fr(w))}),r.redirectEventId&&(g.ga=r.redirectEventId),g}function JO(r,u,c,d){var g=new Xn(r,u);return c&&(g.ha=c),d&&ma(g,d),g.reload().then(function(){return g})}function ZO(r,u,c,d){var g=r.h,w={};return w[wr]=g.b&&g.b.toString(),w.refreshToken=g.a,u=new Xn(u||{apiKey:r.l,authDomain:r.s,appName:r.m},w),c&&(u.ha=c),d&&ma(u,d),Nl(u,r),u}function eN(r){this.a=r,this.b=pa()}var dm={name:"redirectUser",F:"session"};function gb(r){return As(r.b,dm,r.a)}function tN(r,u){return r.b.get(dm,r.a).then(function(c){return c&&u&&(c.authDomain=u),vb(c||{})})}function pm(r){this.a=r,this.b=pa(),this.c=null,this.f=nN(this),this.b.addListener(jr("local"),this.a,V(this.g,this))}pm.prototype.g=function(){var r=this,u=jr("local");xs(this,function(){return Ee().then(function(){return r.c&&r.c.F!="local"?r.b.get(u,r.a):null}).then(function(c){if(c)return mm(r,"local").then(function(){r.c=u})})})};function mm(r,u){var c=[],d;for(d in Ts)Ts[d]!==u&&c.push(As(r.b,jr(Ts[d]),r.a));return c.push(As(r.b,vm,r.a)),Kx(c)}function nN(r){var u=jr("local"),c=jr("session"),d=jr("none");return gO(r.b,u,r.a).then(function(){return r.b.get(c,r.a)}).then(function(g){return g?c:r.b.get(d,r.a).then(function(w){return w?d:r.b.get(u,r.a).then(function(b){return b?u:r.b.get(vm,r.a).then(function(S){return S?jr(S):u})})})}).then(function(g){return r.c=g,mm(r,g.F)}).o(function(){r.c||(r.c=u)})}var vm={name:"persistence",F:"session"};function jr(r){return{name:"authUser",F:r}}pm.prototype.yb=function(r){var u=null,c=this;return vO(r),xs(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(d){return u=d,mm(c,r)}).then(function(){if(c.c=jr(r),u)return c.b.set(c.c,u,c.a)}):Ee()})};function rN(r){return xs(r,function(){return r.b.set(vm,r.c.F,r.a)})}function yb(r,u){return xs(r,function(){return r.b.set(r.c,u.w(),r.a)})}function _b(r){return xs(r,function(){return As(r.b,r.c,r.a)})}function wb(r,u,c){return xs(r,function(){return r.b.get(r.c,r.a).then(function(d){return d&&u&&(d.authDomain=u),d&&c&&(d.emulatorConfig=c),vb(d||{})})})}function xs(r,u){return r.f=r.f.then(u,u),r.f}function br(r){if(this.l=!1,pe(this,"settings",new eb),pe(this,"app",r),ht(this).options&&ht(this).options.apiKey)r=Ce.SDK_VERSION?gs(Ce.SDK_VERSION):null,this.a=new _r(ht(this).options&&ht(this).options.apiKey,We(se),r);else throw new x("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Ce.INTERNAL.createSubscribe(V(this.zc,this)),this.W=void 0,this.ib=Ce.INTERNAL.createSubscribe(V(this.Ac,this)),Cs(this,null),this.i=new pm(ht(this).options.apiKey+":"+ht(this).name),this.D=new eN(ht(this).options.apiKey+":"+ht(this).name),this.$=Ot(this,cN(this)),this.h=Ot(this,lN(this)),this.ba=!1,this.ja=V(this.Zc,this),this.Ba=V(this.da,this),this.qa=V(this.mc,this),this.za=V(this.wc,this),this.Aa=V(this.xc,this),this.b=null,sN(this),this.INTERNAL={},this.INTERNAL.delete=V(this.delete,this),this.INTERNAL.logFramework=V(this.Gc,this),this.u=0,bn.call(this),oN(this),this.J=[],this.R=null}G(br,bn);function bb(r){Dn.call(this,"languageCodeChanged"),this.h=r}G(bb,Dn);function Ib(r){Dn.call(this,"emulatorConfigChanged"),this.c=r}G(Ib,Dn);function Eb(r){Dn.call(this,"frameworkChanged"),this.f=r}G(Eb,Dn),e=br.prototype,e.yb=function(r){return r=this.i.yb(r),Ot(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,r0(this.a,this.aa),this.dispatchEvent(new bb(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,u){if(!this.R){if(!/^https?:\/\//.test(r))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,iN(u),this.R={url:r,ec:u},this.settings.jb=!0,_l(this.a,this.R),this.dispatchEvent(new Ib(this.R))}};function iN(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Qc().then(function(){var u=f.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),f.document.body.appendChild(u)})}e.Gc=function(r){this.J.push(r),i0(this.a,Ce.SDK_VERSION?gs(Ce.SDK_VERSION,this.J):null),this.dispatchEvent(new Eb(this.J))},e.Ga=function(){return re(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function oN(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var u=Ln(this.R.url);u=Fr({protocol:u.c,host:u.a,port:u.g,options:Fr({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:ht(this).options.apiKey,authDomain:ht(this).options.authDomain,appName:ht(this).name,currentUser:Ve(this)&&Ve(this).w()}};function gm(r){return r.Oa||bt(new x("auth-domain-config-required"))}function sN(r){var u=ht(r).options.authDomain,c=ht(r).options.apiKey;u&&fo()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Gp(u,c,ht(r).name,r.R),kl(r.b,r),Ve(r)&&va(Ve(r)),r.m){va(r.m);var d=r.m;d.xa(r.la()),rm(d,r),d=r.m,ma(d,r.J),om(d,r),d=r.m,nm(d,r.R),im(d,r),r.m=null}return r.b}}))}e.Gb=function(r,u){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(r,u,c,d){r=="signInViaPopup"&&this.g==d&&(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,u){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==u&&this.f?V(this.ic,this):null},e.ic=function(r,u,c,d){var g=this,w={requestUri:r,postBody:d,sessionId:u,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return To(g,wp(g.a,w))})},e.Xc=function(r){if(!fo())return bt(new x("operation-not-supported-in-this-environment"));var u=this,c=Wd(r.providerId),d=ho(),g=null;(!zu()||Od())&&ht(this).options.authDomain&&r.isOAuthProvider&&(g=la(ht(this).options.authDomain,ht(this).options.apiKey,ht(this).name,"signInViaPopup",r,null,d,Ce.SDK_VERSION||null,null,null,this.T(),this.R));var w=nw(g,c&&c.va,c&&c.ua);return c=gm(this).then(function(b){return z0(b,w,"signInViaPopup",r,d,!!g,u.T())}).then(function(){return new $e(function(b,S){u.na("signInViaPopup",null,new x("cancelled-popup-request"),u.g),u.f=b,u.C=S,u.g=d,u.c=X0(u.b,u,"signInViaPopup",w,d)})}).then(function(b){return w&&lo(w),b?Fr(b):null}).o(function(b){throw w&&lo(w),b}),Ot(this,c)},e.Yc=function(r){if(!fo())return bt(new x("operation-not-supported-in-this-environment"));var u=this,c=gm(this).then(function(){return rN(u.i)}).then(function(){return W0(u.b,"signInViaRedirect",r,void 0,u.T())});return Ot(this,c)};function Tb(r){if(!fo())return bt(new x("operation-not-supported-in-this-environment"));var u=gm(r).then(function(){return r.b.ra()}).then(function(c){return c?Fr(c):null});return Ot(r,u)}e.ra=function(){var r=this;return Tb(this).then(function(u){return r.b&&Cl(r.b.b),u}).o(function(u){throw r.b&&Cl(r.b.b),u})},e.dd=function(r){if(!r)return bt(new x("null-user"));if(this.S!=r.tenantId)return bt(new x("tenant-id-mismatch"));var u=this,c={};c.apiKey=ht(this).options.apiKey,c.authDomain=ht(this).options.authDomain,c.appName=ht(this).name;var d=ZO(r,c,u.D,u.Ga());return Ot(this,this.h.then(function(){if(ht(u).options.apiKey!=r.l)return d.reload()}).then(function(){return Ve(u)&&r.uid==Ve(u).uid?(Nl(Ve(u),r),u.da(r)):(Cs(u,d),va(d),u.da(d))}).then(function(){ya(u)}))};function uN(r,u){var c={};return c.apiKey=ht(r).options.apiKey,c.authDomain=ht(r).options.authDomain,c.appName=ht(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return JO(c,u,r.D,r.Ga())}).then(function(d){return Ve(r)&&d.uid==Ve(r).uid?(Nl(Ve(r),d),r.da(d)):(Cs(r,d),va(d),r.da(d))}).then(function(){ya(r)})}function Cs(r,u){Ve(r)&&(WO(Ve(r),r.Ba),zn(Ve(r),"tokenChanged",r.qa),zn(Ve(r),"userDeleted",r.za),zn(Ve(r),"userInvalidated",r.Aa),um(Ve(r))),u&&(u.W.push(r.Ba),ur(u,"tokenChanged",r.qa),ur(u,"userDeleted",r.za),ur(u,"userInvalidated",r.Aa),0<r.u&&ab(u)),pe(r,"currentUser",u),u&&(u.xa(r.la()),rm(u,r),ma(u,r.J),om(u,r),nm(u,r.R),im(u,r))}e.Bb=function(){var r=this,u=this.h.then(function(){return r.b&&Cl(r.b.b),Ve(r)?(Cs(r,null),_b(r.i).then(function(){ya(r)})):Ee()});return Ot(this,u)};function aN(r){var u=tN(r.D,ht(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),gb(r.D)});return Ot(r,u)}function cN(r){var u=ht(r).options.authDomain,c=aN(r).then(function(){return wb(r.i,u,r.R)}).then(function(d){return d?(d.ha=r.D,r.m&&(r.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return yb(r.i,d).then(function(){return d})}).o(function(g){return g.code=="auth/network-request-failed"?d:_b(r.i)})):null}).then(function(d){Cs(r,d||null)});return Ot(r,c)}function lN(r){return r.$.then(function(){return Tb(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var u=r.i;u.b.addListener(jr("local"),u.a,r.ja)}})}e.Zc=function(){var r=this;return wb(this.i,ht(this).options.authDomain).then(function(u){if(!r.l){var c;if(c=Ve(r)&&u){c=Ve(r).uid;var d=u.uid;c=c==null||c===""||d===void 0||d===null||d===""?!1:c==d}if(c)return Nl(Ve(r),u),Ve(r).I();(Ve(r)||u)&&(Cs(r,u),u&&(va(u),u.ha=r.D),r.b&&kl(r.b,r),ya(r))}})},e.da=function(r){return yb(this.i,r)},e.mc=function(){ya(this),this.da(Ve(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function To(r,u){var c=null,d=null;return Ot(r,u.then(function(g){return c=ep(g),d=xw(g),uN(r,g)},function(g){var w=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(w=rb(g.w(),r,V(r.kc,r))),w||g}).then(function(){return Fr({user:Ve(r),credential:c,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(r){var u=this;return this.h.then(function(){return To(u,Ee(r))})},e.zc=function(r){var u=this;this.addAuthTokenListener(function(){r.next(Ve(u))})},e.Ac=function(r){var u=this;fN(this,function(){r.next(Ve(u))})},e.Ic=function(r,u,c){var d=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(Ve(d)):typeof r.next=="function"&&r.next(Ve(d))}),this.Pa(r,u,c)},e.Hc=function(r,u,c){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof r=="function"?r(Ve(d)):typeof r.next=="function"&&r.next(Ve(d))}),this.ib(r,u,c)},e.nc=function(r){var u=this,c=this.h.then(function(){return Ve(u)?Ve(u).I(r).then(function(d){return{accessToken:d}}):null});return Ot(this,c)},e.Tc=function(r){var u=this;return this.h.then(function(){return To(u,Ke(u.a,KR,{token:r}))}).then(function(c){var d=c.user;return Ai(d,"isAnonymous",!1),u.da(d),c})},e.Uc=function(r,u){var c=this;return this.h.then(function(){return To(c,Ke(c.a,d0,{email:r,password:u}))})},e.dc=function(r,u){var c=this;return this.h.then(function(){return To(c,Ke(c.a,IR,{email:r,password:u}))})},e.ab=function(r){var u=this;return this.h.then(function(){return To(u,r.ka(u.a))})},e.Sc=function(r){return Ld("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var u=Ve(r);if(u&&u.isAnonymous){var c=Fr({providerId:null,isNewUser:!1});return Fr({user:u,credential:null,additionalUserInfo:c,operationType:"signIn"})}return To(r,r.a.Ab()).then(function(d){var g=d.user;return Ai(g,"isAnonymous",!0),r.da(g),d})})};function ht(r){return r.app}function Ve(r){return r.currentUser}e.getUid=function(){return Ve(this)&&Ve(this).uid||null};function Dl(r){return Ve(r)&&Ve(r)._lat||null}function ya(r){if(r.ba){for(var u=0;u<r.s.length;u++)r.s[u]&&r.s[u](Dl(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),u=0;u<r.N.length;u++)r.N[u]&&r.N[u](Dl(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&Ve(this)&&ab(Ve(this))},e.Pc=function(r){var u=this;q(this.s,function(c){c==r&&u.u--}),0>this.u&&(this.u=0),this.u==0&&Ve(this)&&um(Ve(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var u=this;this.s.push(r),Ot(this,this.h.then(function(){u.l||O(u.s,r)&&r(Dl(u))}))},e.removeAuthTokenListener=function(r){B(this.s,function(u){return u==r})};function fN(r,u){r.N.push(u),Ot(r,r.h.then(function(){!r.l&&O(r.N,u)&&r.W!==r.getUid()&&(r.W=r.getUid(),u(Dl(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(jr("local"),r.a,this.ja)),this.b&&($p(this.b,this),Cl(this.b.b)),Promise.resolve()};function Ot(r,u){return r.P.push(u),u.oa(function(){U(r.P,u)}),u}e.hc=function(r){return Ot(this,dR(this.a,r))},e.Bc=function(r){return!!Zd(r)},e.xb=function(r,u){var c=this;return Ot(this,Ee().then(function(){var d=new Zc(u);if(!d.c)throw new x("argument-error",Gd+" must be true when sending sign in link to email");return el(d)}).then(function(d){return c.a.xb(r,d)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(u){return u.data.email})},e.ob=function(r,u){return Ot(this,this.a.ob(r,u).then(function(){}))},e.Sa=function(r){return Ot(this,this.a.Sa(r).then(function(u){return new TC(u)}))},e.kb=function(r){return Ot(this,this.a.kb(r).then(function(){}))},e.wb=function(r,u){var c=this;return Ot(this,Ee().then(function(){return typeof u>"u"||me(u)?{}:el(new Zc(u))}).then(function(d){return c.a.wb(r,d)}).then(function(){}))},e.Wc=function(r,u){return Ot(this,Wp(this,r,u,V(this.ab,this)))},e.Vc=function(r,u){var c=this;return Ot(this,Ee().then(function(){var d=u||Gu(),g=jw(r,d);if(d=Zd(d),!d)throw new x("argument-error","Invalid email link!");if(d.tenantId!==c.T())throw new x("tenant-id-mismatch");return c.ab(g)}))};function _a(){}_a.prototype.render=function(){},_a.prototype.reset=function(){},_a.prototype.getResponse=function(){},_a.prototype.execute=function(){};function Rs(){this.a={},this.b=1e12}var ym=null;Rs.prototype.render=function(r,u){return this.a[this.b.toString()]=new Ll(r,u),this.b++},Rs.prototype.reset=function(r){var u=_m(this,r);r=Sb(r),u&&r&&(u.delete(),delete this.a[r])},Rs.prototype.getResponse=function(r){return(r=_m(this,r))?r.getResponse():null},Rs.prototype.execute=function(r){(r=_m(this,r))&&r.execute()};function _m(r,u){return(u=Sb(u))&&r.a[u]||null}function Sb(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function Ll(r,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Uu(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():ur(this.f,"click",this.i)}Ll.prototype.getResponse=function(){return wm(this),this.b},Ll.prototype.execute=function(){wm(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=yC();var u=r.c.callback,c=r.c["expired-callback"];if(u)try{u(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},Ll.prototype.delete=function(){wm(this),this.g=!0,clearTimeout(this.a),this.a=null,zn(this.f,"click",this.i)};function wm(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function bm(){}pe(bm,"FACTOR_ID","phone");function Im(){}Im.prototype.g=function(){return ym||(ym=new Rs),Ee(ym)},Im.prototype.c=function(){};var Em=null;function Tm(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var hN=new qe(Pr,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),dN=new Ei(3e4,6e4);Tm.prototype.g=function(r){var u=this;return new $e(function(c,d){var g=setTimeout(function(){d(new x("network-request-failed"))},dN.get());if(!f.grecaptcha||r!==u.f&&!u.b){f[u.a]=function(){if(f.grecaptcha){u.f=r;var b=f.grecaptcha.render;f.grecaptcha.render=function(S,j){return S=b(S,j),u.b++,S},clearTimeout(g),c(f.grecaptcha)}else clearTimeout(g),d(new x("internal-error"));delete f[u.a]};var w=od(hN,{onload:u.a,hl:r||""});Ee(dp(w)).o(function(){clearTimeout(g),d(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),c(f.grecaptcha)})},Tm.prototype.c=function(){this.b--};var Sm=null;function Am(r,u,c,d,g,w,b){if(pe(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,b?(Em||(Em=new Im),b=Em):(Sm||(Sm=new Tm),b=Sm),this.m=b,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[xb])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[pN]==="invisible",!f.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Uu(u)||!this.i&&Uu(u).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new _r(r,w||null,g||null),this.u=d||function(){return null};var S=this;this.l=[];var j=this.a[Ab];this.a[Ab]=function(Pe){if(Cb(S,Pe),typeof j=="function")j(Pe);else if(typeof j=="string"){var lt=It(j,f);typeof lt=="function"&&lt(Pe)}};var W=this.a[kb];this.a[kb]=function(){if(Cb(S,null),typeof W=="function")W();else if(typeof W=="string"){var Pe=It(W,f);typeof Pe=="function"&&Pe()}}}var Ab="callback",kb="expired-callback",xb="sitekey",pN="size";function Cb(r,u){for(var c=0;c<r.l.length;c++)try{r.l[c](u)}catch{}}function mN(r,u){B(r.l,function(c){return c==u})}function km(r,u){return r.h.push(u),u.oa(function(){U(r.h,u)}),u}e=Am.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=km(this,Ee().then(function(){if(Yc()&&!gr())return Qc();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(u){return r.g=u,Ke(r.s,MR,{})}).then(function(u){r.a[xb]=u.recaptchaSiteKey}).o(function(u){throw r.f=null,u}))},e.render=function(){Ml(this);var r=this;return km(this,this.Ia().then(function(){if(r.c===null){var u=r.v;if(!r.i){var c=Uu(u);u=Bx("DIV"),c.appendChild(u)}r.c=r.g.render(u,r.a)}return r.c}))},e.verify=function(){Ml(this);var r=this;return km(this,this.render().then(function(u){return new $e(function(c){var d=r.g.getResponse(u);if(d)c(d);else{var g=function(w){w&&(mN(r,g),c(w))};r.l.push(g),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){Ml(this),this.c!==null&&this.g.reset(this.c)};function Ml(r){if(r.J)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Ml(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=Uu(this.v);for(var u;u=r.firstChild;)r.removeChild(u)}};function xm(r,u,c){var d=!1;try{this.b=c||Ce.app()}catch{throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new x("invalid-api-key");var g=this,w=null;try{w=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=Ce.SDK_VERSION?gs(Ce.SDK_VERSION,w):null,Am.call(this,c,r,u,function(){try{var b=g.b.auth().la()}catch{b=null}return b},w,We(se),d)}G(xm,Am);function Rb(r,u,c,d){e:{c=Array.prototype.slice.call(c);for(var g=0,w=!1,b=0;b<u.length;b++)if(u[b].optional)w=!0;else{if(w)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(w=u.length,c.length<g||w<c.length)d="Expected "+(g==w?g==1?"1 argument":g+" arguments":g+"-"+w+" arguments")+" but got "+c.length+".";else{for(g=0;g<c.length;g++)if(w=u[g].optional&&c[g]===void 0,!u[g].M(c[g])&&!w){if(u=u[g],0>g||g>=Ob.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");c=Ob[g],d=(d?"":c+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}d=null}}if(d)throw new x("argument-error",r+" failed: "+d)}var Ob="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function he(r,u){return{name:r||"",K:"a valid string",optional:!!u,M:function(c){return typeof c=="string"}}}function Cm(r,u){return{name:r||"",K:"a boolean",optional:!!u,M:function(c){return typeof c=="boolean"}}}function Vt(r,u){return{name:r||"",K:"a valid object",optional:!!u,M:E}}function Os(r,u){return{name:r||"",K:"a function",optional:!!u,M:function(c){return typeof c=="function"}}}function Br(r,u){return{name:r||"",K:"null",optional:!!u,M:function(c){return c===null}}}function vN(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function gN(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof br)}}}function yN(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof Ce.app.App)}}}function ki(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var c=!r||u.providerId===r;return!(!u.ka||!c)}}}function Nb(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function Ns(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function Rm(r,u){return E(r)&&typeof r.type=="string"&&r.type===u&&typeof r.Ha=="function"}function Pb(r){return E(r)&&typeof r.uid=="string"}function Fl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Lt(r,u,c,d){return{name:c||"",K:r.K+" or "+u.K,optional:!!d,M:function(g){return r.M(g)||u.M(g)}}}function St(r,u){for(var c in u){var d=u[c].name;r[d]=Lb(d,r[c],u[c].j)}}function Db(r,u){for(var c in u){var d=u[c].name;d!==c&&Object.defineProperty(r,d,{get:de(function(g){return this[g]},c),set:de(function(g,w,b,S){Rb(g,[b],[S],!0),this[w]=S},d,c,u[c].lb),enumerable:!0})}}function Mt(r,u,c,d){r[u]=Lb(u,c,d)}function Lb(r,u,c){function d(){var b=Array.prototype.slice.call(arguments);return Rb(g,c,b),u.apply(this,b)}if(!c)return u;var g=_N(r),w;for(w in u)d[w]=u[w];for(w in u.prototype)d.prototype[w]=u.prototype[w];return d}function _N(r){return r=r.split("."),r[r.length-1]}St(br.prototype,{kb:{name:"applyActionCode",j:[he("code")]},Sa:{name:"checkActionCode",j:[he("code")]},ob:{name:"confirmPasswordReset",j:[he("code"),he("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[he("email"),he("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[he("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[he("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Lt(Vt(),Os(),"nextOrObserver"),Os("opt_error",!0),Os("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Lt(Vt(),Os(),"nextOrObserver"),Os("opt_error",!0),Os("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[he("email"),Lt(Vt("opt_actionCodeSettings",!0),Br(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[he("email"),Vt("actionCodeSettings")]},yb:{name:"setPersistence",j:[he("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ki()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ki()]},Tc:{name:"signInWithCustomToken",j:[he("token")]},Uc:{name:"signInWithEmailAndPassword",j:[he("email"),he("password")]},Vc:{name:"signInWithEmailLink",j:[he("email"),he("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[he("phoneNumber"),Fl()]},Xc:{name:"signInWithPopup",j:[Ns()]},Yc:{name:"signInWithRedirect",j:[Ns()]},dd:{name:"updateCurrentUser",j:[Lt(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(u){return!!(u&&u instanceof Xn)}}}(),Br(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[he(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[he("url"),Vt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[he("code")]}}),Db(br.prototype,{lc:{name:"languageCode",lb:Lt(he(),Br(),"languageCode")},ti:{name:"tenantId",lb:Lt(he(),Br(),"tenantId")}}),br.Persistence=Ts,br.Persistence.LOCAL="local",br.Persistence.SESSION="session",br.Persistence.NONE="none",St(Xn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Cm("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Cm("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ki()]},rb:{name:"linkWithCredential",j:[ki()]},Dc:{name:"linkWithPhoneNumber",j:[he("phoneNumber"),Fl()]},Ec:{name:"linkWithPopup",j:[Ns()]},Fc:{name:"linkWithRedirect",j:[Ns()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ki()]},ub:{name:"reauthenticateWithCredential",j:[ki()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[he("phoneNumber"),Fl()]},Nc:{name:"reauthenticateWithPopup",j:[Ns()]},Oc:{name:"reauthenticateWithRedirect",j:[Ns()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Lt(Vt("opt_actionCodeSettings",!0),Br(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[he(null,!0)]},cd:{name:"unlink",j:[he("provider")]},Cb:{name:"updateEmail",j:[he("email")]},Db:{name:"updatePassword",j:[he("password")]},ed:{name:"updatePhoneNumber",j:[ki("phone")]},Eb:{name:"updateProfile",j:[Vt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[he("email"),Lt(Vt("opt_actionCodeSettings",!0),Br(null,!0),"opt_actionCodeSettings",!0)]}}),St(Rs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),St(_a.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),St($e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Db(eb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Cm("appVerificationDisabledForTesting")}}),St(zp.prototype,{confirm:{name:"confirm",j:[he("verificationCode")]}}),Mt(ws,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var u,c=[qC,$C,HC,BC],d=0;d<c.length;d++)if(u=c[d](r))return u;return null},[Lt(he(),Vt(),"json")]),Mt(cr,"credential",function(r,u){return new Ti(r,u)},[he("email"),he("password")]),St(Ti.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),St(vo.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Mt(vo,"credential",Mw,[Lt(he(),Vt(),"token")]),Mt(cr,"credentialWithLink",jw,[he("email"),he("emailLink")]),St(go.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Mt(go,"credential",Fw,[Lt(he(),Vt(),"token")]),St(yo.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Mt(yo,"credential",Vw,[Lt(he(),Lt(Vt(),Br()),"idToken"),Lt(he(),Br(),"accessToken",!0)]),St(Is.prototype,{Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Mt(Is,"credential",Uw,[Lt(he(),Vt(),"token"),he("secret",!0)]),St(Wn.prototype,{Ca:{name:"addScope",j:[he("scope")]},credential:{name:"credential",j:[Lt(he(),Lt(Vt(),Br()),"optionsOrIdToken"),Lt(he(),Br(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),St(ti.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),St(po.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Mt(ni,"credential",Bw,[he("verificationId"),he("verificationCode")]),St(ni.prototype,{gb:{name:"verifyPhoneNumber",j:[Lt(he(),function(r,u){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(c){return c?c.session&&c.phoneNumber?Rm(c.session,Zu)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Rm(c.session,ol)&&Pb(c.multiFactorHint):c.session&&c.multiFactorUid?Rm(c.session,ol)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Fl()]}}),St(Si.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),St(x.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),St(ta.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),St(rp.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),St(Qp.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),St(Xp.prototype,{Rc:{name:"resolveSignIn",j:[Nb()]}}),St(Jp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Nb(),he("displayName",!0)]},bd:{name:"unenroll",j:[Lt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Pb},he(),"multiFactorInfoIdentifier")]}}),St(xm.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Mt(Kd,"parseLink",yw,[he("link")]),Mt(bm,"assertion",function(r){return new ob(r)},[ki("phone")]),function(){if(typeof Ce<"u"&&Ce.INTERNAL&&Ce.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Jc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Hd,VERIFY_AND_CHANGE_EMAIL:Yu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:br,AuthCredential:ws,Error:x};Mt(r,"EmailAuthProvider",cr,[]),Mt(r,"FacebookAuthProvider",vo,[]),Mt(r,"GithubAuthProvider",go,[]),Mt(r,"GoogleAuthProvider",yo,[]),Mt(r,"TwitterAuthProvider",Is,[]),Mt(r,"OAuthProvider",Wn,[he("providerId")]),Mt(r,"SAMLAuthProvider",Lw,[he("providerId")]),Mt(r,"PhoneAuthProvider",ni,[gN()]),Mt(r,"RecaptchaVerifier",xm,[Lt(he(),vN(),"recaptchaContainer"),Vt("recaptchaParameters",!0),yN()]),Mt(r,"ActionCodeURL",Kd,[]),Mt(r,"PhoneMultiFactorGenerator",bm,[]),Ce.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new br(u)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),Ce.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:V(u.getUid,u),getToken:V(u.nc,u),addAuthTokenListener:V(u.cc,u),removeAuthTokenListener:V(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ce.registerVersion("@firebase/auth","0.16.8"),Ce.INTERNAL.extendNamespace({User:Xn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sv=function(e,t){return Sv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Sv(e,t)};function HL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Sv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function BS(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var KL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce,Mg=Mg||{},Le=KL||self;function kf(){}function Av(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function yc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function GL(e){return Object.prototype.hasOwnProperty.call(e,Bm)&&e[Bm]||(e[Bm]=++zL)}var Bm="closure_uid_"+(1e9*Math.random()>>>0),zL=0;function WL(e,t,n){return e.call.apply(e.bind,arguments)}function XL(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function an(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?an=WL:an=XL,an.apply(null,arguments)}function Kl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function fn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(i,a)}}function Ji(){this.s=this.s,this.o=this.o}var QL=0;Ji.prototype.s=!1;Ji.prototype.na=function(){!this.s&&(this.s=!0,this.M(),QL!=0)&&GL(this)};Ji.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var qS=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},$S=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<i;s++)s in o&&t.call(n,o[s],s,e)};function YL(e){e:{for(var t=qM,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function bI(e){return Array.prototype.concat.apply([],arguments)}function Fg(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function xf(e){return/^[\s\xa0]*$/.test(e)}var II=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function xn(e,t){return e.indexOf(t)!=-1}function qm(e,t){return e<t?-1:e>t?1:0}var Cn;e:{var EI=Le.navigator;if(EI){var TI=EI.userAgent;if(TI){Cn=TI;break e}}Cn=""}function Vg(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function HS(e){var t={};for(var n in e)t[n]=e[n];return t}var SI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function KS(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var s=0;s<SI.length;s++)n=SI[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Ug(e){return Ug[" "](e),e}Ug[" "]=kf;function JL(e){var t=tM;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var ZL=xn(Cn,"Opera"),ou=xn(Cn,"Trident")||xn(Cn,"MSIE"),GS=xn(Cn,"Edge"),kv=GS||ou,zS=xn(Cn,"Gecko")&&!(xn(Cn.toLowerCase(),"webkit")&&!xn(Cn,"Edge"))&&!(xn(Cn,"Trident")||xn(Cn,"MSIE"))&&!xn(Cn,"Edge"),eM=xn(Cn.toLowerCase(),"webkit")&&!xn(Cn,"Edge");function WS(){var e=Le.document;return e?e.documentMode:void 0}var Cf;e:{var $m="",Hm=function(){var e=Cn;if(zS)return/rv:([^\);]+)(\)|;)/.exec(e);if(GS)return/Edge\/([\d\.]+)/.exec(e);if(ou)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(eM)return/WebKit\/(\S+)/.exec(e);if(ZL)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Hm&&($m=Hm?Hm[1]:""),ou){var Km=WS();if(Km!=null&&Km>parseFloat($m)){Cf=String(Km);break e}}Cf=$m}var tM={};function nM(){return JL(function(){for(var e=0,t=II(String(Cf)).split("."),n=II("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var s=t[o]||"",a=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=qm(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||qm(s[2].length==0,a[2].length==0)||qm(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var xv;if(Le.document&&ou){var AI=WS();xv=AI||parseInt(Cf,10)||void 0}else xv=void 0;var rM=xv,iM=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Le.addEventListener("test",kf,t),Le.removeEventListener("test",kf,t)}catch{}return e}();function yn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}yn.prototype.h=function(){this.defaultPrevented=!0};function Xa(e,t){if(yn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(zS){e:{try{Ug(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:oM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Xa.Z.h.call(this)}}fn(Xa,yn);var oM={2:"touch",3:"pen",4:"mouse"};Xa.prototype.h=function(){Xa.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _c="closure_listenable_"+(1e6*Math.random()|0),sM=0;function uM(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++sM,this.ca=this.fa=!1}function bh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ih(e){this.src=e,this.g={},this.h=0}Ih.prototype.add=function(e,t,n,i,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=Rv(e,t,i,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new uM(t,this.src,s,!!i,o),t.fa=n,e.push(t)),t};function Cv(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=qS(i,t),s;(s=0<=o)&&Array.prototype.splice.call(i,o,1),s&&(bh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Rv(e,t,n,i){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return o}return-1}var jg="closure_lm_"+(1e6*Math.random()|0),Gm={};function XS(e,t,n,i,o){if(i&&i.once)return YS(e,t,n,i,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)XS(e,t[s],n,i,o);return null}return n=$g(n),e&&e[_c]?e.N(t,n,yc(i)?!!i.capture:!!i,o):QS(e,t,n,!1,i,o)}function QS(e,t,n,i,o,s){if(!t)throw Error("Invalid event type");var a=yc(o)?!!o.capture:!!o,l=qg(e);if(l||(e[jg]=l=new Ih(e)),n=l.add(t,n,i,a,s),n.proxy)return n;if(i=aM(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)iM||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(ZS(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function aM(){function e(n){return t.call(e.src,e.listener,n)}var t=cM;return e}function YS(e,t,n,i,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)YS(e,t[s],n,i,o);return null}return n=$g(n),e&&e[_c]?e.O(t,n,yc(i)?!!i.capture:!!i,o):QS(e,t,n,!0,i,o)}function JS(e,t,n,i,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)JS(e,t[s],n,i,o);else i=yc(i)?!!i.capture:!!i,n=$g(n),e&&e[_c]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Rv(s,n,i,o),-1<n&&(bh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=qg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Rv(t,n,i,o)),(n=-1<e?t[e]:null)&&Bg(n))}function Bg(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[_c])Cv(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(ZS(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=qg(t))?(Cv(n,e),n.h==0&&(n.src=null,t[jg]=null)):bh(e)}}}function ZS(e){return e in Gm?Gm[e]:Gm[e]="on"+e}function cM(e,t){if(e.ca)e=!0;else{t=new Xa(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&Bg(e),e=n.call(i,t)}return e}function qg(e){return e=e[jg],e instanceof Ih?e:null}var zm="__closure_events_fn_"+(1e9*Math.random()>>>0);function $g(e){return typeof e=="function"?e:(e[zm]||(e[zm]=function(t){return e.handleEvent(t)}),e[zm])}function tn(){Ji.call(this),this.i=new Ih(this),this.P=this,this.I=null}fn(tn,Ji);tn.prototype[_c]=!0;tn.prototype.removeEventListener=function(e,t,n,i){JS(this,e,t,n,i)};function cn(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new yn(t,e);else if(t instanceof yn)t.target=t.target||e;else{var o=t;t=new yn(i,e),KS(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];o=Gl(a,i,!0,t)&&o}if(a=t.g=e,o=Gl(a,i,!0,t)&&o,o=Gl(a,i,!1,t)&&o,n)for(s=0;s<n.length;s++)a=t.g=n[s],o=Gl(a,i,!1,t)&&o}tn.prototype.M=function(){if(tn.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)bh(n[i]);delete e.g[t],e.h--}}this.I=null};tn.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};tn.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Gl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&Cv(e.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Hg=Le.JSON.stringify;function lM(){var e=tA,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var fM=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=eA.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),eA=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new hM},function(e){return e.reset()}),hM=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function dM(e){Le.setTimeout(function(){throw e},0)}function Kg(e,t){Ov||pM(),Nv||(Ov(),Nv=!0),tA.add(e,t)}var Ov;function pM(){var e=Le.Promise.resolve(void 0);Ov=function(){e.then(mM)}}var Nv=!1,tA=new fM;function mM(){for(var e;e=lM();){try{e.h.call(e.g)}catch(n){dM(n)}var t=eA;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Nv=!1}function Eh(e,t){tn.call(this),this.h=e||1,this.g=t||Le,this.j=an(this.kb,this),this.l=Date.now()}fn(Eh,tn);ce=Eh.prototype;ce.da=!1;ce.S=null;ce.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),cn(this,"tick"),this.da&&(Gg(this),this.start()))}};ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Gg(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ce.M=function(){Eh.Z.M.call(this),Gg(this),delete this.g};function zg(e,t,n){if(typeof e=="function")n&&(e=an(e,n));else if(e&&typeof e.handleEvent=="function")e=an(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Le.setTimeout(e,t||0)}function nA(e){e.g=zg(function(){e.g=null,e.i&&(e.i=!1,nA(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var vM=function(e){HL(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:nA(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Ji);function Qa(e){Ji.call(this),this.h=e,this.g={}}fn(Qa,Ji);var kI=[];function rA(e,t,n,i){Array.isArray(n)||(n&&(kI[0]=n.toString()),n=kI);for(var o=0;o<n.length;o++){var s=XS(t,n[o],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function iA(e){Vg(e.g,function(t,n){this.g.hasOwnProperty(n)&&Bg(t)},e),e.g={}}Qa.prototype.M=function(){Qa.Z.M.call(this),iA(this)};Qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Th(){this.g=!0}Th.prototype.Aa=function(){this.g=!1};function gM(e,t,n,i,o,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),f=0;f<l.length;f++){var p=l[f].split("=");if(1<p.length){var v=p[0];p=p[1];var h=v.split("_");a=2<=h.length&&h[1]=="type"?a+(v+"="+p+"&"):a+(v+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function yM(e,t,n,i,o,s,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+a})}function $s(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+wM(e,n)+(i?" "+i:"")})}function _M(e,t){e.info(function(){return"TIMEOUT: "+t})}Th.prototype.info=function(){};function wM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Hg(n)}catch{return t}}var ns={},xI=null;function Sh(){return xI=xI||new tn}ns.Ma="serverreachability";function oA(e){yn.call(this,ns.Ma,e)}fn(oA,yn);function Ya(e){var t=Sh();cn(t,new oA(t))}ns.STAT_EVENT="statevent";function sA(e,t){yn.call(this,ns.STAT_EVENT,e),this.stat=t}fn(sA,yn);function Rn(e){var t=Sh();cn(t,new sA(t,e))}ns.Na="timingevent";function uA(e,t){yn.call(this,ns.Na,e),this.size=t}fn(uA,yn);function wc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){e()},t)}var Ah={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},aA={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Wg(){}Wg.prototype.h=null;function CI(e){return e.h||(e.h=e.i())}function cA(){}var bc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xg(){yn.call(this,"d")}fn(Xg,yn);function Qg(){yn.call(this,"c")}fn(Qg,yn);var Pv;function kh(){}fn(kh,Wg);kh.prototype.g=function(){return new XMLHttpRequest};kh.prototype.i=function(){return{}};Pv=new kh;function Ic(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new Qa(this),this.P=bM,e=kv?125:void 0,this.W=new Eh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new lA}function lA(){this.i=null,this.g="",this.h=!1}var bM=45e3,Dv={},Rf={};ce=Ic.prototype;ce.setTimeout=function(e){this.P=e};function Lv(e,t,n){e.K=1,e.v=Ch(mi(t)),e.s=n,e.U=!0,fA(e,null)}function fA(e,t){e.F=Date.now(),Ec(e),e.A=mi(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),yA(n.h,"t",i),e.C=0,n=e.l.H,e.h=new lA,e.g=VA(e.l,n?t:null,!e.s),0<e.O&&(e.L=new vM(an(e.Ia,e,e.g),e.O)),rA(e.V,e.g,"readystatechange",e.gb),t=e.H?HS(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ya(),gM(e.j,e.u,e.A,e.m,e.X,e.s)}ce.gb=function(e){e=e.target;var t=this.L;t&&ui(e)==3?t.l():this.Ia(e)};ce.Ia=function(e){try{if(e==this.g)e:{var t=ui(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||kv||this.g&&(this.h.h||this.g.ga()||PI(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?Ya(3):Ya(2)),xh(this);var o=this.g.ba();this.N=o;t:if(hA(this)){var s=PI(this.g);e="";var a=s.length,l=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Do(this),Da(this);var f="";break t}this.h.i=new Le.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,yM(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xf(p)){var h=p;break t}}h=null}if(o=h)$s(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mv(this,o);else{this.i=!1,this.o=3,Rn(12),Do(this),Da(this);break e}}this.U?(dA(this,t,f),kv&&this.i&&t==3&&(rA(this.V,this.W,"tick",this.fb),this.W.start())):($s(this.j,this.m,f,null),Mv(this,f)),t==4&&Do(this),this.i&&!this.I&&(t==4?DA(this.l,this):(this.i=!1,Ec(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Rn(12)):(this.o=0,Rn(13)),Do(this),Da(this)}}}catch{}finally{}};function hA(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function dA(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=IM(e,n),o==Rf){t==4&&(e.o=4,Rn(14),i=!1),$s(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Dv){e.o=4,Rn(15),$s(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else $s(e.j,e.m,o,null),Mv(e,o);hA(e)&&o!=Rf&&o!=Dv&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Rn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),oy(t),t.L=!0,Rn(11))):($s(e.j,e.m,n,"[Invalid Chunked Response]"),Do(e),Da(e))}ce.fb=function(){if(this.g){var e=ui(this.g),t=this.g.ga();this.C<t.length&&(xh(this),dA(this,e,t),this.i&&e!=4&&Ec(this))}};function IM(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Rf:(n=Number(t.substring(n,i)),isNaN(n)?Dv:(i+=1,i+n>t.length?Rf:(t=t.substr(i,n),e.C=i+n,t)))}ce.cancel=function(){this.I=!0,Do(this)};function Ec(e){e.Y=Date.now()+e.P,pA(e,e.P)}function pA(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=wc(an(e.eb,e),t)}function xh(e){e.B&&(Le.clearTimeout(e.B),e.B=null)}ce.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(_M(this.j,this.A),this.K!=2&&(Ya(),Rn(17)),Do(this),this.o=2,Da(this)):pA(this,this.Y-e)};function Da(e){e.l.G==0||e.I||DA(e.l,e)}function Do(e){xh(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Gg(e.W),iA(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Mv(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Fv(n.i,e))){if(n.I=e.N,!e.J&&Fv(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Df(n),Nh(n);else break e;iy(n),Rn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=wc(an(n.ab,n),6e3));if(1>=bA(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Lo(n,11)}else if((e.J||n.g==e)&&Df(n),!xf(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var p=e.g;if(p){var v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var h=i.i;!h.g&&(xn(v,"spdy")||xn(v,"quic")||xn(v,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Zg(h,h.h),h.h=null))}if(i.D){var m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.sa=m,Tt(i.F,i.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var y=e;if(i.oa=FA(i,i.H?i.la:null,i.W),y.J){IA(i.i,y);var _=y,I=i.K;I&&_.setTimeout(I),_.B&&(xh(_),Ec(_)),i.g=y}else NA(i);0<n.l.length&&Ph(n)}else s[0]!="stop"&&s[0]!="close"||Lo(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Lo(n,7):ry(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Ya(4)}catch{}}function EM(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Av(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function Yg(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Av(e)||typeof e=="string")$S(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Av(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=EM(e),o=i.length;for(var s=0;s<o;s++)t.call(void 0,i[s],n&&n[s],e)}}function ku(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof ku)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}ce=ku.prototype;ce.R=function(){Jg(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ce.T=function(){return Jg(this),this.g.concat()};function Jg(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Xo(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],Xo(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}ce.get=function(e,t){return Xo(this.h,e)?this.h[e]:t};ce.set=function(e,t){Xo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ce.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],s=this.get(o);e.call(t,s,o,this)}};function Xo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var mA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function TM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var s=e[n].substring(0,i);o=e[n].substring(i+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Qo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Qo){this.g=t!==void 0?t:e.g,Of(this,e.j),this.s=e.s,Nf(this,e.i),Pf(this,e.m),this.l=e.l,t=e.h;var n=new Ja;n.i=t.i,t.g&&(n.g=new ku(t.g),n.h=t.h),RI(this,n),this.o=e.o}else e&&(n=String(e).match(mA))?(this.g=!!t,Of(this,n[1]||"",!0),this.s=La(n[2]||""),Nf(this,n[3]||"",!0),Pf(this,n[4]),this.l=La(n[5]||"",!0),RI(this,n[6]||"",!0),this.o=La(n[7]||"")):(this.g=!!t,this.h=new Ja(null,this.g))}Qo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xa(t,OI,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(xa(t,OI,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(xa(n,n.charAt(0)=="/"?CM:xM,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xa(n,OM)),e.join("")};function mi(e){return new Qo(e)}function Of(e,t,n){e.j=n?La(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Nf(e,t,n){e.i=n?La(t,!0):t}function Pf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function RI(e,t,n){t instanceof Ja?(e.h=t,NM(e.h,e.g)):(n||(t=xa(t,RM)),e.h=new Ja(t,e.g))}function Tt(e,t,n){e.h.set(t,n)}function Ch(e){return Tt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function SM(e){return e instanceof Qo?mi(e):new Qo(e,void 0)}function AM(e,t,n,i){var o=new Qo(null,void 0);return e&&Of(o,e),t&&Nf(o,t),n&&Pf(o,n),i&&(o.l=i),o}function La(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xa(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,kM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function kM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var OI=/[#\/\?@]/g,xM=/[#\?:]/g,CM=/[#\?]/g,RM=/[#\?@]/g,OM=/#/g;function Ja(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zi(e){e.g||(e.g=new ku,e.h=0,e.i&&TM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ce=Ja.prototype;ce.add=function(e,t){Zi(this),this.i=null,e=xu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function vA(e,t){Zi(e),t=xu(e,t),Xo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Xo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Jg(e)))}function gA(e,t){return Zi(e),t=xu(e,t),Xo(e.g.h,t)}ce.forEach=function(e,t){Zi(this),this.g.forEach(function(n,i){$S(n,function(o){e.call(t,o,i,this)},this)},this)};ce.T=function(){Zi(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],s=0;s<o.length;s++)n.push(t[i]);return n};ce.R=function(e){Zi(this);var t=[];if(typeof e=="string")gA(this,e)&&(t=bI(t,this.g.get(xu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=bI(t,e[n])}return t};ce.set=function(e,t){return Zi(this),this.i=null,e=xu(this,e),gA(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ce.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function yA(e,t,n){vA(e,t),0<n.length&&(e.i=null,e.g.set(xu(e,t),Fg(n)),e.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var a=o;i[s]!==""&&(a+="="+encodeURIComponent(String(i[s]))),e.push(a)}}return this.i=e.join("&")};function xu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function NM(e,t){t&&!e.j&&(Zi(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(vA(this,i),yA(this,o,n))},e)),e.j=t}var PM=function(){function e(t,n){this.h=t,this.g=n}return e}();function _A(e){this.l=e||DM,Le.PerformanceNavigationTiming?(e=Le.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Le.g&&Le.g.Ea&&Le.g.Ea()&&Le.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var DM=10;function wA(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function bA(e){return e.h?1:e.g?e.g.size:0}function Fv(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Zg(e,t){e.g?e.g.add(t):e.h=t}function IA(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}_A.prototype.cancel=function(){var e,t;if(this.i=EA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=BS(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function EA(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=BS(e.g.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return Fg(e.i)}function ey(){}ey.prototype.stringify=function(e){return Le.JSON.stringify(e,void 0)};ey.prototype.parse=function(e){return Le.JSON.parse(e,void 0)};function LM(){this.g=new ey}function MM(e,t,n){var i=n||"";try{Yg(e,function(o,s){var a=o;yc(o)&&(a=Hg(o)),t.push(i+s+"="+encodeURIComponent(a))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function FM(e,t){var n=new Th;if(Le.Image){var i=new Image;i.onload=Kl(zl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Kl(zl,n,i,"TestLoadImage: error",!1,t),i.onabort=Kl(zl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Kl(zl,n,i,"TestLoadImage: timeout",!1,t),Le.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function zl(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function Tc(e){this.l=e.$b||null,this.j=e.ib||!1}fn(Tc,Wg);Tc.prototype.g=function(){return new Rh(this.l,this.j)};Tc.prototype.i=function(e){return function(){return e}}({});function Rh(e,t){tn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ty,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fn(Rh,tn);var ty=0;ce=Rh.prototype;ce.open=function(e,t){if(this.readyState!=ty)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Za(this)};ce.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Le).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sc(this)),this.readyState=ty};ce.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Za(this)),this.g&&(this.readyState=3,Za(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;TA(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function TA(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ce.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sc(this):Za(this),this.readyState==3&&TA(this)}};ce.Ua=function(e){this.g&&(this.response=this.responseText=e,Sc(this))};ce.Ta=function(e){this.g&&(this.response=e,Sc(this))};ce.ha=function(){this.g&&Sc(this)};function Sc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Za(e)}ce.setRequestHeader=function(e,t){this.v.append(e,t)};ce.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Za(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Rh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var VM=Le.JSON.parse;function Ht(e){tn.call(this),this.headers=new ku,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=SA,this.K=this.L=!1}fn(Ht,tn);var SA="",UM=/^https?$/i,jM=["POST","PUT"];ce=Ht.prototype;ce.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pv.g(),this.C=this.u?CI(this.u):CI(Pv),this.g.onreadystatechange=an(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){NI(this,s);return}e=n||"";var o=new ku(this.headers);i&&Yg(i,function(s,a){o.set(a,s)}),i=YL(o.T()),n=Le.FormData&&e instanceof Le.FormData,!(0<=qS(jM,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{xA(this),0<this.B&&((this.K=BM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=an(this.pa,this)):this.A=zg(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){NI(this,s)}};function BM(e){return ou&&nM()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function qM(e){return e.toLowerCase()=="content-type"}ce.pa=function(){typeof Mg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cn(this,"timeout"),this.abort(8))};function NI(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,AA(e),Oh(e)}function AA(e){e.D||(e.D=!0,cn(e,"complete"),cn(e,"error"))}ce.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,cn(this,"complete"),cn(this,"abort"),Oh(this))};ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Oh(this,!0)),Ht.Z.M.call(this)};ce.Fa=function(){this.s||(this.F||this.v||this.l?kA(this):this.cb())};ce.cb=function(){kA(this)};function kA(e){if(e.h&&typeof Mg<"u"&&(!e.C[1]||ui(e)!=4||e.ba()!=2)){if(e.v&&ui(e)==4)zg(e.Fa,0,e);else if(cn(e,"readystatechange"),ui(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var s=String(e.H).match(mA)[1]||null;if(!s&&Le.self&&Le.self.location){var a=Le.self.location.protocol;s=a.substr(0,a.length-1)}o=!UM.test(s?s.toLowerCase():"")}i=o}if(i)cn(e,"complete"),cn(e,"success");else{e.m=6;try{var l=2<ui(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",AA(e)}}finally{Oh(e)}}}}function Oh(e,t){if(e.g){xA(e);var n=e.g,i=e.C[0]?kf:null;e.g=null,e.C=null,t||cn(e,"ready");try{n.onreadystatechange=i}catch{}}}function xA(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Le.clearTimeout(e.A),e.A=null)}function ui(e){return e.g?e.g.readyState:0}ce.ba=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}};ce.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),VM(t)}};function PI(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case SA:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ce.Da=function(){return this.m};ce.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function $M(e){var t="";return Vg(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function ny(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=$M(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Tt(e,t,n))}function Ia(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function CA(e){this.za=0,this.l=[],this.h=new Th,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ia("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ia("baseRetryDelayMs",5e3,e),this.$a=Ia("retryDelaySeedMs",1e4,e),this.Ya=Ia("forwardChannelMaxRetries",2,e),this.ra=Ia("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new _A(e&&e.concurrentRequestLimit),this.Ca=new LM,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ce=CA.prototype;ce.ma=8;ce.G=1;function ry(e){if(RA(e),e.G==3){var t=e.V++,n=mi(e.F);Tt(n,"SID",e.J),Tt(n,"RID",t),Tt(n,"TYPE","terminate"),Ac(e,n),t=new Ic(e,e.h,t,void 0),t.K=2,t.v=Ch(mi(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon&&(n=Le.navigator.sendBeacon(t.v.toString(),"")),!n&&Le.Image&&(new Image().src=t.v,n=!0),n||(t.g=VA(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ec(t)}MA(e)}ce.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Nh(e){e.g&&(oy(e),e.g.cancel(),e.g=null)}function RA(e){Nh(e),e.u&&(Le.clearTimeout(e.u),e.u=null),Df(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Le.clearTimeout(e.m),e.m=null)}function Wm(e,t){e.l.push(new PM(e.Za++,t)),e.G==3&&Ph(e)}function Ph(e){wA(e.i)||e.m||(e.m=!0,Kg(e.Ha,e),e.C=0)}function HM(e,t){return bA(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=wc(an(e.Ha,e,t),LA(e,e.C)),e.C++,!0)}ce.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ic(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=HS(n),KS(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(i+=s,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=OA(this,t,i),o=mi(this.F),Tt(o,"RID",e),Tt(o,"CVER",22),this.D&&Tt(o,"X-HTTP-Session-Id",this.D),Ac(this,o),this.o&&n&&ny(o,this.o,n),Zg(this.i,t),this.Ra&&Tt(o,"TYPE","init"),this.ja?(Tt(o,"$req",i),Tt(o,"SID","null"),t.$=!0,Lv(t,o,null)):Lv(t,o,i),this.G=2}}else this.G==3&&(e?DI(this,e):this.l.length==0||wA(this.i)||DI(this))};function DI(e,t){var n;t?n=t.m:n=e.V++;var i=mi(e.F);Tt(i,"SID",e.J),Tt(i,"RID",n),Tt(i,"AID",e.U),Ac(e,i),e.o&&e.s&&ny(i,e.o,e.s),n=new Ic(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=OA(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Zg(e.i,n),Lv(n,i,t)}function Ac(e,t){e.j&&Yg({},function(n,i){Tt(t,i,n)})}function OA(e,t,n){n=Math.min(e.l.length,n);var i=e.j?an(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=o[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var p=o[f].h,v=o[f].g;if(p-=s,0>p)s=Math.max(0,o[f].h-100),l=!1;else try{MM(v,a,"req"+p+"_")}catch{i&&i(v)}}if(l){i=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,i}function NA(e){e.g||e.u||(e.Y=1,Kg(e.Ga,e),e.A=0)}function iy(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=wc(an(e.Ga,e),LA(e,e.A)),e.A++,!0)}ce.Ga=function(){if(this.u=null,PA(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=wc(an(this.bb,this),e)}};ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Rn(10),Nh(this),PA(this))};function oy(e){e.B!=null&&(Le.clearTimeout(e.B),e.B=null)}function PA(e){e.g=new Ic(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=mi(e.oa);Tt(t,"RID","rpc"),Tt(t,"SID",e.J),Tt(t,"CI",e.N?"0":"1"),Tt(t,"AID",e.U),Ac(e,t),Tt(t,"TYPE","xmlhttp"),e.o&&e.s&&ny(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ch(mi(t)),n.s=null,n.U=!0,fA(n,e)}ce.ab=function(){this.v!=null&&(this.v=null,Nh(this),iy(this),Rn(19))};function Df(e){e.v!=null&&(Le.clearTimeout(e.v),e.v=null)}function DA(e,t){var n=null;if(e.g==t){Df(e),oy(e),e.g=null;var i=2}else if(Fv(e.i,t))n=t.D,IA(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=Sh(),cn(i,new uA(i,n)),Ph(e)}else NA(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&HM(e,t)||i==2&&iy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Lo(e,5);break;case 4:Lo(e,10);break;case 3:Lo(e,6);break;default:Lo(e,2)}}}function LA(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Lo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=an(e.jb,e);n||(n=new Qo("//www.google.com/images/cleardot.gif"),Le.location&&Le.location.protocol=="http"||Of(n,"https"),Ch(n)),FM(n.toString(),i)}else Rn(2);e.G=0,e.j&&e.j.va(t),MA(e),RA(e)}ce.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Rn(2)):(this.h.info("Failed to ping google.com"),Rn(1))};function MA(e){e.G=0,e.I=-1,e.j&&((EA(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Fg(e.l),e.l.length=0),e.j.ua())}function FA(e,t,n){var i=SM(n);if(i.i!="")t&&Nf(i,t+"."+i.i),Pf(i,i.m);else{var o=Le.location;i=AM(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Vg(e.aa,function(s,a){Tt(i,a,s)}),t=e.D,n=e.sa,t&&n&&Tt(i,t,n),Tt(i,"VER",e.ma),Ac(e,i),i}function VA(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Ht(new Tc({ib:!0})):new Ht(e.qa),t.L=e.H,t}function UA(){}ce=UA.prototype;ce.xa=function(){};ce.wa=function(){};ce.va=function(){};ce.ua=function(){};ce.Oa=function(){};function Lf(){if(ou&&!(10<=Number(rM)))throw Error("Environmental error: no available transport.")}Lf.prototype.g=function(e,t){return new or(e,t)};function or(e,t){tn.call(this),this.g=new CA(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!xf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!xf(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Cu(this)}fn(or,tn);or.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Kg(an(e.hb,e,t))),Rn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=FA(e,null,e.W),Ph(e)};or.prototype.close=function(){ry(this.g)};or.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Wm(this.g,t)}else this.v?(t={},t.__data__=Hg(e),Wm(this.g,t)):Wm(this.g,e)};or.prototype.M=function(){this.g.j=null,delete this.j,ry(this.g),delete this.g,or.Z.M.call(this)};function jA(e){Xg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}fn(jA,Xg);function BA(){Qg.call(this),this.status=1}fn(BA,Qg);function Cu(e){this.g=e}fn(Cu,UA);Cu.prototype.xa=function(){cn(this.g,"a")};Cu.prototype.wa=function(e){cn(this.g,new jA(e))};Cu.prototype.va=function(e){cn(this.g,new BA)};Cu.prototype.ua=function(){cn(this.g,"b")};Lf.prototype.createWebChannel=Lf.prototype.g;or.prototype.send=or.prototype.u;or.prototype.open=or.prototype.m;or.prototype.close=or.prototype.close;Ah.NO_ERROR=0;Ah.TIMEOUT=8;Ah.HTTP_ERROR=6;aA.COMPLETE="complete";cA.EventType=bc;bc.OPEN="a";bc.CLOSE="b";bc.ERROR="c";bc.MESSAGE="d";tn.prototype.listen=tn.prototype.N;Ht.prototype.listenOnce=Ht.prototype.O;Ht.prototype.getLastError=Ht.prototype.La;Ht.prototype.getLastErrorCode=Ht.prototype.Da;Ht.prototype.getStatus=Ht.prototype.ba;Ht.prototype.getResponseJson=Ht.prototype.Qa;Ht.prototype.getResponseText=Ht.prototype.ga;Ht.prototype.send=Ht.prototype.ea;var KM=function(){return new Lf},GM=function(){return Sh()},Xm=Ah,zM=aA,WM=ns,LI={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},XM=Tc,Wl=cA,QM=Ht,YM={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();nr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Te(t,e),t}(Error),xr=new FS("@firebase/firestore");function Vv(){return xr.logLevel}function ie(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(xr.logLevel<=rt.DEBUG){var i=t.map(sy);xr.debug.apply(xr,Et(["Firestore (8.10.1): "+e],i))}}function qt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(xr.logLevel<=rt.ERROR){var i=t.map(sy);xr.error.apply(xr,Et(["Firestore (8.10.1): "+e],i))}}function Mf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(xr.logLevel<=rt.WARN){var i=t.map(sy);xr.warn.apply(xr,Et(["Firestore (8.10.1): "+e],i))}}function sy(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw qt(t),new Error(t)}function Ne(e,t){e||ye()}function ue(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qA=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=JM(40),s=0;s<o.length;++s)i.length<20&&o[s]<n&&(i+=t.charAt(o[s]%t.length));return i},e}();function Ge(e,t){return e<t?-1:e>t?1:0}function su(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function $A(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new X(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new X(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new X(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ge(this.nanoseconds,t.nanoseconds):Ge(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),je=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Bn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function rs(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function HA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KA=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&ye(),i===void 0?i=t.length-n:i>t.length-n&&ye(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var s=t.get(o),a=n.get(o);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),ut=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new X(D.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(KA),ZM=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Or=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return ZM.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",s=0,a=function(){if(o.length===0)throw new X(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new X(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var p=n[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new X(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=p,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(a(),s++)}if(a(),l)throw new X(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(KA),uu=function(){function e(t){this.fields=t,t.sort(Or.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return su(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),$n=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ge(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();$n.EMPTY_BYTE_STRING=new $n("");var eF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(e){if(Ne(!!e),typeof e=="string"){var t=0,n=eF.exec(e);if(Ne(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:jt(e.seconds),nanos:jt(e.nanos)}}function jt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function au(e){return typeof e=="string"?$n.fromBase64String(e):$n.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function GA(e){var t=e.mapValue.fields.__previous_value__;return uy(t)?GA(t):t}function ec(e){var t=Qi(e.mapValue.fields.__local_write_time__.timestampValue);return new Bn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(e){return e==null}function Ff(e){return e===0&&1/e==-1/0}function zA(e){return typeof e=="number"&&Number.isInteger(e)&&!Ff(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(ut.fromString(t))},e.fromName=function(t){return new e(ut.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&ut.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return ut.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new ut(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?uy(e)?4:10:ye()}function Jr(e,t){var n=Yo(e);if(n!==Yo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ec(e).isEqual(ec(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var s=Qi(i.timestampValue),a=Qi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return au(i.bytesValue).isEqual(au(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return jt(i.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(i.geoPointValue.longitude)===jt(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return jt(i.integerValue)===jt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var s=jt(i.doubleValue),a=jt(o.doubleValue);return s===a?Ff(s)===Ff(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return su(e.arrayValue.values||[],t.arrayValue.values||[],Jr);case 10:return function(i,o){var s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(MI(s)!==MI(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Jr(s[l],a[l])))return!1;return!0}(e,t);default:return ye()}}function tc(e,t){return(e.values||[]).find(function(n){return Jr(n,t)})!==void 0}function cu(e,t){var n=Yo(e),i=Yo(t);if(n!==i)return Ge(n,i);switch(n){case 0:return 0;case 1:return Ge(e.booleanValue,t.booleanValue);case 2:return function(o,s){var a=jt(o.integerValue||o.doubleValue),l=jt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return FI(e.timestampValue,t.timestampValue);case 4:return FI(ec(e),ec(t));case 5:return Ge(e.stringValue,t.stringValue);case 6:return function(o,s){var a=au(o),l=au(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var a=o.split("/"),l=s.split("/"),f=0;f<a.length&&f<l.length;f++){var p=Ge(a[f],l[f]);if(p!==0)return p}return Ge(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var a=Ge(jt(o.latitude),jt(s.latitude));return a!==0?a:Ge(jt(o.longitude),jt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var a=o.values||[],l=s.values||[],f=0;f<a.length&&f<l.length;++f){var p=cu(a[f],l[f]);if(p)return p}return Ge(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a=o.fields||{},l=Object.keys(a),f=s.fields||{},p=Object.keys(f);l.sort(),p.sort();for(var v=0;v<l.length&&v<p.length;++v){var h=Ge(l[v],p[v]);if(h!==0)return h;var m=cu(a[l[v]],f[p[v]]);if(m!==0)return m}return Ge(l.length,p.length)}(e.mapValue,t.mapValue);default:throw ye()}}function FI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ge(e,t);var n=Qi(e),i=Qi(t),o=Ge(n.seconds,i.seconds);return o!==0?o:Ge(n.nanos,i.nanos)}function ay(e){return Uv(e)}function Uv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=Qi(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?au(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,we.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",s=!0,a=0,l=i.values||[];a<l.length;a++)s?s=!1:o+=",",o+=Uv(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",s=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];s?s=!1:o+=",",o+=f+":"+Uv(i.fields[f])}return o+"}"}(e.mapValue):ye();var t,n}function Vf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function jv(e){return!!e&&"integerValue"in e}function cy(e){return!!e&&"arrayValue"in e}function VI(e){return!!e&&"nullValue"in e}function UI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function df(e){return!!e&&"mapValue"in e}function Ma(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return rs(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Ma(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Ma(e.arrayValue.values[i]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!df(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ma(n)},e.prototype.setAll=function(t){var n=this,i=Or.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var p=n.getFieldsMap(i);n.applyChanges(p,o,s),o={},s=[],i=f.popLast()}l?o[f.lastSegment()]=Ma(l):s.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());df(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Jr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];df(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){rs(n,function(l,f){return t[l]=f});for(var o=0,s=i;o<s.length;o++){var a=s[o];delete t[a]}},e.prototype.clone=function(){return new e(Ma(this.value))},e}();function WA(e){var t=[];return rs(e.fields,function(n,i){var o=new Or([n]);if(df(i)){var s=WA(i.mapValue).fields;if(s.length===0)t.push(o);else for(var a=0,l=s;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new uu(t)}var _n=function(){function e(t,n,i,o,s){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,je.min(),er.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,er.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,er.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=er.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=er.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),tF=function(e,t,n,i,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(e,t,n,i,o,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),new tF(e,t,n,i,o,s,a)}function kc(e){var t=ue(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+ay(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),is(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=jf(t.startAt)),t.endAt&&(n+="|ub:",n+=jf(t.endAt)),t.h=n}return t.h}function Dh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!cF(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],s=t.filters[i],o.op!==s.op||!o.field.isEqual(s.field)||!Jr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qI(e.startAt,t.startAt)&&qI(e.endAt,t.endAt)}function Uf(e){return we.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var rr=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).field=n,s.op=i,s.value=o,s}return Te(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new nF(n,i,o):i==="array-contains"?new oF(n,o):i==="in"?new sF(n,o):i==="not-in"?new uF(n,o):i==="array-contains-any"?new aF(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new rF(n,o):new iF(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(cu(i,this.value)):i!==null&&Yo(this.value)===Yo(i)&&this.m(cu(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ye()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),nF=function(e){function t(n,i,o){var s=this;return(s=e.call(this,n,i,o)||this).key=we.fromName(o.referenceValue),s}return Te(t,e),t.prototype.matches=function(n){var i=we.comparator(n.key,this.key);return this.m(i)},t}(rr),rF=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=XA("in",i),o}return Te(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(rr),iF=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=XA("not-in",i),o}return Te(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(rr);function XA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return we.fromName(i.referenceValue)})}var oF=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return Te(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return cy(i)&&tc(i.arrayValue,this.value)},t}(rr),sF=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return Te(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&tc(this.value.arrayValue,i)},t}(rr),uF=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return Te(t,e),t.prototype.matches=function(n){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!tc(this.value.arrayValue,i)},t}(rr),aF=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return Te(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!cy(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return tc(i.value.arrayValue,s)})},t}(rr),nc=function(e,t){this.position=e,this.before=t};function jf(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return ay(t)}).join(",")}var Xs=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function cF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function BI(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var s=t[o],a=e.position[o];if(i=s.field.isKeyField()?we.comparator(we.fromName(a.referenceValue),n.key):cu(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function qI(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Jr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gi=function(e,t,n,i,o,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function QA(e,t,n,i,o,s,a,l){return new gi(e,t,n,i,o,s,a,l)}function xc(e){return new gi(e)}function pf(e){return!is(e.limit)&&e.limitType==="F"}function Bf(e){return!is(e.limit)&&e.limitType==="L"}function ly(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function fy(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function hy(e){return e.collectionGroup!==null}function lu(e){var t=ue(e);if(t.p===null){t.p=[];var n=fy(t),i=ly(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new Xs(n)),t.p.push(new Xs(Or.keyField(),"asc"));else{for(var o=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Xs(Or.keyField(),f))}}}return t.p}function Zr(e){var t=ue(e);if(!t.T)if(t.limitType==="F")t.T=jI(t.path,t.collectionGroup,lu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=lu(t);i<o.length;i++){var s=o[i],a=s.dir==="desc"?"asc":"desc";n.push(new Xs(s.field,a))}var l=t.endAt?new nc(t.endAt.position,!t.endAt.before):null,f=t.startAt?new nc(t.startAt.position,!t.startAt.before):null;t.T=jI(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function YA(e,t,n){return new gi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cc(e,t){return Dh(Zr(e),Zr(t))&&e.limitType===t.limitType}function JA(e){return kc(Zr(e))+"|lt:"+e.limitType}function Bv(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+ay(o.value);var o}).join(", ")+"]"),is(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+jf(t.startAt)),t.endAt&&(n+=", endAt: "+jf(t.endAt)),"Target("+n+")"}(Zr(e))+"; limitType="+e.limitType+")"}function Rc(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):we.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var a=s[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!BI(n.startAt,lu(n),i))&&(!n.endAt||!BI(n.endAt,lu(n),i))}(e,t)}function ZA(e){return function(t,n){for(var i=!1,o=0,s=lu(e);o<s.length;o++){var a=s[o],l=lF(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function lF(e,t,n){var i=e.field.isKeyField()?we.comparator(t.key,n.key):function(o,s,a){var l=s.data.field(o),f=a.data.field(o);return l!==null&&f!==null?cu(l,f):ye()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ff(t)?"-0":t}}function t1(e){return{integerValue:""+e}}function n1(e,t){return zA(t)?t1(t):e1(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lh=function(){this._=void 0};function fF(e,t,n){return e instanceof fu?function(i,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Jo?i1(e,t):e instanceof Zo?o1(e,t):function(i,o){var s=r1(i,o),a=$I(s)+$I(i.A);return jv(s)&&jv(i.A)?t1(a):e1(i.R,a)}(e,t)}function hF(e,t,n){return e instanceof Jo?i1(e,t):e instanceof Zo?o1(e,t):n}function r1(e,t){return e instanceof hu?jv(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}var fu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t}(Lh),Jo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Te(t,e),t}(Lh);function i1(e,t){for(var n=s1(t),i=function(a){n.some(function(l){return Jr(l,a)})||n.push(a)},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:n}}}var Zo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Te(t,e),t}(Lh);function o1(e,t){for(var n=s1(t),i=function(a){n=n.filter(function(l){return!Jr(l,a)})},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:n}}}var hu=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return Te(t,e),t}(Lh);function $I(e){return jt(e.integerValue||e.doubleValue)}function s1(e){return cy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oc=function(e,t){this.field=e,this.transform=t},dF=function(e,t){this.version=e,this.transformResults=t},gn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function mf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Mh=function(){};function pF(e,t,n){e instanceof Nc?function(i,o,s){var a=i.value.clone(),l=GI(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof eo?function(i,o,s){if(mf(i.precondition,o)){var a=GI(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(u1(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function qv(e,t,n){e instanceof Nc?function(i,o,s){if(mf(i.precondition,o)){var a=i.value.clone(),l=zI(i.fieldTransforms,s,o);a.setAll(l),o.convertToFoundDocument(KI(o),a).setHasLocalMutations()}}(e,t,n):e instanceof eo?function(i,o,s){if(mf(i.precondition,o)){var a=zI(i.fieldTransforms,s,o),l=o.data;l.setAll(u1(i)),l.setAll(a),o.convertToFoundDocument(KI(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){mf(i.precondition,o)&&o.convertToNoDocument(je.min())}(e,t)}function mF(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var s=o[i],a=t.data.field(s.field),l=r1(s.transform,a||null);l!=null&&(n==null&&(n=er.empty()),n.set(s.field,l))}return n||null}function HI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&su(n,i,function(o,s){return function(a,l){return a.field.isEqual(l.field)&&function(f,p){return f instanceof Jo&&p instanceof Jo||f instanceof Zo&&p instanceof Zo?su(f.elements,p.elements,Jr):f instanceof hu&&p instanceof hu?Jr(f.A,p.A):f instanceof fu&&p instanceof fu}(a.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function KI(e){return e.isFoundDocument()?e.version:je.min()}var Nc=function(e){function t(n,i,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=s,a.type=0,a}return Te(t,e),t}(Mh),eo=function(e){function t(n,i,o,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return Te(t,e),t}(Mh);function u1(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function GI(e,t,n){var i=new Map;Ne(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],a=s.transform,l=t.data.field(s.field);i.set(s.field,hF(a,l,n[o]))}return i}function zI(e,t,n){for(var i=new Map,o=0,s=e;o<s.length;o++){var a=s[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,fF(l,f,t))}return i}var Ut,Ye,Pc=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return Te(t,e),t}(Mh),dy=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return Te(t,e),t}(Mh),vF=function(e){this.count=e};function a1(e){switch(e){case D.OK:return ye();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return ye()}}function c1(e){if(e===void 0)return qt("GRPC error has no .code"),D.UNKNOWN;switch(e){case Ut.OK:return D.OK;case Ut.CANCELLED:return D.CANCELLED;case Ut.UNKNOWN:return D.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return D.INTERNAL;case Ut.UNAVAILABLE:return D.UNAVAILABLE;case Ut.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Ut.NOT_FOUND:return D.NOT_FOUND;case Ut.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Ut.ABORTED:return D.ABORTED;case Ut.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Ut.DATA_LOSS:return D.DATA_LOSS;default:return ye()}}(Ye=Ut||(Ut={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn=function(){function e(t,n){this.comparator=t,this.root=n||Vi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Vi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Xl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Xl(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Xl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Xl(this.root,t,this.comparator,!0)},e}(),Xl=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?i(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Vi=function(){function e(t,n,i,o,s){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,s){return new e(t??this.key,n??this.value,i??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,s=i(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,i),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();var t=this.left.check();if(t!==this.right.check())throw ye();return t+(this.isRed()?0:1)},e}();Vi.EMPTY=null,Vi.RED=!0,Vi.BLACK=!1,Vi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ye()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,s){return this},e.prototype.insert=function(t,n,i){return new Vi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt=function(){function e(t){this.comparator=t,this.data=new wn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new WI(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new WI(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=i.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),WI=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),gF=new wn(we.comparator);function Cr(){return gF}var yF=new wn(we.comparator);function $v(){return yF}var _F=new wn(we.comparator);function wF(){return _F}var bF=new Yt(we.comparator);function gt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=bF,i=0,o=e;i<o.length;i++){var s=o[i];n=n.add(s)}return n}var IF=new Yt(Ge);function Fh(){return IF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var py=function(){function e(t,n,i,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,my.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(je.min(),i,Fh(),Cr(),gt())},e}(),my=function(){function e(t,n,i,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e($n.EMPTY_BYTE_STRING,n,gt(),gt(),gt())},e}(),vf=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},l1=function(e,t){this.targetId=e,this.V=t},f1=function(e,t,n,i){n===void 0&&(n=$n.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},XI=function(){function e(){this.S=0,this.D=YI(),this.C=$n.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=gt(),n=gt(),i=gt();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ye()}}),new my(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=YI()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),EF=function(){function e(t){this.W=t,this.G=new Map,this.H=Cr(),this.J=QI(),this.Y=new Yt(Ge)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)o=a[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:ye()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){i.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var s=o.target;if(Uf(s))if(i===0){var a=new we(s.path);this.tt(n,a,_n.newNoDocument(a,je.min()))}else Ne(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Uf(f.target)){var p=new we(f.target.path);n.H.get(p)!==null||n.at(l,p)||n.tt(l,p,_n.newNoDocument(p,t))}a.$&&(i.set(l,a.M()),a.L())}});var o=gt();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(p){var v=n.ot(p);return!v||v.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var s=new py(t,i,this.Y,this.H,o);return this.H=Cr(),this.J=QI(),this.Y=new Yt(Ge),s},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new XI,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Yt(Ge),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new XI),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function QI(){return new wn(we.comparator)}function YI(){return new wn(we.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TF={asc:"ASCENDING",desc:"DESCENDING"},SF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AF=function(e,t){this.databaseId=e,this.I=t};function rc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function h1(e,t){return e.I?t.toBase64():t.toUint8Array()}function kF(e,t){return rc(e,t.toTimestamp())}function On(e){return Ne(!!e),je.fromTimestamp(function(t){var n=Qi(t);return new Bn(n.seconds,n.nanos)}(e))}function vy(e,t){return function(n){return new ut(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function d1(e){var t=ut.fromString(e);return Ne(w1(t)),t}function ic(e,t){return vy(e.databaseId,t.path)}function li(e,t){var n=d1(t);if(n.get(1)!==e.databaseId.projectId)throw new X(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new X(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new we(m1(n))}function Hv(e,t){return vy(e.databaseId,t)}function p1(e){var t=d1(e);return t.length===4?ut.emptyPath():m1(t)}function oc(e){return new ut(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function m1(e){return Ne(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function JI(e,t,n){return{name:ic(e,t),fields:n.value.mapValue.fields}}function xF(e,t,n){var i=li(e,t.name),o=On(t.updateTime),s=new er({mapValue:{fields:t.fields}}),a=_n.newFoundDocument(i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function qf(e,t){var n;if(t instanceof Nc)n={update:JI(e,t.key,t.value)};else if(t instanceof Pc)n={delete:ic(e,t.key)};else if(t instanceof eo)n={update:JI(e,t.key,t.data),updateMask:PF(t.fieldMask)};else{if(!(t instanceof dy))return ye();n={verify:ic(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,s){var a=s.transform;if(a instanceof fu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Jo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hu)return{fieldPath:s.field.canonicalString(),increment:a.A};throw ye()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:kF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(e,t.precondition)),n}function ZI(e,t){var n=t.currentDocument?function(p){return p.updateTime!==void 0?gn.updateTime(On(p.updateTime)):p.exists!==void 0?gn.exists(p.exists):gn.none()}(t.currentDocument):gn.none(),i=t.updateTransforms?t.updateTransforms.map(function(p){return function(v,h){var m=null;if("setToServerValue"in h)Ne(h.setToServerValue==="REQUEST_TIME"),m=new fu;else if("appendMissingElements"in h){var y=h.appendMissingElements.values||[];m=new Jo(y)}else if("removeAllFromArray"in h){var _=h.removeAllFromArray.values||[];m=new Zo(_)}else"increment"in h?m=new hu(v,h.increment):ye();var I=Or.fromServerFormat(h.fieldPath);return new Oc(I,m)}(e,p)}):[];if(t.update){t.update.name;var o=li(e,t.update.name),s=new er({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(p){var v=p.fieldPaths||[];return new uu(v.map(function(h){return Or.fromServerFormat(h)}))}(t.updateMask);return new eo(o,s,a,n,i)}return new Nc(o,s,n,i)}if(t.delete){var l=li(e,t.delete);return new Pc(l,n)}if(t.verify){var f=li(e,t.verify);return new dy(f,n)}return ye()}function v1(e,t){return{documents:[Hv(e,t.path)]}}function g1(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Hv(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Hv(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(p){return function(v){if(v.op==="=="){if(UI(v.value))return{unaryFilter:{field:Ls(v.field),op:"IS_NAN"}};if(VI(v.value))return{unaryFilter:{field:Ls(v.field),op:"IS_NULL"}}}else if(v.op==="!="){if(UI(v.value))return{unaryFilter:{field:Ls(v.field),op:"IS_NOT_NAN"}};if(VI(v.value))return{unaryFilter:{field:Ls(v.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(v.field),op:RF(v.op),value:v.value}}}(p)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(p){return{field:Ls(p.field),direction:CF(p.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,f){return l.I||is(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=eE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=eE(t.endAt)),n}function y1(e){var t=p1(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Ne(i===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=_1(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(h){return function(m){return new Xs(Hs(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h)}));var f=null;n.limit&&(f=function(h){var m;return is(m=typeof h=="object"?h.value:h)?null:m}(n.limit));var p=null;n.startAt&&(p=tE(n.startAt));var v=null;return n.endAt&&(v=tE(n.endAt)),QA(t,o,l,a,f,"F",p,v)}function _1(e){return e?e.unaryFilter!==void 0?[NF(e)]:e.fieldFilter!==void 0?[OF(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return _1(t)}).reduce(function(t,n){return t.concat(n)}):ye():[]}function eE(e){return{before:e.before,values:e.position}}function tE(e){var t=!!e.before,n=e.values||[];return new nc(n,t)}function CF(e){return TF[e]}function RF(e){return SF[e]}function Ls(e){return{fieldPath:e.canonicalString()}}function Hs(e){return Or.fromServerFormat(e.fieldPath)}function OF(e){return rr.create(Hs(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ye()}}(e.fieldFilter.op),e.fieldFilter.value)}function NF(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Hs(e.unaryFilter.field);return rr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Hs(e.unaryFilter.field);return rr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Hs(e.unaryFilter.field);return rr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Hs(e.unaryFilter.field);return rr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ye()}}function PF(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function w1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=nE(t)),t=DF(e.get(n),t);return nE(t)}function DF(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function nE(e){return e+""}function ai(e){var t=e.length;if(Ne(t>=2),t===2)return Ne(e.charAt(0)===""&&e.charAt(1)===""),ut.emptyPath();for(var n=t-2,i=[],o="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&ye(),e.charAt(a+1)){case"":var l=e.substring(s,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=e.substring(s,a),o+="\0";break;case"":o+=e.substring(s,a+1);break;default:ye()}s=a+2}return new ut(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LF=function(e,t){this.seconds=e,this.nanoseconds=t},Jn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Jn.store="owner",Jn.key="owner";var Gi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Gi.store="mutationQueues",Gi.keyPath="userId";var _t=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};_t.store="mutations",_t.keyPath="batchId",_t.userMutationsIndex="userMutationsIndex",_t.userMutationsKeyPath=["userId","batchId"];var dn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Rr(n)]},e.key=function(t,n,i){return[t,Rr(n),i]},e}();dn.store="documentMutations",dn.PLACEHOLDER=new dn;var MF=function(e,t){this.path=e,this.readTime=t},FF=function(e,t){this.path=e,this.version=t},Nt=function(e,t,n,i,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=s};Nt.store="remoteDocuments",Nt.readTimeIndex="readTimeIndex",Nt.readTimeIndexPath="readTime",Nt.collectionReadTimeIndex="collectionReadTimeIndex",Nt.collectionReadTimeIndexPath=["parentPath","readTime"];var Gr=function(e){this.byteSize=e};Gr.store="remoteDocumentGlobal",Gr.key="remoteDocumentGlobalKey";var jn=function(e,t,n,i,o,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=a};jn.store="targets",jn.keyPath="targetId",jn.queryTargetsIndexName="queryTargetsIndex",jn.queryTargetsKeyPath=["canonicalId","targetId"];var un=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};un.store="targetDocuments",un.keyPath=["targetId","path"],un.documentTargetsIndex="documentTargetsIndex",un.documentTargetsKeyPath=["path","targetId"];var Zn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Zn.key="targetGlobalKey",Zn.store="targetGlobal";var Bo=function(e,t){this.collectionId=e,this.parent=t};Bo.store="collectionParents",Bo.keyPath=["collectionId","parent"];var fi=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};fi.store="clientMetadata",fi.keyPath="clientId";var du=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};du.store="bundles",du.keyPath="bundleId";var pu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};pu.store="namedQueries",pu.keyPath="name";var VF=Et(Et([],Et(Et([],Et(Et([],Et(Et([],[Gi.store,_t.store,dn.store,Nt.store,jn.store,Jn.store,Zn.store,un.store]),[fi.store])),[Gr.store])),[Bo.store])),[du.store,pu.store]),b1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",I1=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Hn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},ee=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){i.nextCallback=function(a){i.wrapSuccess(t,a).next(o,s)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,s=0,a=!1;t.forEach(function(l){++o,l.next(function(){++s,a&&s===o&&n()},function(f){return i(f)})}),a=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,s=t;o<s.length;o++)i(s[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(s,a){o.push(n.call(i,s,a))}),this.waitFor(o)},e}(),E1=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Hn,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new Fa(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var s=gy(o.target.error);i.ft.reject(new Fa(t,s))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(s){throw new Fa(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ie("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new jF(n)},e}(),mu=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(Wo())===12.2&&qt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ie("SimpleDb","Removing database:",t),No(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Wo(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)},e.gt=function(){var t;return typeof process<"u"&&((t=YM)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return H(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ie("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var p=f.target.result;s(p)},l.onblocked=function(){a(new Fa(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var p=f.target.error;p.name==="VersionError"?a(new X(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Fa(t,p))},l.onupgradeneeded=function(f){ie("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var p=f.target.result;i.wt.Rt(p,l.transaction,f.oldVersion,i.version).next(function(){ie("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return i.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return H(this,void 0,void 0,function(){var s,a,l,f,p;return $(this,function(v){switch(v.label){case 0:s=n==="readonly",a=0,l=function(){var h,m,y,_,I;return $(this,function(E){switch(E.label){case 0:++a,E.label=1;case 1:return E.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=E.sent(),h=E1.open(f.db,t,s?"readonly":"readwrite",i),m=o(h).catch(function(T){return h.abort(T),ee.reject(T)}).toPromise(),y={},m.catch(function(){}),[4,h.dt];case 3:return[2,(y.value=(E.sent(),m),y)];case 4:return _=E.sent(),I=_.name!=="FirebaseError"&&a<3,ie("SimpleDb","Transaction failed with error:",_.message,"Retrying:",I),f.close(),I?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,v.label=1;case 1:return[5,l()];case 2:if(typeof(p=v.sent())=="object")return[2,p.value];v.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),UF=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return No(this.Pt.delete())},e}(),Fa=function(e){function t(n,i){var o=this;return(o=e.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return Te(t,e),t}(X);function os(e){return e.name==="IndexedDbTransactionError"}var jF=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(ie("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(ie("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),No(i)},e.prototype.add=function(t){return ie("SimpleDb","ADD",this.store.name,t,t),No(this.store.add(t))},e.prototype.get=function(t){var n=this;return No(this.store.get(t)).next(function(i){return i===void 0&&(i=null),ie("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return ie("SimpleDb","DELETE",this.store.name,t),No(this.store.delete(t))},e.prototype.count=function(){return ie("SimpleDb","COUNT",this.store.name),No(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(s,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){ie("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new ee(function(i,o){n.onerror=function(s){var a=gy(s.target.error);o(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new ee(function(o,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new UF(l),p=n(l.primaryKey,l.value,f);if(p instanceof ee){var v=p.catch(function(h){return f.done(),ee.reject(h)});i.push(v)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return ee.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function No(e){return new ee(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=gy(i.target.error);n(o)}})}var rE=!1;function gy(e){var t=mu._t(Wo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new X("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return rE||(rE=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iE=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return Te(t,e),t}(I1);function Kn(e,t){var n=ue(e);return mu.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yy=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&pF(s,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t.key)&&qv(a,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t.key)&&qv(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(je.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},gt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&su(this.mutations,t.mutations,function(n,i){return HI(n,i)})&&su(this.baseMutations,t.baseMutations,function(n,i){return HI(n,i)})},e}(),BF=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){Ne(t.mutations.length===i.length);for(var o=wF(),s=t.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,i[a].version);return new e(t,n,i,o)},e}(),Vh=function(){function e(t,n,i,o,s,a,l){s===void 0&&(s=je.min()),a===void 0&&(a=je.min()),l===void 0&&(l=$n.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),T1=function(e){this.Lt=e};function Kv(e,t){if(t.document)return xF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=we.fromSegments(t.noDocument.path),i=gu(t.noDocument.readTime),o=_n.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=we.fromSegments(t.unknownDocument.path);return i=gu(t.unknownDocument.version),_n.newUnknownDocument(s,i)}return ye()}function oE(e,t,n){var i=_y(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,m){return{name:ic(h,m.key),fields:m.data.value.mapValue.fields,updateTime:rc(h,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Nt(null,null,s,a,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=vu(t.version);return a=t.hasCommittedMutations,new Nt(null,new MF(l,f),null,a,i,o)}if(t.isUnknownDocument()){var p=t.key.path.toArray(),v=vu(t.version);return new Nt(new FF(p,v),null,null,!0,i,o)}return ye()}function _y(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function S1(e){var t=new Bn(e[0],e[1]);return je.fromTimestamp(t)}function vu(e){var t=e.toTimestamp();return new LF(t.seconds,t.nanoseconds)}function gu(e){var t=new Bn(e.seconds,e.nanoseconds);return je.fromTimestamp(t)}function js(e,t){for(var n=(t.baseMutations||[]).map(function(f){return ZI(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var s=t.mutations[i+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var a=t.mutations.map(function(f){return ZI(e.Lt,f)}),l=Bn.fromMillis(t.localWriteTimeMs);return new yy(t.batchId,l,n,a)}function Ca(e){var t,n,i=gu(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?gu(e.lastLimboFreeSnapshotVersion):je.min();return e.query.documents!==void 0?(Ne((n=e.query).documents.length===1),t=Zr(xc(p1(n.documents[0])))):t=function(s){return Zr(y1(s))}(e.query),new Vh(t,e.targetId,0,e.lastListenSequenceNumber,i,o,$n.fromBase64String(e.resumeToken))}function A1(e,t){var n,i=vu(t.snapshotVersion),o=vu(t.lastLimboFreeSnapshotVersion);n=Uf(t.target)?v1(e.Lt,t.target):g1(e.Lt,t.target);var s=t.resumeToken.toBase64();return new jn(t.targetId,kc(t.target),i,s,t.sequenceNumber,o,n)}function k1(e){var t=y1({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?YA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qF=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return sE(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:gu(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return sE(t).put({bundleId:(i=n).id,createTime:vu(On(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return uE(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:k1(o.bundledQuery),readTime:gu(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return uE(t).put(function(i){return{name:i.name,readTime:vu(On(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();function sE(e){return Kn(e,du.store)}function uE(e){return Kn(e,pu.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $F=function(){function e(){this.Bt=new wy}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),ee.resolve()},e.prototype.getCollectionParents=function(t,n){return ee.resolve(this.Bt.getEntries(n))},e}(),wy=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Yt(ut.comparator),s=!o.has(i);return this.index[n]=o.add(i),s},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Yt(ut.comparator)).toArray()},e}(),HF=function(){function e(){this.qt=new wy}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:Rr(s)};return aE(t).put(a)}return ee.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[$A(n),""],!1,!0);return aE(t).Nt(o).next(function(s){for(var a=0,l=s;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(ai(f.parent))}return i})},e}();function aE(e){return Kn(e,Bo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$r=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(e,t,n){var i=e.store(_t.store),o=e.store(dn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(_,I,E){return l++,E.delete()});s.push(f.next(function(){Ne(l===1)}));for(var p=[],v=0,h=n.mutations;v<h.length;v++){var m=h[v],y=dn.key(t,m.key.path,n.batchId);s.push(o.delete(y)),p.push(m.key)}return ee.waitFor(s).next(function(){return p})}function $f(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ye();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r.DEFAULT_COLLECTION_PERCENTILE=10,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$r.DEFAULT=new $r(41943040,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$r.DISABLED=new $r(-1,0,0);var KF=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return Ne(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ri(t).$t({index:_t.userMutationsIndex,range:i},function(o,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var s=this,a=Bs(t),l=Ri(t);return l.add({}).next(function(f){Ne(typeof f=="number");for(var p=new yy(f,n,i,o),v=function(T,C,P){var M=P.baseMutations.map(function(V){return qf(T.Lt,V)}),J=P.mutations.map(function(V){return qf(T.Lt,V)});return new _t(C,P.batchId,P.localWriteTime.toMillis(),M,J)}(s.R,s.userId,p),h=[],m=new Yt(function(T,C){return Ge(T.canonicalString(),C.canonicalString())}),y=0,_=o;y<_.length;y++){var I=_[y],E=dn.key(s.userId,I.key.path,f);m=m.add(I.key.path.popLast()),h.push(l.put(v)),h.push(a.put(E,dn.PLACEHOLDER))}return m.forEach(function(T){h.push(s.Ut.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(function(){s.Kt[f]=p.keys()}),ee.waitFor(h).next(function(){return p})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Ri(t).get(n).next(function(o){return o?(Ne(o.userId===i.userId),js(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?ee.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return i.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),a=null;return Ri(t).$t({index:_t.userMutationsIndex,range:s},function(l,f,p){f.userId===i.userId&&(Ne(f.batchId>=o),a=js(i.R,f)),p.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Ri(t).$t({index:_t.userMutationsIndex,range:n,reverse:!0},function(o,s,a){i=s.batchId,a.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ri(t).Nt(_t.userMutationsIndex,i).next(function(o){return o.map(function(s){return js(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=dn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),a=[];return Bs(t).$t({range:s},function(l,f,p){var v=l[0],h=l[1],m=l[2],y=ai(h);if(v===i.userId&&n.path.isEqual(y))return Ri(t).get(m).next(function(_){if(!_)throw ye();Ne(_.userId===i.userId),a.push(js(i.R,_))});p.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Yt(Ge),s=[];return n.forEach(function(a){var l=dn.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),p=Bs(t).$t({range:f},function(v,h,m){var y=v[0],_=v[1],I=v[2],E=ai(_);y===i.userId&&a.path.isEqual(E)?o=o.add(I):m.done()});s.push(p)}),ee.waitFor(s).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,s=o.length+1,a=dn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Yt(Ge);return Bs(t).$t({range:l},function(p,v,h){var m=p[0],y=p[1],_=p[2],I=ai(y);m===i.userId&&o.isPrefixOf(I)?I.length===s&&(f=f.add(_)):h.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],s=[];return n.forEach(function(a){s.push(Ri(t).get(a).next(function(l){if(l===null)throw ye();Ne(l.userId===i.userId),o.push(js(i.R,l))}))}),ee.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return x1(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),ee.forEach(o,function(s){return i.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return ee.resolve();var o=IDBKeyRange.lowerBound(dn.prefixForUser(n.userId)),s=[];return Bs(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var p=ai(a[1]);s.push(p)}else f.done()}).next(function(){Ne(s.length===0)})})},e.prototype.containsKey=function(t,n){return C1(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return R1(t).get(this.userId).next(function(i){return i||new Gi(n.userId,-1,"")})},e}();function C1(e,t,n){var i=dn.prefixForPath(t,n.path),o=i[1],s=IDBKeyRange.lowerBound(i),a=!1;return Bs(e).$t({range:s,Ft:!0},function(l,f,p){var v=l[0],h=l[1];l[2],v===t&&h===o&&(a=!0),p.done()}).next(function(){return a})}function Ri(e){return Kn(e,_t.store)}function Bs(e){return Kn(e,dn.store)}function R1(e){return Kn(e,Gi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hf=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),GF=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new Hf(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return je.fromTimestamp(new Bn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Ms(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return Ne(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,s=0,a=[];return Ms(t).$t(function(l,f){var p=Ca(f);p.sequenceNumber<=n&&i.get(p.targetId)===null&&(s++,a.push(o.removeTargetData(t,p)))}).next(function(){return ee.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Ms(t).$t(function(i,o){var s=Ca(o);n(s)})},e.prototype.Xt=function(t){return lE(t).get(Zn.key).next(function(n){return Ne(n!==null),n})},e.prototype.Zt=function(t,n){return lE(t).put(Zn.key,n)},e.prototype.te=function(t,n){return Ms(t).put(A1(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=kc(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return Ms(t).$t({range:o,index:jn.queryTargetsIndexName},function(a,l,f){var p=Ca(l);Dh(n,p.target)&&(s=p,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,s=[],a=Ui(t);return n.forEach(function(l){var f=Rr(l.path);s.push(a.put(new un(i,f))),s.push(o.referenceDelegate.addReference(t,i,l))}),ee.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,s=Ui(t);return ee.forEach(n,function(a){var l=Rr(a.path);return ee.waitFor([s.delete([i,l]),o.referenceDelegate.removeReference(t,i,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Ui(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Ui(t),s=gt();return o.$t({range:i,Ft:!0},function(a,l,f){var p=ai(a[1]),v=new we(p);s=s.add(v)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var i=Rr(n.path),o=IDBKeyRange.bound([i],[$A(i)],!1,!0),s=0;return Ui(t).$t({index:un.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var p=a[0];a[1],p!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Ms(t).get(n).next(function(i){return i?Ca(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(e){return Kn(e,jn.store)}function lE(e){return Kn(e,Zn.store)}function Ui(e){return Kn(e,un.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(e){return H(this,void 0,void 0,function(){return $(this,function(t){if(e.code!==D.FAILED_PRECONDITION||e.message!==b1)throw e;return ie("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(e,t){var n=e[0],i=e[1],o=t[0],s=t[1],a=Ge(n,o);return a===0?Ge(i,s):a}var zF=function(){function e(t){this.ne=t,this.buffer=new Yt(fE),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();fE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),WF=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;ie("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return H(n,void 0,void 0,function(){var o;return $(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return os(o=s.sent())?(ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,ss(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),XF=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return ee.resolve(nr.o);var o=new zF(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return i.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(cE)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),cE):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,s,a,l,f,p,v=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>v.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+v.params.maximumSequenceNumbersToCollect+" from "+m),o=v.params.maximumSequenceNumbersToCollect):o=m,a=Date.now(),v.nthSequenceNumber(t,o)}).next(function(m){return i=m,l=Date.now(),v.removeTargets(t,i,n)}).next(function(m){return s=m,f=Date.now(),v.removeOrphanedDocuments(t,i)}).next(function(m){return p=Date.now(),Vv()<=rt.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-h)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+m+" documents in "+(p-f)+`ms
Total Duration: `+(p-h)+"ms"),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:m})})},e}(),QF=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new XF(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return Ql(t,i)},e.prototype.removeReference=function(t,n,i){return Ql(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return Ql(t,n)},e.prototype._e=function(t,n){return function(i,o){var s=!1;return R1(i).Ot(function(a){return C1(i,a,o).next(function(l){return l&&(s=!0),ee.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,f){if(f<=n){var p=i._e(t,l).next(function(v){if(!v)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Ui(t).delete([0,Rr(l.path)])})});s.push(p)}}).next(function(){return ee.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return Ql(t,n)},e.prototype.we=function(t,n){var i,o=Ui(t),s=nr.o;return o.$t({index:un.documentTargetsIndex},function(a,l){var f=a[0];a[1];var p=l.path,v=l.sequenceNumber;f===0?(s!==nr.o&&n(new we(ai(i)),s),s=v,i=p):s=nr.o}).next(function(){s!==nr.o&&n(new we(ai(i)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Ql(e,t){return Ui(e).put(function(n,i){return new un(0,Rr(n.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ru=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,s=i;o<s.length;o++){var a=s[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){rs(this.inner,function(n,i){for(var o=0,s=i;o<s.length;o++){var a=s[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return HA(this.inner)},e}(),O1=function(){function e(){this.changes=new Ru(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:je.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:_n.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?ee.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),YF=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Mi(t).put(Yl(n),i)},e.prototype.removeEntry=function(t,n){var i=Mi(t),o=Yl(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return Mi(t).get(Yl(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return Mi(t).get(Yl(n)).next(function(o){return{document:i.ye(n,o),size:$f(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=Cr();return this.pe(t,n,function(s,a){var l=i.ye(s,a);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=Cr(),s=new wn(we.comparator);return this.pe(t,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),s=s.insert(a,$f(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return ee.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Mi(t).$t({range:o},function(l,f,p){for(var v=we.fromSegments(l);a&&we.comparator(a,v)<0;)i(a,null),a=s.getNext();a&&a.isEqual(v)&&(i(a,f),a=s.hasNext()?s.getNext():null),a?p.Ct(a.path.toArray()):p.done()}).next(function(){for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,s=Cr(),a=n.path.length+1,l={};if(i.isEqual(je.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var p=n.path.toArray(),v=_y(i);l.range=IDBKeyRange.lowerBound([p,v],!0),l.index=Nt.collectionReadTimeIndex}return Mi(t).$t(l,function(h,m,y){if(h.length===a){var _=Kv(o.R,m);n.path.isPrefixOf(_.key.path)?Rc(n,_)&&(s=s.insert(_.key,_)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new JF(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return hE(t).get(Gr.key).next(function(n){return Ne(!!n),n})},e.prototype.me=function(t,n){return hE(t).put(Gr.key,n)},e.prototype.ye=function(t,n){if(n){var i=Kv(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(je.min()))return i}return _n.newInvalidDocument(t)},e}(),JF=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new Ru(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),o}return Te(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],s=0,a=new Yt(function(l,f){return Ge(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var p=i.Ae.get(l);if(f.document.isValidDocument()){var v=oE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var h=$f(v);s+=h-p,o.push(i.Ie.addEntry(n,l,v))}else if(s-=p,i.trackRemovals){var m=oE(i.Ie.R,_n.newNoDocument(l,je.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,m))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),ee.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(s){return o.Ae.set(i,s.size),s.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(s){var a=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(O1);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(e){return Kn(e,Gr.store)}function Mi(e){return Kn(e,Nt.store)}function Yl(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZF=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var s=this;Ne(i<o&&i>=0&&o<=11);var a=new E1("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(Jn.store)}(t),function(f){f.createObjectStore(Gi.store,{keyPath:Gi.keyPath}),f.createObjectStore(_t.store,{keyPath:_t.keyPath,autoIncrement:!0}).createIndex(_t.userMutationsIndex,_t.userMutationsKeyPath,{unique:!0}),f.createObjectStore(dn.store)}(t),dE(t),function(f){f.createObjectStore(Nt.store)}(t));var l=ee.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(un.store),f.deleteObjectStore(jn.store),f.deleteObjectStore(Zn.store)}(t),dE(t)),l=l.next(function(){return function(f){var p=f.store(Zn.store),v=new Zn(0,0,je.min().toTimestamp(),0);return p.put(Zn.key,v)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,p){return p.store(_t.store).Nt().next(function(v){f.deleteObjectStore(_t.store),f.createObjectStore(_t.store,{keyPath:_t.keyPath,autoIncrement:!0}).createIndex(_t.userMutationsIndex,_t.userMutationsKeyPath,{unique:!0});var h=p.store(_t.store),m=v.map(function(y){return h.put(y)});return ee.waitFor(m)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(fi.store,{keyPath:fi.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return s.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Gr.store)}(t),s.be(a)})),i<7&&o>=7&&(l=l.next(function(){return s.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return s.Pe(t,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var p=f.objectStore(Nt.store);p.createIndex(Nt.readTimeIndex,Nt.readTimeIndexPath,{unique:!1}),p.createIndex(Nt.collectionReadTimeIndex,Nt.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return s.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(du.store,{keyPath:du.keyPath})})(t),function(f){f.createObjectStore(pu.store,{keyPath:pu.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Nt.store).$t(function(i,o){n+=$f(o)}).next(function(){var i=new Gr(n);return t.store(Gr.store).put(Gr.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(Gi.store),o=t.store(_t.store);return i.Nt().next(function(s){return ee.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(_t.userMutationsIndex,l).next(function(f){return ee.forEach(f,function(p){Ne(p.userId===a.userId);var v=js(n.R,p);return x1(t,a.userId,v).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(un.store),i=t.store(Nt.store);return t.store(Zn.store).get(Zn.key).next(function(o){var s=[];return i.$t(function(a,l){var f=new ut(a),p=function(v){return[0,Rr(v)]}(f);s.push(n.get(p).next(function(v){return v?ee.resolve():function(h){return n.put(new un(0,Rr(h),o.highestListenSequenceNumber))}(f)}))}).next(function(){return ee.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Bo.store,{keyPath:Bo.keyPath});var i=n.store(Bo.store),o=new wy,s=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:Rr(f)})}};return n.store(Nt.store).$t({Ft:!0},function(a,l){var f=new ut(a);return s(f.popLast())}).next(function(){return n.store(dn.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var p=ai(f);return s(p.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(jn.store);return i.$t(function(o,s){var a=Ca(s),l=A1(n.R,a);return i.put(l)})},e}();function dE(e){e.createObjectStore(un.store,{keyPath:un.keyPath}).createIndex(un.documentTargetsIndex,un.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(jn.store,{keyPath:jn.keyPath}).createIndex(jn.queryTargetsIndexName,jn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Zn.store)}var Qm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eV=function(){function e(t,n,i,o,s,a,l,f,p,v){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=s,this.window=a,this.document=l,this.De=p,this.Ce=v,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new X(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QF(this,o),this.Le=n+"main",this.R=new T1(f),this.Be=new mu(this.Le,11,new ZF(this.R)),this.qe=new GF(this.referenceDelegate,this.R),this.Ut=new HF,this.Ue=function(h,m){return new YF(h,m)}(this.R,this.Ut),this.Ke=new qF,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,v===!1&&qt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new X(D.FAILED_PRECONDITION,Qm);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new nr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return H(n,void 0,void 0,function(){return $(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return H(n,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return H(n,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Jl(n).put(new fi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(os(n))return ie("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Ea(t).get(Jn.key).next(function(i){return ee.resolve(n.tn(i))})},e.prototype.en=function(t){return Jl(t).delete(this.clientId)},e.prototype.nn=function(){return H(this,void 0,void 0,function(){var t,n,i,o,s=this;return $(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Kn(l,fi.store);return f.Nt().next(function(p){var v=s.rn(p,18e5),h=p.filter(function(m){return v.indexOf(m)===-1});return ee.forEach(h,function(m){return f.delete(m.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?ee.resolve(!0):Ea(t).get(Jn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new X(D.FAILED_PRECONDITION,Qm);return!1}}return!(!n.networkEnabled||!n.inForeground)||Jl(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&ie("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return H(this,void 0,void 0,function(){var t=this;return $(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Jn.store,fi.store],function(i){var o=new iE(i,nr.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Jl(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return KF.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ie("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,VF,function(l){return s=new iE(l,o.Ne?o.Ne.next():nr.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw qt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new X(D.FAILED_PRECONDITION,b1);return i(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return i(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Ea(t).get(Jn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new X(D.FAILED_PRECONDITION,Qm)})},e.prototype.Ze=function(t){var n=new Jn(this.clientId,this.allowTabSynchronization,Date.now());return Ea(t).put(Jn.key,n)},e.yt=function(){return mu.yt()},e.prototype.Xe=function(t){var n=this,i=Ea(t);return i.get(Jn.key).next(function(o){return n.tn(o)?(ie("IndexedDbPersistence","Releasing primary lease."),i.delete(Jn.key)):ee.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(qt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),sL()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ie("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return qt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){qt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Ea(e){return Kn(e,Jn.store)}function Jl(e){return Kn(e,fi.store)}function by(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var N1=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,a=i;s<a.length;s++)a[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return we.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):hy(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new we(n)).next(function(i){var o=$v();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,s=n.collectionGroup,a=$v();return this.Ut.getCollectionParents(t,s).next(function(l){return ee.forEach(l,function(f){var p=function(v,h){return new gi(h,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(s));return o.An(t,p,i).next(function(v){v.forEach(function(h,m){a=a.insert(h,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,i){var o,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,o).next(function(f){o=f;for(var p=0,v=s;p<v.length;p++)for(var h=v[p],m=0,y=h.mutations;m<y.length;m++){var _=y[m],I=_.key,E=o.get(I);E==null&&(E=_n.newInvalidDocument(I),o=o.insert(I,E)),qv(_,E,h.localWriteTime),E.isFoundDocument()||(o=o.remove(I))}})}).next(function(){return o.forEach(function(l,f){Rc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=gt(),s=0,a=n;s<a.length;s++)for(var l=0,f=a[s].mutations;l<f.length;l++){var p=f[l];p instanceof eo&&i.get(p.key)===null&&(o=o.add(p.key))}var v=i;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(m,y){y.isFoundDocument()&&(v=v.insert(m,y))}),v})},e}(),tV=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=gt(),o=gt(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),P1=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(je.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=s.Cn(n,a);return(pf(n)||Bf(n))&&s.Nn(n.limitType,l,o,i)?s.Dn(t,n):(Vv()<=rt.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bv(n)),s.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return l.forEach(function(p){f=f.insert(p.key,p)}),f}))})},e.prototype.Cn=function(t,n){var i=new Yt(ZA(t));return n.forEach(function(o,s){Rc(t,s)&&(i=i.add(s))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Vv()<=rt.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Bv(n)),this.Sn.getDocumentsMatchingQuery(t,n,je.min())},e}(),nV=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new wn(Ge),this.Fn=new Ru(function(s){return kc(s)},Dh),this.$n=je.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new N1(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(e,t,n,i){return new nV(e,t,n,i)}function L1(e,t){return H(this,void 0,void 0,function(){var n,i,o,s;return $(this,function(a){switch(a.label){case 0:return n=ue(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(p){return f=p,i=n.persistence.getMutationQueue(t),o=new N1(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(p){for(var v=[],h=[],m=gt(),y=0,_=f;y<_.length;y++){var I=_[y];v.push(I.batchId);for(var E=0,T=I.mutations;E<T.length;E++){var C=T[E];m=m.add(C.key)}}for(var P=0,M=p;P<M.length;P++){var J=M[P];h.push(J.batchId);for(var V=0,de=J.mutations;V<de.length;V++){var G=de[V];m=m.add(G.key)}}return o.pn(l,m).next(function(Q){return{Ln:Q,removedBatchIds:v,addedBatchIds:h}})})})];case 1:return s=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function rV(e,t){var n=ue(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,p){var v=f.batch,h=v.keys(),m=ee.resolve();return h.forEach(function(y){m=m.next(function(){return p.getEntry(l,y)}).next(function(_){var I=f.docVersions.get(y);Ne(I!==null),_.version.compareTo(I)<0&&(v.applyToRemoteDocument(_,f),_.isValidDocument()&&p.addEntry(_,f.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,v)})}(n,i,t,s).next(function(){return s.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function M1(e){var t=ue(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function iV(e,t){var n=ue(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(v,h){var m=o.get(h);if(m){l.push(n.qe.removeMatchingKeys(s,v.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,v.addedDocuments,h)}));var y=v.resumeToken;if(y.approximateByteSize()>0){var _=m.withResumeToken(y,i).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,_),function(I,E,T){return Ne(E.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,_,v)&&l.push(n.qe.updateTargetData(s,_))}}});var f=Cr();if(t.documentUpdates.forEach(function(v,h){t.resolvedLimboDocuments.has(v)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,v))}),l.push(oV(s,a,t.documentUpdates,i,void 0).next(function(v){f=v})),!i.isEqual(je.min())){var p=n.qe.getLastRemoteSnapshotVersion(s).next(function(v){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,i)});l.push(p)}return ee.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function oV(e,t,n,i,o){var s=gt();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=Cr();return n.forEach(function(f,p){var v=a.get(f),h=(o==null?void 0:o.get(f))||i;p.isNoDocument()&&p.version.isEqual(je.min())?(t.removeEntry(f,h),l=l.insert(f,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p,h),l=l.insert(f,p)):ie("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",p.version)}),l})}function sV(e,t){var n=ue(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function Kf(e,t){var n=ue(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(s){return s?(o=s,ee.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new Vh(t,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function yu(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a;return $(this,function(l){switch(l.label){case 0:i=ue(e),o=i.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!os(a=l.sent()))throw a;return ie("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function Gf(e,t,n){var i=ue(e),o=je.min(),s=gt();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,p){var v=ue(l),h=v.Fn.get(p);return h!==void 0?ee.resolve(v.kn.get(h)):v.qe.getTargetData(f,p)}(i,a,Zr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){s=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,t,n?o:je.min(),n?s:gt())}).next(function(l){return{documents:l,Bn:s}})})}function F1(e,t){var n=ue(e),i=ue(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return i.lt(s,t).next(function(a){return a?a.target:null})})}function V1(e){var t=ue(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,s){var a=ue(i),l=Cr(),f=_y(s),p=Mi(o),v=IDBKeyRange.lowerBound(f,!0);return p.$t({index:Nt.readTimeIndex,range:v},function(h,m){var y=Kv(a.R,m);l=l.insert(y.key,y),f=m.readTime}).next(function(){return{wn:l,readTime:S1(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function uV(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){return[2,(t=ue(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var s=Mi(o),a=je.min();return s.$t({index:Nt.readTimeIndex,reverse:!0},function(l,f,p){f.readTime&&(a=S1(f.readTime)),p.done()}).next(function(){return a})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aV=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return ee.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:On(i.createTime)}),ee.resolve()},e.prototype.getNamedQuery=function(t,n){return ee.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:k1(i.bundledQuery),readTime:On(i.readTime)}}(n)),ee.resolve()},e}(),Iy=function(){function e(){this.Wn=new Yt(Zt.Gn),this.zn=new Yt(Zt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new Zt(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Zt(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new we(new ut([])),o=new Zt(i,t),s=new Zt(i,t+1),a=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new we(new ut([])),i=new Zt(n,t),o=new Zt(n,t+1),s=gt();return this.zn.forEachInRange([i,o],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Zt(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),Zt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return we.comparator(t.key,n.key)||Ge(t.ns,n.ns)},e.Hn=function(t,n){return Ge(t.ns,n.ns)||we.comparator(t.key,n.key)},e}(),cV=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Yt(Zt.Gn)}return e.prototype.checkEmpty=function(t){return ee.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new yy(s,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var p=f[l];this.rs=this.rs.add(new Zt(p.key,s)),this.Ut.addToCollectionParentIndex(t,p.key.path.popLast())}return ee.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return ee.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),s=o<0?0:o;return ee.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ee.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return ee.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new Zt(n,0),s=new Zt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,s],function(l){var f=i.os(l.ns);a.push(f)}),ee.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Yt(Ge);return n.forEach(function(s){var a=new Zt(s,0),l=new Zt(s,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),ee.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,s=i;we.isDocumentKey(s)||(s=s.child(""));var a=new Zt(new we(s),0),l=new Yt(Ge);return this.rs.forEachWhile(function(f){var p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(l=l.add(f.ns)),!0)},a),ee.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var s=n.os(o);s!==null&&i.push(s)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;Ne(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return ee.forEach(n.mutations,function(s){var a=new Zt(s.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new Zt(n,0),o=this.rs.firstAfterOrEqual(i);return ee.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,ee.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),lV=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new wn(we.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,s=this.docs.get(o),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return ee.resolve(i?i.document.clone():_n.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=Cr();return n.forEach(function(s){var a=i.docs.get(s);o=o.insert(s,a?a.document.clone():_n.newInvalidDocument(s))}),ee.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=Cr(),s=new we(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),f=l.key,p=l.value,v=p.document,h=p.readTime;if(!n.path.isPrefixOf(f.path))break;h.compareTo(i)<=0||Rc(n,v)&&(o=o.insert(v.key,v.clone()))}return ee.resolve(o)},e.prototype.fs=function(t,n){return ee.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new fV(this)},e.prototype.getSize=function(t){return ee.resolve(this.size)},e}(),fV=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return Te(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(s))):i.Ie.removeEntry(s)}),ee.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(O1),hV=function(){function e(t){this.persistence=t,this.ds=new Ru(function(n){return kc(n)},Dh),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.ws=0,this._s=new Iy,this.targetCount=0,this.ys=Hf.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),ee.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return ee.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return ee.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ee.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),ee.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Hf(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,ee.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),ee.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,ee.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,s=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),ee.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return ee.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return ee.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),ee.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(a){s.push(o.markPotentiallyOrphaned(t,a))}),ee.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),ee.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return ee.resolve(i)},e.prototype.containsKey=function(t,n){return ee.resolve(this._s.containsKey(n))},e}(),dV=function(){function e(t,n){var i=this;this.gs={},this.Ne=new nr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new hV(this),this.Ut=new $F,this.Ue=function(o,s){return new lV(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new T1(n),this.Ke=new aV(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new cV(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ie("MemoryPersistence","Starting transaction:",t);var s=new pV(this.Ne.next());return this.referenceDelegate.Es(),i(s).next(function(a){return o.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return ee.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),pV=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return Te(t,e),t}(I1),mV=function(){function e(t){this.persistence=t,this.As=new Iy,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ye()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),ee.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),ee.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),ee.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(s){return i.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.vs,function(o){var s=we.fromPath(o);return n.Ps(t,s).next(function(a){a||i.removeEntry(s)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return ee.or([function(){return ee.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),on=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(e,t){return"firestore_clients_"+e+"_"+t}function mE(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function Ym(e,t){return"firestore_targets_"+e+"_"+t}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");var vE=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,s=JSON.parse(i),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new X(s.error.code,s.error.message)),a?new e(t,n,s.state,o):(qt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Jm=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new X(o.error.code,o.error.message)),s?new e(t,o.state,i):(qt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),gE=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,s=Fh(),a=0;o&&a<i.activeTargetIds.length;++a)o=zA(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return o?new e(t,s):(qt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),vV=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(qt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Gv=function(){function e(){this.activeTargetIds=Fh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Zm=function(){function e(t,n,i,o,s){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new wn(Ge),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=pE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Gv),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return H(this,void 0,void 0,function(){var t,n,i,o,s,a,l,f,p,v,h,m=this;return $(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(s=this.getItem(pE(this.persistenceKey,o)))&&(a=gE.Vs(o,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),p=0,v=this.$s;p<v.length;p++)h=v[p],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(Ym(this.persistenceKey,t));if(i){var o=Jm.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Ym(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,i.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ie("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ie("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ie("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(ie("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void qt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return H(n,void 0,void 0,function(){var o,s,a,l,f,p;return $(this,function(v){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(s=this.ni(i.key,i.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(p=function(h){var m=nr.o;if(h!=null)try{var y=JSON.parse(h);Ne(typeof y=="number"),m=y}catch(_){qt("SharedClientState","Failed to read sequence number from WebStorage",_)}return m}(i.newValue))!==nr.o&&this.sequenceNumberHandler(p);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new vE(this.currentUser,t,n,i),s=mE(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=mE(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=Ym(this.persistenceKey,t),s=new Jm(t,n,i);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return gE.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),s=i[2]!==void 0?i[2]:null;return vE.Vs(new on(s),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return Jm.Vs(o,n)},e.prototype.js=function(t){return vV.Vs(t)},e.prototype.ii=function(t){return H(this,void 0,void 0,function(){return $(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ie("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(p){s.has(p)||l.push(p)}),s.forEach(function(p){a.has(p)||f.push(p)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Fh();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),U1=function(){function e(){this.li=new Gv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Gv,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),gV=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),yE=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),yV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},_V=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),wV=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Te(t,e),t.prototype.Fi=function(n,i,o,s){return new Promise(function(a,l){var f=new QM;f.listenOnce(zM.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Xm.NO_ERROR:var v=f.getResponseJson();ie("Connection","XHR received:",JSON.stringify(v)),a(v);break;case Xm.TIMEOUT:ie("Connection",'RPC "'+n+'" timed out'),l(new X(D.DEADLINE_EXCEEDED,"Request time out"));break;case Xm.HTTP_ERROR:var h=f.getStatus();if(ie("Connection",'RPC "'+n+'" failed with status:',h,"response text:",f.getResponseText()),h>0){var m=f.getResponseJson().error;if(m&&m.status&&m.message){var y=function(_){var I=_.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(I)>=0?I:D.UNKNOWN}(m.status);l(new X(y,m.message))}else l(new X(D.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new X(D.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ie("Connection",'RPC "'+n+'" completed.')}});var p=JSON.stringify(s);f.send(i,"POST",p,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=KM(),a=GM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new XM({})),this.ki(l.initMessageHeaders,i),ZD()||nL()||rL()||iL()||oL()||tL()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ie("Connection","Creating WebChannel: "+f,l);var p=s.createWebChannel(f,l),v=!1,h=!1,m=new _V({Ei:function(_){h?ie("Connection","Not sending because WebChannel is closed:",_):(v||(ie("Connection","Opening WebChannel transport."),p.open(),v=!0),ie("Connection","WebChannel sending:",_),p.send(_))},Ti:function(){return p.close()}}),y=function(_,I,E){_.listen(I,function(T){try{E(T)}catch(C){setTimeout(function(){throw C},0)}})};return y(p,Wl.EventType.OPEN,function(){h||ie("Connection","WebChannel transport opened.")}),y(p,Wl.EventType.CLOSE,function(){h||(h=!0,ie("Connection","WebChannel transport closed"),m.Vi())}),y(p,Wl.EventType.ERROR,function(_){h||(h=!0,Mf("Connection","WebChannel transport errored:",_),m.Vi(new X(D.UNAVAILABLE,"The operation could not be completed")))}),y(p,Wl.EventType.MESSAGE,function(_){var I;if(!h){var E=_.data[0];Ne(!!E);var T=E,C=T.error||((I=T[0])===null||I===void 0?void 0:I.error);if(C){ie("Connection","WebChannel received error:",C);var P=C.status,M=function(V){var de=Ut[V];if(de!==void 0)return c1(de)}(P),J=C.message;M===void 0&&(M=D.INTERNAL,J="Unknown error status: "+P+" with message "+C.message),h=!0,m.Vi(new X(M,J)),p.close()}else ie("Connection","WebChannel received:",E),m.Si(E)}}),y(a,WM.STAT_EVENT,function(_){_.stat===LI.PROXY?ie("Connection","Detected buffering proxy"):_.stat===LI.NOPROXY&&ie("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var s=this.xi(t,n);ie("RestConnection","Sending: ",s,i);var a={};return this.ki(a,o),this.Fi(t,s,a,i).then(function(l){return ie("RestConnection","Received: ",l),l},function(l){throw Mf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=yV[t];return this.Di+"/v1/"+n+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(){return typeof window<"u"?window:null}function gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(e){return new AF(e,!0)}var Ey=function(){function e(t,n,i,o,s){i===void 0&&(i=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,i-o);s>0&&ie("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),B1=function(){function e(t,n,i,o,s,a){this.Se=t,this.zi=i,this.Hi=o,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ey(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return H(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return H(this,void 0,void 0,function(){return $(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return H(this,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(qt(n.toString()),qt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===D.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var s=new X(D.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return H(t,void 0,void 0,function(){return $(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ie("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),bV=function(e){function t(n,i,o,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=s,l}return Te(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(s,a){var l;if("targetChange"in a){a.targetChange;var f=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:ye()}(a.targetChange.targetChangeType||"NO_CHANGE"),p=a.targetChange.targetIds||[],v=function(E,T){return E.I?(Ne(T===void 0||typeof T=="string"),$n.fromBase64String(T||"")):(Ne(T===void 0||T instanceof Uint8Array),$n.fromUint8Array(T||new Uint8Array))}(s,a.targetChange.resumeToken),h=(m=a.targetChange.cause)&&function(E){var T=E.code===void 0?D.UNKNOWN:c1(E.code);return new X(T,E.message||"")}(m);l=new f1(f,p,v,h||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,p=li(s,f.document.name),v=On(f.document.updateTime);var m=new er({mapValue:{fields:f.document.fields}}),y=(h=_n.newFoundDocument(p,v,m),f.targetIds||[]),_=f.removedTargetIds||[];l=new vf(y,_,h.key,h)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,p=li(s,f.document),v=f.readTime?On(f.readTime):je.min(),m=_n.newNoDocument(p,v),h=f.removedTargetIds||[],l=new vf([],h,m.key,m);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,p=li(s,f.document),v=f.removedTargetIds||[],l=new vf([],v,p,null);else{if(!("filter"in a))return ye();a.filter;var I=a.filter;I.targetId,f=I.count||0,p=new vF(f),v=I.targetId,l=new l1(v,p)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return je.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?je.min():a.readTime?On(a.readTime):je.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=oc(this.R),i.addTarget=function(s,a){var l,f=a.target;return(l=Uf(f)?{documents:v1(s,f)}:{query:g1(s,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=h1(s,a.resumeToken):a.snapshotVersion.compareTo(je.min())>0&&(l.readTime=rc(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,a){var l=function(f,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ye()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=oc(this.R),i.removeTarget=n,this.cr(i)},t}(B1),IV=function(e){function t(n,i,o,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=s,l.gr=!1,l}return Te(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Ne(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(s,a){return s&&s.length>0?(Ne(a!==void 0),s.map(function(l){return function(f,p){var v=f.updateTime?On(f.updateTime):On(p);return v.isEqual(je.min())&&(v=On(p)),new dF(v,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=On(n.commitTime);return this.listener.Tr(o,i)}return Ne(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=oc(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return qf(i.R,s)})};this.cr(o)},t}(B1),EV=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=i,s.R=o,s.Rr=!1,s}return Te(t,e),t.prototype.br=function(){if(this.Rr)throw new X(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new X(D.UNKNOWN,a.toString())})},t.prototype.$i=function(n,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new X(D.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),TV=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(qt(n),this.Vr=!1):ie("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),SV=function(e,t,n,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return H(s,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return to(this)?(ie("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return H(this,void 0,void 0,function(){var p;return $(this,function(v){switch(v.label){case 0:return(p=ue(f)).Or.add(4),[4,Ou(p)];case 1:return v.sent(),p.Br.set("Unknown"),p.Or.delete(4),[4,Dc(p)];case 2:return v.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new TV(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(e){return H(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:if(!to(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ou(e){return H(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function jh(e,t){var n=ue(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Ay(n)?Sy(n):Pu(n).er()&&Ty(n,t))}function sc(e,t){var n=ue(e),i=Pu(n);n.$r.delete(t),i.er()&&q1(n,t),n.$r.size===0&&(i.er()?i.ir():to(n)&&n.Br.set("Unknown"))}function Ty(e,t){e.qr.U(t.targetId),Pu(e).mr(t)}function q1(e,t){e.qr.U(t),Pu(e).yr(t)}function Sy(e){e.qr=new EF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Pu(e).start(),e.Br.Sr()}function Ay(e){return to(e)&&!Pu(e).tr()&&e.$r.size>0}function to(e){return ue(e).Or.size===0}function $1(e){e.qr=void 0}function AV(e){return H(this,void 0,void 0,function(){return $(this,function(t){return e.$r.forEach(function(n,i){Ty(e,n)}),[2]})})}function kV(e,t){return H(this,void 0,void 0,function(){return $(this,function(n){return $1(e),Ay(e)?(e.Br.Nr(t),Sy(e)):e.Br.set("Unknown"),[2]})})}function xV(e,t,n){return H(this,void 0,void 0,function(){var i,o,s;return $(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof f1&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return H(this,void 0,void 0,function(){var p,v,h,m;return $(this,function(y){switch(y.label){case 0:p=f.cause,v=0,h=f.targetIds,y.label=1;case 1:return v<h.length?(m=h[v],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,p)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return v++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),ie("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,zf(e,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof vf?e.qr.X(t):t instanceof l1?e.qr.rt(t):e.qr.et(t),n.isEqual(je.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,M1(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var p=l.qr.ut(f);return p.targetChanges.forEach(function(v,h){if(v.resumeToken.approximateByteSize()>0){var m=l.$r.get(h);m&&l.$r.set(h,m.withResumeToken(v.resumeToken,f))}}),p.targetMismatches.forEach(function(v){var h=l.$r.get(v);if(h){l.$r.set(v,h.withResumeToken($n.EMPTY_BYTE_STRING,h.snapshotVersion)),q1(l,v);var m=new Vh(h.target,v,1,h.sequenceNumber);Ty(l,m)}}),l.remoteSyncer.applyRemoteEvent(p)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ie("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,zf(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function zf(e,t,n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:if(!os(t))throw t;return e.Or.add(1),[4,Ou(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return M1(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return $(this,function(s){switch(s.label){case 0:return ie("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Dc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function H1(e,t){return t().catch(function(n){return zf(e,n,t)})}function Nu(e){return H(this,void 0,void 0,function(){var t,n,i,o,s;return $(this,function(a){switch(a.label){case 0:t=ue(e),n=Yi(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return to(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,sV(t.localStore,i)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var p=Yi(l);p.er()&&p.pr&&p.Er(f.mutations)}(t,o),[3,6]);case 4:return s=a.sent(),[4,zf(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return K1(t)&&G1(t),[2]}})})}function K1(e){return to(e)&&!Yi(e).tr()&&e.Fr.length>0}function G1(e){Yi(e).start()}function CV(e){return H(this,void 0,void 0,function(){return $(this,function(t){return Yi(e).Ar(),[2]})})}function RV(e){return H(this,void 0,void 0,function(){var t,n,i,o;return $(this,function(s){for(t=Yi(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function OV(e,t,n){return H(this,void 0,void 0,function(){var i,o;return $(this,function(s){switch(s.label){case 0:return i=e.Fr.shift(),o=BF.from(i,t,n),[4,H1(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Nu(e)];case 2:return s.sent(),[2]}})})}function NV(e,t){return H(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return t&&Yi(e).pr?[4,function(i,o){return H(this,void 0,void 0,function(){var s,a;return $(this,function(l){switch(l.label){case 0:return a1(a=o.code)&&a!==D.ABORTED?(s=i.Fr.shift(),Yi(i).sr(),[4,H1(i,function(){return i.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Nu(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return K1(e)&&G1(e),[2]}})})}function zv(e,t){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=ue(e),t?(n.Or.delete(2),[4,Dc(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Ou(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Pu(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var s=ue(n);return s.br(),new bV(i,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:AV.bind(null,e),Ri:kV.bind(null,e),_r:xV.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),Ay(e)?Sy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),$1(e),i.label=3;case 3:return[2]}})})})),e.Ur}function Yi(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var s=ue(n);return s.br(),new IV(i,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:CV.bind(null,e),Ri:NV.bind(null,e),Ir:RV.bind(null,e),Tr:OV.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,Nu(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(ie("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var PV=function(){function e(t,n,i,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=s,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,i,o,s){var a=new e(t,n,Date.now()+i,o,s);return a.start(i),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(D.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Du(e,t){if(qt("AsyncQueue",t+": "+e),os(e))return new X(D.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z1=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||we.comparator(n.key,i.key)}:function(n,i){return we.comparator(n.key,i.key)},this.keyedMap=$v(),this.sortedSet=new wn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=i.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),_E=function(){function e(){this.Qr=new wn(we.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ye():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),Wf=function(){function e(t,n,i,o,s,a,l,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,z1.emptySet(n),s,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),DV=function(){this.Wr=void 0,this.listeners=[]},LV=function(){this.queries=new Ru(function(e){return JA(e)},Cc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,a,l,f;return $(this,function(p){switch(p.label){case 0:if(n=ue(e),i=t.query,o=!1,(s=n.queries.get(i))||(o=!0,s=new DV),!o)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),a=s,[4,n.onListen(i)];case 2:return a.Wr=p.sent(),[3,4];case 3:return l=p.sent(),f=Du(l,"Initialization of query '"+Bv(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&Cy(n),[2]}})})}function xy(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,a;return $(this,function(l){return n=ue(e),i=t.query,o=!1,(s=n.queries.get(i))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),o=s.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function MV(e,t){for(var n=ue(e),i=!1,o=0,s=t;o<s.length;o++){var a=s[o],l=a.query,f=n.queries.get(l);if(f){for(var p=0,v=f.listeners;p<v.length;p++)v[p].Hr(a)&&(i=!0);f.Wr=a}}i&&Cy(n)}function FV(e,t,n){var i=ue(e),o=i.queries.get(t);if(o)for(var s=0,a=o.listeners;s<a.length;s++)a[s].onError(n);i.queries.delete(t)}function Cy(e){e.Gr.forEach(function(t){t.next()})}var Ry=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var s=o[i];s.type!==3&&n.push(s)}t=new Wf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Wf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W1=function(e){this.key=e},X1=function(e){this.key=e},Q1=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=gt(),this.mutatedKeys=gt(),this.lo=ZA(t),this.fo=new z1(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new _E,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,p=pf(this.query)&&s.size===this.query.limit?s.last():null,v=Bf(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var _=s.get(m),I=Rc(i.query,y)?y:null,E=!!_&&i.mutatedKeys.has(_.key),T=!!I&&(I.hasLocalMutations||i.mutatedKeys.has(I.key)&&I.hasCommittedMutations),C=!1;_&&I?_.data.isEqual(I.data)?E!==T&&(o.track({type:3,doc:I}),C=!0):i.yo(_,I)||(o.track({type:2,doc:I}),C=!0,(p&&i.lo(I,p)>0||v&&i.lo(I,v)<0)&&(f=!0)):!_&&I?(o.track({type:0,doc:I}),C=!0):_&&!I&&(o.track({type:1,doc:_}),C=!0,(p||v)&&(f=!0)),C&&(I?(l=l.add(I),a=T?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),pf(this.query)||Bf(this.query))for(;l.size>this.query.limit;){var h=pf(this.query)?l.last():l.first();l=l.delete(h.key),a=a.delete(h.key),o.track({type:1,doc:h})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(v,h){return function(m,y){var _=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return _(m)-_(y)}(v.type,h.type)||o.lo(v.doc,h.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,p=f!==this.ao;return this.ao=f,a.length!==0||p?{snapshot:new Wf(this.query,t.fo,s,a,t.mutatedKeys,f===0,p,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new _E,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=gt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new X1(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new W1(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=gt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Wf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),VV=function(e,t,n){this.query=e,this.targetId=t,this.view=n},UV=function(e){this.key=e,this.bo=!1},jV=function(){function e(t,n,i,o,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Ru(function(l){return JA(l)},Cc),this.Vo=new Map,this.So=new Set,this.Do=new wn(we.comparator),this.Co=new Map,this.No=new Iy,this.xo={},this.ko=new Map,this.Fo=Hf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function BV(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,a,l;return $(this,function(f){switch(f.label){case 0:return n=Ly(e),(s=n.Po.get(t))?(i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Kf(n.localStore,Zr(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,Oy(n,t,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&jh(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function Oy(e,t,n,i){return H(this,void 0,void 0,function(){var o,s,a,l,f,p;return $(this,function(v){switch(v.label){case 0:return e.Oo=function(h,m,y){return function(_,I,E,T){return H(this,void 0,void 0,function(){var C,P,M;return $(this,function(J){switch(J.label){case 0:return C=I.view._o(E),C.Nn?[4,Gf(_.localStore,I.query,!1).then(function(V){var de=V.documents;return I.view._o(de,C)})]:[3,2];case 1:C=J.sent(),J.label=2;case 2:return P=T&&T.targetChanges.get(I.targetId),M=I.view.applyChanges(C,_.isPrimaryClient,P),[2,(Wv(_,I.targetId,M.To),M.snapshot)]}})})}(e,h,m,y)},[4,Gf(e.localStore,t,!0)];case 1:return o=v.sent(),s=new Q1(t,o.Bn),a=s._o(o.documents),l=my.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=s.applyChanges(a,e.isPrimaryClient,l),Wv(e,n,f.To),p=new VV(t,n,s),[2,(e.Po.set(t,p),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function qV(e,t){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(s){switch(s.label){case 0:return n=ue(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!Cc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,yu(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),sc(n.remoteStore,i.targetId),_u(n,i.targetId)}).catch(ss)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return _u(n,i.targetId),[4,yu(n.localStore,i.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function $V(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a;return $(this,function(l){switch(l.label){case 0:i=My(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,p){var v,h=ue(f),m=Bn.now(),y=p.reduce(function(_,I){return _.add(I.key)},gt());return h.persistence.runTransaction("Locally write mutations","readwrite",function(_){return h.Mn.pn(_,y).next(function(I){v=I;for(var E=[],T=0,C=p;T<C.length;T++){var P=C[T],M=mF(P,v.get(P.key));M!=null&&E.push(new eo(P.key,M,WA(M.value.mapValue),gn.exists(!0)))}return h._n.addMutationBatch(_,m,E,p)})}).then(function(_){return _.applyToLocalDocumentSet(v),{batchId:_.batchId,changes:v}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,p,v){var h=f.xo[f.currentUser.toKey()];h||(h=new wn(Ge)),h=h.insert(p,v),f.xo[f.currentUser.toKey()]=h}(i,o.batchId,n),[4,no(i,o.changes)];case 3:return l.sent(),[4,Nu(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Du(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function Y1(e,t){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:n=ue(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,iV(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(Ne(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?Ne(l.bo):s.removedDocuments.size>0&&(Ne(l.bo),l.bo=!1))}),[4,no(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,ss(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function wE(e,t,n){var i=ue(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,a){var l=ue(s);l.onlineState=a;var f=!1;l.queries.forEach(function(p,v){for(var h=0,m=v.listeners;h<m.length;h++)m[h].zr(a)&&(f=!0)}),f&&Cy(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function HV(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a,l,f;return $(this,function(p){switch(p.label){case 0:return(i=ue(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(s=o&&o.key)?(a=(a=new wn(we.comparator)).insert(s,_n.newNoDocument(s,je.min())),l=gt().add(s),f=new py(je.min(),new Map,new Yt(Ge),a,l),[4,Y1(i,f)]):[3,2];case 1:return p.sent(),i.Do=i.Do.remove(s),i.Co.delete(t),Dy(i),[3,4];case 2:return[4,yu(i.localStore,t,!1).then(function(){return _u(i,t,n)}).catch(ss)];case 3:p.sent(),p.label=4;case 4:return[2]}})})}function KV(e,t){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(s){switch(s.label){case 0:n=ue(e),i=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,rV(n.localStore,t)];case 2:return o=s.sent(),Py(n,i,null),Ny(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,no(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,ss(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function GV(e,t,n){return H(this,void 0,void 0,function(){var i,o;return $(this,function(s){switch(s.label){case 0:i=ue(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var f=ue(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(p){var v;return f._n.lookupMutationBatch(p,l).next(function(h){return Ne(h!==null),v=h.keys(),f._n.removeMutationBatch(p,h)}).next(function(){return f._n.performConsistencyCheck(p)}).next(function(){return f.Mn.pn(p,v)})})}(i.localStore,t)];case 2:return o=s.sent(),Py(i,t,n),Ny(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,no(i,o)];case 3:return s.sent(),[3,6];case 4:return[4,ss(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function zV(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,a;return $(this,function(l){switch(l.label){case 0:to((n=ue(e)).remoteStore)||ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var p=ue(f);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(v){return p._n.getHighestUnacknowledgedBatchId(v)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return s=l.sent(),a=Du(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Ny(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Py(e,t,n){var i=ue(e),o=i.xo[i.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function _u(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var s=o[i];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||J1(e,a)})}function J1(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(sc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Dy(e))}function Wv(e,t,n){for(var i=0,o=n;i<o.length;i++){var s=o[i];s instanceof W1?(e.No.addReference(s.key,t),WV(e,s)):s instanceof X1?(ie("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||J1(e,s.key)):ye()}}function WV(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(ie("SyncEngine","New document in limbo: "+n),e.So.add(i),Dy(e))}function Dy(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new we(ut.fromString(t)),i=e.Fo.next();e.Co.set(i,new UV(n)),e.Do=e.Do.insert(n,i),jh(e.remoteStore,new Vh(Zr(xc(n.path)),i,2,nr.o))}}function no(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a;return $(this,function(l){switch(l.label){case 0:return i=ue(e),o=[],s=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,p){a.push(i.Oo(p,t,n).then(function(v){if(v){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,v.fromCache?"not-current":"current"),o.push(v);var h=tV.Pn(p.targetId,v);s.push(h)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,p){return H(this,void 0,void 0,function(){var v,h,m,y,_,I,E,T,C;return $(this,function(P){switch(P.label){case 0:v=ue(f),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,v.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(M){return ee.forEach(p,function(J){return ee.forEach(J.bn,function(V){return v.persistence.referenceDelegate.addReference(M,J.targetId,V)}).next(function(){return ee.forEach(J.vn,function(V){return v.persistence.referenceDelegate.removeReference(M,J.targetId,V)})})})})];case 2:return P.sent(),[3,4];case 3:if(!os(h=P.sent()))throw h;return ie("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(m=0,y=p;m<y.length;m++)_=y[m],I=_.targetId,_.fromCache||(E=v.kn.get(I),T=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(T),v.kn=v.kn.insert(I,C));return[2]}})})}(i.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function XV(e,t){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return(n=ue(e)).currentUser.isEqual(t)?[3,3]:(ie("SyncEngine","User change. New user:",t.toKey()),[4,L1(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new X(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,no(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function QV(e,t){var n=ue(e),i=n.Co.get(t);if(i&&i.bo)return gt().add(i.key);var o=gt(),s=n.Vo.get(t);if(!s)return o;for(var a=0,l=s;a<l.length;a++){var f=l[a],p=n.Po.get(f);o=o.unionWith(p.view.wo)}return o}function YV(e,t){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(s){switch(s.label){case 0:return[4,Gf((n=ue(e)).localStore,t.query,!0)];case 1:return i=s.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Wv(n,t.targetId,o.To),o)]}})})}function JV(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){return[2,V1((t=ue(e)).localStore).then(function(i){return no(t,i)})]})})}function ZV(e,t,n,i){return H(this,void 0,void 0,function(){var o,s;return $(this,function(a){switch(a.label){case 0:return[4,function(l,f){var p=ue(l),v=ue(p._n);return p.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return v.jt(h,f).next(function(m){return m?p.Mn.pn(h,m):ee.resolve(null)})})}((o=ue(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Nu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Py(o,t,i||null),Ny(o,t),function(l,f){ue(ue(l)._n).Gt(f)}(o.localStore,t)):ye(),a.label=4;case 4:return[4,no(o,s)];case 5:return a.sent(),[3,7];case 6:ie("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function eU(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,a,l,f,p;return $(this,function(v){switch(v.label){case 0:return Ly(n=ue(e)),My(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,bE(n,i.toArray())]);case 1:return o=v.sent(),n.$o=!0,[4,zv(n.remoteStore,!0)];case 2:for(v.sent(),s=0,a=o;s<a.length;s++)l=a[s],jh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],p=Promise.resolve(),n.Vo.forEach(function(h,m){n.sharedClientState.isLocalQueryTarget(m)?f.push(m):p=p.then(function(){return _u(n,m),yu(n.localStore,m,!0)}),sc(n.remoteStore,m)}),[4,p]);case 4:return v.sent(),[4,bE(n,f)];case 5:return v.sent(),function(h){var m=ue(h);m.Co.forEach(function(y,_){sc(m.remoteStore,_)}),m.No.ts(),m.Co=new Map,m.Do=new wn(we.comparator)}(n),n.$o=!1,[4,zv(n.remoteStore,!1)];case 6:v.sent(),v.label=7;case 7:return[2]}})})}function bE(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a,l,f,p,v,h,m,y,_,I,E;return $(this,function(T){switch(T.label){case 0:i=ue(e),o=[],s=[],a=0,l=t,T.label=1;case 1:return a<l.length?(f=l[a],p=void 0,(v=i.Vo.get(f))&&v.length!==0?[4,Kf(i.localStore,Zr(v[0]))]:[3,7]):[3,13];case 2:p=T.sent(),h=0,m=v,T.label=3;case 3:return h<m.length?(y=m[h],_=i.Po.get(y),[4,YV(i,_)]):[3,6];case 4:(I=T.sent()).snapshot&&s.push(I.snapshot),T.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,F1(i.localStore,f)];case 8:return E=T.sent(),[4,Kf(i.localStore,E)];case 9:return p=T.sent(),[4,Oy(i,Z1(E),f,!1)];case 10:T.sent(),T.label=11;case 11:o.push(p),T.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(s),o)]}})})}function Z1(e){return QA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function tU(e){var t=ue(e);return ue(ue(t.localStore).persistence).fn()}function nU(e,t,n,i){return H(this,void 0,void 0,function(){var o,s,a;return $(this,function(l){switch(l.label){case 0:return(o=ue(e)).$o?(ie("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,V1(o.localStore)];case 3:return s=l.sent(),a=py.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,no(o,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,yu(o.localStore,t,!0)];case 6:return l.sent(),_u(o,t,i),[3,8];case 7:ye(),l.label=8;case 8:return[2]}})})}function rU(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a,l,f,p,v,h,m;return $(this,function(y){switch(y.label){case 0:if(!(i=Ly(e)).$o)return[3,10];o=0,s=t,y.label=1;case 1:return o<s.length?(a=s[o],i.Vo.has(a)?(ie("SyncEngine","Adding an already active target "+a),[3,5]):[4,F1(i.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,Kf(i.localStore,l)];case 3:return f=y.sent(),[4,Oy(i,Z1(l),f.targetId,!1)];case 4:y.sent(),jh(i.remoteStore,f),y.label=5;case 5:return o++,[3,1];case 6:p=function(_){return $(this,function(I){switch(I.label){case 0:return i.Vo.has(_)?[4,yu(i.localStore,_,!1).then(function(){sc(i.remoteStore,_),_u(i,_)}).catch(ss)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},v=0,h=n,y.label=7;case 7:return v<h.length?(m=h[v],[5,p(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return v++,[3,7];case 10:return[2]}})})}function Ly(e){var t=ue(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Y1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HV.bind(null,t),t.vo._r=MV.bind(null,t.eventManager),t.vo.Mo=FV.bind(null,t.eventManager),t}function My(e){var t=ue(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=KV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=GV.bind(null,t),t}var ek=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return H(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return this.R=Uh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return D1(this.persistence,new P1,t.initialUser,this.R)},e.prototype.qo=function(t){return new dV(mV.bs,this.R)},e.prototype.Bo=function(t){return new U1},e.prototype.terminate=function(){return H(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),tk=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=i,s.forceOwnership=o,s.synchronizeTabs=!1,s}return Te(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,uV(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,My(this.Qo.syncEngine)];case 4:return o.sent(),[4,Nu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return D1(this.persistence,new P1,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new WF(i,n.asyncQueue)},t.prototype.qo=function(n){var i=by(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?$r.withCacheSize(this.cacheSizeBytes):$r.DEFAULT;return new eV(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,j1(),gf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new U1},t}(ek),iU=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return Te(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i,o=this;return $(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof Zm?(this.sharedClientState.syncEngine={ui:ZV.bind(null,i),ai:nU.bind(null,i),hi:rU.bind(null,i),fn:tU.bind(null,i),ci:JV.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return H(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return[4,eU(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var i=j1();if(!Zm.yt(i))throw new X(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=by(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Zm(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(tk),Xv=function(){function e(){}return e.prototype.initialize=function(t,n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return wE(i.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=XV.bind(null,this.syncEngine),[4,zv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new LV},e.prototype.createDatastore=function(t){var n,i=Uh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new wV(n));return function(s,a,l){return new EV(s,a,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,s,a,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,s=function(f){return wE(l.syncEngine,f,0)},a=yE.yt()?new yE:new gV,new SV(n,i,o,s,a)},e.prototype.createSyncEngine=function(t,n){return function(i,o,s,a,l,f,p){var v=new jV(i,o,s,a,l,f);return p&&(v.$o=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=ue(t),ie("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Ou(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),oU=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return H(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new X(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return H(this,void 0,void 0,function(){var l,f,p,v,h,m;return $(this,function(y){switch(y.label){case 0:return l=ue(s),f=oc(l.R)+"/documents",p={documents:a.map(function(_){return ic(l.R,_)})},[4,l.$i("BatchGetDocuments",f,p)];case 1:return v=y.sent(),h=new Map,v.forEach(function(_){var I=function(E,T){return"found"in T?function(C,P){Ne(!!P.found),P.found.name,P.found.updateTime;var M=li(C,P.found.name),J=On(P.found.updateTime),V=new er({mapValue:{fields:P.found.fields}});return _n.newFoundDocument(M,J,V)}(E,T):"missing"in T?function(C,P){Ne(!!P.missing),Ne(!!P.readTime);var M=li(C,P.missing),J=On(P.readTime);return _n.newNoDocument(M,J)}(E,T):ye()}(l.R,_);h.set(I.key.toString(),I)}),m=[],[2,(a.forEach(function(_){var I=h.get(_.toString());Ne(!!I),m.push(I)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return i.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Pc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return H(this,void 0,void 0,function(){var t,n=this;return $(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var a=we.fromPath(s);n.mutations.push(new dy(a,n.precondition(a)))}),[4,function(o,s){return H(this,void 0,void 0,function(){var a,l,f;return $(this,function(p){switch(p.label){case 0:return a=ue(o),l=oc(a.R)+"/documents",f={writes:s.map(function(v){return qf(a.R,v)})},[4,a.Ni("Commit",l,f)];case 1:return p.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ye();n=je.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new X(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?gn.updateTime(n):gn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(je.min()))throw new X(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gn.updateTime(n)}return gn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),sU=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new Ey(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return H(t,void 0,void 0,function(){var n,i,o=this;return $(this,function(s){return n=new oU(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!is(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!a1(n)}return!1},e}(),uU=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=on.UNAUTHENTICATED,this.clientId=qA.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return H(o,void 0,void 0,function(){return $(this,function(a){switch(a.label){case 0:return ie("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return H(this,void 0,void 0,function(){return $(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new X(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return H(t,void 0,void 0,function(){var i,o;return $(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=s.sent(),o=Du(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(e,t){return H(this,void 0,void 0,function(){var n,i,o=this;return $(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),i=n.initialUser,e.setCredentialChangeListener(function(a){return H(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,L1(t.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function rk(e,t){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Fy(e)];case 1:return n=o.sent(),ie("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return H(this,void 0,void 0,function(){var f,p;return $(this,function(v){switch(v.label){case 0:return(f=ue(a)).asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials"),p=to(f),f.Or.add(3),[4,Ou(f)];case 1:return v.sent(),p&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return v.sent(),f.Or.delete(3),[4,Dc(f)];case 3:return v.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Fy(e){return H(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ie("FirestoreClient","Using default OfflineComponentProvider"),[4,nk(e,new ek)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function qh(e){return H(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ie("FirestoreClient","Using default OnlineComponentProvider"),[4,rk(e,new Xv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function IE(e){return Fy(e).then(function(t){return t.persistence})}function ik(e){return Fy(e).then(function(t){return t.localStore})}function EE(e){return qh(e).then(function(t){return t.remoteStore})}function ok(e){return qh(e).then(function(t){return t.syncEngine})}function wu(e){return H(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:return[4,qh(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=BV.bind(null,t.syncEngine),n.onUnlisten=qV.bind(null,t.syncEngine),n)]}})})}function TE(e,t,n){var i=this;n===void 0&&(n={});var o=new Hn;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var s;return $(this,function(a){switch(a.label){case 0:return s=function(l,f,p,v,h){var m=new Bh({next:function(_){f.enqueueAndForget(function(){return xy(l,y)});var I=_.docs.has(p);!I&&_.fromCache?h.reject(new X(D.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&v&&v.source==="server"?h.reject(new X(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new Ry(xc(p.path),m,{includeMetadataChanges:!0,so:!0});return ky(l,y)},[4,wu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function SE(e,t,n){var i=this;n===void 0&&(n={});var o=new Hn;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var s;return $(this,function(a){switch(a.label){case 0:return s=function(l,f,p,v,h){var m=new Bh({next:function(_){f.enqueueAndForget(function(){return xy(l,y)}),_.fromCache&&v.source==="server"?h.reject(new X(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new Ry(p,m,{includeMetadataChanges:!0,so:!0});return ky(l,y)},[4,wu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var aU=function(e,t,n,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},Xf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),AE=new Map,sk=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},kE=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(on.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),cU=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),lU=function(){function e(t){var n=this;this.currentUser=on.UNAUTHENTICATED,this.oc=new Hn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){ie("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(ie("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(ie("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Ne(typeof o.accessToken=="string"),new sk(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Ne(t===null||typeof t=="string"),new on(t)},e}(),fU=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=on.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),hU=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new fU(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(on.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e,t,n){if(!n)throw new X(D.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Uy(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new X(D.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function uk(e,t,n,i){if(t===!0&&i===!0)throw new X(D.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function xE(e){if(!we.isDocumentKey(e))throw new X(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function CE(e){if(we.isDocumentKey(e))throw new X(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function $h(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ye()}function at(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new X(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=$h(e);throw new X(D.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function RE(e,t){if(t<=0)throw new X(D.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OE=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new X(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new X(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,uk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),uc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1,t instanceof Xf?(this._databaseId=t,this._credentials=new kE):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new X(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xf(i.options.projectId)}(t),this._credentials=new lU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new X(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new X(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new kE;switch(n.type){case"gapi":var i=n.client;return Ne(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new hU(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new X(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=AE.get(t))&&(ie("ComponentProvider","Removing Datastore"),AE.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),At=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new zi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),ir=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),zi=function(e){function t(n,i,o){var s=this;return(s=e.call(this,n,i,xc(o))||this)._path=o,s.type="collection",s}return Te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new At(this.firestore,null,new we(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(ir);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=pt(e),Vy("collection","path",t),e instanceof uc)return CE(n=ut.fromString.apply(ut,Et([t],i))),new zi(e,null,n);if(!(e instanceof At||e instanceof zi))throw new X(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return CE(n=ut.fromString.apply(ut,Et([e.path],i)).child(ut.fromString(t))),new zi(e.firestore,null,n)}function yf(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=pt(e),arguments.length===1&&(t=qA.u()),Vy("doc","path",t),e instanceof uc)return xE(n=ut.fromString.apply(ut,Et([t],i))),new At(e,null,new we(n));if(!(e instanceof At||e instanceof zi))throw new X(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xE(n=e._path.child(ut.fromString.apply(ut,Et([t],i)))),new At(e.firestore,e instanceof zi?e.converter:null,new we(n))}function ck(e,t){return e=pt(e),t=pt(t),(e instanceof At||e instanceof zi)&&(t instanceof At||t instanceof zi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function lk(e,t){return e=pt(e),t=pt(t),e instanceof ir&&t instanceof ir&&e.firestore===t.firestore&&Cc(e._query,t._query)&&e.converter===t.converter}var dU=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Ey(this,"async_queue_retry"),this.Ic=function(){var i=gf();i&&ie("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=gf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=gf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Hn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return H(this,void 0,void 0,function(){var t,n=this;return $(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!os(t=i.sent()))throw t;return ie("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,qt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=PV.createAndSchedule(this,t,n,i,function(a){return o.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&ye()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var s=o[i];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function bu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,s=["next","error","complete"];o<s.length;o++){var a=s[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(e)}var pU=-1,Qt=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new dU,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Te(t,e),t.prototype._terminate=function(){return this._firestoreClient||fk(this),this._firestoreClient.terminate()},t}(uc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(e){return e._firestoreClient||fk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fk(e){var t,n=e._freezeSettings(),i=function(o,s,a,l){return new aU(o,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new uU(e._credentials,e._queue,i)}function NE(e,t,n){var i=this,o=new Hn;return e.asyncQueue.enqueue(function(){return H(i,void 0,void 0,function(){var s;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,nk(e,n)];case 1:return a.sent(),[4,rk(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===D.FAILED_PRECONDITION||l.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function PE(e){if(e._initialized||e._terminated)throw new X(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new X(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Or(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),es=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e($n.fromBase64String(t))}catch(n){throw new X(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e($n.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),us=function(e){this._methodName=e},Hh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new X(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new X(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ge(this._lat,t._lat)||Ge(this._long,t._long)},e}(),mU=/^__.*__$/,vU=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new eo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Nc(t,this.data,n,this.fieldTransforms)},e}(),hk=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new eo(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}var pk=function(){function e(t,n,i,o,s,a){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Qf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(dk(this.Nc)&&mU.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),gU=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||Uh(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new pk({Nc:t,methodName:n,qc:i,path:Or.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function as(e){var t=e._freezeSettings(),n=Uh(e._databaseId);return new gU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Kh(e,t,n,i,o,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);$y("Data must be an object, but it was:",a,i);var l,f,p=gk(i,a);if(s.merge)l=new uu(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){for(var v=[],h=0,m=s.mergeFields;h<m.length;h++){var y=Qv(t,m[h],n);if(!a.contains(y))throw new X(D.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");_k(v,y)||v.push(y)}l=new uu(v),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new vU(new er(p),l,f)}var jy=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(us);function mk(e,t,n){return new pk({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var yU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype._toFieldTransform=function(n){return new Oc(n.path,new fu)},t.prototype.isEqual=function(n){return n instanceof t},t}(us),_U=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var i=mk(this,n,!0),o=this.Kc.map(function(a){return cs(a,i)}),s=new Jo(o);return new Oc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(us),wU=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var i=mk(this,n,!0),o=this.Kc.map(function(a){return cs(a,i)}),s=new Zo(o);return new Oc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(us),bU=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var i=new hu(n.R,n1(n.R,this.Qc));return new Oc(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(us);function By(e,t,n,i){var o=e.Uc(1,t,n);$y("Data must be an object, but it was:",o,i);var s=[],a=er.empty();rs(i,function(f,p){var v=Hy(t,f,n);p=pt(p);var h=o.Oc(v);if(p instanceof jy)s.push(v);else{var m=cs(p,h);m!=null&&(s.push(v),a.set(v,m))}});var l=new uu(s);return new hk(a,l,o.fieldTransforms)}function qy(e,t,n,i,o,s){var a=e.Uc(1,t,n),l=[Qv(t,i,n)],f=[o];if(s.length%2!=0)throw new X(D.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<s.length;p+=2)l.push(Qv(t,s[p])),f.push(s[p+1]);for(var v=[],h=er.empty(),m=l.length-1;m>=0;--m)if(!_k(v,l[m])){var y=l[m],_=f[m];_=pt(_);var I=a.Oc(y);if(_ instanceof jy)v.push(y);else{var E=cs(_,I);E!=null&&(v.push(y),h.set(y,E))}}var T=new uu(v);return new hk(h,T,a.fieldTransforms)}function vk(e,t,n,i){return i===void 0&&(i=!1),cs(n,e.Uc(i?4:3,t))}function cs(e,t){if(yk(e=pt(e)))return $y("Unsupported field value:",t,e),gk(e,t);if(e instanceof us)return function(n,i){if(!dk(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],s=0,a=0,l=n;a<l.length;a++){var f=cs(l[a],i.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=pt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return n1(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Bn.fromDate(n);return{timestampValue:rc(i.R,o)}}if(n instanceof Bn)return o=new Bn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:rc(i.R,o)};if(n instanceof Hh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof es)return{bytesValue:h1(i.R,n._byteString)};if(n instanceof At){o=i.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw i.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:vy(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+$h(n))}(e,t)}function gk(e,t){var n={};return HA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rs(e,function(i,o){var s=cs(o,t.kc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function yk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Bn||e instanceof Hh||e instanceof es||e instanceof At||e instanceof us)}function $y(e,t,n){if(!yk(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=$h(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function Qv(e,t,n){if((t=pt(t))instanceof Wr)return t._internalPath;if(typeof t=="string")return Hy(e,t);throw Qf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var IU=new RegExp("[~\\*/\\[\\]]");function Hy(e,t,n){if(t.search(IU)>=0)throw Qf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Wr.bind.apply(Wr,Et([void 0],t.split("."))))()._internalPath}catch{throw Qf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Qf(e,t,n,i,o){var s=i&&!i.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||a)&&(f+=" (found",s&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new X(D.INVALID_ARGUMENT,(l+=". ")+e+f)}function _k(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ac=function(){function e(t,n,i,o,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new At(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new EU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Yf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),EU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(ac);function Yf(e,t){return typeof t=="string"?Hy(e,t):t instanceof Wr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),hi=function(e){function t(n,i,o,s,a,l){var f=this;return(f=e.call(this,n,i,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return Te(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Va(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(Yf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(ac),Va=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(hi),ji=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Mo(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new Va(i._firestore,i._userDataWriter,o.key,o,new Mo(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var s=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Va(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Mo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Va(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Mo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),p=-1,v=-1;return l.type!==0&&(p=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(v=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:TU(l.type),doc:f,oldIndex:p,newIndex:v}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function TU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}function wk(e,t){return e instanceof hi&&t instanceof hi?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof ji&&t instanceof ji&&e._firestore===t._firestore&&lk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(e){if(Bf(e)&&e.explicitOrderBy.length===0)throw new X(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Lc=function(){};function Oi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var s=o[i];e=s._apply(e)}return e}var SU=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=i,s.Gc=o,s.type="where",s}return Te(t,e),t.prototype._apply=function(n){var i=as(n.firestore),o=function(s,a,l,f,p,v,h){var m;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new X(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+v+"' queries on FieldPath.documentId().");if(v==="in"||v==="not-in"){VE(h,v);for(var y=[],_=0,I=h;_<I.length;_++){var E=I[_];y.push(FE(f,s,E))}m={arrayValue:{values:y}}}else m=FE(f,s,h)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||VE(h,v),m=vk(l,"where",h,v==="in"||v==="not-in");var T=rr.create(p,v,m);return function(C,P){if(P.g()){var M=fy(C);if(M!==null&&!M.isEqual(P.field))throw new X(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+M.toString()+"' and '"+P.field.toString()+"'");var J=ly(C);J!==null&&Ek(C,P.field,J)}var V=function(de,G){for(var Q=0,x=de.filters;Q<x.length;Q++){var He=x[Q];if(G.indexOf(He.op)>=0)return He.op}return null}(C,function(de){switch(de){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(P.op));if(V!==null)throw V===P.op?new X(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+P.op.toString()+"' filter."):new X(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+P.op.toString()+"' filters with '"+V.toString()+"' filters.")}(s,T),T}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ir(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new gi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(Lc),AU=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return Te(t,e),t.prototype._apply=function(n){var i=function(o,s,a){if(o.startAt!==null)throw new X(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new X(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Xs(s,a);return function(f,p){if(ly(f)===null){var v=fy(f);v!==null&&Ek(f,v,p.field)}}(o,l),l}(n._query,this.jc,this.zc);return new ir(n.firestore,n.converter,function(o,s){var a=o.explicitOrderBy.concat([s]);return new gi(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Lc),DE=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=i,s.Jc=o,s}return Te(t,e),t.prototype._apply=function(n){return new ir(n.firestore,n.converter,YA(n._query,this.Hc,this.Jc))},t}(Lc),LE=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=o,s}return Te(t,e),t.prototype._apply=function(n){var i=Ik(n,this.type,this.Yc,this.Xc);return new ir(n.firestore,n.converter,function(o,s){return new gi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,i))},t}(Lc),ME=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=o,s}return Te(t,e),t.prototype._apply=function(n){var i=Ik(n,this.type,this.Yc,this.Xc);return new ir(n.firestore,n.converter,function(o,s){return new gi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,i))},t}(Lc);function Ik(e,t,n,i){if(n[0]=pt(n[0]),n[0]instanceof ac)return function(s,a,l,f,p){if(!f)throw new X(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var v=[],h=0,m=lu(s);h<m.length;h++){var y=m[h];if(y.field.isKeyField())v.push(Vf(a,f.key));else{var _=f.data.field(y.field);if(uy(_))throw new X(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var I=y.field.canonicalString();throw new X(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}v.push(_)}}return new nc(v,p)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=as(e.firestore);return function(s,a,l,f,p,v){var h=s.explicitOrderBy;if(p.length>h.length)throw new X(D.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<p.length;y++){var _=p[y];if(h[y].field.isKeyField()){if(typeof _!="string")throw new X(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!hy(s)&&_.indexOf("/")!==-1)throw new X(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var I=s.path.child(ut.fromString(_));if(!we.isDocumentKey(I))throw new X(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var E=new we(I);m.push(Vf(a,E))}else{var T=vk(l,f,_);m.push(T)}}return new nc(m,v)}(e._query,e.firestore._databaseId,o,t,n,i)}function FE(e,t,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new X(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hy(t)&&n.indexOf("/")!==-1)throw new X(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(ut.fromString(n));if(!we.isDocumentKey(i))throw new X(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Vf(e,new we(i))}if(n instanceof At)return Vf(e,n._key);throw new X(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+$h(n)+".")}function VE(e,t){if(!Array.isArray(e)||e.length===0)throw new X(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new X(D.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ek(e,t,n){if(!n.isEqual(t))throw new X(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ky=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Yo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return jt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(au(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ye()}},e.prototype.convertObject=function(t,n){var i=this,o={};return rs(t.fields,function(s,a){o[s]=i.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new Hh(jt(t.latitude),jt(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=GA(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ec(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Qi(t);return new Bn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=ut.fromString(t);Ne(w1(i));var o=new Xf(i.get(1),i.get(3)),s=new we(i.popFirst(5));return o.isEqual(n)||qt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var kU=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Te(t,e),t.prototype.convertBytes=function(n){return new es(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new At(this.firestore,null,i)},t}(Ky),xU=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=as(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=Bi(t,this._firestore),s=Gh(o.converter,n,i),a=Kh(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,gn.none())),this},e.prototype.update=function(t,n,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var a,l=Bi(t,this._firestore);return a=typeof(n=pt(n))=="string"||n instanceof Wr?qy(this._dataReader,"WriteBatch.update",l._key,n,i,o):By(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,gn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Bi(t,this._firestore);return this._mutations=this._mutations.concat(new Pc(n._key,gn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new X(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(e,t){if((e=pt(e)).firestore!==t)throw new X(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qo=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Te(t,e),t.prototype.convertBytes=function(n){return new es(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new At(this.firestore,null,i)},t}(Ky);function UE(e,t,n){e=at(e,At);var i=at(e.firestore,Qt),o=Gh(e.converter,t,n);return Mc(i,[Kh(as(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,gn.none())])}function jE(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=at(e,At);var s=at(e.firestore,Qt),a=as(s);return Mc(s,[(typeof(t=pt(t))=="string"||t instanceof Wr?qy(a,"updateDoc",e._key,t,n,i):By(a,"updateDoc",e._key,t)).toMutation(e._key,gn.exists(!0))])}function Tk(e){for(var t,n,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=pt(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||bu(o[l])||(a=o[l],l++);var f,p,v,h={includeMetadataChanges:a.includeMetadataChanges};if(bu(o[l])){var m=o[l];o[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),o[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),o[l+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}if(e instanceof At)p=at(e.firestore,Qt),v=xc(e._key.path),f={next:function(I){o[l]&&o[l](Yv(p,e,I))},error:o[l+1],complete:o[l+2]};else{var y=at(e,ir);p=at(y.firestore,Qt),v=y._query;var _=new qo(p);f={next:function(I){o[l]&&o[l](new ji(p,_,y,I))},error:o[l+1],complete:o[l+2]},bk(e._query)}return function(I,E,T,C){var P=this,M=new Bh(C),J=new Ry(E,M,T);return I.asyncQueue.enqueueAndForget(function(){return H(P,void 0,void 0,function(){var V;return $(this,function(de){switch(de.label){case 0:return V=ky,[4,wu(I)];case 1:return[2,V.apply(void 0,[de.sent(),J])]}})})}),function(){M.Wo(),I.asyncQueue.enqueueAndForget(function(){return H(P,void 0,void 0,function(){var V;return $(this,function(de){switch(de.label){case 0:return V=xy,[4,wu(I)];case 1:return[2,V.apply(void 0,[de.sent(),J])]}})})})}}(pn(p),v,h,f)}function Mc(e,t){return function(n,i){var o=this,s=new Hn;return n.asyncQueue.enqueueAndForget(function(){return H(o,void 0,void 0,function(){var a;return $(this,function(l){switch(l.label){case 0:return a=$V,[4,ok(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,s])]}})})}),s.promise}(pn(e),t)}function Yv(e,t,n){var i=n.docs.get(t._key),o=new qo(e);return new hi(e,o,t._key,i,new Mo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CU=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return Te(t,e),t.prototype.get=function(n){var i=this,o=Bi(n,this._firestore),s=new qo(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new hi(i._firestore,s,o._key,a._document,new Mo(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=as(t)}return e.prototype.get=function(t){var n=this,i=Bi(t,this._firestore),o=new kU(this._firestore);return this._transaction.lookup([i._key]).then(function(s){if(!s||s.length!==1)return ye();var a=s[0];if(a.isFoundDocument())return new ac(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new ac(n._firestore,o,i._key,null,i.converter);throw ye()})},e.prototype.set=function(t,n,i){var o=Bi(t,this._firestore),s=Gh(o.converter,n,i),a=Kh(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a,l=Bi(t,this._firestore);return a=typeof(n=pt(n))=="string"||n instanceof Wr?qy(this._dataReader,"Transaction.update",l._key,n,i,o):By(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Bi(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){if(typeof Uint8Array>"u")throw new X(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function qE(){if(typeof atob>"u")throw new X(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Sk=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return qE(),new e(es.fromBase64String(t))},e.fromUint8Array=function(t){return BE(),new e(es.fromUint8Array(t))},e.prototype.toBase64=function(){return qE(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return BE(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),RU=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){PE(i=at(i,Qt));var s=pn(i),a=i._freezeSettings(),l=new Xv;return NE(s,l,new tk(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){PE(n=at(n,Qt));var i=pn(n),o=n._freezeSettings(),s=new Xv;return NE(i,s,new iU(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new X(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Hn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return H(i,void 0,void 0,function(){var s;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return H(this,void 0,void 0,function(){var f;return $(this,function(p){switch(p.label){case 0:return mu.yt()?(f=l+"main",[4,mu.delete(f)]):[2,Promise.resolve()];case 1:return p.sent(),[2]}})})}(by(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return s=a.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),Ak=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Xf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Mf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,s,a,l){var f;l===void 0&&(l={});var p=(o=at(o,uc))._getSettings();if(p.host!=="firestore.googleapis.com"&&p.host!==s&&Mf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},p),{host:s+":"+a,ssl:!1})),l.mockUserToken){var v,h;if(typeof l.mockUserToken=="string")v=l.mockUserToken,h=on.MOCK_USER;else{v=PS(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new X(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new on(m)}o._credentials=new cU(new sk(v,h))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return $(this,function(s){switch(s.label){case 0:return[4,IE(t)];case 1:return i=s.sent(),[4,EE(t)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=ue(a);return l.Or.delete(0),Dc(l)}(o))]}})})})}(pn(at(this._delegate,Qt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return $(this,function(s){switch(s.label){case 0:return[4,IE(t)];case 1:return i=s.sent(),[4,EE(t)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!1),function(a){return H(this,void 0,void 0,function(){var l;return $(this,function(f){switch(f.label){case 0:return(l=ue(a)).Or.add(0),[4,Ou(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(pn(at(this._delegate,Qt)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&uk("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new Hn;return t.asyncQueue.enqueueAndForget(function(){return H(n,void 0,void 0,function(){var o;return $(this,function(s){switch(s.label){case 0:return o=zV,[4,ok(t)];case 1:return[2,o.apply(void 0,[s.sent(),i])]}})})}),i.promise}(pn(at(this._delegate,Qt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,s){var a=this,l=new Bh(s);return o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return $(this,function(p){switch(p.label){case 0:return f=function(v,h){ue(v).Gr.add(h),h.next()},[4,wu(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return $(this,function(p){switch(p.label){case 0:return f=function(v,h){ue(v).Gr.delete(h)},[4,wu(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})})}}(pn(n=at(n,Qt)),bu(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new X(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Jf(this,ak(this._delegate,t))}catch(n){throw Sn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new $o(this,yf(this._delegate,t))}catch(n){throw Sn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Xh(this,function(n,i){if(n=at(n,uc),Vy("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new X(D.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ir(n,null,function(o){return new gi(ut.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw Sn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(s,a){var l=this,f=new Hn;return s.asyncQueue.enqueueAndForget(function(){return H(l,void 0,void 0,function(){var p;return $(this,function(v){switch(v.label){case 0:return[4,function(h){return qh(h).then(function(m){return m.datastore})}(s)];case 1:return p=v.sent(),new sU(s.asyncQueue,p,a,f).run(),[2]}})})}),f.promise}(pn(i),function(s){return o(new CU(i,s))})}(this._delegate,function(i){return t(new kk(n,i))})},e.prototype.batch=function(){var t=this;return pn(this._delegate),new xk(new xU(this._delegate,function(n){return Mc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new X(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new X(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),zh=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Te(t,e),t.prototype.convertBytes=function(n){return new Sk(new es(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return $o.eu(i,this.firestore,null)},t}(Ky);function OU(e){var t;t=e,xr.setLogLevel(t)}var kk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new zh(t)}return e.prototype.get=function(t){var n=this,i=Fo(t);return this._delegate.get(i).then(function(o){return new cc(n._firestore,new hi(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=Fo(t);return i?(Uy("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Fo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Et([l,n,i],s)),this},e.prototype.delete=function(t){var n=Fo(t);return this._delegate.delete(n),this},e}(),xk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=Fo(t);return i?(Uy("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Fo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Et([l,n,i],s)),this},e.prototype.delete=function(t){var n=Fo(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Wh=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Va(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new lc(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var s=o.get(n);return s||(s=new e(t,new zh(t),n),o.set(n,s)),s},e}();Wh.su=new WeakMap;var $o=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new zh(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new X(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new At(n._delegate,i,new we(t)))},e.eu=function(t,n,i){return new e(n,new At(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Jf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Jf(this.firestore,ak(this._delegate,t))}catch(n){throw Sn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=pt(t))instanceof At&&ck(this._delegate,t)},e.prototype.set=function(t,n){n=Uy("DocumentReference.set",n);try{return n?UE(this._delegate,t,n):UE(this._delegate,t)}catch(i){throw Sn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?jE(this._delegate,t):jE.apply(void 0,Et([this._delegate,t,n],i))}catch(s){throw Sn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Mc(at((t=this._delegate).firestore,Qt),[new Pc(t._key,gn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=Ck(n),s=Rk(n,function(a){return new cc(t.firestore,new hi(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return Tk(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=at(i,At);var o=at(i.firestore,Qt),s=pn(o),a=new qo(o);return function(l,f){var p=this,v=new Hn;return l.asyncQueue.enqueueAndForget(function(){return H(p,void 0,void 0,function(){var h;return $(this,function(m){switch(m.label){case 0:return h=function(y,_,I){return H(this,void 0,void 0,function(){var E,T;return $(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,function(P,M){var J=ue(P);return J.persistence.runTransaction("read document","readonly",function(V){return J.Mn.mn(V,M)})}(y,_)];case 1:return(T=C.sent()).isFoundDocument()?I.resolve(T):T.isNoDocument()?I.resolve(null):I.reject(new X(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return E=C.sent(),T=Du(E,"Failed to get document '"+_+" from cache"),I.reject(T),[3,3];case 3:return[2]}})})},[4,ik(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,v])]}})})}),v.promise}(s,i._key).then(function(l){return new hi(o,a,i._key,l,new Mo(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=at(i,At);var o=at(i.firestore,Qt);return TE(pn(o),i._key,{source:"server"}).then(function(s){return Yv(o,i,s)})}(this._delegate):function(i){i=at(i,At);var o=at(i.firestore,Qt);return TE(pn(o),i._key).then(function(s){return Yv(o,i,s)})}(this._delegate)).then(function(i){return new cc(n.firestore,new hi(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Wh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Sn(e,t,n){return e.message=e.message.replace(t,n),e}function Ck(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!bu(i))return i}return{}}function Rk(e,t){var n,i,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=bu(e[0])?e[0]:bu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var cc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new $o(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return wk(this._delegate,t._delegate)},e}(),lc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(cc),Xh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new zh(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,Oi(this._delegate,function(o,s,a){var l=s,f=Yf("where",o);return new SU(f,l,a)}(t,n,i)))}catch(o){throw Sn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Oi(this._delegate,function(i,o){o===void 0&&(o="asc");var s=o,a=Yf("orderBy",i);return new AU(a,s)}(t,n)))}catch(i){throw Sn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Oi(this._delegate,function(n){return RE("limit",n),new DE("limit",n,"F")}(t)))}catch(n){throw Sn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Oi(this._delegate,function(n){return RE("limitToLast",n),new DE("limitToLast",n,"L")}(t)))}catch(n){throw Sn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new LE("startAt",i,!0)}).apply(void 0,t)))}catch(i){throw Sn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new LE("startAfter",i,!1)}).apply(void 0,t)))}catch(i){throw Sn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new ME("endBefore",i,!0)}).apply(void 0,t)))}catch(i){throw Sn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new ME("endAt",i,!1)}).apply(void 0,t)))}catch(i){throw Sn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return lk(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=at(i,ir);var o=at(i.firestore,Qt),s=pn(o),a=new qo(o);return function(l,f){var p=this,v=new Hn;return l.asyncQueue.enqueueAndForget(function(){return H(p,void 0,void 0,function(){var h;return $(this,function(m){switch(m.label){case 0:return h=function(y,_,I){return H(this,void 0,void 0,function(){var E,T,C,P,M;return $(this,function(J){switch(J.label){case 0:return J.trys.push([0,2,,3]),[4,Gf(y,_,!0)];case 1:return M=J.sent(),E=new Q1(_,M.Bn),T=E._o(M.documents),C=E.applyChanges(T,!1),I.resolve(C.snapshot),[3,3];case 2:return P=J.sent(),M=Du(P,"Failed to execute query '"+_+" against cache"),I.reject(M),[3,3];case 3:return[2]}})})},[4,ik(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,v])]}})})}),v.promise}(s,i._query).then(function(l){return new ji(o,a,i,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=at(i,ir);var o=at(i.firestore,Qt),s=pn(o),a=new qo(o);return SE(s,i._query,{source:"server"}).then(function(l){return new ji(o,a,i,l)})}(this._delegate):function(i){i=at(i,ir);var o=at(i.firestore,Qt),s=pn(o),a=new qo(o);return bk(i._query),SE(s,i._query).then(function(l){return new ji(o,a,i,l)})}(this._delegate)).then(function(i){return new Jv(n.firestore,new ji(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=Ck(n),s=Rk(n,function(a){return new Jv(t.firestore,new ji(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return Tk(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Wh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),NU=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new lc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Jv=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Xh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new lc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new NU(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new lc(i._firestore,o))})},e.prototype.isEqual=function(t){return wk(this._delegate,t._delegate)},e}(),Jf=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return Te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new $o(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new $o(this.firestore,n===void 0?yf(this._delegate):yf(this._delegate,n))}catch(i){throw Sn(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,s){var a=at(o.firestore,Qt),l=yf(o),f=Gh(o.converter,s);return Mc(a,[Kh(as(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,gn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new $o(i.firestore,o)})},t.prototype.isEqual=function(n){return ck(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Wh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Xh);function Fo(e){return at(e,At)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PU=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Wr.bind.apply(Wr,Et([void 0],t)))}return e.documentId=function(){return new e(Or.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=pt(t))instanceof Wr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),DU=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new yU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new jy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new _U("arrayUnion",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new wU("arrayRemove",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new bU("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),LU={Firestore:Ak,GeoPoint:Hh,Timestamp:Bn,Blob:Sk,Transaction:kk,WriteBatch:xk,DocumentReference:$o,DocumentSnapshot:cc,Query:Xh,QueryDocumentSnapshot:lc,QuerySnapshot:Jv,CollectionReference:Jf,FieldPath:PU,FieldValue:DU,setLogLevel:OU,CACHE_SIZE_UNLIMITED:pU};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(e){(function(t,n){t.INTERNAL.registerComponent(new gc("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},LU)))})(e,function(t,n){return new Ak(t,new Qt(t,n),new RU)}),e.registerVersion("@firebase/firestore","2.4.1")}MU(Ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ok="firebasestorage.googleapis.com",Nk="storageBucket",FU=2*60*1e3,VU=10*60*1e3,Kt=function(e){Te(t,e);function t(n,i){var o=e.call(this,ev(n),"Firebase Storage: "+i+" ("+ev(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return ev(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(LS);function ev(e){return"storage/"+e}function Gy(){var e="An unknown error occurred, please check the error payload for server response.";return new Kt("unknown",e)}function UU(e){return new Kt("object-not-found","Object '"+e+"' does not exist.")}function jU(e){return new Kt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function BU(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kt("unauthenticated",e)}function qU(){return new Kt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function $U(e){return new Kt("unauthorized","User does not have permission to access '"+e+"'.")}function HU(){return new Kt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Pk(){return new Kt("canceled","User canceled the upload/download.")}function KU(e){return new Kt("invalid-url","Invalid URL '"+e+"'.")}function GU(e){return new Kt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function zU(){return new Kt("no-default-bucket","No default bucket found. Did you set the '"+Nk+"' property when initializing the app?")}function Dk(){return new Kt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function WU(){return new Kt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function XU(){return new Kt("no-download-url","The given file does not have any download URLs.")}function Qs(e){return new Kt("invalid-argument",e)}function Lk(){return new Kt("app-deleted","The Firebase app was deleted.")}function Mk(e){return new Kt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ua(e,t){return new Kt("invalid-format","String does not match format '"+e+"': "+t)}function Zl(e){throw new Kt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},tv=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function Fk(e,t){switch(e){case hr.RAW:return new tv(Vk(t));case hr.BASE64:case hr.BASE64URL:return new tv(Uk(e,t));case hr.DATA_URL:return new tv(JU(t),ZU(t))}throw Gy()}function Vk(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=i,a=e.charCodeAt(++n);i=65536|(s&1023)<<10|a&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function YU(e){var t;try{t=decodeURIComponent(e)}catch{throw Ua(hr.DATA_URL,"Malformed data URL.")}return Vk(t)}function Uk(e,t){switch(e){case hr.BASE64:{var n=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(n||i){var o=n?"-":"_";throw Ua(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case hr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var o=s?"+":"/";throw Ua(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=QU(t)}catch{throw Ua(e,"Invalid character found")}for(var f=new Uint8Array(l.length),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);return f}var jk=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ua(hr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;i!=null&&(this.base64=ej(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();function JU(e){var t=new jk(e);return t.base64?Uk(hr.BASE64,t.rest):YU(t.rest)}function ZU(e){var t=new jk(e);return t.contentType}function ej(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tj={STATE_CHANGED:"state_changed"},An={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function nv(e){switch(e){case"running":case"pausing":case"canceling":return An.RUNNING;case"paused":return An.PAUSED;case"success":return An.SUCCESS;case"canceled":return An.CANCELED;case"error":return An.ERROR;default:return An.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ho;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ho||(Ho={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nj=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ho.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ho.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ho.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,i,o){if(this.sent_)throw Zl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Zl("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Zl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Zl("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function rj(){return new nj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ij=function(){function e(){}return e.prototype.createConnection=function(){return rj()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw GU(t)},e.makeFromUrl=function(t,n){var i=null,o="([A-Za-z0-9.\\-_]+)";function s(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+o+a,"i"),f={bucket:1,path:3};function p(Q){Q.path_=decodeURIComponent(Q.path)}for(var v="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+h+"/"+v+"/b/"+o+"/o"+m,"i"),_={bucket:1,path:3},I=n===Ok?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",T=new RegExp("^https?://"+I+"/"+o+"/"+E,"i"),C={bucket:1,path:2},P=[{regex:l,indices:f,postModify:s},{regex:y,indices:_,postModify:p},{regex:T,indices:C,postModify:p}],M=0;M<P.length;M++){var J=P[M],V=J.regex.exec(t);if(V){var de=V[J.indices.bucket],G=V[J.indices.path];G||(G=""),i=new e(de,G),J.postModify(i);break}}if(i==null)throw KU(t);return i},e}(),oj=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(e,t,n){var i=1,o=null,s=!1,a=0;function l(){return a===2}var f=!1;function p(){for(var _=[],I=0;I<arguments.length;I++)_[I]=arguments[I];f||(f=!0,t.apply(null,_))}function v(_){o=setTimeout(function(){o=null,e(h,l())},_)}function h(_){for(var I=[],E=1;E<arguments.length;E++)I[E-1]=arguments[E];if(!f){if(_){p.call.apply(p,Et([null,_],I));return}var T=l()||s;if(T){p.call.apply(p,Et([null,_],I));return}i<64&&(i*=2);var C;a===1?(a=2,C=0):C=(i+Math.random())*1e3,v(C)}}var m=!1;function y(_){m||(m=!0,!f&&(o!==null?(_||(a=2),clearTimeout(o),v(0)):_||(a=1)))}return v(0),setTimeout(function(){s=!0,y(!0)},n),y}function uj(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(e){return e!==void 0}function cj(e){return typeof e=="function"}function lj(e){return typeof e=="object"&&!Array.isArray(e)}function Qh(e){return typeof e=="string"||e instanceof String}function $E(e){return zy()&&e instanceof Blob}function zy(){return typeof Blob<"u"}function Zv(e,t,n,i){if(i<t)throw Qs("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>n)throw Qs("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(e,t){var n=t.match(/^(\w+):\/\/.+/),i=n==null?void 0:n[1],o=t;return i==null&&(o="https://"+t),o+"/v0"+e}function Bk(e){var t=encodeURIComponent,n="?";for(var i in e)if(e.hasOwnProperty(i)){var o=t(i)+"="+t(e[i]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fj=function(){function e(t,n,i,o,s,a,l,f,p,v,h){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=v,this.timeout_=p,this.pool_=h,this.promise_=new Promise(function(y,_){m.resolve_=y,m.reject_=_,m.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new ef(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(f){var p=f.loaded,v=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(p,v)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var f=a.getErrorCode()===Ho.NO_ERROR,p=a.getStatus();if(!f||t.isRetryStatusCode_(p)){var v=a.getErrorCode()===Ho.ABORT;o(!1,new ef(!1,null,v));return}var h=t.successCodes_.indexOf(p)!==-1;o(!0,new ef(h,a))})}function i(o,s){var a=t.resolve_,l=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var p=t.callback_(f,f.getResponseText());aj(p)?a(p):a()}catch(h){l(h)}else if(f!==null){var v=Gy();v.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,v)):l(v)}else if(s.canceled){var v=t.appDelete_?Lk():Pk();l(v)}else{var v=HU();l(v)}}this.canceled_?i(!1,new ef(!1,null,!0)):this.backoffId_=sj(n,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&uj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=[408,429],o=i.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),ef=function(){function e(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}return e}();function hj(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function dj(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function pj(e,t){t&&(e["X-Firebase-GMPID"]=t)}function mj(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function vj(e,t,n,i,o,s){var a=Bk(e.urlParams),l=e.url+a,f=Object.assign({},e.headers);return pj(f,t),hj(f,n),dj(f,s),mj(f,i),new fj(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=gj();if(n!==void 0){for(var i=new n,o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}else{if(zy())return new Blob(e);throw new Kt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function _j(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wy=function(){function e(t,n){var i=0,o="";$E(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if($E(this.data_)){var i=this.data_,o=_j(i,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(zy()){var i=t.map(function(f){return f instanceof e?f.data_:f});return new e(yj.apply(null,i))}else{var o=t.map(function(f){return Qh(f)?Fk(hr.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var a=new Uint8Array(s),l=0;return o.forEach(function(f){for(var p=0;p<f.length;p++)a[l++]=f[p]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(e){var t;try{t=JSON.parse(e)}catch{return null}return lj(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function bj(e,t){var n=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?n:e+"/"+n}function qk(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(e,t){return t}var En=function(){function e(t,n,i,o){this.server=t,this.local=n||t,this.writable=!!i,this.xform=o||Ij}return e}(),tf=null;function Ej(e){return!Qh(e)||e.length<2?e:qk(e)}function Yh(){if(tf)return tf;var e=[];e.push(new En("bucket")),e.push(new En("generation")),e.push(new En("metageneration")),e.push(new En("name","fullPath",!0));function t(s,a){return Ej(a)}var n=new En("name");n.xform=t,e.push(n);function i(s,a){return a!==void 0?Number(a):a}var o=new En("size");return o.xform=i,e.push(o),e.push(new En("timeCreated")),e.push(new En("updated")),e.push(new En("md5Hash",null,!0)),e.push(new En("cacheControl",null,!0)),e.push(new En("contentDisposition",null,!0)),e.push(new En("contentEncoding",null,!0)),e.push(new En("contentLanguage",null,!0)),e.push(new En("contentType",null,!0)),e.push(new En("metadata","customMetadata",!0)),tf=e,tf}function Tj(e,t){function n(){var i=e.bucket,o=e.fullPath,s=new dr(i,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Sj(e,t,n){var i={};i.type="file";for(var o=n.length,s=0;s<o;s++){var a=n[s];i[a.local]=a.xform(i,t[a.server])}return Tj(i,e),i}function $k(e,t,n){var i=Xy(t);if(i===null)return null;var o=i;return Sj(e,o,n)}function Aj(e,t,n){var i=Xy(t);if(i===null||!Qh(i.downloadTokens))return null;var o=i.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,a=o.split(","),l=a.map(function(f){var p=e.bucket,v=e.fullPath,h="/b/"+s(p)+"/o/"+s(v),m=ro(h,n),y=Bk({alt:"media",token:f});return m+y});return l[0]}function Qy(e,t){for(var n={},i=t.length,o=0;o<i;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HE="prefixes",KE="items";function kj(e,t,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[HE])for(var o=0,s=n[HE];o<s.length;o++){var a=s[o],l=a.replace(/\/$/,""),f=e._makeStorageReference(new dr(t,l));i.prefixes.push(f)}if(n[KE])for(var p=0,v=n[KE];p<v.length;p++){var h=v[p],f=e._makeStorageReference(new dr(t,h.name));i.items.push(f)}return i}function xj(e,t,n){var i=Xy(n);if(i===null)return null;var o=i;return kj(e,t,o)}var yi=function(){function e(t,n,i,o){this.url=t,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(e){if(!e)throw Gy()}function Jh(e,t){function n(i,o){var s=$k(e,o,t);return Xr(s!==null),s}return n}function Cj(e,t){function n(i,o){var s=xj(e,t,o);return Xr(s!==null),s}return n}function Rj(e,t){function n(i,o){var s=$k(e,o,t);return Xr(s!==null),Aj(s,o,e.host)}return n}function Lu(e){function t(n,i){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=qU():o=BU():n.getStatus()===402?o=jU(e.bucket):n.getStatus()===403?o=$U(e.path):o=i,o.serverResponse=i.serverResponse,o}return t}function Zh(e){var t=Lu(e);function n(i,o){var s=t(i,o);return i.getStatus()===404&&(s=UU(e.path)),s.serverResponse=o.serverResponse,s}return n}function Hk(e,t,n){var i=t.fullServerUrl(),o=ro(i,e.host),s="GET",a=e.maxOperationRetryTime,l=new yi(o,s,Jh(e,n),a);return l.errorHandler=Zh(t),l}function Oj(e,t,n,i,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),o&&(s.maxResults=o);var a=t.bucketOnlyServerUrl(),l=ro(a,e.host),f="GET",p=e.maxOperationRetryTime,v=new yi(l,f,Cj(e,t.bucket),p);return v.urlParams=s,v.errorHandler=Lu(t),v}function Nj(e,t,n){var i=t.fullServerUrl(),o=ro(i,e.host),s="GET",a=e.maxOperationRetryTime,l=new yi(o,s,Rj(e,n),a);return l.errorHandler=Zh(t),l}function Pj(e,t,n,i){var o=t.fullServerUrl(),s=ro(o,e.host),a="PATCH",l=Qy(n,i),f={"Content-Type":"application/json; charset=utf-8"},p=e.maxOperationRetryTime,v=new yi(s,a,Jh(e,i),p);return v.headers=f,v.body=l,v.errorHandler=Zh(t),v}function Dj(e,t){var n=t.fullServerUrl(),i=ro(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function a(f,p){}var l=new yi(i,o,a,s);return l.successCodes=[200,204],l.errorHandler=Zh(t),l}function Lj(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Kk(e,t,n){var i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=Lj(null,t)),i}function Mj(e,t,n,i,o){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var P="",M=0;M<2;M++)P=P+Math.random().toString().slice(2);return P}var f=l();a["Content-Type"]="multipart/related; boundary="+f;var p=Kk(t,i,o),v=Qy(p,n),h="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,m=`\r
--`+f+"--",y=Wy.getBlob(h,i,m);if(y===null)throw Dk();var _={name:p.fullPath},I=ro(s,e.host),E="POST",T=e.maxUploadRetryTime,C=new yi(I,E,Jh(e,n),T);return C.urlParams=_,C.headers=a,C.body=y.uploadData(),C.errorHandler=Lu(t),C}var Zf=function(){function e(t,n,i,o){this.current=t,this.total=n,this.finalized=!!i,this.metadata=o||null}return e}();function Yy(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Xr(!1)}var i=t||["active"];return Xr(!!n&&i.indexOf(n)!==-1),n}function Fj(e,t,n,i,o){var s=t.bucketOnlyServerUrl(),a=Kk(t,i,o),l={name:a.fullPath},f=ro(s,e.host),p="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},h=Qy(a,n),m=e.maxUploadRetryTime;function y(I){Yy(I);var E;try{E=I.getResponseHeader("X-Goog-Upload-URL")}catch{Xr(!1)}return Xr(Qh(E)),E}var _=new yi(f,p,y,m);return _.urlParams=l,_.headers=v,_.body=h,_.errorHandler=Lu(t),_}function Vj(e,t,n,i){var o={"X-Goog-Upload-Command":"query"};function s(p){var v=Yy(p,["active","final"]),h=null;try{h=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xr(!1)}h||Xr(!1);var m=Number(h);return Xr(!isNaN(m)),new Zf(m,i.size(),v==="final")}var a="POST",l=e.maxUploadRetryTime,f=new yi(n,a,s,l);return f.headers=o,f.errorHandler=Lu(t),f}var GE=256*1024;function Uj(e,t,n,i,o,s,a,l){var f=new Zf(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw WU();var p=f.total-f.current,v=p;o>0&&(v=Math.min(v,o));var h=f.current,m=h+v,y=v===p?"upload, finalize":"upload",_={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+f.current},I=i.slice(h,m);if(I===null)throw Dk();function E(M,J){var V=Yy(M,["active","final"]),de=f.current+v,G=i.size(),Q;return V==="final"?Q=Jh(t,s)(M,J):Q=null,new Zf(de,G,V==="final",Q)}var T="POST",C=t.maxUploadRetryTime,P=new yi(n,T,E,C);return P.headers=_,P.body=I.uploadData(),P.progressCallback=l||null,P.errorHandler=Lu(e),P}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jj=function(){function e(t,n,i){var o=cj(t)||n!=null||i!=null;if(o)this.next=t,this.error=n,this.complete=i;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gk=function(){function e(t,n,i){var o=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Yh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,a){o._resolve=s,o._reject=a,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var o=i[0],s=i[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,i){var o=Fj(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(i,o){var s=Vj(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=GE*this._chunkMultiplier,i=new Zf(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=Uj(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(p){t._error=p,t._transition("error");return}var f=t._ref.storage._makeRequest(l,s,a);t._request=f,f.getPromise().then(function(p){t._increaseMultiplier(),t._request=void 0,t._updateProgress(p.current),p.finalized?(t._metadata=p.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=GE*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,i){var o=Hk(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,i){var o=Mj(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Pk(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=nv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,i,o){var s=this,a=new jj(n,i,o);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(nv(this._state)){case An.SUCCESS:Fs(this._resolve.bind(null,this.snapshot))();break;case An.CANCELED:case An.ERROR:var n=this._reject;Fs(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=nv(this._state);switch(n){case An.RUNNING:case An.PAUSED:t.next&&Fs(t.next.bind(t,this.snapshot))();break;case An.SUCCESS:t.complete&&Fs(t.complete.bind(t))();break;case An.CANCELED:case An.ERROR:t.error&&Fs(t.error.bind(t,this._error))();break;default:t.error&&Fs(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ed=function(){function e(t,n){this._service=t,n instanceof dr?this._location=n:this._location=dr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new dr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return qk(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=wj(this._location.path);if(t===null)return null;var n=new dr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw Mk(t)},e}();function Bj(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Gk(e,new Wy(t),n)}function qj(e){var t={prefixes:[],items:[]};return zk(e,t).then(function(){return t})}function zk(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a;return $(this,function(l){switch(l.label){case 0:return i={pageToken:n},[4,Wk(e,i)];case 1:return o=l.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(a=t.items).push.apply(a,o.items),o.nextPageToken==null?[3,3]:[4,zk(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Wk(e,t){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Zv("options.maxResults",1,1e3,t.maxResults),n=t||{},i=Oj(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise()]}})})}function $j(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Hk(e.storage,e._location,Yh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Hj(e,t){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),n=Pj(e.storage,e._location,t,Yh()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}function Kj(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=Nj(e.storage,e._location,Yh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(i){if(i===null)throw XU();return i})]}})})}function Gj(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=Dj(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Xk(e,t){var n=bj(e._location.path,t),i=new dr(e._location.bucket,n);return new ed(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(e){return/^[A-Za-z]+:\/\//.test(e)}function zj(e,t){return new ed(e,t)}function Qk(e,t){if(e instanceof td){var n=e;if(n._bucket==null)throw zU();var i=new ed(n,n._bucket);return t!=null?Qk(i,t):i}else return t!==void 0?Xk(e,t):e}function Wj(e,t){if(t&&eg(t)){if(e instanceof td)return zj(e,t);throw Qs("To use ref(service, url), the first argument must be a Storage instance.")}else return Qk(e,t)}function zE(e,t){var n=t==null?void 0:t[Nk];return n==null?null:dr.makeFromBucketSpec(n,e)}function Xj(e,t,n,i){i===void 0&&(i={}),e.host="http://"+t+":"+n;var o=i.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:PS(o,e.app.options.projectId))}var td=function(){function e(t,n,i,o,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=o,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=Ok,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FU,this._maxUploadRetryTime=VU,this._requests=new Set,s!=null?this._bucket=dr.makeFromBucketSpec(s,this._host):this._bucket=zE(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=dr.makeFromBucketSpec(this._url,t):this._bucket=zE(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Zv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Zv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return H(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=i.sent(),n!==null)return[2,n.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return H(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=i.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new ed(this,t)},e.prototype._makeRequest=function(t,n,i){var o=this;if(this._deleted)return new oj(Lk());var s=vj(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),i=n[0],o=n[1],[2,this._makeRequest(t,i,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(e,t,n){return e=pt(e),Bj(e,t,n)}function Yj(e){return e=pt(e),$j(e)}function Jj(e,t){return e=pt(e),Hj(e,t)}function Zj(e,t){return e=pt(e),Wk(e,t)}function eB(e){return e=pt(e),qj(e)}function tB(e){return e=pt(e),Kj(e)}function nB(e){return e=pt(e),Gj(e)}function WE(e,t){return e=pt(e),Wj(e,t)}function rB(e,t){return Xk(e,t)}function iB(e,t,n,i){i===void 0&&(i={}),Xj(e,t,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nf=function(){function e(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XE=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new nf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var i=this;return this._delegate.then(function(o){if(t)return t(new nf(o,i,i._ref))},n)},e.prototype.on=function(t,n,i,o){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new nf(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new nf(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,i||void 0,o||void 0)},e}(),QE=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new fc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new fc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=rB(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new XE(Qj(this._delegate,t,n),this)},e.prototype.putString=function(t,n,i){n===void 0&&(n=hr.RAW),this._throwIfRoot("putString");var o=Fk(n,t),s=ru({},i);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new XE(new Gk(this._delegate,new Wy(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return eB(this._delegate).then(function(n){return new QE(n,t.storage)})},e.prototype.list=function(t){var n=this;return Zj(this._delegate,t||void 0).then(function(i){return new QE(i,n.storage)})},e.prototype.getMetadata=function(){return Yj(this._delegate)},e.prototype.updateMetadata=function(t){return Jj(this._delegate,t)},e.prototype.getDownloadURL=function(){return tB(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),nB(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw Mk(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oB=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(eg(t))throw Qs("ref() expected a child path but got a URL, use refFromURL instead.");return new fc(WE(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!eg(t))throw Qs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{dr.makeFromUrl(t,this._delegate.host)}catch{throw Qs("refFromUrl() expected a valid full URL but got an invalid one.")}return new fc(WE(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),iB(this._delegate,t,n,i)},e}(),sB="@firebase/storage",uB="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aB="storage";function cB(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new oB(i,new td(i,o,s,new ij,n,Ce.SDK_VERSION));return a}function lB(e){var t={TaskState:An,TaskEvent:tj,StringFormat:hr,Storage:td,Reference:fc};e.INTERNAL.registerComponent(new gc(aB,cB,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(sB,uB)}lB(Ce);const fB={apiKey:"AIzaSyB6nywCCST_HFjLRHJZl0XE9TXsf72rqpI",authDomain:"music-f6e93.firebaseapp.com",projectId:"music-f6e93",storageBucket:"music-f6e93.appspot.com",appId:"1:671056328288:web:c8abd445fb6b61addbf505"};Ce.initializeApp(fB);const Qr=Ce.auth(),Jy=Ce.firestore(),Yk=Ce.storage(),hB=Jy.collection("users"),di=Jy.collection("songs"),YE=Jy.collection("comments"),Mu=Ng("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await Qr.createUserWithEmailAndPassword(e.email,e.password);await hB.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country,type_music:e.type_music}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await Qr.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await Qr.signOut(),this.userLoggedIn=!1}}}),sr=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},dB={name:"Header",computed:{...GD(Ev,Mu)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},pB={id:"header",class:"bg-gray-700"},mB={class:"container mx-auto flex justify-start items-center py-5 px-4"},vB={class:"flex flex-grow items-center"},gB={class:"flex flex-row mt-1"},yB={key:0};function _B(e,t,n,i,o,s){const a=kt("router-link");return ze(),ct("header",pB,[F("nav",mB,[Ae(a,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:tr(()=>[Ki(" Music ")]),_:1}),F("div",vB,[F("ul",gB,[F("li",null,[Ae(a,{class:"px-2 text-white",to:{name:"about"}},{default:tr(()=>[Ki("About")]),_:1})]),e.userStore.userLoggedIn?(ze(),ct(en,{key:1},[F("li",null,[Ae(a,{class:"px-2 text-white",to:{name:"manage"}},{default:tr(()=>[Ki("Manage")]),_:1})]),F("li",null,[F("a",{class:"px-2 text-white",href:"#",onClick:t[1]||(t[1]=Wt((...l)=>s.signOut&&s.signOut(...l),["prevent"]))},"Logout")])],64)):(ze(),ct("li",yB,[F("a",{class:"px-2 text-white",onClick:t[0]||(t[0]=Wt((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"])),href:"#"},"Login / Register")]))])])])])}const wB=sr(dB,[["render",_B]]),bB={name:"LoginForm",data(){return{loginSchema:{email:"required|email",password:"required"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! We are login you in."}},methods:{...wh(Mu,{authenticate:"authenticate"}),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please wait! We are login you in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="Incorrect Email or Password";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Success! You are now logged in.",window.location.reload()}}},IB={class:"mb-3"},EB=F("label",{class:"inline-block mb-2"},"Email",-1),TB={class:"mb-3"},SB=F("label",{class:"inline-block mb-2"},"Password",-1),AB=["disabled"];function kB(e,t,n,i,o,s){const a=kt("vee-field"),l=kt("ErrorMessage"),f=kt("vee-form");return ze(),ct(en,null,[o.login_show_alert?(ze(),ct("div",{key:0,class:vn(["text-white text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},Bt(o.login_alert_msg),3)):eu("",!0),Ae(f,{"validation-schema":o.loginSchema,onSubmit:s.login},{default:tr(()=>[F("div",IB,[EB,Ae(a,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Ae(l,{class:"text-red-600",name:"email"})]),F("div",TB,[SB,Ae(a,{type:"password",name:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),Ae(l,{class:"text-red-600",name:"password"})]),F("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.login_in_submission}," Submit ",8,AB)]),_:1},8,["validation-schema","onSubmit"])],64)}const xB=sr(bB,[["render",kB]]),CB={name:"RegistrationForm",data(){return{registerSchema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:100",password:"required|min:9|max:100|not_one_of:password",confirm_password:"password_mismatch:@password",country:"required|country_excluded:Antarctica",type_music:"required",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Your account is being created."}},methods:{...wh(Mu,{createUser:"register"}),async register(e){this.reg_in_submission=!0,this.reg_show_alert=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! Your account is being  created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_msg="bg-red-500",this.reg_alert_msg="Something went wrong. Please try again later.";return}this.userLoggedIn=!0,this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success! Your account has been created.",window.location.reload()}}},RB={class:"mb-3"},OB=F("label",{class:"inline-block mb-2"},"Name",-1),NB={class:"mb-3"},PB=F("label",{class:"inline-block mb-2"},"Email",-1),DB={class:"mb-3"},LB=F("label",{class:"inline-block mb-2"},"Age",-1),MB={class:"mb-3"},FB=F("label",{class:"inline-block mb-2"},"Password",-1),VB={class:"mb-3"},UB=F("label",{class:"inline-block mb-2"},"Confirm Password",-1),jB={class:"mb-3"},BB=F("label",{class:"inline-block mb-2"},"Country",-1),qB=F("option",{value:"USA"},"USA",-1),$B=F("option",{value:"Mexico"},"Mexico",-1),HB=F("option",{value:"Germany"},"Germany",-1),KB=F("option",{value:"Antarctica"},"Antarctica",-1),GB={class:"mb-3"},zB=F("label",{class:"inline-block mb-2"},"Type of music",-1),WB=F("option",{value:"rock"},"Rock",-1),XB=F("option",{value:"pop"},"Pop",-1),QB=F("option",{value:"rap"},"Rap",-1),YB=F("option",{value:"rnb"},"Rnb",-1),JB={class:"mb-3 pl-6"},ZB=F("label",{class:"inline-block"},"Accept terms of service",-1),eq=["disabled"];function tq(e,t,n,i,o,s){const a=kt("vee-field"),l=kt("ErrorMessage"),f=kt("vee-form");return ze(),ct(en,null,[o.reg_show_alert?(ze(),ct("div",{key:0,class:vn(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},Bt(o.reg_alert_msg),3)):eu("",!0),Ae(f,{"validation-schema":o.registerSchema,onSubmit:s.register,"initial-values":o.userData},{default:tr(()=>[F("div",RB,[OB,Ae(a,{type:"text",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),Ae(l,{class:"text-red-600",name:"name"})]),F("div",NB,[PB,Ae(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Ae(l,{class:"text-red-600",name:"email"})]),F("div",DB,[LB,Ae(a,{type:"number",name:"age",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Ae(l,{class:"text-red-600",name:"age"})]),F("div",MB,[FB,Ae(a,{name:"password",bails:!1},{default:tr(({field:p,errors:v})=>[F("input",ES({type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"},p),null,16),(ze(!0),ct(en,null,vc(v,h=>(ze(),ct("div",{class:"text-red-600",key:h},Bt(h),1))),128))]),_:1})]),F("div",VB,[UB,Ae(a,{type:"password",name:"confirm_password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Ae(l,{class:"text-red-600",name:"confirm_password"})]),F("div",jB,[BB,Ae(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:tr(()=>[qB,$B,HB,KB]),_:1}),Ae(l,{class:"text-red-600",name:"country"})]),F("div",GB,[zB,Ae(a,{as:"select",name:"type_music",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:tr(()=>[WB,XB,QB,YB]),_:1}),Ae(l,{class:"text-red-600",name:"type_music"})]),F("div",JB,[Ae(a,{type:"checkbox",name:"tos",value:"1",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),ZB,Ae(l,{class:"text-red-600",name:"tos"})]),F("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.reg_in_submission}," Submit ",8,eq)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const nq=sr(CB,[["render",tq]]),rq={name:"Auth",components:{LoginForm:xB,RegistrationForm:nq},computed:{...Sf(Ev,["hiddenClass"]),...OS(Ev,{modalVisibility:"isOpen"})},data(){return{tab:"login"}}},iq={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},oq=F("div",{class:"fixed inset-0 transition-opacity"},[F("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),sq=F("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"",-1),uq={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},aq={class:"py-4 text-left px-6"},cq={class:"flex justify-between items-center pb-4"},lq=F("p",{class:"text-2xl font-bold"},"Your Account",-1),fq=F("i",{class:"fas fa-times"},null,-1),hq=[fq],dq={class:"flex flex-wrap mb-4"},pq={class:"flex-auto text-center"},mq={class:"flex-auto text-center"};function vq(e,t,n,i,o,s){const a=kt("LoginForm"),l=kt("RegistrationForm");return ze(),ct("div",{class:vn(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[F("div",iq,[oq,sq,F("div",uq,[F("div",aq,[F("div",cq,[lq,F("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=Wt(f=>e.modalVisibility=!1,["prevent"]))},hq)]),F("ul",dq,[F("li",pq,[F("a",{onClick:t[1]||(t[1]=Wt(f=>o.tab="login",["prevent"])),class:vn(["block rounded py-3 px-4 transition",{" hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#"},"Login",2)]),F("li",mq,[F("a",{onClick:t[2]||(t[2]=Wt(f=>o.tab="register",["prevent"])),class:vn([{" hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"},"block rounded py-3 px-4 transition"]),href:"#"},"Register",2)])]),o.tab==="login"?(ze(),Js(a,{key:0})):(ze(),Js(l,{key:1}))])])])],2)}const gq=sr(rq,[["render",vq]]);var Ta=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tg={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var m=this||n;if(h=parseFloat(h),m.ctx||v(),typeof h<"u"&&h>=0&&h<=1){if(m._volume=h,m._muted)return m;m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),I=0;I<_.length;I++){var E=m._howls[y]._soundById(_[I]);E&&E._node&&(E._node.volume=E._volume*h)}return m}return m._volume},mute:function(h){var m=this||n;m.ctx||v(),m._muted=h,m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h?0:m._volume,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),I=0;I<_.length;I++){var E=m._howls[y]._soundById(_[I]);E&&E._node&&(E._node.muted=h?!0:E._muted)}return m},stop:function(){for(var h=this||n,m=0;m<h._howls.length;m++)h._howls[m].stop();return h},unload:function(){for(var h=this||n,m=h._howls.length-1;m>=0;m--)h._howls[m].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,v()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var m=new Audio;typeof m.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var m=new Audio;m.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,m=null;try{m=typeof Audio<"u"?new Audio:null}catch{return h}if(!m||typeof m.canPlayType!="function")return h;var y=m.canPlayType("audio/mpeg;").replace(/^no$/,""),_=h._navigator?h._navigator.userAgent:"",I=_.match(/OPR\/(\d+)/g),E=I&&parseInt(I[0].split("/")[1],10)<33,T=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,C=_.match(/Version\/(.*?) /),P=T&&C&&parseInt(C[1],10)<15;return h._codecs={mp3:!!(!E&&(y||m.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!y,opus:!!m.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(m.canPlayType('audio/wav; codecs="1"')||m.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!m.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!m.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(m.canPlayType("audio/x-m4a;")||m.canPlayType("audio/m4a;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(m.canPlayType("audio/x-m4b;")||m.canPlayType("audio/m4b;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(m.canPlayType("audio/x-mp4;")||m.canPlayType("audio/mp4;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!P&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!P&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!m.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(m.canPlayType("audio/x-flac;")||m.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var m=function(y){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,h._releaseHtml5Audio(_)}catch{h.noAudio=!0;break}for(var I=0;I<h._howls.length;I++)if(!h._howls[I]._webAudio)for(var E=h._howls[I]._getSoundIds(),T=0;T<E.length;T++){var C=h._howls[I]._soundById(E[T]);C&&C._node&&!C._node._unlocked&&(C._node._unlocked=!0,C._node.load())}h._autoResume();var P=h.ctx.createBufferSource();P.buffer=h._scratchBuffer,P.connect(h.ctx.destination),typeof P.start>"u"?P.noteOn(0):P.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),P.onended=function(){P.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",m,!0),document.removeEventListener("touchend",m,!0),document.removeEventListener("click",m,!0),document.removeEventListener("keydown",m,!0);for(var M=0;M<h._howls.length;M++)h._howls[M]._emit("unlock")}};return document.addEventListener("touchstart",m,!0),document.addEventListener("touchend",m,!0),document.addEventListener("click",m,!0),document.addEventListener("keydown",m,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var m=new Audio().play();return m&&typeof Promise<"u"&&(m instanceof Promise||typeof m.then=="function")&&m.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var m=this||n;return h._unlocked&&m._html5AudioPool.push(h),m},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var m=0;m<h._howls.length;m++)if(h._howls[m]._webAudio){for(var y=0;y<h._howls[m]._sounds.length;y++)if(!h._howls[m]._sounds[y]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var _=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(_,_)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var m=0;m<h._howls.length;m++)h._howls[m]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,i=function(h){var m=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}m.init(h)};i.prototype={init:function(h){var m=this;return n.ctx||v(),m._autoplay=h.autoplay||!1,m._format=typeof h.format!="string"?h.format:[h.format],m._html5=h.html5||!1,m._muted=h.mute||!1,m._loop=h.loop||!1,m._pool=h.pool||5,m._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,m._rate=h.rate||1,m._sprite=h.sprite||{},m._src=typeof h.src!="string"?h.src:[h.src],m._volume=h.volume!==void 0?h.volume:1,m._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},m._duration=0,m._state="unloaded",m._sounds=[],m._endTimers={},m._queue=[],m._playLock=!1,m._onend=h.onend?[{fn:h.onend}]:[],m._onfade=h.onfade?[{fn:h.onfade}]:[],m._onload=h.onload?[{fn:h.onload}]:[],m._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],m._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],m._onpause=h.onpause?[{fn:h.onpause}]:[],m._onplay=h.onplay?[{fn:h.onplay}]:[],m._onstop=h.onstop?[{fn:h.onstop}]:[],m._onmute=h.onmute?[{fn:h.onmute}]:[],m._onvolume=h.onvolume?[{fn:h.onvolume}]:[],m._onrate=h.onrate?[{fn:h.onrate}]:[],m._onseek=h.onseek?[{fn:h.onseek}]:[],m._onunlock=h.onunlock?[{fn:h.onunlock}]:[],m._onresume=[],m._webAudio=n.usingWebAudio&&!m._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(m),m._autoplay&&m._queue.push({event:"play",action:function(){m.play()}}),m._preload&&m._preload!=="none"&&m.load(),m},load:function(){var h=this,m=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var y=0;y<h._src.length;y++){var _,I;if(h._format&&h._format[y])_=h._format[y];else{if(I=h._src[y],typeof I!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(I),_||(_=/\.([^.]+)$/.exec(I.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){m=h._src[y];break}}if(!m){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=m,h._state="loading",window.location.protocol==="https:"&&m.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&a(h),h},play:function(h,m){var y=this,_=null;if(typeof h=="number")_=h,h=null;else{if(typeof h=="string"&&y._state==="loaded"&&!y._sprite[h])return null;if(typeof h>"u"&&(h="__default",!y._playLock)){for(var I=0,E=0;E<y._sounds.length;E++)y._sounds[E]._paused&&!y._sounds[E]._ended&&(I++,_=y._sounds[E]._id);I===1?h=null:_=null}}var T=_?y._soundById(_):y._inactiveSound();if(!T)return null;if(_&&!h&&(h=T._sprite||"__default"),y._state!=="loaded"){T._sprite=h,T._ended=!1;var C=T._id;return y._queue.push({event:"play",action:function(){y.play(C)}}),C}if(_&&!T._paused)return m||y._loadQueue("play"),T._id;y._webAudio&&n._autoResume();var P=Math.max(0,T._seek>0?T._seek:y._sprite[h][0]/1e3),M=Math.max(0,(y._sprite[h][0]+y._sprite[h][1])/1e3-P),J=M*1e3/Math.abs(T._rate),V=y._sprite[h][0]/1e3,de=(y._sprite[h][0]+y._sprite[h][1])/1e3;T._sprite=h,T._ended=!1;var G=function(){T._paused=!1,T._seek=P,T._start=V,T._stop=de,T._loop=!!(T._loop||y._sprite[h][2])};if(P>=de){y._ended(T);return}var Q=T._node;if(y._webAudio){var x=function(){y._playLock=!1,G(),y._refreshBuffer(T);var Je=T._muted||y._muted?0:T._volume;Q.gain.setValueAtTime(Je,n.ctx.currentTime),T._playStart=n.ctx.currentTime,typeof Q.bufferSource.start>"u"?T._loop?Q.bufferSource.noteGrainOn(0,P,86400):Q.bufferSource.noteGrainOn(0,P,M):T._loop?Q.bufferSource.start(0,P,86400):Q.bufferSource.start(0,P,M),J!==1/0&&(y._endTimers[T._id]=setTimeout(y._ended.bind(y,T),J)),m||setTimeout(function(){y._emit("play",T._id),y._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?x():(y._playLock=!0,y.once("resume",x),y._clearTimer(T._id))}else{var He=function(){Q.currentTime=P,Q.muted=T._muted||y._muted||n._muted||Q.muted,Q.volume=T._volume*n.volume(),Q.playbackRate=T._rate;try{var Je=Q.play();if(Je&&typeof Promise<"u"&&(Je instanceof Promise||typeof Je.then=="function")?(y._playLock=!0,G(),Je.then(function(){y._playLock=!1,Q._unlocked=!0,m?y._loadQueue():y._emit("play",T._id)}).catch(function(){y._playLock=!1,y._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),T._ended=!0,T._paused=!0})):m||(y._playLock=!1,G(),y._emit("play",T._id)),Q.playbackRate=T._rate,Q.paused){y._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||T._loop?y._endTimers[T._id]=setTimeout(y._ended.bind(y,T),J):(y._endTimers[T._id]=function(){y._ended(T),Q.removeEventListener("ended",y._endTimers[T._id],!1)},Q.addEventListener("ended",y._endTimers[T._id],!1))}catch(We){y._emit("playerror",T._id,We)}};Q.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(Q.src=y._src,Q.load());var it=window&&window.ejecta||!Q.readyState&&n._navigator.isCocoonJS;if(Q.readyState>=3||it)He();else{y._playLock=!0,y._state="loading";var ot=function(){y._state="loaded",He(),Q.removeEventListener(n._canPlayEvent,ot,!1)};Q.addEventListener(n._canPlayEvent,ot,!1),y._clearTimer(T._id)}}return T._id},pause:function(h){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"pause",action:function(){m.pause(h)}}),m;for(var y=m._getSoundIds(h),_=0;_<y.length;_++){m._clearTimer(y[_]);var I=m._soundById(y[_]);if(I&&!I._paused&&(I._seek=m.seek(y[_]),I._rateSeek=0,I._paused=!0,m._stopFade(y[_]),I._node))if(m._webAudio){if(!I._node.bufferSource)continue;typeof I._node.bufferSource.stop>"u"?I._node.bufferSource.noteOff(0):I._node.bufferSource.stop(0),m._cleanBuffer(I._node)}else(!isNaN(I._node.duration)||I._node.duration===1/0)&&I._node.pause();arguments[1]||m._emit("pause",I?I._id:null)}return m},stop:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"stop",action:function(){y.stop(h)}}),y;for(var _=y._getSoundIds(h),I=0;I<_.length;I++){y._clearTimer(_[I]);var E=y._soundById(_[I]);E&&(E._seek=E._start||0,E._rateSeek=0,E._paused=!0,E._ended=!0,y._stopFade(_[I]),E._node&&(y._webAudio?E._node.bufferSource&&(typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),y._cleanBuffer(E._node)):(!isNaN(E._node.duration)||E._node.duration===1/0)&&(E._node.currentTime=E._start||0,E._node.pause(),E._node.duration===1/0&&y._clearSound(E._node))),m||y._emit("stop",E._id))}return y},mute:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"mute",action:function(){y.mute(h,m)}}),y;if(typeof m>"u")if(typeof h=="boolean")y._muted=h;else return y._muted;for(var _=y._getSoundIds(m),I=0;I<_.length;I++){var E=y._soundById(_[I]);E&&(E._muted=h,E._interval&&y._stopFade(E._id),y._webAudio&&E._node?E._node.gain.setValueAtTime(h?0:E._volume,n.ctx.currentTime):E._node&&(E._node.muted=n._muted?!0:h),y._emit("mute",E._id))}return y},volume:function(){var h=this,m=arguments,y,_;if(m.length===0)return h._volume;if(m.length===1||m.length===2&&typeof m[1]>"u"){var I=h._getSoundIds(),E=I.indexOf(m[0]);E>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length>=2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var T;if(typeof y<"u"&&y>=0&&y<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,m)}}),h;typeof _>"u"&&(h._volume=y),_=h._getSoundIds(_);for(var C=0;C<_.length;C++)T=h._soundById(_[C]),T&&(T._volume=y,m[2]||h._stopFade(_[C]),h._webAudio&&T._node&&!T._muted?T._node.gain.setValueAtTime(y,n.ctx.currentTime):T._node&&!T._muted&&(T._node.volume=y*n.volume()),h._emit("volume",T._id))}else return T=_?h._soundById(_):h._sounds[0],T?T._volume:0;return h},fade:function(h,m,y,_){var I=this;if(I._state!=="loaded"||I._playLock)return I._queue.push({event:"fade",action:function(){I.fade(h,m,y,_)}}),I;h=Math.min(Math.max(0,parseFloat(h)),1),m=Math.min(Math.max(0,parseFloat(m)),1),y=parseFloat(y),I.volume(h,_);for(var E=I._getSoundIds(_),T=0;T<E.length;T++){var C=I._soundById(E[T]);if(C){if(_||I._stopFade(E[T]),I._webAudio&&!C._muted){var P=n.ctx.currentTime,M=P+y/1e3;C._volume=h,C._node.gain.setValueAtTime(h,P),C._node.gain.linearRampToValueAtTime(m,M)}I._startFadeInterval(C,h,m,y,E[T],typeof _>"u")}}return I},_startFadeInterval:function(h,m,y,_,I,E){var T=this,C=m,P=y-m,M=Math.abs(P/.01),J=Math.max(4,M>0?_/M:_),V=Date.now();h._fadeTo=y,h._interval=setInterval(function(){var de=(Date.now()-V)/_;V=Date.now(),C+=P*de,C=Math.round(C*100)/100,P<0?C=Math.max(y,C):C=Math.min(y,C),T._webAudio?h._volume=C:T.volume(C,h._id,!0),E&&(T._volume=C),(y<m&&C<=y||y>m&&C>=y)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,T.volume(y,h._id),T._emit("fade",h._id))},J)},_stopFade:function(h){var m=this,y=m._soundById(h);return y&&y._interval&&(m._webAudio&&y._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(y._interval),y._interval=null,m.volume(y._fadeTo,h),y._fadeTo=null,m._emit("fade",h)),m},loop:function(){var h=this,m=arguments,y,_,I;if(m.length===0)return h._loop;if(m.length===1)if(typeof m[0]=="boolean")y=m[0],h._loop=y;else return I=h._soundById(parseInt(m[0],10)),I?I._loop:!1;else m.length===2&&(y=m[0],_=parseInt(m[1],10));for(var E=h._getSoundIds(_),T=0;T<E.length;T++)I=h._soundById(E[T]),I&&(I._loop=y,h._webAudio&&I._node&&I._node.bufferSource&&(I._node.bufferSource.loop=y,y&&(I._node.bufferSource.loopStart=I._start||0,I._node.bufferSource.loopEnd=I._stop,h.playing(E[T])&&(h.pause(E[T],!0),h.play(E[T],!0)))));return h},rate:function(){var h=this,m=arguments,y,_;if(m.length===0)_=h._sounds[0]._id;else if(m.length===1){var I=h._getSoundIds(),E=I.indexOf(m[0]);E>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var T;if(typeof y=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,m)}}),h;typeof _>"u"&&(h._rate=y),_=h._getSoundIds(_);for(var C=0;C<_.length;C++)if(T=h._soundById(_[C]),T){h.playing(_[C])&&(T._rateSeek=h.seek(_[C]),T._playStart=h._webAudio?n.ctx.currentTime:T._playStart),T._rate=y,h._webAudio&&T._node&&T._node.bufferSource?T._node.bufferSource.playbackRate.setValueAtTime(y,n.ctx.currentTime):T._node&&(T._node.playbackRate=y);var P=h.seek(_[C]),M=(h._sprite[T._sprite][0]+h._sprite[T._sprite][1])/1e3-P,J=M*1e3/Math.abs(T._rate);(h._endTimers[_[C]]||!T._paused)&&(h._clearTimer(_[C]),h._endTimers[_[C]]=setTimeout(h._ended.bind(h,T),J)),h._emit("rate",T._id)}}else return T=h._soundById(_),T?T._rate:h._rate;return h},seek:function(){var h=this,m=arguments,y,_;if(m.length===0)h._sounds.length&&(_=h._sounds[0]._id);else if(m.length===1){var I=h._getSoundIds(),E=I.indexOf(m[0]);E>=0?_=parseInt(m[0],10):h._sounds.length&&(_=h._sounds[0]._id,y=parseFloat(m[0]))}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));if(typeof _>"u")return 0;if(typeof y=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,m)}}),h;var T=h._soundById(_);if(T)if(typeof y=="number"&&y>=0){var C=h.playing(_);C&&h.pause(_,!0),T._seek=y,T._ended=!1,h._clearTimer(_),!h._webAudio&&T._node&&!isNaN(T._node.duration)&&(T._node.currentTime=y);var P=function(){C&&h.play(_,!0),h._emit("seek",_)};if(C&&!h._webAudio){var M=function(){h._playLock?setTimeout(M,0):P()};setTimeout(M,0)}else P()}else if(h._webAudio){var J=h.playing(_)?n.ctx.currentTime-T._playStart:0,V=T._rateSeek?T._rateSeek-T._seek:0;return T._seek+(V+J*Math.abs(T._rate))}else return T._node.currentTime;return h},playing:function(h){var m=this;if(typeof h=="number"){var y=m._soundById(h);return y?!y._paused:!1}for(var _=0;_<m._sounds.length;_++)if(!m._sounds[_]._paused)return!0;return!1},duration:function(h){var m=this,y=m._duration,_=m._soundById(h);return _&&(y=m._sprite[_._sprite][1]/1e3),y},state:function(){return this._state},unload:function(){for(var h=this,m=h._sounds,y=0;y<m.length;y++)m[y]._paused||h.stop(m[y]._id),h._webAudio||(h._clearSound(m[y]._node),m[y]._node.removeEventListener("error",m[y]._errorFn,!1),m[y]._node.removeEventListener(n._canPlayEvent,m[y]._loadFn,!1),m[y]._node.removeEventListener("ended",m[y]._endFn,!1),n._releaseHtml5Audio(m[y]._node)),delete m[y]._node,h._clearTimer(m[y]._id);var _=n._howls.indexOf(h);_>=0&&n._howls.splice(_,1);var I=!0;for(y=0;y<n._howls.length;y++)if(n._howls[y]._src===h._src||h._src.indexOf(n._howls[y]._src)>=0){I=!1;break}return s&&I&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,m,y,_){var I=this,E=I["_on"+h];return typeof m=="function"&&E.push(_?{id:y,fn:m,once:_}:{id:y,fn:m}),I},off:function(h,m,y){var _=this,I=_["_on"+h],E=0;if(typeof m=="number"&&(y=m,m=null),m||y)for(E=0;E<I.length;E++){var T=y===I[E].id;if(m===I[E].fn&&T||!m&&T){I.splice(E,1);break}}else if(h)_["_on"+h]=[];else{var C=Object.keys(_);for(E=0;E<C.length;E++)C[E].indexOf("_on")===0&&Array.isArray(_[C[E]])&&(_[C[E]]=[])}return _},once:function(h,m,y){var _=this;return _.on(h,m,y,1),_},_emit:function(h,m,y){for(var _=this,I=_["_on"+h],E=I.length-1;E>=0;E--)(!I[E].id||I[E].id===m||h==="load")&&(setTimeout((function(T){T.call(this,m,y)}).bind(_,I[E].fn),0),I[E].once&&_.off(h,I[E].fn,I[E].id));return _._loadQueue(h),_},_loadQueue:function(h){var m=this;if(m._queue.length>0){var y=m._queue[0];y.event===h&&(m._queue.shift(),m._loadQueue()),h||y.action()}return m},_ended:function(h){var m=this,y=h._sprite;if(!m._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(m._ended.bind(m,h),100),m;var _=!!(h._loop||m._sprite[y][2]);if(m._emit("end",h._id),!m._webAudio&&_&&m.stop(h._id,!0).play(h._id),m._webAudio&&_){m._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var I=(h._stop-h._start)*1e3/Math.abs(h._rate);m._endTimers[h._id]=setTimeout(m._ended.bind(m,h),I)}return m._webAudio&&!_&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,m._clearTimer(h._id),m._cleanBuffer(h._node),n._autoSuspend()),!m._webAudio&&!_&&m.stop(h._id,!0),m},_clearTimer:function(h){var m=this;if(m._endTimers[h]){if(typeof m._endTimers[h]!="function")clearTimeout(m._endTimers[h]);else{var y=m._soundById(h);y&&y._node&&y._node.removeEventListener("ended",m._endTimers[h],!1)}delete m._endTimers[h]}return m},_soundById:function(h){for(var m=this,y=0;y<m._sounds.length;y++)if(h===m._sounds[y]._id)return m._sounds[y];return null},_inactiveSound:function(){var h=this;h._drain();for(var m=0;m<h._sounds.length;m++)if(h._sounds[m]._ended)return h._sounds[m].reset();return new o(h)},_drain:function(){var h=this,m=h._pool,y=0,_=0;if(!(h._sounds.length<m)){for(_=0;_<h._sounds.length;_++)h._sounds[_]._ended&&y++;for(_=h._sounds.length-1;_>=0;_--){if(y<=m)return;h._sounds[_]._ended&&(h._webAudio&&h._sounds[_]._node&&h._sounds[_]._node.disconnect(0),h._sounds.splice(_,1),y--)}}},_getSoundIds:function(h){var m=this;if(typeof h>"u"){for(var y=[],_=0;_<m._sounds.length;_++)y.push(m._sounds[_]._id);return y}else return[h]},_refreshBuffer:function(h){var m=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[m._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),m},_cleanBuffer:function(h){var m=this,y=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!h.bufferSource)return m;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),y))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,m},_clearSound:function(h){var m=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);m||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,m._sounds.push(h),h.create(),h},create:function(){var h=this,m=h._parent,y=n._muted||h._muted||h._parent._muted?0:h._volume;return m._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(y,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=m._src,h._node.preload=m._preload===!0?"auto":m._preload,h._node.volume=y*n.volume(),h._node.load()),h},reset:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,m=h._parent;m._duration=Math.ceil(h._node.duration*10)/10,Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!=="loaded"&&(m._state="loaded",m._emit("load"),m._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,m=h._parent;m._duration===1/0&&(m._duration=Math.ceil(h._node.duration*10)/10,m._sprite.__default[1]===1/0&&(m._sprite.__default[1]=m._duration*1e3),m._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},a=function(h){var m=h._src;if(s[m]){h._duration=s[m].duration,p(h);return}if(/^data:[^;]+;base64,/.test(m)){for(var y=atob(m.split(",")[1]),_=new Uint8Array(y.length),I=0;I<y.length;++I)_[I]=y.charCodeAt(I);f(_.buffer,h)}else{var E=new XMLHttpRequest;E.open(h._xhr.method,m,!0),E.withCredentials=h._xhr.withCredentials,E.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(T){E.setRequestHeader(T,h._xhr.headers[T])}),E.onload=function(){var T=(E.status+"")[0];if(T!=="0"&&T!=="2"&&T!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+E.status+".");return}f(E.response,h)},E.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[m],h.load())},l(E)}},l=function(h){try{h.send()}catch{h.onerror()}},f=function(h,m){var y=function(){m._emit("loaderror",null,"Decoding audio data failed.")},_=function(I){I&&m._sounds.length>0?(s[m._src]=I,p(m,I)):y()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(_).catch(y):n.ctx.decodeAudioData(h,_,y)},p=function(h,m){m&&!h._duration&&(h._duration=m.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},v=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),m=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),y=m?parseInt(m[1],10):null;if(h&&y&&y<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=i,typeof Ta<"u"?(Ta.HowlerGlobal=t,Ta.Howler=n,Ta.Howl=i,Ta.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=i,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var o=i._howls.length-1;o>=0;o--)i._howls[o].stereo(n);return i},HowlerGlobal.prototype.pos=function(n,i,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(i=typeof i!="number"?s._pos[1]:i,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,i,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,i,o,s,a,l){var f=this;if(!f.ctx||!f.ctx.listener)return f;var p=f._orientation;if(i=typeof i!="number"?p[1]:i,o=typeof o!="number"?p[2]:o,s=typeof s!="number"?p[3]:s,a=typeof a!="number"?p[4]:a,l=typeof l!="number"?p[5]:l,typeof n=="number")f._orientation=[n,i,o,s,a,l],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,i,o,s,a,l);else return p;return f},Howl.prototype.init=function(n){return function(i){var o=this;return o._orientation=i.orientation||[1,0,0],o._stereo=i.stereo||null,o._pos=i.pos||null,o._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},o._onstereo=i.onstereo?[{fn:i.onstereo}]:[],o._onpos=i.onpos?[{fn:i.onpos}]:[],o._onorientation=i.onorientation?[{fn:i.onorientation}]:[],n.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,i){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,i)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var a=o._getSoundIds(i),l=0;l<a.length;l++){var f=o._soundById(a[l]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,i,o,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(n,i,o,s)}}),a;if(i=typeof i!="number"?0:i,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")a._pos=[n,i,o];else return a._pos;for(var l=a._getSoundIds(s),f=0;f<l.length;f++){var p=a._soundById(l[f]);if(p)if(typeof n=="number")p._pos=[n,i,o],p._node&&((!p._panner||p._panner.pan)&&t(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setPosition(n,i,o)),a._emit("pos",p._id);else return p._pos}return a},Howl.prototype.orientation=function(n,i,o,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(n,i,o,s)}}),a;if(i=typeof i!="number"?a._orientation[1]:i,o=typeof o!="number"?a._orientation[2]:o,typeof s>"u")if(typeof n=="number")a._orientation=[n,i,o];else return a._orientation;for(var l=a._getSoundIds(s),f=0;f<l.length;f++){var p=a._soundById(l[f]);if(p)if(typeof n=="number")p._orientation=[n,i,o],p._node&&(p._panner||(p._pos||(p._pos=a._pos||[0,0,-.5]),t(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setOrientation(n,i,o)),a._emit("orientation",p._id);else return p._orientation}return a},Howl.prototype.pannerAttr=function(){var n=this,i=arguments,o,s,a;if(!n._webAudio)return n;if(i.length===0)return n._pannerAttr;if(i.length===1)if(typeof i[0]=="object")o=i[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return a=n._soundById(parseInt(i[0],10)),a?a._pannerAttr:n._pannerAttr;else i.length===2&&(o=i[0],s=parseInt(i[1],10));for(var l=n._getSoundIds(s),f=0;f<l.length;f++)if(a=n._soundById(l[f]),a){var p=a._pannerAttr;p={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:p.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:p.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:p.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:p.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:p.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:p.panningModel};var v=a._panner;v||(a._pos||(a._pos=n._pos||[0,0,-.5]),t(a,"spatial"),v=a._panner),v.coneInnerAngle=p.coneInnerAngle,v.coneOuterAngle=p.coneOuterAngle,v.coneOuterGain=p.coneOuterGain,v.distanceModel=p.distanceModel,v.maxDistance=p.maxDistance,v.refDistance=p.refDistance,v.rolloffFactor=p.rolloffFactor,v.panningModel=p.panningModel}return n},Sound.prototype.init=function(n){return function(){var i=this,o=i._parent;i._orientation=o._orientation,i._stereo=o._stereo,i._pos=o._pos,i._pannerAttr=o._pannerAttr,n.call(this),i._stereo?o.stereo(i._stereo):i._pos&&o.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var i=this,o=i._parent;return i._orientation=o._orientation,i._stereo=o._stereo,i._pos=o._pos,i._pannerAttr=o._pannerAttr,i._stereo?o.stereo(i._stereo):i._pos?o.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,o._refreshBuffer(i)),n.call(this)}}(Sound.prototype.reset);var t=function(n,i){i=i||"spatial",i==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(tg);const JE={formatTime(e){const t=Math.floor(e/60)||0,n=Math.round(e-t*60||0);return`${t}:${n<10?"0":""}${n}`}},eh=Ng("player",{state:()=>({current_song:{},sound:{},seek:"00:00",duration:"00:00",playerProgress:"0%"}),actions:{async newSong(e){this.sound instanceof tg.Howl&&this.sound.unload(),this.current_song=e,this.sound=new tg.Howl({src:[e.url],html5:!0}),this.sound.play(),this.sound.on("play",()=>{requestAnimationFrame(this.progress)})},async toggleAudio(){this.sound.playing&&(this.sound.playing()?this.sound.pause():this.sound.play())},progress(){this.seek=JE.formatTime(this.sound.seek()),this.duration=JE.formatTime(this.sound.duration()),this.playerProgress=`${this.sound.seek()/this.sound.duration()*100}%`,this.sound.playing()&&requestAnimationFrame(this.progress)},updateSeek(e){if(!this.sound.playing)return;const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),o=(e.clientX-t)/n,s=this.sound.duration()*o;this.sound.seek(s),this.sound.once("seek")}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1}}),yq={name:"Player",methods:{...wh(eh,{toggleAudio:"toggleAudio",updateSeek:"updateSeek"})},computed:{...Sf(eh,{playing:"playing",duration:"duration",seek:"seek",playerProgress:"playerProgress",current_song:"current_song"})}},_q={class:"fixed bottom-0 left-0 bg-white px-4 py-2 w-full"},wq={key:0,class:"text-center"},bq={class:"song-title font-bold"},Iq={class:"song-artist"},Eq={class:"flex flex-nowrap gap-4 items-center"},Tq={class:"player-currenttime"},Sq=F("i",{class:"fas fa-circle"},null,-1),Aq=[Sq],kq={class:"player-duration"};function xq(e,t,n,i,o,s){return ze(),ct("div",_q,[e.current_song.modified_name?(ze(),ct("div",wq,[F("span",bq,Bt(e.current_song.modified_name),1),Ki(" by "),F("span",Iq,Bt(e.current_song.display_name),1)])):eu("",!0),F("div",Eq,[F("button",{type:"button",onClick:t[0]||(t[0]=Wt((...a)=>e.toggleAudio&&e.toggleAudio(...a),["prevent"]))},[F("i",{class:vn(["fa text-gray-500 text-xl",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),F("div",Tq,Bt(e.seek),1),F("div",{onClick:t[1]||(t[1]=Wt((...a)=>e.updateSeek&&e.updateSeek(...a),["prevent"])),class:"w-full h-2 rounded bg-gray-200 relative cursor-pointer"},[F("span",{class:"absolute -top-2.5 -ml-2.5 text-gray-800 text-lg",style:Go({left:e.playerProgress})},Aq,4),F("span",{class:"block h-2 rounded bg-gradient-to-r from-green-500 to-green-400",style:Go({width:e.playerProgress})},null,4)]),F("div",kq,Bt(e.duration),1)])])}const Cq=sr(yq,[["render",xq]]),Rq={name:"App",components:{Header:wB,Auth:gq,Player:Cq},computed:{...OS(Mu,["userLoggedIn"])},created(){Qr.currentUser&&(this.userLoggedIn=!0)}};function Oq(e,t,n,i,o,s){const a=kt("Header"),l=kt("router-view"),f=kt("player"),p=kt("Auth");return ze(),ct(en,null,[Ae(a),Ae(l),Ae(f),Ae(p)],64)}const Nq=sr(Rq,[["render",Oq]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const qs=typeof window<"u";function Pq(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ft=Object.assign;function rv(e,t){const n={};for(const i in t){const o=t[i];n[i]=Nr(o)?o.map(e):e(o)}return n}const ja=()=>{},Nr=Array.isArray,Dq=/\/$/,Lq=e=>e.replace(Dq,"");function iv(e,t,n="/"){let i,o={},s="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=Uq(i??t,n),{fullPath:i+(s&&"?")+s+a,path:i,query:o,hash:a}}function Mq(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ZE(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Fq(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&Iu(t.matched[i],n.matched[o])&&Jk(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Iu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Jk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Vq(e[n],t[n]))return!1;return!0}function Vq(e,t){return Nr(e)?eT(e,t):Nr(t)?eT(t,e):e===t}function eT(e,t){return Nr(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function Uq(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let s=n.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var hc;(function(e){e.pop="pop",e.push="push"})(hc||(hc={}));var Ba;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ba||(Ba={}));function jq(e){if(!e)if(qs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Lq(e)}const Bq=/^[^#]+#/;function qq(e,t){return e.replace(Bq,"#")+t}function $q(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const nd=()=>({left:window.pageXOffset,top:window.pageYOffset});function Hq(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=$q(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function tT(e,t){return(history.state?history.state.position-t:-1)+e}const ng=new Map;function Kq(e,t){ng.set(e,t)}function Gq(e){const t=ng.get(e);return ng.delete(e),t}let zq=()=>location.protocol+"//"+location.host;function Zk(e,t){const{pathname:n,search:i,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),ZE(f,"")}return ZE(n,e)+i+o}function Wq(e,t,n,i){let o=[],s=[],a=null;const l=({state:m})=>{const y=Zk(e,location),_=n.value,I=t.value;let E=0;if(m){if(n.value=y,t.value=m,a&&a===_){a=null;return}E=I?m.position-I.position:0}else i(y);o.forEach(T=>{T(n.value,_,{delta:E,type:hc.pop,direction:E?E>0?Ba.forward:Ba.back:Ba.unknown})})};function f(){a=n.value}function p(m){o.push(m);const y=()=>{const _=o.indexOf(m);_>-1&&o.splice(_,1)};return s.push(y),y}function v(){const{history:m}=window;m.state&&m.replaceState(ft({},m.state,{scroll:nd()}),"")}function h(){for(const m of s)m();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",v,{passive:!0}),{pauseListeners:f,listen:p,destroy:h}}function nT(e,t,n,i=!1,o=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:o?nd():null}}function Xq(e){const{history:t,location:n}=window,i={value:Zk(e,n)},o={value:t.state};o.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,p,v){const h=e.indexOf("#"),m=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+f:zq()+e+f;try{t[v?"replaceState":"pushState"](p,"",m),o.value=p}catch(y){console.error(y),n[v?"replace":"assign"](m)}}function a(f,p){const v=ft({},t.state,nT(o.value.back,f,o.value.forward,!0),p,{position:o.value.position});s(f,v,!0),i.value=f}function l(f,p){const v=ft({},o.value,t.state,{forward:f,scroll:nd()});s(v.current,v,!0);const h=ft({},nT(i.value,f,null),{position:v.position+1},p);s(f,h,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function Qq(e){e=jq(e);const t=Xq(e),n=Wq(e,t.state,t.location,t.replace);function i(s,a=!0){a||n.pauseListeners(),history.go(s)}const o=ft({location:"",base:e,go:i,createHref:qq.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Yq(e){return typeof e=="string"||e&&typeof e=="object"}function ex(e){return typeof e=="string"||typeof e=="symbol"}const Ni={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},tx=Symbol("");var rT;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(rT||(rT={}));function Eu(e,t){return ft(new Error,{type:e,[tx]:!0},t)}function oi(e,t){return e instanceof Error&&tx in e&&(t==null||!!(e.type&t))}const iT="[^/]+?",Jq={sensitive:!1,strict:!1,start:!0,end:!0},Zq=/[.+*?^${}()[\]/\\]/g;function e$(e,t){const n=ft({},Jq,t),i=[];let o=n.start?"^":"";const s=[];for(const p of e){const v=p.length?[]:[90];n.strict&&!p.length&&(o+="/");for(let h=0;h<p.length;h++){const m=p[h];let y=40+(n.sensitive?.25:0);if(m.type===0)h||(o+="/"),o+=m.value.replace(Zq,"\\$&"),y+=40;else if(m.type===1){const{value:_,repeatable:I,optional:E,regexp:T}=m;s.push({name:_,repeatable:I,optional:E});const C=T||iT;if(C!==iT){y+=10;try{new RegExp(`(${C})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${_}" (${C}): `+M.message)}}let P=I?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;h||(P=E&&p.length<2?`(?:/${P})`:"/"+P),E&&(P+="?"),o+=P,y+=20,E&&(y+=-8),I&&(y+=-20),C===".*"&&(y+=-50)}v.push(y)}i.push(v)}if(n.strict&&n.end){const p=i.length-1;i[p][i[p].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(p){const v=p.match(a),h={};if(!v)return null;for(let m=1;m<v.length;m++){const y=v[m]||"",_=s[m-1];h[_.name]=y&&_.repeatable?y.split("/"):y}return h}function f(p){let v="",h=!1;for(const m of e){(!h||!v.endsWith("/"))&&(v+="/"),h=!1;for(const y of m)if(y.type===0)v+=y.value;else if(y.type===1){const{value:_,repeatable:I,optional:E}=y,T=_ in p?p[_]:"";if(Nr(T)&&!I)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const C=Nr(T)?T.join("/"):T;if(!C)if(E)m.length<2&&(v.endsWith("/")?v=v.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);v+=C}}return v||"/"}return{re:a,score:i,keys:s,parse:l,stringify:f}}function t$(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function n$(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const s=t$(i[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-i.length)===1){if(oT(i))return 1;if(oT(o))return-1}return o.length-i.length}function oT(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const r$={type:0,value:""},i$=/[a-zA-Z0-9_]/;function o$(e){if(!e)return[[]];if(e==="/")return[[r$]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${p}": ${y}`)}let n=0,i=n;const o=[];let s;function a(){s&&o.push(s),s=[]}let l=0,f,p="",v="";function h(){p&&(n===0?s.push({type:0,value:p}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:p,regexp:v,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),p="")}function m(){p+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(p&&h(),a()):f===":"?(h(),n=1):m();break;case 4:m(),n=i;break;case 1:f==="("?n=2:i$.test(f)?m():(h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+f:n=3:v+=f;break;case 3:h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,v="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${p}"`),h(),a(),o}function s$(e,t,n){const i=e$(o$(e.path),n),o=ft(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function u$(e,t){const n=[],i=new Map;t=aT({strict:!1,end:!0,sensitive:!1},t);function o(v){return i.get(v)}function s(v,h,m){const y=!m,_=a$(v);_.aliasOf=m&&m.record;const I=aT(t,v),E=[_];if("alias"in v){const P=typeof v.alias=="string"?[v.alias]:v.alias;for(const M of P)E.push(ft({},_,{components:m?m.record.components:_.components,path:M,aliasOf:m?m.record:_}))}let T,C;for(const P of E){const{path:M}=P;if(h&&M[0]!=="/"){const J=h.record.path,V=J[J.length-1]==="/"?"":"/";P.path=h.record.path+(M&&V+M)}if(T=s$(P,h,I),m?m.alias.push(T):(C=C||T,C!==T&&C.alias.push(T),y&&v.name&&!uT(T)&&a(v.name)),_.children){const J=_.children;for(let V=0;V<J.length;V++)s(J[V],T,m&&m.children[V])}m=m||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&f(T)}return C?()=>{a(C)}:ja}function a(v){if(ex(v)){const h=i.get(v);h&&(i.delete(v),n.splice(n.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=n.indexOf(v);h>-1&&(n.splice(h,1),v.record.name&&i.delete(v.record.name),v.children.forEach(a),v.alias.forEach(a))}}function l(){return n}function f(v){let h=0;for(;h<n.length&&n$(v,n[h])>=0&&(v.record.path!==n[h].record.path||!nx(v,n[h]));)h++;n.splice(h,0,v),v.record.name&&!uT(v)&&i.set(v.record.name,v)}function p(v,h){let m,y={},_,I;if("name"in v&&v.name){if(m=i.get(v.name),!m)throw Eu(1,{location:v});I=m.record.name,y=ft(sT(h.params,m.keys.filter(C=>!C.optional).map(C=>C.name)),v.params&&sT(v.params,m.keys.map(C=>C.name))),_=m.stringify(y)}else if("path"in v)_=v.path,m=n.find(C=>C.re.test(_)),m&&(y=m.parse(_),I=m.record.name);else{if(m=h.name?i.get(h.name):n.find(C=>C.re.test(h.path)),!m)throw Eu(1,{location:v,currentLocation:h});I=m.record.name,y=ft({},h.params,v.params),_=m.stringify(y)}const E=[];let T=m;for(;T;)E.unshift(T.record),T=T.parent;return{name:I,path:_,params:y,matched:E,meta:l$(E)}}return e.forEach(v=>s(v)),{addRoute:s,resolve:p,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function sT(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function a$(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:c$(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function c$(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function uT(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function l$(e){return e.reduce((t,n)=>ft(t,n.meta),{})}function aT(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function nx(e,t){return t.children.some(n=>n===e||nx(e,n))}const rx=/#/g,f$=/&/g,h$=/\//g,d$=/=/g,p$=/\?/g,ix=/\+/g,m$=/%5B/g,v$=/%5D/g,ox=/%5E/g,g$=/%60/g,sx=/%7B/g,y$=/%7C/g,ux=/%7D/g,_$=/%20/g;function Zy(e){return encodeURI(""+e).replace(y$,"|").replace(m$,"[").replace(v$,"]")}function w$(e){return Zy(e).replace(sx,"{").replace(ux,"}").replace(ox,"^")}function rg(e){return Zy(e).replace(ix,"%2B").replace(_$,"+").replace(rx,"%23").replace(f$,"%26").replace(g$,"`").replace(sx,"{").replace(ux,"}").replace(ox,"^")}function b$(e){return rg(e).replace(d$,"%3D")}function I$(e){return Zy(e).replace(rx,"%23").replace(p$,"%3F")}function E$(e){return e==null?"":I$(e).replace(h$,"%2F")}function th(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function T$(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const s=i[o].replace(ix," "),a=s.indexOf("="),l=th(a<0?s:s.slice(0,a)),f=a<0?null:th(s.slice(a+1));if(l in t){let p=t[l];Nr(p)||(p=t[l]=[p]),p.push(f)}else t[l]=f}return t}function cT(e){let t="";for(let n in e){const i=e[n];if(n=b$(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Nr(i)?i.map(s=>s&&rg(s)):[i&&rg(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function S$(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Nr(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const A$=Symbol(""),lT=Symbol(""),e_=Symbol(""),ax=Symbol(""),ig=Symbol("");function Sa(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Fi(e,t,n,i,o){const s=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=h=>{h===!1?l(Eu(4,{from:n,to:t})):h instanceof Error?l(h):Yq(h)?l(Eu(2,{from:t,to:h})):(s&&i.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),a())},p=e.call(i&&i.instances[o],t,n,f);let v=Promise.resolve(p);e.length<3&&(v=v.then(f)),v.catch(h=>l(h))})}function ov(e,t,n,i){const o=[];for(const s of e)for(const a in s.components){let l=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(k$(l)){const p=(l.__vccOpts||l)[t];p&&o.push(Fi(p,n,i,s,a))}else{let f=l();o.push(()=>f.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const v=Pq(p)?p.default:p;s.components[a]=v;const m=(v.__vccOpts||v)[t];return m&&Fi(m,n,i,s,a)()}))}}return o}function k$(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function fT(e){const t=mr(e_),n=mr(ax),i=Fe(()=>t.resolve(et(e.to))),o=Fe(()=>{const{matched:f}=i.value,{length:p}=f,v=f[p-1],h=n.matched;if(!v||!h.length)return-1;const m=h.findIndex(Iu.bind(null,v));if(m>-1)return m;const y=hT(f[p-2]);return p>1&&hT(v)===y&&h[h.length-1].path!==y?h.findIndex(Iu.bind(null,f[p-2])):m}),s=Fe(()=>o.value>-1&&O$(n.params,i.value.params)),a=Fe(()=>o.value>-1&&o.value===n.matched.length-1&&Jk(n.params,i.value.params));function l(f={}){return R$(f)?t[et(e.replace)?"replace":"push"](et(e.to)).catch(ja):Promise.resolve()}return{route:i,href:Fe(()=>i.value.href),isActive:s,isExactActive:a,navigate:l}}const x$=mc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fT,setup(e,{slots:t}){const n=pi(fT(e)),{options:i}=mr(e_),o=Fe(()=>({[dT(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[dT(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:nu("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),C$=x$;function R$(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function O$(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!Nr(o)||o.length!==i.length||i.some((s,a)=>s!==o[a]))return!1}return!0}function hT(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const dT=(e,t,n)=>e??t??n,N$=mc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=mr(ig),o=Fe(()=>e.route||i.value),s=mr(lT,0),a=Fe(()=>{let p=et(s);const{matched:v}=o.value;let h;for(;(h=v[p])&&!h.components;)p++;return p}),l=Fe(()=>o.value.matched[a.value]);Ws(lT,Fe(()=>a.value+1)),Ws(A$,l),Ws(ig,o);const f=kn();return pr(()=>[f.value,l.value,e.name],([p,v,h],[m,y,_])=>{v&&(v.instances[h]=p,y&&y!==v&&p&&p===m&&(v.leaveGuards.size||(v.leaveGuards=y.leaveGuards),v.updateGuards.size||(v.updateGuards=y.updateGuards))),p&&v&&(!y||!Iu(v,y)||!m)&&(v.enterCallbacks[h]||[]).forEach(I=>I(p))},{flush:"post"}),()=>{const p=o.value,v=e.name,h=l.value,m=h&&h.components[v];if(!m)return pT(n.default,{Component:m,route:p});const y=h.props[v],_=y?y===!0?p.params:typeof y=="function"?y(p):y:null,E=nu(m,ft({},_,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[v]=null)},ref:f}));return pT(n.default,{Component:E,route:p})||E}}});function pT(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const P$=N$;function D$(e){const t=u$(e.routes,e),n=e.parseQuery||T$,i=e.stringifyQuery||cT,o=e.history,s=Sa(),a=Sa(),l=Sa(),f=QT(Ni);let p=Ni;qs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=rv.bind(null,L=>""+L),h=rv.bind(null,E$),m=rv.bind(null,th);function y(L,q){let ne,ae;return ex(L)?(ne=t.getRecordMatcher(L),ae=q):ae=L,t.addRoute(ae,ne)}function _(L){const q=t.getRecordMatcher(L);q&&t.removeRoute(q)}function I(){return t.getRoutes().map(L=>L.record)}function E(L){return!!t.getRecordMatcher(L)}function T(L,q){if(q=ft({},q||f.value),typeof L=="string"){const O=iv(n,L,q.path),U=t.resolve({path:O.path},q),B=o.createHref(O.fullPath);return ft(O,U,{params:m(U.params),hash:th(O.hash),redirectedFrom:void 0,href:B})}let ne;if("path"in L)ne=ft({},L,{path:iv(n,L.path,q.path).path});else{const O=ft({},L.params);for(const U in O)O[U]==null&&delete O[U];ne=ft({},L,{params:h(O)}),q.params=h(q.params)}const ae=t.resolve(ne,q),Oe=L.hash||"";ae.params=v(m(ae.params));const A=Mq(i,ft({},L,{hash:w$(Oe),path:ae.path})),k=o.createHref(A);return ft({fullPath:A,hash:Oe,query:i===cT?S$(L.query):L.query||{}},ae,{redirectedFrom:void 0,href:k})}function C(L){return typeof L=="string"?iv(n,L,f.value.path):ft({},L)}function P(L,q){if(p!==L)return Eu(8,{from:q,to:L})}function M(L){return de(L)}function J(L){return M(ft(C(L),{replace:!0}))}function V(L){const q=L.matched[L.matched.length-1];if(q&&q.redirect){const{redirect:ne}=q;let ae=typeof ne=="function"?ne(L):ne;return typeof ae=="string"&&(ae=ae.includes("?")||ae.includes("#")?ae=C(ae):{path:ae},ae.params={}),ft({query:L.query,hash:L.hash,params:"path"in ae?{}:L.params},ae)}}function de(L,q){const ne=p=T(L),ae=f.value,Oe=L.state,A=L.force,k=L.replace===!0,O=V(ne);if(O)return de(ft(C(O),{state:typeof O=="object"?ft({},Oe,O.state):Oe,force:A,replace:k}),q||ne);const U=ne;U.redirectedFrom=q;let B;return!A&&Fq(i,ae,ne)&&(B=Eu(16,{to:U,from:ae}),Gt(ae,ae,!0,!1)),(B?Promise.resolve(B):x(U,ae)).catch(z=>oi(z)?oi(z,2)?z:Pt(z):be(z,U,ae)).then(z=>{if(z){if(oi(z,2))return de(ft({replace:k},C(z.to),{state:typeof z.to=="object"?ft({},Oe,z.to.state):Oe,force:A}),q||U)}else z=it(U,ae,!0,k,Oe);return He(U,ae,z),z})}function G(L,q){const ne=P(L,q);return ne?Promise.reject(ne):Promise.resolve()}function Q(L){const q=Gn.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(L):L()}function x(L,q){let ne;const[ae,Oe,A]=L$(L,q);ne=ov(ae.reverse(),"beforeRouteLeave",L,q);for(const O of ae)O.leaveGuards.forEach(U=>{ne.push(Fi(U,L,q))});const k=G.bind(null,L,q);return ne.push(k),ve(ne).then(()=>{ne=[];for(const O of s.list())ne.push(Fi(O,L,q));return ne.push(k),ve(ne)}).then(()=>{ne=ov(Oe,"beforeRouteUpdate",L,q);for(const O of Oe)O.updateGuards.forEach(U=>{ne.push(Fi(U,L,q))});return ne.push(k),ve(ne)}).then(()=>{ne=[];for(const O of A)if(O.beforeEnter)if(Nr(O.beforeEnter))for(const U of O.beforeEnter)ne.push(Fi(U,L,q));else ne.push(Fi(O.beforeEnter,L,q));return ne.push(k),ve(ne)}).then(()=>(L.matched.forEach(O=>O.enterCallbacks={}),ne=ov(A,"beforeRouteEnter",L,q),ne.push(k),ve(ne))).then(()=>{ne=[];for(const O of a.list())ne.push(Fi(O,L,q));return ne.push(k),ve(ne)}).catch(O=>oi(O,8)?O:Promise.reject(O))}function He(L,q,ne){l.list().forEach(ae=>Q(()=>ae(L,q,ne)))}function it(L,q,ne,ae,Oe){const A=P(L,q);if(A)return A;const k=q===Ni,O=qs?history.state:{};ne&&(ae||k?o.replace(L.fullPath,ft({scroll:k&&O&&O.scroll},Oe)):o.push(L.fullPath,Oe)),f.value=L,Gt(L,q,ne,k),Pt()}let ot;function Je(){ot||(ot=o.listen((L,q,ne)=>{if(!fe.listening)return;const ae=T(L),Oe=V(ae);if(Oe){de(ft(Oe,{replace:!0}),ae).catch(ja);return}p=ae;const A=f.value;qs&&Kq(tT(A.fullPath,ne.delta),nd()),x(ae,A).catch(k=>oi(k,12)?k:oi(k,2)?(de(k.to,ae).then(O=>{oi(O,20)&&!ne.delta&&ne.type===hc.pop&&o.go(-1,!1)}).catch(ja),Promise.reject()):(ne.delta&&o.go(-ne.delta,!1),be(k,ae,A))).then(k=>{k=k||it(ae,A,!1),k&&(ne.delta&&!oi(k,8)?o.go(-ne.delta,!1):ne.type===hc.pop&&oi(k,20)&&o.go(-1,!1)),He(ae,A,k)}).catch(ja)}))}let We=Sa(),se=Sa(),De;function be(L,q,ne){Pt(L);const ae=se.list();return ae.length?ae.forEach(Oe=>Oe(L,q,ne)):console.error(L),Promise.reject(L)}function xt(){return De&&f.value!==Ni?Promise.resolve():new Promise((L,q)=>{We.add([L,q])})}function Pt(L){return De||(De=!L,Je(),We.list().forEach(([q,ne])=>L?ne(L):q()),We.reset()),L}function Gt(L,q,ne,ae){const{scrollBehavior:Oe}=e;if(!qs||!Oe)return Promise.resolve();const A=!ne&&Gq(tT(L.fullPath,0))||(ae||!ne)&&history.state&&history.state.scroll||null;return Yn().then(()=>Oe(L,q,A)).then(k=>k&&Hq(k)).catch(k=>be(k,L,q))}const Ft=L=>o.go(L);let yt;const Gn=new Set,fe={currentRoute:f,listening:!0,addRoute:y,removeRoute:_,hasRoute:E,getRoutes:I,resolve:T,options:e,push:M,replace:J,go:Ft,back:()=>Ft(-1),forward:()=>Ft(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:se.add,isReady:xt,install(L){const q=this;L.component("RouterLink",C$),L.component("RouterView",P$),L.config.globalProperties.$router=q,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>et(f)}),qs&&!yt&&f.value===Ni&&(yt=!0,M(o.location).catch(Oe=>{}));const ne={};for(const Oe in Ni)Object.defineProperty(ne,Oe,{get:()=>f.value[Oe],enumerable:!0});L.provide(e_,q),L.provide(ax,GT(ne)),L.provide(ig,f);const ae=L.unmount;Gn.add(L),L.unmount=function(){Gn.delete(L),Gn.size<1&&(p=Ni,ot&&ot(),ot=null,f.value=Ni,yt=!1,De=!1),ae()}}};function ve(L){return L.reduce((q,ne)=>q.then(()=>Q(ne)),Promise.resolve())}return fe}function L$(e,t){const n=[],i=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const l=t.matched[a];l&&(e.matched.find(p=>Iu(p,l))?i.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(p=>Iu(p,f))||o.push(f))}return[n,i,o]}const M$={name:"SongItem",props:["song"],data(){return{showForm:!1}}},F$={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"},V$={class:"text-gray-500 text-sm"},U$={class:"text-gray-600 text-lg"},j$=["onClick"],B$=F("i",{class:"fa fa-comments text-gray-600"},null,-1);function q$(e,t,n,i,o,s){const a=kt("router-link");return ze(),ct("li",F$,[F("div",null,[Ae(a,{to:{name:"song",params:{id:n.song.docID}},class:"font-bold block text-gray-600"},{default:tr(()=>[Ki(Bt(n.song.modified_name),1)]),_:1},8,["to"]),F("span",V$,Bt(n.song.display_name),1)]),F("div",U$,[Ae(a,{custom:"",to:{name:"song",params:{id:n.song.docID},hash:"#comments"}},{default:tr(({navigate:l})=>[F("span",{class:"comments",onClick:l},[B$,Ki(" "+Bt(n.song.comment_count),1)],8,j$)]),_:1},8,["to"])])])}const $$=sr(M$,[["render",q$]]),H$="/vue/assets/img/introduction-music.png",K$={name:"Home",components:{SongItem:$$},data(){return{songs:[],maxPerPage:6,pendingRequest:!1}},async created(){await this.getSongs(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n===t&&this.getSongs()},async getSongs(){if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const t=await di.doc(this.songs[this.songs.length-1].docID).get();e=await di.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get(),e.forEach(n=>{this.songs.push({docID:n.id,...n.data()})})}else e=await di.orderBy("modified_name").limit(this.maxPerPage).get(),e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})});this.pendingRequest=!1}}},G$=tD('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Lesson - 205</h1><p class="w-full md:w-8/12 mx-auto"> Login Credentials: test@test.com / qwerty123 </p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+H$+'"></section>',1),z$={class:"container mx-auto"},W$={class:"bg-white rounded border border-gray-200 relative flex flex-col"},X$=F("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[F("span",{class:"card-title"},"Songs"),F("i",{class:"fa fa-headphones-alt float-right text-green-400 text-xl"})],-1),Q$={id:"playlist"};function Y$(e,t,n,i,o,s){const a=kt("SongItem");return ze(),ct("main",null,[G$,F("section",z$,[F("div",W$,[X$,F("ol",Q$,[(ze(!0),ct(en,null,vc(o.songs,l=>(ze(),Js(a,{key:l.docID,song:l},null,8,["song"]))),128))])])])])}const J$=sr(K$,[["render",Y$]]),Z$={name:"About"},eH={class:"container mx-auto"},tH=F("div",{class:"main-header-content p2"},[F("h1",{class:"text-center font-bold text-5xl pt-10 pb-10"},"About Us"),F("p",{class:"w-full md:w-8/12 mx-auto text-center"}," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Porro, saepe! ")],-1),nH=[tH];function rH(e,t,n,i,o,s){return ze(),ct("div",eH,nH)}const iH=sr(Z$,[["render",rH]]),oH={name:"Upload",props:{addSong:{type:Function,required:!0}},data(){return{is_dragover:!1,uploads:[]}},methods:{upload(e){(e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files]).forEach(n=>{if(n.type!=="audio/mpeg")return;const s=Yk.ref().child(`songs/${n.name}`).put(n),a=this.uploads.push({task:s,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;s.on("state_change",l=>{const f=l.bytesTransferred/l.totalBytes*100;this.uploads[a].current_progress=f},l=>{this.uploads[a].variant="bg-red-400",this.uploads[a].icon="fas fa-times",this.uploads[a].text_class="text-red-400",console.log(l)},async()=>{const l={uid:Qr.currentUser.uid,display_name:Qr.currentUser.displayName,original_name:s.snapshot.ref.name,modified_name:s.snapshot.ref.name,genre:"",comment_count:0};l.url=await s.snapshot.ref.getDownloadURL();const p=await(await di.add(l)).get();this.addSong(p),this.uploads[a].variant="bg-green-400",this.uploads[a].icon="fas fa-check",this.uploads[a].text_class="text-green-400"})}),this.is_dragover=!1},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},sH={class:"col-span-1"},uH={class:"bg-white rounded border border-gray-200 relative flex flex-col"},aH=F("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[F("span",{class:"card-title"},"Upload"),F("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),cH={class:"p-6"},lH=F("h5",null,"Drop your files here",-1),fH=[lH],hH=F("hr",{class:"my-6"},null,-1),dH={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function pH(e,t,n,i,o,s){return ze(),ct("div",sH,[F("div",uH,[aH,F("div",cH,[F("div",{onDrag:t[0]||(t[0]=Wt(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Wt(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Wt(a=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Wt(a=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Wt(a=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Wt(a=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Wt(a=>s.upload(a),["prevent","stop"])),class:vn([{"bg-green-400 border-green-400 border-solid":o.is_dragover},"w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid"])},fH,34),F("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=a=>s.upload(a))},null,32),hH,(ze(!0),ct(en,null,vc(o.uploads,a=>(ze(),ct("div",{class:"mb-4",key:a.name},[F("div",{class:vn(["font-bold text-sm",a.text_class])},[F("i",{class:vn(a.icon)},null,2),Ki(" "+Bt(a.name),1)],2),F("div",dH,[F("div",{class:vn(["transition-all progress-bar",a.variant]),style:Go({width:a.current_progress+"%"})},null,6)])]))),128))])])])}const mH=sr(oH,[["render",pH]]),vH={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function},index:{type:Number,required:!0}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_msg:"Please wait! Updating song info."}},methods:{async saveChanges(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_msg="Please wait! Updating song info.";try{await di.doc(this.song.docId).update(e)}catch{this.in_submission=!1,this.show_alert=!0,this.alert_variant="bg-red-500",this.alert_msg="Something went wrong. Try again later.";return}this.updateSong(this.index,e),this.updateUnsavedFlag(!1),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_msg="Success!"},async deleteSong(){await Yk.ref().child(`songs/${this.song.original_name}`).delete(),await di.doc(this.song.docId).delete(),this.removeSong(this.index)}}},gH={class:"border border-gray-200 p-3 mb-4 rounded"},yH={class:"inline-block text-2xl font-bold"},_H=F("i",{class:"fa fa-times"},null,-1),wH=[_H],bH=F("i",{class:"fa fa-pencil-alt"},null,-1),IH=[bH],EH={class:"mb-3"},TH=F("label",{class:"inline-block mb-2"},"Song Title",-1),SH={class:"mb-3"},AH=F("label",{class:"inline-block mb-2"},"Genre",-1),kH=F("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600"}," Submit ",-1);function xH(e,t,n,i,o,s){const a=kt("vee-field"),l=kt("ErrorMessage"),f=kt("vee-form");return ze(),ct("div",gH,[dv(F("div",null,[F("h4",yH,Bt(n.song.modified_name),1),F("button",{onClick:t[0]||(t[0]=Wt((...p)=>s.deleteSong&&s.deleteSong(...p),["prevent"])),class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"},wH),F("button",{onClick:t[1]||(t[1]=Wt(p=>o.showForm=!o.showForm,["prevent"])),class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"},IH)],512),[[uI,!o.showForm]]),dv(F("div",null,[o.show_alert?(ze(),ct("div",{key:0,class:vn(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},Bt(o.alert_msg),3)):eu("",!0),Ae(f,{"validation-schema":o.schema,onSubmit:s.saveChanges,"initial-values":n.song},{default:tr(()=>[F("div",EH,[TH,Ae(a,{name:"modified_name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=p=>n.updateUnsavedFlag(!0))}),Ae(l,{class:"text-red-600",name:"modified_name"})]),F("div",SH,[AH,Ae(a,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=p=>n.updateUnsavedFlag(!0))}),Ae(l,{class:"text-red-600",name:"genre"})]),kH,F("button",{onClick:t[4]||(t[4]=Wt(p=>o.showForm=!o.showForm,["prevent"])),type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600"}," Go Back ")]),_:1},8,["validation-schema","onSubmit","initial-values"])],512),[[uI,o.showForm]])])}const CH=sr(vH,[["render",xH]]),RH={name:"Manage",components:{AppUpload:mH,CompositionItem:CH},data(){return{songs:[],unsavedFlag:!1}},async created(){(await di.where("uid","==",Qr.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docId:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e}},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const i=confirm("You have unsaved changes. Are you sure want to leave?");n(i)}}},OH={class:"container mx-auto mt-6"},NH={class:"md:grid md:grid-cols-3 md:gap-4"},PH={class:"col-span-2"},DH={class:"bg-white rounded border border-gray-200 relative flex flex-col"},LH=F("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[F("span",{class:"card-title"},"My Songs"),F("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"})],-1),MH={class:"p-6"};function FH(e,t,n,i,o,s){const a=kt("AppUpload"),l=kt("CompositionItem");return ze(),ct("section",OH,[F("div",NH,[Ae(a,{ref:"upload",addSong:s.addSong},null,8,["addSong"]),F("div",PH,[F("div",DH,[LH,F("div",MH,[(ze(!0),ct(en,null,vc(o.songs,(f,p)=>(ze(),Js(l,{key:f.docId,song:f,index:p,removeSong:s.removeSong,updateSong:s.updateSong,updateUnsavedFlag:s.updateUnsavedFlag},null,8,["song","index","removeSong","updateSong","updateUnsavedFlag"]))),128))])])])])])}const VH=sr(RH,[["render",FH]]),UH={name:"Song",data(){return{song:{},commentSchema:{comment:"required|min:3"},comments:[],comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Please wait...",sort:"1"}},computed:{...Sf(Mu,["userLoggedIn","playing"]),...Sf(eh,["playing","current_song"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.datePosted)-new Date(e.datePosted):new Date(e.datePosted)-new Date(t.datePosted))}},async created(){const e=await di.doc(this.$route.params.id).get();if(!e.exists){this.$router.push({name:"home"});return}const{sort:t}=this.$route.query;this.sort=t==="1"||t==="2"?t:"1",this.song=e.data(),await this.getComments()},methods:{...wh(eh,{newSong:"newSong",toggleAudio:"toggleAudio"}),getImagePath(e){return`url(/vue/assets/img/${e})`},async addNewComment(e,{resetForm:t}){this.comment_in_submission=!0,this.comment_show_alert=!0,this.comment_alert_variant="bg-blue-500",this.comment_alert_message="Please wait! Your comment is being submitted";const n={content:e.comment,datePosted:new Date().toString(),sid:this.$route.params.id,name:Qr.currentUser.displayName,uid:Qr.currentUser.uid};await YE.add(n),this.song.comment_count+=1,await di.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),await this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant="bg-green-500",this.comment_alert_message="Comment added!",t()},async getComments(){const e=await YE.where("sid","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>{this.comments.push({docID:t.id,...t.data()})})}},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}}},jH={class:"w-full mb-8 py-14 text-center text-white relative"},BH={class:"container mx-auto flex items-center"},qH=F("i",{class:"fas fa-play"},null,-1),$H=[qH],HH={class:"z-50 text-left ml-8"},KH={class:"text-3xl font-bold"},GH={class:"container mx-auto mt-6",id:"comments"},zH={class:"bg-white rounded border border-gray-200 relative flex flex-col"},WH={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},XH={class:"card-title"},QH=F("i",{class:"fa fa-comments float-right text-green-400 text-2xl"},null,-1),YH={class:"p-6"},JH=["disabled"],ZH=F("option",{value:"1"},"Latest",-1),eK=F("option",{value:"2"},"Oldest",-1),tK=[ZH,eK],nK={class:"container mx-auto"},rK={class:"mb-5"},iK={class:"font-bold"};function oK(e,t,n,i,o,s){const a=kt("vee-field"),l=kt("ErrorMessage"),f=kt("vee-form");return ze(),ct("main",null,[F("section",jH,[F("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:Go({backgroundImage:s.getImagePath("song-header.png")})},null,4),F("div",BH,[o.song.uid===e.current_song.uid?(ze(),ct("button",{key:0,onClick:t[0]||(t[0]=Wt((...p)=>e.toggleAudio&&e.toggleAudio(...p),["prevent"])),type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none"},[F("i",{class:vn(["fas",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)])):(ze(),ct("button",{key:1,onClick:t[1]||(t[1]=Wt(p=>e.newSong(o.song),["prevent"])),type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none"},$H)),F("div",HH,[F("div",KH,Bt(o.song.modified_name),1),F("div",null,Bt(o.song.modified_name),1)])])]),F("section",GH,[F("div",zH,[F("div",WH,[F("span",XH,"Comments ("+Bt(o.song.comment_count)+")",1),QH]),F("div",YH,[o.comment_show_alert?(ze(),ct("div",{key:0,class:vn(["text-white text-center font-bold p-4 mb-4",o.comment_alert_variant])},Bt(o.comment_alert_message),3)):eu("",!0),e.userLoggedIn?(ze(),Js(f,{key:1,"validation-schema":o.commentSchema,onSubmit:s.addNewComment},{default:tr(()=>[Ae(a,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-4",placeholder:"Your comment here..."}),Ae(l,{class:"text-red-600",name:"comment"}),F("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Submit ",8,JH)]),_:1},8,["validation-schema","onSubmit"])):eu("",!0),dv(F("select",{"onUpdate:modelValue":t[2]||(t[2]=p=>o.sort=p),class:"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},tK,512),[[OD,o.sort]])])])]),F("ul",nK,[(ze(!0),ct(en,null,vc(s.sortedComments,p=>(ze(),ct("li",{class:"p-6 bg-gray-50 border border-gray-200",key:p.docID},[F("div",rK,[F("div",iK,Bt(p.name),1),F("time",null,Bt(p.datePosted),1)]),F("p",null,Bt(p.content),1)]))),128))])])}const sK=sr(UH,[["render",oK]]),uK=[{name:"home",path:"/",component:J$},{name:"about",path:"/about",component:iH},{name:"manage",path:"/manage",component:VH,meta:{requiresAuth:0}},{name:"song",path:"/song/:id",component:sK},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],cx=D$({history:Qq("/vue"),routes:uK,linkExactActiveClass:"text-yellow-500"});cx.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}Mu().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.12.3
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function sn(e){return typeof e=="function"}function lx(e){return e==null}const ts=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function t_(e){return Number(e)>=0}function aK(e){const t=parseFloat(e);return isNaN(t)?e:t}function cK(e){return typeof e=="object"&&e!==null}function lK(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function fK(e){if(!cK(e)||lK(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function dc(e,t){return Object.keys(t).forEach(n=>{if(fK(t[n])){e[n]||(e[n]={}),dc(e[n],t[n]);return}e[n]=t[n]}),e}function Ra(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let i=1;i<t.length;i++){if(t_(t[i])){n+=`[${t[i]}]`;continue}n+=`.${t[i]}`}return n}const fx={};function Ir(e,t){dK(e,t),fx[e]=t}function hK(e){return fx[e]}function dK(e,t){if(!sn(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function mT(e,t,n){typeof n.value=="object"&&(n.value=dt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function dt(e){if(typeof e!="object")return e;var t=0,n,i,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(dt(a))})):s==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(dt(l),dt(a))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(dt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)mT(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||mT(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}const rd=Symbol("vee-validate-form"),pK=Symbol("vee-validate-field-instance"),nh=Symbol("Default empty value"),mK=typeof window<"u";function og(e){return sn(e)&&!!e.__locatorRef}function Ar(e){return!!e&&sn(e.parse)&&e.__type==="VVTypedSchema"}function rh(e){return!!e&&sn(e.validate)}function Fc(e){return e==="checkbox"||e==="radio"}function vK(e){return ts(e)||Array.isArray(e)}function gK(e){return Array.isArray(e)?e.length===0:ts(e)&&Object.keys(e).length===0}function id(e){return/^\[.+\]$/i.test(e)}function yK(e){return hx(e)&&e.multiple}function hx(e){return e.tagName==="SELECT"}function _K(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function wK(e,t){return!_K(e,t)&&t.type!=="file"&&!Fc(t.type)}function dx(e){return n_(e)&&e.target&&"submit"in e.target}function n_(e){return e?!!(typeof Event<"u"&&sn(Event)&&e instanceof Event||e&&e.srcElement):!1}function vT(e,t){return t in e&&e[t]!==nh}function Nn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!Nn(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!Nn(i[1],t.get(i[0])))return!1;return!0}if(gT(e)&&gT(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,i=n;i--!==0;){var s=o[i];if(!Nn(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function gT(e){return mK?e instanceof File:!1}function r_(e){return id(e)?e.replace(/\[|\]/gi,""):e}function Vn(e,t,n){return e?id(t)?e[r_(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>vK(o)&&s in o?o[s]:n,e):n}function Di(e,t,n){if(id(t)){e[r_(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<i.length;s++){if(s===i.length-1){o[i[s]]=n;return}(!(i[s]in o)||lx(o[i[s]]))&&(o[i[s]]=t_(i[s+1])?[]:{}),o=o[i[s]]}}function sv(e,t){if(Array.isArray(e)&&t_(t)){e.splice(Number(t),1);return}ts(e)&&delete e[t]}function yT(e,t){if(id(t)){delete e[r_(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let s=0;s<n.length;s++){if(s===n.length-1){sv(i,n[s]);break}if(!(n[s]in i)||lx(i[n[s]]))break;i=i[n[s]]}const o=n.map((s,a)=>Vn(e,n.slice(0,a).join(".")));for(let s=o.length-1;s>=0;s--)if(gK(o[s])){if(s===0){sv(e,n[0]);continue}sv(o[s-1],n[s-1])}}function fr(e){return Object.keys(e)}function px(e,t=void 0){const n=gh();return(n==null?void 0:n.provides[e])||mr(e,t)}function _T(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(s=>Nn(s,t));return o>=0?i.splice(o,1):i.push(t),i}return Nn(e,t)?n:t}function wT(e,t=0){let n=null,i=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const s=e(...o);i.forEach(a=>a(s)),i=[]},t),new Promise(s=>i.push(s))}}function bK(e,t){return ts(t)&&t.number?aK(e):e}function sg(e,t){let n;return async function(...o){const s=e(...o);n=s;const a=await s;return s!==n?a:(n=void 0,t(a,o))}}function ug(e){return Array.isArray(e)?e:e?[e]:[]}function rf(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}function IK(e){let t=null,n=[];return function(...i){const o=Yn(()=>{if(t!==o)return;const s=e(...i);n.forEach(a=>a(s)),n=[],t=null});return t=o,new Promise(s=>n.push(s))}}function i_(e,t,n){return t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default}function uv(e){if(mx(e))return e._value}function mx(e){return"_value"in e}function EK(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function ih(e){if(!n_(e))return e;const t=e.target;if(Fc(t.type)&&mx(t))return uv(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(yK(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(uv);if(hx(t)){const n=Array.from(t.options).find(i=>i.selected);return n?uv(n):t.value}return EK(t)}function vx(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?ts(e)&&e._$$isNormalized?e:ts(e)?Object.keys(e).reduce((n,i)=>{const o=TK(e[i]);return e[i]!==!1&&(n[i]=bT(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=SK(i);return o.name&&(n[o.name]=bT(o.params)),n},t):t}function TK(e){return e===!0?[]:Array.isArray(e)||ts(e)?e:[e]}function bT(e){const t=n=>typeof n=="string"&&n[0]==="@"?AK(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const SK=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function AK(e){const t=n=>Vn(n,e)||n[e];return t.__locatorRef=e,t}function kK(e){return Array.isArray(e)?e.filter(og):fr(e).filter(t=>og(e[t])).map(t=>e[t])}const xK={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let ag=Object.assign({},xK);const Vo=()=>ag,CK=e=>{ag=Object.assign(Object.assign({},ag),e)},RK=CK;async function gx(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await OK(o,e)).errors;return{errors:a,valid:!a.length}}async function OK(e,t){if(Ar(e.rules)||rh(e.rules))return PK(t,e.rules);if(sn(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,p=[];for(let v=0;v<f;v++){const h=l[v],m=await h(t,a);if(!(typeof m!="string"&&!Array.isArray(m)&&m)){if(Array.isArray(m))p.push(...m);else{const _=typeof m=="string"?m:_x(a);p.push(_)}if(e.bails)return{errors:p}}}return{errors:p}}const n=Object.assign(Object.assign({},e),{rules:vx(e.rules)}),i=[],o=Object.keys(n.rules),s=o.length;for(let a=0;a<s;a++){const l=o[a],f=await DK(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}function NK(e){return!!e&&e.name==="ValidationError"}function yx(e){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!NK(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(s)}}}}}async function PK(e,t){const i=await(Ar(t)?t:yx(t)).parse(e),o=[];for(const s of i.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function DK(e,t,n){const i=hK(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=LK(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(t,o,s);return typeof a=="string"?{error:a}:{error:a?void 0:_x(s)}}function _x(e){const t=Vo().generateMessage;return t?t(e):"Field is invalid"}function LK(e,t){const n=i=>og(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function MK(e,t){const i=await(Ar(e)?e:yx(e)).parse(dt(t)),o={},s={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(p,v)=>`[${v}]`);o[f]={valid:!l.length,errors:l},l.length&&(s[f]=l[0])}return{valid:!i.errors.length,results:o,errors:s,values:i.value}}async function FK(e,t,n){const o=fr(e).map(async p=>{var v,h,m;const y=(v=n==null?void 0:n.names)===null||v===void 0?void 0:v[p],_=await gx(Vn(t,p),e[p],{name:(y==null?void 0:y.name)||p,label:y==null?void 0:y.label,values:t,bails:(m=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[p])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},_),{path:p})});let s=!0;const a=await Promise.all(o),l={},f={};for(const p of a)l[p.path]={valid:p.valid,errors:p.errors},p.valid||(s=!1,f[p.path]=p.errors[0]);return{valid:s,results:l,errors:f}}let IT=0;function VK(e,t){const{value:n,initialValue:i,setInitialValue:o}=UK(e,t.modelValue,t.form);if(!t.form){let f=function(y){var _;"value"in y&&(n.value=y.value),"errors"in y&&v(y.errors),"touched"in y&&(m.touched=(_=y.touched)!==null&&_!==void 0?_:m.touched),"initialValue"in y&&o(y.initialValue)};const{errors:p,setErrors:v}=qK(),h=IT>=Number.MAX_SAFE_INTEGER?0:++IT,m=BK(n,i,p,t.schema);return{id:h,path:e,value:n,initialValue:i,meta:m,flags:{pendingUnmount:{[h]:!1},pendingReset:!1},errors:p,setState:f}}const s=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate,schema:t.schema}),a=Fe(()=>s.errors);function l(f){var p,v,h;"value"in f&&(n.value=f.value),"errors"in f&&((p=t.form)===null||p===void 0||p.setFieldError(et(e),f.errors)),"touched"in f&&((v=t.form)===null||v===void 0||v.setFieldTouched(et(e),(h=f.touched)!==null&&h!==void 0?h:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:e,value:n,errors:a,meta:s,initialValue:i,flags:s.__flags,setState:l}}function UK(e,t,n){const i=kn(et(t));function o(){return n?Vn(n.initialValues.value,et(e),et(i)):et(i)}function s(p){if(!n){i.value=p;return}n.setFieldInitialValue(et(e),p,!0)}const a=Fe(o);if(!n)return{value:kn(o()),initialValue:a,setInitialValue:s};const l=jK(t,n,a,e);return n.stageInitialValue(et(e),l,!0),{value:Fe({get(){return Vn(n.values,et(e))},set(p){n.setFieldValue(et(e),p,!1)}}),initialValue:a,setInitialValue:s}}function jK(e,t,n,i){return vt(e)?et(e):e!==void 0?e:Vn(t.values,et(i),et(n))}function BK(e,t,n,i){var o,s;const a=(s=(o=i==null?void 0:i.describe)===null||o===void 0?void 0:o.call(i).required)!==null&&s!==void 0?s:!1,l=pi({touched:!1,pending:!1,valid:!0,required:a,validated:!!et(n).length,initialValue:Fe(()=>et(t)),dirty:Fe(()=>!Nn(et(e),et(t)))});return pr(n,f=>{l.valid=!f.length},{immediate:!0,flush:"sync"}),l}function qK(){const e=kn([]);return{errors:e,setErrors:t=>{e.value=ug(t)}}}function $K(e,t,n){return Fc(n==null?void 0:n.type)?KK(e,t,n):wx(e,t,n)}function wx(e,t,n){const{initialValue:i,validateOnMount:o,bails:s,type:a,checkedValue:l,label:f,validateOnValueUpdate:p,uncheckedValue:v,controlled:h,keepValueOnUnmount:m,syncVModel:y,form:_}=HK(n),I=h?px(rd):void 0,E=_||I,T=Fe(()=>Ra(st(e))),C=Fe(()=>{if(st(E==null?void 0:E.schema))return;const ve=et(t);return rh(ve)||Ar(ve)||sn(ve)||Array.isArray(ve)?ve:vx(ve)}),{id:P,value:M,initialValue:J,meta:V,setState:de,errors:G,flags:Q}=VK(T,{modelValue:i,form:E,bails:s,label:f,type:a,validate:C.value?We:void 0,schema:Ar(t)?t:void 0}),x=Fe(()=>G.value[0]);y&&GK({value:M,prop:y,handleChange:se,shouldValidate:()=>p&&!Q.pendingReset});const He=(fe,ve=!1)=>{V.touched=!0,ve&&ot()};async function it(fe){var ve,L;if(E!=null&&E.validateSchema){const{results:q}=await E.validateSchema(fe);return(ve=q[st(T)])!==null&&ve!==void 0?ve:{valid:!0,errors:[]}}return C.value?gx(M.value,C.value,{name:st(T),label:st(f),values:(L=E==null?void 0:E.values)!==null&&L!==void 0?L:{},bails:s}):{valid:!0,errors:[]}}const ot=sg(async()=>(V.pending=!0,V.validated=!0,it("validated-only")),fe=>(Q.pendingUnmount[yt.id]||(de({errors:fe.errors}),V.pending=!1,V.valid=fe.valid),fe)),Je=sg(async()=>it("silent"),fe=>(V.valid=fe.valid,fe));function We(fe){return(fe==null?void 0:fe.mode)==="silent"?Je():ot()}function se(fe,ve=!0){const L=ih(fe);Pt(L,ve)}Ag(()=>{if(o)return ot();(!E||!E.validateSchema)&&Je()});function De(fe){V.touched=fe}function be(fe){var ve;const L=fe&&"value"in fe?fe.value:J.value;de({value:dt(L),initialValue:dt(L),touched:(ve=fe==null?void 0:fe.touched)!==null&&ve!==void 0?ve:!1,errors:(fe==null?void 0:fe.errors)||[]}),V.pending=!1,V.validated=!1,Je()}const xt=gh();function Pt(fe,ve=!0){M.value=xt&&y?bK(fe,xt.props.modelModifiers):fe,(ve?ot:Je)()}function Gt(fe){de({errors:Array.isArray(fe)?fe:[fe]})}const Ft=Fe({get(){return M.value},set(fe){Pt(fe,p)}}),yt={id:P,name:T,label:f,value:Ft,meta:V,errors:G,errorMessage:x,type:a,checkedValue:l,uncheckedValue:v,bails:s,keepValueOnUnmount:m,resetField:be,handleReset:()=>be(),validate:We,handleChange:se,handleBlur:He,setState:de,setTouched:De,setErrors:Gt,setValue:Pt};if(Ws(pK,yt),vt(t)&&typeof et(t)!="function"&&pr(t,(fe,ve)=>{Nn(fe,ve)||(V.validated?ot():Je())},{deep:!0}),!E)return yt;const Gn=Fe(()=>{const fe=C.value;return!fe||sn(fe)||rh(fe)||Ar(fe)||Array.isArray(fe)?{}:Object.keys(fe).reduce((ve,L)=>{const q=kK(fe[L]).map(ne=>ne.__locatorRef).reduce((ne,ae)=>{const Oe=Vn(E.values,ae)||E.values[ae];return Oe!==void 0&&(ne[ae]=Oe),ne},{});return Object.assign(ve,q),ve},{})});return pr(Gn,(fe,ve)=>{if(!Object.keys(fe).length)return;!Nn(fe,ve)&&(V.validated?ot():Je())}),fS(()=>{var fe;const ve=(fe=st(yt.keepValueOnUnmount))!==null&&fe!==void 0?fe:st(E.keepValuesOnUnmount),L=st(T);if(ve||!E||Q.pendingUnmount[yt.id]){E==null||E.removePathState(L,P);return}Q.pendingUnmount[yt.id]=!0;const q=E.getPathState(L);if(Array.isArray(q==null?void 0:q.id)&&(q!=null&&q.multiple)?q!=null&&q.id.includes(yt.id):(q==null?void 0:q.id)===yt.id){if(q!=null&&q.multiple&&Array.isArray(q.value)){const ae=q.value.findIndex(Oe=>Nn(Oe,st(yt.checkedValue)));if(ae>-1){const Oe=[...q.value];Oe.splice(ae,1),E.setFieldValue(L,Oe)}Array.isArray(q.id)&&q.id.splice(q.id.indexOf(yt.id),1)}else E.unsetPathValue(st(T));E.removePathState(L,P)}}),yt}function HK(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),i=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?cg(gh(),i):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:a??!0,checkedValue:s,syncVModel:l})}function KK(e,t,n){const i=n!=null&&n.standalone?void 0:px(rd),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,p=Fe(()=>{const h=st(l.value),m=st(o);return Array.isArray(h)?h.findIndex(y=>Nn(y,m))>=0:Nn(m,h)});function v(h,m=!0){var y,_;if(p.value===((y=h==null?void 0:h.target)===null||y===void 0?void 0:y.checked)){m&&l.validate();return}const I=st(e),E=i==null?void 0:i.getPathState(I),T=ih(h);let C=(_=st(o))!==null&&_!==void 0?_:T;i&&(E!=null&&E.multiple)&&E.type==="checkbox"?C=_T(Vn(i.values,I)||[],C,void 0):(n==null?void 0:n.type)==="checkbox"&&(C=_T(st(l.value),C,st(s))),f(C,m)}return Object.assign(Object.assign({},l),{checked:p,checkedValue:o,uncheckedValue:s,handleChange:v})}return a(wx(e,t,n))}function GK({prop:e,value:t,handleChange:n,shouldValidate:i}){const o=gh();if(!o||!e)return;const s=typeof e=="string"?e:"modelValue",a=`update:${s}`;s in o.props&&(pr(t,l=>{Nn(l,cg(o,s))||o.emit(a,l)}),pr(()=>cg(o,s),l=>{if(l===nh&&t.value===void 0)return;const f=l===nh?void 0:l;Nn(f,t.value)||n(f,i())}))}function cg(e,t){if(e)return e.props[t]}const zK=mc({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Vo().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:nh},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Co(e,"rules"),i=Co(e,"name"),o=Co(e,"label"),s=Co(e,"uncheckedValue"),a=Co(e,"keepValue"),{errors:l,value:f,errorMessage:p,validate:v,handleChange:h,handleBlur:m,setTouched:y,resetField:_,handleReset:I,meta:E,checked:T,setErrors:C}=$K(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:XK(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:a,syncVModel:!0}),P=function(Q,x=!0){h(Q,x)},M=Fe(()=>{const{validateOnInput:G,validateOnChange:Q,validateOnBlur:x,validateOnModelUpdate:He}=WK(e);function it(se){m(se,x),sn(t.attrs.onBlur)&&t.attrs.onBlur(se)}function ot(se){P(se,G),sn(t.attrs.onInput)&&t.attrs.onInput(se)}function Je(se){P(se,Q),sn(t.attrs.onChange)&&t.attrs.onChange(se)}const We={name:e.name,onBlur:it,onInput:ot,onChange:Je};return We["onUpdate:modelValue"]=se=>P(se,He),We}),J=Fe(()=>{const G=Object.assign({},M.value);Fc(t.attrs.type)&&T&&(G.checked=T.value);const Q=ET(e,t);return wK(Q,t.attrs)&&(G.value=f.value),G}),V=Fe(()=>Object.assign(Object.assign({},M.value),{modelValue:f.value}));function de(){return{field:J.value,componentField:V.value,value:f.value,meta:E,errors:l.value,errorMessage:p.value,validate:v,resetField:_,handleChange:P,handleInput:G=>P(G,!1),handleReset:I,handleBlur:M.value.onBlur,setTouched:y,setErrors:C}}return t.expose({value:f,meta:E,errors:l,errorMessage:p,setErrors:C,setTouched:y,reset:_,validate:v,handleChange:h}),()=>{const G=Tg(ET(e,t)),Q=i_(G,t,de);return G?nu(G,Object.assign(Object.assign({},t.attrs),J.value),Q):Q}}});function ET(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function WK(e){var t,n,i,o;const{validateOnInput:s,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Vo();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function XK(e,t){return Fc(t.attrs.type)?vT(e,"modelValue")?e.modelValue:void 0:vT(e,"modelValue")?e.modelValue:t.attrs.value}const QK=zK;let YK=0;const of=["bails","fieldsCount","id","multiple","type","validate"];function bx(e){const t=Object.assign({},st((e==null?void 0:e.initialValues)||{})),n=et(e==null?void 0:e.validationSchema);return n&&Ar(n)&&sn(n.cast)?dt(n.cast(t)||{}):dt(t)}function JK(e){var t;const n=YK++;let i=0;const o=kn(!1),s=kn(!1),a=kn(0),l=[],f=pi(bx(e)),p=kn([]),v=kn({}),h=kn({}),m=IK(()=>{h.value=p.value.reduce((R,N)=>(R[Ra(st(N.path))]=N,R),{})});function y(R,N){const K=se(R);if(!K){typeof R=="string"&&(v.value[Ra(R)]=ug(N));return}if(typeof R=="string"){const te=Ra(R);v.value[te]&&delete v.value[te]}K.errors=ug(N),K.valid=!K.errors.length}function _(R){fr(R).forEach(N=>{y(N,R[N])})}e!=null&&e.initialErrors&&_(e.initialErrors);const I=Fe(()=>{const R=p.value.reduce((N,K)=>(K.errors.length&&(N[K.path]=K.errors),N),{});return Object.assign(Object.assign({},v.value),R)}),E=Fe(()=>fr(I.value).reduce((R,N)=>{const K=I.value[N];return K!=null&&K.length&&(R[N]=K[0]),R},{})),T=Fe(()=>p.value.reduce((R,N)=>(R[N.path]={name:N.path||"",label:N.label||""},R),{})),C=Fe(()=>p.value.reduce((R,N)=>{var K;return R[N.path]=(K=N.bails)!==null&&K!==void 0?K:!0,R},{})),P=Object.assign({},(e==null?void 0:e.initialErrors)||{}),M=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:J,originalInitialValues:V,setInitialValues:de}=e4(p,f,e),G=ZK(p,f,V,E),Q=Fe(()=>p.value.reduce((R,N)=>{const K=Vn(f,N.path);return Di(R,N.path,K),R},{})),x=e==null?void 0:e.validationSchema;function He(R,N){var K,te;const Se=Fe(()=>Vn(J.value,st(R))),me=h.value[st(R)],ke=(N==null?void 0:N.type)==="checkbox"||(N==null?void 0:N.type)==="radio";if(me&&ke){me.multiple=!0;const Rt=i++;return Array.isArray(me.id)?me.id.push(Rt):me.id=[me.id,Rt],me.fieldsCount++,me.__flags.pendingUnmount[Rt]=!1,me}const Qe=Fe(()=>Vn(f,st(R))),Be=st(R),nn=Fe(()=>{var Rt,Pr,_i,Fu,Dr,ls;return Ar(x)?(_i=(Pr=(Rt=x).describe)===null||Pr===void 0?void 0:Pr.call(Rt,st(R)).required)!==null&&_i!==void 0?_i:!1:Ar(N==null?void 0:N.schema)&&(ls=(Dr=(Fu=N==null?void 0:N.schema).describe)===null||Dr===void 0?void 0:Dr.call(Fu).required)!==null&&ls!==void 0?ls:!1}),qe=i++,Ct=pi({id:qe,path:R,touched:!1,pending:!1,valid:!0,validated:!!(!((K=P[Be])===null||K===void 0)&&K.length),required:nn,initialValue:Se,errors:QT([]),bails:(te=N==null?void 0:N.bails)!==null&&te!==void 0?te:!1,label:N==null?void 0:N.label,type:(N==null?void 0:N.type)||"default",value:Qe,multiple:!1,__flags:{pendingUnmount:{[qe]:!1},pendingReset:!1},fieldsCount:1,validate:N==null?void 0:N.validate,dirty:Fe(()=>!Nn(et(Qe),et(Se)))});return p.value.push(Ct),h.value[Be]=Ct,m(),E.value[Be]&&!P[Be]&&Yn(()=>{Z(Be,{mode:"silent"})}),vt(R)&&pr(R,Rt=>{m();const Pr=dt(Qe.value);h.value[Rt]=Ct,Yn(()=>{Di(f,Rt,Pr)})}),Ct}const it=wT(le,5),ot=wT(le,5),Je=sg(async R=>await(R==="silent"?it():ot()),(R,[N])=>{const K=fr(ve.errorBag.value),Se=[...new Set([...fr(R.results),...p.value.map(me=>me.path),...K])].sort().reduce((me,ke)=>{var Qe;const Be=ke,nn=se(Be)||De(Be),qe=((Qe=R.results[Be])===null||Qe===void 0?void 0:Qe.errors)||[],Ct=st(nn==null?void 0:nn.path)||Be,Rt=t4({errors:qe,valid:!qe.length},me.results[Ct]);return me.results[Ct]=Rt,Rt.valid||(me.errors[Ct]=Rt.errors[0]),nn&&v.value[Ct]&&delete v.value[Ct],nn?(nn.valid=Rt.valid,N==="silent"||N==="validated-only"&&!nn.validated||y(nn,Rt.errors),me):(y(Ct,qe),me)},{valid:R.valid,results:{},errors:{}});return R.values&&(Se.values=R.values),Se});function We(R){p.value.forEach(R)}function se(R){const N=typeof R=="string"?Ra(R):R;return typeof N=="string"?h.value[N]:N}function De(R){return p.value.filter(K=>R.startsWith(K.path)).reduce((K,te)=>K?te.path.length>K.path.length?te:K:te,void 0)}let be=[],xt;function Pt(R){return be.push(R),xt||(xt=Yn(()=>{[...be].sort().reverse().forEach(K=>{yT(f,K)}),be=[],xt=null})),xt}function Gt(R){return function(K,te){return function(me){return me instanceof Event&&(me.preventDefault(),me.stopPropagation()),We(ke=>ke.touched=!0),o.value=!0,a.value++,re().then(ke=>{const Qe=dt(f);if(ke.valid&&typeof K=="function"){const Be=dt(Q.value);let nn=R?Be:Qe;return ke.values&&(nn=ke.values),K(nn,{evt:me,controlledValues:Be,setErrors:_,setFieldError:y,setTouched:U,setFieldTouched:Oe,setValues:ne,setFieldValue:L,resetForm:z,resetField:B})}!ke.valid&&typeof te=="function"&&te({values:Qe,evt:me,errors:ke.errors,results:ke.results})}).then(ke=>(o.value=!1,ke),ke=>{throw o.value=!1,ke})}}}const yt=Gt(!1);yt.withControlled=Gt(!0);function Gn(R,N){const K=p.value.findIndex(Se=>Se.path===R),te=p.value[K];if(!(K===-1||!te)){if(Yn(()=>{Z(R,{mode:"silent",warn:!1})}),te.multiple&&te.fieldsCount&&te.fieldsCount--,Array.isArray(te.id)){const Se=te.id.indexOf(N);Se>=0&&te.id.splice(Se,1),delete te.__flags.pendingUnmount[N]}(!te.multiple||te.fieldsCount<=0)&&(p.value.splice(K,1),oe(R),m(),delete h.value[R])}}function fe(R){fr(h.value).forEach(N=>{N.startsWith(R)&&delete h.value[N]}),p.value=p.value.filter(N=>!N.path.startsWith(R)),Yn(()=>{m()})}const ve={formId:n,values:f,controlledValues:Q,errorBag:I,errors:E,schema:x,submitCount:a,meta:G,isSubmitting:o,isValidating:s,fieldArrays:l,keepValuesOnUnmount:M,validateSchema:et(x)?Je:void 0,validate:re,setFieldError:y,validateField:Z,setFieldValue:L,setValues:ne,setErrors:_,setFieldTouched:Oe,setTouched:U,resetForm:z,resetField:B,handleSubmit:yt,useFieldModel:Ue,defineInputBinds:Ie,defineComponentBinds:Xe,defineField:Re,stageInitialValue:Y,unsetInitialValue:oe,setFieldInitialValue:ge,createPathState:He,getPathState:se,unsetPathValue:Pt,removePathState:Gn,initialValues:J,getAllPathStates:()=>p.value,destroyPath:fe,isFieldTouched:A,isFieldDirty:k,isFieldValid:O};function L(R,N,K=!0){const te=dt(N),Se=typeof R=="string"?R:R.path;se(Se)||He(Se),Di(f,Se,te),K&&Z(Se)}function q(R,N=!0){fr(f).forEach(K=>{delete f[K]}),fr(R).forEach(K=>{L(K,R[K],!1)}),N&&re()}function ne(R,N=!0){dc(f,R),l.forEach(K=>K&&K.reset()),N&&re()}function ae(R,N){const K=se(st(R))||He(R);return Fe({get(){return K.value},set(te){var Se;const me=st(R);L(me,te,(Se=st(N))!==null&&Se!==void 0?Se:!1)}})}function Oe(R,N){const K=se(R);K&&(K.touched=N)}function A(R){const N=se(R);return N?N.touched:p.value.filter(K=>K.path.startsWith(R)).some(K=>K.touched)}function k(R){const N=se(R);return N?N.dirty:p.value.filter(K=>K.path.startsWith(R)).some(K=>K.dirty)}function O(R){const N=se(R);return N?N.valid:p.value.filter(K=>K.path.startsWith(R)).every(K=>K.valid)}function U(R){if(typeof R=="boolean"){We(N=>{N.touched=R});return}fr(R).forEach(N=>{Oe(N,!!R[N])})}function B(R,N){var K;const te=N&&"value"in N?N.value:Vn(J.value,R),Se=se(R);Se&&(Se.__flags.pendingReset=!0),ge(R,dt(te),!0),L(R,te,!1),Oe(R,(K=N==null?void 0:N.touched)!==null&&K!==void 0?K:!1),y(R,(N==null?void 0:N.errors)||[]),Yn(()=>{Se&&(Se.__flags.pendingReset=!1)})}function z(R,N){let K=dt(R!=null&&R.values?R.values:V.value);K=N!=null&&N.force?K:dc(V.value,K),K=Ar(x)&&sn(x.cast)?x.cast(K):K,de(K),We(te=>{var Se;te.__flags.pendingReset=!0,te.validated=!1,te.touched=((Se=R==null?void 0:R.touched)===null||Se===void 0?void 0:Se[te.path])||!1,L(te.path,Vn(K,te.path),!1),y(te.path,void 0)}),N!=null&&N.force?q(K,!1):ne(K,!1),_((R==null?void 0:R.errors)||{}),a.value=(R==null?void 0:R.submitCount)||0,Yn(()=>{re({mode:"silent"}),We(te=>{te.__flags.pendingReset=!1})})}async function re(R){const N=(R==null?void 0:R.mode)||"force";if(N==="force"&&We(me=>me.validated=!0),ve.validateSchema)return ve.validateSchema(N);s.value=!0;const K=await Promise.all(p.value.map(me=>me.validate?me.validate(R).then(ke=>({key:me.path,valid:ke.valid,errors:ke.errors})):Promise.resolve({key:me.path,valid:!0,errors:[]})));s.value=!1;const te={},Se={};for(const me of K)te[me.key]={valid:me.valid,errors:me.errors},me.errors.length&&(Se[me.key]=me.errors[0]);return{valid:K.every(me=>me.valid),results:te,errors:Se}}async function Z(R,N){var K;const te=se(R);if(te&&(N==null?void 0:N.mode)!=="silent"&&(te.validated=!0),x){const{results:Se}=await Je((N==null?void 0:N.mode)||"validated-only");return Se[R]||{errors:[],valid:!0}}return te!=null&&te.validate?te.validate(N):(!te&&(K=N==null?void 0:N.warn),Promise.resolve({errors:[],valid:!0}))}function oe(R){yT(J.value,R)}function Y(R,N,K=!1){ge(R,N),Di(f,R,N),K&&!(e!=null&&e.initialValues)&&Di(V.value,R,dt(N))}function ge(R,N,K=!1){Di(J.value,R,dt(N)),K&&Di(V.value,R,dt(N))}async function le(){const R=et(x);if(!R)return{valid:!0,results:{},errors:{}};s.value=!0;const N=rh(R)||Ar(R)?await MK(R,f):await FK(R,f,{names:T.value,bailsMap:C.value});return s.value=!1,N}const _e=yt((R,{evt:N})=>{dx(N)&&N.target.submit()});Ag(()=>{if(e!=null&&e.initialErrors&&_(e.initialErrors),e!=null&&e.initialTouched&&U(e.initialTouched),e!=null&&e.validateOnMount){re();return}ve.validateSchema&&ve.validateSchema("silent")}),vt(x)&&pr(x,()=>{var R;(R=ve.validateSchema)===null||R===void 0||R.call(ve,"validated-only")}),Ws(rd,ve);function Re(R,N){const K=sn(N)||N==null?void 0:N.label,te=se(st(R))||He(R,{label:K}),Se=()=>sn(N)?N(rf(te,of)):N||{};function me(){var qe;te.touched=!0,((qe=Se().validateOnBlur)!==null&&qe!==void 0?qe:Vo().validateOnBlur)&&Z(te.path)}function ke(){var qe;((qe=Se().validateOnInput)!==null&&qe!==void 0?qe:Vo().validateOnInput)&&Yn(()=>{Z(te.path)})}function Qe(){var qe;((qe=Se().validateOnChange)!==null&&qe!==void 0?qe:Vo().validateOnChange)&&Yn(()=>{Z(te.path)})}const Be=Fe(()=>{const qe={onChange:Qe,onInput:ke,onBlur:me};return sn(N)?Object.assign(Object.assign({},qe),N(rf(te,of)).props||{}):N!=null&&N.props?Object.assign(Object.assign({},qe),N.props(rf(te,of))):qe});return[ae(R,()=>{var qe,Ct,Rt;return(Rt=(qe=Se().validateOnModelUpdate)!==null&&qe!==void 0?qe:(Ct=Vo())===null||Ct===void 0?void 0:Ct.validateOnModelUpdate)!==null&&Rt!==void 0?Rt:!0}),Be]}function Ue(R){return Array.isArray(R)?R.map(N=>ae(N,!0)):ae(R)}function Ie(R,N){const[K,te]=Re(R,N);function Se(Qe){te.value.onBlur(Qe)}function me(Qe){const Be=ih(Qe);L(st(R),Be,!1),te.value.onInput(Qe)}function ke(Qe){const Be=ih(Qe);L(st(R),Be,!1),te.value.onChange(Qe)}return Fe(()=>Object.assign(Object.assign({},te.value),{onBlur:Se,onInput:me,onChange:ke,value:K.value}))}function Xe(R,N){const[K,te]=Re(R,N),Se=se(st(R));function me(ke){K.value=ke}return Fe(()=>{const ke=sn(N)?N(rf(Se,of)):N||{};return Object.assign({[ke.model||"modelValue"]:K.value,[`onUpdate:${ke.model||"modelValue"}`]:me},te.value)})}return Object.assign(Object.assign({},ve),{values:yg(f),handleReset:()=>z(),submitForm:_e})}function ZK(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},s=Fe(()=>!Nn(t,et(n)));function a(){const f=e.value;return fr(o).reduce((p,v)=>{const h=o[v];return p[v]=f[h](m=>m[v]),p},{})}const l=pi(a());return bP(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Fe(()=>Object.assign(Object.assign({initialValues:et(n)},l),{valid:l.valid&&!fr(i.value).length,dirty:s.value}))}function e4(e,t,n){const i=bx(n),o=kn(i),s=kn(dt(i));function a(l,f=!1){o.value=dc(dt(o.value)||{},dt(l)),s.value=dc(dt(s.value)||{},dt(l)),f&&e.value.forEach(p=>{if(p.touched)return;const h=Vn(o.value,p.path);Di(t,p.path,dt(h))})}return{initialValues:o,originalInitialValues:s,setInitialValues:a}}function t4(e,t){return t?{valid:e.valid&&t.valid,errors:[...e.errors,...t.errors]}:e}const n4=mc({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Co(e,"validationSchema"),i=Co(e,"keepValues"),{errors:o,errorBag:s,values:a,meta:l,isSubmitting:f,isValidating:p,submitCount:v,controlledValues:h,validate:m,validateField:y,handleReset:_,resetForm:I,handleSubmit:E,setErrors:T,setFieldError:C,setFieldValue:P,setValues:M,setFieldTouched:J,setTouched:V,resetField:de}=JK({validationSchema:n.value?n:void 0,initialValues:e.initialValues,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:i}),G=E((se,{evt:De})=>{dx(De)&&De.target.submit()},e.onInvalidSubmit),Q=e.onSubmit?E(e.onSubmit,e.onInvalidSubmit):G;function x(se){n_(se)&&se.preventDefault(),_(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function He(se,De){return E(typeof se=="function"&&!De?se:De,e.onInvalidSubmit)(se)}function it(){return dt(a)}function ot(){return dt(l.value)}function Je(){return dt(o.value)}function We(){return{meta:l.value,errors:o.value,errorBag:s.value,values:a,isSubmitting:f.value,isValidating:p.value,submitCount:v.value,controlledValues:h.value,validate:m,validateField:y,handleSubmit:He,handleReset:_,submitForm:G,setErrors:T,setFieldError:C,setFieldValue:P,setValues:M,setFieldTouched:J,setTouched:V,resetForm:I,resetField:de,getValues:it,getMeta:ot,getErrors:Je}}return t.expose({setFieldError:C,setErrors:T,setFieldValue:P,setValues:M,setFieldTouched:J,setTouched:V,resetForm:I,validate:m,validateField:y,resetField:de,getValues:it,getMeta:ot,getErrors:Je,values:a,meta:l,errors:o}),function(){const De=e.as==="form"?e.as:e.as?Tg(e.as):null,be=i_(De,t,We);return De?nu(De,Object.assign(Object.assign(Object.assign({},De==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:Q,onReset:x}),be):be}}}),r4=n4,i4=mc({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=mr(rd,void 0),i=Fe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const s=e.as?Tg(e.as):e.as,a=i_(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?nu(s||"span",l,i.value):nu(s,l,a)}}}),o4=i4;/**
  * vee-validate v4.12.3
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const sf={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,kz:/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},s4=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Vc(e,t){return Array.isArray(e)?e[0]:e[t]}function io(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const Ix=(e,t)=>{if(io(e))return!0;const n=s4(t);if(Array.isArray(e))return e.every(o=>Ix(o,{locale:n}));const i=String(e);return n?(sf[n]||sf.en).test(i):Object.keys(sf).some(o=>sf[o].test(i))},u4=(e,t)=>{const n=Vc(t,"target");return String(e)===String(n)},TT=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,a4=e=>io(e)?!0:Array.isArray(e)?e.every(t=>TT.test(String(t))):TT.test(String(e)),Ex=(e,t)=>{if(io(e))return!0;const n=Vc(t,"length");return Array.isArray(e)?e.every(i=>Ex(i,{length:n})):[...String(e)].length<=Number(n)},Tx=(e,t)=>{if(io(e))return!0;const n=Vc(t,"max");return Array.isArray(e)?e.length>0&&e.every(i=>Tx(i,{max:n})):Number(e)<=Number(n)},Sx=(e,t)=>{if(io(e))return!0;const n=Vc(t,"length");return Array.isArray(e)?e.every(i=>Sx(i,{length:n})):[...String(e)].length>=Number(n)},Ax=(e,t)=>{if(io(e))return!0;const n=Vc(t,"min");return Array.isArray(e)?e.length>0&&e.every(i=>Ax(i,{min:n})):Number(e)>=Number(n)},kx=(e,t)=>io(e)?!0:Array.isArray(e)?e.every(n=>kx(n,t)):Array.from(t).some(n=>n==e),ST=(e,t)=>io(e)?!0:!kx(e,t);function c4(e){return e==null}function l4(e){return Array.isArray(e)&&e.length===0}const AT=e=>c4(e)||l4(e)||e===!1?!1:!!String(e).trim().length,f4={install(e){e.component("VeeForm",r4),e.component("VeeField",QK),e.component("ErrorMessage",o4),Ir("required",AT),Ir("tos",AT),Ir("min",Sx),Ir("max",Ex),Ir("alpha_spaces",Ix),Ir("email",a4),Ir("min_value",Ax),Ir("max_value",Tx),Ir("password_mismatch",u4),Ir("not_one_of",ST),Ir("country_excluded",ST),RK({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too short.`,alpha_spaces:`The field ${t.field} may only contain alphabetical chars`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,password_mismatch:"The password don't match.",not_one_of:`You are not arrowed to use this value for the field ${t.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",tos:"You must accept the Terms of Service."};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let Vs;Qr.onAuthStateChanged(()=>{Vs||(Vs=MD(Nq),Vs.use(UD()),Vs.use(cx),Vs.use(f4),Vs.mount("#app"))});
