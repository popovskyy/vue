(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function mg(t,e){const n=Object.create(null),i=t.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const we={},Ns=[],Mr=()=>{},jx=()=>!1,Sf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),yg=t=>t.startsWith("onUpdate:"),nn=Object.assign,wg=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Ux=Object.prototype.hasOwnProperty,Xt=(t,e)=>Ux.call(t,e),Rt=Array.isArray,ks=t=>Af(t)==="[object Map]",pI=t=>Af(t)==="[object Set]",Lt=t=>typeof t=="function",Ve=t=>typeof t=="string",nu=t=>typeof t=="symbol",ge=t=>t!==null&&typeof t=="object",vI=t=>(ge(t)||Lt(t))&&Lt(t.then)&&Lt(t.catch),gI=Object.prototype.toString,Af=t=>gI.call(t),Bx=t=>Af(t).slice(8,-1),mI=t=>Af(t)==="[object Object]",bg=t=>Ve(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,xl=mg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Nf=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},qx=/-(\w)/g,jr=Nf(t=>t.replace(qx,(e,n)=>n?n.toUpperCase():"")),$x=/\B([A-Z])/g,ru=Nf(t=>t.replace($x,"-$1").toLowerCase()),kf=Nf(t=>t.charAt(0).toUpperCase()+t.slice(1)),Hp=Nf(t=>t?`on${kf(t)}`:""),No=(t,e)=>!Object.is(t,e),zp=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Bl=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Kx=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Mb;const yv=()=>Mb||(Mb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _g(t){if(Rt(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=Ve(i)?Wx(i):_g(i);if(o)for(const u in o)e[u]=o[u]}return e}else if(Ve(t)||ge(t))return t}const Hx=/;(?![^(]*\))/g,zx=/:([^]+)/,Gx=/\/\*[^]*?\*\//g;function Wx(t){const e={};return t.replace(Gx,"").split(Hx).forEach(n=>{if(n){const i=n.split(zx);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function ki(t){let e="";if(Ve(t))e=t;else if(Rt(t))for(let n=0;n<t.length;n++){const i=ki(t[n]);i&&(e+=i+" ")}else if(ge(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Qx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xx=mg(Qx);function yI(t){return!!t||t===""}const ql=t=>Ve(t)?t:t==null?"":Rt(t)||ge(t)&&(t.toString===gI||!Lt(t.toString))?JSON.stringify(t,wI,2):String(t),wI=(t,e)=>e&&e.__v_isRef?wI(t,e.value):ks(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,o],u)=>(n[Gp(i,u)+" =>"]=o,n),{})}:pI(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Gp(n))}:nu(e)?Gp(e):ge(e)&&!Rt(e)&&!mI(e)?String(e):e,Gp=(t,e="")=>{var n;return nu(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let Bn;class bI{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Bn,!e&&Bn&&(this.index=(Bn.scopes||(Bn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Bn;try{return Bn=this,e()}finally{Bn=n}}}on(){Bn=this}off(){Bn=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function _I(t){return new bI(t)}function Yx(t,e=Bn){e&&e.active&&e.effects.push(t)}function EI(){return Bn}function Jx(t){Bn&&Bn.cleanups.push(t)}const Eg=t=>{const e=new Set(t);return e.w=0,e.n=0,e},II=t=>(t.w&Pi)>0,TI=t=>(t.n&Pi)>0,Zx=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Pi},tO=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const o=e[i];II(o)&&!TI(o)?o.delete(t):e[n++]=o,o.w&=~Pi,o.n&=~Pi}e.length=n}},$l=new WeakMap;let na=0,Pi=1;const wv=30;let dr;const Eo=Symbol(""),bv=Symbol("");class Ig{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Yx(this,i)}run(){if(!this.active)return this.fn();let e=dr,n=Ci;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=dr,dr=this,Ci=!0,Pi=1<<++na,na<=wv?Zx(this):Fb(this),this.fn()}finally{na<=wv&&tO(this),Pi=1<<--na,dr=this.parent,Ci=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){dr===this?this.deferStop=!0:this.active&&(Fb(this),this.onStop&&this.onStop(),this.active=!1)}}function Fb(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Ci=!0;const SI=[];function iu(){SI.push(Ci),Ci=!1}function ou(){const t=SI.pop();Ci=t===void 0?!0:t}function Dn(t,e,n){if(Ci&&dr){let i=$l.get(t);i||$l.set(t,i=new Map);let o=i.get(n);o||i.set(n,o=Eg()),AI(o)}}function AI(t,e){let n=!1;na<=wv?TI(t)||(t.n|=Pi,n=!II(t)):n=!t.has(dr),n&&(t.add(dr),dr.deps.push(t))}function Yr(t,e,n,i,o,u){const a=$l.get(t);if(!a)return;let l=[];if(e==="clear")l=[...a.values()];else if(n==="length"&&Rt(t)){const f=Number(i);a.forEach((d,v)=>{(v==="length"||!nu(v)&&v>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),e){case"add":Rt(t)?bg(n)&&l.push(a.get("length")):(l.push(a.get(Eo)),ks(t)&&l.push(a.get(bv)));break;case"delete":Rt(t)||(l.push(a.get(Eo)),ks(t)&&l.push(a.get(bv)));break;case"set":ks(t)&&l.push(a.get(Eo));break}if(l.length===1)l[0]&&_v(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);_v(Eg(f))}}function _v(t,e){const n=Rt(t)?t:[...t];for(const i of n)i.computed&&Vb(i);for(const i of n)i.computed||Vb(i)}function Vb(t,e){(t!==dr||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function eO(t,e){var n;return(n=$l.get(t))==null?void 0:n.get(e)}const nO=mg("__proto__,__v_isRef,__isVue"),NI=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(nu)),jb=rO();function rO(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Jt(this);for(let u=0,a=this.length;u<a;u++)Dn(i,"get",u+"");const o=i[e](...n);return o===-1||o===!1?i[e](...n.map(Jt)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){iu();const i=Jt(this)[e].apply(this,n);return ou(),i}}),t}function iO(t){const e=Jt(this);return Dn(e,"has",t),e.hasOwnProperty(t)}class kI{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,i){const o=this._isReadonly,u=this._shallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return u;if(n==="__v_raw")return i===(o?u?mO:RI:u?OI:xI).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=Rt(e);if(!o){if(a&&Xt(jb,n))return Reflect.get(jb,n,i);if(n==="hasOwnProperty")return iO}const l=Reflect.get(e,n,i);return(nu(n)?NI.has(n):nO(n))||(o||Dn(e,"get",n),u)?l:he(l)?a&&bg(n)?l:l.value:ge(l)?o?Ag(l):ei(l):l}}class CI extends kI{constructor(e=!1){super(!1,e)}set(e,n,i,o){let u=e[n];if(Rs(u)&&he(u)&&!he(i))return!1;if(!this._shallow&&(!Kl(i)&&!Rs(i)&&(u=Jt(u),i=Jt(i)),!Rt(e)&&he(u)&&!he(i)))return u.value=i,!0;const a=Rt(e)&&bg(n)?Number(n)<e.length:Xt(e,n),l=Reflect.set(e,n,i,o);return e===Jt(o)&&(a?No(i,u)&&Yr(e,"set",n,i):Yr(e,"add",n,i)),l}deleteProperty(e,n){const i=Xt(e,n);e[n];const o=Reflect.deleteProperty(e,n);return o&&i&&Yr(e,"delete",n,void 0),o}has(e,n){const i=Reflect.has(e,n);return(!nu(n)||!NI.has(n))&&Dn(e,"has",n),i}ownKeys(e){return Dn(e,"iterate",Rt(e)?"length":Eo),Reflect.ownKeys(e)}}class oO extends kI{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const sO=new CI,uO=new oO,aO=new CI(!0),Tg=t=>t,Cf=t=>Reflect.getPrototypeOf(t);function hl(t,e,n=!1,i=!1){t=t.__v_raw;const o=Jt(t),u=Jt(e);n||(No(e,u)&&Dn(o,"get",e),Dn(o,"get",u));const{has:a}=Cf(o),l=i?Tg:n?kg:wa;if(a.call(o,e))return l(t.get(e));if(a.call(o,u))return l(t.get(u));t!==o&&t.get(e)}function dl(t,e=!1){const n=this.__v_raw,i=Jt(n),o=Jt(t);return e||(No(t,o)&&Dn(i,"has",t),Dn(i,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function pl(t,e=!1){return t=t.__v_raw,!e&&Dn(Jt(t),"iterate",Eo),Reflect.get(t,"size",t)}function Ub(t){t=Jt(t);const e=Jt(this);return Cf(e).has.call(e,t)||(e.add(t),Yr(e,"add",t,t)),this}function Bb(t,e){e=Jt(e);const n=Jt(this),{has:i,get:o}=Cf(n);let u=i.call(n,t);u||(t=Jt(t),u=i.call(n,t));const a=o.call(n,t);return n.set(t,e),u?No(e,a)&&Yr(n,"set",t,e):Yr(n,"add",t,e),this}function qb(t){const e=Jt(this),{has:n,get:i}=Cf(e);let o=n.call(e,t);o||(t=Jt(t),o=n.call(e,t)),i&&i.call(e,t);const u=e.delete(t);return o&&Yr(e,"delete",t,void 0),u}function $b(){const t=Jt(this),e=t.size!==0,n=t.clear();return e&&Yr(t,"clear",void 0,void 0),n}function vl(t,e){return function(i,o){const u=this,a=u.__v_raw,l=Jt(a),f=e?Tg:t?kg:wa;return!t&&Dn(l,"iterate",Eo),a.forEach((d,v)=>i.call(o,f(d),f(v),u))}}function gl(t,e,n){return function(...i){const o=this.__v_raw,u=Jt(o),a=ks(u),l=t==="entries"||t===Symbol.iterator&&a,f=t==="keys"&&a,d=o[t](...i),v=n?Tg:e?kg:wa;return!e&&Dn(u,"iterate",f?bv:Eo),{next(){const{value:g,done:m}=d.next();return m?{value:g,done:m}:{value:l?[v(g[0]),v(g[1])]:v(g),done:m}},[Symbol.iterator](){return this}}}}function pi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function cO(){const t={get(u){return hl(this,u)},get size(){return pl(this)},has:dl,add:Ub,set:Bb,delete:qb,clear:$b,forEach:vl(!1,!1)},e={get(u){return hl(this,u,!1,!0)},get size(){return pl(this)},has:dl,add:Ub,set:Bb,delete:qb,clear:$b,forEach:vl(!1,!0)},n={get(u){return hl(this,u,!0)},get size(){return pl(this,!0)},has(u){return dl.call(this,u,!0)},add:pi("add"),set:pi("set"),delete:pi("delete"),clear:pi("clear"),forEach:vl(!0,!1)},i={get(u){return hl(this,u,!0,!0)},get size(){return pl(this,!0)},has(u){return dl.call(this,u,!0)},add:pi("add"),set:pi("set"),delete:pi("delete"),clear:pi("clear"),forEach:vl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{t[u]=gl(u,!1,!1),n[u]=gl(u,!0,!1),e[u]=gl(u,!1,!0),i[u]=gl(u,!0,!0)}),[t,n,e,i]}const[lO,fO,hO,dO]=cO();function Sg(t,e){const n=e?t?dO:hO:t?fO:lO;return(i,o,u)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?i:Reflect.get(Xt(n,o)&&o in i?n:i,o,u)}const pO={get:Sg(!1,!1)},vO={get:Sg(!1,!0)},gO={get:Sg(!0,!1)},xI=new WeakMap,OI=new WeakMap,RI=new WeakMap,mO=new WeakMap;function yO(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wO(t){return t.__v_skip||!Object.isExtensible(t)?0:yO(Bx(t))}function ei(t){return Rs(t)?t:Ng(t,!1,sO,pO,xI)}function DI(t){return Ng(t,!1,aO,vO,OI)}function Ag(t){return Ng(t,!0,uO,gO,RI)}function Ng(t,e,n,i,o){if(!ge(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const u=o.get(t);if(u)return u;const a=wO(t);if(a===0)return t;const l=new Proxy(t,a===2?i:n);return o.set(t,l),l}function xi(t){return Rs(t)?xi(t.__v_raw):!!(t&&t.__v_isReactive)}function Rs(t){return!!(t&&t.__v_isReadonly)}function Kl(t){return!!(t&&t.__v_isShallow)}function PI(t){return xi(t)||Rs(t)}function Jt(t){const e=t&&t.__v_raw;return e?Jt(e):t}function xf(t){return Bl(t,"__v_skip",!0),t}const wa=t=>ge(t)?ei(t):t,kg=t=>ge(t)?Ag(t):t;function LI(t){Ci&&dr&&(t=Jt(t),AI(t.dep||(t.dep=Eg())))}function MI(t,e){t=Jt(t);const n=t.dep;n&&_v(n)}function he(t){return!!(t&&t.__v_isRef===!0)}function mn(t){return VI(t,!1)}function FI(t){return VI(t,!0)}function VI(t,e){return he(t)?t:new bO(t,e)}class bO{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Jt(e),this._value=n?e:wa(e)}get value(){return LI(this),this._value}set value(e){const n=this.__v_isShallow||Kl(e)||Rs(e);e=n?e:Jt(e),No(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:wa(e),MI(this))}}function Yt(t){return he(t)?t.value:t}function ne(t){return Lt(t)?t():Yt(t)}const _O={get:(t,e,n)=>Yt(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const o=t[e];return he(o)&&!he(n)?(o.value=n,!0):Reflect.set(t,e,n,i)}};function jI(t){return xi(t)?t:new Proxy(t,_O)}function EO(t){const e=Rt(t)?new Array(t.length):{};for(const n in t)e[n]=UI(t,n);return e}class IO{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return eO(Jt(this._object),this._key)}}class TO{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ho(t,e,n){return he(t)?t:Lt(t)?new TO(t):ge(t)&&arguments.length>1?UI(t,e,n):mn(t)}function UI(t,e,n){const i=t[e];return he(i)?i:new IO(t,e,n)}class SO{constructor(e,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ig(e,()=>{this._dirty||(this._dirty=!0,MI(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const e=Jt(this);return LI(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function AO(t,e,n=!1){let i,o;const u=Lt(t);return u?(i=t,o=Mr):(i=t.get,o=t.set),new SO(i,o,u||!o,n)}function Oi(t,e,n,i){let o;try{o=i?t(...i):t()}catch(u){Of(u,e,n)}return o}function gr(t,e,n,i){if(Lt(t)){const u=Oi(t,e,n,i);return u&&vI(u)&&u.catch(a=>{Of(a,e,n)}),u}const o=[];for(let u=0;u<t.length;u++)o.push(gr(t[u],e,n,i));return o}function Of(t,e,n,i=!0){const o=e?e.vnode:null;if(e){let u=e.parent;const a=e.proxy,l=n;for(;u;){const d=u.ec;if(d){for(let v=0;v<d.length;v++)if(d[v](t,a,l)===!1)return}u=u.parent}const f=e.appContext.config.errorHandler;if(f){Oi(f,null,10,[t,a,l]);return}}NO(t,n,o,i)}function NO(t,e,n,i=!0){console.error(t)}let ba=!1,Ev=!1;const an=[];let Pr=0;const Cs=[];let Wr=null,po=0;const BI=Promise.resolve();let Cg=null;function qn(t){const e=Cg||BI;return t?e.then(this?t.bind(this):t):e}function kO(t){let e=Pr+1,n=an.length;for(;e<n;){const i=e+n>>>1,o=an[i],u=_a(o);u<t||u===t&&o.pre?e=i+1:n=i}return e}function xg(t){(!an.length||!an.includes(t,ba&&t.allowRecurse?Pr+1:Pr))&&(t.id==null?an.push(t):an.splice(kO(t.id),0,t),qI())}function qI(){!ba&&!Ev&&(Ev=!0,Cg=BI.then(KI))}function CO(t){const e=an.indexOf(t);e>Pr&&an.splice(e,1)}function xO(t){Rt(t)?Cs.push(...t):(!Wr||!Wr.includes(t,t.allowRecurse?po+1:po))&&Cs.push(t),qI()}function Kb(t,e,n=ba?Pr+1:0){for(;n<an.length;n++){const i=an[n];if(i&&i.pre){if(t&&i.id!==t.uid)continue;an.splice(n,1),n--,i()}}}function $I(t){if(Cs.length){const e=[...new Set(Cs)];if(Cs.length=0,Wr){Wr.push(...e);return}for(Wr=e,Wr.sort((n,i)=>_a(n)-_a(i)),po=0;po<Wr.length;po++)Wr[po]();Wr=null,po=0}}const _a=t=>t.id==null?1/0:t.id,OO=(t,e)=>{const n=_a(t)-_a(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function KI(t){Ev=!1,ba=!0,an.sort(OO);try{for(Pr=0;Pr<an.length;Pr++){const e=an[Pr];e&&e.active!==!1&&Oi(e,null,14)}}finally{Pr=0,an.length=0,$I(),ba=!1,Cg=null,(an.length||Cs.length)&&KI()}}function RO(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||we;let o=n;const u=e.startsWith("update:"),a=u&&e.slice(7);if(a&&a in i){const v=`${a==="modelValue"?"model":a}Modifiers`,{number:g,trim:m}=i[v]||we;m&&(o=n.map(b=>Ve(b)?b.trim():b)),g&&(o=n.map(Kx))}let l,f=i[l=Hp(e)]||i[l=Hp(jr(e))];!f&&u&&(f=i[l=Hp(ru(e))]),f&&gr(f,t,6,o);const d=i[l+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,gr(d,t,6,o)}}function HI(t,e,n=!1){const i=e.emitsCache,o=i.get(t);if(o!==void 0)return o;const u=t.emits;let a={},l=!1;if(!Lt(t)){const f=d=>{const v=HI(d,e,!0);v&&(l=!0,nn(a,v))};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!u&&!l?(ge(t)&&i.set(t,null),null):(Rt(u)?u.forEach(f=>a[f]=null):nn(a,u),ge(t)&&i.set(t,a),a)}function Rf(t,e){return!t||!Sf(e)?!1:(e=e.slice(2).replace(/Once$/,""),Xt(t,e[0].toLowerCase()+e.slice(1))||Xt(t,ru(e))||Xt(t,e))}let zn=null,zI=null;function Hl(t){const e=zn;return zn=t,zI=t&&t.type.__scopeId||null,e}function Is(t,e=zn,n){if(!e||t._n)return t;const i=(...o)=>{i._d&&e_(-1);const u=Hl(e);let a;try{a=t(...o)}finally{Hl(u),i._d&&e_(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Wp(t){const{type:e,vnode:n,proxy:i,withProxy:o,props:u,propsOptions:[a],slots:l,attrs:f,emit:d,render:v,renderCache:g,data:m,setupState:b,ctx:_,inheritAttrs:S}=t;let N,O;const P=Hl(t);try{if(n.shapeFlag&4){const q=o||i,rt=q;N=Dr(v.call(rt,q,g,u,b,m,_)),O=f}else{const q=e;N=Dr(q.length>1?q(u,{attrs:f,slots:l,emit:d}):q(u,null)),O=e.props?f:DO(f)}}catch(q){aa.length=0,Of(q,t,1),N=$t(ko)}let U=N;if(O&&S!==!1){const q=Object.keys(O),{shapeFlag:rt}=U;q.length&&rt&7&&(a&&q.some(yg)&&(O=PO(O,a)),U=Ds(U,O))}return n.dirs&&(U=Ds(U),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&(U.transition=n.transition),N=U,Hl(P),N}const DO=t=>{let e;for(const n in t)(n==="class"||n==="style"||Sf(n))&&((e||(e={}))[n]=t[n]);return e},PO=(t,e)=>{const n={};for(const i in t)(!yg(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function LO(t,e,n){const{props:i,children:o,component:u}=t,{props:a,children:l,patchFlag:f}=e,d=u.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?Hb(i,a,d):!!a;if(f&8){const v=e.dynamicProps;for(let g=0;g<v.length;g++){const m=v[g];if(a[m]!==i[m]&&!Rf(d,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?Hb(i,a,d):!0:!!a;return!1}function Hb(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let o=0;o<i.length;o++){const u=i[o];if(e[u]!==t[u]&&!Rf(n,u))return!0}return!1}function MO({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Og="components";function Fr(t,e){return WI(Og,t,!0,e)||t}const GI=Symbol.for("v-ndc");function Rg(t){return Ve(t)?WI(Og,t,!1)||t:t||GI}function WI(t,e,n=!0,i=!1){const o=zn||$e;if(o){const u=o.type;if(t===Og){const l=CR(u,!1);if(l&&(l===e||l===jr(e)||l===kf(jr(e))))return u}const a=zb(o[t]||u[t],e)||zb(o.appContext[t],e);return!a&&i?u:a}}function zb(t,e){return t&&(t[e]||t[jr(e)]||t[kf(jr(e))])}const FO=t=>t.__isSuspense;function VO(t,e){e&&e.pendingBranch?Rt(t)?e.effects.push(...t):e.effects.push(t):xO(t)}function jO(t,e){return Dg(t,null,e)}const ml={};function rr(t,e,n){return Dg(t,e,n)}function Dg(t,e,{immediate:n,deep:i,flush:o,onTrack:u,onTrigger:a}=we){var l;const f=EI()===((l=$e)==null?void 0:l.scope)?$e:null;let d,v=!1,g=!1;if(he(t)?(d=()=>t.value,v=Kl(t)):xi(t)?(d=()=>t,i=!0):Rt(t)?(g=!0,v=t.some(q=>xi(q)||Kl(q)),d=()=>t.map(q=>{if(he(q))return q.value;if(xi(q))return Ts(q);if(Lt(q))return Oi(q,f,2)})):Lt(t)?e?d=()=>Oi(t,f,2):d=()=>{if(!(f&&f.isUnmounted))return m&&m(),gr(t,f,3,[b])}:d=Mr,e&&i){const q=d;d=()=>Ts(q())}let m,b=q=>{m=P.onStop=()=>{Oi(q,f,4),m=P.onStop=void 0}},_;if(Ta)if(b=Mr,e?n&&gr(e,f,3,[d(),g?[]:void 0,b]):d(),o==="sync"){const q=RR();_=q.__watcherHandles||(q.__watcherHandles=[])}else return Mr;let S=g?new Array(t.length).fill(ml):ml;const N=()=>{if(P.active)if(e){const q=P.run();(i||v||(g?q.some((rt,F)=>No(rt,S[F])):No(q,S)))&&(m&&m(),gr(e,f,3,[q,S===ml?void 0:g&&S[0]===ml?[]:S,b]),S=q)}else P.run()};N.allowRecurse=!!e;let O;o==="sync"?O=N:o==="post"?O=()=>Cn(N,f&&f.suspense):(N.pre=!0,f&&(N.id=f.uid),O=()=>xg(N));const P=new Ig(d,O);e?n?N():S=P.run():o==="post"?Cn(P.run.bind(P),f&&f.suspense):P.run();const U=()=>{P.stop(),f&&f.scope&&wg(f.scope.effects,P)};return _&&_.push(U),U}function UO(t,e,n){const i=this.proxy,o=Ve(t)?t.includes(".")?QI(i,t):()=>i[t]:t.bind(i,i);let u;Lt(e)?u=e:(u=e.handler,n=e);const a=$e;Ps(this);const l=Dg(o,u.bind(i),n);return a?Ps(a):Io(),l}function QI(t,e){const n=e.split(".");return()=>{let i=t;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function Ts(t,e){if(!ge(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),he(t))Ts(t.value,e);else if(Rt(t))for(let n=0;n<t.length;n++)Ts(t[n],e);else if(pI(t)||ks(t))t.forEach(n=>{Ts(n,e)});else if(mI(t))for(const n in t)Ts(t[n],e);return t}function ao(t,e,n,i){const o=t.dirs,u=e&&e.dirs;for(let a=0;a<o.length;a++){const l=o[a];u&&(l.oldValue=u[a].value);let f=l.dir[i];f&&(iu(),gr(f,n,8,[t.el,l,t,e]),ou())}}/*! #__NO_SIDE_EFFECTS__ */function Ha(t,e){return Lt(t)?nn({name:t.name},e,{setup:t}):t}const Ol=t=>!!t.type.__asyncLoader,XI=t=>t.type.__isKeepAlive;function BO(t,e){YI(t,"a",e)}function qO(t,e){YI(t,"da",e)}function YI(t,e,n=$e){const i=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(Df(e,i,n),n){let o=n.parent;for(;o&&o.parent;)XI(o.parent.vnode)&&$O(i,e,n,o),o=o.parent}}function $O(t,e,n,i){const o=Df(e,t,i,!0);ZI(()=>{wg(i[e],o)},n)}function Df(t,e,n=$e,i=!1){if(n){const o=n[t]||(n[t]=[]),u=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;iu(),Ps(n);const l=gr(e,n,t,a);return Io(),ou(),l});return i?o.unshift(u):o.push(u),u}}const ri=t=>(e,n=$e)=>(!Ta||t==="sp")&&Df(t,(...i)=>e(...i),n),KO=ri("bm"),Pg=ri("m"),HO=ri("bu"),zO=ri("u"),JI=ri("bum"),ZI=ri("um"),GO=ri("sp"),WO=ri("rtg"),QO=ri("rtc");function XO(t,e=$e){Df("ec",t,e)}function YO(t,e,n,i){let o;const u=n&&n[i];if(Rt(t)||Ve(t)){o=new Array(t.length);for(let a=0,l=t.length;a<l;a++)o[a]=e(t[a],a,void 0,u&&u[a])}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,u&&u[a])}else if(ge(t))if(t[Symbol.iterator])o=Array.from(t,(a,l)=>e(a,l,void 0,u&&u[l]));else{const a=Object.keys(t);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=e(t[d],d,l,u&&u[l])}}else o=[];return n&&(n[i]=o),o}const Iv=t=>t?hT(t)?jg(t)||t.proxy:Iv(t.parent):null,ua=nn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Iv(t.parent),$root:t=>Iv(t.root),$emit:t=>t.emit,$options:t=>Lg(t),$forceUpdate:t=>t.f||(t.f=()=>xg(t.update)),$nextTick:t=>t.n||(t.n=qn.bind(t.proxy)),$watch:t=>UO.bind(t)}),Qp=(t,e)=>t!==we&&!t.__isScriptSetup&&Xt(t,e),JO={get({_:t},e){const{ctx:n,setupState:i,data:o,props:u,accessCache:a,type:l,appContext:f}=t;let d;if(e[0]!=="$"){const b=a[e];if(b!==void 0)switch(b){case 1:return i[e];case 2:return o[e];case 4:return n[e];case 3:return u[e]}else{if(Qp(i,e))return a[e]=1,i[e];if(o!==we&&Xt(o,e))return a[e]=2,o[e];if((d=t.propsOptions[0])&&Xt(d,e))return a[e]=3,u[e];if(n!==we&&Xt(n,e))return a[e]=4,n[e];Tv&&(a[e]=0)}}const v=ua[e];let g,m;if(v)return e==="$attrs"&&Dn(t,"get",e),v(t);if((g=l.__cssModules)&&(g=g[e]))return g;if(n!==we&&Xt(n,e))return a[e]=4,n[e];if(m=f.config.globalProperties,Xt(m,e))return m[e]},set({_:t},e,n){const{data:i,setupState:o,ctx:u}=t;return Qp(o,e)?(o[e]=n,!0):i!==we&&Xt(i,e)?(i[e]=n,!0):Xt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(u[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:o,propsOptions:u}},a){let l;return!!n[a]||t!==we&&Xt(t,a)||Qp(e,a)||(l=u[0])&&Xt(l,a)||Xt(i,a)||Xt(ua,a)||Xt(o.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Xt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Gb(t){return Rt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Tv=!0;function ZO(t){const e=Lg(t),n=t.proxy,i=t.ctx;Tv=!1,e.beforeCreate&&Wb(e.beforeCreate,t,"bc");const{data:o,computed:u,methods:a,watch:l,provide:f,inject:d,created:v,beforeMount:g,mounted:m,beforeUpdate:b,updated:_,activated:S,deactivated:N,beforeDestroy:O,beforeUnmount:P,destroyed:U,unmounted:q,render:rt,renderTracked:F,renderTriggered:Et,errorCaptured:W,serverPrefetch:ht,expose:A,inheritAttrs:Qt,components:oe,directives:ae,filters:fe}=e;if(d&&tR(d,i,null),a)for(const Dt in a){const bt=a[Dt];Lt(bt)&&(i[Dt]=bt.bind(n))}if(o){const Dt=o.call(n,n);ge(Dt)&&(t.data=ei(Dt))}if(Tv=!0,u)for(const Dt in u){const bt=u[Dt],Ie=Lt(bt)?bt.bind(n,n):Lt(bt.get)?bt.get.bind(n,n):Mr,Ce=!Lt(bt)&&Lt(bt.set)?bt.set.bind(n):Mr,Be=Mt({get:Ie,set:Ce});Object.defineProperty(i,Dt,{enumerable:!0,configurable:!0,get:()=>Be.value,set:De=>Be.value=De})}if(l)for(const Dt in l)tT(l[Dt],i,n,Dt);if(f){const Dt=Lt(f)?f.call(n):f;Reflect.ownKeys(Dt).forEach(bt=>{xs(bt,Dt[bt])})}v&&Wb(v,t,"c");function it(Dt,bt){Rt(bt)?bt.forEach(Ie=>Dt(Ie.bind(n))):bt&&Dt(bt.bind(n))}if(it(KO,g),it(Pg,m),it(HO,b),it(zO,_),it(BO,S),it(qO,N),it(XO,W),it(QO,F),it(WO,Et),it(JI,P),it(ZI,q),it(GO,ht),Rt(A))if(A.length){const Dt=t.exposed||(t.exposed={});A.forEach(bt=>{Object.defineProperty(Dt,bt,{get:()=>n[bt],set:Ie=>n[bt]=Ie})})}else t.exposed||(t.exposed={});rt&&t.render===Mr&&(t.render=rt),Qt!=null&&(t.inheritAttrs=Qt),oe&&(t.components=oe),ae&&(t.directives=ae)}function tR(t,e,n=Mr){Rt(t)&&(t=Sv(t));for(const i in t){const o=t[i];let u;ge(o)?"default"in o?u=ir(o.from||i,o.default,!0):u=ir(o.from||i):u=ir(o),he(u)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>u.value,set:a=>u.value=a}):e[i]=u}}function Wb(t,e,n){gr(Rt(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function tT(t,e,n,i){const o=i.includes(".")?QI(n,i):()=>n[i];if(Ve(t)){const u=e[t];Lt(u)&&rr(o,u)}else if(Lt(t))rr(o,t.bind(n));else if(ge(t))if(Rt(t))t.forEach(u=>tT(u,e,n,i));else{const u=Lt(t.handler)?t.handler.bind(n):e[t.handler];Lt(u)&&rr(o,u,t)}}function Lg(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:o,optionsCache:u,config:{optionMergeStrategies:a}}=t.appContext,l=u.get(e);let f;return l?f=l:!o.length&&!n&&!i?f=e:(f={},o.length&&o.forEach(d=>zl(f,d,a,!0)),zl(f,e,a)),ge(e)&&u.set(e,f),f}function zl(t,e,n,i=!1){const{mixins:o,extends:u}=e;u&&zl(t,u,n,!0),o&&o.forEach(a=>zl(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const l=eR[a]||n&&n[a];t[a]=l?l(t[a],e[a]):e[a]}return t}const eR={data:Qb,props:Xb,emits:Xb,methods:ra,computed:ra,beforeCreate:vn,created:vn,beforeMount:vn,mounted:vn,beforeUpdate:vn,updated:vn,beforeDestroy:vn,beforeUnmount:vn,destroyed:vn,unmounted:vn,activated:vn,deactivated:vn,errorCaptured:vn,serverPrefetch:vn,components:ra,directives:ra,watch:rR,provide:Qb,inject:nR};function Qb(t,e){return e?t?function(){return nn(Lt(t)?t.call(this,this):t,Lt(e)?e.call(this,this):e)}:e:t}function nR(t,e){return ra(Sv(t),Sv(e))}function Sv(t){if(Rt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function vn(t,e){return t?[...new Set([].concat(t,e))]:e}function ra(t,e){return t?nn(Object.create(null),t,e):e}function Xb(t,e){return t?Rt(t)&&Rt(e)?[...new Set([...t,...e])]:nn(Object.create(null),Gb(t),Gb(e??{})):e}function rR(t,e){if(!t)return e;if(!e)return t;const n=nn(Object.create(null),t);for(const i in e)n[i]=vn(t[i],e[i]);return n}function eT(){return{app:null,config:{isNativeTag:jx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let iR=0;function oR(t,e){return function(i,o=null){Lt(i)||(i=nn({},i)),o!=null&&!ge(o)&&(o=null);const u=eT(),a=new WeakSet;let l=!1;const f=u.app={_uid:iR++,_component:i,_props:o,_container:null,_context:u,_instance:null,version:DR,get config(){return u.config},set config(d){},use(d,...v){return a.has(d)||(d&&Lt(d.install)?(a.add(d),d.install(f,...v)):Lt(d)&&(a.add(d),d(f,...v))),f},mixin(d){return u.mixins.includes(d)||u.mixins.push(d),f},component(d,v){return v?(u.components[d]=v,f):u.components[d]},directive(d,v){return v?(u.directives[d]=v,f):u.directives[d]},mount(d,v,g){if(!l){const m=$t(i,o);return m.appContext=u,v&&e?e(m,d):t(m,d,g),l=!0,f._container=d,d.__vue_app__=f,jg(m.component)||m.component.proxy}},unmount(){l&&(t(null,f._container),delete f._container.__vue_app__)},provide(d,v){return u.provides[d]=v,f},runWithContext(d){Ea=f;try{return d()}finally{Ea=null}}};return f}}let Ea=null;function xs(t,e){if($e){let n=$e.provides;const i=$e.parent&&$e.parent.provides;i===n&&(n=$e.provides=Object.create(i)),n[t]=e}}function ir(t,e,n=!1){const i=$e||zn;if(i||Ea){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Ea._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&Lt(e)?e.call(i&&i.proxy):e}}function sR(){return!!($e||zn||Ea)}function uR(t,e,n,i=!1){const o={},u={};Bl(u,Lf,1),t.propsDefaults=Object.create(null),nT(t,e,o,u);for(const a in t.propsOptions[0])a in o||(o[a]=void 0);n?t.props=i?o:DI(o):t.type.props?t.props=o:t.props=u,t.attrs=u}function aR(t,e,n,i){const{props:o,attrs:u,vnode:{patchFlag:a}}=t,l=Jt(o),[f]=t.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const v=t.vnode.dynamicProps;for(let g=0;g<v.length;g++){let m=v[g];if(Rf(t.emitsOptions,m))continue;const b=e[m];if(f)if(Xt(u,m))b!==u[m]&&(u[m]=b,d=!0);else{const _=jr(m);o[_]=Av(f,l,_,b,t,!1)}else b!==u[m]&&(u[m]=b,d=!0)}}}else{nT(t,e,o,u)&&(d=!0);let v;for(const g in l)(!e||!Xt(e,g)&&((v=ru(g))===g||!Xt(e,v)))&&(f?n&&(n[g]!==void 0||n[v]!==void 0)&&(o[g]=Av(f,l,g,void 0,t,!0)):delete o[g]);if(u!==l)for(const g in u)(!e||!Xt(e,g))&&(delete u[g],d=!0)}d&&Yr(t,"set","$attrs")}function nT(t,e,n,i){const[o,u]=t.propsOptions;let a=!1,l;if(e)for(let f in e){if(xl(f))continue;const d=e[f];let v;o&&Xt(o,v=jr(f))?!u||!u.includes(v)?n[v]=d:(l||(l={}))[v]=d:Rf(t.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(u){const f=Jt(n),d=l||we;for(let v=0;v<u.length;v++){const g=u[v];n[g]=Av(o,f,g,d[g],t,!Xt(d,g))}}return a}function Av(t,e,n,i,o,u){const a=t[n];if(a!=null){const l=Xt(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&Lt(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(Ps(o),i=d[n]=f.call(null,e),Io())}else i=f}a[0]&&(u&&!l?i=!1:a[1]&&(i===""||i===ru(n))&&(i=!0))}return i}function rT(t,e,n=!1){const i=e.propsCache,o=i.get(t);if(o)return o;const u=t.props,a={},l=[];let f=!1;if(!Lt(t)){const v=g=>{f=!0;const[m,b]=rT(g,e,!0);nn(a,m),b&&l.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(v),t.extends&&v(t.extends),t.mixins&&t.mixins.forEach(v)}if(!u&&!f)return ge(t)&&i.set(t,Ns),Ns;if(Rt(u))for(let v=0;v<u.length;v++){const g=jr(u[v]);Yb(g)&&(a[g]=we)}else if(u)for(const v in u){const g=jr(v);if(Yb(g)){const m=u[v],b=a[g]=Rt(m)||Lt(m)?{type:m}:nn({},m);if(b){const _=t_(Boolean,b.type),S=t_(String,b.type);b[0]=_>-1,b[1]=S<0||_<S,(_>-1||Xt(b,"default"))&&l.push(g)}}}const d=[a,l];return ge(t)&&i.set(t,d),d}function Yb(t){return t[0]!=="$"}function Jb(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Zb(t,e){return Jb(t)===Jb(e)}function t_(t,e){return Rt(e)?e.findIndex(n=>Zb(n,t)):Lt(e)&&Zb(e,t)?0:-1}const iT=t=>t[0]==="_"||t==="$stable",Mg=t=>Rt(t)?t.map(Dr):[Dr(t)],cR=(t,e,n)=>{if(e._n)return e;const i=Is((...o)=>Mg(e(...o)),n);return i._c=!1,i},oT=(t,e,n)=>{const i=t._ctx;for(const o in t){if(iT(o))continue;const u=t[o];if(Lt(u))e[o]=cR(o,u,i);else if(u!=null){const a=Mg(u);e[o]=()=>a}}},sT=(t,e)=>{const n=Mg(e);t.slots.default=()=>n},lR=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Jt(e),Bl(e,"_",n)):oT(e,t.slots={})}else t.slots={},e&&sT(t,e);Bl(t.slots,Lf,1)},fR=(t,e,n)=>{const{vnode:i,slots:o}=t;let u=!0,a=we;if(i.shapeFlag&32){const l=e._;l?n&&l===1?u=!1:(nn(o,e),!n&&l===1&&delete o._):(u=!e.$stable,oT(e,o)),a=e}else e&&(sT(t,e),a={default:1});if(u)for(const l in o)!iT(l)&&a[l]==null&&delete o[l]};function Nv(t,e,n,i,o=!1){if(Rt(t)){t.forEach((m,b)=>Nv(m,e&&(Rt(e)?e[b]:e),n,i,o));return}if(Ol(i)&&!o)return;const u=i.shapeFlag&4?jg(i.component)||i.component.proxy:i.el,a=o?null:u,{i:l,r:f}=t,d=e&&e.r,v=l.refs===we?l.refs={}:l.refs,g=l.setupState;if(d!=null&&d!==f&&(Ve(d)?(v[d]=null,Xt(g,d)&&(g[d]=null)):he(d)&&(d.value=null)),Lt(f))Oi(f,l,12,[a,v]);else{const m=Ve(f),b=he(f);if(m||b){const _=()=>{if(t.f){const S=m?Xt(g,f)?g[f]:v[f]:f.value;o?Rt(S)&&wg(S,u):Rt(S)?S.includes(u)||S.push(u):m?(v[f]=[u],Xt(g,f)&&(g[f]=v[f])):(f.value=[u],t.k&&(v[t.k]=f.value))}else m?(v[f]=a,Xt(g,f)&&(g[f]=a)):b&&(f.value=a,t.k&&(v[t.k]=a))};a?(_.id=-1,Cn(_,n)):_()}}}const Cn=VO;function hR(t){return dR(t)}function dR(t,e){const n=yv();n.__VUE__=!0;const{insert:i,remove:o,patchProp:u,createElement:a,createText:l,createComment:f,setText:d,setElementText:v,parentNode:g,nextSibling:m,setScopeId:b=Mr,insertStaticContent:_}=t,S=(I,T,C,L=null,V=null,K=null,tt=!1,X=null,nt=!!T.dynamicChildren)=>{if(I===T)return;I&&!Ju(I,T)&&(L=D(I),De(I,V,K,!0),I=null),T.patchFlag===-2&&(nt=!1,T.dynamicChildren=null);const{type:Q,ref:vt,shapeFlag:at}=T;switch(Q){case Pf:N(I,T,C,L);break;case ko:O(I,T,C,L);break;case Rl:I==null&&P(T,C,L,tt);break;case yn:oe(I,T,C,L,V,K,tt,X,nt);break;default:at&1?rt(I,T,C,L,V,K,tt,X,nt):at&6?ae(I,T,C,L,V,K,tt,X,nt):(at&64||at&128)&&Q.process(I,T,C,L,V,K,tt,X,nt,Z)}vt!=null&&V&&Nv(vt,I&&I.ref,K,T||I,!T)},N=(I,T,C,L)=>{if(I==null)i(T.el=l(T.children),C,L);else{const V=T.el=I.el;T.children!==I.children&&d(V,T.children)}},O=(I,T,C,L)=>{I==null?i(T.el=f(T.children||""),C,L):T.el=I.el},P=(I,T,C,L)=>{[I.el,I.anchor]=_(I.children,T,C,L,I.el,I.anchor)},U=({el:I,anchor:T},C,L)=>{let V;for(;I&&I!==T;)V=m(I),i(I,C,L),I=V;i(T,C,L)},q=({el:I,anchor:T})=>{let C;for(;I&&I!==T;)C=m(I),o(I),I=C;o(T)},rt=(I,T,C,L,V,K,tt,X,nt)=>{tt=tt||T.type==="svg",I==null?F(T,C,L,V,K,tt,X,nt):ht(I,T,V,K,tt,X,nt)},F=(I,T,C,L,V,K,tt,X)=>{let nt,Q;const{type:vt,props:at,shapeFlag:yt,transition:Nt,dirs:Vt}=I;if(nt=I.el=a(I.type,K,at&&at.is,at),yt&8?v(nt,I.children):yt&16&&W(I.children,nt,null,L,V,K&&vt!=="foreignObject",tt,X),Vt&&ao(I,null,L,"created"),Et(nt,I,I.scopeId,tt,L),at){for(const zt in at)zt!=="value"&&!xl(zt)&&u(nt,zt,null,at[zt],K,I.children,L,V,pt);"value"in at&&u(nt,"value",null,at.value),(Q=at.onVnodeBeforeMount)&&Or(Q,L,I)}Vt&&ao(I,null,L,"beforeMount");const _t=pR(V,Nt);_t&&Nt.beforeEnter(nt),i(nt,T,C),((Q=at&&at.onVnodeMounted)||_t||Vt)&&Cn(()=>{Q&&Or(Q,L,I),_t&&Nt.enter(nt),Vt&&ao(I,null,L,"mounted")},V)},Et=(I,T,C,L,V)=>{if(C&&b(I,C),L)for(let K=0;K<L.length;K++)b(I,L[K]);if(V){let K=V.subTree;if(T===K){const tt=V.vnode;Et(I,tt,tt.scopeId,tt.slotScopeIds,V.parent)}}},W=(I,T,C,L,V,K,tt,X,nt=0)=>{for(let Q=nt;Q<I.length;Q++){const vt=I[Q]=X?_i(I[Q]):Dr(I[Q]);S(null,vt,T,C,L,V,K,tt,X)}},ht=(I,T,C,L,V,K,tt)=>{const X=T.el=I.el;let{patchFlag:nt,dynamicChildren:Q,dirs:vt}=T;nt|=I.patchFlag&16;const at=I.props||we,yt=T.props||we;let Nt;C&&co(C,!1),(Nt=yt.onVnodeBeforeUpdate)&&Or(Nt,C,T,I),vt&&ao(T,I,C,"beforeUpdate"),C&&co(C,!0);const Vt=V&&T.type!=="foreignObject";if(Q?A(I.dynamicChildren,Q,X,C,L,Vt,K):tt||bt(I,T,X,null,C,L,Vt,K,!1),nt>0){if(nt&16)Qt(X,T,at,yt,C,L,V);else if(nt&2&&at.class!==yt.class&&u(X,"class",null,yt.class,V),nt&4&&u(X,"style",at.style,yt.style,V),nt&8){const _t=T.dynamicProps;for(let zt=0;zt<_t.length;zt++){const k=_t[zt],x=at[k],B=yt[k];(B!==x||k==="value")&&u(X,k,x,B,V,I.children,C,L,pt)}}nt&1&&I.children!==T.children&&v(X,T.children)}else!tt&&Q==null&&Qt(X,T,at,yt,C,L,V);((Nt=yt.onVnodeUpdated)||vt)&&Cn(()=>{Nt&&Or(Nt,C,T,I),vt&&ao(T,I,C,"updated")},L)},A=(I,T,C,L,V,K,tt)=>{for(let X=0;X<T.length;X++){const nt=I[X],Q=T[X],vt=nt.el&&(nt.type===yn||!Ju(nt,Q)||nt.shapeFlag&70)?g(nt.el):C;S(nt,Q,vt,null,L,V,K,tt,!0)}},Qt=(I,T,C,L,V,K,tt)=>{if(C!==L){if(C!==we)for(const X in C)!xl(X)&&!(X in L)&&u(I,X,C[X],null,tt,T.children,V,K,pt);for(const X in L){if(xl(X))continue;const nt=L[X],Q=C[X];nt!==Q&&X!=="value"&&u(I,X,Q,nt,tt,T.children,V,K,pt)}"value"in L&&u(I,"value",C.value,L.value)}},oe=(I,T,C,L,V,K,tt,X,nt)=>{const Q=T.el=I?I.el:l(""),vt=T.anchor=I?I.anchor:l("");let{patchFlag:at,dynamicChildren:yt,slotScopeIds:Nt}=T;Nt&&(X=X?X.concat(Nt):Nt),I==null?(i(Q,C,L),i(vt,C,L),W(T.children,C,vt,V,K,tt,X,nt)):at>0&&at&64&&yt&&I.dynamicChildren?(A(I.dynamicChildren,yt,C,V,K,tt,X),(T.key!=null||V&&T===V.subTree)&&uT(I,T,!0)):bt(I,T,C,vt,V,K,tt,X,nt)},ae=(I,T,C,L,V,K,tt,X,nt)=>{T.slotScopeIds=X,I==null?T.shapeFlag&512?V.ctx.activate(T,C,L,tt,nt):fe(T,C,L,V,K,tt,nt):Zt(I,T,nt)},fe=(I,T,C,L,V,K,tt)=>{const X=I.component=TR(I,L,V);if(XI(I)&&(X.ctx.renderer=Z),SR(X),X.asyncDep){if(V&&V.registerDep(X,it),!I.el){const nt=X.subTree=$t(ko);O(null,nt,T,C)}return}it(X,I,T,C,V,K,tt)},Zt=(I,T,C)=>{const L=T.component=I.component;if(LO(I,T,C))if(L.asyncDep&&!L.asyncResolved){Dt(L,T,C);return}else L.next=T,CO(L.update),L.update();else T.el=I.el,L.vnode=T},it=(I,T,C,L,V,K,tt)=>{const X=()=>{if(I.isMounted){let{next:vt,bu:at,u:yt,parent:Nt,vnode:Vt}=I,_t=vt,zt;co(I,!1),vt?(vt.el=Vt.el,Dt(I,vt,tt)):vt=Vt,at&&zp(at),(zt=vt.props&&vt.props.onVnodeBeforeUpdate)&&Or(zt,Nt,vt,Vt),co(I,!0);const k=Wp(I),x=I.subTree;I.subTree=k,S(x,k,g(x.el),D(x),I,V,K),vt.el=k.el,_t===null&&MO(I,k.el),yt&&Cn(yt,V),(zt=vt.props&&vt.props.onVnodeUpdated)&&Cn(()=>Or(zt,Nt,vt,Vt),V)}else{let vt;const{el:at,props:yt}=T,{bm:Nt,m:Vt,parent:_t}=I,zt=Ol(T);if(co(I,!1),Nt&&zp(Nt),!zt&&(vt=yt&&yt.onVnodeBeforeMount)&&Or(vt,_t,T),co(I,!0),at&&kt){const k=()=>{I.subTree=Wp(I),kt(at,I.subTree,I,V,null)};zt?T.type.__asyncLoader().then(()=>!I.isUnmounted&&k()):k()}else{const k=I.subTree=Wp(I);S(null,k,C,L,I,V,K),T.el=k.el}if(Vt&&Cn(Vt,V),!zt&&(vt=yt&&yt.onVnodeMounted)){const k=T;Cn(()=>Or(vt,_t,k),V)}(T.shapeFlag&256||_t&&Ol(_t.vnode)&&_t.vnode.shapeFlag&256)&&I.a&&Cn(I.a,V),I.isMounted=!0,T=C=L=null}},nt=I.effect=new Ig(X,()=>xg(Q),I.scope),Q=I.update=()=>nt.run();Q.id=I.uid,co(I,!0),Q()},Dt=(I,T,C)=>{T.component=I;const L=I.vnode.props;I.vnode=T,I.next=null,aR(I,T.props,L,C),fR(I,T.children,C),iu(),Kb(I),ou()},bt=(I,T,C,L,V,K,tt,X,nt=!1)=>{const Q=I&&I.children,vt=I?I.shapeFlag:0,at=T.children,{patchFlag:yt,shapeFlag:Nt}=T;if(yt>0){if(yt&128){Ce(Q,at,C,L,V,K,tt,X,nt);return}else if(yt&256){Ie(Q,at,C,L,V,K,tt,X,nt);return}}Nt&8?(vt&16&&pt(Q,V,K),at!==Q&&v(C,at)):vt&16?Nt&16?Ce(Q,at,C,L,V,K,tt,X,nt):pt(Q,V,K,!0):(vt&8&&v(C,""),Nt&16&&W(at,C,L,V,K,tt,X,nt))},Ie=(I,T,C,L,V,K,tt,X,nt)=>{I=I||Ns,T=T||Ns;const Q=I.length,vt=T.length,at=Math.min(Q,vt);let yt;for(yt=0;yt<at;yt++){const Nt=T[yt]=nt?_i(T[yt]):Dr(T[yt]);S(I[yt],Nt,C,null,V,K,tt,X,nt)}Q>vt?pt(I,V,K,!0,!1,at):W(T,C,L,V,K,tt,X,nt,at)},Ce=(I,T,C,L,V,K,tt,X,nt)=>{let Q=0;const vt=T.length;let at=I.length-1,yt=vt-1;for(;Q<=at&&Q<=yt;){const Nt=I[Q],Vt=T[Q]=nt?_i(T[Q]):Dr(T[Q]);if(Ju(Nt,Vt))S(Nt,Vt,C,null,V,K,tt,X,nt);else break;Q++}for(;Q<=at&&Q<=yt;){const Nt=I[at],Vt=T[yt]=nt?_i(T[yt]):Dr(T[yt]);if(Ju(Nt,Vt))S(Nt,Vt,C,null,V,K,tt,X,nt);else break;at--,yt--}if(Q>at){if(Q<=yt){const Nt=yt+1,Vt=Nt<vt?T[Nt].el:L;for(;Q<=yt;)S(null,T[Q]=nt?_i(T[Q]):Dr(T[Q]),C,Vt,V,K,tt,X,nt),Q++}}else if(Q>yt)for(;Q<=at;)De(I[Q],V,K,!0),Q++;else{const Nt=Q,Vt=Q,_t=new Map;for(Q=Vt;Q<=yt;Q++){const At=T[Q]=nt?_i(T[Q]):Dr(T[Q]);At.key!=null&&_t.set(At.key,Q)}let zt,k=0;const x=yt-Vt+1;let B=!1,J=0;const Tt=new Array(x);for(Q=0;Q<x;Q++)Tt[Q]=0;for(Q=Nt;Q<=at;Q++){const At=I[Q];if(k>=x){De(At,V,K,!0);continue}let Gt;if(At.key!=null)Gt=_t.get(At.key);else for(zt=Vt;zt<=yt;zt++)if(Tt[zt-Vt]===0&&Ju(At,T[zt])){Gt=zt;break}Gt===void 0?De(At,V,K,!0):(Tt[Gt-Vt]=Q+1,Gt>=J?J=Gt:B=!0,S(At,T[Gt],C,null,V,K,tt,X,nt),k++)}const dt=B?vR(Tt):Ns;for(zt=dt.length-1,Q=x-1;Q>=0;Q--){const At=Vt+Q,Gt=T[At],Ut=At+1<vt?T[At+1].el:L;Tt[Q]===0?S(null,Gt,C,Ut,V,K,tt,X,nt):B&&(zt<0||Q!==dt[zt]?Be(Gt,C,Ut,2):zt--)}}},Be=(I,T,C,L,V=null)=>{const{el:K,type:tt,transition:X,children:nt,shapeFlag:Q}=I;if(Q&6){Be(I.component.subTree,T,C,L);return}if(Q&128){I.suspense.move(T,C,L);return}if(Q&64){tt.move(I,T,C,Z);return}if(tt===yn){i(K,T,C);for(let at=0;at<nt.length;at++)Be(nt[at],T,C,L);i(I.anchor,T,C);return}if(tt===Rl){U(I,T,C);return}if(L!==2&&Q&1&&X)if(L===0)X.beforeEnter(K),i(K,T,C),Cn(()=>X.enter(K),V);else{const{leave:at,delayLeave:yt,afterLeave:Nt}=X,Vt=()=>i(K,T,C),_t=()=>{at(K,()=>{Vt(),Nt&&Nt()})};yt?yt(K,Vt,_t):_t()}else i(K,T,C)},De=(I,T,C,L=!1,V=!1)=>{const{type:K,props:tt,ref:X,children:nt,dynamicChildren:Q,shapeFlag:vt,patchFlag:at,dirs:yt}=I;if(X!=null&&Nv(X,null,C,I,!0),vt&256){T.ctx.deactivate(I);return}const Nt=vt&1&&yt,Vt=!Ol(I);let _t;if(Vt&&(_t=tt&&tt.onVnodeBeforeUnmount)&&Or(_t,T,I),vt&6)ct(I.component,C,L);else{if(vt&128){I.suspense.unmount(C,L);return}Nt&&ao(I,null,T,"beforeUnmount"),vt&64?I.type.remove(I,T,C,V,Z,L):Q&&(K!==yn||at>0&&at&64)?pt(Q,T,C,!1,!0):(K===yn&&at&384||!V&&vt&16)&&pt(nt,T,C),L&&pe(I)}(Vt&&(_t=tt&&tt.onVnodeUnmounted)||Nt)&&Cn(()=>{_t&&Or(_t,T,I),Nt&&ao(I,null,T,"unmounted")},C)},pe=I=>{const{type:T,el:C,anchor:L,transition:V}=I;if(T===yn){Fn(C,L);return}if(T===Rl){q(I);return}const K=()=>{o(C),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(I.shapeFlag&1&&V&&!V.persisted){const{leave:tt,delayLeave:X}=V,nt=()=>tt(C,K);X?X(I.el,K,nt):nt()}else K()},Fn=(I,T)=>{let C;for(;I!==T;)C=m(I),o(I),I=C;o(T)},ct=(I,T,C)=>{const{bum:L,scope:V,update:K,subTree:tt,um:X}=I;L&&zp(L),V.stop(),K&&(K.active=!1,De(tt,I,T,C)),X&&Cn(X,T),Cn(()=>{I.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},pt=(I,T,C,L=!1,V=!1,K=0)=>{for(let tt=K;tt<I.length;tt++)De(I[tt],T,C,L,V)},D=I=>I.shapeFlag&6?D(I.component.subTree):I.shapeFlag&128?I.suspense.next():m(I.anchor||I.el),j=(I,T,C)=>{I==null?T._vnode&&De(T._vnode,null,null,!0):S(T._vnode||null,I,T,null,null,null,C),Kb(),$I(),T._vnode=I},Z={p:S,um:De,m:Be,r:pe,mt:fe,mc:W,pc:bt,pbc:A,n:D,o:t};let st,kt;return e&&([st,kt]=e(Z)),{render:j,hydrate:st,createApp:oR(j,st)}}function co({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function pR(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function uT(t,e,n=!1){const i=t.children,o=e.children;if(Rt(i)&&Rt(o))for(let u=0;u<i.length;u++){const a=i[u];let l=o[u];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[u]=_i(o[u]),l.el=a.el),n||uT(a,l)),l.type===Pf&&(l.el=a.el)}}function vR(t){const e=t.slice(),n=[0];let i,o,u,a,l;const f=t.length;for(i=0;i<f;i++){const d=t[i];if(d!==0){if(o=n[n.length-1],t[o]<d){e[i]=o,n.push(i);continue}for(u=0,a=n.length-1;u<a;)l=u+a>>1,t[n[l]]<d?u=l+1:a=l;d<t[n[u]]&&(u>0&&(e[i]=n[u-1]),n[u]=i)}}for(u=n.length,a=n[u-1];u-- >0;)n[u]=a,a=e[a];return n}const gR=t=>t.__isTeleport,yn=Symbol.for("v-fgt"),Pf=Symbol.for("v-txt"),ko=Symbol.for("v-cmt"),Rl=Symbol.for("v-stc"),aa=[];let pr=null;function _n(t=!1){aa.push(pr=t?null:[])}function mR(){aa.pop(),pr=aa[aa.length-1]||null}let Ia=1;function e_(t){Ia+=t}function aT(t){return t.dynamicChildren=Ia>0?pr||Ns:null,mR(),Ia>0&&pr&&pr.push(t),t}function nr(t,e,n,i,o,u){return aT(gt(t,e,n,i,o,u,!0))}function kv(t,e,n,i,o){return aT($t(t,e,n,i,o,!0))}function Cv(t){return t?t.__v_isVNode===!0:!1}function Ju(t,e){return t.type===e.type&&t.key===e.key}const Lf="__vInternal",cT=({key:t})=>t??null,Dl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ve(t)||he(t)||Lt(t)?{i:zn,r:t,k:e,f:!!n}:t:null);function gt(t,e=null,n=null,i=0,o=null,u=t===yn?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&cT(e),ref:e&&Dl(e),scopeId:zI,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:zn};return l?(Fg(f,n),u&128&&t.normalize(f)):n&&(f.shapeFlag|=Ve(n)?8:16),Ia>0&&!a&&pr&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&pr.push(f),f}const $t=yR;function yR(t,e=null,n=null,i=0,o=null,u=!1){if((!t||t===GI)&&(t=ko),Cv(t)){const l=Ds(t,e,!0);return n&&Fg(l,n),Ia>0&&!u&&pr&&(l.shapeFlag&6?pr[pr.indexOf(t)]=l:pr.push(l)),l.patchFlag|=-2,l}if(xR(t)&&(t=t.__vccOpts),e){e=wR(e);let{class:l,style:f}=e;l&&!Ve(l)&&(e.class=ki(l)),ge(f)&&(PI(f)&&!Rt(f)&&(f=nn({},f)),e.style=_g(f))}const a=Ve(t)?1:FO(t)?128:gR(t)?64:ge(t)?4:Lt(t)?2:0;return gt(t,e,n,i,o,a,u,!0)}function wR(t){return t?PI(t)||Lf in t?nn({},t):t:null}function Ds(t,e,n=!1){const{props:i,ref:o,patchFlag:u,children:a}=t,l=e?fT(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&cT(l),ref:e&&e.ref?n&&o?Rt(o)?o.concat(Dl(e)):[o,Dl(e)]:Dl(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==yn?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ds(t.ssContent),ssFallback:t.ssFallback&&Ds(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function bR(t=" ",e=0){return $t(Pf,null,t,e)}function _R(t,e){const n=$t(Rl,null,t);return n.staticCount=e,n}function lT(t="",e=!1){return e?(_n(),kv(ko,null,t)):$t(ko,null,t)}function Dr(t){return t==null||typeof t=="boolean"?$t(ko):Rt(t)?$t(yn,null,t.slice()):typeof t=="object"?_i(t):$t(Pf,null,String(t))}function _i(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ds(t)}function Fg(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Rt(e))n=16;else if(typeof e=="object")if(i&65){const o=e.default;o&&(o._c&&(o._d=!1),Fg(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(Lf in e)?e._ctx=zn:o===3&&zn&&(zn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Lt(e)?(e={default:e,_ctx:zn},n=32):(e=String(e),i&64?(n=16,e=[bR(e)]):n=8);t.children=e,t.shapeFlag|=n}function fT(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const o in i)if(o==="class")e.class!==i.class&&(e.class=ki([e.class,i.class]));else if(o==="style")e.style=_g([e.style,i.style]);else if(Sf(o)){const u=e[o],a=i[o];a&&u!==a&&!(Rt(u)&&u.includes(a))&&(e[o]=u?[].concat(u,a):a)}else o!==""&&(e[o]=i[o])}return e}function Or(t,e,n,i=null){gr(t,e,7,[n,i])}const ER=eT();let IR=0;function TR(t,e,n){const i=t.type,o=(e?e.appContext:t.appContext)||ER,u={uid:IR++,vnode:t,type:i,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new bI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rT(i,o),emitsOptions:HI(i,o),emit:null,emitted:null,propsDefaults:we,inheritAttrs:i.inheritAttrs,ctx:we,data:we,props:we,attrs:we,slots:we,refs:we,setupState:we,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=e?e.root:u,u.emit=RO.bind(null,u),t.ce&&t.ce(u),u}let $e=null;const Mf=()=>$e||zn;let Vg,ps,n_="__VUE_INSTANCE_SETTERS__";(ps=yv()[n_])||(ps=yv()[n_]=[]),ps.push(t=>$e=t),Vg=t=>{ps.length>1?ps.forEach(e=>e(t)):ps[0](t)};const Ps=t=>{Vg(t),t.scope.on()},Io=()=>{$e&&$e.scope.off(),Vg(null)};function hT(t){return t.vnode.shapeFlag&4}let Ta=!1;function SR(t,e=!1){Ta=e;const{props:n,children:i}=t.vnode,o=hT(t);uR(t,n,o,e),lR(t,i);const u=o?AR(t,e):void 0;return Ta=!1,u}function AR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=xf(new Proxy(t.ctx,JO));const{setup:i}=n;if(i){const o=t.setupContext=i.length>1?kR(t):null;Ps(t),iu();const u=Oi(i,t,0,[t.props,o]);if(ou(),Io(),vI(u)){if(u.then(Io,Io),e)return u.then(a=>{r_(t,a,e)}).catch(a=>{Of(a,t,0)});t.asyncDep=u}else r_(t,u,e)}else dT(t,e)}function r_(t,e,n){Lt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ge(e)&&(t.setupState=jI(e)),dT(t,n)}let i_;function dT(t,e,n){const i=t.type;if(!t.render){if(!e&&i_&&!i.render){const o=i.template||Lg(t).template;if(o){const{isCustomElement:u,compilerOptions:a}=t.appContext.config,{delimiters:l,compilerOptions:f}=i,d=nn(nn({isCustomElement:u,delimiters:l},a),f);i.render=i_(o,d)}}t.render=i.render||Mr}{Ps(t),iu();try{ZO(t)}finally{ou(),Io()}}}function NR(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Dn(t,"get","$attrs"),e[n]}}))}function kR(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return NR(t)},slots:t.slots,emit:t.emit,expose:e}}function jg(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(jI(xf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ua)return ua[n](t)},has(e,n){return n in e||n in ua}}))}function CR(t,e=!0){return Lt(t)?t.displayName||t.name:t.name||e&&t.__name}function xR(t){return Lt(t)&&"__vccOpts"in t}const Mt=(t,e)=>AO(t,e,Ta);function Ls(t,e,n){const i=arguments.length;return i===2?ge(e)&&!Rt(e)?Cv(e)?$t(t,null,[e]):$t(t,e):$t(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Cv(n)&&(n=[n]),$t(t,e,n))}const OR=Symbol.for("v-scx"),RR=()=>ir(OR),DR="3.3.11",PR="http://www.w3.org/2000/svg",vo=typeof document<"u"?document:null,o_=vo&&vo.createElement("template"),LR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const o=e?vo.createElementNS(PR,t):vo.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:t=>vo.createTextNode(t),createComment:t=>vo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>vo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,o,u){const a=n?n.previousSibling:e.lastChild;if(o&&(o===u||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{o_.innerHTML=i?`<svg>${t}</svg>`:t;const l=o_.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}e.insertBefore(l,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},MR=Symbol("_vtc");function FR(t,e,n){const i=t[MR];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const VR=Symbol("_vod");function jR(t,e,n){const i=t.style,o=Ve(n);if(n&&!o){if(e&&!Ve(e))for(const u in e)n[u]==null&&xv(i,u,"");for(const u in n)xv(i,u,n[u])}else{const u=i.display;o?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),VR in t&&(i.display=u)}}const s_=/\s*!important$/;function xv(t,e,n){if(Rt(n))n.forEach(i=>xv(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=UR(t,e);s_.test(n)?t.setProperty(ru(i),n.replace(s_,""),"important"):t[i]=n}}const u_=["Webkit","Moz","ms"],Xp={};function UR(t,e){const n=Xp[e];if(n)return n;let i=jr(e);if(i!=="filter"&&i in t)return Xp[e]=i;i=kf(i);for(let o=0;o<u_.length;o++){const u=u_[o]+i;if(u in t)return Xp[e]=u}return e}const a_="http://www.w3.org/1999/xlink";function BR(t,e,n,i,o){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(a_,e.slice(6,e.length)):t.setAttributeNS(a_,e,n);else{const u=Xx(e);n==null||u&&!yI(n)?t.removeAttribute(e):t.setAttribute(e,u?"":n)}}function qR(t,e,n,i,o,u,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,o,u),t[e]=n??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){t._value=n;const d=l==="OPTION"?t.getAttribute("value"):t.value,v=n??"";d!==v&&(t.value=v),n==null&&t.removeAttribute(e);return}let f=!1;if(n===""||n==null){const d=typeof t[e];d==="boolean"?n=yI(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{t[e]=n}catch{}f&&t.removeAttribute(e)}function $R(t,e,n,i){t.addEventListener(e,n,i)}function KR(t,e,n,i){t.removeEventListener(e,n,i)}const c_=Symbol("_vei");function HR(t,e,n,i,o=null){const u=t[c_]||(t[c_]={}),a=u[e];if(i&&a)a.value=i;else{const[l,f]=zR(e);if(i){const d=u[e]=QR(i,o);$R(t,l,d,f)}else a&&(KR(t,l,a,f),u[e]=void 0)}}const l_=/(?:Once|Passive|Capture)$/;function zR(t){let e;if(l_.test(t)){e={};let i;for(;i=t.match(l_);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ru(t.slice(2)),e]}let Yp=0;const GR=Promise.resolve(),WR=()=>Yp||(GR.then(()=>Yp=0),Yp=Date.now());function QR(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;gr(XR(i,n.value),e,5,[i])};return n.value=t,n.attached=WR(),n}function XR(t,e){if(Rt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>o=>!o._stopped&&i&&i(o))}else return e}const f_=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,YR=(t,e,n,i,o=!1,u,a,l,f)=>{e==="class"?FR(t,i,o):e==="style"?jR(t,n,i):Sf(e)?yg(e)||HR(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):JR(t,e,i,o))?qR(t,e,i,u,a,l,f):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),BR(t,e,i,o))};function JR(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&f_(e)&&Lt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return f_(e)&&Ve(n)?!1:e in t}const ZR=["ctrl","shift","alt","meta"],tD={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ZR.some(n=>t[`${n}Key`]&&!e.includes(n))},ca=(t,e)=>t._withMods||(t._withMods=(n,...i)=>{for(let o=0;o<e.length;o++){const u=tD[e[o]];if(u&&u(n,e))return}return t(n,...i)}),eD=nn({patchProp:YR},LR);let h_;function nD(){return h_||(h_=hR(eD))}const rD=(...t)=>{const e=nD().createApp(...t),{mount:n}=e;return e.mount=i=>{const o=iD(i);if(!o)return;const u=e._component;!Lt(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function iD(t){return Ve(t)?document.querySelector(t):t}var oD=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let pT;const Ff=t=>pT=t,vT=Symbol();function Ov(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var la;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(la||(la={}));function sD(){const t=_I(!0),e=t.run(()=>mn({}));let n=[],i=[];const o=xf({install(u){Ff(o),o._a=u,u.provide(vT,o),u.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(u){return!this._a&&!oD?i.push(u):n.push(u),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return o}const gT=()=>{};function d_(t,e,n,i=gT){t.push(e);const o=()=>{const u=t.indexOf(e);u>-1&&(t.splice(u,1),i())};return!n&&EI()&&Jx(o),o}function vs(t,...e){t.slice().forEach(n=>{n(...e)})}const uD=t=>t();function Rv(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],o=t[n];Ov(o)&&Ov(i)&&t.hasOwnProperty(n)&&!he(i)&&!xi(i)?t[n]=Rv(o,i):t[n]=i}return t}const aD=Symbol();function cD(t){return!Ov(t)||!t.hasOwnProperty(aD)}const{assign:wi}=Object;function lD(t){return!!(he(t)&&t.effect)}function fD(t,e,n,i){const{state:o,actions:u,getters:a}=e,l=n.state.value[t];let f;function d(){l||(n.state.value[t]=o?o():{});const v=EO(n.state.value[t]);return wi(v,u,Object.keys(a||{}).reduce((g,m)=>(g[m]=xf(Mt(()=>{Ff(n);const b=n._s.get(t);return a[m].call(b,b)})),g),{}))}return f=mT(t,d,e,n,i,!0),f}function mT(t,e,n={},i,o,u){let a;const l=wi({actions:{}},n),f={deep:!0};let d,v,g=[],m=[],b;const _=i.state.value[t];!u&&!_&&(i.state.value[t]={}),mn({});let S;function N(W){let ht;d=v=!1,typeof W=="function"?(W(i.state.value[t]),ht={type:la.patchFunction,storeId:t,events:b}):(Rv(i.state.value[t],W),ht={type:la.patchObject,payload:W,storeId:t,events:b});const A=S=Symbol();qn().then(()=>{S===A&&(d=!0)}),v=!0,vs(g,ht,i.state.value[t])}const O=u?function(){const{state:ht}=n,A=ht?ht():{};this.$patch(Qt=>{wi(Qt,A)})}:gT;function P(){a.stop(),g=[],m=[],i._s.delete(t)}function U(W,ht){return function(){Ff(i);const A=Array.from(arguments),Qt=[],oe=[];function ae(it){Qt.push(it)}function fe(it){oe.push(it)}vs(m,{args:A,name:W,store:rt,after:ae,onError:fe});let Zt;try{Zt=ht.apply(this&&this.$id===t?this:rt,A)}catch(it){throw vs(oe,it),it}return Zt instanceof Promise?Zt.then(it=>(vs(Qt,it),it)).catch(it=>(vs(oe,it),Promise.reject(it))):(vs(Qt,Zt),Zt)}}const q={_p:i,$id:t,$onAction:d_.bind(null,m),$patch:N,$reset:O,$subscribe(W,ht={}){const A=d_(g,W,ht.detached,()=>Qt()),Qt=a.run(()=>rr(()=>i.state.value[t],oe=>{(ht.flush==="sync"?v:d)&&W({storeId:t,type:la.direct,events:b},oe)},wi({},f,ht)));return A},$dispose:P},rt=ei(q);i._s.set(t,rt);const Et=(i._a&&i._a.runWithContext||uD)(()=>i._e.run(()=>(a=_I()).run(e)));for(const W in Et){const ht=Et[W];if(he(ht)&&!lD(ht)||xi(ht))u||(_&&cD(ht)&&(he(ht)?ht.value=_[W]:Rv(ht,_[W])),i.state.value[t][W]=ht);else if(typeof ht=="function"){const A=U(W,ht);Et[W]=A,l.actions[W]=ht}}return wi(rt,Et),wi(Jt(rt),Et),Object.defineProperty(rt,"$state",{get:()=>i.state.value[t],set:W=>{N(ht=>{wi(ht,W)})}}),i._p.forEach(W=>{wi(rt,a.run(()=>W({store:rt,app:i._a,pinia:i,options:l})))}),_&&u&&n.hydrate&&n.hydrate(rt.$state,_),d=!0,v=!0,rt}function yT(t,e,n){let i,o;const u=typeof e=="function";typeof t=="string"?(i=t,o=u?n:e):(o=t,i=t.id);function a(l,f){const d=sR();return l=l||(d?ir(vT,null):null),l&&Ff(l),l=pT,l._s.has(i)||(u?mT(i,e,o,l):fD(i,o,l)),l._s.get(i)}return a.$id=i,a}let hD="Store";function dD(...t){return t.reduce((e,n)=>(e[n.$id+hD]=function(){return n(this.$pinia)},e),{})}function pD(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]=function(){return t(this.$pinia)[i]},n),{}):Object.keys(e).reduce((n,i)=>(n[i]=function(){const o=t(this.$pinia),u=e[i];return typeof u=="function"?u.call(this,o):o[u]},n),{})}function wT(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]=function(...o){return t(this.$pinia)[i](...o)},n),{}):Object.keys(e).reduce((n,i)=>(n[i]=function(...o){return t(this.$pinia)[e[i]](...o)},n),{})}function bT(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]={get(){return t(this.$pinia)[i]},set(o){return t(this.$pinia)[i]=o}},n),{}):Object.keys(e).reduce((n,i)=>(n[i]={get(){return t(this.$pinia)[e[i]]},set(o){return t(this.$pinia)[e[i]]=o}},n),{})}const Dv=yT("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(t){return t.isOpen?"":"hidden"}}});var Pv=function(t,e){return Pv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Pv(t,e)};function St(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Sa=function(){return Sa=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},Sa.apply(this,arguments)};function z(t,e,n,i){function o(u){return u instanceof n?u:new n(function(a){a(u)})}return new(n||(n=Promise))(function(u,a){function l(v){try{d(i.next(v))}catch(g){a(g)}}function f(v){try{d(i.throw(v))}catch(g){a(g)}}function d(v){v.done?u(v.value):o(v.value).then(l,f)}d((i=i.apply(t,e||[])).next())})}function $(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(v){return f([d,v])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(u=d[0]&2?o.return:d[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,d[1])).done)return u;switch(o=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){n.label=d[1];break}if(d[0]===6&&n.label<u[1]){n.label=u[1],u=d;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(d);break}u[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(v){d=[6,v],o=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Jp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yl(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),o,u=[],a;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return u}function ke(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,u;i<o;i++)(u||!(i in e))&&(u||(u=Array.prototype.slice.call(e,0,i)),u[i]=e[i]);return t.concat(u||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _T=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},vD=function(t){for(var e=[],n=0,i=0;n<t.length;){var o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){var u=t[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){var u=t[n++],a=t[n++],l=t[n++],f=((o&7)<<18|(u&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{var u=t[n++],a=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|a&63)}}return e.join("")},gD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<t.length;o+=3){var u=t[o],a=o+1<t.length,l=a?t[o+1]:0,f=o+2<t.length,d=f?t[o+2]:0,v=u>>2,g=(u&3)<<4|l>>4,m=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(m=64)),i.push(n[v],n[g],n[m],n[b])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_T(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<t.length;){var u=n[t.charAt(o++)],a=o<t.length,l=a?n[t.charAt(o)]:0;++o;var f=o<t.length,d=f?n[t.charAt(o)]:64;++o;var v=o<t.length,g=v?n[t.charAt(o)]:64;if(++o,u==null||l==null||d==null||g==null)throw Error();var m=u<<2|l>>4;if(i.push(m),d!==64){var b=l<<4&240|d>>2;if(i.push(b),g!==64){var _=d<<6&192|g;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},mD=function(t){var e=_T(t);return gD.encodeByteArray(e,!0)},p_=function(t){return mD(t).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){return Aa(void 0,t)}function Aa(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var i in e)!e.hasOwnProperty(i)||!wD(i)||(t[i]=Aa(t[i],e[i]));return t}function wD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bD=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){e.resolve=n,e.reject=i})}return t.prototype.wrapCallback=function(e){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(i):e(i,o))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Sa({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[p_(JSON.stringify(n)),p_(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ED(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Co())}function ET(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ID(){return typeof self=="object"&&self.self===self}function TD(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AD(){return Co().indexOf("Electron/")>=0}function ND(){var t=Co();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kD(){return Co().indexOf("MSAppHost/")>=0}function CD(){return!ET()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xD="FirebaseError",OD=function(t){St(e,t);function e(n,i,o){var u=t.call(this,i)||this;return u.code=n,u.customData=o,u.name=xD,Object.setPrototypeOf(u,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,Ug.prototype.create),u}return e}(Error),Ug=function(){function t(e,n,i){this.service=e,this.serviceName=n,this.errors=i}return t.prototype.create=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+e,a=this.errors[e],l=a?RD(a,o):"Error",f=this.serviceName+": "+l+" ("+u+").",d=new OD(u,f,o);return d},t}();function RD(t,e){return t.replace(DD,function(n,i){var o=e[i];return o!=null?String(o):"<"+i+"?>"})}var DD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function PD(t,e){var n=new LD(t,e);return n.subscribe.bind(n)}var LD=function(){function t(e,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(i)}).catch(function(o){i.error(o)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,i){var o=this,u;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");MD(e,["next","error","complete"])?u=e:u={next:e,error:n,complete:i},u.next===void 0&&(u.next=Zp),u.error===void 0&&(u.error=Zp),u.complete===void 0&&(u.complete=Zp);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[e]!==void 0)try{n(i.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function MD(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o in t&&typeof t[o]=="function")return!0}return!1}function Zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t){return t&&t._delegate?t._delegate:t}var Vf=function(){function t(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FD=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var i=new bD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,i;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(jD(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}try{for(var o=Jp(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var a=yl(u.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var v=this.getOrInitializeService({instanceIdentifier:d});f.resolve(v)}catch{}}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=fo),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return z(this,void 0,void 0,function(){var e;return $(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(ke(ke([],yl(e.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),yl(e.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=fo),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=fo),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,i;e===void 0&&(e={});var o=e.options,u=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var f=Jp(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var v=yl(d.value,2),g=v[0],m=v[1],b=this.normalizeInstanceIdentifier(g);a===b&&m.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},t.prototype.onInit=function(e,n){var i,o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(o,u);var a=this.instances.get(o);return a&&e(a,o),function(){u.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var i,o,u=this.onInitCallbacks.get(n);if(u)try{for(var a=Jp(u),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(e,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,i=e.options,o=i===void 0?{}:i,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:VD(n),options:o}),this.instances.set(n,u),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=fo),this.component?this.component.multipleInstances?e:fo:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function VD(t){return t===fo?void 0:t}function jD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UD=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new FD(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function hr(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var u=arguments[e],a=0,l=u.length;a<l;a++,o++)i[o]=u[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lo,Bg=[],ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ee||(ee={}));var IT={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},BD=ee.INFO,qD=(lo={},lo[ee.DEBUG]="log",lo[ee.VERBOSE]="log",lo[ee.INFO]="info",lo[ee.WARN]="warn",lo[ee.ERROR]="error",lo),$D=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=new Date().toISOString(),u=qD[e];if(u)console[u].apply(console,hr(["["+o+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},TT=function(){function t(e){this.name=e,this._logLevel=BD,this._logHandler=$D,this._userLogHandler=null,Bg.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in ee))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?IT[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,hr([this,ee.DEBUG],e)),this._logHandler.apply(this,hr([this,ee.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,hr([this,ee.VERBOSE],e)),this._logHandler.apply(this,hr([this,ee.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,hr([this,ee.INFO],e)),this._logHandler.apply(this,hr([this,ee.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,hr([this,ee.WARN],e)),this._logHandler.apply(this,hr([this,ee.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,hr([this,ee.ERROR],e)),this._logHandler.apply(this,hr([this,ee.ERROR],e))},t}();function KD(t){Bg.forEach(function(e){e.setLogLevel(t)})}function HD(t,e){for(var n=function(a){var l=null;e&&e.level&&(l=IT[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var v=[],g=2;g<arguments.length;g++)v[g-2]=arguments[g];var m=v.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&t({level:ee[d].toLowerCase(),message:m,args:v,type:f.name})}},i=0,o=Bg;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vi,zD=(vi={},vi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",vi["bad-app-name"]="Illegal App name: '{$appName}",vi["duplicate-app"]="Firebase App named '{$appName}' already exists",vi["app-deleted"]="Firebase App named '{$appName}' already deleted",vi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",vi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",vi),ws=new Ug("app","Firebase",zD),ST="@firebase/app",GD="0.6.30",WD="@firebase/analytics",QD="@firebase/app-check",XD="@firebase/auth",YD="@firebase/database",JD="@firebase/functions",ZD="@firebase/installations",tP="@firebase/messaging",eP="@firebase/performance",nP="@firebase/remote-config",rP="@firebase/storage",iP="@firebase/firestore",oP="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,Gl="[DEFAULT]",sP=(on={},on[ST]="fire-core",on[WD]="fire-analytics",on[QD]="fire-app-check",on[XD]="fire-auth",on[YD]="fire-rtdb",on[JD]="fire-fn",on[ZD]="fire-iid",on[tP]="fire-fcm",on[eP]="fire-perf",on[nP]="fire-rc",on[rP]="fire-gcs",on[iP]="fire-fst",on["fire-js"]="fire-js",on[oP]="fire-js-all",on);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ms=new TT("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pl=function(){function t(e,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=yD(e),this.container=new UD(n.name),this._addComponent(new Vf("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return o._addComponent(u)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var i;n===void 0&&(n=Gl),this.checkDestroyed_();var o=this.container.getProvider(e);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=Gl),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){Ms.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ws.create("app-deleted",{appName:this.name_})},t}();Pl.prototype.name&&Pl.prototype.options||Pl.prototype.delete||console.log("dc");var uP="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t){var e={},n=new Map,i={__esModule:!0,initializeApp:a,app:u,registerVersion:d,setLogLevel:KD,onLog:v,apps:null,SDK_VERSION:uP,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:g}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(m){delete e[m]}function u(m){if(m=m||Gl,!v_(e,m))throw ws.create("no-app",{appName:m});return e[m]}u.App=t;function a(m,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var _=b;b={name:_}}var S=b;S.name===void 0&&(S.name=Gl);var N=S.name;if(typeof N!="string"||!N)throw ws.create("bad-app-name",{appName:String(N)});if(v_(e,N))throw ws.create("duplicate-app",{appName:N});var O=new t(m,S,i);return e[N]=O,O}function l(){return Object.keys(e).map(function(m){return e[m]})}function f(m){var b=m.name;if(n.has(b))return Ms.debug("There were multiple attempts to register component "+b+"."),m.type==="PUBLIC"?i[b]:null;if(n.set(b,m),m.type==="PUBLIC"){var _=function(P){if(P===void 0&&(P=u()),typeof P[b]!="function")throw ws.create("invalid-app-argument",{appName:b});return P[b]()};m.serviceProps!==void 0&&Aa(_,m.serviceProps),i[b]=_,t.prototype[b]=function(){for(var P=[],U=0;U<arguments.length;U++)P[U]=arguments[U];var q=this._getService.bind(this,b);return q.apply(this,m.multipleInstances?P:[])}}for(var S=0,N=Object.keys(e);S<N.length;S++){var O=N[S];e[O]._addComponent(m)}return m.type==="PUBLIC"?i[b]:null}function d(m,b,_){var S,N=(S=sP[m])!==null&&S!==void 0?S:m;_&&(N+="-"+_);var O=N.match(/\s|\//),P=b.match(/\s|\//);if(O||P){var U=['Unable to register library "'+N+'" with version "'+b+'":'];O&&U.push('library name "'+N+'" contains illegal characters (whitespace or "/")'),O&&P&&U.push("and"),P&&U.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),Ms.warn(U.join(" "));return}f(new Vf(N+"-version",function(){return{library:N,version:b}},"VERSION"))}function v(m,b){if(m!==null&&typeof m!="function")throw ws.create("invalid-log-argument");HD(m,b)}function g(m,b){if(b==="serverAuth")return null;var _=b;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(){var t=aP(Pl);t.INTERNAL=Sa(Sa({},t.INTERNAL),{createFirebaseNamespace:AT,extendNamespace:e,createSubscribe:PD,ErrorFactory:Ug,deepExtend:Aa});function e(n){Aa(t,n)}return t}var qg=AT();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cP=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(lP(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},t}();function lP(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t,e){t.INTERNAL.registerComponent(new Vf("platform-logger",function(n){return new cP(n)},"PRIVATE")),t.registerVersion(ST,GD,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(ID()&&self.firebase!==void 0){Ms.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var g_=self.firebase.SDK_VERSION;g_&&g_.indexOf("LITE")>=0&&Ms.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var hP=qg.initializeApp;qg.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ET()&&Ms.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),hP.apply(void 0,t)};var xt=qg;fP(xt);var dP="firebase",NT="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xt.registerVersion(dP,NT,"app");xt.SDK_VERSION=NT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){r!=Array.prototype&&r!=Object.prototype&&(r[s]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,s){if(s){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var p=r[h];p in c||(c[p]={}),c=c[p]}r=r[r.length-1],h=c[r],s=s(h),s!=h&&s!=null&&e(c,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function a(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(w){this.b=0,this.c=void 0,this.a=[];var E=this.f();try{w(E.resolve,E.reject)}catch(M){E.reject(M)}}function c(){this.a=null}function h(w){return w instanceof s?w:new s(function(E){E(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var E=this;this.c(function(){E.g()})}this.a.push(w)};var p=i.setTimeout;c.prototype.c=function(w){p(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var E=0;E<w.length;++E){var M=w[E];w[E]=null;try{M()}catch(H){this.f(H)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},s.prototype.f=function(){function w(H){return function(Ot){M||(M=!0,H.call(E,Ot))}}var E=this,M=!1;return{resolve:w(this.m),reject:w(this.g)}},s.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof s)this.s(w);else{t:switch(typeof w){case"object":var E=w!=null;break t;case"function":E=!0;break t;default:E=!1}E?this.v(w):this.h(w)}},s.prototype.v=function(w){var E=void 0;try{E=w.then}catch(M){this.g(M);return}typeof E=="function"?this.u(E,w):this.h(w)},s.prototype.g=function(w){this.i(2,w)},s.prototype.h=function(w){this.i(1,w)},s.prototype.i=function(w,E){if(this.b!=0)throw Error("Cannot settle("+w+", "+E+"): Promise already settled in state"+this.b);this.b=w,this.c=E,this.l()},s.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)y.b(this.a[w]);this.a=null}};var y=new c;return s.prototype.s=function(w){var E=this.f();w.Ra(E.resolve,E.reject)},s.prototype.u=function(w,E){var M=this.f();try{w.call(E,M.resolve,M.reject)}catch(H){M.reject(H)}},s.prototype.then=function(w,E){function M(te,ze){return typeof te=="function"?function(zr){try{H(te(zr))}catch(Kp){Ot(Kp)}}:ze}var H,Ot,se=new s(function(te,ze){H=te,Ot=ze});return this.Ra(M(w,H),M(E,Ot)),se},s.prototype.catch=function(w){return this.then(void 0,w)},s.prototype.Ra=function(w,E){function M(){switch(H.b){case 1:w(H.c);break;case 2:E(H.c);break;default:throw Error("Unexpected state: "+H.b)}}var H=this;this.a==null?y.b(M):this.a.push(M)},s.resolve=h,s.reject=function(w){return new s(function(E,M){M(w)})},s.race=function(w){return new s(function(E,M){for(var H=a(w),Ot=H.next();!Ot.done;Ot=H.next())h(Ot.value).Ra(E,M)})},s.all=function(w){var E=a(w),M=E.next();return M.done?h([]):new s(function(H,Ot){function se(zr){return function(Kp){te[zr]=Kp,ze--,ze==0&&H(te)}}var te=[],ze=0;do te.push(void 0),ze++,h(M.value).Ra(se(te.length-1),Ot),M=E.next();while(!M.done)})},s});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,v=null;function g(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function m(){}function b(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function _(r){var s=b(r);return s=="array"||s=="object"&&typeof r.length=="number"}function S(r){return b(r)=="function"}function N(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function O(r){return Object.prototype.hasOwnProperty.call(r,P)&&r[P]||(r[P]=++U)}var P="closure_uid_"+(1e9*Math.random()>>>0),U=0;function q(r,s,c){return r.call.apply(r.bind,arguments)}function rt(r,s,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,h),r.apply(s,p)}}return function(){return r.apply(s,arguments)}}function F(r,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?F=q:F=rt,F.apply(null,arguments)}function Et(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function W(r,s){function c(){}c.prototype=s.prototype,r.bb=s.prototype,r.prototype=new c,r.prototype.constructor=r}function ht(r){return r}function A(r,s,c){this.code=oe+r,this.message=s||ae[r]||"",this.a=c||null}W(A,Error),A.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},A.prototype.toJSON=function(){return this.w()};function Qt(r){var s=r&&r.code;return s?new A(s.substring(oe.length),r.message,r.serverResponse):null}var oe="auth/",ae={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},fe={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Zt(r){for(var s in fe)if(fe[s].id===r)return r=fe[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var it;it=Zt("__EID__")?"__EID__":void 0;function Dt(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function bt(r){if(Error.captureStackTrace)Error.captureStackTrace(this,bt);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}W(bt,Error),bt.prototype.name="CustomError";function Ie(r,s){r=r.split("%s");for(var c="",h=r.length-1,p=0;p<h;p++)c+=r[p]+(p<s.length?s[p]:"%s");bt.call(this,c+r[h])}W(Ie,bt),Ie.prototype.name="AssertionError";function Ce(r,s){throw new Ie("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function Be(r,s){this.c=r,this.f=s,this.b=0,this.a=null}Be.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function De(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function pe(){this.b=this.a=null}var Fn=new Be(function(){return new pt},function(r){r.reset()});pe.prototype.add=function(r,s){var c=Fn.get();c.set(r,s),this.b?this.b.next=c:this.a=c,this.b=c};function ct(){var r=_y,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function pt(){this.next=this.b=this.a=null}pt.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},pt.prototype.reset=function(){this.next=this.b=this.a=null};var D=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===s)return c;return-1},j=Array.prototype.forEach?function(r,s,c){Array.prototype.forEach.call(r,s,c)}:function(r,s,c){for(var h=r.length,p=typeof r=="string"?r.split(""):r,y=0;y<h;y++)y in p&&s.call(c,p[y],y,r)};function Z(r,s){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&s.call(void 0,c[h],h,r)}var st=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=[],p=0,y=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in y){var E=y[w];s.call(void 0,E,w,r)&&(h[p++]=E)}return h},kt=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=Array(c),p=typeof r=="string"?r.split(""):r,y=0;y<c;y++)y in p&&(h[y]=s.call(void 0,p[y],y,r));return h},I=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=typeof r=="string"?r.split(""):r,p=0;p<c;p++)if(p in h&&s.call(void 0,h[p],p,r))return!0;return!1};function T(r){t:{for(var s=yk,c=r.length,h=typeof r=="string"?r.split(""):r,p=0;p<c;p++)if(p in h&&s.call(void 0,h[p],p,r)){s=p;break t}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function C(r,s){return 0<=D(r,s)}function L(r,s){s=D(r,s);var c;return(c=0<=s)&&Array.prototype.splice.call(r,s,1),c}function V(r,s){var c=0;Z(r,function(h,p){s.call(void 0,h,p,r)&&Array.prototype.splice.call(r,p,1).length==1&&c++})}function K(r){return Array.prototype.concat.apply([],arguments)}function tt(r){var s=r.length;if(0<s){for(var c=Array(s),h=0;h<s;h++)c[h]=r[h];return c}return[]}var X=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},nt=/&/g,Q=/</g,vt=/>/g,at=/"/g,yt=/'/g,Nt=/\x00/g,Vt=/[\x00&<>"']/;function _t(r,s){return r.indexOf(s)!=-1}function zt(r,s){return r<s?-1:r>s?1:0}var k;t:{var x=f.navigator;if(x){var B=x.userAgent;if(B){k=B;break t}}k=""}function J(r){return _t(k,r)}function Tt(r,s){for(var c in r)s.call(void 0,r[c],c,r)}function dt(r){for(var s in r)return!1;return!0}function At(r){var s={},c;for(c in r)s[c]=r[c];return s}var Gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ut(r,s){for(var c,h,p=1;p<arguments.length;p++){h=arguments[p];for(c in h)r[c]=h[c];for(var y=0;y<Gt.length;y++)c=Gt[y],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function Qe(r,s){t:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var p=h;break t}}catch{}p=null}if(p&&typeof p[s]<"u"&&(!r||!(r instanceof p[s])&&(r instanceof p.Location||r instanceof p.Element))){if(N(r))try{var y=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{y="<object could not be stringified>"}else y=r===void 0?"undefined":r===null?"null":typeof r;Ce("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,y)}}function Bt(r,s){this.a=r===Er&&s||"",this.b=Se}Bt.prototype.ta=!0,Bt.prototype.sa=function(){return this.a},Bt.prototype.toString=function(){return"Const{"+this.a+"}"};function Te(r){return r instanceof Bt&&r.constructor===Bt&&r.b===Se?r.a:(Ce("expected object of type Const, got '"+r+"'"),"type_error:Const")}var Se={},Er={},oi;function vu(){if(oi===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:ht,createScript:ht,createScriptURL:ht})}catch(c){f.console&&f.console.error(c.message)}oi=r}else oi=r}return oi}function Ir(r,s){this.a=s===oy?r:""}Ir.prototype.ta=!0,Ir.prototype.sa=function(){return this.a.toString()},Ir.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Ho(r){return r instanceof Ir&&r.constructor===Ir?r.a:(Ce("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function yh(r,s){var c=Te(r);if(!W1.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(G1,function(h,p){if(!Object.prototype.hasOwnProperty.call(s,p))throw Error('Found marker, "'+p+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[p],h instanceof Bt?Te(h):encodeURIComponent(String(h))}),Q1(r)}var G1=/%{(\w+)}/g,W1=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,oy={};function Q1(r){var s=vu();return r=s?s.createScriptURL(r):r,new Ir(r,oy)}function Sn(r,s){this.a=s===gu?r:""}Sn.prototype.ta=!0,Sn.prototype.sa=function(){return this.a.toString()},Sn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function dc(r){return r instanceof Sn&&r.constructor===Sn?r.a:(Ce("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var X1=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Y1=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,sy=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function uy(r){if(r instanceof Sn)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),sy.test(r))r=new Sn(r,gu);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(Y1);r=s&&X1.test(s[1])?new Sn(r,gu):null}return r}function ay(r){return r instanceof Sn?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),sy.test(r)||(r="about:invalid#zClosurez"),new Sn(r,gu))}var gu={},cy=new Sn("about:invalid#zClosurez",gu);function zo(r,s,c){this.a=c===ly?r:""}zo.prototype.ta=!0,zo.prototype.sa=function(){return this.a.toString()},zo.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function J1(r){return r instanceof zo&&r.constructor===zo?r.a:(Ce("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var ly={};function Z1(r,s){Qe(r,"HTMLScriptElement"),r.src=Ho(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=g(s.document):(v===null&&(v=g(f.document)),s=v),s&&r.setAttribute("nonce",s)}function fy(r,s,c,h){return r=r instanceof Sn?r:ay(r),s=s||f,c=c instanceof Bt?Te(c):c||"",s.open(dc(r),c,h,void 0)}function hy(r,s){for(var c=r.split("%s"),h="",p=Array.prototype.slice.call(arguments,1);p.length&&1<c.length;)h+=c.shift()+p.shift();return h+c.join("%s")}function wh(r){return Vt.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(nt,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(Q,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(vt,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(at,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(yt,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(Nt,"&#0;"))),r}function bh(r){return bh[" "](r),r}bh[" "]=m;function tN(r,s){var c=iN;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=s(r)}var eN=J("Opera"),or=J("Trident")||J("MSIE"),dy=J("Edge"),nN=dy||or,py=J("Gecko")&&!(_t(k.toLowerCase(),"webkit")&&!J("Edge"))&&!(J("Trident")||J("MSIE"))&&!J("Edge"),rN=_t(k.toLowerCase(),"webkit")&&!J("Edge");function vy(){var r=f.document;return r?r.documentMode:void 0}var pc;t:{var _h="",Eh=function(){var r=k;if(py)return/rv:([^\);]+)(\)|;)/.exec(r);if(dy)return/Edge\/([\d\.]+)/.exec(r);if(or)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(rN)return/WebKit\/(\S+)/.exec(r);if(eN)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Eh&&(_h=Eh?Eh[1]:""),or){var Ih=vy();if(Ih!=null&&Ih>parseFloat(_h)){pc=String(Ih);break t}}pc=_h}var iN={};function gy(r){return tN(r,function(){for(var s=0,c=X(String(pc)).split("."),h=X(String(r)).split("."),p=Math.max(c.length,h.length),y=0;s==0&&y<p;y++){var w=c[y]||"",E=h[y]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],w[0].length==0&&E[0].length==0)break;s=zt(w[1].length==0?0:parseInt(w[1],10),E[1].length==0?0:parseInt(E[1],10))||zt(w[2].length==0,E[2].length==0)||zt(w[2],E[2]),w=w[3],E=E[3]}while(s==0)}return 0<=s})}var Th;if(f.document&&or){var my=vy();Th=my||parseInt(pc,10)||void 0}else Th=void 0;var si=Th;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var oN=!or||9<=Number(si);function mu(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function yy(r,s){Tt(s,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:wy.hasOwnProperty(h)?r.setAttribute(wy[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var wy={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function sN(r,s,c){var h=arguments,p=document,y=String(h[0]),w=h[1];if(!oN&&w&&(w.name||w.type)){if(y=["<",y],w.name&&y.push(' name="',wh(w.name),'"'),w.type){y.push(' type="',wh(w.type),'"');var E={};Ut(E,w),delete E.type,w=E}y.push(">"),y=y.join("")}return y=vc(p,y),w&&(typeof w=="string"?y.className=w:Array.isArray(w)?y.className=w.join(" "):yy(y,w)),2<h.length&&uN(p,y,h),y}function uN(r,s,c){function h(E){E&&s.appendChild(typeof E=="string"?r.createTextNode(E):E)}for(var p=2;p<c.length;p++){var y=c[p];if(!_(y)||N(y)&&0<y.nodeType)h(y);else{t:{if(y&&typeof y.length=="number"){if(N(y)){var w=typeof y.item=="function"||typeof y.item=="string";break t}if(S(y)){w=typeof y.item=="function";break t}}w=!1}j(w?tt(y):y,h)}}}function vc(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function by(r){f.setTimeout(function(){throw r},0)}var Sh;function aN(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!J("Presto")&&(r=function(){var p=vc(document,"IFRAME");p.style.display="none",document.documentElement.appendChild(p);var y=p.contentWindow;p=y.document,p.open(),p.close();var w="callImmediate"+Math.random(),E=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;p=F(function(M){(E=="*"||M.origin==E)&&M.data==w&&this.port1.onmessage()},this),y.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(w,E)}}}),typeof r<"u"&&!J("Trident")&&!J("MSIE")){var s=new r,c={},h=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var p=c.Hb;c.Hb=null,p()}},function(p){h.next={Hb:p},h=h.next,s.port2.postMessage(0)}}return function(p){f.setTimeout(p,0)}}function gc(r,s){mc||cN(),Ah||(mc(),Ah=!0),_y.add(r,s)}var mc;function cN(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);mc=function(){r.then(Ey)}}else mc=function(){var s=Ey;!S(f.setImmediate)||f.Window&&f.Window.prototype&&!J("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Sh||(Sh=aN()),Sh(s)):f.setImmediate(s)}}var Ah=!1,_y=new pe;function Ey(){for(var r;r=ct();){try{r.a.call(r.b)}catch(s){by(s)}De(Fn,r)}Ah=!1}function qt(r,s){if(this.a=$i,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=m)try{var c=this;r.call(s,function(h){Ki(c,yu,h)},function(h){if(!(h instanceof Go))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Ki(c,qr,h)})}catch(h){Ki(this,qr,h)}}var $i=0,yu=2,qr=3;function Iy(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Iy.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ty=new Be(function(){return new Iy},function(r){r.reset()});function Nh(r,s,c){var h=Ty.get();return h.g=r,h.b=s,h.f=c,h}function It(r){if(r instanceof qt)return r;var s=new qt(m);return Ki(s,yu,r),s}function me(r){return new qt(function(s,c){c(r)})}function Sy(r,s,c){Cy(r,s,c,null)||gc(Et(s,r))}function lN(r){return new qt(function(s,c){var h=r.length,p=[];if(h)for(var y=function(H,Ot){h--,p[H]=Ot,h==0&&s(p)},w=function(H){c(H)},E=0,M;E<r.length;E++)M=r[E],Sy(M,Et(y,E),w);else s(p)})}function Ay(r){return new qt(function(s){var c=r.length,h=[];if(c)for(var p=function(E,M,H){c--,h[E]=M?{Qb:!0,value:H}:{Qb:!1,reason:H},c==0&&s(h)},y=0,w;y<r.length;y++)w=r[y],Sy(w,Et(p,y,!0),Et(p,y,!1));else s(h)})}qt.prototype.then=function(r,s,c){return ky(this,S(r)?r:null,S(s)?s:null,c)},qt.prototype.$goog_Thenable=!0,t=qt.prototype,t.oa=function(r,s){return r=Nh(r,r,s),r.c=!0,kh(this,r),this},t.o=function(r,s){return ky(this,null,r,s)},t.cancel=function(r){if(this.a==$i){var s=new Go(r);gc(function(){Ny(this,s)},this)}};function Ny(r,s){if(r.a==$i)if(r.c){var c=r.c;if(c.b){for(var h=0,p=null,y=null,w=c.b;w&&(w.c||(h++,w.a==r&&(p=w),!(p&&1<h)));w=w.next)p||(y=w);p&&(c.a==$i&&h==1?Ny(c,s):(y?(h=y,h.next==c.f&&(c.f=h),h.next=h.next.next):Oy(c),Ry(c,p,qr,s)))}r.c=null}else Ki(r,qr,s)}function kh(r,s){r.b||r.a!=yu&&r.a!=qr||xy(r),r.f?r.f.next=s:r.b=s,r.f=s}function ky(r,s,c,h){var p=Nh(null,null,null);return p.a=new qt(function(y,w){p.g=s?function(E){try{var M=s.call(h,E);y(M)}catch(H){w(H)}}:y,p.b=c?function(E){try{var M=c.call(h,E);M===void 0&&E instanceof Go?w(E):y(M)}catch(H){w(H)}}:w}),p.a.c=r,kh(r,p),p.a}t.$c=function(r){this.a=$i,Ki(this,yu,r)},t.ad=function(r){this.a=$i,Ki(this,qr,r)};function Ki(r,s,c){r.a==$i&&(r===c&&(s=qr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,Cy(c,r.$c,r.ad,r)||(r.i=c,r.a=s,r.c=null,xy(r),s!=qr||c instanceof Go||hN(r,c)))}function Cy(r,s,c,h){if(r instanceof qt)return kh(r,Nh(s||m,c||null,h)),!0;if(Dt(r))return r.then(s,c,h),!0;if(N(r))try{var p=r.then;if(S(p))return fN(r,p,s,c,h),!0}catch(y){return c.call(h,y),!0}return!1}function fN(r,s,c,h,p){function y(M){E||(E=!0,h.call(p,M))}function w(M){E||(E=!0,c.call(p,M))}var E=!1;try{s.call(r,w,y)}catch(M){y(M)}}function xy(r){r.h||(r.h=!0,gc(r.gc,r))}function Oy(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}t.gc=function(){for(var r;r=Oy(this);)Ry(this,r,this.a,this.i);this.h=!1};function Ry(r,s,c,h){if(c==qr&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,Dy(s,c,h);else try{s.c?s.g.call(s.f):Dy(s,c,h)}catch(p){Py.call(null,p)}De(Ty,s)}function Dy(r,s,c){s==yu?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function hN(r,s){r.g=!0,gc(function(){r.g&&Py.call(null,s)})}var Py=by;function Go(r){bt.call(this,r)}W(Go,bt),Go.prototype.name="cancel";function yc(){this.ya=this.ya,this.pa=this.pa}var dN=0;yc.prototype.ya=!1;function Ly(r){!r.ya&&(r.ya=!0,r.Da(),dN!=0)&&O(r)}yc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var pN=Object.freeze||function(r){return r},My=!or||9<=Number(si),vN=or&&!gy("9"),gN=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",m,s),f.removeEventListener("test",m,s)}catch{}return r}();function An(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}An.prototype.preventDefault=function(){this.defaultPrevented=!0};function Hi(r,s){if(An.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(py){t:{try{bh(s.nodeName);var p=!0;break t}catch{}p=!1}p||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:mN[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}W(Hi,An);var mN=pN({2:"touch",3:"pen",4:"mouse"});Hi.prototype.preventDefault=function(){Hi.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,vN)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},Hi.prototype.g=function(){return this.a};var wu="closure_listenable_"+(1e6*Math.random()|0),yN=0;function wN(r,s,c,h,p){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!h,this.Wa=p,this.key=++yN,this.wa=this.Qa=!1}function wc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function bc(r){this.src=r,this.a={},this.b=0}bc.prototype.add=function(r,s,c,h,p){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.b++);var w=xh(r,s,h,p);return-1<w?(s=r[w],c||(s.Qa=!1)):(s=new wN(s,this.src,y,!!h,p),s.Qa=c,r.push(s)),s};function Ch(r,s){var c=s.type;c in r.a&&L(r.a[c],s)&&(wc(s),r.a[c].length==0&&(delete r.a[c],r.b--))}function xh(r,s,c,h){for(var p=0;p<r.length;++p){var y=r[p];if(!y.wa&&y.listener==s&&y.capture==!!c&&y.Wa==h)return p}return-1}var Oh="closure_lm_"+(1e6*Math.random()|0),Rh={};function Yn(r,s,c,h,p){if(h&&h.once)Dh(r,s,c,h,p);else if(Array.isArray(s))for(var y=0;y<s.length;y++)Yn(r,s[y],c,h,p);else c=Lh(c),r&&r[wu]?qy(r,s,c,N(h)?!!h.capture:!!h,p):Fy(r,s,c,!1,h,p)}function Fy(r,s,c,h,p,y){if(!s)throw Error("Invalid event type");var w=N(p)?!!p.capture:!!p,E=_c(r);if(E||(r[Oh]=E=new bc(r)),c=E.add(s,c,h,w,y),!c.proxy)if(h=bN(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)gN||(p=w),p===void 0&&(p=!1),r.addEventListener(s.toString(),h,p);else if(r.attachEvent)r.attachEvent(jy(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function bN(){var r=_N,s=My?function(c){return r.call(s.src,s.listener,c)}:function(c){if(c=r.call(s.src,s.listener,c),!c)return c};return s}function Dh(r,s,c,h,p){if(Array.isArray(s))for(var y=0;y<s.length;y++)Dh(r,s[y],c,h,p);else c=Lh(c),r&&r[wu]?Mh(r,s,c,N(h)?!!h.capture:!!h,p):Fy(r,s,c,!0,h,p)}function Vn(r,s,c,h,p){if(Array.isArray(s))for(var y=0;y<s.length;y++)Vn(r,s[y],c,h,p);else h=N(h)?!!h.capture:!!h,c=Lh(c),r&&r[wu]?(r=r.v,s=String(s).toString(),s in r.a&&(y=r.a[s],c=xh(y,c,h,p),-1<c&&(wc(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete r.a[s],r.b--)))):r&&(r=_c(r))&&(s=r.a[s.toString()],r=-1,s&&(r=xh(s,c,h,p)),(c=-1<r?s[r]:null)&&Vy(c))}function Vy(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[wu])Ch(s.v,r);else{var c=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(c,h,r.capture):s.detachEvent?s.detachEvent(jy(c),h):s.addListener&&s.removeListener&&s.removeListener(h),(c=_c(s))?(Ch(c,r),c.b==0&&(c.src=null,s[Oh]=null)):wc(r)}}}function jy(r){return r in Rh?Rh[r]:Rh[r]="on"+r}function Uy(r,s,c,h){var p=!0;if((r=_c(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var y=s[r];y&&y.capture==c&&!y.wa&&(y=By(y,h),p=p&&y!==!1)}return p}function By(r,s){var c=r.listener,h=r.Wa||r.src;return r.Qa&&Vy(r),c.call(h,s)}function _N(r,s){if(r.wa)return!0;if(!My){if(!s)t:{s=["window","event"];for(var c=f,h=0;h<s.length;h++)if(c=c[s[h]],c==null){s=null;break t}s=c}if(h=s,s=new Hi(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){t:{var p=!1;if(h.keyCode==0)try{h.keyCode=-1;break t}catch{p=!0}(p||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],p=s.b;p;p=p.parentNode)h.push(p);for(r=r.type,p=h.length-1;0<=p;p--){s.b=h[p];var y=Uy(h[p],r,!0,s);c=c&&y}for(p=0;p<h.length;p++)s.b=h[p],y=Uy(h[p],r,!1,s),c=c&&y}return c}return By(r,new Hi(s,this))}function _c(r){return r=r[Oh],r instanceof bc?r:null}var Ph="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lh(r){return S(r)?r:(r[Ph]||(r[Ph]=function(s){return r.handleEvent(s)}),r[Ph])}function dn(){yc.call(this),this.v=new bc(this),this.bc=this,this.hb=null}W(dn,yc),dn.prototype[wu]=!0,dn.prototype.addEventListener=function(r,s,c,h){Yn(this,r,s,c,h)},dn.prototype.removeEventListener=function(r,s,c,h){Vn(this,r,s,c,h)},dn.prototype.dispatchEvent=function(r){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new An(r,c);else if(r instanceof An)r.target=r.target||c;else{var p=r;r=new An(h,c),Ut(r,p)}if(p=!0,s)for(var y=s.length-1;0<=y;y--){var w=r.b=s[y];p=Ec(w,h,!0,r)&&p}if(w=r.b=c,p=Ec(w,h,!0,r)&&p,p=Ec(w,h,!1,r)&&p,s)for(y=0;y<s.length;y++)w=r.b=s[y],p=Ec(w,h,!1,r)&&p;return p},dn.prototype.Da=function(){if(dn.bb.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var c=r.a[s],h=0;h<c.length;h++)wc(c[h]);delete r.a[s],r.b--}}this.hb=null};function qy(r,s,c,h,p){r.v.add(String(s),c,!1,h,p)}function Mh(r,s,c,h,p){r.v.add(String(s),c,!0,h,p)}function Ec(r,s,c,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var p=!0,y=0;y<s.length;++y){var w=s[y];if(w&&!w.wa&&w.capture==c){var E=w.listener,M=w.Wa||w.src;w.Qa&&Ch(r.v,w),p=E.call(M,h)!==!1&&p}}return p&&!h.defaultPrevented}function Fh(r,s,c){if(S(r))c&&(r=F(r,c));else if(r&&typeof r.handleEvent=="function")r=F(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function Wo(r){var s=null;return new qt(function(c,h){s=Fh(function(){c(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(s),c})}function $y(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var s=[],c=r.length,h=0;h<c;h++)s.push(r[h]);return s}s=[],c=0;for(h in r)s[c++]=r[h];return s}function Ky(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(var h in r)s[c++]=h;return s}}function EN(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(_(r)||typeof r=="string")j(r,s,void 0);else for(var c=Ky(r),h=$y(r),p=h.length,y=0;y<p;y++)s.call(void 0,h[y],c&&c[y],r)}function Qo(r,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof Qo)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}t=Qo.prototype,t.X=function(){Vh(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},t.Y=function(){return Vh(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function Vh(r){if(r.c!=r.a.length){for(var s=0,c=0;s<r.a.length;){var h=r.a[s];zi(r.b,h)&&(r.a[c++]=h),s++}r.a.length=c}if(r.c!=r.a.length){var p={};for(c=s=0;s<r.a.length;)h=r.a[s],zi(p,h)||(r.a[c++]=h,p[h]=1),s++;r.a.length=c}}t.get=function(r,s){return zi(this.b,r)?this.b[r]:s},t.set=function(r,s){zi(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},t.forEach=function(r,s){for(var c=this.Y(),h=0;h<c.length;h++){var p=c[h],y=this.get(p);r.call(s,y,p,this)}};function zi(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var Hy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function IN(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),p=null;if(0<=h){var y=r[c].substring(0,h);p=r[c].substring(h+1)}else y=r[c];s(y,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function ui(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof ui?(this.i=s!==void 0?s:r.i,bu(this,r.c),this.l=r.l,this.a=r.a,_u(this,r.g),this.f=r.f,jh(this,Qy(r.b)),this.h=r.h):r&&(c=String(r).match(Hy))?(this.i=!!s,bu(this,c[1]||"",!0),this.l=Eu(c[2]||""),this.a=Eu(c[3]||"",!0),_u(this,c[4]),this.f=Eu(c[5]||"",!0),jh(this,c[6]||"",!0),this.h=Eu(c[7]||"")):(this.i=!!s,this.b=new Gi(null,this.i))}ui.prototype.toString=function(){var r=[],s=this.c;s&&r.push(Iu(s,zy,!0),":");var c=this.a;return(c||s=="file")&&(r.push("//"),(s=this.l)&&r.push(Iu(s,zy,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(Iu(c,c.charAt(0)=="/"?AN:SN,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",Iu(c,kN)),r.join("")},ui.prototype.resolve=function(r){var s=new ui(this),c=!!r.c;c?bu(s,r.c):c=!!r.l,c?s.l=r.l:c=!!r.a,c?s.a=r.a:c=r.g!=null;var h=r.f;if(c)_u(s,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var p=s.f.lastIndexOf("/");p!=-1&&(h=s.f.substr(0,p+1)+h)}if(p=h,p==".."||p==".")h="";else if(_t(p,"./")||_t(p,"/.")){h=p.lastIndexOf("/",0)==0,p=p.split("/");for(var y=[],w=0;w<p.length;){var E=p[w++];E=="."?h&&w==p.length&&y.push(""):E==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),h&&w==p.length&&y.push("")):(y.push(E),h=!0)}h=y.join("/")}else h=p}return c?s.f=h:c=r.b.toString()!=="",c?jh(s,Qy(r.b)):c=!!r.h,c&&(s.h=r.h),s};function bu(r,s,c){r.c=c?Eu(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function _u(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function jh(r,s,c){s instanceof Gi?(r.b=s,CN(r.b,r.i)):(c||(s=Iu(s,NN)),r.b=new Gi(s,r.i))}function xe(r,s,c){r.b.set(s,c)}function Jn(r,s){return r.b.get(s)}function Nn(r){return r instanceof ui?new ui(r):new ui(r,void 0)}function Ic(r,s,c,h){var p=new ui(null,void 0);return r&&bu(p,r),s&&(p.a=s),c&&_u(p,c),h&&(p.f=h),p}function Eu(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Iu(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,TN),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function TN(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var zy=/[#\/\?@]/g,SN=/[#\?:]/g,AN=/[#\?]/g,NN=/[#\?@]/g,kN=/#/g;function Gi(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function ai(r){r.a||(r.a=new Qo,r.b=0,r.c&&IN(r.c,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function Gy(r){var s=Ky(r);if(typeof s>"u")throw Error("Keys are undefined");var c=new Gi(null,void 0);r=$y(r);for(var h=0;h<s.length;h++){var p=s[h],y=r[h];Array.isArray(y)?Wy(c,p,y):c.add(p,y)}return c}t=Gi.prototype,t.add=function(r,s){ai(this),this.c=null,r=Xo(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(s),this.b+=1,this};function Tr(r,s){ai(r),s=Xo(r,s),zi(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,zi(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&Vh(r)))}t.clear=function(){this.a=this.c=null,this.b=0};function Uh(r,s){return ai(r),s=Xo(r,s),zi(r.a.b,s)}t.forEach=function(r,s){ai(this),this.a.forEach(function(c,h){j(c,function(p){r.call(s,p,h,this)},this)},this)},t.Y=function(){ai(this);for(var r=this.a.X(),s=this.a.Y(),c=[],h=0;h<s.length;h++)for(var p=r[h],y=0;y<p.length;y++)c.push(s[h]);return c},t.X=function(r){ai(this);var s=[];if(typeof r=="string")Uh(this,r)&&(s=K(s,this.a.get(Xo(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)s=K(s,r[c])}return s},t.set=function(r,s){return ai(this),this.c=null,r=Xo(this,r),Uh(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},t.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function Wy(r,s,c){Tr(r,s),0<c.length&&(r.c=null,r.a.set(Xo(r,s),tt(c)),r.b+=c.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),c=0;c<s.length;c++){var h=s[c],p=encodeURIComponent(String(h));h=this.X(h);for(var y=0;y<h.length;y++){var w=p;h[y]!==""&&(w+="="+encodeURIComponent(String(h[y]))),r.push(w)}}return this.c=r.join("&")};function Qy(r){var s=new Gi;return s.c=r.c,r.a&&(s.a=new Qo(r.a),s.b=r.b),s}function Xo(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function CN(r,s){s&&!r.f&&(ai(r),r.c=null,r.a.forEach(function(c,h){var p=h.toLowerCase();h!=p&&(Tr(this,h),Wy(this,p,c))},r)),r.f=s}function Xy(r){var s=[];return Bh(new xN,r,s),s.join("")}function xN(){}function Bh(r,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,c.push("[");for(var p="",y=0;y<s;y++)c.push(p),Bh(r,h[y],c),p=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),p="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(y=s[h],typeof y!="function"&&(c.push(p),Jy(h,c),c.push(":"),Bh(r,y,c),p=","));c.push("}");return}}switch(typeof s){case"string":Jy(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var Yy={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},ON=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Jy(r,s){s.push('"',r.replace(ON,function(c){var h=Yy[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),Yy[c]=h),h}),'"')}function qh(){var r=Xe();return or&&!!si&&si==11||/Edge\/\d+/.test(r)}function Tu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Zy(r,s){s=s||f.window;var c="about:blank";r&&(c=dc(uy(r)||cy)),s.location.href=c}function t0(r,s){var c=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<t0(r[h],s[h]).length&&c.push(h):r[h]!==s[h]&&c.push(h):c.push(h);for(h in s)h in r||c.push(h);return c}function RN(){var r=Xe();return r=Yo(r)!=i0?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!or||!si||9<si}function e0(r){return r=(r||Xe()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function Wi(r){r=r||f.window;try{r.close()}catch{}}function n0(r,s,c){var h=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var p=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<p?p:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=Xe().toLowerCase(),h&&(s.target=h,_t(c,"crios/")&&(s.target="_blank")),Yo(Xe())==Hh&&(r=r||"http://localhost",s.scrollbars=!0),c=r||"",(r=s)||(r={}),h=window,s=c instanceof Sn?c:uy(typeof c.href<"u"?c.href:String(c))||cy,c=r.target||c.target,p=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":p.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(w+"="+(r[w]?1:0))}var w=p.join(",");if((J("iPhone")&&!J("iPod")&&!J("iPad")||J("iPad")||J("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=vc(document,"A"),Qe(w,"HTMLAnchorElement"),s=s instanceof Sn?s:ay(s),w.href=dc(s),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=fy("",h,c,w),r=dc(s),w&&(nN&&_t(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+wh(r)+'">',r=(h=vu())?h.createHTML(r):r,r=new zo(r,null,ly),h=w.document)&&(h.write(J1(r)),h.close())):(w=fy(s,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function DN(r){return new qt(function(s){function c(){Wo(2e3).then(function(){if(!r||r.closed)s();else return c()})}return c()})}var PN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LN=/^[^@]+@[^@]+$/;function Tc(){var r=null;return new qt(function(s){f.document.readyState=="complete"?s():(r=function(){s()},Dh(window,"load",r))}).o(function(s){throw Vn(window,"load",r),s})}function MN(){return $h(void 0)?Tc().then(function(){return new qt(function(r,s){var c=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):me(Error("Cordova must run in an Android or iOS file scheme."))}function $h(r){return r=r||Xe(),!(Zo()!=="file:"&&Zo()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kh(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function sr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Sr(){return xt.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":xt.INTERNAL.hasOwnProperty("node")?"Node":sr()?"Worker":"Browser"}function r0(){var r=Sr();return r==="ReactNative"||r==="Node"}function FN(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var Hh="Firefox",i0="Chrome";function Yo(r){var s=r.toLowerCase();if(_t(s,"opera/")||_t(s,"opr/")||_t(s,"opios/"))return"Opera";if(_t(s,"iemobile"))return"IEMobile";if(_t(s,"msie")||_t(s,"trident/"))return"IE";if(_t(s,"edge/"))return"Edge";if(_t(s,"firefox/"))return Hh;if(_t(s,"silk/"))return"Silk";if(_t(s,"blackberry"))return"Blackberry";if(_t(s,"webos"))return"Webos";if(!_t(s,"safari/")||_t(s,"chrome/")||_t(s,"crios/")||_t(s,"android"))if(!_t(s,"chrome/")&&!_t(s,"crios/")||_t(s,"edge/")){if(_t(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return i0;else return"Safari";return"Other"}var o0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Jo(r,s){s=s||[];var c=[],h={},p;for(p in o0)h[o0[p]]=!0;for(p=0;p<s.length;p++)typeof h[s[p]]<"u"&&(delete h[s[p]],c.push(s[p]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=Sr(),c==="Browser"?(h=Xe(),c=Yo(h)):c==="Worker"&&(h=Xe(),c=Yo(h)+"-"+c),c+"/JsCore/"+r+"/"+s.join(",")}function Xe(){return f.navigator&&f.navigator.userAgent||""}function ye(r,s){r=r.split("."),s=s||f;for(var c=0;c<r.length&&typeof s=="object"&&s!=null;c++)s=s[r[c]];return c!=r.length&&(s=void 0),s}function zh(){try{var r=f.localStorage,s=Xi();if(r)return r.setItem(s,"1"),r.removeItem(s),qh()?!!f.indexedDB:!0}catch{return sr()&&!!f.indexedDB}return!1}function Qi(){return(Sc()||Zo()==="chrome-extension:"||$h())&&!r0()&&zh()&&!sr()}function Sc(){return Zo()==="http:"||Zo()==="https:"}function Zo(){return f.location&&f.location.protocol||null}function Su(r){return r=r||Xe(),!(e0(r)||Yo(r)==Hh)}function Au(r){return typeof r>"u"?null:Xy(r)}function s0(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(s[c]=r[c]);return s}function ts(r){if(r!==null)return JSON.parse(r)}function Xi(r){return r||Math.floor(1e9*Math.random()).toString()}function u0(r){return r=r||Xe(),!(Yo(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function a0(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function ci(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=Xe(),s=Sr(),this.b=e0(r)||s==="ReactNative"}ci.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Sc()||Zo()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Gh(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function VN(){var r=f.document,s=null;return Gh()||!r?It():new qt(function(c){s=function(){Gh()&&(r.removeEventListener("visibilitychange",s,!1),c())},r.addEventListener("visibilitychange",s,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",s,!1),c})}function Nu(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function c0(){return!(!ye("fireauth.oauthhelper",f)&&!ye("fireauth.iframe",f))}function jN(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function UN(){var r=f.navigator;return r&&r.serviceWorker?It().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):It(null)}var l0={};function Wh(r){l0[r]||(l0[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Qh;try{var Xh={};Object.defineProperty(Xh,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Xh,"abcd",{configurable:!0,enumerable:!0,value:2}),Qh=Xh.abcd==2}catch{Qh=!1}function ft(r,s,c){Qh?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}):r[s]=c}function pn(r,s){if(s)for(var c in s)s.hasOwnProperty(c)&&ft(r,c,s[c])}function Ar(r){var s={};return pn(s,r),s}function BN(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);return s}function qN(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var c=0;c<s.length;c++){var h=r[s[c]];if(h==null||h==="")return!1}return!0}function Yh(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var c in r)ft(s,c,Yh(r[c]))}return s}function Jh(r){var s=r&&(r[nd]?"phone":null);if(s&&r&&r[ed]){ft(this,"uid",r[ed]),ft(this,"displayName",r[f0]||null);var c=null;r[td]&&(c=new Date(r[td]).toUTCString()),ft(this,"enrollmentTime",c),ft(this,"factorId",s)}else throw new A("internal-error","Internal assert: invalid MultiFactorInfo object")}Jh.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Zh(r){try{var s=new ku(r)}catch{s=null}return s}var f0="displayName",td="enrolledAt",ed="mfaEnrollmentId",nd="phoneInfo";function ku(r){Jh.call(this,r),ft(this,"phoneNumber",r[nd])}W(ku,Jh),ku.prototype.w=function(){var r=ku.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function $N(r){var s={},c=r[KN],h=r[zN],p=r[GN];if(r=Zh(r[HN]),!p||p!=Ac&&p!=Cu&&!c||p==Cu&&!h||p==rd&&!r)throw Error("Invalid checkActionCode response!");p==Cu?(s[d0]=c||null,s[p0]=c||null,s[h0]=h):(s[d0]=h||null,s[p0]=h||null,s[h0]=c||null),s[WN]=r||null,ft(this,XN,p),ft(this,QN,Yh(s))}var rd="REVERT_SECOND_FACTOR_ADDITION",Ac="EMAIL_SIGNIN",Cu="VERIFY_AND_CHANGE_EMAIL",KN="email",HN="mfaInfo",zN="newEmail",GN="requestType",h0="email",d0="fromEmail",WN="multiFactorInfo",p0="previousEmail",QN="data",XN="operation";function id(r){r=Nn(r);var s=Jn(r,v0)||null,c=Jn(r,g0)||null,h=Jn(r,m0)||null;if(h=h&&tk[h]||null,!s||!c||!h)throw new A("argument-error",v0+", "+g0+"and "+m0+" are required in a valid action code URL.");pn(this,{apiKey:s,operation:h,code:c,continueUrl:Jn(r,YN)||null,languageCode:Jn(r,JN)||null,tenantId:Jn(r,ZN)||null})}var v0="apiKey",g0="oobCode",YN="continueUrl",JN="languageCode",m0="mode",ZN="tenantId",tk={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:rd,signIn:Ac,verifyAndChangeEmail:Cu,verifyEmail:"VERIFY_EMAIL"};function y0(r){try{return new id(r)}catch{return null}}function Nc(r){var s=r[ek];if(typeof s>"u")throw new A("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new A("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=r[w0];if(c&&typeof c=="object"){s=c[T0];var h=c[E0];if(c=c[I0],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new A("argument-error",E0+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new A("argument-error",I0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new A("argument-error",T0+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new A("missing-android-pkg-name")}}else if(typeof c<"u")throw new A("argument-error",w0+" property must be a non null object when specified.");if(this.f=null,(s=r[_0])&&typeof s=="object"){if(s=s[S0],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new A("argument-error",S0+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new A("argument-error",_0+" property must be a non null object when specified.");if(s=r[od],typeof s<"u"&&typeof s!="boolean")throw new A("argument-error",od+" property must be a boolean when specified.");if(this.c=!!s,r=r[b0],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new A("argument-error",b0+" property must be a non empty string when specified.");this.i=r||null}var w0="android",b0="dynamicLinkDomain",od="handleCodeInApp",_0="iOS",ek="url",E0="installApp",I0="minimumVersion",T0="packageName",S0="bundleId";function kc(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var c in s)s[c]===null&&delete s[c];return s}function nk(r){return kt(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var xu=null;function rk(r){var s=[];return ik(r,function(c){s.push(c)}),s}function ik(r,s){function c(M){for(;h<r.length;){var H=r.charAt(h++),Ot=xu[H];if(Ot!=null)return Ot;if(!/^[\s\xa0]*$/.test(H))throw Error("Unknown base64 encoding at char: "+H)}return M}ok();for(var h=0;;){var p=c(-1),y=c(0),w=c(64),E=c(64);if(E===64&&p===-1)break;s(p<<2|y>>4),w!=64&&(s(y<<4&240|w>>2),E!=64&&s(w<<6&192|E))}}function ok(){if(!xu){xu={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(s[c].split("")),p=0;p<h.length;p++){var y=h[p];xu[y]===void 0&&(xu[y]=p)}}}function Cc(r){var s=A0(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}Cc.prototype.T=function(){return this.f},Cc.prototype.l=function(){return this.c},Cc.prototype.toString=function(){return this.h};function xc(r){try{return new Cc(r)}catch{return null}}function A0(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,c=0;c<s;c++)r+=".";try{var h=rk(r);for(r=[],c=s=0;s<h.length;){var p=h[s++];if(128>p)r[c++]=String.fromCharCode(p);else if(191<p&&224>p){var y=h[s++];r[c++]=String.fromCharCode((p&31)<<6|y&63)}else if(239<p&&365>p){y=h[s++];var w=h[s++],E=h[s++],M=((p&7)<<18|(y&63)<<12|(w&63)<<6|E&63)-65536;r[c++]=String.fromCharCode(55296+(M>>10)),r[c++]=String.fromCharCode(56320+(M&1023))}else y=h[s++],w=h[s++],r[c++]=String.fromCharCode((p&15)<<12|(y&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var N0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Oc=["client_id","response_type","scope","redirect_uri","state"],sd={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Oc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Oc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Oc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:N0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function ud(r){for(var s in sd)if(sd[s].fa==r)return sd[s];return null}function k0(r){var s={};s["facebook.com"]=x0,s["google.com"]=R0,s["github.com"]=O0,s["twitter.com"]=D0;var c=r&&r[C0];try{if(c)return s[c]?new s[c](r):new Nr(r);if(typeof r[ad]<"u")return new cd(r)}catch{}return null}var ad="idToken",C0="providerId";function cd(r){var s=r[C0];if(!s&&r[ad]){var c=xc(r[ad]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),ft(this,"providerId",s),ft(this,"isNewUser",c)}function Nr(r){cd.call(this,r),r=ts(r.rawUserInfo||"{}"),ft(this,"profile",Yh(r||{}))}W(Nr,cd);function x0(r){if(Nr.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}W(x0,Nr);function O0(r){if(Nr.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");ft(this,"username",this.profile&&this.profile.login||null)}W(O0,Nr);function R0(r){if(Nr.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}W(R0,Nr);function D0(r){if(Nr.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ft(this,"username",r.screenName||null)}W(D0,Nr);function P0(r){var s=Nn(r),c=Jn(s,"link"),h=Jn(Nn(c),"link");return s=Jn(s,"deep_link_id"),Jn(Nn(s),"link")||s||h||c||r}function Rc(r,s){if(!r&&!s)throw new A("internal-error","Internal assert: no raw session string available");if(r&&s)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?Ou:Dc}var Ou="enroll",Dc="signin";Rc.prototype.Ha=function(){return this.a?It(this.a):It(this.b)},Rc.prototype.w=function(){return this.type==Ou?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function es(){}es.prototype.ka=function(){},es.prototype.b=function(){},es.prototype.c=function(){},es.prototype.w=function(){};function ns(r,s){return r.then(function(c){if(c[cr]){var h=xc(c[cr]);if(!h||s!=h.i)throw new A("user-mismatch");return c}throw new A("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==oe+"user-not-found"?new A("user-mismatch"):c})}function Yi(r,s){if(s)this.a=s;else throw new A("internal-error","failed to construct a credential");ft(this,"providerId",r),ft(this,"signInMethod",r)}Yi.prototype.ka=function(r){return Dd(r,ld(this))},Yi.prototype.b=function(r,s){var c=ld(this);return c.idToken=s,Pd(r,c)},Yi.prototype.c=function(r,s){return ns(Ld(r,ld(this)),s)};function ld(r){return{pendingToken:r.a,requestUri:"http://localhost"}}Yi.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function sk(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new Yi(r.providerId,r.pendingToken)}catch{}return null}function $r(r,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&ft(this,"idToken",s.idToken),s.accessToken&&ft(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&ft(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)ft(this,"accessToken",s.oauthToken),ft(this,"secret",s.oauthTokenSecret);else throw new A("internal-error","failed to construct a credential");ft(this,"providerId",r),ft(this,"signInMethod",c)}$r.prototype.ka=function(r){return Dd(r,fd(this))},$r.prototype.b=function(r,s){var c=fd(this);return c.idToken=s,Pd(r,c)},$r.prototype.c=function(r,s){var c=fd(this);return ns(Ld(r,c),s)};function fd(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:Gy(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}$r.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function uk(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new $r(r.providerId,s,r.signInMethod)}catch{}}return null}function Ji(r,s){this.Qc=s||[],pn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(ud(r)||{}).Ja||null,this.pb=null}Ji.prototype.Ka=function(r){return this.Jb=At(r),this};function L0(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');Ji.call(this,r,[])}W(L0,Ji);function jn(r){Ji.call(this,r,Oc),this.a=[]}W(jn,Ji),jn.prototype.Ca=function(r){return C(this.a,r)||this.a.push(r),this},jn.prototype.Rb=function(){return tt(this.a)},jn.prototype.credential=function(r,s){var c;if(N(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new $r(this.providerId,c,this.providerId)};function Zi(){jn.call(this,"facebook.com")}W(Zi,jn),ft(Zi,"PROVIDER_ID","facebook.com"),ft(Zi,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function M0(r){if(!r)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return N(r)&&(s=r.accessToken),new Zi().credential({accessToken:s})}function to(){jn.call(this,"github.com")}W(to,jn),ft(to,"PROVIDER_ID","github.com"),ft(to,"GITHUB_SIGN_IN_METHOD","github.com");function F0(r){if(!r)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return N(r)&&(s=r.accessToken),new to().credential({accessToken:s})}function eo(){jn.call(this,"google.com"),this.Ca("profile")}W(eo,jn),ft(eo,"PROVIDER_ID","google.com"),ft(eo,"GOOGLE_SIGN_IN_METHOD","google.com");function V0(r,s){var c=r;return N(r)&&(c=r.idToken,s=r.accessToken),new eo().credential({idToken:c,accessToken:s})}function rs(){Ji.call(this,"twitter.com",N0)}W(rs,Ji),ft(rs,"PROVIDER_ID","twitter.com"),ft(rs,"TWITTER_SIGN_IN_METHOD","twitter.com");function j0(r,s){var c=r;if(N(c)||(c={oauthToken:r,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new $r("twitter.com",c,"twitter.com")}function li(r,s,c){this.a=r,this.f=s,ft(this,"providerId","password"),ft(this,"signInMethod",c===Zn.EMAIL_LINK_SIGN_IN_METHOD?Zn.EMAIL_LINK_SIGN_IN_METHOD:Zn.EMAIL_PASSWORD_SIGN_IN_METHOD)}li.prototype.ka=function(r){return this.signInMethod==Zn.EMAIL_LINK_SIGN_IN_METHOD?Kt(r,Hk,{email:this.a,oobCode:this.f}):Kt(r,dw,{email:this.a,password:this.f})},li.prototype.b=function(r,s){return this.signInMethod==Zn.EMAIL_LINK_SIGN_IN_METHOD?Kt(r,zk,{idToken:s,email:this.a,oobCode:this.f}):Kt(r,hw,{idToken:s,email:this.a,password:this.f})},li.prototype.c=function(r,s){return ns(this.ka(r),s)},li.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function ak(r){return r&&r.email&&r.password?new li(r.email,r.password,r.signInMethod):null}function Zn(){pn(this,{providerId:"password",isOAuthProvider:!1})}function U0(r,s){if(s=hd(s),!s)throw new A("argument-error","Invalid email link!");return new li(r,s.code,Zn.EMAIL_LINK_SIGN_IN_METHOD)}function hd(r){return r=P0(r),(r=y0(r))&&r.operation===Ac?r:null}pn(Zn,{PROVIDER_ID:"password"}),pn(Zn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),pn(Zn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function fi(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new A("internal-error");this.a=r,ft(this,"providerId","phone"),this.fa="phone",ft(this,"signInMethod","phone")}fi.prototype.ka=function(r){return r.gb(Ru(this))},fi.prototype.b=function(r,s){var c=Ru(this);return c.idToken=s,Kt(r,hC,c)},fi.prototype.c=function(r,s){var c=Ru(this);return c.operation="REAUTH",r=Kt(r,dC,c),ns(r,s)},fi.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function ck(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return j(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(s[c]=r[c])}),new fi(s)}return null}function Ru(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function Kr(r){try{this.a=r||xt.auth()}catch{throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}pn(this,{providerId:"phone",isOAuthProvider:!1})}Kr.prototype.gb=function(r,s){var c=this.a.a;return It(s.verify()).then(function(h){if(typeof h!="string")throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var p=N(r)?r.session:null,y=N(r)?r.phoneNumber:r,w;return p&&p.type==Ou?w=p.Ha().then(function(E){return Mk(c,{idToken:E,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:h}})}):p&&p.type==Dc?w=p.Ha().then(function(E){return Fk(c,{mfaPendingCredential:E,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=Lk(c,{phoneNumber:y,recaptchaToken:h}),w.then(function(E){return typeof s.reset=="function"&&s.reset(),E},function(E){throw typeof s.reset=="function"&&s.reset(),E});default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function B0(r,s){if(!r)throw new A("missing-verification-id");if(!s)throw new A("missing-verification-code");return new fi({fb:r,eb:s})}pn(Kr,{PROVIDER_ID:"phone"}),pn(Kr,{PHONE_SIGN_IN_METHOD:"phone"});function dd(r){if(r.temporaryProof&&r.phoneNumber)return new fi({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,p=r&&r.nonce,y=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(s){case"google.com":return V0(y,c);case"facebook.com":return M0(c);case"github.com":return F0(c);case"twitter.com":return j0(c,h);default:return c||h||y||w?w?s.indexOf("saml.")==0?new Yi(s,w):new $r(s,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new jn(s).credential({idToken:y,accessToken:c,rawNonce:p}):null}}catch{return null}}function pd(r){if(!r.isOAuthProvider)throw new A("invalid-oauth-provider")}function ur(r,s,c,h,p,y,w){if(this.c=r,this.b=s||null,this.g=c||null,this.f=h||null,this.i=y||null,this.h=w||null,this.a=p||null,this.g||this.a){if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}else throw new A("invalid-auth-event")}ur.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},ur.prototype.T=function(){return this.h},ur.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function q0(r){return r=r||{},r.type?new ur(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&Qt(r.error),r.postBody,r.tenantId):null}function lk(){this.b=null,this.a=[]}var vd=null;function fk(r){var s=vd;s.a.push(r),s.b||(s.b=function(c){for(var h=0;h<s.a.length;h++)s.a[h](c)},r=ye("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function gd(r){var s="unauthorized-domain",c=void 0,h=Nn(r);r=h.a,h=h.c,h=="chrome-extension"?c=hy("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=hy("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",A.call(this,s,c)}W(gd,A);function Du(r,s,c){A.call(this,r,c),r=s||{},r.Kb&&ft(this,"email",r.Kb),r.ea&&ft(this,"phoneNumber",r.ea),r.credential&&ft(this,"credential",r.credential),r.$b&&ft(this,"tenantId",r.$b)}W(Du,A),Du.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&Ut(r,s),r},Du.prototype.toJSON=function(){return this.w()};function Pc(r){if(r.code){var s=r.code||"";s.indexOf(oe)==0&&(s=s.substring(oe.length));var c={credential:dd(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new A(s,r.message||void 0);return new Du(s,c,r.message)}return null}function Pu(){}Pu.prototype.c=null;function $0(r){return r.c||(r.c=r.b())}var md;function Lc(){}W(Lc,Pu),Lc.prototype.a=function(){var r=K0(this);return r?new ActiveXObject(r):new XMLHttpRequest},Lc.prototype.b=function(){var r={};return K0(this)&&(r[0]=!0,r[1]=!0),r};function K0(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var h=s[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}md=new Lc;function Mc(){}W(Mc,Pu),Mc.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new H0;throw Error("Unsupported browser")},Mc.prototype.b=function(){return{}};function H0(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=F(this.qc,this),this.a.onerror=F(this.Tb,this),this.a.onprogress=F(this.rc,this),this.a.ontimeout=F(this.vc,this)}t=H0.prototype,t.open=function(r,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,s)},t.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,yd(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",yd(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,yd(this,1)};function yd(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function wd(r,s,c){this.reset(r,s,c,void 0,void 0)}wd.prototype.a=null,wd.prototype.reset=function(r,s,c,h,p){delete this.a};function bd(r){this.f=r,this.b=this.c=this.a=null}function Lu(r,s){this.name=r,this.value=s}Lu.prototype.toString=function(){return this.name};var z0=new Lu("SEVERE",1e3),_d=new Lu("WARNING",900),hk=new Lu("CONFIG",700),dk=new Lu("FINE",500);function G0(r){return r.c?r.c:r.a?G0(r.a):(Ce("Root logger has no level set."),null)}bd.prototype.log=function(r,s,c){if(r.value>=G0(this).value)for(S(s)&&(s=s()),r=new wd(r,String(s),this.f),c&&(r.a=c),c=this;c;)c=c.a};var Ed={},Fc=null;function Id(r){Fc||(Fc=new bd(""),Ed[""]=Fc,Fc.c=hk);var s;if(!(s=Ed[r])){s=new bd(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=Id(r.substr(0,c)),c.b||(c.b={}),c.b[h]=s,s.a=c,Ed[r]=s}return s}function tr(r,s){r&&r.log(dk,s,void 0)}function Vc(r){this.f=r}W(Vc,Pu),Vc.prototype.a=function(){return new jc(this.f)},Vc.prototype.b=function(r){return function(){return r}}({});function jc(r){dn.call(this),this.u=r,this.h=void 0,this.readyState=Td,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Id("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}W(jc,dn);var Td=0;t=jc.prototype,t.open=function(r,s){if(this.readyState!=Td)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,Fu(this)},t.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Mu(this)),this.readyState=Td},t.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,Fu(this)),this.a&&(this.readyState=3,Fu(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,W0(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function W0(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}t.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?Mu(this):Fu(this),this.readyState==3&&W0(this)}},t.tc=function(r){this.a&&(this.response=this.responseText=r,Mu(this))},t.sc=function(r){this.a&&(this.response=r,Mu(this))},t.Va=function(r){var s=this.i;s&&s.log(_d,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&Mu(this)};function Mu(r){r.readyState=4,r.g=null,r.c=null,r.m=null,Fu(r)}t.setRequestHeader=function(r,s){this.l.append(r,s)},t.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(_d,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(_d,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function Fu(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(jc.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function Vu(r){dn.call(this),this.headers=new Qo,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Q0,this.u=this.S=!1}W(Vu,dn);var Q0="";Vu.prototype.b=Id("goog.net.XhrIo");var pk=/^https?$/i,vk=["POST","PUT"];function gk(r,s,c,h,p){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);c=c?c.toUpperCase():"GET",r.l=s,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():md.a(),r.C=r.D?$0(r.D):$0(md),r.a.onreadystatechange=F(r.Wb,r);try{tr(r.b,Hr(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(s),!0),r.N=!1}catch(w){tr(r.b,Hr(r,"Error opening Xhr: "+w.message)),X0(r,w);return}s=h||"";var y=new Qo(r.headers);p&&EN(p,function(w,E){y.set(E,w)}),p=T(y.Y()),h=f.FormData&&s instanceof f.FormData,!C(vk,c)||p||h||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(w,E){this.a.setRequestHeader(E,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{Z0(r),0<r.g&&(r.u=mk(r.a),tr(r.b,Hr(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=F(r.Ma,r)):r.s=Fh(r.Ma,r.g,r)),tr(r.b,Hr(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(w){tr(r.b,Hr(r,"Send error: "+w.message)),X0(r,w)}}function mk(r){return or&&gy(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function yk(r){return r.toLowerCase()=="content-type"}t=Vu.prototype,t.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",tr(this.b,Hr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function X0(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,Y0(r),Uc(r)}function Y0(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(tr(this.b,Hr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Uc(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Uc(this,!0)),Vu.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?J0(this):this.Jc())},t.Jc=function(){J0(this)};function J0(r){if(r.c&&typeof l<"u"){if(r.C[1]&&ju(r)==4&&Bc(r)==2)tr(r.b,Hr(r,"Local request error detected and ignored"));else if(r.i&&ju(r)==4)Fh(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),ju(r)==4){tr(r.b,Hr(r,"Request complete")),r.c=!1;try{var s=Bc(r);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var h;if(!(h=c)){var p;if(p=s===0){var y=String(r.l).match(Hy)[1]||null;if(!y&&f.self&&f.self.location){var w=f.self.location.protocol;y=w.substr(0,w.length-1)}p=!pk.test(y?y.toLowerCase():"")}h=p}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var E=2<ju(r)?r.a.statusText:""}catch(M){tr(r.b,"Can not get status: "+M.message),E=""}r.h=E+" ["+Bc(r)+"]",Y0(r)}}finally{Uc(r)}}}}function Uc(r,s){if(r.a){Z0(r);var c=r.a,h=r.C[0]?m:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(p){(r=r.b)&&r.log(z0,"Problem encountered resetting onreadystatechange: "+p.message,void 0)}}}function Z0(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function ju(r){return r.a?r.a.readyState:0}function Bc(r){try{return 2<ju(r)?r.a.status:-1}catch{return-1}}function wk(r){try{return r.a?r.a.responseText:""}catch(s){return tr(r.b,"Can not get responseText: "+s.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Q0:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(z0,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return tr(this.b,"Can not get response: "+s.message),null}};function Hr(r,s){return s+" ["+r.P+" "+r.l+" "+Bc(r)+"]"}function no(r){var s=Ek;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}no.prototype.cancel=function(r){if(this.a)this.c instanceof no&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new Bu,qc(this),Uu(this,!1,r))}},no.prototype.m=function(r,s){this.i=!1,Uu(this,r,s)};function Uu(r,s,c){r.a=!0,r.c=c,r.f=!s,ew(r)}function qc(r){if(r.a){if(!r.v)throw new $c;r.v=!1}}function bk(r,s){Sd(r,null,s,void 0)}function Sd(r,s,c,h){r.g.push([s,c,h]),r.a&&ew(r)}no.prototype.then=function(r,s,c){var h,p,y=new qt(function(w,E){h=w,p=E});return Sd(this,h,function(w){w instanceof Bu?y.cancel():p(w)}),y.then(r,s,c)},no.prototype.$goog_Thenable=!0;function tw(r){return I(r.g,function(s){return S(s[1])})}function ew(r){if(r.h&&r.a&&tw(r)){var s=r.h,c=Kc[s];c&&(f.clearTimeout(c.a),delete Kc[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=c=!1;r.g.length&&!r.i;){var p=r.g.shift(),y=p[0],w=p[1];if(p=p[2],y=r.f?w:y)try{var E=y.call(p||r.s,s);E!==void 0&&(r.f=r.f&&(E==s||E instanceof Error),r.c=s=E),(Dt(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(M){s=M,r.f=!0,tw(r)||(c=!0)}}r.c=s,h&&(E=F(r.m,r,!0),h=F(r.m,r,!1),s instanceof no?(Sd(s,E,h),s.C=!0):s.then(E,h)),c&&(s=new nw(s),Kc[s.a]=s,r.h=s.a)}function $c(){bt.call(this)}W($c,bt),$c.prototype.message="Deferred has already fired",$c.prototype.name="AlreadyCalledError";function Bu(){bt.call(this)}W(Bu,bt),Bu.prototype.message="Deferred was canceled",Bu.prototype.name="CanceledError";function nw(r){this.a=f.setTimeout(F(this.c,this),0),this.b=r}nw.prototype.c=function(){throw delete Kc[this.a],this.b};var Kc={};function Ad(r){var s={},c=s.document||document,h=Ho(r).toString(),p=vc(document,"SCRIPT"),y={Xb:p,Ma:void 0},w=new no(y),E=null,M=s.timeout!=null?s.timeout:5e3;return 0<M&&(E=window.setTimeout(function(){Hc(p,!0);var H=new Nd(Tk,"Timeout reached for loading script "+h);qc(w),Uu(w,!1,H)},M),y.Ma=E),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(Hc(p,s.xd||!1,E),qc(w),Uu(w,!0,null))},p.onerror=function(){Hc(p,!0,E);var H=new Nd(Ik,"Error while loading script "+h);qc(w),Uu(w,!1,H)},y=s.attributes||{},Ut(y,{type:"text/javascript",charset:"UTF-8"}),yy(p,y),Z1(p,r),_k(c).appendChild(p),w}function _k(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function Ek(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&Hc(r,!0,this.Ma)}}function Hc(r,s,c){c!=null&&f.clearTimeout(c),r.onload=m,r.onerror=m,r.onreadystatechange=m,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var Ik=0,Tk=1;function Nd(r,s){var c="Jsloader error (code #"+r+")";s&&(c+=": "+s),bt.call(this,c),this.code=r}W(Nd,bt);function zc(r){this.f=r}W(zc,Pu),zc.prototype.a=function(){return new this.f},zc.prototype.b=function(){return{}};function ar(r,s,c){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||Sk,this.g=At(r.secureTokenHeaders||Ak),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||Nk,this.a=At(r.firebaseHeaders||kk),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Sr()=="Node",c=f.XMLHttpRequest||c&&xt.INTERNAL.node&&xt.INTERNAL.node.XMLHttpRequest,!c&&!sr())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,sr()?this.f=new Vc(self):r0()?this.f=new zc(c):this.f=new Mc,this.b=null}var kd,cr="idToken",Sk=new ci(3e4,6e4),Ak={"Content-Type":"application/x-www-form-urlencoded"},Nk=new ci(3e4,6e4),kk={"Content-Type":"application/json"};function rw(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function Gc(r,s){s&&(r.l=Cd("https://securetoken.googleapis.com/v1/token",s),r.h=Cd("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=Cd("https://identitytoolkit.googleapis.com/v2/",s))}function Cd(r,s){return r=Nn(r),s=Nn(s.url),r.f=r.a+r.f,bu(r,s.c),r.a=s.a,_u(r,s.g),r.toString()}function iw(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}ar.prototype.T=function(){return this.b};function ow(r,s,c,h,p,y,w){RN()||sr()?r=F(r.u,r):(kd||(kd=new qt(function(E,M){xk(E,M)})),r=F(r.s,r)),r(s,c,h,p,y,w)}ar.prototype.u=function(r,s,c,h,p,y){if(sr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new Vu(this.f);if(y){w.g=Math.max(0,y);var E=setTimeout(function(){w.dispatchEvent("timeout")},y)}qy(w,"complete",function(){E&&clearTimeout(E);var M=null;try{M=JSON.parse(wk(this))||null}catch{M=null}s&&s(M)}),Mh(w,"ready",function(){E&&clearTimeout(E),Ly(this)}),Mh(w,"timeout",function(){E&&clearTimeout(E),Ly(this),s&&s(null)}),gk(w,r,c,h,p)};var Ck=new Bt(Er,"https://apis.google.com/js/client.js?onload=%{onload}"),sw="__fcb"+Math.floor(1e6*Math.random()).toString();function xk(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[sw]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var c=yh(Ck,{onload:sw});bk(Ad(c),function(){s(Error("CORS_UNSUPPORTED"))})}}ar.prototype.s=function(r,s,c,h,p){var y=this;kd.then(function(){window.gapi.client.setApiKey(y.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:p,authType:"none",callback:function(E){window.gapi.auth.setToken(w),s&&s(E)}})}).o(function(w){s&&s({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function Ok(r,s){return new qt(function(c,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?ow(r,r.l+"?key="+encodeURIComponent(r.c),function(p){p?p.error?h(Fd(p)):p.access_token&&p.refresh_token?c(p):h(new A("internal-error")):h(new A("network-request-failed"))},"POST",Gy(s).toString(),r.g,r.m.get()):h(new A("internal-error"))})}function uw(r,s,c,h,p,y,w){var E=Nn(s+c);xe(E,"key",r.c),w&&xe(E,"cb",Date.now().toString());var M=h=="GET";if(M)for(var H in p)p.hasOwnProperty(H)&&xe(E,H,p[H]);return new qt(function(Ot,se){ow(r,E.toString(),function(te){te?te.error?se(Fd(te,y||{})):Ot(te):se(new A("network-request-failed"))},h,M?void 0:Xy(s0(p)),r.a,r.v.get())})}function ro(r){if(r=r.email,typeof r!="string"||!LN.test(r))throw new A("invalid-email")}function aw(r){"email"in r&&ro(r)}function Rk(r,s){return Kt(r,qk,{identifier:s,continueUri:Sc()?Tu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function Dk(r){return Kt(r,tC,{}).then(function(s){return s.authorizedDomains||[]})}function kn(r){if(!r[cr])throw r.mfaPendingCredential?new A("multi-factor-auth-required",null,At(r)):new A("internal-error")}function xd(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new A("internal-error")}else{if(!r.sessionInfo)throw new A("missing-verification-id");if(!r.code)throw new A("missing-verification-code")}}ar.prototype.Ab=function(){return Kt(this,iC,{})},ar.prototype.Cb=function(r,s){return Kt(this,fw,{idToken:r,email:s})},ar.prototype.Db=function(r,s){return Kt(this,hw,{idToken:r,password:s})};var Pk={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=ar.prototype,t.Eb=function(r,s){var c={idToken:r},h=[];return Tt(Pk,function(p,y){var w=s[y];w===null?h.push(p):y in s&&(c[y]=w)}),h.length&&(c.deleteAttribute=h),Kt(this,fw,c)},t.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},Ut(r,s),Kt(this,Zk,r)},t.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},Ut(r,s),Kt(this,Xk,r)},t.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},Ut(r,s),Kt(this,Yk,r)},t.Fb=function(r,s,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},Ut(r,c),Kt(this,Jk,r)};function Lk(r,s){return Kt(r,rC,s)}t.gb=function(r){return Kt(this,fC,r)};function Mk(r,s){return Kt(r,oC,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function cw(r){if(!r.phoneVerificationInfo)throw new A("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new A("missing-verification-code")}function Fk(r,s){return Kt(r,sC,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function Vk(r,s,c){return Kt(r,Kk,{idToken:s,deleteProvider:c})}function Od(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new A("internal-error")}function Rd(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new Gi(r.postBody),Uh(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function lw(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=Pc(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=Pc(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=Pc(r)):r.errorMessage&&(s=pw(r.errorMessage)),s)throw s;kn(r)}function Dd(r,s){return s.returnIdpCredential=!0,Kt(r,uC,s)}function Pd(r,s){return s.returnIdpCredential=!0,Kt(r,cC,s)}function Ld(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,Kt(r,aC,s)}function Md(r){if(!r.oobCode)throw new A("invalid-action-code")}t.ob=function(r,s){return Kt(this,nC,{oobCode:r,newPassword:s})},t.Sa=function(r){return Kt(this,Uk,{oobCode:r})},t.kb=function(r){return Kt(this,jk,{oobCode:r})};var jk={endpoint:"setAccountInfo",A:Md,Z:"email",B:!0},Uk={endpoint:"resetPassword",A:Md,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},B:!0},Bk={endpoint:"signupNewUser",A:function(r){if(ro(r),!r.password)throw new A("weak-password")},G:kn,V:!0,B:!0},qk={endpoint:"createAuthUri",B:!0},$k={endpoint:"deleteAccount",O:["idToken"]},Kk={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new A("internal-error")}},Hk={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ro,G:kn,V:!0,B:!0},zk={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ro,G:kn,V:!0},Gk={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:cw,G:kn,B:!0,Na:!0},Wk={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:cw,G:kn,B:!0,Na:!0},Qk={endpoint:"getAccountInfo"},Xk={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new A("internal-error");ro(r)},Z:"email",B:!0},Yk={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new A("internal-error")},Z:"email",B:!0},Jk={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},Z:"email",B:!0},Zk={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new A("internal-error");ro(r)},Z:"email",B:!0},tC={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},eC={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new A("internal-error")}},nC={endpoint:"resetPassword",A:Md,Z:"email",B:!0},rC={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},fw={endpoint:"setAccountInfo",O:["idToken"],A:aw,V:!0},hw={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(aw(r),!r.password)throw new A("weak-password")},G:kn,V:!0},iC={endpoint:"signupNewUser",G:kn,V:!0,B:!0},oC={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new A("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},sC={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},uC={endpoint:"verifyAssertion",A:Od,Za:Rd,G:lw,V:!0,B:!0},aC={endpoint:"verifyAssertion",A:Od,Za:Rd,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new A("user-not-found");if(r.errorMessage)throw pw(r.errorMessage);kn(r)},V:!0,B:!0},cC={endpoint:"verifyAssertion",A:function(r){if(Od(r),!r.idToken)throw new A("internal-error")},Za:Rd,G:lw,V:!0},lC={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new A("invalid-custom-token")},G:kn,V:!0,B:!0},dw={endpoint:"verifyPassword",A:function(r){if(ro(r),!r.password)throw new A("wrong-password")},G:kn,V:!0,B:!0},fC={endpoint:"verifyPhoneNumber",A:xd,G:kn,B:!0},hC={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new A("internal-error");xd(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",Pc(r);kn(r)}},dC={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:xd,G:kn,B:!0},pC={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[cr]^!!r.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function Kt(r,s,c){if(!qN(c,s.O))return me(new A("internal-error"));var h=!!s.Na,p=s.Vb||"POST",y;return It(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?uw(r,r.i,s.endpoint,p,c,s.Ib,s.mb||!1):uw(r,r.h,s.endpoint,p,c,s.Ib,s.mb||!1)}).then(function(w){return y=w,s.Za?s.Za(c,y):y}).then(s.G).then(function(){if(!s.Z)return y;if(!(s.Z in y))throw new A("internal-error");return y[s.Z]})}function pw(r){return Fd({error:{errors:[{message:r}],code:400,message:r}})}function Fd(r,s){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new A(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Ut(h,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var p in h)if(c.indexOf(p)===0)return new A(h[p],s);return!s&&r&&(s=Au(r)),new A("internal-error",s)}function vC(r){this.b=r,this.a=null,this.sb=gC(this)}function gC(r){return EC().then(function(){return new qt(function(s,c){ye("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:ye("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function p(){clearTimeout(y),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},_C.get());h.ping(p).then(p,function(){c(Error("Network Error"))})})})})}function mC(r,s){return r.sb.then(function(){return new qt(function(c){r.a.send(s.type,s,c,ye("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function yC(r,s){r.sb.then(function(){r.a.register("authEvent",s,ye("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var wC=new Bt(Er,"https://apis.google.com/js/api.js?onload=%{onload}"),bC=new ci(3e4,6e4),_C=new ci(5e3,15e3),Wc=null;function EC(){return Wc||(Wc=new qt(function(r,s){function c(){a0(),ye("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){a0(),s(Error("Network Error"))},timeout:bC.get()})}if(ye("gapi.iframes.Iframe"))r();else if(ye("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){ye("gapi.load")?c():s(Error("Network Error"))},h=yh(wC,{onload:h}),It(Ad(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw Wc=null,r}))}function vw(r,s,c,h){this.l=r,this.h=s,this.i=c,this.g=h,this.f=null,this.g?(r=Nn(this.g.url),r=Ic(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Ic("https",this.l,null,"/__/auth/iframe"),this.a=r,xe(this.a,"apiKey",this.h),xe(this.a,"appName",this.i),this.b=null,this.c=[]}vw.prototype.toString=function(){return this.f?xe(this.a,"v",this.f):Tr(this.a.b,"v"),this.b?xe(this.a,"eid",this.b):Tr(this.a.b,"eid"),this.c.length?xe(this.a,"fw",this.c.join(",")):Tr(this.a.b,"fw"),this.a.toString()};function Vd(r,s,c,h,p,y){this.u=r,this.s=s,this.c=c,this.m=h,this.v=y,this.i=this.g=this.l=null,this.a=p,this.h=this.f=null}Vd.prototype.zb=function(r){return this.h=r,this},Vd.prototype.toString=function(){if(this.v){var r=Nn(this.v.url);r=Ic(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Ic("https",this.u,null,"/__/auth/handler");if(xe(r,"apiKey",this.s),xe(r,"appName",this.c),xe(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=xt.app(this.c).auth().la()}catch{c=null}s.pb=c,xe(r,"providerId",this.a.providerId),c=this.a,s=s0(c.Jb);for(var h in s)s[h]=s[h].toString();h=c.Qc,s=At(s);for(var p=0;p<h.length;p++){var y=h[p];y in s&&delete s[y]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),dt(s)||xe(r,"customParameters",Au(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&xe(r,"scopes",c.join(","))),this.l?xe(r,"redirectUrl",this.l):Tr(r.b,"redirectUrl"),this.g?xe(r,"eventId",this.g):Tr(r.b,"eventId"),this.i?xe(r,"v",this.i):Tr(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!Jn(r,w)&&xe(r,w,this.b[w]);return this.h?xe(r,"tid",this.h):Tr(r.b,"tid"),this.f?xe(r,"eid",this.f):Tr(r.b,"eid"),w=jd(this.c),w.length&&xe(r,"fw",w.join(",")),r.toString()};function jd(r){try{return xt.app(r).auth().Ga()}catch{return[]}}function gw(r,s,c,h,p,y){this.s=r,this.g=s,this.b=c,this.f=y,this.c=h||null,this.i=p||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function mw(r){var s=Tu();return Dk(r).then(function(c){t:{var h=Nn(s),p=h.c;h=h.a;for(var y=0;y<c.length;y++){var w=c[y],E=h,M=p;if(w.indexOf("chrome-extension://")==0?E=Nn(w).a==E&&M=="chrome-extension":M!="http"&&M!="https"?E=!1:PN.test(w)?E=E==w:(w=w.split(".").join("\\."),E=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(E)),E){c=!0;break t}}c=!1}if(!c)throw new gd(Tu())})}function yw(r){return r.m||(r.m=Tc().then(function(){if(!r.u){var s=r.c,c=r.i,h=jd(r.b),p=new vw(r.s,r.g,r.b,r.f);p.f=s,p.b=c,p.c=tt(h||[]),r.u=p.toString()}r.v=new vC(r.u),IC(r)})),r.m}t=gw.prototype,t.Pb=function(r,s,c){var h=new A("popup-closed-by-user"),p=new A("web-storage-unsupported"),y=this,w=!1;return this.ma().then(function(){TC(y).then(function(E){E||(r&&Wi(r),s(p),w=!0)})}).o(function(){}).then(function(){if(!w)return DN(r)}).then(function(){if(!w)return Wo(c).then(function(){s(h)})})},t.Yb=function(){var r=Xe();return!Su(r)&&!u0(r)},t.Ub=function(){return!1},t.Nb=function(r,s,c,h,p,y,w,E){if(!r)return me(new A("popup-blocked"));if(w&&!Su())return this.ma().o(function(H){Wi(r),p(H)}),h(),It();this.a||(this.a=mw(ww(this)));var M=this;return this.a.then(function(){var H=M.ma().o(function(Ot){throw Wi(r),p(Ot),Ot});return h(),H}).then(function(){if(pd(c),!w){var H=qu(M.s,M.g,M.b,s,c,null,y,M.c,void 0,M.i,E,M.f);Zy(H,r)}}).o(function(H){throw H.code=="auth/network-request-failed"&&(M.a=null),H})};function ww(r){return r.l||(r.C=r.c?Jo(r.c,jd(r.b)):null,r.l=new ar(r.g,Zt(r.i),r.C),r.f&&Gc(r.l,r.f)),r.l}t.Ob=function(r,s,c,h){this.a||(this.a=mw(ww(this)));var p=this;return this.a.then(function(){pd(s);var y=qu(p.s,p.g,p.b,r,s,Tu(),c,p.c,void 0,p.i,h,p.f);Zy(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(p.a=null),y})},t.ma=function(){var r=this;return yw(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new A("network-request-failed")})},t.ac=function(){return!0};function qu(r,s,c,h,p,y,w,E,M,H,Ot,se){return r=new Vd(r,s,c,h,p,se),r.l=y,r.g=w,r.i=E,r.b=At(M||null),r.f=H,r.zb(Ot).toString()}function IC(r){if(!r.v)throw Error("IfcHandler must be initialized!");yC(r.v,function(s){var c={};if(s&&s.authEvent){var h=!1;for(s=q0(s.authEvent),c=0;c<r.h.length;c++)h=r.h[c](s)||h;return c={},c.status=h?"ACK":"ERROR",It(c)}return c.status="ERROR",It(c)})}function TC(r){var s={type:"webStorageSupport"};return yw(r).then(function(){return mC(r.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}t.Ea=function(r){this.h.push(r)},t.Ta=function(r){V(this.h,function(s){return s==r})};function bw(r){if(this.a=r||xt.INTERNAL.reactNative&&xt.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=bw.prototype,t.get=function(r){return It(this.a.getItem(r)).then(function(s){return s&&ts(s)})},t.set=function(r,s){return It(this.a.setItem(r,Au(s)))},t.U=function(r){return It(this.a.removeItem(r))},t.ca=function(){},t.ia=function(){};function _w(r){this.b=r,this.a={},this.f=F(this.c,this)}var Ew=[];function SC(){var r=sr()?self:null;if(j(Ew,function(c){c.b==r&&(s=c)}),!s){var s=new _w(r);Ew.push(s)}return s}_w.prototype.c=function(r){var s=r.data.eventType,c=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var p=[];j(h,function(y){p.push(It().then(function(){return y(r.origin,r.data.data)}))}),Ay(p).then(function(y){var w=[];j(y,function(E){w.push({fulfilled:E.Qb,value:E.value,reason:E.reason?E.reason.message:void 0})}),j(w,function(E){for(var M in E)typeof E[M]>"u"&&delete E[M]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:w})})}};function Iw(r,s,c){dt(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(c)}function Tw(r){this.a=r}Tw.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function Sw(r){this.c=r,this.b=!1,this.a=[]}function Aw(r,s,c,h){var p,y=c||{},w,E,M,H=null;if(r.b)return me(Error("connection_unavailable"));var Ot=h?800:50,se=typeof MessageChannel<"u"?new MessageChannel:null;return new qt(function(te,ze){se?(p=Math.floor(Math.random()*Math.pow(10,20)).toString(),se.port1.start(),E=setTimeout(function(){ze(Error("unsupported_event"))},Ot),w=function(zr){zr.data.eventId===p&&(zr.data.status==="ack"?(clearTimeout(E),M=setTimeout(function(){ze(Error("timeout"))},3e3)):zr.data.status==="done"?(clearTimeout(M),typeof zr.data.response<"u"?te(zr.data.response):ze(Error("unknown_error"))):(clearTimeout(E),clearTimeout(M),ze(Error("invalid_response"))))},H={messageChannel:se,onMessage:w},r.a.push(H),se.port1.addEventListener("message",w),r.c.postMessage({eventType:s,eventId:p,data:y},[se.port2])):ze(Error("connection_unavailable"))}).then(function(te){return Ud(r,H),te}).o(function(te){throw Ud(r,H),te})}function Ud(r,s){if(s){var c=s.messageChannel,h=s.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),V(r.a,function(p){return p==s})}}Sw.prototype.close=function(){for(;0<this.a.length;)Ud(this,this.a[0]);this.b=!0};function Nw(){if(!$d())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;sr()&&self?(this.v=SC(),Iw(this.v,"keyChanged",function(s,c){return xw(r).then(function(h){return 0<h.length&&j(r.a,function(p){p(h)}),{keyProcessed:C(h,c.key)}})}),Iw(this.v,"ping",function(){return It(["keyChanged"])})):UN().then(function(s){(r.h=s)&&(r.g=new Sw(new Tw(s)),Aw(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&C(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var Bd;function AC(r){return new qt(function(s,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(p){c(Error(p.target.error))}})}function kw(r){return new qt(function(s,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(p){try{p.preventDefault()}catch{}c(Error(p.target.error))},h.onupgradeneeded=function(p){p=p.target.result;try{p.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},h.onsuccess=function(p){p=p.target.result,p.objectStoreNames.contains("firebaseLocalStorage")?s(p):AC(r).then(function(){return kw(r)}).then(function(y){s(y)}).o(function(y){c(y)})}})}function qd(r){return r.i||(r.i=kw(r)),r.i}function Qc(r,s){function c(p,y){qd(r).then(s).then(p).o(function(w){if(3<++h)y(w);else return qd(r).then(function(E){return E.close(),r.i=void 0,c(p,y)}).o(function(E){y(E)})})}var h=0;return new qt(c)}function $d(){try{return!!f.indexedDB}catch{return!1}}function $u(r){return r.objectStore("firebaseLocalStorage")}function Ku(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function is(r){return new qt(function(s,c){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){c(h.target.error)}})}t=Nw.prototype,t.set=function(r,s){var c=this,h=!1;return Qc(this,function(p){return p=$u(Ku(p,!0)),is(p.get(r))}).then(function(p){return Qc(c,function(y){if(y=$u(Ku(y,!0)),p)return p.value=s,is(y.put(p));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=s,is(y.add(w))})}).then(function(){return c.c[r]=s,Cw(c,r)}).oa(function(){h&&c.b--})};function Cw(r,s){return r.g&&r.h&&jN()===r.h?Aw(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):It()}t.get=function(r){return Qc(this,function(s){return is($u(Ku(s,!1)).get(r))}).then(function(s){return s&&s.value})},t.U=function(r){var s=this,c=!1;return Qc(this,function(h){return c=!0,s.b++,is($u(Ku(h,!0)).delete(r))}).then(function(){return delete s.c[r],Cw(s,r)}).oa(function(){c&&s.b--})};function xw(r){return qd(r).then(function(s){var c=$u(Ku(s,!1));return c.getAll?is(c.getAll()):new qt(function(h,p){var y=[],w=c.openCursor();w.onsuccess=function(E){(E=E.target.result)?(y.push(E.value),E.continue()):h(y)},w.onerror=function(E){p(E.target.error)}})}).then(function(s){var c={},h=[];if(r.b==0){for(h=0;h<s.length;h++)c[s[h].fbase_key]=s[h].value;h=t0(r.c,c),r.c=c}return h})}t.ca=function(r){this.a.length==0&&NC(this),this.a.push(r)},t.ia=function(r){V(this.a,function(s){return s==r}),this.a.length==0&&Ow(this)};function NC(r){function s(){r.f=setTimeout(function(){r.l=xw(r).then(function(c){0<c.length&&j(r.a,function(h){h(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}Ow(r),s()}function Ow(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function Rw(r){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=It().then(function(){if($d()){var h=Xi(),p="__sak"+h;return Bd||(Bd=new Nw),c=Bd,c.set(p,h).then(function(){return c.get(p)}).then(function(y){if(y!==h)throw Error("indexedDB not supported!");return c.U(p)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(p){j(s.a,function(y){y(p)})}),h})}t=Rw.prototype,t.get=function(r){return this.b.then(function(s){return s.get(r)})},t.set=function(r,s){return this.b.then(function(c){return c.set(r,s)})},t.U=function(r){return this.b.then(function(s){return s.U(r)})},t.ca=function(r){this.a.push(r)},t.ia=function(r){V(this.a,function(s){return s==r})};function Hu(){this.a={},this.type="inMemory"}t=Hu.prototype,t.get=function(r){return It(this.a[r])},t.set=function(r,s){return this.a[r]=s,It()},t.U=function(r){return delete this.a[r],It()},t.ca=function(){},t.ia=function(){};function Xc(){if(!kC())throw Sr()=="Node"?new A("internal-error","The LocalStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=Dw()||xt.INTERNAL.node.localStorage,this.type="localStorage"}function Dw(){try{var r=f.localStorage,s=Xi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function kC(){var r=Sr()=="Node";if(r=Dw()||r&&xt.INTERNAL.node&&xt.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=Xc.prototype,t.get=function(r){var s=this;return It().then(function(){var c=s.a.getItem(r);return ts(c)})},t.set=function(r,s){var c=this;return It().then(function(){var h=Au(s);h===null?c.U(r):c.a.setItem(r,h)})},t.U=function(r){var s=this;return It().then(function(){s.a.removeItem(r)})},t.ca=function(r){f.window&&Yn(f.window,"storage",r)},t.ia=function(r){f.window&&Vn(f.window,"storage",r)};function Kd(){this.type="nullStorage"}t=Kd.prototype,t.get=function(){return It(null)},t.set=function(){return It()},t.U=function(){return It()},t.ca=function(){},t.ia=function(){};function Hd(){if(!CC())throw Sr()=="Node"?new A("internal-error","The SessionStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=Pw()||xt.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Pw(){try{var r=f.sessionStorage,s=Xi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function CC(){var r=Sr()=="Node";if(r=Pw()||r&&xt.INTERNAL.node&&xt.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=Hd.prototype,t.get=function(r){var s=this;return It().then(function(){var c=s.a.getItem(r);return ts(c)})},t.set=function(r,s){var c=this;return It().then(function(){var h=Au(s);h===null?c.U(r):c.a.setItem(r,h)})},t.U=function(r){var s=this;return It().then(function(){s.a.removeItem(r)})},t.ca=function(){},t.ia=function(){};function xC(){var r={};r.Browser=OC,r.Node=RC,r.ReactNative=DC,r.Worker=PC,this.a=r[Sr()]}var zd,OC={F:Xc,cb:Hd},RC={F:Xc,cb:Hd},DC={F:bw,cb:Kd},PC={F:Xc,cb:Kd},os={rd:"local",NONE:"none",td:"session"};function LC(r){var s=new A("invalid-persistence-type"),c=new A("unsupported-persistence-type");t:{for(h in os)if(os[h]==r){var h=!0;break t}h=!1}if(!h||typeof r!="string")throw s;switch(Sr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!$d()&&r!=="none")throw c;break;default:if(!zh()&&r!=="none")throw c}}function Lw(){var r=!!(!u0(Xe())&&Kh()),s=Su(),c=zh();this.m=r,this.h=s,this.l=c,this.a={},zd||(zd=new xC),r=zd;try{this.g=!qh()&&c0()||!f.indexedDB?new r.a.F:new Rw(sr()?new Hu:new r.a.F)}catch{this.g=new Hu,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new Hu}this.v=new Hu,this.f=F(this.Zb,this),this.b={}}var Gd;function zu(){return Gd||(Gd=new Lw),Gd}function io(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function ss(r,s){return"firebase:"+r.name+(s?":"+s:"")}function MC(r,s,c){var h=ss(s,c),p=io(r,s.F);return r.get(s,c).then(function(y){var w=null;try{w=ts(f.localStorage.getItem(h))}catch{}if(w&&!y)return f.localStorage.removeItem(h),r.set(s,w,c);w&&y&&p.type!="localStorage"&&f.localStorage.removeItem(h)})}t=Lw.prototype,t.get=function(r,s){return io(this,r.F).get(ss(r,s))};function us(r,s,c){return c=ss(s,c),s.F=="local"&&(r.b[c]=null),io(r,s.F).U(c)}t.set=function(r,s,c){var h=ss(r,c),p=this,y=io(this,r.F);return y.set(h,s).then(function(){return y.get(h)}).then(function(w){r.F=="local"&&(p.b[h]=w)})},t.addListener=function(r,s,c){r=ss(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),dt(this.a)&&(io(this,"local").ca(this.f),this.h||(qh()||!c0())&&f.indexedDB||!this.l||FC(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},t.removeListener=function(r,s,c){r=ss(r,s),this.a[r]&&(V(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),dt(this.a)&&(io(this,"local").ia(this.f),Wd(this))};function FC(r){Wd(r),r.c=setInterval(function(){for(var s in r.a){var c=f.localStorage.getItem(s),h=r.b[s];c!=h&&(r.b[s]=c,c=new Hi({type:"storage",key:s,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function Wd(r){r.c&&(clearInterval(r.c),r.c=null)}t.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var p=f.localStorage.getItem(c);p!==h&&(this.b[c]=p,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?io(this,"local").ia(this.f):Wd(this),this.m){if(c=f.localStorage.getItem(s),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var y=this;c=function(){(typeof r.a.a<"u"||y.b[s]!==f.localStorage.getItem(s))&&(y.b[s]=f.localStorage.getItem(s),y.nb(s))},or&&si&&si==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else j(r,F(this.nb,this))},t.nb=function(r){this.a[r]&&j(this.a[r],function(s){s()})};function VC(r){this.a=r,this.b=zu()}var Qd={name:"authEvent",F:"local"};function jC(r){return r.b.get(Qd,r.a).then(function(s){return q0(s)})}function UC(){this.a=zu()}function BC(){this.b=-1}function Yc(r,s){this.b=Mw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),Jc===void 0&&(f.Int32Array?Jc=new Int32Array(jw):Jc=jw),this.reset()}var Jc;W(Yc,BC);for(var Mw=64,qC=Mw-1,Fw=[],Xd=0;Xd<qC;Xd++)Fw[Xd]=0;var Vw=K(128,Fw);Yc.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):tt(this.h)};function Yd(r){for(var s=r.f,c=r.l,h=0,p=0;p<s.length;)c[h++]=s[p]<<24|s[p+1]<<16|s[p+2]<<8|s[p+3],p=4*h;for(s=16;64>s;s++){p=c[s-15]|0,h=c[s-2]|0;var y=(c[s-16]|0)+((p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3)|0,w=(c[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[s]=y+w|0}h=r.a[0]|0,p=r.a[1]|0;var E=r.a[2]|0,M=r.a[3]|0,H=r.a[4]|0,Ot=r.a[5]|0,se=r.a[6]|0;for(y=r.a[7]|0,s=0;64>s;s++){var te=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&p^h&E^p&E)|0;w=H&Ot^~H&se,y=y+((H>>>6|H<<26)^(H>>>11|H<<21)^(H>>>25|H<<7))|0,w=w+(Jc[s]|0)|0,w=y+(w+(c[s]|0)|0)|0,y=se,se=Ot,Ot=H,H=M+w|0,M=E,E=p,p=h,h=w+te|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+p|0,r.a[2]=r.a[2]+E|0,r.a[3]=r.a[3]+M|0,r.a[4]=r.a[4]+H|0,r.a[5]=r.a[5]+Ot|0,r.a[6]=r.a[6]+se|0,r.a[7]=r.a[7]+y|0}function Jd(r,s,c){c===void 0&&(c=s.length);var h=0,p=r.c;if(typeof s=="string")for(;h<c;)r.f[p++]=s.charCodeAt(h++),p==r.b&&(Yd(r),p=0);else if(_(s))for(;h<c;){var y=s[h++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");r.f[p++]=y,p==r.b&&(Yd(r),p=0)}else throw Error("message must be string or array");r.c=p,r.g+=c}var jw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Uw(){Yc.call(this,8,$C)}W(Uw,Yc);var $C=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Bw(r,s,c,h,p,y){this.v=r,this.i=s,this.l=c,this.m=h||null,this.u=p||null,this.s=y,this.h=s+":"+c,this.C=new UC,this.g=new VC(this.h),this.f=null,this.b=[],this.a=this.c=null}function Zc(r){return new A("invalid-cordova-configuration",r)}t=Bw.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=MN().then(function(){if(typeof ye("universalLinks.subscribe",f)!="function")throw Zc("cordova-universal-links-plugin-fix is not installed");if(typeof ye("BuildInfo.packageName",f)>"u")throw Zc("cordova-plugin-buildinfo is not installed");if(typeof ye("cordova.plugins.browsertab.openUrl",f)!="function")throw Zc("cordova-plugin-browsertab is not installed");if(typeof ye("cordova.InAppBrowser.open",f)!="function")throw Zc("cordova-plugin-inappbrowser is not installed")},function(){throw new A("cordova-not-ready")})};function KC(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function HC(r){var s=new Uw;Jd(s,r),r=[];var c=8*s.g;56>s.c?Jd(s,Vw,56-s.c):Jd(s,Vw,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=c&255,c/=256;for(Yd(s),h=c=0;h<s.i;h++)for(var p=24;0<=p;p-=8)r[c++]=s.a[h]>>p&255;return nk(r)}t.Pb=function(r,s){return s(new A("operation-not-supported-in-this-environment")),It()},t.Nb=function(){return me(new A("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(r,s,c,h){if(this.c)return me(new A("redirect-operation-pending"));var p=this,y=f.document,w=null,E=null,M=null,H=null;return this.c=It().then(function(){return pd(s),$w(p)}).then(function(){return zC(p,r,s,c,h)}).then(function(){return new qt(function(Ot,se){E=function(){var te=ye("cordova.plugins.browsertab.close",f);return Ot(),typeof te=="function"&&te(),p.a&&typeof p.a.close=="function"&&(p.a.close(),p.a=null),!1},p.Ea(E),M=function(){w||(w=Wo(2e3).then(function(){se(new A("redirect-cancelled-by-user"))}))},H=function(){Gh()&&M()},y.addEventListener("resume",M,!1),Xe().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",H,!1)}).o(function(Ot){return Zd(p).then(function(){throw Ot})})}).oa(function(){M&&y.removeEventListener("resume",M,!1),H&&y.removeEventListener("visibilitychange",H,!1),w&&w.cancel(),E&&p.Ta(E),p.c=null})};function zC(r,s,c,h,p){var y=KC(),w=new ur(s,h,null,y,new A("no-auth-event"),null,p),E=ye("BuildInfo.packageName",f);if(typeof E!="string")throw new A("invalid-cordova-configuration");var M=ye("BuildInfo.displayName",f),H={};if(Xe().toLowerCase().match(/iphone|ipad|ipod/))H.ibi=E;else if(Xe().toLowerCase().match(/android/))H.apn=E;else return me(new A("operation-not-supported-in-this-environment"));M&&(H.appDisplayName=M),y=HC(y),H.sessionId=y;var Ot=qu(r.v,r.i,r.l,s,c,null,h,r.m,H,r.u,p,r.s);return r.ma().then(function(){var se=r.h;return r.C.a.set(Qd,w.w(),se)}).then(function(){var se=ye("cordova.plugins.browsertab.isAvailable",f);if(typeof se!="function")throw new A("invalid-cordova-configuration");var te=null;se(function(ze){if(ze){if(te=ye("cordova.plugins.browsertab.openUrl",f),typeof te!="function")throw new A("invalid-cordova-configuration");te(Ot)}else{if(te=ye("cordova.InAppBrowser.open",f),typeof te!="function")throw new A("invalid-cordova-configuration");ze=Xe(),r.a=te(Ot,ze.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||ze.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function qw(r,s){for(var c=0;c<r.b.length;c++)try{r.b[c](s)}catch{}}function $w(r){return r.f||(r.f=r.ma().then(function(){return new qt(function(s){function c(h){return s(h),r.Ta(c),!1}r.Ea(c),GC(r)})})),r.f}function Zd(r){var s=null;return jC(r.g).then(function(c){return s=c,c=r.g,us(c.b,Qd,c.a)}).then(function(){return s})}function GC(r){function s(w){h=!0,p&&p.cancel(),Zd(r).then(function(E){var M=c;if(E&&w&&w.url){var H=null;M=P0(w.url),M.indexOf("/__/auth/callback")!=-1&&(H=Nn(M),H=ts(Jn(H,"firebaseError")||null),H=(H=typeof H=="object"?Qt(H):null)?new ur(E.c,E.b,null,null,H,null,E.T()):new ur(E.c,E.b,M,E.f,null,null,E.T())),M=H||c}qw(r,M)})}var c=new ur("unknown",null,null,null,new A("no-auth-event")),h=!1,p=Wo(500).then(function(){return Zd(r).then(function(){h||qw(r,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(ye("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:w}),typeof y=="function")try{y(w)}catch(E){console.error(E)}},vd||(vd=new lk),fk(s)}t.Ea=function(r){this.b.push(r),$w(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new ur("unknown",null,null,null,new A("no-auth-event")),r(s))})},t.Ta=function(r){V(this.b,function(s){return s==r})};function WC(r){this.a=r,this.b=zu()}var tp={name:"pendingRedirect",F:"session"};function QC(r){return r.b.set(tp,"pending",r.a)}function ep(r){return us(r.b,tp,r.a)}function XC(r){return r.b.get(tp,r.a).then(function(s){return s=="pending"})}function tl(r,s,c,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=F(this.s,this),this.b=new nl,this.C=new Zw,this.g=new WC(Xw(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Kw(this.D,this.v,this.m,it,this.J)}function Kw(r,s,c,h,p){var y=xt.SDK_VERSION||null;return $h()?new Bw(r,s,c,y,h,p):new gw(r,s,c,y,h,p)}tl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Kw(this.D,this.v,this.m,null,this.J),this.i={}};function Hw(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(c){throw r.a==s&&r.reset(),c})}function zw(r){r.a.Yb()&&Hw(r).o(function(s){var c=new ur("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));rp(s)&&r.s(c)}),r.a.Ub()||Yw(r.b)}function el(r,s){C(r.h,s)||r.h.push(s),r.f||XC(r.g).then(function(c){c?ep(r.g).then(function(){Hw(r).o(function(h){var p=new ur("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));rp(h)&&r.s(p)})}):zw(r)}).o(function(){zw(r)})}function np(r,s){V(r.h,function(c){return c==s})}tl.prototype.s=function(r){if(!r)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return Yw(this.b),s};var YC=new ci(2e3,1e4),JC=new ci(3e4,6e4);tl.prototype.ra=function(){return this.b.ra()};function Gw(r,s,c,h,p,y,w){return r.a.Nb(s,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},p,y,w)}function rp(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Ww(r,s,c,h,p){var y;return QC(r.g).then(function(){return r.a.Ob(s,c,h,p).o(function(w){if(rp(w))throw new A("operation-not-supported-in-this-environment");return y=w,ep(r.g).then(function(){throw y})}).then(function(){return r.a.ac()?new qt(function(){}):ep(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Qw(r,s,c,h,p){return r.a.Pb(h,function(y){s.na(c,null,y,p)},YC.get())}var ip={};function Xw(r,s,c){return r=r+":"+s,c&&(r=r+":"+c.url),r}function op(r,s,c,h){var p=Xw(s,c,h);return ip[p]||(ip[p]=new tl(r,s,c,h)),ip[p]}function nl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}nl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},nl.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,p=r.a&&r.a.code=="auth/web-storage-unsupported",y=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!p&&!y),c!="unknown"||p||y?r.a?(oo(this,!0,null,r.a),It()):s.Fa(c,h)?ZC(this,r,s):me(new A("invalid-auth-event")):(oo(this,!1,null,null),It())}else me(new A("invalid-auth-event"))};function Yw(r){r.g||(r.g=!0,oo(r,!1,null,null))}function rl(r){r.g&&!r.i&&oo(r,!1,null,null)}function ZC(r,s,c){c=c.Fa(s.c,s.b);var h=s.g,p=s.f,y=s.i,w=s.T(),E=!!s.c.match(/Redirect$/);c(h,p,w,y).then(function(M){oo(r,E,M,null)}).o(function(M){oo(r,E,null,M)})}function tx(r,s){if(r.b=function(){return me(s)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](s)}function Jw(r,s){if(r.b=function(){return It(s)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](s)}function oo(r,s,c,h){s?h?tx(r,h):Jw(r,c):Jw(r,{user:null}),r.f=[],r.c=[]}nl.prototype.ra=function(){var r=this;return new qt(function(s,c){r.b?r.b().then(s,c):(r.f.push(s),r.c.push(c),ex(r))})};function ex(r){var s=new A("timeout");r.a&&r.a.cancel(),r.a=Wo(JC.get()).then(function(){r.b||(r.g=!0,oo(r,!0,null,s))})}function Zw(){}Zw.prototype.h=function(r,s){if(r){var c=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),It()):s.Fa(c,h)?nx(r,s):me(new A("invalid-auth-event"))}else me(new A("invalid-auth-event"))};function nx(r,s){var c=r.b,h=r.c;s.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(p){s.na(h,p,null,c)}).o(function(p){s.na(h,null,p,c)})}function tb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function sp(r,s){this.a=s,ft(this,"verificationId",r)}sp.prototype.confirm=function(r){return r=B0(this.verificationId,r),this.a(r)};function up(r,s,c,h){return new Kr(r).gb(s,c).then(function(p){return new sp(p,h)})}function rx(r){var s=A0(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");pn(this,{token:r,expirationTime:Nu(1e3*s.exp),authTime:Nu(1e3*s.auth_time),issuedAtTime:Nu(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function ap(r,s,c){var h=s&&s[nb];if(!h)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=At(s),this.g=c,this.c=new Rc(null,h),this.b=[];var p=this;j(s[eb]||[],function(y){(y=Zh(y))&&p.b.push(y)}),ft(this,"auth",this.a),ft(this,"session",this.c),ft(this,"hints",this.b)}var eb="mfaInfo",nb="mfaPendingCredential";ap.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(c){var h=At(s.f);return delete h[eb],delete h[nb],Ut(h,c),s.g(h)})};function cp(r,s,c,h){A.call(this,"multi-factor-auth-required",h,s),this.b=new ap(r,s,c),ft(this,"resolver",this.b)}W(cp,A);function rb(r,s,c){if(r&&N(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new cp(s,r.serverResponse,c,r.message)}catch{}return null}function ib(){}ib.prototype.tb=function(r,s,c){return s.type==Ou?ix(this,r,s,c):ox(this,r,s)};function ix(r,s,c,h){return c.Ha().then(function(p){return p={idToken:p},typeof h<"u"&&(p.displayName=h),Ut(p,{phoneVerificationInfo:Ru(r.a)}),Kt(s,Gk,p)})}function ox(r,s,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},Ut(h,{phoneVerificationInfo:Ru(r.a)}),Kt(s,Wk,h)})}function lp(r){ft(this,"factorId",r.fa),this.a=r}W(lp,ib);function ob(r){if(lp.call(this,r),this.a.fa!=Kr.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}W(ob,lp);function as(r,s){An.call(this,r);for(var c in s)this[c]=s[c]}W(as,An);function fp(r,s){this.a=r,this.b=[],this.c=F(this.yc,this),Yn(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&j(s.multiFactor.enrolledFactors,function(h){var p=null,y={};if(h){h.uid&&(y[ed]=h.uid),h.displayName&&(y[f0]=h.displayName),h.enrollmentTime&&(y[td]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(y[nd]=h.phoneNumber);try{p=new ku(y)}catch{}h=p}else h=null;h&&c.push(h)}),il(this,c)}function sx(r){var s=[];return j(r.mfaInfo||[],function(c){(c=Zh(c))&&s.push(c)}),s}t=fp.prototype,t.yc=function(r){il(this,sx(r.hd))};function il(r,s){r.b=s,ft(r,"enrolledFactors",s)}t.Sb=function(){return this.a.I().then(function(r){return new Rc(r,null)})},t.fc=function(r,s){var c=this,h=this.a.a;return this.Sb().then(function(p){return r.tb(h,p,s)}).then(function(p){return kr(c.a,p),c.a.reload()})},t.bd=function(r){var s=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(p){return Kt(h,pC,{idToken:p,mfaEnrollmentId:c})}).then(function(p){var y=st(s.b,function(w){return w.uid!=c});return il(s,y),kr(s.a,p),s.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},t.w=function(){return{multiFactor:{enrolledFactors:kt(this.b,function(r){return r.w()})}}};function hp(r,s,c){if(this.h=r,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}hp.prototype.start=function(){this.a=this.c,dp(this,!0)};function ux(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function dp(r,s){r.stop(),r.b=Wo(ux(r,s)).then(function(){return VN()}).then(function(){return r.h()}).then(function(){dp(r,!0)}).o(function(c){r.i(c)&&dp(r,!1)})}hp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function pp(r){this.f=r,this.b=this.a=null,this.c=Date.now()}pp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function sb(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function ub(r,s){r.b=xc(s[cr]||""),r.a=s.refreshToken,s=s.expiresIn,sb(r,typeof s<"u"?Number(s):void 0)}function ax(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function cx(r,s){return Ok(r.f,s).then(function(c){return r.b=xc(c.access_token),r.a=c.refresh_token,sb(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}pp.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?me(new A("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?cx(this,{grant_type:"refresh_token",refresh_token:this.a}):It(null):It({accessToken:this.b.toString(),refreshToken:this.a})};function ol(r,s){this.a=r||null,this.b=s||null,pn(this,{lastSignInTime:Nu(s||null),creationTime:Nu(r||null)})}function lx(r){return new ol(r.a,r.b)}ol.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function fx(r,s,c,h,p,y){pn(this,{uid:r,displayName:h||null,photoURL:p||null,email:c||null,phoneNumber:y||null,providerId:s})}function Un(r,s,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=xt.SDK_VERSION?Jo(xt.SDK_VERSION):null;this.a=new ar(this.l,Zt(it),h),(this.u=r.emulatorConfig||null)&&Gc(this.a,this.u),this.h=new pp(this.a),_p(this,s[cr]),ub(this.h,s),ft(this,"refreshToken",this.h.a),cb(this,c||{}),dn.call(this),this.P=!1,this.s&&Qi()&&(this.b=op(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=hx(this),this.ba=F(this.ib,this);var p=this;this.za=null,this.Pa=function(y){p.xa(y.h)},this.qa=null,this.Ba=function(y){vp(p,y.c)},this.$=null,this.aa=[],this.Oa=function(y){Gu(p,y.f)},this.ja=null,this.S=new fp(this,c),ft(this,"multiFactor",this.S)}W(Un,dn),Un.prototype.xa=function(r){this.za=r,rw(this.a,r)};function vp(r,s){r.u=s,Gc(r.a,s),r.b&&(s=r.b,r.b=op(r.s,r.l,r.m,r.u),r.P&&(np(s,r),el(r.b,r)))}Un.prototype.la=function(){return this.za};function gp(r,s){r.qa&&Vn(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&Yn(s,"languageCodeChanged",r.Pa)}function mp(r,s){r.$&&Vn(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&Yn(s,"emulatorConfigChanged",r.Ba)}function Gu(r,s){r.aa=s,iw(r.a,xt.SDK_VERSION?Jo(xt.SDK_VERSION,r.aa):null)}Un.prototype.Ga=function(){return tt(this.aa)};function yp(r,s){r.ja&&Vn(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&Yn(s,"frameworkChanged",r.Oa)}Un.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function wp(r){try{return xt.app(r.m).auth()}catch{throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function hx(r){return new hp(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function ab(r){r.J||r.D.b||(r.D.start(),Vn(r,"tokenChanged",r.ba),Yn(r,"tokenChanged",r.ba))}function bp(r){Vn(r,"tokenChanged",r.ba),r.D.stop()}function _p(r,s){r.Aa=s,ft(r,"_lat",s)}function dx(r,s){V(r.W,function(c){return c==s})}function so(r){for(var s=[],c=0;c<r.W.length;c++)s.push(r.W[c](r));return Ay(s).then(function(){return r})}function Wu(r){r.b&&!r.P&&(r.P=!0,el(r.b,r))}function cb(r,s){pn(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new ol(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}ft(Un.prototype,"providerId","firebase");function lb(){}function Ep(r){return It().then(function(){if(r.J)throw new A("app-deleted")})}function Ip(r){return kt(r.providerData,function(s){return s.providerId})}function Tp(r,s){s&&(fb(r,s.providerId),r.providerData.push(s))}function fb(r,s){V(r.providerData,function(c){return c.providerId==s})}function hi(r,s,c){(s!="uid"||c)&&r.hasOwnProperty(s)&&ft(r,s,c)}function sl(r,s){r!=s&&(pn(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?ft(r,"metadata",lx(s.metadata)):ft(r,"metadata",new ol),j(s.providerData,function(c){Tp(r,c)}),ax(r.h,s.h),ft(r,"refreshToken",r.h.a),il(r.S,s.S.b))}t=Un.prototype,t.reload=function(){var r=this;return qe(this,Ep(this).then(function(){return Sp(r).then(function(){return so(r)}).then(lb)}))};function Sp(r){return r.I().then(function(s){var c=r.isAnonymous;return px(r,s).then(function(){return c||hi(r,"isAnonymous",!1),s})})}t.oc=function(r){return this.I(r).then(function(s){return new rx(s)})},t.I=function(r){var s=this;return qe(this,Ep(this).then(function(){return s.h.getToken(r)}).then(function(c){if(!c)throw new A("internal-error");return c.accessToken!=s.Aa&&(_p(s,c.accessToken),s.dispatchEvent(new as("tokenChanged"))),hi(s,"refreshToken",c.refreshToken),c.accessToken}))};function kr(r,s){s[cr]&&r.Aa!=s[cr]&&(ub(r.h,s),r.dispatchEvent(new as("tokenChanged")),_p(r,s[cr]),hi(r,"refreshToken",r.h.a))}function px(r,s){return Kt(r.a,Qk,{idToken:s}).then(F(r.Kc,r))}t.Kc=function(r){if(r=r.users,!r||!r.length)throw new A("internal-error");r=r[0],cb(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=vx(r),c=0;c<s.length;c++)Tp(this,s[c]);hi(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new as("userReloaded",{hd:r}))};function vx(r){return(r=r.providerUserInfo)&&r.length?kt(r,function(s){return new fx(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}t.Lc=function(r){return Wh("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},t.ub=function(r){var s=this,c=null;return qe(this,r.c(this.a,this.uid).then(function(h){return kr(s,h),c=Qu(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function ul(r,s){return Sp(r).then(function(){if(C(Ip(r),s))return so(r).then(function(){throw new A("provider-already-linked")})})}t.Cc=function(r){return Wh("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},t.rb=function(r){var s=this,c=null;return qe(this,ul(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return c=Qu(s,h,"link"),hb(s,h)}).then(function(){return c}))},t.Dc=function(r,s){var c=this;return qe(this,ul(this,"phone").then(function(){return up(wp(c),r,s,F(c.rb,c))}))},t.Mc=function(r,s){var c=this;return qe(this,It().then(function(){return up(wp(c),r,s,F(c.ub,c))}),!0)};function Qu(r,s,c){var h=dd(s);return s=k0(s),Ar({user:r,credential:h,additionalUserInfo:s,operationType:c})}function hb(r,s){return kr(r,s),r.reload().then(function(){return r})}t.Cb=function(r){var s=this;return qe(this,this.I().then(function(c){return s.a.Cb(c,r)}).then(function(c){return kr(s,c),s.reload()}))},t.ed=function(r){var s=this;return qe(this,this.I().then(function(c){return r.b(s.a,c)}).then(function(c){return kr(s,c),s.reload()}))},t.Db=function(r){var s=this;return qe(this,this.I().then(function(c){return s.a.Db(c,r)}).then(function(c){return kr(s,c),s.reload()}))},t.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return Ep(this);var s=this;return qe(this,this.I().then(function(c){return s.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return kr(s,c),hi(s,"displayName",c.displayName||null),hi(s,"photoURL",c.photoUrl||null),j(s.providerData,function(h){h.providerId==="password"&&(ft(h,"displayName",s.displayName),ft(h,"photoURL",s.photoURL))}),so(s)}).then(lb))},t.cd=function(r){var s=this;return qe(this,Sp(this).then(function(c){return C(Ip(s),r)?Vk(s.a,c,[r]).then(function(h){var p={};return j(h.providerUserInfo||[],function(y){p[y.providerId]=!0}),j(Ip(s),function(y){p[y]||fb(s,y)}),p[Kr.PROVIDER_ID]||ft(s,"phoneNumber",null),so(s)}):so(s).then(function(){throw new A("no-such-provider")})}))},t.delete=function(){var r=this;return qe(this,this.I().then(function(s){return Kt(r.a,$k,{idToken:s})}).then(function(){r.dispatchEvent(new as("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");gp(r,null),mp(r,null),yp(r,null),r.N=[],r.J=!0,bp(r),ft(r,"refreshToken",null),r.b&&np(r.b,r)})},t.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},t.na=function(r,s,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?F(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?F(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?F(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?F(this.Mb,this):null},t.Ec=function(r){var s=this;return db(this,"linkViaPopup",r,function(){return ul(s,r.providerId).then(function(){return so(s)})},!1)},t.Nc=function(r){return db(this,"reauthViaPopup",r,function(){return It()},!0)};function db(r,s,c,h,p){if(!Qi())return me(new A("operation-not-supported-in-this-environment"));if(r.i&&!p)return me(r.i);var y=ud(c.providerId),w=Xi(r.uid+":::"),E=null;(!Su()||Kh())&&r.s&&c.isOAuthProvider&&(E=qu(r.s,r.l,r.m,s,c,null,w,xt.SDK_VERSION||null,null,null,r.tenantId,r.u));var M=n0(E,y&&y.va,y&&y.ua);return h=h().then(function(){if(vb(r),!p)return r.I().then(function(){})}).then(function(){return Gw(r.b,M,s,c,w,!!E,r.tenantId)}).then(function(){return new qt(function(H,Ot){r.na(s,null,new A("cancelled-popup-request"),r.g||null),r.f=H,r.C=Ot,r.g=w,r.c=Qw(r.b,r,s,M,w)})}).then(function(H){return M&&Wi(M),H?Ar(H):null}).o(function(H){throw M&&Wi(M),H}),qe(r,h,p)}t.Fc=function(r){var s=this;return pb(this,"linkViaRedirect",r,function(){return ul(s,r.providerId)},!1)},t.Oc=function(r){return pb(this,"reauthViaRedirect",r,function(){return It()},!0)};function pb(r,s,c,h,p){if(!Qi())return me(new A("operation-not-supported-in-this-environment"));if(r.i&&!p)return me(r.i);var y=null,w=Xi(r.uid+":::");return h=h().then(function(){if(vb(r),!p)return r.I().then(function(){})}).then(function(){return r.ga=w,so(r)}).then(function(E){return r.ha&&(E=r.ha,E=E.b.set(Ap,r.w(),E.a)),E}).then(function(){return Ww(r.b,s,c,w,r.tenantId)}).o(function(E){if(y=E,r.ha)return mb(r.ha);throw y}).then(function(){if(y)throw y}),qe(r,h,p)}function vb(r){if(!r.b||!r.P)throw r.b&&!r.P?new A("internal-error"):new A("auth-domain-config-required")}t.Lb=function(r,s,c,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(w){return Pd(p.a,{requestUri:r,postBody:h,sessionId:s,idToken:w})}).then(function(w){return y=Qu(p,w,"link"),hb(p,w)}).then(function(){return y}),qe(this,c)},t.Mb=function(r,s,c,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var y=null,w=It().then(function(){return ns(Ld(p.a,{requestUri:r,sessionId:s,postBody:h,tenantId:c}),p.uid)}).then(function(E){return y=Qu(p,E,"reauthenticate"),kr(p,E),p.i=null,p.reload()}).then(function(){return y});return qe(this,w,!0)},t.vb=function(r){var s=this,c=null;return qe(this,this.I().then(function(h){return c=h,typeof r>"u"||dt(r)?{}:kc(new Nc(r))}).then(function(h){return s.a.vb(c,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},t.Fb=function(r,s){var c=this,h=null;return qe(this,this.I().then(function(p){return h=p,typeof s>"u"||dt(s)?{}:kc(new Nc(s))}).then(function(p){return c.a.Fb(h,r,p)}).then(function(p){if(c.email!=p)return c.reload()}).then(function(){}))};function qe(r,s,c){var h=gx(r,s,c);return r.N.push(h),h.oa(function(){L(r.N,h)}),h.o(function(p){var y=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(y=rb(p.w(),wp(r),F(r.jc,r))),y||p})}t.jc=function(r){var s=null,c=this;return r=ns(It(r),c.uid).then(function(h){return s=Qu(c,h,"reauthenticate"),kr(c,h),c.i=null,c.reload()}).then(function(){return s}),qe(this,r,!0)};function gx(r,s,c){return r.i&&!c?(s.cancel(),me(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new as("userInvalidated")),r.i=h),h})}t.toJSON=function(){return this.w()},t.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Ut(r,this.metadata.w()),j(this.providerData,function(s){r.providerData.push(BN(s))}),Ut(r,this.S.w()),r};function gb(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[cr]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var p=new Un(s,c,r);return r.providerData&&j(r.providerData,function(y){y&&Tp(p,Ar(y))}),r.redirectEventId&&(p.ga=r.redirectEventId),p}function mx(r,s,c,h){var p=new Un(r,s);return c&&(p.ha=c),h&&Gu(p,h),p.reload().then(function(){return p})}function yx(r,s,c,h){var p=r.h,y={};return y[cr]=p.b&&p.b.toString(),y.refreshToken=p.a,s=new Un(s||{apiKey:r.l,authDomain:r.s,appName:r.m},y),c&&(s.ha=c),h&&Gu(s,h),sl(s,r),s}function wx(r){this.a=r,this.b=zu()}var Ap={name:"redirectUser",F:"session"};function mb(r){return us(r.b,Ap,r.a)}function bx(r,s){return r.b.get(Ap,r.a).then(function(c){return c&&s&&(c.authDomain=s),gb(c||{})})}function Np(r){this.a=r,this.b=zu(),this.c=null,this.f=_x(this),this.b.addListener(Cr("local"),this.a,F(this.g,this))}Np.prototype.g=function(){var r=this,s=Cr("local");cs(this,function(){return It().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(c){if(c)return kp(r,"local").then(function(){r.c=s})})})};function kp(r,s){var c=[],h;for(h in os)os[h]!==s&&c.push(us(r.b,Cr(os[h]),r.a));return c.push(us(r.b,Cp,r.a)),lN(c)}function _x(r){var s=Cr("local"),c=Cr("session"),h=Cr("none");return MC(r.b,s,r.a).then(function(){return r.b.get(c,r.a)}).then(function(p){return p?c:r.b.get(h,r.a).then(function(y){return y?h:r.b.get(s,r.a).then(function(w){return w?s:r.b.get(Cp,r.a).then(function(E){return E?Cr(E):s})})})}).then(function(p){return r.c=p,kp(r,p.F)}).o(function(){r.c||(r.c=s)})}var Cp={name:"persistence",F:"session"};function Cr(r){return{name:"authUser",F:r}}Np.prototype.yb=function(r){var s=null,c=this;return LC(r),cs(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return s=h,kp(c,r)}).then(function(){if(c.c=Cr(r),s)return c.b.set(c.c,s,c.a)}):It()})};function Ex(r){return cs(r,function(){return r.b.set(Cp,r.c.F,r.a)})}function yb(r,s){return cs(r,function(){return r.b.set(r.c,s.w(),r.a)})}function wb(r){return cs(r,function(){return us(r.b,r.c,r.a)})}function bb(r,s,c){return cs(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&c&&(h.emulatorConfig=c),gb(h||{})})})}function cs(r,s){return r.f=r.f.then(s,s),r.f}function lr(r){if(this.l=!1,ft(this,"settings",new tb),ft(this,"app",r),ce(this).options&&ce(this).options.apiKey)r=xt.SDK_VERSION?Jo(xt.SDK_VERSION):null,this.a=new ar(ce(this).options&&ce(this).options.apiKey,Zt(it),r);else throw new A("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=xt.INTERNAL.createSubscribe(F(this.zc,this)),this.W=void 0,this.ib=xt.INTERNAL.createSubscribe(F(this.Ac,this)),ls(this,null),this.i=new Np(ce(this).options.apiKey+":"+ce(this).name),this.D=new wx(ce(this).options.apiKey+":"+ce(this).name),this.$=Ae(this,kx(this)),this.h=Ae(this,Cx(this)),this.ba=!1,this.ja=F(this.Zc,this),this.Ba=F(this.da,this),this.qa=F(this.mc,this),this.za=F(this.wc,this),this.Aa=F(this.xc,this),this.b=null,Sx(this),this.INTERNAL={},this.INTERNAL.delete=F(this.delete,this),this.INTERNAL.logFramework=F(this.Gc,this),this.u=0,dn.call(this),Tx(this),this.J=[],this.R=null}W(lr,dn);function _b(r){An.call(this,"languageCodeChanged"),this.h=r}W(_b,An);function Eb(r){An.call(this,"emulatorConfigChanged"),this.c=r}W(Eb,An);function Ib(r){An.call(this,"frameworkChanged"),this.f=r}W(Ib,An),t=lr.prototype,t.yb=function(r){return r=this.i.yb(r),Ae(this,r)},t.xa=function(r){this.aa===r||this.l||(this.aa=r,rw(this.a,this.aa),this.dispatchEvent(new _b(this.la())))},t.la=function(){return this.aa},t.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},t.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,Ix(s),this.R={url:r,ec:s},this.settings.jb=!0,Gc(this.a,this.R),this.dispatchEvent(new Eb(this.R))}};function Ix(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Tc().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}t.Gc=function(r){this.J.push(r),iw(this.a,xt.SDK_VERSION?Jo(xt.SDK_VERSION,this.J):null),this.dispatchEvent(new Ib(this.J))},t.Ga=function(){return tt(this.J)},t.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},t.T=function(){return this.S};function Tx(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=Nn(this.R.url);s=Ar({protocol:s.c,host:s.a,port:s.g,options:Ar({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}t.toJSON=function(){return{apiKey:ce(this).options.apiKey,authDomain:ce(this).options.authDomain,appName:ce(this).name,currentUser:Ft(this)&&Ft(this).w()}};function xp(r){return r.Oa||me(new A("auth-domain-config-required"))}function Sx(r){var s=ce(r).options.authDomain,c=ce(r).options.apiKey;s&&Qi()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=op(s,c,ce(r).name,r.R),el(r.b,r),Ft(r)&&Wu(Ft(r)),r.m){Wu(r.m);var h=r.m;h.xa(r.la()),gp(h,r),h=r.m,Gu(h,r.J),yp(h,r),h=r.m,vp(h,r.R),mp(h,r),r.m=null}return r.b}}))}t.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},t.na=function(r,s,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?F(this.ic,this):null},t.ic=function(r,s,c,h){var p=this,y={requestUri:r,postBody:h,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),p.$.then(function(){return uo(p,Dd(p.a,y))})},t.Xc=function(r){if(!Qi())return me(new A("operation-not-supported-in-this-environment"));var s=this,c=ud(r.providerId),h=Xi(),p=null;(!Su()||Kh())&&ce(this).options.authDomain&&r.isOAuthProvider&&(p=qu(ce(this).options.authDomain,ce(this).options.apiKey,ce(this).name,"signInViaPopup",r,null,h,xt.SDK_VERSION||null,null,null,this.T(),this.R));var y=n0(p,c&&c.va,c&&c.ua);return c=xp(this).then(function(w){return Gw(w,y,"signInViaPopup",r,h,!!p,s.T())}).then(function(){return new qt(function(w,E){s.na("signInViaPopup",null,new A("cancelled-popup-request"),s.g),s.f=w,s.C=E,s.g=h,s.c=Qw(s.b,s,"signInViaPopup",y,h)})}).then(function(w){return y&&Wi(y),w?Ar(w):null}).o(function(w){throw y&&Wi(y),w}),Ae(this,c)},t.Yc=function(r){if(!Qi())return me(new A("operation-not-supported-in-this-environment"));var s=this,c=xp(this).then(function(){return Ex(s.i)}).then(function(){return Ww(s.b,"signInViaRedirect",r,void 0,s.T())});return Ae(this,c)};function Tb(r){if(!Qi())return me(new A("operation-not-supported-in-this-environment"));var s=xp(r).then(function(){return r.b.ra()}).then(function(c){return c?Ar(c):null});return Ae(r,s)}t.ra=function(){var r=this;return Tb(this).then(function(s){return r.b&&rl(r.b.b),s}).o(function(s){throw r.b&&rl(r.b.b),s})},t.dd=function(r){if(!r)return me(new A("null-user"));if(this.S!=r.tenantId)return me(new A("tenant-id-mismatch"));var s=this,c={};c.apiKey=ce(this).options.apiKey,c.authDomain=ce(this).options.authDomain,c.appName=ce(this).name;var h=yx(r,c,s.D,s.Ga());return Ae(this,this.h.then(function(){if(ce(s).options.apiKey!=r.l)return h.reload()}).then(function(){return Ft(s)&&r.uid==Ft(s).uid?(sl(Ft(s),r),s.da(r)):(ls(s,h),Wu(h),s.da(h))}).then(function(){Xu(s)}))};function Ax(r,s){var c={};return c.apiKey=ce(r).options.apiKey,c.authDomain=ce(r).options.authDomain,c.appName=ce(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return mx(c,s,r.D,r.Ga())}).then(function(h){return Ft(r)&&h.uid==Ft(r).uid?(sl(Ft(r),h),r.da(h)):(ls(r,h),Wu(h),r.da(h))}).then(function(){Xu(r)})}function ls(r,s){Ft(r)&&(dx(Ft(r),r.Ba),Vn(Ft(r),"tokenChanged",r.qa),Vn(Ft(r),"userDeleted",r.za),Vn(Ft(r),"userInvalidated",r.Aa),bp(Ft(r))),s&&(s.W.push(r.Ba),Yn(s,"tokenChanged",r.qa),Yn(s,"userDeleted",r.za),Yn(s,"userInvalidated",r.Aa),0<r.u&&ab(s)),ft(r,"currentUser",s),s&&(s.xa(r.la()),gp(s,r),Gu(s,r.J),yp(s,r),vp(s,r.R),mp(s,r))}t.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&rl(r.b.b),Ft(r)?(ls(r,null),wb(r.i).then(function(){Xu(r)})):It()});return Ae(this,s)};function Nx(r){var s=bx(r.D,ce(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),mb(r.D)});return Ae(r,s)}function kx(r){var s=ce(r).options.authDomain,c=Nx(r).then(function(){return bb(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return yb(r.i,h).then(function(){return h})}).o(function(p){return p.code=="auth/network-request-failed"?h:wb(r.i)})):null}).then(function(h){ls(r,h||null)});return Ae(r,c)}function Cx(r){return r.$.then(function(){return Tb(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(Cr("local"),s.a,r.ja)}})}t.Zc=function(){var r=this;return bb(this.i,ce(this).options.authDomain).then(function(s){if(!r.l){var c;if(c=Ft(r)&&s){c=Ft(r).uid;var h=s.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return sl(Ft(r),s),Ft(r).I();(Ft(r)||s)&&(ls(r,s),s&&(Wu(s),s.ha=r.D),r.b&&el(r.b,r),Xu(r))}})},t.da=function(r){return yb(this.i,r)},t.mc=function(){Xu(this),this.da(Ft(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function uo(r,s){var c=null,h=null;return Ae(r,s.then(function(p){return c=dd(p),h=k0(p),Ax(r,p)},function(p){var y=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(y=rb(p.w(),r,F(r.kc,r))),y||p}).then(function(){return Ar({user:Ft(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}t.kc=function(r){var s=this;return this.h.then(function(){return uo(s,It(r))})},t.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(Ft(s))})},t.Ac=function(r){var s=this;xx(this,function(){r.next(Ft(s))})},t.Ic=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(Ft(h)):typeof r.next=="function"&&r.next(Ft(h))}),this.Pa(r,s,c)},t.Hc=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(Ft(h)):typeof r.next=="function"&&r.next(Ft(h))}),this.ib(r,s,c)},t.nc=function(r){var s=this,c=this.h.then(function(){return Ft(s)?Ft(s).I(r).then(function(h){return{accessToken:h}}):null});return Ae(this,c)},t.Tc=function(r){var s=this;return this.h.then(function(){return uo(s,Kt(s.a,lC,{token:r}))}).then(function(c){var h=c.user;return hi(h,"isAnonymous",!1),s.da(h),c})},t.Uc=function(r,s){var c=this;return this.h.then(function(){return uo(c,Kt(c.a,dw,{email:r,password:s}))})},t.dc=function(r,s){var c=this;return this.h.then(function(){return uo(c,Kt(c.a,Bk,{email:r,password:s}))})},t.ab=function(r){var s=this;return this.h.then(function(){return uo(s,r.ka(s.a))})},t.Sc=function(r){return Wh("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},t.Ab=function(){var r=this;return this.h.then(function(){var s=Ft(r);if(s&&s.isAnonymous){var c=Ar({providerId:null,isNewUser:!1});return Ar({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return uo(r,r.a.Ab()).then(function(h){var p=h.user;return hi(p,"isAnonymous",!0),r.da(p),h})})};function ce(r){return r.app}function Ft(r){return r.currentUser}t.getUid=function(){return Ft(this)&&Ft(this).uid||null};function al(r){return Ft(r)&&Ft(r)._lat||null}function Xu(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](al(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](al(r))}}t.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&Ft(this)&&ab(Ft(this))},t.Pc=function(r){var s=this;j(this.s,function(c){c==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&Ft(this)&&bp(Ft(this)),this.removeAuthTokenListener(r)},t.addAuthTokenListener=function(r){var s=this;this.s.push(r),Ae(this,this.h.then(function(){s.l||C(s.s,r)&&r(al(s))}))},t.removeAuthTokenListener=function(r){V(this.s,function(s){return s==r})};function xx(r,s){r.N.push(s),Ae(r,r.h.then(function(){!r.l&&C(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(al(r)))}))}t.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Cr("local"),r.a,this.ja)),this.b&&(np(this.b,this),rl(this.b.b)),Promise.resolve()};function Ae(r,s){return r.P.push(s),s.oa(function(){L(r.P,s)}),s}t.hc=function(r){return Ae(this,Rk(this.a,r))},t.Bc=function(r){return!!hd(r)},t.xb=function(r,s){var c=this;return Ae(this,It().then(function(){var h=new Nc(s);if(!h.c)throw new A("argument-error",od+" must be true when sending sign in link to email");return kc(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},t.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},t.ob=function(r,s){return Ae(this,this.a.ob(r,s).then(function(){}))},t.Sa=function(r){return Ae(this,this.a.Sa(r).then(function(s){return new $N(s)}))},t.kb=function(r){return Ae(this,this.a.kb(r).then(function(){}))},t.wb=function(r,s){var c=this;return Ae(this,It().then(function(){return typeof s>"u"||dt(s)?{}:kc(new Nc(s))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},t.Wc=function(r,s){return Ae(this,up(this,r,s,F(this.ab,this)))},t.Vc=function(r,s){var c=this;return Ae(this,It().then(function(){var h=s||Tu(),p=U0(r,h);if(h=hd(h),!h)throw new A("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new A("tenant-id-mismatch");return c.ab(p)}))};function Yu(){}Yu.prototype.render=function(){},Yu.prototype.reset=function(){},Yu.prototype.getResponse=function(){},Yu.prototype.execute=function(){};function fs(){this.a={},this.b=1e12}var Op=null;fs.prototype.render=function(r,s){return this.a[this.b.toString()]=new cl(r,s),this.b++},fs.prototype.reset=function(r){var s=Rp(this,r);r=Sb(r),s&&r&&(s.delete(),delete this.a[r])},fs.prototype.getResponse=function(r){return(r=Rp(this,r))?r.getResponse():null},fs.prototype.execute=function(r){(r=Rp(this,r))&&r.execute()};function Rp(r,s){return(s=Sb(s))&&r.a[s]||null}function Sb(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function cl(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=mu(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():Yn(this.f,"click",this.i)}cl.prototype.getResponse=function(){return Dp(this),this.b},cl.prototype.execute=function(){Dp(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=FN();var s=r.c.callback,c=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},cl.prototype.delete=function(){Dp(this),this.g=!0,clearTimeout(this.a),this.a=null,Vn(this.f,"click",this.i)};function Dp(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function Pp(){}ft(Pp,"FACTOR_ID","phone");function Lp(){}Lp.prototype.g=function(){return Op||(Op=new fs),It(Op)},Lp.prototype.c=function(){};var Mp=null;function Fp(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ox=new Bt(Er,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rx=new ci(3e4,6e4);Fp.prototype.g=function(r){var s=this;return new qt(function(c,h){var p=setTimeout(function(){h(new A("network-request-failed"))},Rx.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(E,M){return E=w(E,M),s.b++,E},clearTimeout(p),c(f.grecaptcha)}else clearTimeout(p),h(new A("internal-error"));delete f[s.a]};var y=yh(Ox,{onload:s.a,hl:r||""});It(Ad(y)).o(function(){clearTimeout(p),h(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(p),c(f.grecaptcha)})},Fp.prototype.c=function(){this.b--};var Vp=null;function jp(r,s,c,h,p,y,w){if(ft(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,w?(Mp||(Mp=new Lp),w=Mp):(Vp||(Vp=new Fp),w=Vp),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[kb])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[Dx]==="invisible",!f.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!mu(s)||!this.i&&mu(s).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ar(r,y||null,p||null),this.u=h||function(){return null};var E=this;this.l=[];var M=this.a[Ab];this.a[Ab]=function(Ot){if(Cb(E,Ot),typeof M=="function")M(Ot);else if(typeof M=="string"){var se=ye(M,f);typeof se=="function"&&se(Ot)}};var H=this.a[Nb];this.a[Nb]=function(){if(Cb(E,null),typeof H=="function")H();else if(typeof H=="string"){var Ot=ye(H,f);typeof Ot=="function"&&Ot()}}}var Ab="callback",Nb="expired-callback",kb="sitekey",Dx="size";function Cb(r,s){for(var c=0;c<r.l.length;c++)try{r.l[c](s)}catch{}}function Px(r,s){V(r.l,function(c){return c==s})}function Up(r,s){return r.h.push(s),s.oa(function(){L(r.h,s)}),s}t=jp.prototype,t.Ia=function(){var r=this;return this.f?this.f:this.f=Up(this,It().then(function(){if(Sc()&&!sr())return Tc();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,Kt(r.s,eC,{})}).then(function(s){r.a[kb]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},t.render=function(){ll(this);var r=this;return Up(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var c=mu(s);s=sN("DIV"),c.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},t.verify=function(){ll(this);var r=this;return Up(this,this.render().then(function(s){return new qt(function(c){var h=r.g.getResponse(s);if(h)c(h);else{var p=function(y){y&&(Px(r,p),c(y))};r.l.push(p),r.i&&r.g.execute(r.c)}})}))},t.reset=function(){ll(this),this.c!==null&&this.g.reset(this.c)};function ll(r){if(r.J)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){ll(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=mu(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function Bp(r,s,c){var h=!1;try{this.b=c||xt.app()}catch{throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new A("invalid-api-key");var p=this,y=null;try{y=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}y=xt.SDK_VERSION?Jo(xt.SDK_VERSION,y):null,jp.call(this,c,r,s,function(){try{var w=p.b.auth().la()}catch{w=null}return w},y,Zt(it),h)}W(Bp,jp);function xb(r,s,c,h){t:{c=Array.prototype.slice.call(c);for(var p=0,y=!1,w=0;w<s.length;w++)if(s[w].optional)y=!0;else{if(y)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");p++}if(y=s.length,c.length<p||y<c.length)h="Expected "+(p==y?p==1?"1 argument":p+" arguments":p+"-"+y+" arguments")+" but got "+c.length+".";else{for(p=0;p<c.length;p++)if(y=s[p].optional&&c[p]===void 0,!s[p].M(c[p])&&!y){if(s=s[p],0>p||p>=Ob.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");c=Ob[p],h=(h?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break t}h=null}}if(h)throw new A("argument-error",r+" failed: "+h)}var Ob="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function lt(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function qp(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function Pe(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:N}}function hs(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function xr(r,s){return{name:r||"",K:"null",optional:!!s,M:function(c){return c===null}}}function Lx(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function Mx(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof lr)}}}function Fx(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof xt.app.App)}}}function di(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!r||s.providerId===r;return!(!s.ka||!c)}}}function Rb(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function ds(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function $p(r,s){return N(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function Db(r){return N(r)&&typeof r.uid=="string"}function fl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Oe(r,s,c,h){return{name:c||"",K:r.K+" or "+s.K,optional:!!h,M:function(p){return r.M(p)||s.M(p)}}}function _e(r,s){for(var c in s){var h=s[c].name;r[h]=Lb(h,r[c],s[c].j)}}function Pb(r,s){for(var c in s){var h=s[c].name;h!==c&&Object.defineProperty(r,h,{get:Et(function(p){return this[p]},c),set:Et(function(p,y,w,E){xb(p,[w],[E],!0),this[y]=E},h,c,s[c].lb),enumerable:!0})}}function Re(r,s,c,h){r[s]=Lb(s,c,h)}function Lb(r,s,c){function h(){var w=Array.prototype.slice.call(arguments);return xb(p,c,w),s.apply(this,w)}if(!c)return s;var p=Vx(r),y;for(y in s)h[y]=s[y];for(y in s.prototype)h.prototype[y]=s.prototype[y];return h}function Vx(r){return r=r.split("."),r[r.length-1]}_e(lr.prototype,{kb:{name:"applyActionCode",j:[lt("code")]},Sa:{name:"checkActionCode",j:[lt("code")]},ob:{name:"confirmPasswordReset",j:[lt("code"),lt("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[lt("email"),lt("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[lt("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[lt("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Oe(Pe(),hs(),"nextOrObserver"),hs("opt_error",!0),hs("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Oe(Pe(),hs(),"nextOrObserver"),hs("opt_error",!0),hs("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[lt("email"),Oe(Pe("opt_actionCodeSettings",!0),xr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[lt("email"),Pe("actionCodeSettings")]},yb:{name:"setPersistence",j:[lt("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[di()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[di()]},Tc:{name:"signInWithCustomToken",j:[lt("token")]},Uc:{name:"signInWithEmailAndPassword",j:[lt("email"),lt("password")]},Vc:{name:"signInWithEmailLink",j:[lt("email"),lt("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[lt("phoneNumber"),fl()]},Xc:{name:"signInWithPopup",j:[ds()]},Yc:{name:"signInWithRedirect",j:[ds()]},dd:{name:"updateCurrentUser",j:[Oe(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof Un)}}}(),xr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[lt(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[lt("url"),Pe("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[lt("code")]}}),Pb(lr.prototype,{lc:{name:"languageCode",lb:Oe(lt(),xr(),"languageCode")},ti:{name:"tenantId",lb:Oe(lt(),xr(),"tenantId")}}),lr.Persistence=os,lr.Persistence.LOCAL="local",lr.Persistence.SESSION="session",lr.Persistence.NONE="none",_e(Un.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[qp("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[qp("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[di()]},rb:{name:"linkWithCredential",j:[di()]},Dc:{name:"linkWithPhoneNumber",j:[lt("phoneNumber"),fl()]},Ec:{name:"linkWithPopup",j:[ds()]},Fc:{name:"linkWithRedirect",j:[ds()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[di()]},ub:{name:"reauthenticateWithCredential",j:[di()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[lt("phoneNumber"),fl()]},Nc:{name:"reauthenticateWithPopup",j:[ds()]},Oc:{name:"reauthenticateWithRedirect",j:[ds()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Oe(Pe("opt_actionCodeSettings",!0),xr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[lt(null,!0)]},cd:{name:"unlink",j:[lt("provider")]},Cb:{name:"updateEmail",j:[lt("email")]},Db:{name:"updatePassword",j:[lt("password")]},ed:{name:"updatePhoneNumber",j:[di("phone")]},Eb:{name:"updateProfile",j:[Pe("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[lt("email"),Oe(Pe("opt_actionCodeSettings",!0),xr(null,!0),"opt_actionCodeSettings",!0)]}}),_e(fs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),_e(Yu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),_e(qt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Pb(tb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:qp("appVerificationDisabledForTesting")}}),_e(sp.prototype,{confirm:{name:"confirm",j:[lt("verificationCode")]}}),Re(es,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,c=[uk,ak,ck,sk],h=0;h<c.length;h++)if(s=c[h](r))return s;return null},[Oe(lt(),Pe(),"json")]),Re(Zn,"credential",function(r,s){return new li(r,s)},[lt("email"),lt("password")]),_e(li.prototype,{w:{name:"toJSON",j:[lt(null,!0)]}}),_e(Zi.prototype,{Ca:{name:"addScope",j:[lt("scope")]},Ka:{name:"setCustomParameters",j:[Pe("customOAuthParameters")]}}),Re(Zi,"credential",M0,[Oe(lt(),Pe(),"token")]),Re(Zn,"credentialWithLink",U0,[lt("email"),lt("emailLink")]),_e(to.prototype,{Ca:{name:"addScope",j:[lt("scope")]},Ka:{name:"setCustomParameters",j:[Pe("customOAuthParameters")]}}),Re(to,"credential",F0,[Oe(lt(),Pe(),"token")]),_e(eo.prototype,{Ca:{name:"addScope",j:[lt("scope")]},Ka:{name:"setCustomParameters",j:[Pe("customOAuthParameters")]}}),Re(eo,"credential",V0,[Oe(lt(),Oe(Pe(),xr()),"idToken"),Oe(lt(),xr(),"accessToken",!0)]),_e(rs.prototype,{Ka:{name:"setCustomParameters",j:[Pe("customOAuthParameters")]}}),Re(rs,"credential",j0,[Oe(lt(),Pe(),"token"),lt("secret",!0)]),_e(jn.prototype,{Ca:{name:"addScope",j:[lt("scope")]},credential:{name:"credential",j:[Oe(lt(),Oe(Pe(),xr()),"optionsOrIdToken"),Oe(lt(),xr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Pe("customOAuthParameters")]}}),_e($r.prototype,{w:{name:"toJSON",j:[lt(null,!0)]}}),_e(Yi.prototype,{w:{name:"toJSON",j:[lt(null,!0)]}}),Re(Kr,"credential",B0,[lt("verificationId"),lt("verificationCode")]),_e(Kr.prototype,{gb:{name:"verifyPhoneNumber",j:[Oe(lt(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?$p(c.session,Ou)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?$p(c.session,Dc)&&Db(c.multiFactorHint):c.session&&c.multiFactorUid?$p(c.session,Dc)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),fl()]}}),_e(fi.prototype,{w:{name:"toJSON",j:[lt(null,!0)]}}),_e(A.prototype,{toJSON:{name:"toJSON",j:[lt(null,!0)]}}),_e(Du.prototype,{toJSON:{name:"toJSON",j:[lt(null,!0)]}}),_e(gd.prototype,{toJSON:{name:"toJSON",j:[lt(null,!0)]}}),_e(cp.prototype,{toJSON:{name:"toJSON",j:[lt(null,!0)]}}),_e(ap.prototype,{Rc:{name:"resolveSignIn",j:[Rb()]}}),_e(fp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Rb(),lt("displayName",!0)]},bd:{name:"unenroll",j:[Oe({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Db},lt(),"multiFactorInfoIdentifier")]}}),_e(Bp.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Re(id,"parseLink",y0,[lt("link")]),Re(Pp,"assertion",function(r){return new ob(r)},[di("phone")]),function(){if(typeof xt<"u"&&xt.INTERNAL&&xt.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ac,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:rd,VERIFY_AND_CHANGE_EMAIL:Cu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:lr,AuthCredential:es,Error:A};Re(r,"EmailAuthProvider",Zn,[]),Re(r,"FacebookAuthProvider",Zi,[]),Re(r,"GithubAuthProvider",to,[]),Re(r,"GoogleAuthProvider",eo,[]),Re(r,"TwitterAuthProvider",rs,[]),Re(r,"OAuthProvider",jn,[lt("providerId")]),Re(r,"SAMLAuthProvider",L0,[lt("providerId")]),Re(r,"PhoneAuthProvider",Kr,[Mx()]),Re(r,"RecaptchaVerifier",Bp,[Oe(lt(),Lx(),"recaptchaContainer"),Pe("recaptchaParameters",!0),Fx()]),Re(r,"ActionCodeURL",id,[]),Re(r,"PhoneMultiFactorGenerator",Pp,[]),xt.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new lr(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),xt.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:F(s.getUid,s),getToken:F(s.nc,s),addAuthTokenListener:F(s.cc,s),removeAuthTokenListener:F(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),xt.registerVersion("@firebase/auth","0.16.8"),xt.INTERNAL.extendNamespace({User:Un})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Lv=function(t,e){return Lv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Lv(t,e)};function pP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Lv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function kT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var vP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ut,$g=$g||{},Pt=vP||self;function Wl(){}function Mv(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function za(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function gP(t){return Object.prototype.hasOwnProperty.call(t,tv)&&t[tv]||(t[tv]=++mP)}var tv="closure_uid_"+(1e9*Math.random()>>>0),mP=0;function yP(t,e,n){return t.call.apply(t.bind,arguments)}function wP(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function tn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?tn=yP:tn=wP,tn.apply(null,arguments)}function wl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function rn(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(i,o,u){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[o].apply(i,a)}}function Fi(){this.s=this.s,this.o=this.o}var bP=0;Fi.prototype.s=!1;Fi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),bP!=0)&&gP(this)};Fi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var CT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},xT=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=typeof t=="string"?t.split(""):t,u=0;u<i;u++)u in o&&e.call(n,o[u],u,t)};function _P(t){t:{for(var e=hL,n=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function m_(t){return Array.prototype.concat.apply([],arguments)}function Kg(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function Ql(t){return/^[\s\xa0]*$/.test(t)}var y_=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function wn(t,e){return t.indexOf(e)!=-1}function ev(t,e){return t<e?-1:t>e?1:0}var bn;t:{var w_=Pt.navigator;if(w_){var b_=w_.userAgent;if(b_){bn=b_;break t}}bn=""}function Hg(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function OT(t){var e={};for(var n in t)e[n]=t[n];return e}var __="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RT(t,e){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)t[n]=i[n];for(var u=0;u<__.length;u++)n=__[u],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function zg(t){return zg[" "](t),t}zg[" "]=Wl;function EP(t){var e=SP;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var IP=wn(bn,"Opera"),Fs=wn(bn,"Trident")||wn(bn,"MSIE"),DT=wn(bn,"Edge"),Fv=DT||Fs,PT=wn(bn,"Gecko")&&!(wn(bn.toLowerCase(),"webkit")&&!wn(bn,"Edge"))&&!(wn(bn,"Trident")||wn(bn,"MSIE"))&&!wn(bn,"Edge"),TP=wn(bn.toLowerCase(),"webkit")&&!wn(bn,"Edge");function LT(){var t=Pt.document;return t?t.documentMode:void 0}var Xl;t:{var nv="",rv=function(){var t=bn;if(PT)return/rv:([^\);]+)(\)|;)/.exec(t);if(DT)return/Edge\/([\d\.]+)/.exec(t);if(Fs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(TP)return/WebKit\/(\S+)/.exec(t);if(IP)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(rv&&(nv=rv?rv[1]:""),Fs){var iv=LT();if(iv!=null&&iv>parseFloat(nv)){Xl=String(iv);break t}}Xl=nv}var SP={};function AP(){return EP(function(){for(var t=0,e=y_(String(Xl)).split("."),n=y_("9").split("."),i=Math.max(e.length,n.length),o=0;t==0&&o<i;o++){var u=e[o]||"",a=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u[0].length==0&&a[0].length==0)break;t=ev(u[1].length==0?0:parseInt(u[1],10),a[1].length==0?0:parseInt(a[1],10))||ev(u[2].length==0,a[2].length==0)||ev(u[2],a[2]),u=u[3],a=a[3]}while(t==0)}return 0<=t})}var Vv;if(Pt.document&&Fs){var E_=LT();Vv=E_||parseInt(Xl,10)||void 0}else Vv=void 0;var NP=Vv,kP=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Pt.addEventListener("test",Wl,e),Pt.removeEventListener("test",Wl,e)}catch{}return t}();function ln(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};function Na(t,e){if(ln.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(PT){t:{try{zg(e.nodeName);var o=!0;break t}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:CP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Na.Z.h.call(this)}}rn(Na,ln);var CP={2:"touch",3:"pen",4:"mouse"};Na.prototype.h=function(){Na.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ga="closure_listenable_"+(1e6*Math.random()|0),xP=0;function OP(t,e,n,i,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=o,this.key=++xP,this.ca=this.fa=!1}function jf(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Uf(t){this.src=t,this.g={},this.h=0}Uf.prototype.add=function(t,e,n,i,o){var u=t.toString();t=this.g[u],t||(t=this.g[u]=[],this.h++);var a=Uv(t,e,i,o);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new OP(e,this.src,u,!!i,o),e.fa=n,t.push(e)),e};function jv(t,e){var n=e.type;if(n in t.g){var i=t.g[n],o=CT(i,e),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(jf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Uv(t,e,n,i){for(var o=0;o<t.length;++o){var u=t[o];if(!u.ca&&u.listener==e&&u.capture==!!n&&u.ia==i)return o}return-1}var Gg="closure_lm_"+(1e6*Math.random()|0),ov={};function MT(t,e,n,i,o){if(i&&i.once)return VT(t,e,n,i,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)MT(t,e[u],n,i,o);return null}return n=Xg(n),t&&t[Ga]?t.N(e,n,za(i)?!!i.capture:!!i,o):FT(t,e,n,!1,i,o)}function FT(t,e,n,i,o,u){if(!e)throw Error("Invalid event type");var a=za(o)?!!o.capture:!!o,l=Qg(t);if(l||(t[Gg]=l=new Uf(t)),n=l.add(e,n,i,a,u),n.proxy)return n;if(i=RP(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)kP||(o=a),o===void 0&&(o=!1),t.addEventListener(e.toString(),i,o);else if(t.attachEvent)t.attachEvent(UT(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function RP(){function t(n){return e.call(t.src,t.listener,n)}var e=DP;return t}function VT(t,e,n,i,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)VT(t,e[u],n,i,o);return null}return n=Xg(n),t&&t[Ga]?t.O(e,n,za(i)?!!i.capture:!!i,o):FT(t,e,n,!0,i,o)}function jT(t,e,n,i,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)jT(t,e[u],n,i,o);else i=za(i)?!!i.capture:!!i,n=Xg(n),t&&t[Ga]?(t=t.i,e=String(e).toString(),e in t.g&&(u=t.g[e],n=Uv(u,n,i,o),-1<n&&(jf(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete t.g[e],t.h--)))):t&&(t=Qg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Uv(e,n,i,o)),(n=-1<t?e[t]:null)&&Wg(n))}function Wg(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Ga])jv(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(UT(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Qg(e))?(jv(n,t),n.h==0&&(n.src=null,e[Gg]=null)):jf(t)}}}function UT(t){return t in ov?ov[t]:ov[t]="on"+t}function DP(t,e){if(t.ca)t=!0;else{e=new Na(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&Wg(t),t=n.call(i,e)}return t}function Qg(t){return t=t[Gg],t instanceof Uf?t:null}var sv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xg(t){return typeof t=="function"?t:(t[sv]||(t[sv]=function(e){return t.handleEvent(e)}),t[sv])}function We(){Fi.call(this),this.i=new Uf(this),this.P=this,this.I=null}rn(We,Fi);We.prototype[Ga]=!0;We.prototype.removeEventListener=function(t,e,n,i){jT(this,t,e,n,i)};function en(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new ln(e,t);else if(e instanceof ln)e.target=e.target||t;else{var o=e;e=new ln(i,t),RT(e,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var a=e.g=n[u];o=bl(a,i,!0,e)&&o}if(a=e.g=t,o=bl(a,i,!0,e)&&o,o=bl(a,i,!1,e)&&o,n)for(u=0;u<n.length;u++)a=e.g=n[u],o=bl(a,i,!1,e)&&o}We.prototype.M=function(){if(We.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)jf(n[i]);delete t.g[e],t.h--}}this.I=null};We.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};We.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function bl(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var a=e[u];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&jv(t.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Yg=Pt.JSON.stringify;function PP(){var t=qT,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var LP=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var i=BT.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i},t}(),BT=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new MP},function(t){return t.reset()}),MP=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function FP(t){Pt.setTimeout(function(){throw t},0)}function Jg(t,e){Bv||VP(),qv||(Bv(),qv=!0),qT.add(t,e)}var Bv;function VP(){var t=Pt.Promise.resolve(void 0);Bv=function(){t.then(jP)}}var qv=!1,qT=new LP;function jP(){for(var t;t=PP();){try{t.h.call(t.g)}catch(n){FP(n)}var e=BT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qv=!1}function Bf(t,e){We.call(this),this.h=t||1,this.g=e||Pt,this.j=tn(this.kb,this),this.l=Date.now()}rn(Bf,We);ut=Bf.prototype;ut.da=!1;ut.S=null;ut.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),en(this,"tick"),this.da&&(Zg(this),this.start()))}};ut.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Zg(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}ut.M=function(){Bf.Z.M.call(this),Zg(this),delete this.g};function tm(t,e,n){if(typeof t=="function")n&&(t=tn(t,n));else if(t&&typeof t.handleEvent=="function")t=tn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Pt.setTimeout(t,e||0)}function $T(t){t.g=tm(function(){t.g=null,t.i&&(t.i=!1,$T(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}var UP=function(t){pP(e,t);function e(n,i){var o=t.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:$T(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Fi);function ka(t){Fi.call(this),this.h=t,this.g={}}rn(ka,Fi);var I_=[];function KT(t,e,n,i){Array.isArray(n)||(n&&(I_[0]=n.toString()),n=I_);for(var o=0;o<n.length;o++){var u=MT(e,n[o],i||t.handleEvent,!1,t.h||t);if(!u)break;t.g[u.key]=u}}function HT(t){Hg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Wg(e)},t),t.g={}}ka.prototype.M=function(){ka.Z.M.call(this),HT(this)};ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function qf(){this.g=!0}qf.prototype.Aa=function(){this.g=!1};function BP(t,e,n,i,o,u){t.info(function(){if(t.g)if(u)for(var a="",l=u.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var v=d[0];d=d[1];var g=v.split("_");a=2<=g.length&&g[1]=="type"?a+(v+"="+d+"&"):a+(v+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+e+`
`+n+`
`+a})}function qP(t,e,n,i,o,u,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+e+`
`+n+`
`+u+" "+a})}function Ss(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+KP(t,n)+(i?" "+i:"")})}function $P(t,e){t.info(function(){return"TIMEOUT: "+e})}qf.prototype.info=function(){};function KP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Yg(n)}catch{return e}}var Fo={},T_=null;function $f(){return T_=T_||new We}Fo.Ma="serverreachability";function zT(t){ln.call(this,Fo.Ma,t)}rn(zT,ln);function Ca(t){var e=$f();en(e,new zT(e))}Fo.STAT_EVENT="statevent";function GT(t,e){ln.call(this,Fo.STAT_EVENT,t),this.stat=e}rn(GT,ln);function En(t){var e=$f();en(e,new GT(e,t))}Fo.Na="timingevent";function WT(t,e){ln.call(this,Fo.Na,t),this.size=e}rn(WT,ln);function Wa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){t()},e)}var Kf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},QT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function em(){}em.prototype.h=null;function S_(t){return t.h||(t.h=t.i())}function XT(){}var Qa={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function nm(){ln.call(this,"d")}rn(nm,ln);function rm(){ln.call(this,"c")}rn(rm,ln);var $v;function Hf(){}rn(Hf,em);Hf.prototype.g=function(){return new XMLHttpRequest};Hf.prototype.i=function(){return{}};$v=new Hf;function Xa(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new ka(this),this.P=HP,t=Fv?125:void 0,this.W=new Bf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new YT}function YT(){this.i=null,this.g="",this.h=!1}var HP=45e3,Kv={},Yl={};ut=Xa.prototype;ut.setTimeout=function(t){this.P=t};function Hv(t,e,n){t.K=1,t.v=Gf(ni(e)),t.s=n,t.U=!0,JT(t,null)}function JT(t,e){t.F=Date.now(),Ya(t),t.A=ni(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),oS(n.h,"t",i),t.C=0,n=t.l.H,t.h=new YT,t.g=SS(t.l,n?e:null,!t.s),0<t.O&&(t.L=new UP(tn(t.Ia,t,t.g),t.O)),KT(t.V,t.g,"readystatechange",t.gb),e=t.H?OT(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ca(),BP(t.j,t.u,t.A,t.m,t.X,t.s)}ut.gb=function(t){t=t.target;var e=this.L;e&&Qr(t)==3?e.l():this.Ia(t)};ut.Ia=function(t){try{if(t==this.g)t:{var e=Qr(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>e)&&(e!=3||Fv||this.g&&(this.h.h||this.g.ga()||C_(this.g)))){this.I||e!=4||n==7||(n==8||0>=i?Ca(3):Ca(2)),zf(this);var o=this.g.ba();this.N=o;e:if(ZT(this)){var u=C_(this.g);t="";var a=u.length,l=Qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mo(this),fa(this);var f="";break e}this.h.i=new Pt.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(u[n],{stream:l&&n==a-1});u.splice(0,a),this.h.g+=t,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,qP(this.j,this.u,this.A,this.m,this.X,e,o),this.i){if(this.$&&!this.J){e:{if(this.g){var d,v=this.g;if((d=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ql(d)){var g=d;break e}}g=null}if(o=g)Ss(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zv(this,o);else{this.i=!1,this.o=3,En(12),mo(this),fa(this);break t}}this.U?(tS(this,e,f),Fv&&this.i&&e==3&&(KT(this.V,this.W,"tick",this.fb),this.W.start())):(Ss(this.j,this.m,f,null),zv(this,f)),e==4&&mo(this),this.i&&!this.I&&(e==4?_S(this.l,this):(this.i=!1,Ya(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,En(12)):(this.o=0,En(13)),mo(this),fa(this)}}}catch{}finally{}};function ZT(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function tS(t,e,n){for(var i=!0,o;!t.I&&t.C<n.length;)if(o=zP(t,n),o==Yl){e==4&&(t.o=4,En(14),i=!1),Ss(t.j,t.m,null,"[Incomplete Response]");break}else if(o==Kv){t.o=4,En(15),Ss(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Ss(t.j,t.m,o,null),zv(t,o);ZT(t)&&o!=Yl&&o!=Kv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,En(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),hm(e),e.L=!0,En(11))):(Ss(t.j,t.m,n,"[Invalid Chunked Response]"),mo(t),fa(t))}ut.fb=function(){if(this.g){var t=Qr(this.g),e=this.g.ga();this.C<e.length&&(zf(this),tS(this,t,e),this.i&&t!=4&&Ya(this))}};function zP(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Yl:(n=Number(e.substring(n,i)),isNaN(n)?Kv:(i+=1,i+n>e.length?Yl:(e=e.substr(i,n),t.C=i+n,e)))}ut.cancel=function(){this.I=!0,mo(this)};function Ya(t){t.Y=Date.now()+t.P,eS(t,t.P)}function eS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Wa(tn(t.eb,t),e)}function zf(t){t.B&&(Pt.clearTimeout(t.B),t.B=null)}ut.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?($P(this.j,this.A),this.K!=2&&(Ca(),En(17)),mo(this),this.o=2,fa(this)):eS(this,this.Y-t)};function fa(t){t.l.G==0||t.I||_S(t.l,t)}function mo(t){zf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Zg(t.W),HT(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function zv(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Gv(n.i,t))){if(n.I=t.N,!t.J&&Gv(n.i,t)&&n.G==3){try{var i=n.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)ef(n),Xf(n);else break t;fm(n),En(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Wa(tn(n.ab,n),6e3));if(1>=aS(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else yo(n,11)}else if((t.J||n.g==t)&&ef(n),!Ql(e))for(o=n.Ca.g.parse(e),e=0;e<o.length;e++){var u=o[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];var a=u[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=u[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=t.g;if(d){var v=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var g=i.i;!g.g&&(wn(v,"spdy")||wn(v,"quic")||wn(v,"h2"))&&(g.j=g.l,g.g=new Set,g.h&&(sm(g,g.h),g.h=null))}if(i.D){var m=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.sa=m,be(i.F,i.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=t;if(i.oa=TS(i,i.H?i.la:null,i.W),b.J){cS(i.i,b);var _=b,S=i.K;S&&_.setTimeout(S),_.B&&(zf(_),Ya(_)),i.g=b}else wS(i);0<n.l.length&&Yf(n)}else u[0]!="stop"&&u[0]!="close"||yo(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?yo(n,7):lm(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Ca(4)}catch{}}function GP(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Mv(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function im(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Mv(t)||typeof t=="string")xT(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Mv(t)||typeof t=="string"){n=[];for(var i=t.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,t)n[i++]=o;i=GP(t),o=i.length;for(var u=0;u<o;u++)e.call(void 0,i[u],n&&n[u],t)}}function su(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof su)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}ut=su.prototype;ut.R=function(){om(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};ut.T=function(){return om(this),this.g.concat()};function om(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];xo(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var o={};for(n=e=0;e<t.g.length;)i=t.g[e],xo(o,i)||(t.g[n++]=i,o[i]=1),e++;t.g.length=n}}ut.get=function(t,e){return xo(this.h,t)?this.h[t]:e};ut.set=function(t,e){xo(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};ut.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);t.call(e,u,o,this)}};function xo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var nS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function WP(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),o=null;if(0<=i){var u=t[n].substring(0,i);o=t[n].substring(i+1)}else u=t[n];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Oo(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Oo){this.g=e!==void 0?e:t.g,Jl(this,t.j),this.s=t.s,Zl(this,t.i),tf(this,t.m),this.l=t.l,e=t.h;var n=new xa;n.i=e.i,e.g&&(n.g=new su(e.g),n.h=e.h),A_(this,n),this.o=t.o}else t&&(n=String(t).match(nS))?(this.g=!!e,Jl(this,n[1]||"",!0),this.s=ha(n[2]||""),Zl(this,n[3]||"",!0),tf(this,n[4]),this.l=ha(n[5]||"",!0),A_(this,n[6]||"",!0),this.o=ha(n[7]||"")):(this.g=!!e,this.h=new xa(null,this.g))}Oo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ia(e,N_,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ia(e,N_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(ia(n,n.charAt(0)=="/"?ZP:JP,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ia(n,eL)),t.join("")};function ni(t){return new Oo(t)}function Jl(t,e,n){t.j=n?ha(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zl(t,e,n){t.i=n?ha(e,!0):e}function tf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function A_(t,e,n){e instanceof xa?(t.h=e,nL(t.h,t.g)):(n||(e=ia(e,tL)),t.h=new xa(e,t.g))}function be(t,e,n){t.h.set(e,n)}function Gf(t){return be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function QP(t){return t instanceof Oo?ni(t):new Oo(t,void 0)}function XP(t,e,n,i){var o=new Oo(null,void 0);return t&&Jl(o,t),e&&Zl(o,e),n&&tf(o,n),i&&(o.l=i),o}function ha(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ia(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,YP),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function YP(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var N_=/[#\/\?@]/g,JP=/[#\?:]/g,ZP=/[#\?]/g,tL=/[#\?@]/g,eL=/#/g;function xa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Vi(t){t.g||(t.g=new su,t.h=0,t.i&&WP(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ut=xa.prototype;ut.add=function(t,e){Vi(this),this.i=null,t=uu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function rS(t,e){Vi(t),e=uu(t,e),xo(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,xo(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&om(t)))}function iS(t,e){return Vi(t),e=uu(t,e),xo(t.g.h,e)}ut.forEach=function(t,e){Vi(this),this.g.forEach(function(n,i){xT(n,function(o){t.call(e,o,i,this)},this)},this)};ut.T=function(){Vi(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var o=t[i],u=0;u<o.length;u++)n.push(e[i]);return n};ut.R=function(t){Vi(this);var e=[];if(typeof t=="string")iS(this,t)&&(e=m_(e,this.g.get(uu(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=m_(e,t[n])}return e};ut.set=function(t,e){return Vi(this),this.i=null,t=uu(this,t),iS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ut.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function oS(t,e,n){rS(t,e),0<n.length&&(t.i=null,t.g.set(uu(t,e),Kg(n)),t.h+=n.length)}ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var a=o;i[u]!==""&&(a+="="+encodeURIComponent(String(i[u]))),t.push(a)}}return this.i=t.join("&")};function uu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function nL(t,e){e&&!t.j&&(Vi(t),t.i=null,t.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(rS(this,i),oS(this,o,n))},t)),t.j=e}var rL=function(){function t(e,n){this.h=e,this.g=n}return t}();function sS(t){this.l=t||iL,Pt.PerformanceNavigationTiming?(t=Pt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Pt.g&&Pt.g.Ea&&Pt.g.Ea()&&Pt.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var iL=10;function uS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function aS(t){return t.h?1:t.g?t.g.size:0}function Gv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function sm(t,e){t.g?t.g.add(e):t.h=e}function cS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}sS.prototype.cancel=function(){var t,e;if(this.i=lS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=kT(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){t={error:u}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};function lS(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var i=t.i;try{for(var o=kT(t.g.values()),u=o.next();!u.done;u=o.next()){var a=u.value;i=i.concat(a.D)}}catch(l){e={error:l}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return Kg(t.i)}function um(){}um.prototype.stringify=function(t){return Pt.JSON.stringify(t,void 0)};um.prototype.parse=function(t){return Pt.JSON.parse(t,void 0)};function oL(){this.g=new um}function sL(t,e,n){var i=n||"";try{im(t,function(o,u){var a=o;za(o)&&(a=Yg(o)),e.push(i+u+"="+encodeURIComponent(a))})}catch(o){throw e.push(i+"type="+encodeURIComponent("_badmap")),o}}function uL(t,e){var n=new qf;if(Pt.Image){var i=new Image;i.onload=wl(_l,n,i,"TestLoadImage: loaded",!0,e),i.onerror=wl(_l,n,i,"TestLoadImage: error",!1,e),i.onabort=wl(_l,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=wl(_l,n,i,"TestLoadImage: timeout",!1,e),Pt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function _l(t,e,n,i,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(i)}catch{}}function Ja(t){this.l=t.$b||null,this.j=t.ib||!1}rn(Ja,em);Ja.prototype.g=function(){return new Wf(this.l,this.j)};Ja.prototype.i=function(t){return function(){return t}}({});function Wf(t,e){We.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=am,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rn(Wf,We);var am=0;ut=Wf.prototype;ut.open=function(t,e){if(this.readyState!=am)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Oa(this)};ut.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Pt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Za(this)),this.readyState=am};ut.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Oa(this)),this.g&&(this.readyState=3,Oa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Pt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fS(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function fS(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}ut.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Za(this):Oa(this),this.readyState==3&&fS(this)}};ut.Ua=function(t){this.g&&(this.response=this.responseText=t,Za(this))};ut.Ta=function(t){this.g&&(this.response=t,Za(this))};ut.ha=function(){this.g&&Za(this)};function Za(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Oa(t)}ut.setRequestHeader=function(t,e){this.v.append(t,e)};ut.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ut.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Oa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Wf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var aL=Pt.JSON.parse;function Ue(t){We.call(this),this.headers=new su,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hS,this.K=this.L=!1}rn(Ue,We);var hS="",cL=/^https?$/i,lL=["POST","PUT"];ut=Ue.prototype;ut.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$v.g(),this.C=this.u?S_(this.u):S_($v),this.g.onreadystatechange=tn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(u){k_(this,u);return}t=n||"";var o=new su(this.headers);i&&im(i,function(u,a){o.set(a,u)}),i=_P(o.T()),n=Pt.FormData&&t instanceof Pt.FormData,!(0<=CT(lL,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,a){this.g.setRequestHeader(a,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vS(this),0<this.B&&((this.K=fL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tn(this.pa,this)):this.A=tm(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){k_(this,u)}};function fL(t){return Fs&&AP()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function hL(t){return t.toLowerCase()=="content-type"}ut.pa=function(){typeof $g<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,en(this,"timeout"),this.abort(8))};function k_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,dS(t),Qf(t)}function dS(t){t.D||(t.D=!0,en(t,"complete"),en(t,"error"))}ut.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,en(this,"complete"),en(this,"abort"),Qf(this))};ut.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qf(this,!0)),Ue.Z.M.call(this)};ut.Fa=function(){this.s||(this.F||this.v||this.l?pS(this):this.cb())};ut.cb=function(){pS(this)};function pS(t){if(t.h&&typeof $g<"u"&&(!t.C[1]||Qr(t)!=4||t.ba()!=2)){if(t.v&&Qr(t)==4)tm(t.Fa,0,t);else if(en(t,"readystatechange"),Qr(t)==4){t.h=!1;try{var e=t.ba();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var i;if(!(i=n)){var o;if(o=e===0){var u=String(t.H).match(nS)[1]||null;if(!u&&Pt.self&&Pt.self.location){var a=Pt.self.location.protocol;u=a.substr(0,a.length-1)}o=!cL.test(u?u.toLowerCase():"")}i=o}if(i)en(t,"complete"),en(t,"success");else{t.m=6;try{var l=2<Qr(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.ba()+"]",dS(t)}}finally{Qf(t)}}}}function Qf(t,e){if(t.g){vS(t);var n=t.g,i=t.C[0]?Wl:null;t.g=null,t.C=null,e||en(t,"ready");try{n.onreadystatechange=i}catch{}}}function vS(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Pt.clearTimeout(t.A),t.A=null)}function Qr(t){return t.g?t.g.readyState:0}ut.ba=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}};ut.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ut.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),aL(e)}};function C_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case hS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ut.Da=function(){return this.m};ut.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function dL(t){var e="";return Hg(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function cm(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=dL(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):be(t,e,n))}function Zu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gS(t){this.za=0,this.l=[],this.h=new qf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zu("baseRetryDelayMs",5e3,t),this.$a=Zu("retryDelaySeedMs",1e4,t),this.Ya=Zu("forwardChannelMaxRetries",2,t),this.ra=Zu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new sS(t&&t.concurrentRequestLimit),this.Ca=new oL,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}ut=gS.prototype;ut.ma=8;ut.G=1;function lm(t){if(mS(t),t.G==3){var e=t.V++,n=ni(t.F);be(n,"SID",t.J),be(n,"RID",e),be(n,"TYPE","terminate"),tc(t,n),e=new Xa(t,t.h,e,void 0),e.K=2,e.v=Gf(ni(n)),n=!1,Pt.navigator&&Pt.navigator.sendBeacon&&(n=Pt.navigator.sendBeacon(e.v.toString(),"")),!n&&Pt.Image&&(new Image().src=e.v,n=!0),n||(e.g=SS(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ya(e)}IS(t)}ut.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Xf(t){t.g&&(hm(t),t.g.cancel(),t.g=null)}function mS(t){Xf(t),t.u&&(Pt.clearTimeout(t.u),t.u=null),ef(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Pt.clearTimeout(t.m),t.m=null)}function uv(t,e){t.l.push(new rL(t.Za++,e)),t.G==3&&Yf(t)}function Yf(t){uS(t.i)||t.m||(t.m=!0,Jg(t.Ha,t),t.C=0)}function pL(t,e){return aS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Wa(tn(t.Ha,t,e),ES(t,t.C)),t.C++,!0)}ut.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Xa(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=OT(n),RT(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)t:{for(var i=0,o=0;o<this.l.length;o++){e:{var u=this.l[o];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break e}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break t}if(i===4096||o===this.l.length-1){i=o+1;break t}}i=1e3}else i=1e3;i=yS(this,e,i),o=ni(this.F),be(o,"RID",t),be(o,"CVER",22),this.D&&be(o,"X-HTTP-Session-Id",this.D),tc(this,o),this.o&&n&&cm(o,this.o,n),sm(this.i,e),this.Ra&&be(o,"TYPE","init"),this.ja?(be(o,"$req",i),be(o,"SID","null"),e.$=!0,Hv(e,o,null)):Hv(e,o,i),this.G=2}}else this.G==3&&(t?x_(this,t):this.l.length==0||uS(this.i)||x_(this))};function x_(t,e){var n;e?n=e.m:n=t.V++;var i=ni(t.F);be(i,"SID",t.J),be(i,"RID",n),be(i,"AID",t.U),tc(t,i),t.o&&t.s&&cm(i,t.o,t.s),n=new Xa(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=yS(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),sm(t.i,n),Hv(n,i,e)}function tc(t,e){t.j&&im({},function(n,i){be(e,i,n)})}function yS(t,e,n){n=Math.min(t.l.length,n);var i=t.j?tn(t.j.Oa,t.j,t):null;t:for(var o=t.l,u=-1;;){var a=["count="+n];u==-1?0<n?(u=o[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var l=!0,f=0;f<n;f++){var d=o[f].h,v=o[f].g;if(d-=u,0>d)u=Math.max(0,o[f].h-100),l=!1;else try{sL(v,a,"req"+d+"_")}catch{i&&i(v)}}if(l){i=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,i}function wS(t){t.g||t.u||(t.Y=1,Jg(t.Ga,t),t.A=0)}function fm(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Wa(tn(t.Ga,t),ES(t,t.A)),t.A++,!0)}ut.Ga=function(){if(this.u=null,bS(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Wa(tn(this.bb,this),t)}};ut.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,En(10),Xf(this),bS(this))};function hm(t){t.B!=null&&(Pt.clearTimeout(t.B),t.B=null)}function bS(t){t.g=new Xa(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=ni(t.oa);be(e,"RID","rpc"),be(e,"SID",t.J),be(e,"CI",t.N?"0":"1"),be(e,"AID",t.U),tc(t,e),be(e,"TYPE","xmlhttp"),t.o&&t.s&&cm(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Gf(ni(e)),n.s=null,n.U=!0,JT(n,t)}ut.ab=function(){this.v!=null&&(this.v=null,Xf(this),fm(this),En(19))};function ef(t){t.v!=null&&(Pt.clearTimeout(t.v),t.v=null)}function _S(t,e){var n=null;if(t.g==e){ef(t),hm(t),t.g=null;var i=2}else if(Gv(t.i,e))n=e.D,cS(t.i,e),i=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var o=t.C;i=$f(),en(i,new WT(i,n)),Yf(t)}else wS(t);else if(o=e.o,o==3||o==0&&0<t.I||!(i==1&&pL(t,e)||i==2&&fm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:yo(t,5);break;case 4:yo(t,10);break;case 3:yo(t,6);break;default:yo(t,2)}}}function ES(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function yo(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var i=tn(t.jb,t);n||(n=new Oo("//www.google.com/images/cleardot.gif"),Pt.location&&Pt.location.protocol=="http"||Jl(n,"https"),Gf(n)),uL(n.toString(),i)}else En(2);t.G=0,t.j&&t.j.va(e),IS(t),mS(t)}ut.jb=function(t){t?(this.h.info("Successfully pinged google.com"),En(2)):(this.h.info("Failed to ping google.com"),En(1))};function IS(t){t.G=0,t.I=-1,t.j&&((lS(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Kg(t.l),t.l.length=0),t.j.ua())}function TS(t,e,n){var i=QP(n);if(i.i!="")e&&Zl(i,e+"."+i.i),tf(i,i.m);else{var o=Pt.location;i=XP(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,n)}return t.aa&&Hg(t.aa,function(u,a){be(i,a,u)}),e=t.D,n=t.sa,e&&n&&be(i,e,n),be(i,"VER",t.ma),tc(t,i),i}function SS(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Ue(new Ja({ib:!0})):new Ue(t.qa),e.L=t.H,e}function AS(){}ut=AS.prototype;ut.xa=function(){};ut.wa=function(){};ut.va=function(){};ut.ua=function(){};ut.Oa=function(){};function nf(){if(Fs&&!(10<=Number(NP)))throw Error("Environmental error: no available transport.")}nf.prototype.g=function(t,e){return new Xn(t,e)};function Xn(t,e){We.call(this),this.g=new gS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ql(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ql(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new au(this)}rn(Xn,We);Xn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Jg(tn(t.hb,t,e))),En(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=TS(t,null,t.W),Yf(t)};Xn.prototype.close=function(){lm(this.g)};Xn.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,uv(this.g,e)}else this.v?(e={},e.__data__=Yg(t),uv(this.g,e)):uv(this.g,t)};Xn.prototype.M=function(){this.g.j=null,delete this.j,lm(this.g),delete this.g,Xn.Z.M.call(this)};function NS(t){nm.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}rn(NS,nm);function kS(){rm.call(this),this.status=1}rn(kS,rm);function au(t){this.g=t}rn(au,AS);au.prototype.xa=function(){en(this.g,"a")};au.prototype.wa=function(t){en(this.g,new NS(t))};au.prototype.va=function(t){en(this.g,new kS)};au.prototype.ua=function(){en(this.g,"b")};nf.prototype.createWebChannel=nf.prototype.g;Xn.prototype.send=Xn.prototype.u;Xn.prototype.open=Xn.prototype.m;Xn.prototype.close=Xn.prototype.close;Kf.NO_ERROR=0;Kf.TIMEOUT=8;Kf.HTTP_ERROR=6;QT.COMPLETE="complete";XT.EventType=Qa;Qa.OPEN="a";Qa.CLOSE="b";Qa.ERROR="c";Qa.MESSAGE="d";We.prototype.listen=We.prototype.N;Ue.prototype.listenOnce=Ue.prototype.O;Ue.prototype.getLastError=Ue.prototype.La;Ue.prototype.getLastErrorCode=Ue.prototype.Da;Ue.prototype.getStatus=Ue.prototype.ba;Ue.prototype.getResponseJson=Ue.prototype.Qa;Ue.prototype.getResponseText=Ue.prototype.ga;Ue.prototype.send=Ue.prototype.ea;var vL=function(){return new nf},gL=function(){return $f()},av=Kf,mL=QT,yL=Fo,O_={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},wL=Ja,El=XT,bL=Ue,_L={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn=function(){function t(e,n){var i=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();Gn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=function(t){function e(n,i){var o=this;return(o=t.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return St(e,t),e}(Error),mr=new TT("@firebase/firestore");function Wv(){return mr.logLevel}function et(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(mr.logLevel<=ee.DEBUG){var i=e.map(dm);mr.debug.apply(mr,ke(["Firestore (8.10.1): "+t],i))}}function Fe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(mr.logLevel<=ee.ERROR){var i=e.map(dm);mr.error.apply(mr,ke(["Firestore (8.10.1): "+t],i))}}function rf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(mr.logLevel<=ee.WARN){var i=e.map(dm);mr.warn.apply(mr,ke(["Firestore (8.10.1): "+t],i))}}function dm(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Fe(e),new Error(e)}function Ct(t,e){t||mt()}function ot(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CS=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";i.length<20;)for(var o=EL(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%e.length));return i},t}();function Ht(t,e){return t<e?-1:t>e?1:0}function Vs(t,e,n){return t.length===e.length&&t.every(function(i,o){return n(i,e[o])})}function xS(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),jt=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Rn(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vo(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OS(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RS=function(){function t(e,n,i){n===void 0?n=0:n>e.length&&mt(),i===void 0?i=e.length-n:i>e.length-n&&mt(),this.segments=e,this.offset=n,this.len=i}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(i){n.push(i)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var i=Math.min(e.length,n.length),o=0;o<i;o++){var u=e.get(o),a=n.get(o);if(u<a)return-1;if(u>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),re=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return St(e,t),e.prototype.construct=function(n,i,o){return new e(n,i,o)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,a=n;u<a.length;u++){var l=a[u];if(l.indexOf("//")>=0)throw new G(R.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new e(o)},e.emptyPath=function(){return new e([])},e}(RS),IL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,br=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return St(e,t),e.prototype.construct=function(n,i,o){return new e(n,i,o)},e.isValidIdentifier=function(n){return IL.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var i=[],o="",u=0,a=function(){if(o.length===0)throw new G(R.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new G(R.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[u+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new G(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(o+=f,u++):(a(),u++)}if(a(),l)throw new G(R.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(i)},e.emptyPath=function(){return new e([])},e}(RS),js=function(){function t(e){this.fields=e,e.sort(br.comparator)}return t.prototype.covers=function(e){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return Vs(this.fields,e.fields,function(n,i){return n.isEqual(i)})},t}(),Pn=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return Ht(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Pn.EMPTY_BYTE_STRING=new Pn("");var TL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){if(Ct(!!t),typeof t=="string"){var e=0,n=TL.exec(t);if(Ct(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Us(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function DS(t){var e=t.mapValue.fields.__previous_value__;return pm(e)?DS(e):e}function Ra(t){var e=Li(t.mapValue.fields.__local_write_time__.timestampValue);return new Rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t){return t==null}function of(t){return t===0&&1/t==-1/0}function PS(t){return typeof t=="number"&&Number.isInteger(t)&&!of(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(re.fromString(e))},t.fromName=function(e){return new t(re.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&re.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return re.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new re(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pm(t)?4:10:mt()}function Ur(t,e){var n=Ro(t);if(n!==Ro(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ra(t).isEqual(Ra(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=Li(i.timestampValue),a=Li(o.timestampValue);return u.seconds===a.seconds&&u.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Us(i.bytesValue).isEqual(Us(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Me(i.geoPointValue.latitude)===Me(o.geoPointValue.latitude)&&Me(i.geoPointValue.longitude)===Me(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Me(i.integerValue)===Me(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=Me(i.doubleValue),a=Me(o.doubleValue);return u===a?of(u)===of(a):isNaN(u)&&isNaN(a)}return!1}(t,e);case 9:return Vs(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:return function(i,o){var u=i.mapValue.fields||{},a=o.mapValue.fields||{};if(R_(u)!==R_(a))return!1;for(var l in u)if(u.hasOwnProperty(l)&&(a[l]===void 0||!Ur(u[l],a[l])))return!1;return!0}(t,e);default:return mt()}}function Da(t,e){return(t.values||[]).find(function(n){return Ur(n,e)})!==void 0}function Bs(t,e){var n=Ro(t),i=Ro(e);if(n!==i)return Ht(n,i);switch(n){case 0:return 0;case 1:return Ht(t.booleanValue,e.booleanValue);case 2:return function(o,u){var a=Me(o.integerValue||o.doubleValue),l=Me(u.integerValue||u.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return D_(t.timestampValue,e.timestampValue);case 4:return D_(Ra(t),Ra(e));case 5:return Ht(t.stringValue,e.stringValue);case 6:return function(o,u){var a=Us(o),l=Us(u);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){for(var a=o.split("/"),l=u.split("/"),f=0;f<a.length&&f<l.length;f++){var d=Ht(a[f],l[f]);if(d!==0)return d}return Ht(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){var a=Ht(Me(o.latitude),Me(u.latitude));return a!==0?a:Ht(Me(o.longitude),Me(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,u){for(var a=o.values||[],l=u.values||[],f=0;f<a.length&&f<l.length;++f){var d=Bs(a[f],l[f]);if(d)return d}return Ht(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,u){var a=o.fields||{},l=Object.keys(a),f=u.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var v=0;v<l.length&&v<d.length;++v){var g=Ht(l[v],d[v]);if(g!==0)return g;var m=Bs(a[l[v]],f[d[v]]);if(m!==0)return m}return Ht(l.length,d.length)}(t.mapValue,e.mapValue);default:throw mt()}}function D_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ht(t,e);var n=Li(t),i=Li(e),o=Ht(n.seconds,i.seconds);return o!==0?o:Ht(n.nanos,i.nanos)}function vm(t){return Qv(t)}function Qv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){var o=Li(i);return"time("+o.seconds+","+o.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Us(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,wt.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(i){for(var o="[",u=!0,a=0,l=i.values||[];a<l.length;a++)u?u=!1:o+=",",o+=Qv(l[a]);return o+"]"}(t.arrayValue):"mapValue"in t?function(i){for(var o="{",u=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];u?u=!1:o+=",",o+=f+":"+Qv(i.fields[f])}return o+"}"}(t.mapValue):mt();var e,n}function sf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Xv(t){return!!t&&"integerValue"in t}function gm(t){return!!t&&"arrayValue"in t}function P_(t){return!!t&&"nullValue"in t}function L_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ll(t){return!!t&&"mapValue"in t}function da(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Vo(t.mapValue.fields,function(o,u){return e.mapValue.fields[o]=da(u)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(t.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=da(t.arrayValue.values[i]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,i=0;i<e.length-1;++i)if(!Ll(n=(n.mapValue.fields||{})[e.get(i)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=da(n)},t.prototype.setAll=function(e){var n=this,i=br.emptyPath(),o={},u=[];e.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,u),o={},u=[],i=f.popLast()}l?o[f.lastSegment()]=da(l):u.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,u)},t.prototype.delete=function(e){var n=this.field(e.popLast());Ll(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return Ur(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<e.length;++i){var o=n.mapValue.fields[e.get(i)];Ll(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,i){Vo(n,function(l,f){return e[l]=f});for(var o=0,u=i;o<u.length;o++){var a=u[o];delete e[a]}},t.prototype.clone=function(){return new t(da(this.value))},t}();function LS(t){var e=[];return Vo(t.fields,function(n,i){var o=new br([n]);if(Ll(i)){var u=LS(i.mapValue).fields;if(u.length===0)e.push(o);else for(var a=0,l=u;a<l.length;a++){var f=l[a];e.push(o.child(f))}}else e.push(o)}),new js(e)}var fn=function(){function t(e,n,i,o,u){this.key=e,this.documentType=n,this.version=i,this.data=o,this.documentState=u}return t.newInvalidDocument=function(e){return new t(e,0,jt.min(),Hn.empty(),0)},t.newFoundDocument=function(e,n,i){return new t(e,1,n,i,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Hn.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Hn.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),SL=function(t,e,n,i,o,u,a){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t,e,n,i,o,u,a){return e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),new SL(t,e,n,i,o,u,a)}function ec(t){var e=ot(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+vm(o.value)}(i)}).join(","),n+="|ob:",n+=e.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),jo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=af(e.startAt)),e.endAt&&(n+="|ub:",n+=af(e.endAt)),e.h=n}return e.h}function Jf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!DL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if(o=t.filters[i],u=e.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!Ur(o.value,u.value))return!1;var o,u;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V_(t.startAt,e.startAt)&&V_(t.endAt,e.endAt)}function uf(t){return wt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Wn=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).field=n,u.op=i,u.value=o,u}return St(e,t),e.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new AL(n,i,o):i==="array-contains"?new CL(n,o):i==="in"?new xL(n,o):i==="not-in"?new OL(n,o):i==="array-contains-any"?new RL(n,o):new e(n,i,o)},e.l=function(n,i,o){return i==="in"?new NL(n,o):new kL(n,o)},e.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(Bs(i,this.value)):i!==null&&Ro(this.value)===Ro(i)&&this.m(Bs(i,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return mt()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),AL=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,o)||this).key=wt.fromName(o.referenceValue),u}return St(e,t),e.prototype.matches=function(n){var i=wt.comparator(n.key,this.key);return this.m(i)},e}(Wn),NL=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"in",i)||this).keys=MS("in",i),o}return St(e,t),e.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},e}(Wn),kL=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"not-in",i)||this).keys=MS("not-in",i),o}return St(e,t),e.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},e}(Wn);function MS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return wt.fromName(i.referenceValue)})}var CL=function(t){function e(n,i){return t.call(this,n,"array-contains",i)||this}return St(e,t),e.prototype.matches=function(n){var i=n.data.field(this.field);return gm(i)&&Da(i.arrayValue,this.value)},e}(Wn),xL=function(t){function e(n,i){return t.call(this,n,"in",i)||this}return St(e,t),e.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Da(this.value.arrayValue,i)},e}(Wn),OL=function(t){function e(n,i){return t.call(this,n,"not-in",i)||this}return St(e,t),e.prototype.matches=function(n){if(Da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Da(this.value.arrayValue,i)},e}(Wn),RL=function(t){function e(n,i){return t.call(this,n,"array-contains-any",i)||this}return St(e,t),e.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!gm(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return Da(i.value.arrayValue,u)})},e}(Wn),Pa=function(t,e){this.position=t,this.before=e};function af(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return vm(e)}).join(",")}var Os=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function DL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function F_(t,e,n){for(var i=0,o=0;o<t.position.length;o++){var u=e[o],a=t.position[o];if(i=u.field.isKeyField()?wt.comparator(wt.fromName(a.referenceValue),n.key):Bs(a,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return t.before?i<=0:i<0}function V_(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ii=function(t,e,n,i,o,u,a,l){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=u,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function FS(t,e,n,i,o,u,a,l){return new ii(t,e,n,i,o,u,a,l)}function nc(t){return new ii(t)}function Ml(t){return!jo(t.limit)&&t.limitType==="F"}function cf(t){return!jo(t.limit)&&t.limitType==="L"}function mm(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ym(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.g())return i.field}return null}function wm(t){return t.collectionGroup!==null}function qs(t){var e=ot(t);if(e.p===null){e.p=[];var n=ym(e),i=mm(e);if(n!==null&&i===null)n.isKeyField()||e.p.push(new Os(n)),e.p.push(new Os(br.keyField(),"asc"));else{for(var o=!1,u=0,a=e.explicitOrderBy;u<a.length;u++){var l=a[u];e.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Os(br.keyField(),f))}}}return e.p}function Br(t){var e=ot(t);if(!e.T)if(e.limitType==="F")e.T=M_(e.path,e.collectionGroup,qs(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,o=qs(e);i<o.length;i++){var u=o[i],a=u.dir==="desc"?"asc":"desc";n.push(new Os(u.field,a))}var l=e.endAt?new Pa(e.endAt.position,!e.endAt.before):null,f=e.startAt?new Pa(e.startAt.position,!e.startAt.before):null;e.T=M_(e.path,e.collectionGroup,n,e.filters,e.limit,l,f)}return e.T}function VS(t,e,n){return new ii(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rc(t,e){return Jf(Br(t),Br(e))&&t.limitType===e.limitType}function jS(t){return ec(Br(t))+"|lt:"+t.limitType}function Yv(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+vm(o.value);var o}).join(", ")+"]"),jo(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+af(e.startAt)),e.endAt&&(n+=", endAt: "+af(e.endAt)),"Target("+n+")"}(Br(t))+"; limitType="+t.limitType+")"}function ic(t,e){return e.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):wt.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(var o=0,u=n.explicitOrderBy;o<u.length;o++){var a=u[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!F_(n.startAt,qs(n),i))&&(!n.endAt||!F_(n.endAt,qs(n),i))}(t,e)}function US(t){return function(e,n){for(var i=!1,o=0,u=qs(t);o<u.length;o++){var a=u[o],l=PL(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function PL(t,e,n){var i=t.field.isKeyField()?wt.comparator(e.key,n.key):function(o,u,a){var l=u.data.field(o),f=a.data.field(o);return l!==null&&f!==null?Bs(l,f):mt()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return mt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:of(e)?"-0":e}}function qS(t){return{integerValue:""+t}}function $S(t,e){return PS(e)?qS(e):BS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zf=function(){this._=void 0};function LL(t,e,n){return t instanceof $s?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,e):t instanceof Do?HS(t,e):t instanceof Po?zS(t,e):function(i,o){var u=KS(i,o),a=j_(u)+j_(i.A);return Xv(u)&&Xv(i.A)?qS(a):BS(i.R,a)}(t,e)}function ML(t,e,n){return t instanceof Do?HS(t,e):t instanceof Po?zS(t,e):n}function KS(t,e){return t instanceof Ks?Xv(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}var $s=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return St(e,t),e}(Zf),Do=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return St(e,t),e}(Zf);function HS(t,e){for(var n=GS(e),i=function(a){n.some(function(l){return Ur(l,a)})||n.push(a)},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var Po=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return St(e,t),e}(Zf);function zS(t,e){for(var n=GS(e),i=function(a){n=n.filter(function(l){return!Ur(l,a)})},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var Ks=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).R=n,o.A=i,o}return St(e,t),e}(Zf);function j_(t){return Me(t.integerValue||t.doubleValue)}function GS(t){return gm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oc=function(t,e){this.field=t,this.transform=e},FL=function(t,e){this.version=t,this.transformResults=e},cn=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Fl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var th=function(){};function VL(t,e,n){t instanceof sc?function(i,o,u){var a=i.value.clone(),l=q_(i.fieldTransforms,o,u.transformResults);a.setAll(l),o.convertToFoundDocument(u.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(i,o,u){if(Fl(i.precondition,o)){var a=q_(i.fieldTransforms,o,u.transformResults),l=o.data;l.setAll(WS(i)),l.setAll(a),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(u.version)}(t,e,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Jv(t,e,n){t instanceof sc?function(i,o,u){if(Fl(i.precondition,o)){var a=i.value.clone(),l=$_(i.fieldTransforms,u,o);a.setAll(l),o.convertToFoundDocument(B_(o),a).setHasLocalMutations()}}(t,e,n):t instanceof ji?function(i,o,u){if(Fl(i.precondition,o)){var a=$_(i.fieldTransforms,u,o),l=o.data;l.setAll(WS(i)),l.setAll(a),o.convertToFoundDocument(B_(o),l).setHasLocalMutations()}}(t,e,n):function(i,o){Fl(i.precondition,o)&&o.convertToNoDocument(jt.min())}(t,e)}function jL(t,e){for(var n=null,i=0,o=t.fieldTransforms;i<o.length;i++){var u=o[i],a=e.data.field(u.field),l=KS(u.transform,a||null);l!=null&&(n==null&&(n=Hn.empty()),n.set(u.field,l))}return n||null}function U_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Vs(n,i,function(o,u){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof Do&&d instanceof Do||f instanceof Po&&d instanceof Po?Vs(f.elements,d.elements,Ur):f instanceof Ks&&d instanceof Ks?Ur(f.A,d.A):f instanceof $s&&d instanceof $s}(a.transform,l.transform)}(o,u)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function B_(t){return t.isFoundDocument()?t.version:jt.min()}var sc=function(t){function e(n,i,o,u){u===void 0&&(u=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=u,a.type=0,a}return St(e,t),e}(th),ji=function(t){function e(n,i,o,u,a){a===void 0&&(a=[]);var l=this;return(l=t.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=u,l.fieldTransforms=a,l.type=1,l}return St(e,t),e}(th);function WS(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}}),e}function q_(t,e,n){var i=new Map;Ct(t.length===n.length);for(var o=0;o<n.length;o++){var u=t[o],a=u.transform,l=e.data.field(u.field);i.set(u.field,ML(a,l,n[o]))}return i}function $_(t,e,n){for(var i=new Map,o=0,u=t;o<u.length;o++){var a=u[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,LL(l,f,e))}return i}var Le,Wt,uc=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return St(e,t),e}(th),bm=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return St(e,t),e}(th),UL=function(t){this.count=t};function QS(t){switch(t){case R.OK:return mt();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return mt()}}function XS(t){if(t===void 0)return Fe("GRPC error has no .code"),R.UNKNOWN;switch(t){case Le.OK:return R.OK;case Le.CANCELLED:return R.CANCELLED;case Le.UNKNOWN:return R.UNKNOWN;case Le.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Le.INTERNAL:return R.INTERNAL;case Le.UNAVAILABLE:return R.UNAVAILABLE;case Le.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Le.NOT_FOUND:return R.NOT_FOUND;case Le.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Le.ABORTED:return R.ABORTED;case Le.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Le.DATA_LOSS:return R.DATA_LOSS;default:return mt()}}(Wt=Le||(Le={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn=function(){function t(e,n){this.comparator=e,this.root=n||Ti.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ti.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ti.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,i){return e(n,i),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,i){return e.push(n+":"+i),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new Il(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new Il(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Il(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new Il(this.root,e,this.comparator,!0)},t}(),Il=function(){function t(e,n,i,o){this.isReverse=o,this.nodeStack=[];for(var u=1;!e.isEmpty();)if(u=n?i(e.key,n):1,o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),Ti=function(){function t(e,n,i,o,u){this.key=e,this.value=n,this.color=i??t.RED,this.left=o??t.EMPTY,this.right=u??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,o,u){return new t(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,i){var o=this,u=i(e,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return t.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();var e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)},t}();Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1,Ti.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw mt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw mt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw mt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw mt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw mt()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,i,o,u){return this},t.prototype.insert=function(e,n,i){return new Ti(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He=function(){function t(e){this.comparator=e,this.data=new hn(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,i){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var i=this.data.getIteratorFrom(e[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}},t.prototype.forEachWhile=function(e,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new K_(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new K_(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(i){n=n.add(i)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),K_=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),BL=new hn(wt.comparator);function yr(){return BL}var qL=new hn(wt.comparator);function Zv(){return qL}var $L=new hn(wt.comparator);function KL(){return $L}var HL=new He(wt.comparator);function de(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=HL,i=0,o=t;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var zL=new He(Ht);function eh(){return zL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _m=function(){function t(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i=new Map;return i.set(e,Em.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(jt.min(),i,eh(),yr(),de())},t}(),Em=function(){function t(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Pn.EMPTY_BYTE_STRING,n,de(),de(),de())},t}(),Vl=function(t,e,n,i){this.v=t,this.removedTargetIds=e,this.key=n,this.P=i},YS=function(t,e){this.targetId=t,this.V=e},JS=function(t,e,n,i){n===void 0&&(n=Pn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},H_=function(){function t(){this.S=0,this.D=G_(),this.C=Pn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=de(),n=de(),i=de();return this.D.forEach(function(o,u){switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:mt()}}),new Em(this.C,this.N,e,n,i)},t.prototype.L=function(){this.k=!1,this.D=G_()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),GL=function(){function t(e){this.W=e,this.G=new Map,this.H=yr(),this.J=z_(),this.Y=new He(Ht)}return t.prototype.X=function(e){for(var n=0,i=e.v;n<i.length;n++){var o=i[n];e.P&&e.P.isFoundDocument()?this.Z(o,e.P):this.tt(o,e.key,e.P)}for(var u=0,a=e.removedTargetIds;u<a.length;u++)o=a[u],this.tt(o,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(i){var o=n.nt(i);switch(e.state){case 0:n.st(i)&&o.O(e.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(e.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(e.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(e.resumeToken));break;default:mt()}})},t.prototype.forEachTarget=function(e,n){var i=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(o,u){i.st(u)&&n(u)})},t.prototype.rt=function(e){var n=e.targetId,i=e.V.count,o=this.ot(n);if(o){var u=o.target;if(uf(u))if(i===0){var a=new wt(u.path);this.tt(n,a,fn.newNoDocument(a,jt.min()))}else Ct(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&uf(f.target)){var d=new wt(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,fn.newNoDocument(d,e))}a.$&&(i.set(l,a.M()),a.L())}});var o=de();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var v=n.ot(d);return!v||v.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var u=new _m(e,i,this.Y,this.H,o);return this.H=yr(),this.J=z_(),this.Y=new He(Ht),u},t.prototype.Z=function(e,n){if(this.st(e)){var i=this.at(e,n.key)?2:0;this.nt(e).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,i){if(this.st(e)){var o=this.nt(e);this.at(e,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),i&&(this.H=this.H.insert(n,i))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new H_,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new He(Ht),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||et("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new H_),this.W.getRemoteKeysForTarget(e).forEach(function(i){n.tt(e,i,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function z_(){return new hn(wt.comparator)}function G_(){return new hn(wt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WL={asc:"ASCENDING",desc:"DESCENDING"},QL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XL=function(t,e){this.databaseId=t,this.I=e};function La(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZS(t,e){return t.I?e.toBase64():e.toUint8Array()}function YL(t,e){return La(t,e.toTimestamp())}function In(t){return Ct(!!t),jt.fromTimestamp(function(e){var n=Li(e);return new Rn(n.seconds,n.nanos)}(t))}function Im(t,e){return function(n){return new re(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function tA(t){var e=re.fromString(t);return Ct(uA(e)),e}function Ma(t,e){return Im(t.databaseId,e.path)}function Jr(t,e){var n=tA(e);if(n.get(1)!==t.databaseId.projectId)throw new G(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new wt(nA(n))}function tg(t,e){return Im(t.databaseId,e)}function eA(t){var e=tA(t);return e.length===4?re.emptyPath():nA(e)}function Fa(t){return new re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nA(t){return Ct(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function W_(t,e,n){return{name:Ma(t,e),fields:n.value.mapValue.fields}}function JL(t,e,n){var i=Jr(t,e.name),o=In(e.updateTime),u=new Hn({mapValue:{fields:e.fields}}),a=fn.newFoundDocument(i,o,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function lf(t,e){var n;if(e instanceof sc)n={update:W_(t,e.key,e.value)};else if(e instanceof uc)n={delete:Ma(t,e.key)};else if(e instanceof ji)n={update:W_(t,e.key,e.data),updateMask:rM(e.fieldMask)};else{if(!(e instanceof bm))return mt();n={verify:Ma(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(i){return function(o,u){var a=u.transform;if(a instanceof $s)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Do)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Po)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ks)return{fieldPath:u.field.canonicalString(),increment:a.A};throw mt()}(0,i)})),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:YL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:mt()}(t,e.precondition)),n}function Q_(t,e){var n=e.currentDocument?function(d){return d.updateTime!==void 0?cn.updateTime(In(d.updateTime)):d.exists!==void 0?cn.exists(d.exists):cn.none()}(e.currentDocument):cn.none(),i=e.updateTransforms?e.updateTransforms.map(function(d){return function(v,g){var m=null;if("setToServerValue"in g)Ct(g.setToServerValue==="REQUEST_TIME"),m=new $s;else if("appendMissingElements"in g){var b=g.appendMissingElements.values||[];m=new Do(b)}else if("removeAllFromArray"in g){var _=g.removeAllFromArray.values||[];m=new Po(_)}else"increment"in g?m=new Ks(v,g.increment):mt();var S=br.fromServerFormat(g.fieldPath);return new oc(S,m)}(t,d)}):[];if(e.update){e.update.name;var o=Jr(t,e.update.name),u=new Hn({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(d){var v=d.fieldPaths||[];return new js(v.map(function(g){return br.fromServerFormat(g)}))}(e.updateMask);return new ji(o,u,a,n,i)}return new sc(o,u,n,i)}if(e.delete){var l=Jr(t,e.delete);return new uc(l,n)}if(e.verify){var f=Jr(t,e.verify);return new bm(f,n)}return mt()}function rA(t,e){return{documents:[tg(t,e.path)]}}function iA(t,e){var n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=tg(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tg(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(v){if(v.op==="=="){if(L_(v.value))return{unaryFilter:{field:gs(v.field),op:"IS_NAN"}};if(P_(v.value))return{unaryFilter:{field:gs(v.field),op:"IS_NULL"}}}else if(v.op==="!="){if(L_(v.value))return{unaryFilter:{field:gs(v.field),op:"IS_NOT_NAN"}};if(P_(v.value))return{unaryFilter:{field:gs(v.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gs(v.field),op:tM(v.op),value:v.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(e.filters);o&&(n.structuredQuery.where=o);var u=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:gs(d.field),direction:ZL(d.dir)}}(f)})}(e.orderBy);u&&(n.structuredQuery.orderBy=u);var a=function(l,f){return l.I||jo(f)?f:{value:f}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=X_(e.startAt)),e.endAt&&(n.structuredQuery.endAt=X_(e.endAt)),n}function oA(t){var e=eA(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Ct(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:e=e.child(u.collectionId)}var a=[];n.where&&(a=sA(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(g){return function(m){return new Os(As(m.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(g)}));var f=null;n.limit&&(f=function(g){var m;return jo(m=typeof g=="object"?g.value:g)?null:m}(n.limit));var d=null;n.startAt&&(d=Y_(n.startAt));var v=null;return n.endAt&&(v=Y_(n.endAt)),FS(e,o,l,a,f,"F",d,v)}function sA(t){return t?t.unaryFilter!==void 0?[nM(t)]:t.fieldFilter!==void 0?[eM(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return sA(e)}).reduce(function(e,n){return e.concat(n)}):mt():[]}function X_(t){return{before:t.before,values:t.position}}function Y_(t){var e=!!t.before,n=t.values||[];return new Pa(n,e)}function ZL(t){return WL[t]}function tM(t){return QL[t]}function gs(t){return{fieldPath:t.canonicalString()}}function As(t){return br.fromServerFormat(t.fieldPath)}function eM(t){return Wn.create(As(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return mt()}}(t.fieldFilter.op),t.fieldFilter.value)}function nM(t){switch(t.unaryFilter.op){case"IS_NAN":var e=As(t.unaryFilter.field);return Wn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=As(t.unaryFilter.field);return Wn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=As(t.unaryFilter.field);return Wn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=As(t.unaryFilter.field);return Wn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return mt()}}function rM(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function uA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=J_(e)),e=iM(t.get(n),e);return J_(e)}function iM(t,e){for(var n=e,i=t.length,o=0;o<i;o++){var u=t.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function J_(t){return t+""}function Xr(t){var e=t.length;if(Ct(e>=2),e===2)return Ct(t.charAt(0)===""&&t.charAt(1)===""),re.emptyPath();for(var n=e-2,i=[],o="",u=0;u<e;){var a=t.indexOf("",u);switch((a<0||a>n)&&mt(),t.charAt(a+1)){case"":var l=t.substring(u,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=t.substring(u,a),o+="\0";break;case"":o+=t.substring(u,a+1);break;default:mt()}u=a+2}return new re(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oM=function(t,e){this.seconds=t,this.nanoseconds=e},$n=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};$n.store="owner",$n.key="owner";var Ri=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ri.store="mutationQueues",Ri.keyPath="userId";var ve=function(t,e,n,i,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};ve.store="mutations",ve.keyPath="batchId",ve.userMutationsIndex="userMutationsIndex",ve.userMutationsKeyPath=["userId","batchId"];var sn=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,wr(n)]},t.key=function(e,n,i){return[e,wr(n),i]},t}();sn.store="documentMutations",sn.PLACEHOLDER=new sn;var sM=function(t,e){this.path=t,this.readTime=e},uM=function(t,e){this.path=t,this.version=e},Ne=function(t,e,n,i,o,u){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};Ne.store="remoteDocuments",Ne.readTimeIndex="readTimeIndex",Ne.readTimeIndexPath="readTime",Ne.collectionReadTimeIndex="collectionReadTimeIndex",Ne.collectionReadTimeIndexPath=["parentPath","readTime"];var Lr=function(t){this.byteSize=t};Lr.store="remoteDocumentGlobal",Lr.key="remoteDocumentGlobalKey";var On=function(t,e,n,i,o,u,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=a};On.store="targets",On.keyPath="targetId",On.queryTargetsIndexName="queryTargetsIndex",On.queryTargetsKeyPath=["canonicalId","targetId"];var Ze=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ze.store="targetDocuments",Ze.keyPath=["targetId","path"],Ze.documentTargetsIndex="documentTargetsIndex",Ze.documentTargetsKeyPath=["path","targetId"];var Kn=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Kn.key="targetGlobalKey",Kn.store="targetGlobal";var To=function(t,e){this.collectionId=t,this.parent=e};To.store="collectionParents",To.keyPath=["collectionId","parent"];var Zr=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};Zr.store="clientMetadata",Zr.keyPath="clientId";var Hs=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Hs.store="bundles",Hs.keyPath="bundleId";var zs=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};zs.store="namedQueries",zs.keyPath="name";var aM=ke(ke([],ke(ke([],ke(ke([],ke(ke([],[Ri.store,ve.store,sn.store,Ne.store,On.store,$n.store,Kn.store,Ze.store]),[Zr.store])),[Lr.store])),[To.store])),[Hs.store,zs.store]),aA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",cA=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),Ln=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Y=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(o,u){i.nextCallback=function(a){i.wrapSuccess(e,a).next(o,u)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,u)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,i){e.next(n,i)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(i){return t.reject(i)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,i){n(e)})},t.reject=function(e){return new t(function(n,i){i(e)})},t.waitFor=function(e){return new t(function(n,i){var o=0,u=0,a=!1;e.forEach(function(l){++o,l.next(function(){++u,a&&u===o&&n()},function(f){return i(f)})}),a=!0,u===o&&n()})},t.or=function(e){for(var n=t.resolve(!1),i=function(a){n=n.next(function(l){return l?t.resolve(l):a()})},o=0,u=e;o<u.length;o++)i(u[o]);return n},t.forEach=function(e,n){var i=this,o=[];return e.forEach(function(u,a){o.push(n.call(i,u,a))}),this.waitFor(o)},t}(),lA=function(){function t(e,n){var i=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new Ln,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new pa(e,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var u=Tm(o.target.error);i.ft.reject(new pa(e,u))}}return t.open=function(e,n,i,o){try{return new t(n,e.transaction(o,i))}catch(u){throw new pa(n,u)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(et("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new lM(n)},t}(),Gs=function(){function t(e,n,i){this.name=e,this.version=n,this.wt=i,t._t(Co())===12.2&&Fe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return et("SimpleDb","Removing database:",e),go(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB>"u")return!1;if(t.gt())return!0;var e=Co(),n=t._t(e),i=0<n&&n<10,o=t.Et(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||u)},t.gt=function(){var e;return typeof process<"u"&&((e=_L)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},t.prototype.At=function(e){return z(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(et("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;u(d)},l.onblocked=function(){a(new pa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new G(R.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new pa(e,d))},l.onupgradeneeded=function(f){et("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){et("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,i,o){return z(this,void 0,void 0,function(){var u,a,l,f,d;return $(this,function(v){switch(v.label){case 0:u=n==="readonly",a=0,l=function(){var g,m,b,_,S;return $(this,function(N){switch(N.label){case 0:++a,N.label=1;case 1:return N.trys.push([1,4,,5]),[4,f.At(e)];case 2:return f.db=N.sent(),g=lA.open(f.db,e,u?"readonly":"readwrite",i),m=o(g).catch(function(O){return g.abort(O),Y.reject(O)}).toPromise(),b={},m.catch(function(){}),[4,g.dt];case 3:return[2,(b.value=(N.sent(),m),b)];case 4:return _=N.sent(),S=_.name!=="FirebaseError"&&a<3,et("SimpleDb","Transaction failed with error:",_.message,"Retrying:",S),f.close(),S?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,v.label=1;case 1:return[5,l()];case 2:if(typeof(d=v.sent())=="object")return[2,d.value];v.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),cM=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return go(this.Pt.delete())},t}(),pa=function(t){function e(n,i){var o=this;return(o=t.call(this,R.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return St(e,t),e}(G);function Uo(t){return t.name==="IndexedDbTransactionError"}var lM=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var i;return n!==void 0?(et("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(et("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),go(i)},t.prototype.add=function(e){return et("SimpleDb","ADD",this.store.name,e,e),go(this.store.add(e))},t.prototype.get=function(e){var n=this;return go(this.store.get(e)).next(function(i){return i===void 0&&(i=null),et("SimpleDb","GET",n.store.name,e,i),i})},t.prototype.delete=function(e){return et("SimpleDb","DELETE",this.store.name,e),go(this.store.delete(e))},t.prototype.count=function(){return et("SimpleDb","COUNT",this.store.name),go(this.store.count())},t.prototype.Nt=function(e,n){var i=this.cursor(this.options(e,n)),o=[];return this.xt(i,function(u,a){o.push(a)}).next(function(){return o})},t.prototype.kt=function(e,n){et("SimpleDb","DELETE ALL",this.store.name);var i=this.options(e,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(u,a,l){return l.delete()})},t.prototype.$t=function(e,n){var i;n?i=e:(i={},n=e);var o=this.cursor(i);return this.xt(o,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new Y(function(i,o){n.onerror=function(u){var a=Tm(u.target.error);o(a)},n.onsuccess=function(u){var a=u.target.result;a?e(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},t.prototype.xt=function(e,n){var i=[];return new Y(function(o,u){e.onerror=function(a){u(a.target.error)},e.onsuccess=function(a){var l=a.target.result;if(l){var f=new cM(l),d=n(l.primaryKey,l.value,f);if(d instanceof Y){var v=d.catch(function(g){return f.done(),Y.reject(g)});i.push(v)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return Y.waitFor(i)})},t.prototype.options=function(e,n){var i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var i=this.store.index(e.index);return e.Ft?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function go(t){return new Y(function(e,n){t.onsuccess=function(i){var o=i.target.result;e(o)},t.onerror=function(i){var o=Tm(i.target.error);n(o)}})}var Z_=!1;function Tm(t){var e=Gs._t(Co());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new G("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Z_||(Z_=!0,setTimeout(function(){throw i},0)),i}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tE=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return St(e,t),e}(cA);function Mn(t,e){var n=ot(t);return Gs.It(n.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sm=function(){function t(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return t.prototype.applyToRemoteDocument=function(e,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var u=this.mutations[o];u.key.isEqual(e.key)&&VL(u,e,i[o])}},t.prototype.applyToLocalView=function(e){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(e.key)&&Jv(a,e,this.localWriteTime);for(var o=0,u=this.mutations;o<u.length;o++){var a;(a=u[o]).key.isEqual(e.key)&&Jv(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(i){var o=e.get(i.key),u=o;n.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(jt.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},de())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,function(n,i){return U_(n,i)})&&Vs(this.baseMutations,e.baseMutations,function(n,i){return U_(n,i)})},t}(),fM=function(){function t(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return t.from=function(e,n,i){Ct(e.mutations.length===i.length);for(var o=KL(),u=e.mutations,a=0;a<u.length;a++)o=o.insert(u[a].key,i[a].version);return new t(e,n,i,o)},t}(),nh=function(){function t(e,n,i,o,u,a,l){u===void 0&&(u=jt.min()),a===void 0&&(a=jt.min()),l===void 0&&(l=Pn.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),fA=function(t){this.Lt=t};function eg(t,e){if(e.document)return JL(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=wt.fromSegments(e.noDocument.path),i=Qs(e.noDocument.readTime),o=fn.newNoDocument(n,i);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){var u=wt.fromSegments(e.unknownDocument.path);return i=Qs(e.unknownDocument.version),fn.newUnknownDocument(u,i)}return mt()}function eE(t,e,n){var i=Am(n),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){var u=function(g,m){return{name:Ma(g,m.key),fields:m.data.value.mapValue.fields,updateTime:La(g,m.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Ne(null,null,u,a,i,o)}if(e.isNoDocument()){var l=e.key.path.toArray(),f=Ws(e.version);return a=e.hasCommittedMutations,new Ne(null,new sM(l,f),null,a,i,o)}if(e.isUnknownDocument()){var d=e.key.path.toArray(),v=Ws(e.version);return new Ne(new uM(d,v),null,null,!0,i,o)}return mt()}function Am(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function hA(t){var e=new Rn(t[0],t[1]);return jt.fromTimestamp(e)}function Ws(t){var e=t.toTimestamp();return new oM(e.seconds,e.nanoseconds)}function Qs(t){var e=new Rn(t.seconds,t.nanoseconds);return jt.fromTimestamp(e)}function bs(t,e){for(var n=(e.baseMutations||[]).map(function(f){return Q_(t.Lt,f)}),i=0;i<e.mutations.length-1;++i){var o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){var u=e.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}var a=e.mutations.map(function(f){return Q_(t.Lt,f)}),l=Rn.fromMillis(e.localWriteTimeMs);return new Sm(e.batchId,l,n,a)}function oa(t){var e,n,i=Qs(t.readTime),o=t.lastLimboFreeSnapshotVersion!==void 0?Qs(t.lastLimboFreeSnapshotVersion):jt.min();return t.query.documents!==void 0?(Ct((n=t.query).documents.length===1),e=Br(nc(eA(n.documents[0])))):e=function(u){return Br(oA(u))}(t.query),new nh(e,t.targetId,0,t.lastListenSequenceNumber,i,o,Pn.fromBase64String(t.resumeToken))}function dA(t,e){var n,i=Ws(e.snapshotVersion),o=Ws(e.lastLimboFreeSnapshotVersion);n=uf(e.target)?rA(t.Lt,e.target):iA(t.Lt,e.target);var u=e.resumeToken.toBase64();return new On(e.targetId,ec(e.target),i,u,e.sequenceNumber,o,n)}function pA(t){var e=oA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?VS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hM=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return nE(e).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:Qs(o.createTime),version:o.version};var o})},t.prototype.saveBundleMetadata=function(e,n){return nE(e).put({bundleId:(i=n).id,createTime:Ws(In(i.createTime)),version:i.version});var i},t.prototype.getNamedQuery=function(e,n){return rE(e).get(n).next(function(i){if(i)return{name:(o=i).name,query:pA(o.bundledQuery),readTime:Qs(o.readTime)};var o})},t.prototype.saveNamedQuery=function(e,n){return rE(e).put(function(i){return{name:i.name,readTime:Ws(In(i.readTime)),bundledQuery:i.bundledQuery}}(n))},t}();function nE(t){return Mn(t,Hs.store)}function rE(t){return Mn(t,zs.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dM=function(){function t(){this.Bt=new Nm}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),Y.resolve()},t.prototype.getCollectionParents=function(e,n){return Y.resolve(this.Bt.getEntries(n))},t}(),Nm=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new He(re.comparator),u=!o.has(i);return this.index[n]=o.add(i),u},t.prototype.has=function(e){var n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)},t.prototype.getEntries=function(e){return(this.index[e]||new He(re.comparator)).toArray()},t}(),pM=function(){function t(){this.qt=new Nm}return t.prototype.addToCollectionParentIndex=function(e,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:wr(u)};return iE(e).put(a)}return Y.resolve()},t.prototype.getCollectionParents=function(e,n){var i=[],o=IDBKeyRange.bound([n,""],[xS(n),""],!1,!0);return iE(e).Nt(o).next(function(u){for(var a=0,l=u;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(Xr(f.parent))}return i})},t}();function iE(t){return Mn(t,To.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rr=function(){function t(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t,e,n){var i=t.store(ve.store),o=t.store(sn.store),u=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(_,S,N){return l++,N.delete()});u.push(f.next(function(){Ct(l===1)}));for(var d=[],v=0,g=n.mutations;v<g.length;v++){var m=g[v],b=sn.key(e,m.key.path,n.batchId);u.push(o.delete(b)),d.push(m.key)}return Y.waitFor(u).next(function(){return d})}function ff(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw mt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr.DEFAULT_COLLECTION_PERCENTILE=10,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rr.DEFAULT=new Rr(41943040,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rr.DISABLED=new Rr(-1,0,0);var vM=function(){function t(e,n,i,o){this.userId=e,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return t.Qt=function(e,n,i,o){return Ct(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,i,o)},t.prototype.checkEmpty=function(e){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gi(e).$t({index:ve.userMutationsIndex,range:i},function(o,u,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,i,o){var u=this,a=_s(e),l=gi(e);return l.add({}).next(function(f){Ct(typeof f=="number");for(var d=new Sm(f,n,i,o),v=function(O,P,U){var q=U.baseMutations.map(function(F){return lf(O.Lt,F)}),rt=U.mutations.map(function(F){return lf(O.Lt,F)});return new ve(P,U.batchId,U.localWriteTime.toMillis(),q,rt)}(u.R,u.userId,d),g=[],m=new He(function(O,P){return Ht(O.canonicalString(),P.canonicalString())}),b=0,_=o;b<_.length;b++){var S=_[b],N=sn.key(u.userId,S.key.path,f);m=m.add(S.key.path.popLast()),g.push(l.put(v)),g.push(a.put(N,sn.PLACEHOLDER))}return m.forEach(function(O){g.push(u.Ut.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(function(){u.Kt[f]=d.keys()}),Y.waitFor(g).next(function(){return d})})},t.prototype.lookupMutationBatch=function(e,n){var i=this;return gi(e).get(n).next(function(o){return o?(Ct(o.userId===i.userId),bs(i.R,o)):null})},t.prototype.jt=function(e,n){var i=this;return this.Kt[n]?Y.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(o){if(o){var u=o.keys();return i.Kt[n]=u,u}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),a=null;return gi(e).$t({index:ve.userMutationsIndex,range:u},function(l,f,d){f.userId===i.userId&&(Ct(f.batchId>=o),a=bs(i.R,f)),d.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return gi(e).$t({index:ve.userMutationsIndex,range:n,reverse:!0},function(o,u,a){i=u.batchId,a.done()}).next(function(){return i})},t.prototype.getAllMutationBatches=function(e){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gi(e).Nt(ve.userMutationsIndex,i).next(function(o){return o.map(function(u){return bs(n.R,u)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var i=this,o=sn.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),a=[];return _s(e).$t({range:u},function(l,f,d){var v=l[0],g=l[1],m=l[2],b=Xr(g);if(v===i.userId&&n.path.isEqual(b))return gi(e).get(m).next(function(_){if(!_)throw mt();Ct(_.userId===i.userId),a.push(bs(i.R,_))});d.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var i=this,o=new He(Ht),u=[];return n.forEach(function(a){var l=sn.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=_s(e).$t({range:f},function(v,g,m){var b=v[0],_=v[1],S=v[2],N=Xr(_);b===i.userId&&a.path.isEqual(N)?o=o.add(S):m.done()});u.push(d)}),Y.waitFor(u).next(function(){return i.Wt(e,o)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var i=this,o=n.path,u=o.length+1,a=sn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new He(Ht);return _s(e).$t({range:l},function(d,v,g){var m=d[0],b=d[1],_=d[2],S=Xr(b);m===i.userId&&o.isPrefixOf(S)?S.length===u&&(f=f.add(_)):g.done()}).next(function(){return i.Wt(e,f)})},t.prototype.Wt=function(e,n){var i=this,o=[],u=[];return n.forEach(function(a){u.push(gi(e).get(a).next(function(l){if(l===null)throw mt();Ct(l.userId===i.userId),o.push(bs(i.R,l))}))}),Y.waitFor(u).next(function(){return o})},t.prototype.removeMutationBatch=function(e,n){var i=this;return vA(e.Mt,this.userId,n).next(function(o){return e.addOnCommittedListener(function(){i.Gt(n.batchId)}),Y.forEach(o,function(u){return i.referenceDelegate.markPotentiallyOrphaned(e,u)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(i){if(!i)return Y.resolve();var o=IDBKeyRange.lowerBound(sn.prefixForUser(n.userId)),u=[];return _s(e).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=Xr(a[1]);u.push(d)}else f.done()}).next(function(){Ct(u.length===0)})})},t.prototype.containsKey=function(e,n){return gA(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return mA(e).get(this.userId).next(function(i){return i||new Ri(n.userId,-1,"")})},t}();function gA(t,e,n){var i=sn.prefixForPath(e,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),a=!1;return _s(t).$t({range:u,Ft:!0},function(l,f,d){var v=l[0],g=l[1];l[2],v===e&&g===o&&(a=!0),d.done()}).next(function(){return a})}function gi(t){return Mn(t,ve.store)}function _s(t){return Mn(t,sn.store)}function mA(t){return Mn(t,Ri.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hf=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),gM=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(i){var o=new hf(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(e,i).next(function(){return i.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return jt.fromTimestamp(new Rn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,i){var o=this;return this.Xt(e).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Zt(e,u)})},t.prototype.addTargetData=function(e,n){var i=this;return this.te(e,n).next(function(){return i.Xt(e).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(e,o)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var i=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return ms(e).delete(n.targetId)}).next(function(){return i.Xt(e)}).next(function(o){return Ct(o.targetCount>0),o.targetCount-=1,i.Zt(e,o)})},t.prototype.removeTargets=function(e,n,i){var o=this,u=0,a=[];return ms(e).$t(function(l,f){var d=oa(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(u++,a.push(o.removeTargetData(e,d)))}).next(function(){return Y.waitFor(a)}).next(function(){return u})},t.prototype.forEachTarget=function(e,n){return ms(e).$t(function(i,o){var u=oa(o);n(u)})},t.prototype.Xt=function(e){return sE(e).get(Kn.key).next(function(n){return Ct(n!==null),n})},t.prototype.Zt=function(e,n){return sE(e).put(Kn.key,n)},t.prototype.te=function(e,n){return ms(e).put(dA(this.R,n))},t.prototype.ee=function(e,n){var i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var i=ec(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return ms(e).$t({range:o,index:On.queryTargetsIndexName},function(a,l,f){var d=oa(l);Jf(n,d.target)&&(u=d,f.done())}).next(function(){return u})},t.prototype.addMatchingKeys=function(e,n,i){var o=this,u=[],a=Si(e);return n.forEach(function(l){var f=wr(l.path);u.push(a.put(new Ze(i,f))),u.push(o.referenceDelegate.addReference(e,i,l))}),Y.waitFor(u)},t.prototype.removeMatchingKeys=function(e,n,i){var o=this,u=Si(e);return Y.forEach(n,function(a){var l=wr(a.path);return Y.waitFor([u.delete([i,l]),o.referenceDelegate.removeReference(e,i,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var i=Si(e),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},t.prototype.getMatchingKeysForTargetId=function(e,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Si(e),u=de();return o.$t({range:i,Ft:!0},function(a,l,f){var d=Xr(a[1]),v=new wt(d);u=u.add(v)}).next(function(){return u})},t.prototype.containsKey=function(e,n){var i=wr(n.path),o=IDBKeyRange.bound([i],[xS(i)],!1,!0),u=0;return Si(e).$t({index:Ze.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(u++,f.done())}).next(function(){return u>0})},t.prototype.lt=function(e,n){return ms(e).get(n).next(function(i){return i?oa(i):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t){return Mn(t,On.store)}function sE(t){return Mn(t,Kn.store)}function Si(t){return Mn(t,Ze.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t){return z(this,void 0,void 0,function(){return $(this,function(e){if(t.code!==R.FAILED_PRECONDITION||t.message!==aA)throw t;return et("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t,e){var n=t[0],i=t[1],o=e[0],u=e[1],a=Ht(n,o);return a===0?Ht(i,u):a}var mM=function(){function t(e){this.ne=e,this.buffer=new He(uE),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();uE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),yM=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,i=this.oe?3e5:6e4;et("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return z(n,void 0,void 0,function(){var o;return $(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return Uo(o=u.sent())?(et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Bo(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return u.sent(),[2]}})})})},t}(),wM=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(i){return Math.floor(n/100*i)})},t.prototype.nthSequenceNumber=function(e,n){var i=this;if(n===0)return Y.resolve(Gn.o);var o=new mM(n);return this.ae.forEachTarget(e,function(u){return o.re(u.sequenceNumber)}).next(function(){return i.ae.le(e,function(u){return o.re(u)})}).next(function(){return o.maxValue})},t.prototype.removeTargets=function(e,n,i){return this.ae.removeTargets(e,n,i)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(oE)):this.getCacheSize(e).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),oE):i.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var i,o,u,a,l,f,d,v=this,g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(m){return m>v.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+v.params.maximumSequenceNumbersToCollect+" from "+m),o=v.params.maximumSequenceNumbersToCollect):o=m,a=Date.now(),v.nthSequenceNumber(e,o)}).next(function(m){return i=m,l=Date.now(),v.removeTargets(e,i,n)}).next(function(m){return u=m,f=Date.now(),v.removeOrphanedDocuments(e,i)}).next(function(m){return d=Date.now(),Wv()<=ee.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-g)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+u+" targets in "+(f-l)+`ms
	Removed `+m+" documents in "+(d-f)+`ms
Total Duration: `+(d-g)+"ms"),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:m})})},t}(),bM=function(){function t(e,n){this.db=e,this.garbageCollector=function(i,o){return new wM(i,o)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(i){return n.next(function(o){return i+o})})},t.prototype.de=function(e){var n=0;return this.le(e,function(i){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(i,o){return n(o)})},t.prototype.addReference=function(e,n,i){return Tl(e,i)},t.prototype.removeReference=function(e,n,i){return Tl(e,i)},t.prototype.removeTargets=function(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)},t.prototype.markPotentiallyOrphaned=function(e,n){return Tl(e,n)},t.prototype._e=function(e,n){return function(i,o){var u=!1;return mA(i).Ot(function(a){return gA(i,a,o).next(function(l){return l&&(u=!0),Y.resolve(!l)})}).next(function(){return u})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],a=0;return this.we(e,function(l,f){if(f<=n){var d=i._e(e,l).next(function(v){if(!v)return a++,o.getEntry(e,l).next(function(){return o.removeEntry(l),Si(e).delete([0,wr(l.path)])})});u.push(d)}}).next(function(){return Y.waitFor(u)}).next(function(){return o.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)},t.prototype.updateLimboDocument=function(e,n){return Tl(e,n)},t.prototype.we=function(e,n){var i,o=Si(e),u=Gn.o;return o.$t({index:Ze.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,v=l.sequenceNumber;f===0?(u!==Gn.o&&n(new wt(Xr(i)),u),u=v,i=d):u=Gn.o}).next(function(){u!==Gn.o&&n(new wt(Xr(i)),u)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function Tl(t,e){return Si(t).put(function(n,i){return new Ze(0,wr(n.path),i)}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cu=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];if(this.equalsFn(l,e))return f}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var i=this.mapKeyFn(e),o=this.inner[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n])}else this.inner[i]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},t.prototype.forEach=function(e){Vo(this.inner,function(n,i){for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];e(l,f)}})},t.prototype.isEmpty=function(){return OS(this.inner)},t}(),yA=function(){function t(){this.changes=new cu(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:jt.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:fn.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?Y.resolve(i.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),_M=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,i){return Ei(e).put(Sl(n),i)},t.prototype.removeEntry=function(e,n){var i=Ei(e),o=Sl(n);return i.delete(o)},t.prototype.updateMetadata=function(e,n){var i=this;return this.getMetadata(e).next(function(o){return o.byteSize+=n,i.me(e,o)})},t.prototype.getEntry=function(e,n){var i=this;return Ei(e).get(Sl(n)).next(function(o){return i.ye(n,o)})},t.prototype.ge=function(e,n){var i=this;return Ei(e).get(Sl(n)).next(function(o){return{document:i.ye(n,o),size:ff(o)}})},t.prototype.getEntries=function(e,n){var i=this,o=yr();return this.pe(e,n,function(u,a){var l=i.ye(u,a);o=o.insert(u,l)}).next(function(){return o})},t.prototype.Ee=function(e,n){var i=this,o=yr(),u=new hn(wt.comparator);return this.pe(e,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),u=u.insert(a,ff(l))}).next(function(){return{documents:o,Te:u}})},t.prototype.pe=function(e,n,i){if(n.isEmpty())return Y.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),a=u.getNext();return Ei(e).$t({range:o},function(l,f,d){for(var v=wt.fromSegments(l);a&&wt.comparator(a,v)<0;)i(a,null),a=u.getNext();a&&a.isEqual(v)&&(i(a,f),a=u.hasNext()?u.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=u.hasNext()?u.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,i){var o=this,u=yr(),a=n.path.length+1,l={};if(i.isEqual(jt.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),v=Am(i);l.range=IDBKeyRange.lowerBound([d,v],!0),l.index=Ne.collectionReadTimeIndex}return Ei(e).$t(l,function(g,m,b){if(g.length===a){var _=eg(o.R,m);n.path.isPrefixOf(_.key.path)?ic(n,_)&&(u=u.insert(_.key,_)):b.done()}}).next(function(){return u})},t.prototype.newChangeBuffer=function(e){return new EM(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return aE(e).get(Lr.key).next(function(n){return Ct(!!n),n})},t.prototype.me=function(e,n){return aE(e).put(Lr.key,n)},t.prototype.ye=function(e,n){if(n){var i=eg(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(jt.min()))return i}return fn.newInvalidDocument(e)},t}(),EM=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new cu(function(u){return u.toString()},function(u,a){return u.isEqual(a)}),o}return St(e,t),e.prototype.applyChanges=function(n){var i=this,o=[],u=0,a=new He(function(l,f){return Ht(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var v=eE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var g=ff(v);u+=g-d,o.push(i.Ie.addEntry(n,l,v))}else if(u-=d,i.trackRemovals){var m=eE(i.Ie.R,fn.newNoDocument(l,jt.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,m))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,u)),Y.waitFor(o)},e.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(u){return o.Ae.set(i,u.size),u.document})},e.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(u){var a=u.documents;return u.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},e}(yA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){return Mn(t,Lr.store)}function Ei(t){return Mn(t,Ne.store)}function Sl(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IM=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,i,o){var u=this;Ct(i<o&&i>=0&&o<=11);var a=new lA("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore($n.store)}(e),function(f){f.createObjectStore(Ri.store,{keyPath:Ri.keyPath}),f.createObjectStore(ve.store,{keyPath:ve.keyPath,autoIncrement:!0}).createIndex(ve.userMutationsIndex,ve.userMutationsKeyPath,{unique:!0}),f.createObjectStore(sn.store)}(e),cE(e),function(f){f.createObjectStore(Ne.store)}(e));var l=Y.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(Ze.store),f.deleteObjectStore(On.store),f.deleteObjectStore(Kn.store)}(e),cE(e)),l=l.next(function(){return function(f){var d=f.store(Kn.store),v=new Kn(0,0,jt.min().toTimestamp(),0);return d.put(Kn.key,v)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(ve.store).Nt().next(function(v){f.deleteObjectStore(ve.store),f.createObjectStore(ve.store,{keyPath:ve.keyPath,autoIncrement:!0}).createIndex(ve.userMutationsIndex,ve.userMutationsKeyPath,{unique:!0});var g=d.store(ve.store),m=v.map(function(b){return g.put(b)});return Y.waitFor(m)})}(e,a)})),l=l.next(function(){(function(f){f.createObjectStore(Zr.store,{keyPath:Zr.keyPath})})(e)})),i<5&&o>=5&&(l=l.next(function(){return u.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Lr.store)}(e),u.be(a)})),i<7&&o>=7&&(l=l.next(function(){return u.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return u.Pe(e,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e),function(f){var d=f.objectStore(Ne.store);d.createIndex(Ne.readTimeIndex,Ne.readTimeIndexPath,{unique:!1}),d.createIndex(Ne.collectionReadTimeIndex,Ne.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return u.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(Hs.store,{keyPath:Hs.keyPath})})(e),function(f){f.createObjectStore(zs.store,{keyPath:zs.keyPath})}(e)})),l},t.prototype.be=function(e){var n=0;return e.store(Ne.store).$t(function(i,o){n+=ff(o)}).next(function(){var i=new Lr(n);return e.store(Lr.store).put(Lr.key,i)})},t.prototype.Re=function(e){var n=this,i=e.store(Ri.store),o=e.store(ve.store);return i.Nt().next(function(u){return Y.forEach(u,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(ve.userMutationsIndex,l).next(function(f){return Y.forEach(f,function(d){Ct(d.userId===a.userId);var v=bs(n.R,d);return vA(e,a.userId,v).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Ze.store),i=e.store(Ne.store);return e.store(Kn.store).get(Kn.key).next(function(o){var u=[];return i.$t(function(a,l){var f=new re(a),d=function(v){return[0,wr(v)]}(f);u.push(n.get(d).next(function(v){return v?Y.resolve():function(g){return n.put(new Ze(0,wr(g),o.highestListenSequenceNumber))}(f)}))}).next(function(){return Y.waitFor(u)})})},t.prototype.Pe=function(e,n){e.createObjectStore(To.store,{keyPath:To.keyPath});var i=n.store(To.store),o=new Nm,u=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:wr(f)})}};return n.store(Ne.store).$t({Ft:!0},function(a,l){var f=new re(a);return u(f.popLast())}).next(function(){return n.store(sn.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=Xr(f);return u(d.popLast())})})},t.prototype.Ve=function(e){var n=this,i=e.store(On.store);return i.$t(function(o,u){var a=oa(u),l=dA(n.R,a);return i.put(l)})},t}();function cE(t){t.createObjectStore(Ze.store,{keyPath:Ze.keyPath}).createIndex(Ze.documentTargetsIndex,Ze.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(On.store,{keyPath:On.keyPath}).createIndex(On.queryTargetsIndexName,On.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Kn.store)}var cv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",TM=function(){function t(e,n,i,o,u,a,l,f,d,v){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Se=u,this.window=a,this.document=l,this.De=d,this.Ce=v,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(g){return Promise.resolve()},!t.yt())throw new G(R.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bM(this,o),this.Le=n+"main",this.R=new fA(f),this.Be=new Gs(this.Le,11,new IM(this.R)),this.qe=new gM(this.referenceDelegate,this.R),this.Ut=new pM,this.Ue=function(g,m){return new _M(g,m)}(this.R,this.Ut),this.Ke=new hM,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,v===!1&&Fe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new G(R.FAILED_PRECONDITION,cv);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new Gn(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(i){return z(n,void 0,void 0,function(){return $(this,function(o){return this.started?[2,e(i)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(i){return z(n,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,e()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return z(n,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Al(n).put(new Zr(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(i){i||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(i){return e.isPrimary&&!i?e.Xe(n).next(function(){return!1}):!!i&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(Uo(n))return et("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return ta(e).get($n.key).next(function(i){return Y.resolve(n.tn(i))})},t.prototype.en=function(e){return Al(e).delete(this.clientId)},t.prototype.nn=function(){return z(this,void 0,void 0,function(){var e,n,i,o,u=this;return $(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Mn(l,Zr.store);return f.Nt().next(function(d){var v=u.rn(d,18e5),g=d.filter(function(m){return v.indexOf(m)===-1});return Y.forEach(g,function(m){return f.delete(m.clientId)}).next(function(){return g})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(n=0,i=e;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?Y.resolve(!0):ta(e).get($n.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new G(R.FAILED_PRECONDITION,cv);return!1}}return!(!n.networkEnabled||!n.inForeground)||Al(e).Nt().next(function(o){return n.rn(o,5e3).find(function(u){if(n.clientId!==u.clientId){var a=!n.networkEnabled&&u.networkEnabled,l=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&et("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},t.prototype.shutdown=function(){return z(this,void 0,void 0,function(){var e=this;return $(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[$n.store,Zr.store],function(i){var o=new tE(i,Gn.o);return e.Xe(o).next(function(){return e.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var i=this;return e.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return Al(n).Nt().next(function(i){return e.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return vM.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,i){var o=this;et("IndexedDbPersistence","Starting transaction:",e);var u,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,aM,function(l){return u=new tE(l,o.Ne?o.Ne.next():Gn.o),n==="readwrite-primary"?o.Je(u).next(function(f){return!!f||o.Ye(u)}).next(function(f){if(!f)throw Fe("Failed to obtain primary lease for action '"+e+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new G(R.FAILED_PRECONDITION,aA);return i(u)}).next(function(f){return o.Ze(u).next(function(){return f})}):o.dn(u).next(function(){return i(u)})}).then(function(l){return u.raiseOnCommittedEvent(),l})},t.prototype.dn=function(e){var n=this;return ta(e).get($n.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new G(R.FAILED_PRECONDITION,cv)})},t.prototype.Ze=function(e){var n=new $n(this.clientId,this.allowTabSynchronization,Date.now());return ta(e).put($n.key,n)},t.yt=function(){return Gs.yt()},t.prototype.Xe=function(e){var n=this,i=ta(e);return i.get($n.key).next(function(o){return n.tn(o)?(et("IndexedDbPersistence","Releasing primary lease."),i.delete($n.key)):Y.resolve()})},t.prototype.sn=function(e,n){var i=Date.now();return!(e<i-n||e>i&&(Fe("Detected an update time that is in the future: "+e+" > "+i),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){n.un(),CD()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return et("IndexedDbPersistence","Client '"+e+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Fe("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Fe("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function ta(t){return Mn(t,$n.store)}function Al(t){return Mn(t,Zr.store)}function km(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var wA=function(){function t(e,n,i){this.Ue=e,this._n=n,this.Ut=i}return t.prototype.mn=function(e,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(o){return i.yn(e,n,o)})},t.prototype.yn=function(e,n,i){return this.Ue.getEntry(e,n).next(function(o){for(var u=0,a=i;u<a.length;u++)a[u].applyToLocalView(o);return o})},t.prototype.gn=function(e,n){e.forEach(function(i,o){for(var u=0,a=n;u<a.length;u++)a[u].applyToLocalView(o)})},t.prototype.pn=function(e,n){var i=this;return this.Ue.getEntries(e,n).next(function(o){return i.En(e,o).next(function(){return o})})},t.prototype.En=function(e,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(o){return i.gn(n,o)})},t.prototype.getDocumentsMatchingQuery=function(e,n,i){return function(o){return wt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(e,n.path):wm(n)?this.In(e,n,i):this.An(e,n,i)},t.prototype.Tn=function(e,n){return this.mn(e,new wt(n)).next(function(i){var o=Zv();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},t.prototype.In=function(e,n,i){var o=this,u=n.collectionGroup,a=Zv();return this.Ut.getCollectionParents(e,u).next(function(l){return Y.forEach(l,function(f){var d=function(v,g){return new ii(g,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(u));return o.An(e,d,i).next(function(v){v.forEach(function(g,m){a=a.insert(g,m)})})}).next(function(){return a})})},t.prototype.An=function(e,n,i){var o,u,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(l){return u=l,a.Rn(e,u,o).next(function(f){o=f;for(var d=0,v=u;d<v.length;d++)for(var g=v[d],m=0,b=g.mutations;m<b.length;m++){var _=b[m],S=_.key,N=o.get(S);N==null&&(N=fn.newInvalidDocument(S),o=o.insert(S,N)),Jv(_,N,g.localWriteTime),N.isFoundDocument()||(o=o.remove(S))}})}).next(function(){return o.forEach(function(l,f){ic(n,f)||(o=o.remove(l))}),o})},t.prototype.Rn=function(e,n,i){for(var o=de(),u=0,a=n;u<a.length;u++)for(var l=0,f=a[u].mutations;l<f.length;l++){var d=f[l];d instanceof ji&&i.get(d.key)===null&&(o=o.add(d.key))}var v=i;return this.Ue.getEntries(e,o).next(function(g){return g.forEach(function(m,b){b.isFoundDocument()&&(v=v.insert(m,b))}),v})},t}(),SM=function(){function t(e,n,i,o){this.targetId=e,this.fromCache=n,this.bn=i,this.vn=o}return t.Pn=function(e,n){for(var i=de(),o=de(),u=0,a=n.docChanges;u<a.length;u++){var l=a[u];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new t(e,n.fromCache,i,o)},t}(),bA=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,i,o){var u=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(jt.min())?this.Dn(e,n):this.Sn.pn(e,o).next(function(a){var l=u.Cn(n,a);return(Ml(n)||cf(n))&&u.Nn(n.limitType,l,o,i)?u.Dn(e,n):(Wv()<=ee.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yv(n)),u.Sn.getDocumentsMatchingQuery(e,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},t.prototype.Cn=function(e,n){var i=new He(US(e));return n.forEach(function(o,u){ic(e,u)&&(i=i.add(u))}),i},t.prototype.Nn=function(e,n,i,o){if(i.size!==n.size)return!0;var u=e==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)},t.prototype.Dn=function(e,n){return Wv()<=ee.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",Yv(n)),this.Sn.getDocumentsMatchingQuery(e,n,jt.min())},t}(),AM=function(){function t(e,n,i,o){this.persistence=e,this.xn=n,this.R=o,this.kn=new hn(Ht),this.Fn=new cu(function(u){return ec(u)},Jf),this.$n=jt.min(),this._n=e.getMutationQueue(i),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new wA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return e.collect(i,n.kn)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,e,n,i){return new AM(t,e,n,i)}function EA(t,e){return z(this,void 0,void 0,function(){var n,i,o,u;return $(this,function(a){switch(a.label){case 0:return n=ot(t),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(e),o=new wA(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var v=[],g=[],m=de(),b=0,_=f;b<_.length;b++){var S=_[b];v.push(S.batchId);for(var N=0,O=S.mutations;N<O.length;N++){var P=O[N];m=m.add(P.key)}}for(var U=0,q=d;U<q.length;U++){var rt=q[U];g.push(rt.batchId);for(var F=0,Et=rt.mutations;F<Et.length;F++){var W=Et[F];m=m.add(W.key)}}return o.pn(l,m).next(function(ht){return{Ln:ht,removedBatchIds:v,addedBatchIds:g}})})})];case 1:return u=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),u)]}})})}function NM(t,e){var n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=e.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var v=f.batch,g=v.keys(),m=Y.resolve();return g.forEach(function(b){m=m.next(function(){return d.getEntry(l,b)}).next(function(_){var S=f.docVersions.get(b);Ct(S!==null),_.version.compareTo(S)<0&&(v.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,v)})}(n,i,e,u).next(function(){return u.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function IA(t){var e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function kM(t,e){var n=ot(t),i=e.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];e.targetChanges.forEach(function(v,g){var m=o.get(g);if(m){l.push(n.qe.removeMatchingKeys(u,v.removedDocuments,g).next(function(){return n.qe.addMatchingKeys(u,v.addedDocuments,g)}));var b=v.resumeToken;if(b.approximateByteSize()>0){var _=m.withResumeToken(b,i).withSequenceNumber(u.currentSequenceNumber);o=o.insert(g,_),function(S,N,O){return Ct(N.resumeToken.approximateByteSize()>0),S.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8||O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,_,v)&&l.push(n.qe.updateTargetData(u,_))}}});var f=yr();if(e.documentUpdates.forEach(function(v,g){e.resolvedLimboDocuments.has(v)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),l.push(CM(u,a,e.documentUpdates,i,void 0).next(function(v){f=v})),!i.isEqual(jt.min())){var d=n.qe.getLastRemoteSnapshotVersion(u).next(function(v){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});l.push(d)}return Y.waitFor(l).next(function(){return a.apply(u)}).next(function(){return n.Mn.En(u,f)}).next(function(){return f})}).then(function(u){return n.kn=o,u})}function CM(t,e,n,i,o){var u=de();return n.forEach(function(a){return u=u.add(a)}),e.getEntries(t,u).next(function(a){var l=yr();return n.forEach(function(f,d){var v=a.get(f),g=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual(jt.min())?(e.removeEntry(f,g),l=l.insert(f,d)):!v.isValidDocument()||d.version.compareTo(v.version)>0||d.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(d,g),l=l.insert(f,d)):et("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",d.version)}),l})}function xM(t,e){var n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(i,e)})}function df(t,e){var n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,e).next(function(u){return u?(o=u,Y.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new nh(e,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(e,i.targetId)),i})}function Xs(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:i=ot(t),o=i.kn.get(e),u=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Uo(a=l.sent()))throw a;return et("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.kn=i.kn.remove(e),i.Fn.delete(o.target),[2]}})})}function pf(t,e,n){var i=ot(t),o=jt.min(),u=de();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var v=ot(l),g=v.Fn.get(d);return g!==void 0?Y.resolve(v.kn.get(g)):v.qe.getTargetData(f,d)}(i,a,Br(e)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){u=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,e,n?o:jt.min(),n?u:de())}).next(function(l){return{documents:l,Bn:u}})})}function TA(t,e){var n=ot(t),i=ot(n.qe),o=n.kn.get(e);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,e).next(function(a){return a?a.target:null})})}function SA(t){var e=ot(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var a=ot(i),l=yr(),f=Am(u),d=Ei(o),v=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Ne.readTimeIndex,range:v},function(g,m){var b=eg(a.R,m);l=l.insert(b.key,b),f=m.readTime}).next(function(){return{wn:l,readTime:hA(f)}})}(e.On,n,e.$n)}).then(function(n){var i=n.wn,o=n.readTime;return e.$n=o,i})}function OM(t){return z(this,void 0,void 0,function(){var e;return $(this,function(n){return[2,(e=ot(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=Ei(o),a=jt.min();return u.$t({index:Ne.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=hA(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){e.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RM=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return Y.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:In(i.createTime)}),Y.resolve()},t.prototype.getNamedQuery=function(e,n){return Y.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(i){return{name:i.name,query:pA(i.bundledQuery),readTime:In(i.readTime)}}(n)),Y.resolve()},t}(),Cm=function(){function t(){this.Wn=new He(Ge.Gn),this.zn=new He(Ge.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var i=new Ge(e,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},t.prototype.Jn=function(e,n){var i=this;e.forEach(function(o){return i.addReference(o,n)})},t.prototype.removeReference=function(e,n){this.Yn(new Ge(e,n))},t.prototype.Xn=function(e,n){var i=this;e.forEach(function(o){return i.removeReference(o,n)})},t.prototype.Zn=function(e){var n=this,i=new wt(new re([])),o=new Ge(i,e),u=new Ge(i,e+1),a=[];return this.zn.forEachInRange([o,u],function(l){n.Yn(l),a.push(l.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new wt(new re([])),i=new Ge(n,e),o=new Ge(n,e+1),u=de();return this.zn.forEachInRange([i,o],function(a){u=u.add(a.key)}),u},t.prototype.containsKey=function(e){var n=new Ge(e,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)},t}(),Ge=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return wt.comparator(e.key,n.key)||Ht(e.ns,n.ns)},t.Hn=function(e,n){return Ht(e.ns,n.ns)||wt.comparator(e.key,n.key)},t}(),DM=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new He(Ge.Gn)}return t.prototype.checkEmpty=function(e){return Y.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,i,o){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Sm(u,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new Ge(d.key,u)),this.Ut.addToCollectionParentIndex(e,d.key.path.popLast())}return Y.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return Y.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var i=n+1,o=this.cs(i),u=o<0?0:o;return Y.resolve(this._n.length>u?this._n[u]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Y.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return Y.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var i=this,o=new Ge(n,0),u=new Ge(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,u],function(l){var f=i.os(l.ns);a.push(f)}),Y.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var i=this,o=new He(Ht);return n.forEach(function(u){var a=new Ge(u,0),l=new Ge(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),Y.resolve(this.us(o))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var i=n.path,o=i.length+1,u=i;wt.isDocumentKey(u)||(u=u.child(""));var a=new Ge(new wt(u),0),l=new He(Ht);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),Y.resolve(this.us(l))},t.prototype.us=function(e){var n=this,i=[];return e.forEach(function(o){var u=n.os(o);u!==null&&i.push(u)}),i},t.prototype.removeMutationBatch=function(e,n){var i=this;Ct(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return Y.forEach(n.mutations,function(u){var a=new Ge(u.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(function(){i.rs=o})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var i=new Ge(n,0),o=this.rs.firstAfterOrEqual(i);return Y.resolve(n.isEqual(o&&o.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,Y.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),PM=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new hn(wt.comparator),this.size=0}return t.prototype.addEntry=function(e,n,i){var o=n.key,u=this.docs.get(o),a=u?u.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(e,o.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var i=this.docs.get(n);return Y.resolve(i?i.document.clone():fn.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var i=this,o=yr();return n.forEach(function(u){var a=i.docs.get(u);o=o.insert(u,a?a.document.clone():fn.newInvalidDocument(u))}),Y.resolve(o)},t.prototype.getDocumentsMatchingQuery=function(e,n,i){for(var o=yr(),u=new wt(n.path.child("")),a=this.docs.getIteratorFrom(u);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,v=d.document,g=d.readTime;if(!n.path.isPrefixOf(f.path))break;g.compareTo(i)<=0||ic(n,v)&&(o=o.insert(v.key,v.clone()))}return Y.resolve(o)},t.prototype.fs=function(e,n){return Y.forEach(this.docs,function(i){return n(i)})},t.prototype.newChangeBuffer=function(e){return new LM(this)},t.prototype.getSize=function(e){return Y.resolve(this.size)},t}(),LM=function(t){function e(n){var i=this;return(i=t.call(this)||this).Ie=n,i}return St(e,t),e.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(u,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),Y.waitFor(o)},e.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},e.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},e}(yA),MM=function(){function t(e){this.persistence=e,this.ds=new cu(function(n){return ec(n)},Jf),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.ws=0,this._s=new Cm,this.targetCount=0,this.ys=hf.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(i,o){return n(o)}),Y.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return Y.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return Y.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Y.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),Y.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new hf(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,Y.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),Y.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,Y.resolve()},t.prototype.removeTargets=function(e,n,i){var o=this,u=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(e,f.targetId)),u++)}),Y.waitFor(a).next(function(){return u})},t.prototype.getTargetCount=function(e){return Y.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var i=this.ds.get(n)||null;return Y.resolve(i)},t.prototype.addMatchingKeys=function(e,n,i){return this._s.Jn(n,i),Y.resolve()},t.prototype.removeMatchingKeys=function(e,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(function(a){u.push(o.markPotentiallyOrphaned(e,a))}),Y.waitFor(u)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),Y.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var i=this._s.es(n);return Y.resolve(i)},t.prototype.containsKey=function(e,n){return Y.resolve(this._s.containsKey(n))},t}(),FM=function(){function t(e,n){var i=this;this.gs={},this.Ne=new Gn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new MM(this),this.Ut=new dM,this.Ue=function(o,u){return new PM(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new fA(n),this.Ke=new RM(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new DM(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,i){var o=this;et("MemoryPersistence","Starting transaction:",e);var u=new VM(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(a){return o.referenceDelegate.Ts(u).next(function(){return a})}).toPromise().then(function(a){return u.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return Y.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(e,n)}}))},t}(),VM=function(t){function e(n){var i=this;return(i=t.call(this)||this).currentSequenceNumber=n,i}return St(e,t),e}(cA),jM=function(){function t(e){this.persistence=e,this.As=new Cm,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw mt()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),Y.resolve()},t.prototype.removeReference=function(e,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),Y.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),Y.resolve()},t.prototype.removeTarget=function(e,n){var i=this;this.As.Zn(n.targetId).forEach(function(u){return i.vs.add(u.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(function(u){u.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.vs,function(o){var u=wt.fromPath(o);return n.Ps(e,u).next(function(a){a||i.removeEntry(u)})}).next(function(){return n.Rs=null,i.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var i=this;return this.Ps(e,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var i=this;return Y.or([function(){return Y.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(e,n)},function(){return i.persistence.Is(e,n)}])},t}(),Ye=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t,e){return"firestore_clients_"+t+"_"+e}function fE(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}function lv(t,e){return"firestore_targets_"+t+"_"+e}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");var hE=function(){function t(e,n,i,o){this.user=e,this.batchId=n,this.state=i,this.error=o}return t.Vs=function(e,n,i){var o,u=JSON.parse(i),a=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return a&&u.error&&(a=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(o=new G(u.error.code,u.error.message)),a?new t(e,n,u.state,o):(Fe("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),fv=function(){function t(e,n,i){this.targetId=e,this.state=n,this.error=i}return t.Vs=function(e,n){var i,o=JSON.parse(n),u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new G(o.error.code,o.error.message)),u?new t(e,o.state,i):(Fe("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),dE=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=eh(),a=0;o&&a<i.activeTargetIds.length;++a)o=PS(i.activeTargetIds[a]),u=u.add(i.activeTargetIds[a]);return o?new t(e,u):(Fe("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),UM=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Fe("SharedClientState","Failed to parse online state: "+e),null)},t}(),ng=function(){function t(){this.activeTargetIds=eh()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),hv=function(){function t(e,n,i,o,u){this.window=e,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new hn(Ht),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=lE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new ng),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return z(this,void 0,void 0,function(){var e,n,i,o,u,a,l,f,d,v,g,m=this;return $(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=b.sent(),n=0,i=e;n<i.length;n++)(o=i[n])!==this.Ns&&(u=this.getItem(lE(this.persistenceKey,o)))&&(a=dE.Vs(o,u))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,v=this.$s;d<v.length;d++)g=v[d],this.ks(g);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,i){this.zs(e,n,i),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var i=this.storage.getItem(lv(this.persistenceKey,e));if(i){var o=fv.Vs(e,i);o&&(n=o.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(lv(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,i){this.Ys(e,n,i)},t.prototype.handleUserChange=function(e,n,i){var o=this;n.forEach(function(u){o.Hs(u)}),this.currentUser=e,i.forEach(function(u){o.addPendingMutation(u)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return et("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){et("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){et("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,i=e;if(i.storageArea===this.storage){if(et("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Fe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return z(n,void 0,void 0,function(){var o,u,a,l,f,d;return $(this,function(v){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(g){var m=Gn.o;if(g!=null)try{var b=JSON.parse(g);Ct(typeof b=="number"),m=b}catch(_){Fe("SharedClientState","Failed to read sequence number from WebStorage",_)}return m}(i.newValue))!==Gn.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,i){var o=new hE(this.currentUser,e,n,i),u=fE(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Ss())},t.prototype.Hs=function(e){var n=fE(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,i){var o=lv(this.persistenceKey,e),u=new fv(e,n,i);this.setItem(o,u.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var i=this.ti(e);return dE.Vs(i,n)},t.prototype.si=function(e,n){var i=this.Bs.exec(e),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return hE.Vs(new Ye(u),o,n)},t.prototype.ri=function(e,n){var i=this.qs.exec(e),o=Number(i[1]);return fv.Vs(o,n)},t.prototype.js=function(e){return UM.Vs(e)},t.prototype.ii=function(e){return z(this,void 0,void 0,function(){return $(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(et("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var i=this,o=n?this.Fs.insert(e,n):this.Fs.remove(e),u=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){u.has(d)||l.push(d)}),u.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=eh();return e.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},t}(),AA=function(){function t(){this.li=new ng,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,i){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,i){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new ng,Promise.resolve()},t.prototype.handleUserChange=function(e,n,i){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),BM=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),pE=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),qM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},$M=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),KM=function(t){function e(n){var i=this;return(i=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return St(e,t),e.prototype.Fi=function(n,i,o,u){return new Promise(function(a,l){var f=new bL;f.listenOnce(mL.COMPLETE,function(){try{switch(f.getLastErrorCode()){case av.NO_ERROR:var v=f.getResponseJson();et("Connection","XHR received:",JSON.stringify(v)),a(v);break;case av.TIMEOUT:et("Connection",'RPC "'+n+'" timed out'),l(new G(R.DEADLINE_EXCEEDED,"Request time out"));break;case av.HTTP_ERROR:var g=f.getStatus();if(et("Connection",'RPC "'+n+'" failed with status:',g,"response text:",f.getResponseText()),g>0){var m=f.getResponseJson().error;if(m&&m.status&&m.message){var b=function(_){var S=_.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(S)>=0?S:R.UNKNOWN}(m.status);l(new G(b,m.message))}else l(new G(R.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new G(R.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{et("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(u);f.send(i,"POST",d,o,15)})},e.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=vL(),a=gL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new wL({})),this.ki(l.initMessageHeaders,i),ED()||SD()||AD()||ND()||kD()||TD()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");et("Connection","Creating WebChannel: "+f,l);var d=u.createWebChannel(f,l),v=!1,g=!1,m=new $M({Ei:function(_){g?et("Connection","Not sending because WebChannel is closed:",_):(v||(et("Connection","Opening WebChannel transport."),d.open(),v=!0),et("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),b=function(_,S,N){_.listen(S,function(O){try{N(O)}catch(P){setTimeout(function(){throw P},0)}})};return b(d,El.EventType.OPEN,function(){g||et("Connection","WebChannel transport opened.")}),b(d,El.EventType.CLOSE,function(){g||(g=!0,et("Connection","WebChannel transport closed"),m.Vi())}),b(d,El.EventType.ERROR,function(_){g||(g=!0,rf("Connection","WebChannel transport errored:",_),m.Vi(new G(R.UNAVAILABLE,"The operation could not be completed")))}),b(d,El.EventType.MESSAGE,function(_){var S;if(!g){var N=_.data[0];Ct(!!N);var O=N,P=O.error||((S=O[0])===null||S===void 0?void 0:S.error);if(P){et("Connection","WebChannel received error:",P);var U=P.status,q=function(F){var Et=Le[F];if(Et!==void 0)return XS(Et)}(U),rt=P.message;q===void 0&&(q=R.INTERNAL,rt="Unknown error status: "+U+" with message "+P.message),g=!0,m.Vi(new G(q,rt)),d.close()}else et("Connection","WebChannel received:",N),m.Si(N)}}),b(a,yL.STAT_EVENT,function(_){_.stat===O_.PROXY?et("Connection","Detected buffering proxy"):_.stat===O_.NOPROXY&&et("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,i,o){var u=this.xi(e,n);et("RestConnection","Sending: ",u,i);var a={};return this.ki(a,o),this.Fi(e,u,a,i).then(function(l){return et("RestConnection","Received: ",l),l},function(l){throw rf("RestConnection",e+" failed with error: ",l,"url: ",u,"request:",i),l})},t.prototype.$i=function(e,n,i,o){return this.Ni(e,n,i,o)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(e[i]=n.authHeaders[i])},t.prototype.xi=function(e,n){var i=qM[e];return this.Di+"/v1/"+n+":"+i},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return typeof window<"u"?window:null}function jl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){return new XL(t,!0)}var xm=function(){function t(e,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.Se=e,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-o);u>0&&et("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),kA=function(){function t(e,n,i,o,u,a){this.Se=e,this.zi=i,this.Hi=o,this.Ji=u,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new xm(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return z(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return z(this,void 0,void 0,function(){return $(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return z(this,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Fe(n.toString()),Fe("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===R.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){e.Yi===i&&e.lr(o)},function(o){n(function(){var u=new G(R.UNKNOWN,"Fetching auth token failed: "+o.message);return e.dr(u)})})},t.prototype.lr=function(e){var n=this,i=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return z(e,void 0,void 0,function(){return $(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return et("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===e?i():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),HM=function(t){function e(n,i,o,u,a){var l=this;return(l=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=u,l}return St(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var i=function(u,a){var l;if("targetChange"in a){a.targetChange;var f=function(N){return N==="NO_CHANGE"?0:N==="ADD"?1:N==="REMOVE"?2:N==="CURRENT"?3:N==="RESET"?4:mt()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],v=function(N,O){return N.I?(Ct(O===void 0||typeof O=="string"),Pn.fromBase64String(O||"")):(Ct(O===void 0||O instanceof Uint8Array),Pn.fromUint8Array(O||new Uint8Array))}(u,a.targetChange.resumeToken),g=(m=a.targetChange.cause)&&function(N){var O=N.code===void 0?R.UNKNOWN:XS(N.code);return new G(O,N.message||"")}(m);l=new JS(f,d,v,g||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=Jr(u,f.document.name),v=In(f.document.updateTime);var m=new Hn({mapValue:{fields:f.document.fields}}),b=(g=fn.newFoundDocument(d,v,m),f.targetIds||[]),_=f.removedTargetIds||[];l=new Vl(b,_,g.key,g)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=Jr(u,f.document),v=f.readTime?In(f.readTime):jt.min(),m=fn.newNoDocument(d,v),g=f.removedTargetIds||[],l=new Vl([],g,m.key,m);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=Jr(u,f.document),v=f.removedTargetIds||[],l=new Vl([],v,d,null);else{if(!("filter"in a))return mt();a.filter;var S=a.filter;S.targetId,f=S.count||0,d=new UL(f),v=S.targetId,l=new YS(v,d)}return l}(this.R,n),o=function(u){if(!("targetChange"in u))return jt.min();var a=u.targetChange;return a.targetIds&&a.targetIds.length?jt.min():a.readTime?In(a.readTime):jt.min()}(n);return this.listener._r(i,o)},e.prototype.mr=function(n){var i={};i.database=Fa(this.R),i.addTarget=function(u,a){var l,f=a.target;return(l=uf(f)?{documents:rA(u,f)}:{query:iA(u,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=ZS(u,a.resumeToken):a.snapshotVersion.compareTo(jt.min())>0&&(l.readTime=La(u,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(u,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mt()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},e.prototype.yr=function(n){var i={};i.database=Fa(this.R),i.removeTarget=n,this.cr(i)},e}(kA),zM=function(t){function e(n,i,o,u,a){var l=this;return(l=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=u,l.gr=!1,l}return St(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(Ct(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(u,a){return u&&u.length>0?(Ct(a!==void 0),u.map(function(l){return function(f,d){var v=f.updateTime?In(f.updateTime):In(d);return v.isEqual(jt.min())&&(v=In(d)),new FL(v,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=In(n.commitTime);return this.listener.Tr(o,i)}return Ct(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=Fa(this.R),this.cr(n)},e.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return lf(i.R,u)})};this.cr(o)},e}(kA),GM=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).credentials=n,u.Hi=i,u.R=o,u.Rr=!1,u}return St(e,t),e.prototype.br=function(){if(this.Rr)throw new G(R.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===R.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new G(R.UNKNOWN,a.toString())})},e.prototype.$i=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===R.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new G(R.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),WM=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Fe(n),this.Vr=!1):et("OnlineStateTracker",n)},t.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),QM=function(t,e,n,i,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return z(u,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return Ui(this)?(et("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return z(this,void 0,void 0,function(){var d;return $(this,function(v){switch(v.label){case 0:return(d=ot(f)).Or.add(4),[4,lu(d)];case 1:return v.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,ac(d)];case 2:return v.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new WM(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){return z(this,void 0,void 0,function(){var e,n;return $(this,function(i){switch(i.label){case 0:if(!Ui(t))return[3,4];e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function lu(t){return z(this,void 0,void 0,function(){var e,n;return $(this,function(i){switch(i.label){case 0:e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ih(t,e){var n=ot(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Dm(n)?Rm(n):hu(n).er()&&Om(n,e))}function Va(t,e){var n=ot(t),i=hu(n);n.$r.delete(e),i.er()&&CA(n,e),n.$r.size===0&&(i.er()?i.ir():Ui(n)&&n.Br.set("Unknown"))}function Om(t,e){t.qr.U(e.targetId),hu(t).mr(e)}function CA(t,e){t.qr.U(e),hu(t).yr(e)}function Rm(t){t.qr=new GL({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),hu(t).start(),t.Br.Sr()}function Dm(t){return Ui(t)&&!hu(t).tr()&&t.$r.size>0}function Ui(t){return ot(t).Or.size===0}function xA(t){t.qr=void 0}function XM(t){return z(this,void 0,void 0,function(){return $(this,function(e){return t.$r.forEach(function(n,i){Om(t,n)}),[2]})})}function YM(t,e){return z(this,void 0,void 0,function(){return $(this,function(n){return xA(t),Dm(t)?(t.Br.Nr(e),Rm(t)):t.Br.set("Unknown"),[2]})})}function JM(t,e,n){return z(this,void 0,void 0,function(){var i,o,u;return $(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof JS&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return z(this,void 0,void 0,function(){var d,v,g,m;return $(this,function(b){switch(b.label){case 0:d=f.cause,v=0,g=f.targetIds,b.label=1;case 1:return v<g.length?(m=g[v],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(m),l.qr.removeTarget(m),b.label=3;case 3:b.label=4;case 4:return v++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,vf(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Vl?t.qr.X(e):e instanceof YS?t.qr.rt(e):t.qr.et(e),n.isEqual(jt.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,IA(t.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(v,g){if(v.resumeToken.approximateByteSize()>0){var m=l.$r.get(g);m&&l.$r.set(g,m.withResumeToken(v.resumeToken,f))}}),d.targetMismatches.forEach(function(v){var g=l.$r.get(v);if(g){l.$r.set(v,g.withResumeToken(Pn.EMPTY_BYTE_STRING,g.snapshotVersion)),CA(l,v);var m=new nh(g.target,v,1,g.sequenceNumber);Om(l,m)}}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return et("RemoteStore","Failed to raise snapshot:",u=a.sent()),[4,vf(t,u)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function vf(t,e,n){return z(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:if(!Uo(e))throw e;return t.Or.add(1),[4,lu(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return IA(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return z(i,void 0,void 0,function(){return $(this,function(u){switch(u.label){case 0:return et("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),t.Or.delete(1),[4,ac(t)];case 2:return u.sent(),[2]}})})}),[2]}})})}function OA(t,e){return e().catch(function(n){return vf(t,n,e)})}function fu(t){return z(this,void 0,void 0,function(){var e,n,i,o,u;return $(this,function(a){switch(a.label){case 0:e=ot(t),n=Mi(e),i=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Ui(l)&&l.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,xM(e.localStore,i)];case 3:return(o=a.sent())===null?(e.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=Mi(l);d.er()&&d.pr&&d.Er(f.mutations)}(e,o),[3,6]);case 4:return u=a.sent(),[4,vf(e,u)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return RA(e)&&DA(e),[2]}})})}function RA(t){return Ui(t)&&!Mi(t).tr()&&t.Fr.length>0}function DA(t){Mi(t).start()}function ZM(t){return z(this,void 0,void 0,function(){return $(this,function(e){return Mi(t).Ar(),[2]})})}function tF(t){return z(this,void 0,void 0,function(){var e,n,i,o;return $(this,function(u){for(e=Mi(t),n=0,i=t.Fr;n<i.length;n++)o=i[n],e.Er(o.mutations);return[2]})})}function eF(t,e,n){return z(this,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return i=t.Fr.shift(),o=fM.from(i,e,n),[4,OA(t,function(){return t.remoteSyncer.applySuccessfulWrite(o)})];case 1:return u.sent(),[4,fu(t)];case 2:return u.sent(),[2]}})})}function nF(t,e){return z(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return e&&Mi(t).pr?[4,function(i,o){return z(this,void 0,void 0,function(){var u,a;return $(this,function(l){switch(l.label){case 0:return QS(a=o.code)&&a!==R.ABORTED?(u=i.Fr.shift(),Mi(i).sr(),[4,OA(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,o)})]):[3,3];case 1:return l.sent(),[4,fu(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return RA(t)&&DA(t),[2]}})})}function rg(t,e){return z(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=ot(t),e?(n.Or.delete(2),[4,ac(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,lu(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function hu(t){var e=this;return t.Ur||(t.Ur=function(n,i,o){var u=ot(n);return u.br(),new HM(i,u.Hi,u.credentials,u.R,o)}(t.datastore,t.asyncQueue,{Ii:XM.bind(null,t),Ri:YM.bind(null,t),_r:JM.bind(null,t)}),t.Mr.push(function(n){return z(e,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(t.Ur.sr(),Dm(t)?Rm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:i.sent(),xA(t),i.label=3;case 3:return[2]}})})})),t.Ur}function Mi(t){var e=this;return t.Kr||(t.Kr=function(n,i,o){var u=ot(n);return u.br(),new zM(i,u.Hi,u.credentials,u.R,o)}(t.datastore,t.asyncQueue,{Ii:ZM.bind(null,t),Ri:nF.bind(null,t),Ir:tF.bind(null,t),Tr:eF.bind(null,t)}),t.Mr.push(function(n){return z(e,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(t.Kr.sr(),[4,fu(t)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:i.sent(),t.Fr.length>0&&(et("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),i.label=4;case 4:return[2]}})})})),t.Kr}var rF=function(){function t(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,i,o,u){var a=new t(e,n,Date.now()+i,o,u);return a.start(i),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function du(t,e){if(Fe("AsyncQueue",e+": "+t),Uo(t))return new G(R.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PA=function(){function t(e){this.comparator=e?function(n,i){return e(n,i)||wt.comparator(n.key,i.key)}:function(n,i){return wt.comparator(n.key,i.key)},this.keyedMap=Zv(),this.sortedSet=new hn(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,i){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),vE=function(){function t(){this.Qr=new hn(wt.comparator)}return t.prototype.track=function(e){var n=e.doc.key,i=this.Qr.get(n);i?e.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Qr=this.Qr.remove(n):e.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):mt():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,i){e.push(i)}),e},t}(),gf=function(){function t(e,n,i,o,u,a,l,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return t.fromInitialDocuments=function(e,n,i,o){var u=[];return n.forEach(function(a){u.push({type:0,doc:a})}),new t(e,n,PA.emptySet(n),u,i,o,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},t}(),iF=function(){this.Wr=void 0,this.listeners=[]},oF=function(){this.queries=new cu(function(t){return jS(t)},rc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e){return z(this,void 0,void 0,function(){var n,i,o,u,a,l,f;return $(this,function(d){switch(d.label){case 0:if(n=ot(t),i=e.query,o=!1,(u=n.queries.get(i))||(o=!0,u=new iF),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=u,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=du(l,"Initialization of query '"+Yv(e.query)+"' failed"),[2,void e.onError(f)];case 4:return n.queries.set(i,u),u.listeners.push(e),e.zr(n.onlineState),u.Wr&&e.Hr(u.Wr)&&Mm(n),[2]}})})}function Lm(t,e){return z(this,void 0,void 0,function(){var n,i,o,u,a;return $(this,function(l){return n=ot(t),i=e.query,o=!1,(u=n.queries.get(i))&&(a=u.listeners.indexOf(e))>=0&&(u.listeners.splice(a,1),o=u.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function sF(t,e){for(var n=ot(t),i=!1,o=0,u=e;o<u.length;o++){var a=u[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,v=f.listeners;d<v.length;d++)v[d].Hr(a)&&(i=!0);f.Wr=a}}i&&Mm(n)}function uF(t,e,n){var i=ot(t),o=i.queries.get(e);if(o)for(var u=0,a=o.listeners;u<a.length;u++)a[u].onError(n);i.queries.delete(e)}function Mm(t){t.Gr.forEach(function(e){e.next()})}var Fm=function(){function t(e,n,i){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=e.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}e=new gf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=gf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LA=function(t){this.key=t},MA=function(t){this.key=t},FA=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=de(),this.mutatedKeys=de(),this.lo=US(e),this.fo=new PA(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var i=this,o=n?n.mo:new vE,u=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=u,f=!1,d=Ml(this.query)&&u.size===this.query.limit?u.last():null,v=cf(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(function(m,b){var _=u.get(m),S=ic(i.query,b)?b:null,N=!!_&&i.mutatedKeys.has(_.key),O=!!S&&(S.hasLocalMutations||i.mutatedKeys.has(S.key)&&S.hasCommittedMutations),P=!1;_&&S?_.data.isEqual(S.data)?N!==O&&(o.track({type:3,doc:S}),P=!0):i.yo(_,S)||(o.track({type:2,doc:S}),P=!0,(d&&i.lo(S,d)>0||v&&i.lo(S,v)<0)&&(f=!0)):!_&&S?(o.track({type:0,doc:S}),P=!0):_&&!S&&(o.track({type:1,doc:_}),P=!0,(d||v)&&(f=!0)),P&&(S?(l=l.add(S),a=O?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),Ml(this.query)||cf(this.query))for(;l.size>this.query.limit;){var g=Ml(this.query)?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),o.track({type:1,doc:g})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,i){var o=this,u=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(v,g){return function(m,b){var _=function(S){switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return _(m)-_(b)}(v.type,g.type)||o.lo(v.doc,g.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new gf(this.query,e.fo,u,a,e.mutatedKeys,f===0,d,!1),To:l}:{To:l}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new vE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),e.modifiedDocuments.forEach(function(i){}),e.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=de(),this.fo.forEach(function(o){e.Io(o.key)&&(e.ho=e.ho.add(o.key))});var i=[];return n.forEach(function(o){e.ho.has(o)||i.push(new MA(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new LA(o))}),i},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=de();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return gf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),aF=function(t,e,n){this.query=t,this.targetId=e,this.view=n},cF=function(t){this.key=t,this.bo=!1},lF=function(){function t(e,n,i,o,u,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new cu(function(l){return jS(l)},rc),this.Vo=new Map,this.So=new Set,this.Do=new hn(wt.comparator),this.Co=new Map,this.No=new Cm,this.xo={},this.ko=new Map,this.Fo=hf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();function fF(t,e){return z(this,void 0,void 0,function(){var n,i,o,u,a,l;return $(this,function(f){switch(f.label){case 0:return n=qm(t),(u=n.Po.get(e))?(i=u.targetId,n.sharedClientState.addLocalQueryTarget(i),o=u.view.Ro(),[3,4]):[3,1];case 1:return[4,df(n.localStore,Br(e))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,Vm(n,e,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&ih(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function Vm(t,e,n,i){return z(this,void 0,void 0,function(){var o,u,a,l,f,d;return $(this,function(v){switch(v.label){case 0:return t.Oo=function(g,m,b){return function(_,S,N,O){return z(this,void 0,void 0,function(){var P,U,q;return $(this,function(rt){switch(rt.label){case 0:return P=S.view._o(N),P.Nn?[4,pf(_.localStore,S.query,!1).then(function(F){var Et=F.documents;return S.view._o(Et,P)})]:[3,2];case 1:P=rt.sent(),rt.label=2;case 2:return U=O&&O.targetChanges.get(S.targetId),q=S.view.applyChanges(P,_.isPrimaryClient,U),[2,(ig(_,S.targetId,q.To),q.snapshot)]}})})}(t,g,m,b)},[4,pf(t.localStore,e,!0)];case 1:return o=v.sent(),u=new FA(e,o.Bn),a=u._o(o.documents),l=Em.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline"),f=u.applyChanges(a,t.isPrimaryClient,l),ig(t,n,f.To),d=new aF(e,n,u),[2,(t.Po.set(e,d),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),f.snapshot)]}})})}function hF(t,e){return z(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:return n=ot(t),i=n.Po.get(e),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!rc(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Xs(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Va(n.remoteStore,i.targetId),Ys(n,i.targetId)}).catch(Bo)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return Ys(n,i.targetId),[4,Xs(n.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function dF(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:i=$m(t),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var v,g=ot(f),m=Rn.now(),b=d.reduce(function(_,S){return _.add(S.key)},de());return g.persistence.runTransaction("Locally write mutations","readwrite",function(_){return g.Mn.pn(_,b).next(function(S){v=S;for(var N=[],O=0,P=d;O<P.length;O++){var U=P[O],q=jL(U,v.get(U.key));q!=null&&N.push(new ji(U.key,q,LS(q.value.mapValue),cn.exists(!0)))}return g._n.addMutationBatch(_,m,N,d)})}).then(function(_){return _.applyToLocalDocumentSet(v),{batchId:_.batchId,changes:v}})}(i.localStore,e)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,v){var g=f.xo[f.currentUser.toKey()];g||(g=new hn(Ht)),g=g.insert(d,v),f.xo[f.currentUser.toKey()]=g}(i,o.batchId,n),[4,Bi(i,o.changes)];case 3:return l.sent(),[4,fu(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return u=l.sent(),a=du(u,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function VA(t,e){return z(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:n=ot(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,kM(n.localStore,e)];case 2:return i=o.sent(),e.targetChanges.forEach(function(u,a){var l=n.Co.get(a);l&&(Ct(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?l.bo=!0:u.modifiedDocuments.size>0?Ct(l.bo):u.removedDocuments.size>0&&(Ct(l.bo),l.bo=!1))}),[4,Bi(n,i,e)];case 3:return o.sent(),[3,6];case 4:return[4,Bo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function gE(t,e,n){var i=ot(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(u,a){var l=a.view.zr(e);l.snapshot&&o.push(l.snapshot)}),function(u,a){var l=ot(u);l.onlineState=a;var f=!1;l.queries.forEach(function(d,v){for(var g=0,m=v.listeners;g<m.length;g++)m[g].zr(a)&&(f=!0)}),f&&Mm(l)}(i.eventManager,e),o.length&&i.vo._r(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function pF(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a,l,f;return $(this,function(d){switch(d.label){case 0:return(i=ot(t)).sharedClientState.updateQueryState(e,"rejected",n),o=i.Co.get(e),(u=o&&o.key)?(a=(a=new hn(wt.comparator)).insert(u,fn.newNoDocument(u,jt.min())),l=de().add(u),f=new _m(jt.min(),new Map,new He(Ht),a,l),[4,VA(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(u),i.Co.delete(e),Bm(i),[3,4];case 2:return[4,Xs(i.localStore,e,!1).then(function(){return Ys(i,e,n)}).catch(Bo)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function vF(t,e){return z(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:n=ot(t),i=e.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,NM(n.localStore,e)];case 2:return o=u.sent(),Um(n,i,null),jm(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Bi(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,Bo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function gF(t,e,n){return z(this,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:i=ot(t),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(a,l){var f=ot(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var v;return f._n.lookupMutationBatch(d,l).next(function(g){return Ct(g!==null),v=g.keys(),f._n.removeMutationBatch(d,g)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,v)})})}(i.localStore,e)];case 2:return o=u.sent(),Um(i,e,n),jm(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,Bi(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,Bo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function mF(t,e){return z(this,void 0,void 0,function(){var n,i,o,u,a;return $(this,function(l){switch(l.label){case 0:Ui((n=ot(t)).remoteStore)||et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=ot(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(v){return d._n.getHighestUnacknowledgedBatchId(v)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void e.resolve()]:((o=n.ko.get(i)||[]).push(e),n.ko.set(i,o),[3,4]);case 3:return u=l.sent(),a=du(u,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function jm(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function Um(t,e,n){var i=ot(t),o=i.xo[i.currentUser.toKey()];if(o){var u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.xo[i.currentUser.toKey()]=o}}function Ys(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var i=0,o=t.Vo.get(e);i<o.length;i++){var u=o[i];t.Po.delete(u),n&&t.vo.Mo(u,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||jA(t,a)})}function jA(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(Va(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Bm(t))}function ig(t,e,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof LA?(t.No.addReference(u.key,e),yF(t,u)):u instanceof MA?(et("SyncEngine","Document no longer in limbo: "+u.key),t.No.removeReference(u.key,e),t.No.containsKey(u.key)||jA(t,u.key)):mt()}}function yF(t,e){var n=e.key,i=n.path.canonicalString();t.Do.get(n)||t.So.has(i)||(et("SyncEngine","New document in limbo: "+n),t.So.add(i),Bm(t))}function Bm(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new wt(re.fromString(e)),i=t.Fo.next();t.Co.set(i,new cF(n)),t.Do=t.Do.insert(n,i),ih(t.remoteStore,new nh(Br(nc(n.path)),i,2,Gn.o))}}function Bi(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:return i=ot(t),o=[],u=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,e,n).then(function(v){if(v){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,v.fromCache?"not-current":"current"),o.push(v);var g=SM.Pn(d.targetId,v);u.push(g)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return z(this,void 0,void 0,function(){var v,g,m,b,_,S,N,O,P;return $(this,function(U){switch(U.label){case 0:v=ot(f),U.label=1;case 1:return U.trys.push([1,3,,4]),[4,v.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(q){return Y.forEach(d,function(rt){return Y.forEach(rt.bn,function(F){return v.persistence.referenceDelegate.addReference(q,rt.targetId,F)}).next(function(){return Y.forEach(rt.vn,function(F){return v.persistence.referenceDelegate.removeReference(q,rt.targetId,F)})})})})];case 2:return U.sent(),[3,4];case 3:if(!Uo(g=U.sent()))throw g;return et("LocalStore","Failed to update sequence numbers: "+g),[3,4];case 4:for(m=0,b=d;m<b.length;m++)_=b[m],S=_.targetId,_.fromCache||(N=v.kn.get(S),O=N.snapshotVersion,P=N.withLastLimboFreeSnapshotVersion(O),v.kn=v.kn.insert(S,P));return[2]}})})}(i.localStore,u)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function wF(t,e){return z(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return(n=ot(t)).currentUser.isEqual(e)?[3,3]:(et("SyncEngine","User change. New user:",e.toKey()),[4,EA(n.localStore,e)]);case 1:return i=o.sent(),n.currentUser=e,function(u,a){u.ko.forEach(function(l){l.forEach(function(f){f.reject(new G(R.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,Bi(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function bF(t,e){var n=ot(t),i=n.Co.get(e);if(i&&i.bo)return de().add(i.key);var o=de(),u=n.Vo.get(e);if(!u)return o;for(var a=0,l=u;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function _F(t,e){return z(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:return[4,pf((n=ot(t)).localStore,e.query,!0)];case 1:return i=u.sent(),o=e.view.Ao(i),[2,(n.isPrimaryClient&&ig(n,e.targetId,o.To),o)]}})})}function EF(t){return z(this,void 0,void 0,function(){var e;return $(this,function(n){return[2,SA((e=ot(t)).localStore).then(function(i){return Bi(e,i)})]})})}function IF(t,e,n,i){return z(this,void 0,void 0,function(){var o,u;return $(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=ot(l),v=ot(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(g){return v.jt(g,f).next(function(m){return m?d.Mn.pn(g,m):Y.resolve(null)})})}((o=ot(t)).localStore,e)];case 1:return(u=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,fu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Um(o,e,i||null),jm(o,e),function(l,f){ot(ot(l)._n).Gt(f)}(o.localStore,e)):mt(),a.label=4;case 4:return[4,Bi(o,u)];case 5:return a.sent(),[3,7];case 6:et("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function TF(t,e){return z(this,void 0,void 0,function(){var n,i,o,u,a,l,f,d;return $(this,function(v){switch(v.label){case 0:return qm(n=ot(t)),$m(n),e!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,mE(n,i.toArray())]);case 1:return o=v.sent(),n.$o=!0,[4,rg(n.remoteStore,!0)];case 2:for(v.sent(),u=0,a=o;u<a.length;u++)l=a[u],ih(n.remoteStore,l);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(g,m){n.sharedClientState.isLocalQueryTarget(m)?f.push(m):d=d.then(function(){return Ys(n,m),Xs(n.localStore,m,!0)}),Va(n.remoteStore,m)}),[4,d]);case 4:return v.sent(),[4,mE(n,f)];case 5:return v.sent(),function(g){var m=ot(g);m.Co.forEach(function(b,_){Va(m.remoteStore,_)}),m.No.ts(),m.Co=new Map,m.Do=new hn(wt.comparator)}(n),n.$o=!1,[4,rg(n.remoteStore,!1)];case 6:v.sent(),v.label=7;case 7:return[2]}})})}function mE(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a,l,f,d,v,g,m,b,_,S,N;return $(this,function(O){switch(O.label){case 0:i=ot(t),o=[],u=[],a=0,l=e,O.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(v=i.Vo.get(f))&&v.length!==0?[4,df(i.localStore,Br(v[0]))]:[3,7]):[3,13];case 2:d=O.sent(),g=0,m=v,O.label=3;case 3:return g<m.length?(b=m[g],_=i.Po.get(b),[4,_F(i,_)]):[3,6];case 4:(S=O.sent()).snapshot&&u.push(S.snapshot),O.label=5;case 5:return g++,[3,3];case 6:return[3,11];case 7:return[4,TA(i.localStore,f)];case 8:return N=O.sent(),[4,df(i.localStore,N)];case 9:return d=O.sent(),[4,Vm(i,UA(N),f,!1)];case 10:O.sent(),O.label=11;case 11:o.push(d),O.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(u),o)]}})})}function UA(t){return FS(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function SF(t){var e=ot(t);return ot(ot(e.localStore).persistence).fn()}function AF(t,e,n,i){return z(this,void 0,void 0,function(){var o,u,a;return $(this,function(l){switch(l.label){case 0:return(o=ot(t)).$o?(et("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,SA(o.localStore)];case 3:return u=l.sent(),a=_m.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,Bi(o,u,a)];case 4:return l.sent(),[3,8];case 5:return[4,Xs(o.localStore,e,!0)];case 6:return l.sent(),Ys(o,e,i),[3,8];case 7:mt(),l.label=8;case 8:return[2]}})})}function NF(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a,l,f,d,v,g,m;return $(this,function(b){switch(b.label){case 0:if(!(i=qm(t)).$o)return[3,10];o=0,u=e,b.label=1;case 1:return o<u.length?(a=u[o],i.Vo.has(a)?(et("SyncEngine","Adding an already active target "+a),[3,5]):[4,TA(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,df(i.localStore,l)];case 3:return f=b.sent(),[4,Vm(i,UA(l),f.targetId,!1)];case 4:b.sent(),ih(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(_){return $(this,function(S){switch(S.label){case 0:return i.Vo.has(_)?[4,Xs(i.localStore,_,!1).then(function(){Va(i.remoteStore,_),Ys(i,_)}).catch(Bo)]:[3,2];case 1:S.sent(),S.label=2;case 2:return[2]}})},v=0,g=n,b.label=7;case 7:return v<g.length?(m=g[v],[5,d(m)]):[3,10];case 8:b.sent(),b.label=9;case 9:return v++,[3,7];case 10:return[2]}})})}function qm(t){var e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pF.bind(null,e),e.vo._r=sF.bind(null,e.eventManager),e.vo.Mo=uF.bind(null,e.eventManager),e}function $m(t){var e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gF.bind(null,e),e}var BA=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return z(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return this.R=rh(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return _A(this.persistence,new bA,e.initialUser,this.R)},t.prototype.qo=function(e){return new FM(jM.bs,this.R)},t.prototype.Bo=function(e){return new AA},t.prototype.terminate=function(){return z(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),qA=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).Qo=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return St(e,t),e.prototype.initialize=function(n){return z(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,OM(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,$m(this.Qo.syncEngine)];case 4:return o.sent(),[4,fu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},e.prototype.Ko=function(n){return _A(this.persistence,new bA,n.initialUser,this.R)},e.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new yM(i,n.asyncQueue)},e.prototype.qo=function(n){var i=km(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Rr.withCacheSize(this.cacheSizeBytes):Rr.DEFAULT;return new TM(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,NA(),jl(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new AA},e}(BA),kF=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return St(e,t),e.prototype.initialize=function(n){return z(this,void 0,void 0,function(){var i,o=this;return $(this,function(u){switch(u.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof hv?(this.sharedClientState.syncEngine={ui:IF.bind(null,i),ai:AF.bind(null,i),hi:NF.bind(null,i),fn:SF.bind(null,i),ci:EF.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(a){return z(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return[4,TF(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},e.prototype.Bo=function(n){var i=NA();if(!hv.yt(i))throw new G(R.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=km(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new hv(i,n.asyncQueue,o,n.clientId,n.initialUser)},e}(qA),og=function(){function t(){}return t.prototype.initialize=function(e,n){return z(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return gE(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=wF.bind(null,this.syncEngine),[4,rg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new oF},t.prototype.createDatastore=function(e){var n,i=rh(e.databaseInfo.databaseId),o=(n=e.databaseInfo,new KM(n));return function(u,a,l){return new GM(u,a,l)}(e.credentials,o,i)},t.prototype.createRemoteStore=function(e){var n,i,o,u,a,l=this;return n=this.localStore,i=this.datastore,o=e.asyncQueue,u=function(f){return gE(l.syncEngine,f,0)},a=pE.yt()?new pE:new BM,new QM(n,i,o,u,a)},t.prototype.createSyncEngine=function(e,n){return function(i,o,u,a,l,f,d){var v=new lF(i,o,u,a,l,f);return d&&(v.$o=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return z(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=ot(e),et("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,lu(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oh=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var i=this;this.muted||setTimeout(function(){i.muted||e(n)},0)},t}(),CF=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return z(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new G(R.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,a){return z(this,void 0,void 0,function(){var l,f,d,v,g,m;return $(this,function(b){switch(b.label){case 0:return l=ot(u),f=Fa(l.R)+"/documents",d={documents:a.map(function(_){return Ma(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return v=b.sent(),g=new Map,v.forEach(function(_){var S=function(N,O){return"found"in O?function(P,U){Ct(!!U.found),U.found.name,U.found.updateTime;var q=Jr(P,U.found.name),rt=In(U.found.updateTime),F=new Hn({mapValue:{fields:U.found.fields}});return fn.newFoundDocument(q,rt,F)}(N,O):"missing"in O?function(P,U){Ct(!!U.missing),Ct(!!U.readTime);var q=Jr(P,U.missing),rt=In(U.readTime);return fn.newNoDocument(q,rt)}(N,O):mt()}(l.R,_);g.set(S.key.toString(),S)}),m=[],[2,(a.forEach(function(_){var S=g.get(_.toString());Ct(!!S),m.push(S)}),m)]}})})}(this.datastore,e)];case 1:return[2,((n=o.sent()).forEach(function(u){return i.recordVersion(u)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new uc(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return z(this,void 0,void 0,function(){var e,n=this;return $(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(o){e.delete(o.key.toString())}),e.forEach(function(o,u){var a=wt.fromPath(u);n.mutations.push(new bm(a,n.precondition(a)))}),[4,function(o,u){return z(this,void 0,void 0,function(){var a,l,f;return $(this,function(d){switch(d.label){case 0:return a=ot(o),l=Fa(a.R)+"/documents",f={writes:u.map(function(v){return lf(a.R,v)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw mt();n=jt.min()}var i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new G(R.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?cn.updateTime(n):cn.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(jt.min()))throw new G(R.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(n)}return cn.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),xF=function(){function t(e,n,i,o){this.asyncQueue=e,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new xm(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return z(e,void 0,void 0,function(){var n,i,o=this;return $(this,function(u){return n=new CF(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!jo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!QS(n)}return!1},t}(),OF=function(){function t(e,n,i){var o=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=CS.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return z(o,void 0,void 0,function(){return $(this,function(a){switch(a.label){case 0:return et("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return a.sent(),this.user=u,[2]}})})})}return t.prototype.getConfiguration=function(){return z(this,void 0,void 0,function(){return $(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new G(R.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new Ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return z(e,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=u.sent(),o=du(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t,e){return z(this,void 0,void 0,function(){var n,i,o=this;return $(this,function(u){switch(u.label){case 0:return t.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=u.sent(),[4,e.initialize(n)];case 2:return u.sent(),i=n.initialUser,t.setCredentialChangeListener(function(a){return z(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,EA(e.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function KA(t,e){return z(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Km(t)];case 1:return n=o.sent(),et("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.setCredentialChangeListener(function(u){return function(a,l){return z(this,void 0,void 0,function(){var f,d;return $(this,function(v){switch(v.label){case 0:return(f=ot(a)).asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials"),d=Ui(f),f.Or.add(3),[4,lu(f)];case 1:return v.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return v.sent(),f.Or.delete(3),[4,ac(f)];case 3:return v.sent(),[2]}})})}(e.remoteStore,u)}),t.onlineComponents=e,[2]}})})}function Km(t){return z(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(et("FirestoreClient","Using default OfflineComponentProvider"),[4,$A(t,new BA)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function sh(t){return z(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(et("FirestoreClient","Using default OnlineComponentProvider"),[4,KA(t,new og)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function yE(t){return Km(t).then(function(e){return e.persistence})}function HA(t){return Km(t).then(function(e){return e.localStore})}function wE(t){return sh(t).then(function(e){return e.remoteStore})}function zA(t){return sh(t).then(function(e){return e.syncEngine})}function Js(t){return z(this,void 0,void 0,function(){var e,n;return $(this,function(i){switch(i.label){case 0:return[4,sh(t)];case 1:return e=i.sent(),[2,((n=e.eventManager).onListen=fF.bind(null,e.syncEngine),n.onUnlisten=hF.bind(null,e.syncEngine),n)]}})})}function bE(t,e,n){var i=this;n===void 0&&(n={});var o=new Ln;return t.asyncQueue.enqueueAndForget(function(){return z(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return u=function(l,f,d,v,g){var m=new oh({next:function(_){f.enqueueAndForget(function(){return Lm(l,b)});var S=_.docs.has(d);!S&&_.fromCache?g.reject(new G(R.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&v&&v.source==="server"?g.reject(new G(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(_)},error:function(_){return g.reject(_)}}),b=new Fm(nc(d.path),m,{includeMetadataChanges:!0,so:!0});return Pm(l,b)},[4,Js(t)];case 1:return[2,u.apply(void 0,[a.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}function _E(t,e,n){var i=this;n===void 0&&(n={});var o=new Ln;return t.asyncQueue.enqueueAndForget(function(){return z(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return u=function(l,f,d,v,g){var m=new oh({next:function(_){f.enqueueAndForget(function(){return Lm(l,b)}),_.fromCache&&v.source==="server"?g.reject(new G(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(_)},error:function(_){return g.reject(_)}}),b=new Fm(d,m,{includeMetadataChanges:!0,so:!0});return Pm(l,b)},[4,Js(t)];case 1:return[2,u.apply(void 0,[a.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}var RF=function(t,e,n,i,o,u,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=a,this.useFetchStreams=l},mf=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),EE=new Map,GA=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},IE=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(Ye.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),DF=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var i=this;this.changeListener=n,e.enqueueRetryable(function(){return n(i.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),PF=function(){function t(e){var n=this;this.currentUser=Ye.UNAUTHENTICATED,this.oc=new Ln,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){et("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=e.getImmediate({optional:!0});o?i(o):(et("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return e.cc!==n?(et("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):o?(Ct(typeof o.accessToken=="string"),new GA(o.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var i=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return z(i,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string"),new Ye(e)},t}(),LF=function(){function t(e,n,i){this.hc=e,this.lc=n,this.fc=i,this.type="FirstParty",this.user=Ye.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),MF=function(){function t(e,n,i){this.hc=e,this.lc=n,this.fc=i}return t.prototype.getToken=function(){return Promise.resolve(new LF(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(Ye.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t,e,n){if(!n)throw new G(R.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function zm(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new G(R.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function WA(t,e,n,i){if(e===!0&&i===!0)throw new G(R.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function TE(t){if(!wt.isDocumentKey(t))throw new G(R.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function SE(t){if(wt.isDocumentKey(t))throw new G(R.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function uh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":mt()}function ie(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=uh(t);throw new G(R.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function AE(t,e){if(e<=0)throw new G(R.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NE=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new G(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,WA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),ja=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NE({}),this._settingsFrozen=!1,e instanceof mf?(this._databaseId=e,this._credentials=new IE):(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new G(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mf(i.options.projectId)}(e),this._credentials=new PF(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new G(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new G(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NE(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new IE;switch(n.type){case"gapi":var i=n.client;return Ct(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new MF(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new G(R.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=EE.get(e))&&(et("ComponentProvider","Removing Datastore"),EE.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Ee=function(){function t(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Di(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Qn=function(){function t(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Di=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,nc(o))||this)._path=o,u.type="collection",u}return St(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Ee(this.firestore,null,new wt(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(Qn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=je(t),Hm("collection","path",e),t instanceof ja)return SE(n=re.fromString.apply(re,ke([e],i))),new Di(t,null,n);if(!(t instanceof Ee||t instanceof Di))throw new G(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return SE(n=re.fromString.apply(re,ke([t.path],i)).child(re.fromString(e))),new Di(t.firestore,null,n)}function Ul(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=je(t),arguments.length===1&&(e=CS.u()),Hm("doc","path",e),t instanceof ja)return TE(n=re.fromString.apply(re,ke([e],i))),new Ee(t,null,new wt(n));if(!(t instanceof Ee||t instanceof Di))throw new G(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return TE(n=t._path.child(re.fromString.apply(re,ke([e],i)))),new Ee(t.firestore,t instanceof Di?t.converter:null,new wt(n))}function XA(t,e){return t=je(t),e=je(e),(t instanceof Ee||t instanceof Di)&&(e instanceof Ee||e instanceof Di)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function YA(t,e){return t=je(t),e=je(e),t instanceof Qn&&e instanceof Qn&&t.firestore===e.firestore&&rc(t._query,e._query)&&t.converter===e.converter}var FF=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new xm(this,"async_queue_retry"),this.Ic=function(){var i=jl();i&&et("AsyncQueue","Visibility state changed to "+i.visibilityState),e.Zi.Gi()};var n=jl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=jl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Ln;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return z(this,void 0,void 0,function(){var e,n=this;return $(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Uo(e=i.sent()))throw e;return et("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,i=this.dc.then(function(){return n.gc=!0,e().catch(function(o){throw n.yc=o,n.gc=!1,Fe("INTERNAL UNHANDLED ERROR: ",function(u){var a=u.message||"";return u.stack&&(a=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},t.prototype.enqueueAfterDelay=function(e,n,i){var o=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var u=rF.createAndSchedule(this,e,n,i,function(a){return o.vc(a)});return this.mc.push(u),u},t.prototype.Ac=function(){this.yc&&mt()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return z(this,void 0,void 0,function(){var e;return $(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var u=o[i];if(u.skipDelay(),e!=="all"&&u.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function Zs(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var i=e,o=0,u=["next","error","complete"];o<u.length;o++){var a=u[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(t)}var VF=-1,Ke=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this).type="firestore",o._queue=new FF,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return St(e,t),e.prototype._terminate=function(){return this._firestoreClient||JA(this),this._firestoreClient.terminate()},e}(ja);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t._firestoreClient||JA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function JA(t){var e,n=t._freezeSettings(),i=function(o,u,a,l){return new RF(o,u,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new OF(t._credentials,t._queue,i)}function kE(t,e,n){var i=this,o=new Ln;return t.asyncQueue.enqueue(function(){return z(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,$A(t,n)];case 1:return a.sent(),[4,KA(t,e)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===R.FAILED_PRECONDITION||l.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(u=a.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function CE(t){if(t._initialized||t._terminated)throw new G(R.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vr=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i=0;i<e.length;++i)if(e[i].length===0)throw new G(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new br(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Lo=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Pn.fromBase64String(e))}catch(n){throw new G(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Pn.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),qo=function(t){this._methodName=t},ah=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)},t}(),jF=/^__.*__$/,UF=function(){function t(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new sc(e,this.data,n,this.fieldTransforms)},t}(),ZA=function(){function t(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}return t.prototype.toMutation=function(e,n){return new ji(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}var e1=function(){function t(e,n,i,o,u,a){this.settings=e,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:i,Fc:!1});return o.$c(e),o},t.prototype.Oc=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:i,Fc:!1});return o.Cc(),o},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return yf(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(t1(this.Nc)&&jF.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),BF=function(){function t(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=i||rh(e)}return t.prototype.Uc=function(e,n,i,o){return o===void 0&&(o=!1),new e1({Nc:e,methodName:n,qc:i,path:br.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function $o(t){var e=t._freezeSettings(),n=rh(t._databaseId);return new BF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ch(t,e,n,i,o,u){u===void 0&&(u={});var a=t.Uc(u.merge||u.mergeFields?2:0,e,n,o);Xm("Data must be an object, but it was:",a,i);var l,f,d=i1(i,a);if(u.merge)l=new js(a.fieldMask),f=a.fieldTransforms;else if(u.mergeFields){for(var v=[],g=0,m=u.mergeFields;g<m.length;g++){var b=sg(e,m[g],n);if(!a.contains(b))throw new G(R.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");s1(v,b)||v.push(b)}l=new js(v),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new UF(new Hn(d),l,f)}var Gm=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return St(e,t),e.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(qo);function n1(t,e,n){return new e1({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var qF=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return St(e,t),e.prototype._toFieldTransform=function(n){return new oc(n.path,new $s)},e.prototype.isEqual=function(n){return n instanceof e},e}(qo),$F=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Kc=i,o}return St(e,t),e.prototype._toFieldTransform=function(n){var i=n1(this,n,!0),o=this.Kc.map(function(a){return Ko(a,i)}),u=new Do(o);return new oc(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(qo),KF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Kc=i,o}return St(e,t),e.prototype._toFieldTransform=function(n){var i=n1(this,n,!0),o=this.Kc.map(function(a){return Ko(a,i)}),u=new Po(o);return new oc(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(qo),HF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Qc=i,o}return St(e,t),e.prototype._toFieldTransform=function(n){var i=new Ks(n.R,$S(n.R,this.Qc));return new oc(n.path,i)},e.prototype.isEqual=function(n){return this===n},e}(qo);function Wm(t,e,n,i){var o=t.Uc(1,e,n);Xm("Data must be an object, but it was:",o,i);var u=[],a=Hn.empty();Vo(i,function(f,d){var v=Ym(e,f,n);d=je(d);var g=o.Oc(v);if(d instanceof Gm)u.push(v);else{var m=Ko(d,g);m!=null&&(u.push(v),a.set(v,m))}});var l=new js(u);return new ZA(a,l,o.fieldTransforms)}function Qm(t,e,n,i,o,u){var a=t.Uc(1,e,n),l=[sg(e,i,n)],f=[o];if(u.length%2!=0)throw new G(R.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<u.length;d+=2)l.push(sg(e,u[d])),f.push(u[d+1]);for(var v=[],g=Hn.empty(),m=l.length-1;m>=0;--m)if(!s1(v,l[m])){var b=l[m],_=f[m];_=je(_);var S=a.Oc(b);if(_ instanceof Gm)v.push(b);else{var N=Ko(_,S);N!=null&&(v.push(b),g.set(b,N))}}var O=new js(v);return new ZA(g,O,a.fieldTransforms)}function r1(t,e,n,i){return i===void 0&&(i=!1),Ko(n,t.Uc(i?4:3,e))}function Ko(t,e){if(o1(t=je(t)))return Xm("Unsupported field value:",e,t),i1(t,e);if(t instanceof qo)return function(n,i){if(!t1(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,a=0,l=n;a<l.length;a++){var f=Ko(l[a],i.Mc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=je(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return $S(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Rn.fromDate(n);return{timestampValue:La(i.R,o)}}if(n instanceof Rn)return o=new Rn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:La(i.R,o)};if(n instanceof ah)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Lo)return{bytesValue:ZS(i.R,n._byteString)};if(n instanceof Ee){o=i.databaseId;var u=n.firestore._databaseId;if(!u.isEqual(o))throw i.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:Im(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+uh(n))}(t,e)}function i1(t,e){var n={};return OS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(t,function(i,o){var u=Ko(o,e.kc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function o1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rn||t instanceof ah||t instanceof Lo||t instanceof Ee||t instanceof qo)}function Xm(t,e,n){if(!o1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=uh(n);throw i==="an object"?e.Lc(t+" a custom object"):e.Lc(t+" "+i)}}function sg(t,e,n){if((e=je(e))instanceof Vr)return e._internalPath;if(typeof e=="string")return Ym(t,e);throw yf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var zF=new RegExp("[~\\*/\\[\\]]");function Ym(t,e,n){if(e.search(zF)>=0)throw yf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(Vr.bind.apply(Vr,ke([void 0],e.split("."))))()._internalPath}catch{throw yf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function yf(t,e,n,i,o){var u=i&&!i.isEmpty(),a=o!==void 0,l="Function "+e+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(u||a)&&(f+=" (found",u&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new G(R.INVALID_ARGUMENT,(l+=". ")+t+f)}function s1(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ua=function(){function t(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ee(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new GF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(wf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),GF=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return St(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ua);function wf(t,e){return typeof e=="string"?Ym(t,e):e instanceof Vr?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wo=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),ti=function(t){function e(n,i,o,u,a,l){var f=this;return(f=t.call(this,n,i,o,u,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return St(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new va(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(wf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},e}(Ua),va=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return St(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(ti),Ai=function(){function t(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new wo(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var i=this;this._snapshot.docs.forEach(function(o){e.call(n,new va(i._firestore,i._userDataWriter,o.key,o,new wo(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new va(i._firestore,i._userDataWriter,l.doc.key,l.doc,new wo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new va(i._firestore,i._userDataWriter,l.doc.key,l.doc,new wo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,v=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(v=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:WF(l.type),doc:f,oldIndex:d,newIndex:v}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function WF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function u1(t,e){return t instanceof ti&&e instanceof ti?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ai&&e instanceof Ai&&t._firestore===e._firestore&&YA(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(t){if(cf(t)&&t.explicitOrderBy.length===0)throw new G(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cc=function(){};function mi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,o=e;i<o.length;i++){var u=o[i];t=u._apply(t)}return t}var QF=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).jc=n,u.Wc=i,u.Gc=o,u.type="where",u}return St(e,t),e.prototype._apply=function(n){var i=$o(n.firestore),o=function(u,a,l,f,d,v,g){var m;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new G(R.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+v+"' queries on FieldPath.documentId().");if(v==="in"||v==="not-in"){PE(g,v);for(var b=[],_=0,S=g;_<S.length;_++){var N=S[_];b.push(DE(f,u,N))}m={arrayValue:{values:b}}}else m=DE(f,u,g)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||PE(g,v),m=r1(l,"where",g,v==="in"||v==="not-in");var O=Wn.create(d,v,m);return function(P,U){if(U.g()){var q=ym(P);if(q!==null&&!q.isEqual(U.field))throw new G(R.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+q.toString()+"' and '"+U.field.toString()+"'");var rt=mm(P);rt!==null&&l1(P,U.field,rt)}var F=function(Et,W){for(var ht=0,A=Et.filters;ht<A.length;ht++){var Qt=A[ht];if(W.indexOf(Qt.op)>=0)return Qt.op}return null}(P,function(Et){switch(Et){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(F!==null)throw F===U.op?new G(R.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+U.op.toString()+"' filter."):new G(R.INVALID_ARGUMENT,"Invalid query. You cannot use '"+U.op.toString()+"' filters with '"+F.toString()+"' filters.")}(u,O),O}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Qn(n.firestore,n.converter,function(u,a){var l=u.filters.concat([a]);return new ii(u.path,u.collectionGroup,u.explicitOrderBy.slice(),l,u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))},e}(cc),XF=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return St(e,t),e.prototype._apply=function(n){var i=function(o,u,a){if(o.startAt!==null)throw new G(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new G(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Os(u,a);return function(f,d){if(mm(f)===null){var v=ym(f);v!==null&&l1(f,v,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Qn(n.firestore,n.converter,function(o,u){var a=o.explicitOrderBy.concat([u]);return new ii(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(cc),xE=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Hc=i,u.Jc=o,u}return St(e,t),e.prototype._apply=function(n){return new Qn(n.firestore,n.converter,VS(n._query,this.Hc,this.Jc))},e}(cc),OE=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return St(e,t),e.prototype._apply=function(n){var i=c1(n,this.type,this.Yc,this.Xc);return new Qn(n.firestore,n.converter,function(o,u){return new ii(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(n._query,i))},e}(cc),RE=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return St(e,t),e.prototype._apply=function(n){var i=c1(n,this.type,this.Yc,this.Xc);return new Qn(n.firestore,n.converter,function(o,u){return new ii(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(n._query,i))},e}(cc);function c1(t,e,n,i){if(n[0]=je(n[0]),n[0]instanceof Ua)return function(u,a,l,f,d){if(!f)throw new G(R.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var v=[],g=0,m=qs(u);g<m.length;g++){var b=m[g];if(b.field.isKeyField())v.push(sf(a,f.key));else{var _=f.data.field(b.field);if(pm(_))throw new G(R.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var S=b.field.canonicalString();throw new G(R.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+S+"' (used as the orderBy) does not exist.")}v.push(_)}}return new Pa(v,d)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var o=$o(t.firestore);return function(u,a,l,f,d,v){var g=u.explicitOrderBy;if(d.length>g.length)throw new G(R.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],b=0;b<d.length;b++){var _=d[b];if(g[b].field.isKeyField()){if(typeof _!="string")throw new G(R.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!wm(u)&&_.indexOf("/")!==-1)throw new G(R.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var S=u.path.child(re.fromString(_));if(!wt.isDocumentKey(S))throw new G(R.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+S+"' is not because it contains an odd number of segments.");var N=new wt(S);m.push(sf(a,N))}else{var O=r1(l,f,_);m.push(O)}}return new Pa(m,v)}(t._query,t.firestore._databaseId,o,e,n,i)}function DE(t,e,n){if(typeof(n=je(n))=="string"){if(n==="")throw new G(R.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!wm(e)&&n.indexOf("/")!==-1)throw new G(R.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(re.fromString(n));if(!wt.isDocumentKey(i))throw new G(R.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return sf(t,new wt(i))}if(n instanceof Ee)return sf(t,n._key);throw new G(R.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+uh(n)+".")}function PE(t,e){if(!Array.isArray(t)||t.length===0)throw new G(R.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new G(R.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function l1(t,e,n){if(!n.isEqual(e))throw new G(R.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jm=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw mt()}},t.prototype.convertObject=function(e,n){var i=this,o={};return Vo(e.fields,function(u,a){o[u]=i.convertValue(a,n)}),o},t.prototype.convertGeoPoint=function(e){return new ah(Me(e.latitude),Me(e.longitude))},t.prototype.convertArray=function(e,n){var i=this;return(e.values||[]).map(function(o){return i.convertValue(o,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var i=DS(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ra(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=Li(e);return new Rn(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var i=re.fromString(e);Ct(uA(i));var o=new mf(i.get(1),i.get(3)),u=new wt(i.popFirst(5));return o.isEqual(n)||Fe("Document "+u+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var YF=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return St(e,t),e.prototype.convertBytes=function(n){return new Lo(n)},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Ee(this.firestore,null,i)},e}(Jm),JF=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$o(e)}return t.prototype.set=function(e,n,i){this._verifyNotCommitted();var o=Ni(e,this._firestore),u=lh(o.converter,n,i),a=ch(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,cn.none())),this},t.prototype.update=function(e,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this._verifyNotCommitted();var a,l=Ni(e,this._firestore);return a=typeof(n=je(n))=="string"||n instanceof Vr?Qm(this._dataReader,"WriteBatch.update",l._key,n,i,o):Wm(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,cn.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=Ni(e,this._firestore);return this._mutations=this._mutations.concat(new uc(n._key,cn.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new G(R.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,e){if((t=je(t)).firestore!==e)throw new G(R.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var So=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return St(e,t),e.prototype.convertBytes=function(n){return new Lo(n)},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Ee(this.firestore,null,i)},e}(Jm);function LE(t,e,n){t=ie(t,Ee);var i=ie(t.firestore,Ke),o=lh(t.converter,e,n);return lc(i,[ch($o(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,cn.none())])}function ME(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];t=ie(t,Ee);var u=ie(t.firestore,Ke),a=$o(u);return lc(u,[(typeof(e=je(e))=="string"||e instanceof Vr?Qm(a,"updateDoc",t._key,e,n,i):Wm(a,"updateDoc",t._key,e)).toMutation(t._key,cn.exists(!0))])}function f1(t){for(var e,n,i,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];t=je(t);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||Zs(o[l])||(a=o[l],l++);var f,d,v,g={includeMetadataChanges:a.includeMetadataChanges};if(Zs(o[l])){var m=o[l];o[l]=(e=m.next)===null||e===void 0?void 0:e.bind(m),o[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),o[l+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}if(t instanceof Ee)d=ie(t.firestore,Ke),v=nc(t._key.path),f={next:function(S){o[l]&&o[l](ug(d,t,S))},error:o[l+1],complete:o[l+2]};else{var b=ie(t,Qn);d=ie(b.firestore,Ke),v=b._query;var _=new So(d);f={next:function(S){o[l]&&o[l](new Ai(d,_,b,S))},error:o[l+1],complete:o[l+2]},a1(t._query)}return function(S,N,O,P){var U=this,q=new oh(P),rt=new Fm(N,q,O);return S.asyncQueue.enqueueAndForget(function(){return z(U,void 0,void 0,function(){var F;return $(this,function(Et){switch(Et.label){case 0:return F=Pm,[4,Js(S)];case 1:return[2,F.apply(void 0,[Et.sent(),rt])]}})})}),function(){q.Wo(),S.asyncQueue.enqueueAndForget(function(){return z(U,void 0,void 0,function(){var F;return $(this,function(Et){switch(Et.label){case 0:return F=Lm,[4,Js(S)];case 1:return[2,F.apply(void 0,[Et.sent(),rt])]}})})})}}(un(d),v,g,f)}function lc(t,e){return function(n,i){var o=this,u=new Ln;return n.asyncQueue.enqueueAndForget(function(){return z(o,void 0,void 0,function(){var a;return $(this,function(l){switch(l.label){case 0:return a=dF,[4,zA(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,u])]}})})}),u.promise}(un(t),e)}function ug(t,e,n){var i=n.docs.get(e._key),o=new So(t);return new ti(t,o,e._key,i,new wo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZF=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this)._firestore=n,o}return St(e,t),e.prototype.get=function(n){var i=this,o=Ni(n,this._firestore),u=new So(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new ti(i._firestore,u,o._key,a._document,new wo(!1,!1),o.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=$o(e)}return t.prototype.get=function(e){var n=this,i=Ni(e,this._firestore),o=new YF(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return mt();var a=u[0];if(a.isFoundDocument())return new Ua(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new Ua(n._firestore,o,i._key,null,i.converter);throw mt()})},t.prototype.set=function(e,n,i){var o=Ni(e,this._firestore),u=lh(o.converter,n,i),a=ch(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,a),this},t.prototype.update=function(e,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var a,l=Ni(e,this._firestore);return a=typeof(n=je(n))=="string"||n instanceof Vr?Qm(this._dataReader,"Transaction.update",l._key,n,i,o):Wm(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},t.prototype.delete=function(e){var n=Ni(e,this._firestore);return this._transaction.delete(n._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(){if(typeof Uint8Array>"u")throw new G(R.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function VE(){if(typeof atob>"u")throw new G(R.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var h1=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return VE(),new t(Lo.fromBase64String(e))},t.fromUint8Array=function(e){return FE(),new t(Lo.fromUint8Array(e))},t.prototype.toBase64=function(){return VE(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return FE(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),tV=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(i,o){CE(i=ie(i,Ke));var u=un(i),a=i._freezeSettings(),l=new og;return kE(u,l,new qA(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){CE(n=ie(n,Ke));var i=un(n),o=n._freezeSettings(),u=new og;return kE(i,u,new kF(u,o.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new G(R.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Ln;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return z(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return z(this,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return Gs.yt()?(f=l+"main",[4,Gs.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(km(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return u=a.sent(),o.reject(u),[3,3];case 3:return[2]}})})}),o.promise}(e._delegate)},t}(),d1=function(){function t(e,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},e instanceof mf||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||rf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,i){i===void 0&&(i={}),function(o,u,a,l){var f;l===void 0&&(l={});var d=(o=ie(o,ja))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==u&&rf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:u+":"+a,ssl:!1})),l.mockUserToken){var v,g;if(typeof l.mockUserToken=="string")v=l.mockUserToken,g=Ye.MOCK_USER;else{v=_D(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new G(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ye(m)}o._credentials=new DF(new GA(v,g))}}(this._delegate,e,n,i)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return z(n,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return[4,yE(e)];case 1:return i=u.sent(),[4,wE(e)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=ot(a);return l.Or.delete(0),ac(l)}(o))]}})})})}(un(ie(this._delegate,Ke)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return z(n,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return[4,yE(e)];case 1:return i=u.sent(),[4,wE(e)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!1),function(a){return z(this,void 0,void 0,function(){var l;return $(this,function(f){switch(f.label){case 0:return(l=ot(a)).Or.add(0),[4,lu(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(un(ie(this._delegate,Ke)))},t.prototype.enablePersistence=function(e){var n=!1,i=!1;return e&&WA("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",i=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,i=new Ln;return e.asyncQueue.enqueueAndForget(function(){return z(n,void 0,void 0,function(){var o;return $(this,function(u){switch(u.label){case 0:return o=mF,[4,zA(e)];case 1:return[2,o.apply(void 0,[u.sent(),i])]}})})}),i.promise}(un(ie(this._delegate,Ke)))},t.prototype.onSnapshotsInSync=function(e){return function(n,i){return function(o,u){var a=this,l=new oh(u);return o.asyncQueue.enqueueAndForget(function(){return z(a,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return f=function(v,g){ot(v).Gr.add(g),g.next()},[4,Js(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return z(a,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return f=function(v,g){ot(v).Gr.delete(g)},[4,Js(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(un(n=ie(n,Ke)),Zs(i)?i:{next:i})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new G(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new bf(this,QA(this._delegate,e))}catch(n){throw gn(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new Ao(this,Ul(this._delegate,e))}catch(n){throw gn(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new dh(this,function(n,i){if(n=ie(n,ja),Hm("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new G(R.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Qn(n,null,function(o){return new ii(re.emptyPath(),o)}(i))}(this._delegate,e))}catch(n){throw gn(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(i,o){return function(u,a){var l=this,f=new Ln;return u.asyncQueue.enqueueAndForget(function(){return z(l,void 0,void 0,function(){var d;return $(this,function(v){switch(v.label){case 0:return[4,function(g){return sh(g).then(function(m){return m.datastore})}(u)];case 1:return d=v.sent(),new xF(u.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(un(i),function(u){return o(new ZF(i,u))})}(this._delegate,function(i){return e(new p1(n,i))})},t.prototype.batch=function(){var e=this;return un(this._delegate),new v1(new JF(this._delegate,function(n){return lc(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new G(R.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new G(R.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),fh=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return St(e,t),e.prototype.convertBytes=function(n){return new h1(new Lo(n))},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Ao.eu(i,this.firestore,null)},e}(Jm);function eV(t){var e;e=t,mr.setLogLevel(e)}var p1=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new fh(e)}return t.prototype.get=function(e){var n=this,i=bo(e);return this._delegate.get(i).then(function(o){return new Ba(n._firestore,new ti(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},t.prototype.set=function(e,n,i){var o=bo(e);return i?(zm("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=bo(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,ke([l,n,i],u)),this},t.prototype.delete=function(e){var n=bo(e);return this._delegate.delete(n),this},t}(),v1=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,i){var o=bo(e);return i?(zm("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=bo(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,ke([l,n,i],u)),this},t.prototype.delete=function(e){var n=bo(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),hh=function(){function t(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}return t.prototype.fromFirestore=function(e,n){var i=new va(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qa(this._firestore,i),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var i=t.su,o=i.get(e);o||(o=new WeakMap,i.set(e,o));var u=o.get(n);return u||(u=new t(e,new fh(e),n),o.set(n,u)),u},t}();hh.su=new WeakMap;var Ao=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new fh(e)}return t.iu=function(e,n,i){if(e.length%2!=0)throw new G(R.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Ee(n._delegate,i,new wt(e)))},t.eu=function(e,n,i){return new t(n,new Ee(n._delegate,i,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new bf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new bf(this.firestore,QA(this._delegate,e))}catch(n){throw gn(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=je(e))instanceof Ee&&XA(this._delegate,e)},t.prototype.set=function(e,n){n=zm("DocumentReference.set",n);try{return n?LE(this._delegate,e,n):LE(this._delegate,e)}catch(i){throw gn(i,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?ME(this._delegate,e):ME.apply(void 0,ke([this._delegate,e,n],i))}catch(u){throw gn(u,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return lc(ie((e=this._delegate).firestore,Ke),[new uc(e._key,cn.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=g1(n),u=m1(n,function(a){return new Ba(e.firestore,new ti(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return f1(this._delegate,o,u)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(i){i=ie(i,Ee);var o=ie(i.firestore,Ke),u=un(o),a=new So(o);return function(l,f){var d=this,v=new Ln;return l.asyncQueue.enqueueAndForget(function(){return z(d,void 0,void 0,function(){var g;return $(this,function(m){switch(m.label){case 0:return g=function(b,_,S){return z(this,void 0,void 0,function(){var N,O;return $(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,function(U,q){var rt=ot(U);return rt.persistence.runTransaction("read document","readonly",function(F){return rt.Mn.mn(F,q)})}(b,_)];case 1:return(O=P.sent()).isFoundDocument()?S.resolve(O):O.isNoDocument()?S.resolve(null):S.reject(new G(R.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return N=P.sent(),O=du(N,"Failed to get document '"+_+" from cache"),S.reject(O),[3,3];case 3:return[2]}})})},[4,HA(l)];case 1:return[2,g.apply(void 0,[m.sent(),f,v])]}})})}),v.promise}(u,i._key).then(function(l){return new ti(o,a,i._key,l,new wo(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(i){i=ie(i,Ee);var o=ie(i.firestore,Ke);return bE(un(o),i._key,{source:"server"}).then(function(u){return ug(o,i,u)})}(this._delegate):function(i){i=ie(i,Ee);var o=ie(i.firestore,Ke);return bE(un(o),i._key).then(function(u){return ug(o,i,u)})}(this._delegate)).then(function(i){return new Ba(n.firestore,new ti(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(hh.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function gn(t,e,n){return t.message=t.message.replace(e,n),t}function g1(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if(typeof i=="object"&&!Zs(i))return i}return{}}function m1(t,e){var n,i,o;return{next:function(u){o.next&&o.next(e(u))},error:(n=(o=Zs(t[0])?t[0]:Zs(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var Ba=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Ao(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return u1(this._delegate,e._delegate)},t}(),qa=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return St(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(Ba),dh=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new fh(e)}return t.prototype.where=function(e,n,i){try{return new t(this.firestore,mi(this._delegate,function(o,u,a){var l=u,f=wf("where",o);return new QF(f,l,a)}(e,n,i)))}catch(o){throw gn(o,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,mi(this._delegate,function(i,o){o===void 0&&(o="asc");var u=o,a=wf("orderBy",i);return new XF(a,u)}(e,n)))}catch(i){throw gn(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,mi(this._delegate,function(n){return AE("limit",n),new xE("limit",n,"F")}(e)))}catch(n){throw gn(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,mi(this._delegate,function(n){return AE("limitToLast",n),new xE("limitToLast",n,"L")}(e)))}catch(n){throw gn(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,mi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new OE("startAt",i,!0)}).apply(void 0,e)))}catch(i){throw gn(i,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,mi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new OE("startAfter",i,!1)}).apply(void 0,e)))}catch(i){throw gn(i,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,mi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new RE("endBefore",i,!0)}).apply(void 0,e)))}catch(i){throw gn(i,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,mi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new RE("endAt",i,!1)}).apply(void 0,e)))}catch(i){throw gn(i,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return YA(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(i){i=ie(i,Qn);var o=ie(i.firestore,Ke),u=un(o),a=new So(o);return function(l,f){var d=this,v=new Ln;return l.asyncQueue.enqueueAndForget(function(){return z(d,void 0,void 0,function(){var g;return $(this,function(m){switch(m.label){case 0:return g=function(b,_,S){return z(this,void 0,void 0,function(){var N,O,P,U,q;return $(this,function(rt){switch(rt.label){case 0:return rt.trys.push([0,2,,3]),[4,pf(b,_,!0)];case 1:return q=rt.sent(),N=new FA(_,q.Bn),O=N._o(q.documents),P=N.applyChanges(O,!1),S.resolve(P.snapshot),[3,3];case 2:return U=rt.sent(),q=du(U,"Failed to execute query '"+_+" against cache"),S.reject(q),[3,3];case 3:return[2]}})})},[4,HA(l)];case 1:return[2,g.apply(void 0,[m.sent(),f,v])]}})})}),v.promise}(u,i._query).then(function(l){return new Ai(o,a,i,l)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(i){i=ie(i,Qn);var o=ie(i.firestore,Ke),u=un(o),a=new So(o);return _E(u,i._query,{source:"server"}).then(function(l){return new Ai(o,a,i,l)})}(this._delegate):function(i){i=ie(i,Qn);var o=ie(i.firestore,Ke),u=un(o),a=new So(o);return a1(i._query),_E(u,i._query).then(function(l){return new Ai(o,a,i,l)})}(this._delegate)).then(function(i){return new ag(n.firestore,new Ai(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=g1(n),u=m1(n,function(a){return new ag(e.firestore,new Ai(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return f1(this._delegate,o,u)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(hh.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),nV=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new qa(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),ag=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new dh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new qa(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(i){return new nV(n._firestore,i)})},t.prototype.forEach=function(e,n){var i=this;this._delegate.forEach(function(o){e.call(n,new qa(i._firestore,o))})},t.prototype.isEqual=function(e){return u1(this._delegate,e._delegate)},t}(),bf=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this).firestore=n,o._delegate=i,o}return St(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Ao(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new Ao(this.firestore,n===void 0?Ul(this._delegate):Ul(this._delegate,n))}catch(i){throw gn(i,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var i=this;return function(o,u){var a=ie(o.firestore,Ke),l=Ul(o),f=lh(o.converter,u);return lc(a,[ch($o(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,cn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Ao(i.firestore,o)})},e.prototype.isEqual=function(n){return XA(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(hh.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(dh);function bo(t){return ie(t,Ee)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rV=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(Vr.bind.apply(Vr,ke([void 0],e)))}return t.documentId=function(){return new t(br.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=je(e))instanceof Vr&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),iV=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new qF("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Gm("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new $F("arrayUnion",o)}).apply(void 0,e);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new KF("arrayRemove",o)}).apply(void 0,e);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(e){var n=function(i){return new HF("increment",i)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(),oV={Firestore:d1,GeoPoint:ah,Timestamp:Rn,Blob:h1,Transaction:p1,WriteBatch:v1,DocumentReference:Ao,DocumentSnapshot:Ba,Query:dh,QueryDocumentSnapshot:qa,QuerySnapshot:ag,CollectionReference:bf,FieldPath:rV,FieldValue:iV,setLogLevel:eV,CACHE_SIZE_UNLIMITED:VF};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t){(function(e,n){e.INTERNAL.registerComponent(new Vf("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},oV)))})(t,function(e,n){return new d1(e,new Ke(e,n),new tV)}),t.registerVersion("@firebase/firestore","2.4.1")}sV(xt);const uV={apiKey:"AIzaSyB6nywCCST_HFjLRHJZl0XE9TXsf72rqpI",authDomain:"music-f6e93.firebaseapp.com",projectId:"music-f6e93",storageBucket:"music-f6e93.appspot.com",appId:"1:671056328288:web:c8abd445fb6b61addbf505"};xt.initializeApp(uV);const ga=xt.auth(),aV=xt.firestore(),cV=aV.collection("users"),ph=yT("user",{state:()=>({userLoggedIn:!1}),actions:{async register(t){const e=await ga.createUserWithEmailAndPassword(t.email,t.password);await cV.doc(e.user.uid).set({name:t.name,email:t.email,age:t.age,country:t.country,type_music:t.type_music}),await e.user.updateProfile({displayName:t.name}),this.userLoggedIn=!0},async authenticate(t){await ga.signInWithEmailAndPassword(t.email,t.password),this.userLoggedIn=!0},async signOut(){await ga.signOut(),this.userLoggedIn=!1}}}),pu=(t,e)=>{const n=t.__vccOpts||t;for(const[i,o]of e)n[i]=o;return n},lV={name:"Header",computed:{...dD(Dv,ph)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen}}},fV={id:"header",class:"bg-gray-700"},hV={class:"container mx-auto flex justify-start items-center py-5 px-4"},dV=gt("a",{class:"text-white font-bold uppercase text-2xl mr-4",href:"#"},"Music",-1),pV={class:"flex flex-grow items-center"},vV={class:"flex flex-row mt-1"},gV={key:0},mV=gt("li",null,[gt("a",{class:"px-2 text-white",href:"#"},"Manage")],-1),yV=gt("h1",{class:"container mx-auto flex justify-start items-center py-5 px-4"},"Lesson - 140",-1);function wV(t,e,n,i,o,u){return _n(),nr(yn,null,[gt("header",fV,[gt("nav",hV,[dV,gt("div",pV,[gt("ul",vV,[t.userStore.userLoggedIn?(_n(),nr(yn,{key:1},[mV,gt("li",null,[gt("a",{class:"px-2 text-white",href:"#",onClick:e[1]||(e[1]=ca((...a)=>t.userStore.signOut&&t.userStore.signOut(...a),["prevent"]))},"Logout")])],64)):(_n(),nr("li",gV,[gt("a",{class:"px-2 text-white",onClick:e[0]||(e[0]=ca((...a)=>u.toggleAuthModal&&u.toggleAuthModal(...a),["prevent"])),href:"#"},"Login / Register")]))])])])]),yV],64)}const bV=pu(lV,[["render",wV]]),_V={name:"LoginForm",data(){return{loginSchema:{email:"required|email",password:"required"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! We are login you in."}},methods:{...wT(ph,["authenticate"]),async login(t){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please wait! We are login you in.";try{await this.authenticate(t)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="Something went wrong. Please try again later.";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Success! You are now logged in.",window.location.reload()}}},EV={class:"mb-3"},IV=gt("label",{class:"inline-block mb-2"},"Email",-1),TV={class:"mb-3"},SV=gt("label",{class:"inline-block mb-2"},"Password",-1),AV=["disabled"];function NV(t,e,n,i,o,u){const a=Fr("vee-field"),l=Fr("ErrorMessage"),f=Fr("vee-form");return _n(),nr(yn,null,[o.login_show_alert?(_n(),nr("div",{key:0,class:ki(["text-white text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},ql(o.login_alert_msg),3)):lT("",!0),$t(f,{"validation-schema":o.loginSchema,onSubmit:u.login},{default:Is(()=>[gt("div",EV,[IV,$t(a,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),$t(l,{class:"text-red-600",name:"email"})]),gt("div",TV,[SV,$t(a,{type:"password",name:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),$t(l,{class:"text-red-600",name:"password"})]),gt("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.login_in_submission}," Submit ",8,AV)]),_:1},8,["validation-schema","onSubmit"])],64)}const kV=pu(_V,[["render",NV]]),CV={name:"RegistrationForm",data(){return{registerSchema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:100",password:"required|min:9|max:100|not_one_of:password",confirm_password:"password_mismatch:@password",country:"required|country_excluded:Antarctica",type_music:"required",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Your account is being created."}},methods:{...wT(ph,{createUser:"register"}),async register(t){this.reg_in_submission=!0,this.reg_show_alert=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! Your account is being  created.";try{await this.createUser(t)}catch{this.reg_in_submission=!1,this.reg_alert_msg="bg-red-500",this.reg_alert_msg="Something went wrong. Please try again later.";return}this.userLoggedIn=!0,this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success! Your account has been created.",window.location.reload()}}},xV={class:"mb-3"},OV=gt("label",{class:"inline-block mb-2"},"Name",-1),RV={class:"mb-3"},DV=gt("label",{class:"inline-block mb-2"},"Email",-1),PV={class:"mb-3"},LV=gt("label",{class:"inline-block mb-2"},"Age",-1),MV={class:"mb-3"},FV=gt("label",{class:"inline-block mb-2"},"Password",-1),VV={class:"mb-3"},jV=gt("label",{class:"inline-block mb-2"},"Confirm Password",-1),UV={class:"mb-3"},BV=gt("label",{class:"inline-block mb-2"},"Country",-1),qV=gt("option",{value:"USA"},"USA",-1),$V=gt("option",{value:"Mexico"},"Mexico",-1),KV=gt("option",{value:"Germany"},"Germany",-1),HV=gt("option",{value:"Antarctica"},"Antarctica",-1),zV={class:"mb-3"},GV=gt("label",{class:"inline-block mb-2"},"Type of music",-1),WV=gt("option",{value:"rock"},"Rock",-1),QV=gt("option",{value:"pop"},"Pop",-1),XV=gt("option",{value:"rap"},"Rap",-1),YV=gt("option",{value:"rnb"},"Rnb",-1),JV={class:"mb-3 pl-6"},ZV=gt("label",{class:"inline-block"},"Accept terms of service",-1),tj=["disabled"];function ej(t,e,n,i,o,u){const a=Fr("vee-field"),l=Fr("ErrorMessage"),f=Fr("vee-form");return _n(),nr(yn,null,[o.reg_show_alert?(_n(),nr("div",{key:0,class:ki(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},ql(o.reg_alert_msg),3)):lT("",!0),$t(f,{"validation-schema":o.registerSchema,onSubmit:u.register,"initial-values":o.userData},{default:Is(()=>[gt("div",xV,[OV,$t(a,{type:"text",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),$t(l,{class:"text-red-600",name:"name"})]),gt("div",RV,[DV,$t(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),$t(l,{class:"text-red-600",name:"email"})]),gt("div",PV,[LV,$t(a,{type:"number",name:"age",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),$t(l,{class:"text-red-600",name:"age"})]),gt("div",MV,[FV,$t(a,{name:"password",bails:!1},{default:Is(({field:d,errors:v})=>[gt("input",fT({type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"},d),null,16),(_n(!0),nr(yn,null,YO(v,g=>(_n(),nr("div",{class:"text-red-600",key:g},ql(g),1))),128))]),_:1})]),gt("div",VV,[jV,$t(a,{type:"password",name:"confirm_password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),$t(l,{class:"text-red-600",name:"confirm_password"})]),gt("div",UV,[BV,$t(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Is(()=>[qV,$V,KV,HV]),_:1}),$t(l,{class:"text-red-600",name:"country"})]),gt("div",zV,[GV,$t(a,{as:"select",name:"type_music",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Is(()=>[WV,QV,XV,YV]),_:1}),$t(l,{class:"text-red-600",name:"type_music"})]),gt("div",JV,[$t(a,{type:"checkbox",name:"tos",value:"1",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),ZV,$t(l,{class:"text-red-600",name:"tos"})]),gt("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.reg_in_submission}," Submit ",8,tj)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const nj=pu(CV,[["render",ej]]),rj={name:"Auth",components:{LoginForm:kV,RegistrationForm:nj},computed:{...pD(Dv,["hiddenClass"]),...bT(Dv,{modalVisibility:"isOpen"})},data(){return{tab:"login"}}},ij={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},oj=gt("div",{class:"fixed inset-0 transition-opacity"},[gt("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),sj=gt("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),uj={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},aj={class:"py-4 text-left px-6"},cj={class:"flex justify-between items-center pb-4"},lj=gt("p",{class:"text-2xl font-bold"},"Your Account",-1),fj=gt("i",{class:"fas fa-times"},null,-1),hj=[fj],dj={class:"flex flex-wrap mb-4"},pj={class:"flex-auto text-center"},vj={class:"flex-auto text-center"};function gj(t,e,n,i,o,u){const a=Fr("LoginForm"),l=Fr("RegistrationForm");return _n(),nr("div",{class:ki(["fixed z-10 inset-0 overflow-y-auto",t.hiddenClass]),id:"modal"},[gt("div",ij,[oj,sj,gt("div",uj,[gt("div",aj,[gt("div",cj,[lj,gt("div",{class:"modal-close cursor-pointer z-50",onClick:e[0]||(e[0]=ca(f=>t.modalVisibility=!1,["prevent"]))},hj)]),gt("ul",dj,[gt("li",pj,[gt("a",{onClick:e[1]||(e[1]=ca(f=>o.tab="login",["prevent"])),class:ki(["block rounded py-3 px-4 transition",{" hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#"},"Login",2)]),gt("li",vj,[gt("a",{onClick:e[2]||(e[2]=ca(f=>o.tab="register",["prevent"])),class:ki([{" hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"},"block rounded py-3 px-4 transition"]),href:"#"},"Register",2)])]),o.tab==="login"?(_n(),kv(a,{key:0})):(_n(),kv(l,{key:1}))])])])],2)}const mj=pu(rj,[["render",gj]]),yj="/vue/assets/img/introduction-music.png",wj={name:"App",components:{Header:bV,Auth:mj},computed:{...bT(ph,["userLoggedIn"])},created(){ga.currentUser&&(this.userLoggedIn=!0)}},bj=_R('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Listen to Great Music!</h1><p class="w-full md:w-8/12 mx-auto"> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus et dolor mollis, congue augue non, venenatis elit. Nunc justo eros, suscipit ac aliquet imperdiet, venenatis et sapien. Duis sed magna pulvinar, fringilla lorem eget, ullamcorper urna. </p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+yj+'"></section><section class="container mx-auto"><div class="bg-white rounded border border-gray-200 relative flex flex-col"><div class="px-6 pt-6 pb-5 font-bold border-b border-gray-200"><span class="card-title">Songs</span><i class="fa fa-headphones-alt float-right text-green-400 text-xl"></i></div><ol id="playlist"><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li></ol></div></section><div class="fixed bottom-0 left-0 bg-white px-4 py-2 w-full"><div class="text-center"><span class="song-title font-bold">Song Title</span> by <span class="song-artist">Artist</span></div><div class="flex flex-nowrap gap-4 items-center"><button type="button"><i class="fa fa-play text-gray-500 text-xl"></i></button><div class="player-currenttime">00:00</div><div class="w-full h-2 rounded bg-gray-200 relative cursor-pointer"><span class="absolute -top-2.5 -ml-2.5 text-gray-800 text-lg" style="left:50%;"><i class="fas fa-circle"></i></span><span class="block h-2 rounded bg-gradient-to-r from-green-500 to-green-400" style="width:50%;"></span></div><div class="player-duration">03:06</div></div></div>',3);function _j(t,e,n,i,o,u){const a=Fr("Header"),l=Fr("Auth");return _n(),nr(yn,null,[$t(a),bj,$t(l)],64)}const Ej=pu(wj,[["render",_j]]),Ij="modulepreload",Tj=function(t){return"/vue/"+t},jE={},Sj=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){const u=document.getElementsByTagName("link");o=Promise.all(n.map(a=>{if(a=Tj(a),a in jE)return;jE[a]=!0;const l=a.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(!!i)for(let g=u.length-1;g>=0;g--){const m=u[g];if(m.href===a&&(!l||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${f}`))return;const v=document.createElement("link");if(v.rel=l?"stylesheet":Ij,l||(v.as="script",v.crossOrigin=""),v.href=a,document.head.appendChild(v),l)return new Promise((g,m)=>{v.addEventListener("load",g),v.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})}))}return o.then(()=>e()).catch(u=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=u,window.dispatchEvent(a),!a.defaultPrevented)throw u})};/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Es=typeof window<"u";function Aj(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ue=Object.assign;function dv(t,e){const n={};for(const i in e){const o=e[i];n[i]=_r(o)?o.map(t):t(o)}return n}const ma=()=>{},_r=Array.isArray,Nj=/\/$/,kj=t=>t.replace(Nj,"");function pv(t,e,n="/"){let i,o={},u="",a="";const l=e.indexOf("#");let f=e.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=e.slice(0,f),u=e.slice(f+1,l>-1?l:e.length),o=t(u)),l>-1&&(i=i||e.slice(0,l),a=e.slice(l,e.length)),i=Rj(i??e,n),{fullPath:i+(u&&"?")+u+a,path:i,query:o,hash:a}}function Cj(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function UE(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function xj(t,e,n){const i=e.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&tu(e.matched[i],n.matched[o])&&y1(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function tu(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function y1(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Oj(t[n],e[n]))return!1;return!0}function Oj(t,e){return _r(t)?BE(t,e):_r(e)?BE(e,t):t===e}function BE(t,e){return _r(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function Rj(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let u=n.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var $a;(function(t){t.pop="pop",t.push="push"})($a||($a={}));var ya;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ya||(ya={}));function Dj(t){if(!t)if(Es){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),kj(t)}const Pj=/^[^#]+#/;function Lj(t,e){return t.replace(Pj,"#")+e}function Mj(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const vh=()=>({left:window.pageXOffset,top:window.pageYOffset});function Fj(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=Mj(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function qE(t,e){return(history.state?history.state.position-e:-1)+t}const cg=new Map;function Vj(t,e){cg.set(t,e)}function jj(t){const e=cg.get(t);return cg.delete(t),e}let Uj=()=>location.protocol+"//"+location.host;function w1(t,e){const{pathname:n,search:i,hash:o}=e,u=t.indexOf("#");if(u>-1){let l=o.includes(t.slice(u))?t.slice(u).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),UE(f,"")}return UE(n,t)+i+o}function Bj(t,e,n,i){let o=[],u=[],a=null;const l=({state:m})=>{const b=w1(t,location),_=n.value,S=e.value;let N=0;if(m){if(n.value=b,e.value=m,a&&a===_){a=null;return}N=S?m.position-S.position:0}else i(b);o.forEach(O=>{O(n.value,_,{delta:N,type:$a.pop,direction:N?N>0?ya.forward:ya.back:ya.unknown})})};function f(){a=n.value}function d(m){o.push(m);const b=()=>{const _=o.indexOf(m);_>-1&&o.splice(_,1)};return u.push(b),b}function v(){const{history:m}=window;m.state&&m.replaceState(ue({},m.state,{scroll:vh()}),"")}function g(){for(const m of u)m();u=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",v,{passive:!0}),{pauseListeners:f,listen:d,destroy:g}}function $E(t,e,n,i=!1,o=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:o?vh():null}}function qj(t){const{history:e,location:n}=window,i={value:w1(t,n)},o={value:e.state};o.value||u(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function u(f,d,v){const g=t.indexOf("#"),m=g>-1?(n.host&&document.querySelector("base")?t:t.slice(g))+f:Uj()+t+f;try{e[v?"replaceState":"pushState"](d,"",m),o.value=d}catch(b){console.error(b),n[v?"replace":"assign"](m)}}function a(f,d){const v=ue({},e.state,$E(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});u(f,v,!0),i.value=f}function l(f,d){const v=ue({},o.value,e.state,{forward:f,scroll:vh()});u(v.current,v,!0);const g=ue({},$E(i.value,f,null),{position:v.position+1},d);u(f,g,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function $j(t){t=Dj(t);const e=qj(t),n=Bj(t,e.state,e.location,e.replace);function i(u,a=!0){a||n.pauseListeners(),history.go(u)}const o=ue({location:"",base:t,go:i,createHref:Lj.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function Kj(t){return typeof t=="string"||t&&typeof t=="object"}function b1(t){return typeof t=="string"||typeof t=="symbol"}const yi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},_1=Symbol("");var KE;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(KE||(KE={}));function eu(t,e){return ue(new Error,{type:t,[_1]:!0},e)}function Gr(t,e){return t instanceof Error&&_1 in t&&(e==null||!!(t.type&e))}const HE="[^/]+?",Hj={sensitive:!1,strict:!1,start:!0,end:!0},zj=/[.+*?^${}()[\]/\\]/g;function Gj(t,e){const n=ue({},Hj,e),i=[];let o=n.start?"^":"";const u=[];for(const d of t){const v=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let g=0;g<d.length;g++){const m=d[g];let b=40+(n.sensitive?.25:0);if(m.type===0)g||(o+="/"),o+=m.value.replace(zj,"\\$&"),b+=40;else if(m.type===1){const{value:_,repeatable:S,optional:N,regexp:O}=m;u.push({name:_,repeatable:S,optional:N});const P=O||HE;if(P!==HE){b+=10;try{new RegExp(`(${P})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${_}" (${P}): `+q.message)}}let U=S?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;g||(U=N&&d.length<2?`(?:/${U})`:"/"+U),N&&(U+="?"),o+=U,b+=20,N&&(b+=-8),S&&(b+=-20),P===".*"&&(b+=-50)}v.push(b)}i.push(v)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const v=d.match(a),g={};if(!v)return null;for(let m=1;m<v.length;m++){const b=v[m]||"",_=u[m-1];g[_.name]=b&&_.repeatable?b.split("/"):b}return g}function f(d){let v="",g=!1;for(const m of t){(!g||!v.endsWith("/"))&&(v+="/"),g=!1;for(const b of m)if(b.type===0)v+=b.value;else if(b.type===1){const{value:_,repeatable:S,optional:N}=b,O=_ in d?d[_]:"";if(_r(O)&&!S)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const P=_r(O)?O.join("/"):O;if(!P)if(N)m.length<2&&(v.endsWith("/")?v=v.slice(0,-1):g=!0);else throw new Error(`Missing required param "${_}"`);v+=P}}return v||"/"}return{re:a,score:i,keys:u,parse:l,stringify:f}}function Wj(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Qj(t,e){let n=0;const i=t.score,o=e.score;for(;n<i.length&&n<o.length;){const u=Wj(i[n],o[n]);if(u)return u;n++}if(Math.abs(o.length-i.length)===1){if(zE(i))return 1;if(zE(o))return-1}return o.length-i.length}function zE(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Xj={type:0,value:""},Yj=/[a-zA-Z0-9_]/;function Jj(t){if(!t)return[[]];if(t==="/")return[[Xj]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let u;function a(){u&&o.push(u),u=[]}let l=0,f,d="",v="";function g(){d&&(n===0?u.push({type:0,value:d}):n===1||n===2||n===3?(u.length>1&&(f==="*"||f==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:d,regexp:v,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):e("Invalid state to consume buffer"),d="")}function m(){d+=f}for(;l<t.length;){if(f=t[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&g(),a()):f===":"?(g(),n=1):m();break;case 4:m(),n=i;break;case 1:f==="("?n=2:Yj.test(f)?m():(g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+f:n=3:v+=f;break;case 3:g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,v="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),g(),a(),o}function Zj(t,e,n){const i=Gj(Jj(t.path),n),o=ue(i,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function tU(t,e){const n=[],i=new Map;e=QE({strict:!1,end:!0,sensitive:!1},e);function o(v){return i.get(v)}function u(v,g,m){const b=!m,_=eU(v);_.aliasOf=m&&m.record;const S=QE(e,v),N=[_];if("alias"in v){const U=typeof v.alias=="string"?[v.alias]:v.alias;for(const q of U)N.push(ue({},_,{components:m?m.record.components:_.components,path:q,aliasOf:m?m.record:_}))}let O,P;for(const U of N){const{path:q}=U;if(g&&q[0]!=="/"){const rt=g.record.path,F=rt[rt.length-1]==="/"?"":"/";U.path=g.record.path+(q&&F+q)}if(O=Zj(U,g,S),m?m.alias.push(O):(P=P||O,P!==O&&P.alias.push(O),b&&v.name&&!WE(O)&&a(v.name)),_.children){const rt=_.children;for(let F=0;F<rt.length;F++)u(rt[F],O,m&&m.children[F])}m=m||O,(O.record.components&&Object.keys(O.record.components).length||O.record.name||O.record.redirect)&&f(O)}return P?()=>{a(P)}:ma}function a(v){if(b1(v)){const g=i.get(v);g&&(i.delete(v),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(v);g>-1&&(n.splice(g,1),v.record.name&&i.delete(v.record.name),v.children.forEach(a),v.alias.forEach(a))}}function l(){return n}function f(v){let g=0;for(;g<n.length&&Qj(v,n[g])>=0&&(v.record.path!==n[g].record.path||!E1(v,n[g]));)g++;n.splice(g,0,v),v.record.name&&!WE(v)&&i.set(v.record.name,v)}function d(v,g){let m,b={},_,S;if("name"in v&&v.name){if(m=i.get(v.name),!m)throw eu(1,{location:v});S=m.record.name,b=ue(GE(g.params,m.keys.filter(P=>!P.optional).map(P=>P.name)),v.params&&GE(v.params,m.keys.map(P=>P.name))),_=m.stringify(b)}else if("path"in v)_=v.path,m=n.find(P=>P.re.test(_)),m&&(b=m.parse(_),S=m.record.name);else{if(m=g.name?i.get(g.name):n.find(P=>P.re.test(g.path)),!m)throw eu(1,{location:v,currentLocation:g});S=m.record.name,b=ue({},g.params,v.params),_=m.stringify(b)}const N=[];let O=m;for(;O;)N.unshift(O.record),O=O.parent;return{name:S,path:_,params:b,matched:N,meta:rU(N)}}return t.forEach(v=>u(v)),{addRoute:u,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function GE(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function eU(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:nU(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function nU(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function WE(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function rU(t){return t.reduce((e,n)=>ue(e,n.meta),{})}function QE(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function E1(t,e){return e.children.some(n=>n===t||E1(t,n))}const I1=/#/g,iU=/&/g,oU=/\//g,sU=/=/g,uU=/\?/g,T1=/\+/g,aU=/%5B/g,cU=/%5D/g,S1=/%5E/g,lU=/%60/g,A1=/%7B/g,fU=/%7C/g,N1=/%7D/g,hU=/%20/g;function Zm(t){return encodeURI(""+t).replace(fU,"|").replace(aU,"[").replace(cU,"]")}function dU(t){return Zm(t).replace(A1,"{").replace(N1,"}").replace(S1,"^")}function lg(t){return Zm(t).replace(T1,"%2B").replace(hU,"+").replace(I1,"%23").replace(iU,"%26").replace(lU,"`").replace(A1,"{").replace(N1,"}").replace(S1,"^")}function pU(t){return lg(t).replace(sU,"%3D")}function vU(t){return Zm(t).replace(I1,"%23").replace(uU,"%3F")}function gU(t){return t==null?"":vU(t).replace(oU,"%2F")}function _f(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function mU(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<i.length;++o){const u=i[o].replace(T1," "),a=u.indexOf("="),l=_f(a<0?u:u.slice(0,a)),f=a<0?null:_f(u.slice(a+1));if(l in e){let d=e[l];_r(d)||(d=e[l]=[d]),d.push(f)}else e[l]=f}return e}function XE(t){let e="";for(let n in t){const i=t[n];if(n=pU(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(_r(i)?i.map(u=>u&&lg(u)):[i&&lg(i)]).forEach(u=>{u!==void 0&&(e+=(e.length?"&":"")+n,u!=null&&(e+="="+u))})}return e}function yU(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=_r(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return e}const wU=Symbol(""),YE=Symbol(""),ty=Symbol(""),k1=Symbol(""),fg=Symbol("");function ea(){let t=[];function e(i){return t.push(i),()=>{const o=t.indexOf(i);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ii(t,e,n,i,o){const u=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=g=>{g===!1?l(eu(4,{from:n,to:e})):g instanceof Error?l(g):Kj(g)?l(eu(2,{from:e,to:g})):(u&&i.enterCallbacks[o]===u&&typeof g=="function"&&u.push(g),a())},d=t.call(i&&i.instances[o],e,n,f);let v=Promise.resolve(d);t.length<3&&(v=v.then(f)),v.catch(g=>l(g))})}function vv(t,e,n,i){const o=[];for(const u of t)for(const a in u.components){let l=u.components[a];if(!(e!=="beforeRouteEnter"&&!u.instances[a]))if(bU(l)){const d=(l.__vccOpts||l)[e];d&&o.push(Ii(d,n,i,u,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${u.path}"`));const v=Aj(d)?d.default:d;u.components[a]=v;const m=(v.__vccOpts||v)[e];return m&&Ii(m,n,i,u,a)()}))}}return o}function bU(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function JE(t){const e=ir(ty),n=ir(k1),i=Mt(()=>e.resolve(Yt(t.to))),o=Mt(()=>{const{matched:f}=i.value,{length:d}=f,v=f[d-1],g=n.matched;if(!v||!g.length)return-1;const m=g.findIndex(tu.bind(null,v));if(m>-1)return m;const b=ZE(f[d-2]);return d>1&&ZE(v)===b&&g[g.length-1].path!==b?g.findIndex(tu.bind(null,f[d-2])):m}),u=Mt(()=>o.value>-1&&TU(n.params,i.value.params)),a=Mt(()=>o.value>-1&&o.value===n.matched.length-1&&y1(n.params,i.value.params));function l(f={}){return IU(f)?e[Yt(t.replace)?"replace":"push"](Yt(t.to)).catch(ma):Promise.resolve()}return{route:i,href:Mt(()=>i.value.href),isActive:u,isExactActive:a,navigate:l}}const _U=Ha({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:JE,setup(t,{slots:e}){const n=ei(JE(t)),{options:i}=ir(ty),o=Mt(()=>({[tI(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[tI(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=e.default&&e.default(n);return t.custom?u:Ls("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},u)}}}),EU=_U;function IU(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function TU(t,e){for(const n in e){const i=e[n],o=t[n];if(typeof i=="string"){if(i!==o)return!1}else if(!_r(o)||o.length!==i.length||i.some((u,a)=>u!==o[a]))return!1}return!0}function ZE(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const tI=(t,e,n)=>t??e??n,SU=Ha({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=ir(fg),o=Mt(()=>t.route||i.value),u=ir(YE,0),a=Mt(()=>{let d=Yt(u);const{matched:v}=o.value;let g;for(;(g=v[d])&&!g.components;)d++;return d}),l=Mt(()=>o.value.matched[a.value]);xs(YE,Mt(()=>a.value+1)),xs(wU,l),xs(fg,o);const f=mn();return rr(()=>[f.value,l.value,t.name],([d,v,g],[m,b,_])=>{v&&(v.instances[g]=d,b&&b!==v&&d&&d===m&&(v.leaveGuards.size||(v.leaveGuards=b.leaveGuards),v.updateGuards.size||(v.updateGuards=b.updateGuards))),d&&v&&(!b||!tu(v,b)||!m)&&(v.enterCallbacks[g]||[]).forEach(S=>S(d))},{flush:"post"}),()=>{const d=o.value,v=t.name,g=l.value,m=g&&g.components[v];if(!m)return eI(n.default,{Component:m,route:d});const b=g.props[v],_=b?b===!0?d.params:typeof b=="function"?b(d):b:null,N=Ls(m,ue({},_,e,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(g.instances[v]=null)},ref:f}));return eI(n.default,{Component:N,route:d})||N}}});function eI(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const AU=SU;function NU(t){const e=tU(t.routes,t),n=t.parseQuery||mU,i=t.stringifyQuery||XE,o=t.history,u=ea(),a=ea(),l=ea(),f=FI(yi);let d=yi;Es&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=dv.bind(null,D=>""+D),g=dv.bind(null,gU),m=dv.bind(null,_f);function b(D,j){let Z,st;return b1(D)?(Z=e.getRecordMatcher(D),st=j):st=D,e.addRoute(st,Z)}function _(D){const j=e.getRecordMatcher(D);j&&e.removeRoute(j)}function S(){return e.getRoutes().map(D=>D.record)}function N(D){return!!e.getRecordMatcher(D)}function O(D,j){if(j=ue({},j||f.value),typeof D=="string"){const C=pv(n,D,j.path),L=e.resolve({path:C.path},j),V=o.createHref(C.fullPath);return ue(C,L,{params:m(L.params),hash:_f(C.hash),redirectedFrom:void 0,href:V})}let Z;if("path"in D)Z=ue({},D,{path:pv(n,D.path,j.path).path});else{const C=ue({},D.params);for(const L in C)C[L]==null&&delete C[L];Z=ue({},D,{params:g(C)}),j.params=g(j.params)}const st=e.resolve(Z,j),kt=D.hash||"";st.params=v(m(st.params));const I=Cj(i,ue({},D,{hash:dU(kt),path:st.path})),T=o.createHref(I);return ue({fullPath:I,hash:kt,query:i===XE?yU(D.query):D.query||{}},st,{redirectedFrom:void 0,href:T})}function P(D){return typeof D=="string"?pv(n,D,f.value.path):ue({},D)}function U(D,j){if(d!==D)return eu(8,{from:j,to:D})}function q(D){return Et(D)}function rt(D){return q(ue(P(D),{replace:!0}))}function F(D){const j=D.matched[D.matched.length-1];if(j&&j.redirect){const{redirect:Z}=j;let st=typeof Z=="function"?Z(D):Z;return typeof st=="string"&&(st=st.includes("?")||st.includes("#")?st=P(st):{path:st},st.params={}),ue({query:D.query,hash:D.hash,params:"path"in st?{}:D.params},st)}}function Et(D,j){const Z=d=O(D),st=f.value,kt=D.state,I=D.force,T=D.replace===!0,C=F(Z);if(C)return Et(ue(P(C),{state:typeof C=="object"?ue({},kt,C.state):kt,force:I,replace:T}),j||Z);const L=Z;L.redirectedFrom=j;let V;return!I&&xj(i,st,Z)&&(V=eu(16,{to:L,from:st}),Be(st,st,!0,!1)),(V?Promise.resolve(V):A(L,st)).catch(K=>Gr(K)?Gr(K,2)?K:Ce(K):bt(K,L,st)).then(K=>{if(K){if(Gr(K,2))return Et(ue({replace:T},P(K.to),{state:typeof K.to=="object"?ue({},kt,K.to.state):kt,force:I}),j||L)}else K=oe(L,st,!0,T,kt);return Qt(L,st,K),K})}function W(D,j){const Z=U(D,j);return Z?Promise.reject(Z):Promise.resolve()}function ht(D){const j=Fn.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(D):D()}function A(D,j){let Z;const[st,kt,I]=kU(D,j);Z=vv(st.reverse(),"beforeRouteLeave",D,j);for(const C of st)C.leaveGuards.forEach(L=>{Z.push(Ii(L,D,j))});const T=W.bind(null,D,j);return Z.push(T),pt(Z).then(()=>{Z=[];for(const C of u.list())Z.push(Ii(C,D,j));return Z.push(T),pt(Z)}).then(()=>{Z=vv(kt,"beforeRouteUpdate",D,j);for(const C of kt)C.updateGuards.forEach(L=>{Z.push(Ii(L,D,j))});return Z.push(T),pt(Z)}).then(()=>{Z=[];for(const C of I)if(C.beforeEnter)if(_r(C.beforeEnter))for(const L of C.beforeEnter)Z.push(Ii(L,D,j));else Z.push(Ii(C.beforeEnter,D,j));return Z.push(T),pt(Z)}).then(()=>(D.matched.forEach(C=>C.enterCallbacks={}),Z=vv(I,"beforeRouteEnter",D,j),Z.push(T),pt(Z))).then(()=>{Z=[];for(const C of a.list())Z.push(Ii(C,D,j));return Z.push(T),pt(Z)}).catch(C=>Gr(C,8)?C:Promise.reject(C))}function Qt(D,j,Z){l.list().forEach(st=>ht(()=>st(D,j,Z)))}function oe(D,j,Z,st,kt){const I=U(D,j);if(I)return I;const T=j===yi,C=Es?history.state:{};Z&&(st||T?o.replace(D.fullPath,ue({scroll:T&&C&&C.scroll},kt)):o.push(D.fullPath,kt)),f.value=D,Be(D,j,Z,T),Ce()}let ae;function fe(){ae||(ae=o.listen((D,j,Z)=>{if(!ct.listening)return;const st=O(D),kt=F(st);if(kt){Et(ue(kt,{replace:!0}),st).catch(ma);return}d=st;const I=f.value;Es&&Vj(qE(I.fullPath,Z.delta),vh()),A(st,I).catch(T=>Gr(T,12)?T:Gr(T,2)?(Et(T.to,st).then(C=>{Gr(C,20)&&!Z.delta&&Z.type===$a.pop&&o.go(-1,!1)}).catch(ma),Promise.reject()):(Z.delta&&o.go(-Z.delta,!1),bt(T,st,I))).then(T=>{T=T||oe(st,I,!1),T&&(Z.delta&&!Gr(T,8)?o.go(-Z.delta,!1):Z.type===$a.pop&&Gr(T,20)&&o.go(-1,!1)),Qt(st,I,T)}).catch(ma)}))}let Zt=ea(),it=ea(),Dt;function bt(D,j,Z){Ce(D);const st=it.list();return st.length?st.forEach(kt=>kt(D,j,Z)):console.error(D),Promise.reject(D)}function Ie(){return Dt&&f.value!==yi?Promise.resolve():new Promise((D,j)=>{Zt.add([D,j])})}function Ce(D){return Dt||(Dt=!D,fe(),Zt.list().forEach(([j,Z])=>D?Z(D):j()),Zt.reset()),D}function Be(D,j,Z,st){const{scrollBehavior:kt}=t;if(!Es||!kt)return Promise.resolve();const I=!Z&&jj(qE(D.fullPath,0))||(st||!Z)&&history.state&&history.state.scroll||null;return qn().then(()=>kt(D,j,I)).then(T=>T&&Fj(T)).catch(T=>bt(T,D,j))}const De=D=>o.go(D);let pe;const Fn=new Set,ct={currentRoute:f,listening:!0,addRoute:b,removeRoute:_,hasRoute:N,getRoutes:S,resolve:O,options:t,push:q,replace:rt,go:De,back:()=>De(-1),forward:()=>De(1),beforeEach:u.add,beforeResolve:a.add,afterEach:l.add,onError:it.add,isReady:Ie,install(D){const j=this;D.component("RouterLink",EU),D.component("RouterView",AU),D.config.globalProperties.$router=j,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>Yt(f)}),Es&&!pe&&f.value===yi&&(pe=!0,q(o.location).catch(kt=>{}));const Z={};for(const kt in yi)Object.defineProperty(Z,kt,{get:()=>f.value[kt],enumerable:!0});D.provide(ty,j),D.provide(k1,DI(Z)),D.provide(fg,f);const st=D.unmount;Fn.add(D),D.unmount=function(){Fn.delete(D),Fn.size<1&&(d=yi,ae&&ae(),ae=null,f.value=yi,pe=!1,Dt=!1),st()}}};function pt(D){return D.reduce((j,Z)=>j.then(()=>ht(Z)),Promise.resolve())}return ct}function kU(t,e){const n=[],i=[],o=[],u=Math.max(e.matched.length,t.matched.length);for(let a=0;a<u;a++){const l=e.matched[a];l&&(t.matched.find(d=>tu(d,l))?i.push(l):n.push(l));const f=t.matched[a];f&&(e.matched.find(d=>tu(d,f))||o.push(f))}return[n,i,o]}const CU={name:"Home",data(){return{msg:"hello world2"}}};function xU(t,e,n,i,o,u){return _n(),nr("h1",null,ql(o.msg),1)}const OU=pu(CU,[["render",xU]]),RU=NU({history:$j("/vue"),routes:[{path:"/",name:"home",component:OU},{path:"/about",name:"about",component:()=>Sj(()=>import("./About-swMG_MvS.js"),__vite__mapDeps([]))}]});/**
  * vee-validate v4.12.3
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function Je(t){return typeof t=="function"}function C1(t){return t==null}const Mo=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function ey(t){return Number(t)>=0}function DU(t){const e=parseFloat(t);return isNaN(e)?t:e}function PU(t){return typeof t=="object"&&t!==null}function LU(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function MU(t){if(!PU(t)||LU(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Ka(t,e){return Object.keys(e).forEach(n=>{if(MU(e[n])){t[n]||(t[n]={}),Ka(t[n],e[n]);return}t[n]=e[n]}),t}function sa(t){const e=t.split(".");if(!e.length)return"";let n=String(e[0]);for(let i=1;i<e.length;i++){if(ey(e[i])){n+=`[${e[i]}]`;continue}n+=`.${e[i]}`}return n}const x1={};function fr(t,e){VU(t,e),x1[t]=e}function FU(t){return x1[t]}function VU(t,e){if(!Je(e))throw new Error(`Extension Error: The validator '${t}' must be a function.`)}function nI(t,e,n){typeof n.value=="object"&&(n.value=le(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function le(t){if(typeof t!="object")return t;var e=0,n,i,o,u=Object.prototype.toString.call(t);if(u==="[object Object]"?o=Object.create(t.__proto__||null):u==="[object Array]"?o=Array(t.length):u==="[object Set]"?(o=new Set,t.forEach(function(a){o.add(le(a))})):u==="[object Map]"?(o=new Map,t.forEach(function(a,l){o.set(le(l),le(a))})):u==="[object Date]"?o=new Date(+t):u==="[object RegExp]"?o=new RegExp(t.source,t.flags):u==="[object DataView]"?o=new t.constructor(le(t.buffer)):u==="[object ArrayBuffer]"?o=t.slice(0):u.slice(-6)==="Array]"&&(o=new t.constructor(t)),o){for(i=Object.getOwnPropertySymbols(t);e<i.length;e++)nI(o,i[e],Object.getOwnPropertyDescriptor(t,i[e]));for(e=0,i=Object.getOwnPropertyNames(t);e<i.length;e++)Object.hasOwnProperty.call(o,n=i[e])&&o[n]===t[n]||nI(o,n,Object.getOwnPropertyDescriptor(t,n))}return o||t}const gh=Symbol("vee-validate-form"),jU=Symbol("vee-validate-field-instance"),Ef=Symbol("Default empty value"),UU=typeof window<"u";function hg(t){return Je(t)&&!!t.__locatorRef}function vr(t){return!!t&&Je(t.parse)&&t.__type==="VVTypedSchema"}function If(t){return!!t&&Je(t.validate)}function fc(t){return t==="checkbox"||t==="radio"}function BU(t){return Mo(t)||Array.isArray(t)}function qU(t){return Array.isArray(t)?t.length===0:Mo(t)&&Object.keys(t).length===0}function mh(t){return/^\[.+\]$/i.test(t)}function $U(t){return O1(t)&&t.multiple}function O1(t){return t.tagName==="SELECT"}function KU(t,e){const n=![!1,null,void 0,0].includes(e.multiple)&&!Number.isNaN(e.multiple);return t==="select"&&"multiple"in e&&n}function HU(t,e){return!KU(t,e)&&e.type!=="file"&&!fc(e.type)}function R1(t){return ny(t)&&t.target&&"submit"in t.target}function ny(t){return t?!!(typeof Event<"u"&&Je(Event)&&t instanceof Event||t&&t.srcElement):!1}function rI(t,e){return e in t&&t[e]!==Ef}function Tn(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!Tn(t[i],e[i]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;for(i of t.entries())if(!Tn(i[1],e.get(i[0])))return!1;return!0}if(iI(t)&&iI(e))return!(t.size!==e.size||t.name!==e.name||t.lastModified!==e.lastModified||t.type!==e.type);if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();for(o=Object.keys(t),n=o.length,i=n;i--!==0;){var u=o[i];if(!Tn(t[u],e[u]))return!1}return!0}return t!==t&&e!==e}function iI(t){return UU?t instanceof File:!1}function ry(t){return mh(t)?t.replace(/\[|\]/gi,""):t}function xn(t,e,n){return t?mh(e)?t[ry(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,u)=>BU(o)&&u in o?o[u]:n,t):n}function bi(t,e,n){if(mh(e)){t[ry(e)]=n;return}const i=e.split(/\.|\[(\d+)\]/).filter(Boolean);let o=t;for(let u=0;u<i.length;u++){if(u===i.length-1){o[i[u]]=n;return}(!(i[u]in o)||C1(o[i[u]]))&&(o[i[u]]=ey(i[u+1])?[]:{}),o=o[i[u]]}}function gv(t,e){if(Array.isArray(t)&&ey(e)){t.splice(Number(e),1);return}Mo(t)&&delete t[e]}function oI(t,e){if(mh(e)){delete t[ry(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let i=t;for(let u=0;u<n.length;u++){if(u===n.length-1){gv(i,n[u]);break}if(!(n[u]in i)||C1(i[n[u]]))break;i=i[n[u]]}const o=n.map((u,a)=>xn(t,n.slice(0,a).join(".")));for(let u=o.length-1;u>=0;u--)if(qU(o[u])){if(u===0){gv(t,n[0]);continue}gv(o[u-1],n[u-1])}}function er(t){return Object.keys(t)}function D1(t,e=void 0){const n=Mf();return(n==null?void 0:n.provides[t])||ir(t,e)}function sI(t,e,n){if(Array.isArray(t)){const i=[...t],o=i.findIndex(u=>Tn(u,e));return o>=0?i.splice(o,1):i.push(e),i}return Tn(t,e)?n:e}function uI(t,e=0){let n=null,i=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const u=t(...o);i.forEach(a=>a(u)),i=[]},e),new Promise(u=>i.push(u))}}function zU(t,e){return Mo(e)&&e.number?DU(t):t}function dg(t,e){let n;return async function(...o){const u=t(...o);n=u;const a=await u;return u!==n?a:(n=void 0,e(a,o))}}function pg(t){return Array.isArray(t)?t:t?[t]:[]}function Nl(t,e){const n={};for(const i in t)e.includes(i)||(n[i]=t[i]);return n}function GU(t){let e=null,n=[];return function(...i){const o=qn(()=>{if(e!==o)return;const u=t(...i);n.forEach(a=>a(u)),n=[],e=null});return e=o,new Promise(u=>n.push(u))}}function iy(t,e,n){return e.slots.default?typeof t=="string"||!t?e.slots.default(n()):{default:()=>{var i,o;return(o=(i=e.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:e.slots.default}function mv(t){if(P1(t))return t._value}function P1(t){return"_value"in t}function WU(t){return t.type==="number"||t.type==="range"?Number.isNaN(t.valueAsNumber)?t.value:t.valueAsNumber:t.value}function Tf(t){if(!ny(t))return t;const e=t.target;if(fc(e.type)&&P1(e))return mv(e);if(e.type==="file"&&e.files){const n=Array.from(e.files);return e.multiple?n:n[0]}if($U(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(mv);if(O1(e)){const n=Array.from(e.options).find(i=>i.selected);return n?mv(n):e.value}return WU(e)}function L1(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?Mo(t)&&t._$$isNormalized?t:Mo(t)?Object.keys(t).reduce((n,i)=>{const o=QU(t[i]);return t[i]!==!1&&(n[i]=aI(o)),n},e):typeof t!="string"?e:t.split("|").reduce((n,i)=>{const o=XU(i);return o.name&&(n[o.name]=aI(o.params)),n},e):e}function QU(t){return t===!0?[]:Array.isArray(t)||Mo(t)?t:[t]}function aI(t){const e=n=>typeof n=="string"&&n[0]==="@"?YU(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,i)=>(n[i]=e(t[i]),n),{})}const XU=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function YU(t){const e=n=>xn(n,t)||n[t];return e.__locatorRef=t,e}function JU(t){return Array.isArray(t)?t.filter(hg):er(t).filter(e=>hg(t[e])).map(e=>t[e])}const ZU={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let vg=Object.assign({},ZU);const _o=()=>vg,tB=t=>{vg=Object.assign(Object.assign({},vg),t)},eB=tB;async function M1(t,e,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:e,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await nB(o,t)).errors;return{errors:a,valid:!a.length}}async function nB(t,e){if(vr(t.rules)||If(t.rules))return iB(e,t.rules);if(Je(t.rules)||Array.isArray(t.rules)){const a={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:e},l=Array.isArray(t.rules)?t.rules:[t.rules],f=l.length,d=[];for(let v=0;v<f;v++){const g=l[v],m=await g(e,a);if(!(typeof m!="string"&&!Array.isArray(m)&&m)){if(Array.isArray(m))d.push(...m);else{const _=typeof m=="string"?m:V1(a);d.push(_)}if(t.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},t),{rules:L1(t.rules)}),i=[],o=Object.keys(n.rules),u=o.length;for(let a=0;a<u;a++){const l=o[a],f=await oB(n,e,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),t.bails))return{errors:i}}return{errors:i}}function rB(t){return!!t&&t.name==="ValidationError"}function F1(t){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await t.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!rB(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const u=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(u)}}}}}async function iB(t,e){const i=await(vr(e)?e:F1(e)).parse(t),o=[];for(const u of i.errors)u.errors.length&&o.push(...u.errors);return{errors:o}}async function oB(t,e,n){const i=FU(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=sB(n.params,t.formData),u={field:t.label||t.name,name:t.name,label:t.label,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(e,o,u);return typeof a=="string"?{error:a}:{error:a?void 0:V1(u)}}function V1(t){const e=_o().generateMessage;return e?e(t):"Field is invalid"}function sB(t,e){const n=i=>hg(i)?i(e):i;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((i,o)=>(i[o]=n(t[o]),i),{})}async function uB(t,e){const i=await(vr(t)?t:F1(t)).parse(le(e)),o={},u={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,v)=>`[${v}]`);o[f]={valid:!l.length,errors:l},l.length&&(u[f]=l[0])}return{valid:!i.errors.length,results:o,errors:u,values:i.value}}async function aB(t,e,n){const o=er(t).map(async d=>{var v,g,m;const b=(v=n==null?void 0:n.names)===null||v===void 0?void 0:v[d],_=await M1(xn(e,d),t[d],{name:(b==null?void 0:b.name)||d,label:b==null?void 0:b.label,values:e,bails:(m=(g=n==null?void 0:n.bailsMap)===null||g===void 0?void 0:g[d])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},_),{path:d})});let u=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(u=!1,f[d.path]=d.errors[0]);return{valid:u,results:l,errors:f}}let cI=0;function cB(t,e){const{value:n,initialValue:i,setInitialValue:o}=lB(t,e.modelValue,e.form);if(!e.form){let f=function(b){var _;"value"in b&&(n.value=b.value),"errors"in b&&v(b.errors),"touched"in b&&(m.touched=(_=b.touched)!==null&&_!==void 0?_:m.touched),"initialValue"in b&&o(b.initialValue)};const{errors:d,setErrors:v}=dB(),g=cI>=Number.MAX_SAFE_INTEGER?0:++cI,m=hB(n,i,d,e.schema);return{id:g,path:t,value:n,initialValue:i,meta:m,flags:{pendingUnmount:{[g]:!1},pendingReset:!1},errors:d,setState:f}}const u=e.form.createPathState(t,{bails:e.bails,label:e.label,type:e.type,validate:e.validate,schema:e.schema}),a=Mt(()=>u.errors);function l(f){var d,v,g;"value"in f&&(n.value=f.value),"errors"in f&&((d=e.form)===null||d===void 0||d.setFieldError(Yt(t),f.errors)),"touched"in f&&((v=e.form)===null||v===void 0||v.setFieldTouched(Yt(t),(g=f.touched)!==null&&g!==void 0?g:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(u.id)?u.id[u.id.length-1]:u.id,path:t,value:n,errors:a,meta:u,initialValue:i,flags:u.__flags,setState:l}}function lB(t,e,n){const i=mn(Yt(e));function o(){return n?xn(n.initialValues.value,Yt(t),Yt(i)):Yt(i)}function u(d){if(!n){i.value=d;return}n.setFieldInitialValue(Yt(t),d,!0)}const a=Mt(o);if(!n)return{value:mn(o()),initialValue:a,setInitialValue:u};const l=fB(e,n,a,t);return n.stageInitialValue(Yt(t),l,!0),{value:Mt({get(){return xn(n.values,Yt(t))},set(d){n.setFieldValue(Yt(t),d,!1)}}),initialValue:a,setInitialValue:u}}function fB(t,e,n,i){return he(t)?Yt(t):t!==void 0?t:xn(e.values,Yt(i),Yt(n))}function hB(t,e,n,i){var o,u;const a=(u=(o=i==null?void 0:i.describe)===null||o===void 0?void 0:o.call(i).required)!==null&&u!==void 0?u:!1,l=ei({touched:!1,pending:!1,valid:!0,required:a,validated:!!Yt(n).length,initialValue:Mt(()=>Yt(e)),dirty:Mt(()=>!Tn(Yt(t),Yt(e)))});return rr(n,f=>{l.valid=!f.length},{immediate:!0,flush:"sync"}),l}function dB(){const t=mn([]);return{errors:t,setErrors:e=>{t.value=pg(e)}}}function pB(t,e,n){return fc(n==null?void 0:n.type)?gB(t,e,n):j1(t,e,n)}function j1(t,e,n){const{initialValue:i,validateOnMount:o,bails:u,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:v,controlled:g,keepValueOnUnmount:m,syncVModel:b,form:_}=vB(n),S=g?D1(gh):void 0,N=_||S,O=Mt(()=>sa(ne(t))),P=Mt(()=>{if(ne(N==null?void 0:N.schema))return;const pt=Yt(e);return If(pt)||vr(pt)||Je(pt)||Array.isArray(pt)?pt:L1(pt)}),{id:U,value:q,initialValue:rt,meta:F,setState:Et,errors:W,flags:ht}=cB(O,{modelValue:i,form:N,bails:u,label:f,type:a,validate:P.value?Zt:void 0,schema:vr(e)?e:void 0}),A=Mt(()=>W.value[0]);b&&mB({value:q,prop:b,handleChange:it,shouldValidate:()=>d&&!ht.pendingReset});const Qt=(ct,pt=!1)=>{F.touched=!0,pt&&ae()};async function oe(ct){var pt,D;if(N!=null&&N.validateSchema){const{results:j}=await N.validateSchema(ct);return(pt=j[ne(O)])!==null&&pt!==void 0?pt:{valid:!0,errors:[]}}return P.value?M1(q.value,P.value,{name:ne(O),label:ne(f),values:(D=N==null?void 0:N.values)!==null&&D!==void 0?D:{},bails:u}):{valid:!0,errors:[]}}const ae=dg(async()=>(F.pending=!0,F.validated=!0,oe("validated-only")),ct=>(ht.pendingUnmount[pe.id]||(Et({errors:ct.errors}),F.pending=!1,F.valid=ct.valid),ct)),fe=dg(async()=>oe("silent"),ct=>(F.valid=ct.valid,ct));function Zt(ct){return(ct==null?void 0:ct.mode)==="silent"?fe():ae()}function it(ct,pt=!0){const D=Tf(ct);Ce(D,pt)}Pg(()=>{if(o)return ae();(!N||!N.validateSchema)&&fe()});function Dt(ct){F.touched=ct}function bt(ct){var pt;const D=ct&&"value"in ct?ct.value:rt.value;Et({value:le(D),initialValue:le(D),touched:(pt=ct==null?void 0:ct.touched)!==null&&pt!==void 0?pt:!1,errors:(ct==null?void 0:ct.errors)||[]}),F.pending=!1,F.validated=!1,fe()}const Ie=Mf();function Ce(ct,pt=!0){q.value=Ie&&b?zU(ct,Ie.props.modelModifiers):ct,(pt?ae:fe)()}function Be(ct){Et({errors:Array.isArray(ct)?ct:[ct]})}const De=Mt({get(){return q.value},set(ct){Ce(ct,d)}}),pe={id:U,name:O,label:f,value:De,meta:F,errors:W,errorMessage:A,type:a,checkedValue:l,uncheckedValue:v,bails:u,keepValueOnUnmount:m,resetField:bt,handleReset:()=>bt(),validate:Zt,handleChange:it,handleBlur:Qt,setState:Et,setTouched:Dt,setErrors:Be,setValue:Ce};if(xs(jU,pe),he(e)&&typeof Yt(e)!="function"&&rr(e,(ct,pt)=>{Tn(ct,pt)||(F.validated?ae():fe())},{deep:!0}),!N)return pe;const Fn=Mt(()=>{const ct=P.value;return!ct||Je(ct)||If(ct)||vr(ct)||Array.isArray(ct)?{}:Object.keys(ct).reduce((pt,D)=>{const j=JU(ct[D]).map(Z=>Z.__locatorRef).reduce((Z,st)=>{const kt=xn(N.values,st)||N.values[st];return kt!==void 0&&(Z[st]=kt),Z},{});return Object.assign(pt,j),pt},{})});return rr(Fn,(ct,pt)=>{if(!Object.keys(ct).length)return;!Tn(ct,pt)&&(F.validated?ae():fe())}),JI(()=>{var ct;const pt=(ct=ne(pe.keepValueOnUnmount))!==null&&ct!==void 0?ct:ne(N.keepValuesOnUnmount),D=ne(O);if(pt||!N||ht.pendingUnmount[pe.id]){N==null||N.removePathState(D,U);return}ht.pendingUnmount[pe.id]=!0;const j=N.getPathState(D);if(Array.isArray(j==null?void 0:j.id)&&(j!=null&&j.multiple)?j!=null&&j.id.includes(pe.id):(j==null?void 0:j.id)===pe.id){if(j!=null&&j.multiple&&Array.isArray(j.value)){const st=j.value.findIndex(kt=>Tn(kt,ne(pe.checkedValue)));if(st>-1){const kt=[...j.value];kt.splice(st,1),N.setFieldValue(D,kt)}Array.isArray(j.id)&&j.id.splice(j.id.indexOf(pe.id),1)}else N.unsetPathValue(ne(O));N.removePathState(D,U)}}),pe}function vB(t){const e=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(t!=null&&t.syncVModel),i=typeof(t==null?void 0:t.syncVModel)=="string"?t.syncVModel:(t==null?void 0:t.modelPropName)||"modelValue",o=n&&!("initialValue"in(t||{}))?gg(Mf(),i):t==null?void 0:t.initialValue;if(!t)return Object.assign(Object.assign({},e()),{initialValue:o});const u="valueProp"in t?t.valueProp:t.checkedValue,a="standalone"in t?!t.standalone:t.controlled,l=(t==null?void 0:t.modelPropName)||(t==null?void 0:t.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},e()),t||{}),{initialValue:o,controlled:a??!0,checkedValue:u,syncVModel:l})}function gB(t,e,n){const i=n!=null&&n.standalone?void 0:D1(gh),o=n==null?void 0:n.checkedValue,u=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=Mt(()=>{const g=ne(l.value),m=ne(o);return Array.isArray(g)?g.findIndex(b=>Tn(b,m))>=0:Tn(m,g)});function v(g,m=!0){var b,_;if(d.value===((b=g==null?void 0:g.target)===null||b===void 0?void 0:b.checked)){m&&l.validate();return}const S=ne(t),N=i==null?void 0:i.getPathState(S),O=Tf(g);let P=(_=ne(o))!==null&&_!==void 0?_:O;i&&(N!=null&&N.multiple)&&N.type==="checkbox"?P=sI(xn(i.values,S)||[],P,void 0):(n==null?void 0:n.type)==="checkbox"&&(P=sI(ne(l.value),P,ne(u))),f(P,m)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:u,handleChange:v})}return a(j1(t,e,n))}function mB({prop:t,value:e,handleChange:n,shouldValidate:i}){const o=Mf();if(!o||!t)return;const u=typeof t=="string"?t:"modelValue",a=`update:${u}`;u in o.props&&(rr(e,l=>{Tn(l,gg(o,u))||o.emit(a,l)}),rr(()=>gg(o,u),l=>{if(l===Ef&&e.value===void 0)return;const f=l===Ef?void 0:l;Tn(f,e.value)||n(f,i())}))}function gg(t,e){if(t)return t.props[e]}const yB=Ha({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>_o().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Ef},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(t,e){const n=ho(t,"rules"),i=ho(t,"name"),o=ho(t,"label"),u=ho(t,"uncheckedValue"),a=ho(t,"keepValue"),{errors:l,value:f,errorMessage:d,validate:v,handleChange:g,handleBlur:m,setTouched:b,resetField:_,handleReset:S,meta:N,checked:O,setErrors:P}=pB(i,n,{validateOnMount:t.validateOnMount,bails:t.bails,standalone:t.standalone,type:e.attrs.type,initialValue:bB(t,e),checkedValue:e.attrs.value,uncheckedValue:u,label:o,validateOnValueUpdate:t.validateOnModelUpdate,keepValueOnUnmount:a,syncVModel:!0}),U=function(ht,A=!0){g(ht,A)},q=Mt(()=>{const{validateOnInput:W,validateOnChange:ht,validateOnBlur:A,validateOnModelUpdate:Qt}=wB(t);function oe(it){m(it,A),Je(e.attrs.onBlur)&&e.attrs.onBlur(it)}function ae(it){U(it,W),Je(e.attrs.onInput)&&e.attrs.onInput(it)}function fe(it){U(it,ht),Je(e.attrs.onChange)&&e.attrs.onChange(it)}const Zt={name:t.name,onBlur:oe,onInput:ae,onChange:fe};return Zt["onUpdate:modelValue"]=it=>U(it,Qt),Zt}),rt=Mt(()=>{const W=Object.assign({},q.value);fc(e.attrs.type)&&O&&(W.checked=O.value);const ht=lI(t,e);return HU(ht,e.attrs)&&(W.value=f.value),W}),F=Mt(()=>Object.assign(Object.assign({},q.value),{modelValue:f.value}));function Et(){return{field:rt.value,componentField:F.value,value:f.value,meta:N,errors:l.value,errorMessage:d.value,validate:v,resetField:_,handleChange:U,handleInput:W=>U(W,!1),handleReset:S,handleBlur:q.value.onBlur,setTouched:b,setErrors:P}}return e.expose({value:f,meta:N,errors:l,errorMessage:d,setErrors:P,setTouched:b,reset:_,validate:v,handleChange:g}),()=>{const W=Rg(lI(t,e)),ht=iy(W,e,Et);return W?Ls(W,Object.assign(Object.assign({},e.attrs),rt.value),ht):ht}}});function lI(t,e){let n=t.as||"";return!t.as&&!e.slots.default&&(n="input"),n}function wB(t){var e,n,i,o;const{validateOnInput:u,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=_o();return{validateOnInput:(e=t.validateOnInput)!==null&&e!==void 0?e:u,validateOnChange:(n=t.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=t.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=t.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function bB(t,e){return fc(e.attrs.type)?rI(t,"modelValue")?t.modelValue:void 0:rI(t,"modelValue")?t.modelValue:e.attrs.value}const _B=yB;let EB=0;const kl=["bails","fieldsCount","id","multiple","type","validate"];function U1(t){const e=Object.assign({},ne((t==null?void 0:t.initialValues)||{})),n=Yt(t==null?void 0:t.validationSchema);return n&&vr(n)&&Je(n.cast)?le(n.cast(e)||{}):le(e)}function IB(t){var e;const n=EB++;let i=0;const o=mn(!1),u=mn(!1),a=mn(0),l=[],f=ei(U1(t)),d=mn([]),v=mn({}),g=mn({}),m=GU(()=>{g.value=d.value.reduce((k,x)=>(k[sa(ne(x.path))]=x,k),{})});function b(k,x){const B=it(k);if(!B){typeof k=="string"&&(v.value[sa(k)]=pg(x));return}if(typeof k=="string"){const J=sa(k);v.value[J]&&delete v.value[J]}B.errors=pg(x),B.valid=!B.errors.length}function _(k){er(k).forEach(x=>{b(x,k[x])})}t!=null&&t.initialErrors&&_(t.initialErrors);const S=Mt(()=>{const k=d.value.reduce((x,B)=>(B.errors.length&&(x[B.path]=B.errors),x),{});return Object.assign(Object.assign({},v.value),k)}),N=Mt(()=>er(S.value).reduce((k,x)=>{const B=S.value[x];return B!=null&&B.length&&(k[x]=B[0]),k},{})),O=Mt(()=>d.value.reduce((k,x)=>(k[x.path]={name:x.path||"",label:x.label||""},k),{})),P=Mt(()=>d.value.reduce((k,x)=>{var B;return k[x.path]=(B=x.bails)!==null&&B!==void 0?B:!0,k},{})),U=Object.assign({},(t==null?void 0:t.initialErrors)||{}),q=(e=t==null?void 0:t.keepValuesOnUnmount)!==null&&e!==void 0?e:!1,{initialValues:rt,originalInitialValues:F,setInitialValues:Et}=SB(d,f,t),W=TB(d,f,F,N),ht=Mt(()=>d.value.reduce((k,x)=>{const B=xn(f,x.path);return bi(k,x.path,B),k},{})),A=t==null?void 0:t.validationSchema;function Qt(k,x){var B,J;const Tt=Mt(()=>xn(rt.value,ne(k))),dt=g.value[ne(k)],At=(x==null?void 0:x.type)==="checkbox"||(x==null?void 0:x.type)==="radio";if(dt&&At){dt.multiple=!0;const Se=i++;return Array.isArray(dt.id)?dt.id.push(Se):dt.id=[dt.id,Se],dt.fieldsCount++,dt.__flags.pendingUnmount[Se]=!1,dt}const Gt=Mt(()=>xn(f,ne(k))),Ut=ne(k),Qe=Mt(()=>{var Se,Er,oi,vu,Ir,Ho;return vr(A)?(oi=(Er=(Se=A).describe)===null||Er===void 0?void 0:Er.call(Se,ne(k)).required)!==null&&oi!==void 0?oi:!1:vr(x==null?void 0:x.schema)&&(Ho=(Ir=(vu=x==null?void 0:x.schema).describe)===null||Ir===void 0?void 0:Ir.call(vu).required)!==null&&Ho!==void 0?Ho:!1}),Bt=i++,Te=ei({id:Bt,path:k,touched:!1,pending:!1,valid:!0,validated:!!(!((B=U[Ut])===null||B===void 0)&&B.length),required:Qe,initialValue:Tt,errors:FI([]),bails:(J=x==null?void 0:x.bails)!==null&&J!==void 0?J:!1,label:x==null?void 0:x.label,type:(x==null?void 0:x.type)||"default",value:Gt,multiple:!1,__flags:{pendingUnmount:{[Bt]:!1},pendingReset:!1},fieldsCount:1,validate:x==null?void 0:x.validate,dirty:Mt(()=>!Tn(Yt(Gt),Yt(Tt)))});return d.value.push(Te),g.value[Ut]=Te,m(),N.value[Ut]&&!U[Ut]&&qn(()=>{X(Ut,{mode:"silent"})}),he(k)&&rr(k,Se=>{m();const Er=le(Gt.value);g.value[Se]=Te,qn(()=>{bi(f,Se,Er)})}),Te}const oe=uI(at,5),ae=uI(at,5),fe=dg(async k=>await(k==="silent"?oe():ae()),(k,[x])=>{const B=er(pt.errorBag.value),Tt=[...new Set([...er(k.results),...d.value.map(dt=>dt.path),...B])].sort().reduce((dt,At)=>{var Gt;const Ut=At,Qe=it(Ut)||Dt(Ut),Bt=((Gt=k.results[Ut])===null||Gt===void 0?void 0:Gt.errors)||[],Te=ne(Qe==null?void 0:Qe.path)||Ut,Se=AB({errors:Bt,valid:!Bt.length},dt.results[Te]);return dt.results[Te]=Se,Se.valid||(dt.errors[Te]=Se.errors[0]),Qe&&v.value[Te]&&delete v.value[Te],Qe?(Qe.valid=Se.valid,x==="silent"||x==="validated-only"&&!Qe.validated||b(Qe,Se.errors),dt):(b(Te,Bt),dt)},{valid:k.valid,results:{},errors:{}});return k.values&&(Tt.values=k.values),Tt});function Zt(k){d.value.forEach(k)}function it(k){const x=typeof k=="string"?sa(k):k;return typeof x=="string"?g.value[x]:x}function Dt(k){return d.value.filter(B=>k.startsWith(B.path)).reduce((B,J)=>B?J.path.length>B.path.length?J:B:J,void 0)}let bt=[],Ie;function Ce(k){return bt.push(k),Ie||(Ie=qn(()=>{[...bt].sort().reverse().forEach(B=>{oI(f,B)}),bt=[],Ie=null})),Ie}function Be(k){return function(B,J){return function(dt){return dt instanceof Event&&(dt.preventDefault(),dt.stopPropagation()),Zt(At=>At.touched=!0),o.value=!0,a.value++,tt().then(At=>{const Gt=le(f);if(At.valid&&typeof B=="function"){const Ut=le(ht.value);let Qe=k?Ut:Gt;return At.values&&(Qe=At.values),B(Qe,{evt:dt,controlledValues:Ut,setErrors:_,setFieldError:b,setTouched:L,setFieldTouched:kt,setValues:Z,setFieldValue:D,resetForm:K,resetField:V})}!At.valid&&typeof J=="function"&&J({values:Gt,evt:dt,errors:At.errors,results:At.results})}).then(At=>(o.value=!1,At),At=>{throw o.value=!1,At})}}}const pe=Be(!1);pe.withControlled=Be(!0);function Fn(k,x){const B=d.value.findIndex(Tt=>Tt.path===k),J=d.value[B];if(!(B===-1||!J)){if(qn(()=>{X(k,{mode:"silent",warn:!1})}),J.multiple&&J.fieldsCount&&J.fieldsCount--,Array.isArray(J.id)){const Tt=J.id.indexOf(x);Tt>=0&&J.id.splice(Tt,1),delete J.__flags.pendingUnmount[x]}(!J.multiple||J.fieldsCount<=0)&&(d.value.splice(B,1),nt(k),m(),delete g.value[k])}}function ct(k){er(g.value).forEach(x=>{x.startsWith(k)&&delete g.value[x]}),d.value=d.value.filter(x=>!x.path.startsWith(k)),qn(()=>{m()})}const pt={formId:n,values:f,controlledValues:ht,errorBag:S,errors:N,schema:A,submitCount:a,meta:W,isSubmitting:o,isValidating:u,fieldArrays:l,keepValuesOnUnmount:q,validateSchema:Yt(A)?fe:void 0,validate:tt,setFieldError:b,validateField:X,setFieldValue:D,setValues:Z,setErrors:_,setFieldTouched:kt,setTouched:L,resetForm:K,resetField:V,handleSubmit:pe,useFieldModel:Vt,defineInputBinds:_t,defineComponentBinds:zt,defineField:Nt,stageInitialValue:Q,unsetInitialValue:nt,setFieldInitialValue:vt,createPathState:Qt,getPathState:it,unsetPathValue:Ce,removePathState:Fn,initialValues:rt,getAllPathStates:()=>d.value,destroyPath:ct,isFieldTouched:I,isFieldDirty:T,isFieldValid:C};function D(k,x,B=!0){const J=le(x),Tt=typeof k=="string"?k:k.path;it(Tt)||Qt(Tt),bi(f,Tt,J),B&&X(Tt)}function j(k,x=!0){er(f).forEach(B=>{delete f[B]}),er(k).forEach(B=>{D(B,k[B],!1)}),x&&tt()}function Z(k,x=!0){Ka(f,k),l.forEach(B=>B&&B.reset()),x&&tt()}function st(k,x){const B=it(ne(k))||Qt(k);return Mt({get(){return B.value},set(J){var Tt;const dt=ne(k);D(dt,J,(Tt=ne(x))!==null&&Tt!==void 0?Tt:!1)}})}function kt(k,x){const B=it(k);B&&(B.touched=x)}function I(k){const x=it(k);return x?x.touched:d.value.filter(B=>B.path.startsWith(k)).some(B=>B.touched)}function T(k){const x=it(k);return x?x.dirty:d.value.filter(B=>B.path.startsWith(k)).some(B=>B.dirty)}function C(k){const x=it(k);return x?x.valid:d.value.filter(B=>B.path.startsWith(k)).every(B=>B.valid)}function L(k){if(typeof k=="boolean"){Zt(x=>{x.touched=k});return}er(k).forEach(x=>{kt(x,!!k[x])})}function V(k,x){var B;const J=x&&"value"in x?x.value:xn(rt.value,k),Tt=it(k);Tt&&(Tt.__flags.pendingReset=!0),vt(k,le(J),!0),D(k,J,!1),kt(k,(B=x==null?void 0:x.touched)!==null&&B!==void 0?B:!1),b(k,(x==null?void 0:x.errors)||[]),qn(()=>{Tt&&(Tt.__flags.pendingReset=!1)})}function K(k,x){let B=le(k!=null&&k.values?k.values:F.value);B=x!=null&&x.force?B:Ka(F.value,B),B=vr(A)&&Je(A.cast)?A.cast(B):B,Et(B),Zt(J=>{var Tt;J.__flags.pendingReset=!0,J.validated=!1,J.touched=((Tt=k==null?void 0:k.touched)===null||Tt===void 0?void 0:Tt[J.path])||!1,D(J.path,xn(B,J.path),!1),b(J.path,void 0)}),x!=null&&x.force?j(B,!1):Z(B,!1),_((k==null?void 0:k.errors)||{}),a.value=(k==null?void 0:k.submitCount)||0,qn(()=>{tt({mode:"silent"}),Zt(J=>{J.__flags.pendingReset=!1})})}async function tt(k){const x=(k==null?void 0:k.mode)||"force";if(x==="force"&&Zt(dt=>dt.validated=!0),pt.validateSchema)return pt.validateSchema(x);u.value=!0;const B=await Promise.all(d.value.map(dt=>dt.validate?dt.validate(k).then(At=>({key:dt.path,valid:At.valid,errors:At.errors})):Promise.resolve({key:dt.path,valid:!0,errors:[]})));u.value=!1;const J={},Tt={};for(const dt of B)J[dt.key]={valid:dt.valid,errors:dt.errors},dt.errors.length&&(Tt[dt.key]=dt.errors[0]);return{valid:B.every(dt=>dt.valid),results:J,errors:Tt}}async function X(k,x){var B;const J=it(k);if(J&&(x==null?void 0:x.mode)!=="silent"&&(J.validated=!0),A){const{results:Tt}=await fe((x==null?void 0:x.mode)||"validated-only");return Tt[k]||{errors:[],valid:!0}}return J!=null&&J.validate?J.validate(x):(!J&&(B=x==null?void 0:x.warn),Promise.resolve({errors:[],valid:!0}))}function nt(k){oI(rt.value,k)}function Q(k,x,B=!1){vt(k,x),bi(f,k,x),B&&!(t!=null&&t.initialValues)&&bi(F.value,k,le(x))}function vt(k,x,B=!1){bi(rt.value,k,le(x)),B&&bi(F.value,k,le(x))}async function at(){const k=Yt(A);if(!k)return{valid:!0,results:{},errors:{}};u.value=!0;const x=If(k)||vr(k)?await uB(k,f):await aB(k,f,{names:O.value,bailsMap:P.value});return u.value=!1,x}const yt=pe((k,{evt:x})=>{R1(x)&&x.target.submit()});Pg(()=>{if(t!=null&&t.initialErrors&&_(t.initialErrors),t!=null&&t.initialTouched&&L(t.initialTouched),t!=null&&t.validateOnMount){tt();return}pt.validateSchema&&pt.validateSchema("silent")}),he(A)&&rr(A,()=>{var k;(k=pt.validateSchema)===null||k===void 0||k.call(pt,"validated-only")}),xs(gh,pt);function Nt(k,x){const B=Je(x)||x==null?void 0:x.label,J=it(ne(k))||Qt(k,{label:B}),Tt=()=>Je(x)?x(Nl(J,kl)):x||{};function dt(){var Bt;J.touched=!0,((Bt=Tt().validateOnBlur)!==null&&Bt!==void 0?Bt:_o().validateOnBlur)&&X(J.path)}function At(){var Bt;((Bt=Tt().validateOnInput)!==null&&Bt!==void 0?Bt:_o().validateOnInput)&&qn(()=>{X(J.path)})}function Gt(){var Bt;((Bt=Tt().validateOnChange)!==null&&Bt!==void 0?Bt:_o().validateOnChange)&&qn(()=>{X(J.path)})}const Ut=Mt(()=>{const Bt={onChange:Gt,onInput:At,onBlur:dt};return Je(x)?Object.assign(Object.assign({},Bt),x(Nl(J,kl)).props||{}):x!=null&&x.props?Object.assign(Object.assign({},Bt),x.props(Nl(J,kl))):Bt});return[st(k,()=>{var Bt,Te,Se;return(Se=(Bt=Tt().validateOnModelUpdate)!==null&&Bt!==void 0?Bt:(Te=_o())===null||Te===void 0?void 0:Te.validateOnModelUpdate)!==null&&Se!==void 0?Se:!0}),Ut]}function Vt(k){return Array.isArray(k)?k.map(x=>st(x,!0)):st(k)}function _t(k,x){const[B,J]=Nt(k,x);function Tt(Gt){J.value.onBlur(Gt)}function dt(Gt){const Ut=Tf(Gt);D(ne(k),Ut,!1),J.value.onInput(Gt)}function At(Gt){const Ut=Tf(Gt);D(ne(k),Ut,!1),J.value.onChange(Gt)}return Mt(()=>Object.assign(Object.assign({},J.value),{onBlur:Tt,onInput:dt,onChange:At,value:B.value}))}function zt(k,x){const[B,J]=Nt(k,x),Tt=it(ne(k));function dt(At){B.value=At}return Mt(()=>{const At=Je(x)?x(Nl(Tt,kl)):x||{};return Object.assign({[At.model||"modelValue"]:B.value,[`onUpdate:${At.model||"modelValue"}`]:dt},J.value)})}return Object.assign(Object.assign({},pt),{values:Ag(f),handleReset:()=>K(),submitForm:yt})}function TB(t,e,n,i){const o={touched:"some",pending:"some",valid:"every"},u=Mt(()=>!Tn(e,Yt(n)));function a(){const f=t.value;return er(o).reduce((d,v)=>{const g=o[v];return d[v]=f[g](m=>m[v]),d},{})}const l=ei(a());return jO(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Mt(()=>Object.assign(Object.assign({initialValues:Yt(n)},l),{valid:l.valid&&!er(i.value).length,dirty:u.value}))}function SB(t,e,n){const i=U1(n),o=mn(i),u=mn(le(i));function a(l,f=!1){o.value=Ka(le(o.value)||{},le(l)),u.value=Ka(le(u.value)||{},le(l)),f&&t.value.forEach(d=>{if(d.touched)return;const g=xn(o.value,d.path);bi(e,d.path,le(g))})}return{initialValues:o,originalInitialValues:u,setInitialValues:a}}function AB(t,e){return e?{valid:t.valid&&e.valid,errors:[...t.errors,...e.errors]}:t}const NB=Ha({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(t,e){const n=ho(t,"validationSchema"),i=ho(t,"keepValues"),{errors:o,errorBag:u,values:a,meta:l,isSubmitting:f,isValidating:d,submitCount:v,controlledValues:g,validate:m,validateField:b,handleReset:_,resetForm:S,handleSubmit:N,setErrors:O,setFieldError:P,setFieldValue:U,setValues:q,setFieldTouched:rt,setTouched:F,resetField:Et}=IB({validationSchema:n.value?n:void 0,initialValues:t.initialValues,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount,keepValuesOnUnmount:i}),W=N((it,{evt:Dt})=>{R1(Dt)&&Dt.target.submit()},t.onInvalidSubmit),ht=t.onSubmit?N(t.onSubmit,t.onInvalidSubmit):W;function A(it){ny(it)&&it.preventDefault(),_(),typeof e.attrs.onReset=="function"&&e.attrs.onReset()}function Qt(it,Dt){return N(typeof it=="function"&&!Dt?it:Dt,t.onInvalidSubmit)(it)}function oe(){return le(a)}function ae(){return le(l.value)}function fe(){return le(o.value)}function Zt(){return{meta:l.value,errors:o.value,errorBag:u.value,values:a,isSubmitting:f.value,isValidating:d.value,submitCount:v.value,controlledValues:g.value,validate:m,validateField:b,handleSubmit:Qt,handleReset:_,submitForm:W,setErrors:O,setFieldError:P,setFieldValue:U,setValues:q,setFieldTouched:rt,setTouched:F,resetForm:S,resetField:Et,getValues:oe,getMeta:ae,getErrors:fe}}return e.expose({setFieldError:P,setErrors:O,setFieldValue:U,setValues:q,setFieldTouched:rt,setTouched:F,resetForm:S,validate:m,validateField:b,resetField:Et,getValues:oe,getMeta:ae,getErrors:fe,values:a,meta:l,errors:o}),function(){const Dt=t.as==="form"?t.as:t.as?Rg(t.as):null,bt=iy(Dt,e,Zt);return Dt?Ls(Dt,Object.assign(Object.assign(Object.assign({},Dt==="form"?{novalidate:!0}:{}),e.attrs),{onSubmit:ht,onReset:A}),bt):bt}}}),kB=NB,CB=Ha({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,e){const n=ir(gh,void 0),i=Mt(()=>n==null?void 0:n.errors.value[t.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const u=t.as?Rg(t.as):t.as,a=iy(u,e,o),l=Object.assign({role:"alert"},e.attrs);return!u&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Ls(u||"span",l,i.value):Ls(u,l,a)}}}),xB=CB;/**
  * vee-validate v4.12.3
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const Cl={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},OB=t=>{if(t)return Array.isArray(t)?t[0]:t.locale};function hc(t,e){return Array.isArray(t)?t[0]:t[e]}function qi(t){return!!(t==null||t===""||Array.isArray(t)&&t.length===0)}const B1=(t,e)=>{if(qi(t))return!0;const n=OB(e);if(Array.isArray(t))return t.every(o=>B1(o,{locale:n}));const i=String(t);return n?(Cl[n]||Cl.en).test(i):Object.keys(Cl).some(o=>Cl[o].test(i))},RB=(t,e)=>{const n=hc(e,"target");return String(t)===String(n)},fI=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,DB=t=>qi(t)?!0:Array.isArray(t)?t.every(e=>fI.test(String(e))):fI.test(String(t)),q1=(t,e)=>{if(qi(t))return!0;const n=hc(e,"length");return Array.isArray(t)?t.every(i=>q1(i,{length:n})):[...String(t)].length<=Number(n)},$1=(t,e)=>{if(qi(t))return!0;const n=hc(e,"max");return Array.isArray(t)?t.length>0&&t.every(i=>$1(i,{max:n})):Number(t)<=Number(n)},K1=(t,e)=>{if(qi(t))return!0;const n=hc(e,"length");return Array.isArray(t)?t.every(i=>K1(i,{length:n})):[...String(t)].length>=Number(n)},H1=(t,e)=>{if(qi(t))return!0;const n=hc(e,"min");return Array.isArray(t)?t.length>0&&t.every(i=>H1(i,{min:n})):Number(t)>=Number(n)},z1=(t,e)=>qi(t)?!0:Array.isArray(t)?t.every(n=>z1(n,e)):Array.from(e).some(n=>n==t),hI=(t,e)=>qi(t)?!0:!z1(t,e);function PB(t){return t==null}function LB(t){return Array.isArray(t)&&t.length===0}const dI=t=>PB(t)||LB(t)||t===!1?!1:!!String(t).trim().length,MB={install(t){t.component("VeeForm",kB),t.component("VeeField",_B),t.component("ErrorMessage",xB),fr("required",dI),fr("tos",dI),fr("min",K1),fr("max",q1),fr("alpha_spaces",B1),fr("email",DB),fr("min_value",H1),fr("max_value",$1),fr("password_mismatch",RB),fr("not_one_of",hI),fr("country_excluded",hI),eB({generateMessage:e=>{const n={required:`The field ${e.field} is required.`,min:`The field ${e.field} is too short.`,max:`The field ${e.field} is too short.`,alpha_spaces:`The field ${e.field} may only contain alphabetical chars`,email:`The field ${e.field} must be a valid email.`,min_value:`The field ${e.field} is too low.`,max_value:`The field ${e.field} is too high.`,password_mismatch:"The password don't match.",not_one_of:`You are not arrowed to use this value for the field ${e.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",tos:"You must accept the Terms of Service."};return n[e.rule.name]?n[e.rule.name]:`The field ${e.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let ys;ga.onAuthStateChanged(()=>{ys||(ys=rD(Ej),ys.use(sD()),ys.use(RU),ys.use(MB),ys.mount("#app"))});export{pu as _,nr as c,_n as o,ql as t};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}