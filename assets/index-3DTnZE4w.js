(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Xg(e,t){const n=Object.create(null),i=e.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const wt={},Us=[],Kr=()=>{},YC=()=>!1,Gf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Qg=e=>e.startsWith("onUpdate:"),on=Object.assign,Yg=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},JC=Object.prototype.hasOwnProperty,Qe=(e,t)=>JC.call(e,t),Oe=Array.isArray,Vs=e=>Wf(e)==="[object Map]",rT=e=>Wf(e)==="[object Set]",Le=e=>typeof e=="function",Ut=e=>typeof e=="string",gu=e=>typeof e=="symbol",gt=e=>e!==null&&typeof e=="object",iT=e=>(gt(e)||Le(e))&&Le(e.then)&&Le(e.catch),oT=Object.prototype.toString,Wf=e=>oT.call(e),ZC=e=>Wf(e).slice(8,-1),sT=e=>Wf(e)==="[object Object]",Jg=e=>Ut(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ql=Xg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Xf=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},eO=/-(\w)/g,Gr=Xf(e=>e.replace(eO,(t,n)=>n?n.toUpperCase():"")),tO=/\B([A-Z])/g,mu=Xf(e=>e.replace(tO,"-$1").toLowerCase()),Qf=Xf(e=>e.charAt(0).toUpperCase()+e.slice(1)),mv=Xf(e=>e?`on${Qf(e)}`:""),Uo=(e,t)=>!Object.is(e,t),yv=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},af=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},nO=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let w_;const Wv=()=>w_||(w_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Yf(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=Ut(i)?sO(i):Yf(i);if(o)for(const u in o)t[u]=o[u]}return t}else if(Ut(e)||gt(e))return e}const rO=/;(?![^(]*\))/g,iO=/:([^]+)/,oO=/\/\*[^]*?\*\//g;function sO(e){const t={};return e.replace(oO,"").split(rO).forEach(n=>{if(n){const i=n.split(iO);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ar(e){let t="";if(Ut(e))t=e;else if(Oe(e))for(let n=0;n<e.length;n++){const i=ar(e[n]);i&&(t+=i+" ")}else if(gt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const uO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",aO=Xg(uO);function uT(e){return!!e||e===""}const cf=e=>Ut(e)?e:e==null?"":Oe(e)||gt(e)&&(e.toString===oT||!Le(e.toString))?JSON.stringify(e,aT,2):String(e),aT=(e,t)=>t&&t.__v_isRef?aT(e,t.value):Vs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o],u)=>(n[bv(i,u)+" =>"]=o,n),{})}:rT(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>bv(n))}:gu(t)?bv(t):gt(t)&&!Oe(t)&&!sT(t)?String(t):t,bv=(e,t="")=>{var n;return gu(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let Hn;class cT{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Hn,!t&&Hn&&(this.index=(Hn.scopes||(Hn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Hn;try{return Hn=this,t()}finally{Hn=n}}}on(){Hn=this}off(){Hn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function lT(e){return new cT(e)}function cO(e,t=Hn){t&&t.active&&t.effects.push(e)}function fT(){return Hn}function lO(e){Hn&&Hn.cleanups.push(e)}const Zg=e=>{const t=new Set(e);return t.w=0,t.n=0,t},hT=e=>(e.w&Ki)>0,dT=e=>(e.n&Ki)>0,fO=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ki},hO=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const o=t[i];hT(o)&&!dT(o)?o.delete(e):t[n++]=o,o.w&=~Ki,o.n&=~Ki}t.length=n}},lf=new WeakMap;let ga=0,Ki=1;const Xv=30;let _r;const Po=Symbol(""),Qv=Symbol("");class em{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,cO(this,i)}run(){if(!this.active)return this.fn();let t=_r,n=Ui;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=_r,_r=this,Ui=!0,Ki=1<<++ga,ga<=Xv?fO(this):__(this),this.fn()}finally{ga<=Xv&&hO(this),Ki=1<<--ga,_r=this.parent,Ui=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){_r===this?this.deferStop=!0:this.active&&(__(this),this.onStop&&this.onStop(),this.active=!1)}}function __(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Ui=!0;const pT=[];function yu(){pT.push(Ui),Ui=!1}function bu(){const e=pT.pop();Ui=e===void 0?!0:e}function Fn(e,t,n){if(Ui&&_r){let i=lf.get(e);i||lf.set(e,i=new Map);let o=i.get(n);o||i.set(n,o=Zg()),vT(o)}}function vT(e,t){let n=!1;ga<=Xv?dT(e)||(e.n|=Ki,n=!hT(e)):n=!e.has(_r),n&&(e.add(_r),_r.deps.push(e))}function si(e,t,n,i,o,u){const a=lf.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&Oe(e)){const f=Number(i);a.forEach((d,p)=>{(p==="length"||!gu(p)&&p>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":Oe(e)?Jg(n)&&l.push(a.get("length")):(l.push(a.get(Po)),Vs(e)&&l.push(a.get(Qv)));break;case"delete":Oe(e)||(l.push(a.get(Po)),Vs(e)&&l.push(a.get(Qv)));break;case"set":Vs(e)&&l.push(a.get(Po));break}if(l.length===1)l[0]&&Yv(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);Yv(Zg(f))}}function Yv(e,t){const n=Oe(e)?e:[...e];for(const i of n)i.computed&&E_(i);for(const i of n)i.computed||E_(i)}function E_(e,t){(e!==_r||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function dO(e,t){var n;return(n=lf.get(e))==null?void 0:n.get(t)}const pO=Xg("__proto__,__v_isRef,__isVue"),gT=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(gu)),I_=vO();function vO(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Je(this);for(let u=0,a=this.length;u<a;u++)Fn(i,"get",u+"");const o=i[t](...n);return o===-1||o===!1?i[t](...n.map(Je)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){yu();const i=Je(this)[t].apply(this,n);return bu(),i}}),e}function gO(e){const t=Je(this);return Fn(t,"has",e),t.hasOwnProperty(e)}class mT{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,i){const o=this._isReadonly,u=this._shallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return u;if(n==="__v_raw")return i===(o?u?NO:_T:u?wT:bT).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=Oe(t);if(!o){if(a&&Qe(I_,n))return Reflect.get(I_,n,i);if(n==="hasOwnProperty")return gO}const l=Reflect.get(t,n,i);return(gu(n)?gT.has(n):pO(n))||(o||Fn(t,"get",n),u)?l:ht(l)?a&&Jg(n)?l:l.value:gt(l)?o?rm(l):li(l):l}}class yT extends mT{constructor(t=!1){super(!1,t)}set(t,n,i,o){let u=t[n];if(Hs(u)&&ht(u)&&!ht(i))return!1;if(!this._shallow&&(!ff(i)&&!Hs(i)&&(u=Je(u),i=Je(i)),!Oe(t)&&ht(u)&&!ht(i)))return u.value=i,!0;const a=Oe(t)&&Jg(n)?Number(n)<t.length:Qe(t,n),l=Reflect.set(t,n,i,o);return t===Je(o)&&(a?Uo(i,u)&&si(t,"set",n,i):si(t,"add",n,i)),l}deleteProperty(t,n){const i=Qe(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&i&&si(t,"delete",n,void 0),o}has(t,n){const i=Reflect.has(t,n);return(!gu(n)||!gT.has(n))&&Fn(t,"has",n),i}ownKeys(t){return Fn(t,"iterate",Oe(t)?"length":Po),Reflect.ownKeys(t)}}class mO extends mT{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const yO=new yT,bO=new mO,wO=new yT(!0),tm=e=>e,Jf=e=>Reflect.getPrototypeOf(e);function xl(e,t,n=!1,i=!1){e=e.__v_raw;const o=Je(e),u=Je(t);n||(Uo(t,u)&&Fn(o,"get",t),Fn(o,"get",u));const{has:a}=Jf(o),l=i?tm:n?om:Pa;if(a.call(o,t))return l(e.get(t));if(a.call(o,u))return l(e.get(u));e!==o&&e.get(t)}function Nl(e,t=!1){const n=this.__v_raw,i=Je(n),o=Je(e);return t||(Uo(e,o)&&Fn(i,"has",e),Fn(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Rl(e,t=!1){return e=e.__v_raw,!t&&Fn(Je(e),"iterate",Po),Reflect.get(e,"size",e)}function T_(e){e=Je(e);const t=Je(this);return Jf(t).has.call(t,e)||(t.add(e),si(t,"add",e,e)),this}function S_(e,t){t=Je(t);const n=Je(this),{has:i,get:o}=Jf(n);let u=i.call(n,e);u||(e=Je(e),u=i.call(n,e));const a=o.call(n,e);return n.set(e,t),u?Uo(t,a)&&si(n,"set",e,t):si(n,"add",e,t),this}function A_(e){const t=Je(this),{has:n,get:i}=Jf(t);let o=n.call(t,e);o||(e=Je(e),o=n.call(t,e)),i&&i.call(t,e);const u=t.delete(e);return o&&si(t,"delete",e,void 0),u}function k_(){const e=Je(this),t=e.size!==0,n=e.clear();return t&&si(e,"clear",void 0,void 0),n}function Cl(e,t){return function(i,o){const u=this,a=u.__v_raw,l=Je(a),f=t?tm:e?om:Pa;return!e&&Fn(l,"iterate",Po),a.forEach((d,p)=>i.call(o,f(d),f(p),u))}}function Ol(e,t,n){return function(...i){const o=this.__v_raw,u=Je(o),a=Vs(u),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,d=o[e](...i),p=n?tm:t?om:Pa;return!t&&Fn(u,"iterate",f?Qv:Po),{next(){const{value:g,done:m}=d.next();return m?{value:g,done:m}:{value:l?[p(g[0]),p(g[1])]:p(g),done:m}},[Symbol.iterator](){return this}}}}function Si(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function _O(){const e={get(u){return xl(this,u)},get size(){return Rl(this)},has:Nl,add:T_,set:S_,delete:A_,clear:k_,forEach:Cl(!1,!1)},t={get(u){return xl(this,u,!1,!0)},get size(){return Rl(this)},has:Nl,add:T_,set:S_,delete:A_,clear:k_,forEach:Cl(!1,!0)},n={get(u){return xl(this,u,!0)},get size(){return Rl(this,!0)},has(u){return Nl.call(this,u,!0)},add:Si("add"),set:Si("set"),delete:Si("delete"),clear:Si("clear"),forEach:Cl(!0,!1)},i={get(u){return xl(this,u,!0,!0)},get size(){return Rl(this,!0)},has(u){return Nl.call(this,u,!0)},add:Si("add"),set:Si("set"),delete:Si("delete"),clear:Si("clear"),forEach:Cl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=Ol(u,!1,!1),n[u]=Ol(u,!0,!1),t[u]=Ol(u,!1,!0),i[u]=Ol(u,!0,!0)}),[e,n,t,i]}const[EO,IO,TO,SO]=_O();function nm(e,t){const n=t?e?SO:TO:e?IO:EO;return(i,o,u)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(Qe(n,o)&&o in i?n:i,o,u)}const AO={get:nm(!1,!1)},kO={get:nm(!1,!0)},xO={get:nm(!0,!1)},bT=new WeakMap,wT=new WeakMap,_T=new WeakMap,NO=new WeakMap;function RO(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function CO(e){return e.__v_skip||!Object.isExtensible(e)?0:RO(ZC(e))}function li(e){return Hs(e)?e:im(e,!1,yO,AO,bT)}function ET(e){return im(e,!1,wO,kO,wT)}function rm(e){return im(e,!0,bO,xO,_T)}function im(e,t,n,i,o){if(!gt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=o.get(e);if(u)return u;const a=CO(e);if(a===0)return e;const l=new Proxy(e,a===2?i:n);return o.set(e,l),l}function Vi(e){return Hs(e)?Vi(e.__v_raw):!!(e&&e.__v_isReactive)}function Hs(e){return!!(e&&e.__v_isReadonly)}function ff(e){return!!(e&&e.__v_isShallow)}function IT(e){return Vi(e)||Hs(e)}function Je(e){const t=e&&e.__v_raw;return t?Je(t):e}function Zf(e){return af(e,"__v_skip",!0),e}const Pa=e=>gt(e)?li(e):e,om=e=>gt(e)?rm(e):e;function TT(e){Ui&&_r&&(e=Je(e),vT(e.dep||(e.dep=Zg())))}function ST(e,t){e=Je(e);const n=e.dep;n&&Yv(n)}function ht(e){return!!(e&&e.__v_isRef===!0)}function En(e){return kT(e,!1)}function AT(e){return kT(e,!0)}function kT(e,t){return ht(e)?e:new OO(e,t)}class OO{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Je(t),this._value=n?t:Pa(t)}get value(){return TT(this),this._value}set value(t){const n=this.__v_isShallow||ff(t)||Hs(t);t=n?t:Je(t),Uo(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Pa(t),ST(this))}}function Ye(e){return ht(e)?e.value:e}function nt(e){return Le(e)?e():Ye(e)}const PO={get:(e,t,n)=>Ye(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return ht(o)&&!ht(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function xT(e){return Vi(e)?e:new Proxy(e,PO)}function DO(e){const t=Oe(e)?new Array(e.length):{};for(const n in e)t[n]=NT(e,n);return t}class LO{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return dO(Je(this._object),this._key)}}class MO{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function To(e,t,n){return ht(e)?e:Le(e)?new MO(e):gt(e)&&arguments.length>1?NT(e,t,n):En(e)}function NT(e,t,n){const i=e[t];return ht(i)?i:new LO(e,t,n)}class FO{constructor(t,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new em(t,()=>{this._dirty||(this._dirty=!0,ST(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const t=Je(this);return TT(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function jO(e,t,n=!1){let i,o;const u=Le(e);return u?(i=e,o=Kr):(i=e.get,o=e.set),new FO(i,o,u||!o,n)}function qi(e,t,n,i){let o;try{o=i?e(...i):e()}catch(u){eh(u,t,n)}return o}function Tr(e,t,n,i){if(Le(e)){const u=qi(e,t,n,i);return u&&iT(u)&&u.catch(a=>{eh(a,t,n)}),u}const o=[];for(let u=0;u<e.length;u++)o.push(Tr(e[u],t,n,i));return o}function eh(e,t,n,i=!0){const o=t?t.vnode:null;if(t){let u=t.parent;const a=t.proxy,l=n;for(;u;){const d=u.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,a,l)===!1)return}u=u.parent}const f=t.appContext.config.errorHandler;if(f){qi(f,null,10,[e,a,l]);return}}UO(e,n,o,i)}function UO(e,t,n,i=!0){console.error(e)}let Da=!1,Jv=!1;const ln=[];let Br=0;const qs=[];let ni=null,So=0;const RT=Promise.resolve();let sm=null;function zn(e){const t=sm||RT;return e?t.then(this?e.bind(this):e):t}function VO(e){let t=Br+1,n=ln.length;for(;t<n;){const i=t+n>>>1,o=ln[i],u=La(o);u<e||u===e&&o.pre?t=i+1:n=i}return t}function um(e){(!ln.length||!ln.includes(e,Da&&e.allowRecurse?Br+1:Br))&&(e.id==null?ln.push(e):ln.splice(VO(e.id),0,e),CT())}function CT(){!Da&&!Jv&&(Jv=!0,sm=RT.then(PT))}function qO(e){const t=ln.indexOf(e);t>Br&&ln.splice(t,1)}function BO(e){Oe(e)?qs.push(...e):(!ni||!ni.includes(e,e.allowRecurse?So+1:So))&&qs.push(e),CT()}function x_(e,t,n=Da?Br+1:0){for(;n<ln.length;n++){const i=ln[n];if(i&&i.pre){if(e&&i.id!==e.uid)continue;ln.splice(n,1),n--,i()}}}function OT(e){if(qs.length){const t=[...new Set(qs)];if(qs.length=0,ni){ni.push(...t);return}for(ni=t,ni.sort((n,i)=>La(n)-La(i)),So=0;So<ni.length;So++)ni[So]();ni=null,So=0}}const La=e=>e.id==null?1/0:e.id,$O=(e,t)=>{const n=La(e)-La(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function PT(e){Jv=!1,Da=!0,ln.sort($O);try{for(Br=0;Br<ln.length;Br++){const t=ln[Br];t&&t.active!==!1&&qi(t,null,14)}}finally{Br=0,ln.length=0,OT(),Da=!1,sm=null,(ln.length||qs.length)&&PT()}}function KO(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||wt;let o=n;const u=t.startsWith("update:"),a=u&&t.slice(7);if(a&&a in i){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:g,trim:m}=i[p]||wt;m&&(o=n.map(w=>Ut(w)?w.trim():w)),g&&(o=n.map(nO))}let l,f=i[l=mv(t)]||i[l=mv(Gr(t))];!f&&u&&(f=i[l=mv(mu(t))]),f&&Tr(f,e,6,o);const d=i[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Tr(d,e,6,o)}}function DT(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const u=e.emits;let a={},l=!1;if(!Le(e)){const f=d=>{const p=DT(d,t,!0);p&&(l=!0,on(a,p))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!u&&!l?(gt(e)&&i.set(e,null),null):(Oe(u)?u.forEach(f=>a[f]=null):on(a,u),gt(e)&&i.set(e,a),a)}function th(e,t){return!e||!Gf(t)?!1:(t=t.slice(2).replace(/Once$/,""),Qe(e,t[0].toLowerCase()+t.slice(1))||Qe(e,mu(t))||Qe(e,t))}let Qn=null,LT=null;function hf(e){const t=Qn;return Qn=e,LT=e&&e.type.__scopeId||null,t}function ri(e,t=Qn,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&U_(-1);const u=hf(t);let a;try{a=e(...o)}finally{hf(u),i._d&&U_(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function wv(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:u,propsOptions:[a],slots:l,attrs:f,emit:d,render:p,renderCache:g,data:m,setupState:w,ctx:_,inheritAttrs:T}=e;let A,C;const O=hf(e);try{if(n.shapeFlag&4){const V=o||i,ee=V;A=qr(p.call(ee,V,g,u,w,m,_)),C=f}else{const V=t;A=qr(V.length>1?V(u,{attrs:f,slots:l,emit:d}):V(u,null)),C=t.props?f:HO(f)}}catch(V){Ea.length=0,eh(V,e,1),A=Me(Vo)}let F=A;if(C&&T!==!1){const V=Object.keys(C),{shapeFlag:ee}=F;V.length&&ee&7&&(a&&V.some(Qg)&&(C=zO(C,a)),F=zs(F,C))}return n.dirs&&(F=zs(F),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),A=F,hf(O),A}const HO=e=>{let t;for(const n in e)(n==="class"||n==="style"||Gf(n))&&((t||(t={}))[n]=e[n]);return t},zO=(e,t)=>{const n={};for(const i in e)(!Qg(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function GO(e,t,n){const{props:i,children:o,component:u}=e,{props:a,children:l,patchFlag:f}=t,d=u.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?N_(i,a,d):!!a;if(f&8){const p=t.dynamicProps;for(let g=0;g<p.length;g++){const m=p[g];if(a[m]!==i[m]&&!th(d,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?N_(i,a,d):!0:!!a;return!1}function N_(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const u=i[o];if(t[u]!==e[u]&&!th(n,u))return!0}return!1}function WO({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const am="components";function Zn(e,t){return FT(am,e,!0,t)||e}const MT=Symbol.for("v-ndc");function cm(e){return Ut(e)?FT(am,e,!1)||e:e||MT}function FT(e,t,n=!0,i=!1){const o=Qn||Kt;if(o){const u=o.type;if(e===am){const l=jP(u,!1);if(l&&(l===t||l===Gr(t)||l===Qf(Gr(t))))return u}const a=R_(o[e]||u[e],t)||R_(o.appContext[e],t);return!a&&i?u:a}}function R_(e,t){return e&&(e[t]||e[Gr(t)]||e[Qf(Gr(t))])}const XO=e=>e.__isSuspense;function QO(e,t){t&&t.pendingBranch?Oe(e)?t.effects.push(...e):t.effects.push(e):BO(e)}function YO(e,t){return lm(e,null,t)}const Pl={};function fr(e,t,n){return lm(e,t,n)}function lm(e,t,{immediate:n,deep:i,flush:o,onTrack:u,onTrigger:a}=wt){var l;const f=fT()===((l=Kt)==null?void 0:l.scope)?Kt:null;let d,p=!1,g=!1;if(ht(e)?(d=()=>e.value,p=ff(e)):Vi(e)?(d=()=>e,i=!0):Oe(e)?(g=!0,p=e.some(V=>Vi(V)||ff(V)),d=()=>e.map(V=>{if(ht(V))return V.value;if(Vi(V))return Ms(V);if(Le(V))return qi(V,f,2)})):Le(e)?t?d=()=>qi(e,f,2):d=()=>{if(!(f&&f.isUnmounted))return m&&m(),Tr(e,f,3,[w])}:d=Kr,t&&i){const V=d;d=()=>Ms(V())}let m,w=V=>{m=O.onStop=()=>{qi(V,f,4),m=O.onStop=void 0}},_;if(ja)if(w=Kr,t?n&&Tr(t,f,3,[d(),g?[]:void 0,w]):d(),o==="sync"){const V=qP();_=V.__watcherHandles||(V.__watcherHandles=[])}else return Kr;let T=g?new Array(e.length).fill(Pl):Pl;const A=()=>{if(O.active)if(t){const V=O.run();(i||p||(g?V.some((ee,j)=>Uo(ee,T[j])):Uo(V,T)))&&(m&&m(),Tr(t,f,3,[V,T===Pl?void 0:g&&T[0]===Pl?[]:T,w]),T=V)}else O.run()};A.allowRecurse=!!t;let C;o==="sync"?C=A:o==="post"?C=()=>Pn(A,f&&f.suspense):(A.pre=!0,f&&(A.id=f.uid),C=()=>um(A));const O=new em(d,C);t?n?A():T=O.run():o==="post"?Pn(O.run.bind(O),f&&f.suspense):O.run();const F=()=>{O.stop(),f&&f.scope&&Yg(f.scope.effects,O)};return _&&_.push(F),F}function JO(e,t,n){const i=this.proxy,o=Ut(e)?e.includes(".")?jT(i,e):()=>i[e]:e.bind(i,i);let u;Le(t)?u=t:(u=t.handler,n=t);const a=Kt;Gs(this);const l=lm(o,u.bind(i),n);return a?Gs(a):Do(),l}function jT(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function Ms(e,t){if(!gt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ht(e))Ms(e.value,t);else if(Oe(e))for(let n=0;n<e.length;n++)Ms(e[n],t);else if(rT(e)||Vs(e))e.forEach(n=>{Ms(n,t)});else if(sT(e))for(const n in e)Ms(e[n],t);return e}function wo(e,t,n,i){const o=e.dirs,u=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];u&&(l.oldValue=u[a].value);let f=l.dir[i];f&&(yu(),Tr(f,n,8,[e.el,l,e,t]),bu())}}/*! #__NO_SIDE_EFFECTS__ */function oc(e,t){return Le(e)?on({name:e.name},t,{setup:e}):e}const Yl=e=>!!e.type.__asyncLoader,UT=e=>e.type.__isKeepAlive;function ZO(e,t){VT(e,"a",t)}function eP(e,t){VT(e,"da",t)}function VT(e,t,n=Kt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(nh(t,i,n),n){let o=n.parent;for(;o&&o.parent;)UT(o.parent.vnode)&&tP(i,t,n,o),o=o.parent}}function tP(e,t,n,i){const o=nh(t,e,i,!0);BT(()=>{Yg(i[t],o)},n)}function nh(e,t,n=Kt,i=!1){if(n){const o=n[e]||(n[e]=[]),u=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;yu(),Gs(n);const l=Tr(t,n,e,a);return Do(),bu(),l});return i?o.unshift(u):o.push(u),u}}const hi=e=>(t,n=Kt)=>(!ja||e==="sp")&&nh(e,(...i)=>t(...i),n),nP=hi("bm"),fm=hi("m"),rP=hi("bu"),iP=hi("u"),qT=hi("bum"),BT=hi("um"),oP=hi("sp"),sP=hi("rtg"),uP=hi("rtc");function aP(e,t=Kt){nh("ec",e,t)}function $T(e,t,n,i){let o;const u=n&&n[i];if(Oe(e)||Ut(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,u&&u[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,u&&u[a])}else if(gt(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,u&&u[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=t(e[d],d,l,u&&u[l])}}else o=[];return n&&(n[i]=o),o}const Zv=e=>e?nS(e)?mm(e)||e.proxy:Zv(e.parent):null,_a=on(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Zv(e.parent),$root:e=>Zv(e.root),$emit:e=>e.emit,$options:e=>hm(e),$forceUpdate:e=>e.f||(e.f=()=>um(e.update)),$nextTick:e=>e.n||(e.n=zn.bind(e.proxy)),$watch:e=>JO.bind(e)}),_v=(e,t)=>e!==wt&&!e.__isScriptSetup&&Qe(e,t),cP={get({_:e},t){const{ctx:n,setupState:i,data:o,props:u,accessCache:a,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const w=a[t];if(w!==void 0)switch(w){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return u[t]}else{if(_v(i,t))return a[t]=1,i[t];if(o!==wt&&Qe(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&Qe(d,t))return a[t]=3,u[t];if(n!==wt&&Qe(n,t))return a[t]=4,n[t];eg&&(a[t]=0)}}const p=_a[t];let g,m;if(p)return t==="$attrs"&&Fn(e,"get",t),p(e);if((g=l.__cssModules)&&(g=g[t]))return g;if(n!==wt&&Qe(n,t))return a[t]=4,n[t];if(m=f.config.globalProperties,Qe(m,t))return m[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:u}=e;return _v(o,t)?(o[t]=n,!0):i!==wt&&Qe(i,t)?(i[t]=n,!0):Qe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:u}},a){let l;return!!n[a]||e!==wt&&Qe(e,a)||_v(t,a)||(l=u[0])&&Qe(l,a)||Qe(i,a)||Qe(_a,a)||Qe(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Qe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function C_(e){return Oe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let eg=!0;function lP(e){const t=hm(e),n=e.proxy,i=e.ctx;eg=!1,t.beforeCreate&&O_(t.beforeCreate,e,"bc");const{data:o,computed:u,methods:a,watch:l,provide:f,inject:d,created:p,beforeMount:g,mounted:m,beforeUpdate:w,updated:_,activated:T,deactivated:A,beforeDestroy:C,beforeUnmount:O,destroyed:F,unmounted:V,render:ee,renderTracked:j,renderTriggered:me,errorCaptured:H,serverPrefetch:ie,expose:k,inheritAttrs:Xe,components:ot,directives:ut,filters:ft}=t;if(d&&fP(d,i,null),a)for(const Pe in a){const _e=a[Pe];Le(_e)&&(i[Pe]=_e.bind(n))}if(o){const Pe=o.call(n,n);gt(Pe)&&(e.data=li(Pe))}if(eg=!0,u)for(const Pe in u){const _e=u[Pe],St=Le(_e)?_e.bind(n,n):Le(_e.get)?_e.get.bind(n,n):Kr,Rt=!Le(_e)&&Le(_e.set)?_e.set.bind(n):Kr,Bt=Fe({get:St,set:Rt});Object.defineProperty(i,Pe,{enumerable:!0,configurable:!0,get:()=>Bt.value,set:Dt=>Bt.value=Dt})}if(l)for(const Pe in l)KT(l[Pe],i,n,Pe);if(f){const Pe=Le(f)?f.call(n):f;Reflect.ownKeys(Pe).forEach(_e=>{Bs(_e,Pe[_e])})}p&&O_(p,e,"c");function oe(Pe,_e){Oe(_e)?_e.forEach(St=>Pe(St.bind(n))):_e&&Pe(_e.bind(n))}if(oe(nP,g),oe(fm,m),oe(rP,w),oe(iP,_),oe(ZO,T),oe(eP,A),oe(aP,H),oe(uP,j),oe(sP,me),oe(qT,O),oe(BT,V),oe(oP,ie),Oe(k))if(k.length){const Pe=e.exposed||(e.exposed={});k.forEach(_e=>{Object.defineProperty(Pe,_e,{get:()=>n[_e],set:St=>n[_e]=St})})}else e.exposed||(e.exposed={});ee&&e.render===Kr&&(e.render=ee),Xe!=null&&(e.inheritAttrs=Xe),ot&&(e.components=ot),ut&&(e.directives=ut)}function fP(e,t,n=Kr){Oe(e)&&(e=tg(e));for(const i in e){const o=e[i];let u;gt(o)?"default"in o?u=hr(o.from||i,o.default,!0):u=hr(o.from||i):u=hr(o),ht(u)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>u.value,set:a=>u.value=a}):t[i]=u}}function O_(e,t,n){Tr(Oe(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function KT(e,t,n,i){const o=i.includes(".")?jT(n,i):()=>n[i];if(Ut(e)){const u=t[e];Le(u)&&fr(o,u)}else if(Le(e))fr(o,e.bind(n));else if(gt(e))if(Oe(e))e.forEach(u=>KT(u,t,n,i));else{const u=Le(e.handler)?e.handler.bind(n):t[e.handler];Le(u)&&fr(o,u,e)}}function hm(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:u,config:{optionMergeStrategies:a}}=e.appContext,l=u.get(t);let f;return l?f=l:!o.length&&!n&&!i?f=t:(f={},o.length&&o.forEach(d=>df(f,d,a,!0)),df(f,t,a)),gt(t)&&u.set(t,f),f}function df(e,t,n,i=!1){const{mixins:o,extends:u}=t;u&&df(e,u,n,!0),o&&o.forEach(a=>df(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const l=hP[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const hP={data:P_,props:D_,emits:D_,methods:ma,computed:ma,beforeCreate:bn,created:bn,beforeMount:bn,mounted:bn,beforeUpdate:bn,updated:bn,beforeDestroy:bn,beforeUnmount:bn,destroyed:bn,unmounted:bn,activated:bn,deactivated:bn,errorCaptured:bn,serverPrefetch:bn,components:ma,directives:ma,watch:pP,provide:P_,inject:dP};function P_(e,t){return t?e?function(){return on(Le(e)?e.call(this,this):e,Le(t)?t.call(this,this):t)}:t:e}function dP(e,t){return ma(tg(e),tg(t))}function tg(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function bn(e,t){return e?[...new Set([].concat(e,t))]:t}function ma(e,t){return e?on(Object.create(null),e,t):t}function D_(e,t){return e?Oe(e)&&Oe(t)?[...new Set([...e,...t])]:on(Object.create(null),C_(e),C_(t??{})):t}function pP(e,t){if(!e)return t;if(!t)return e;const n=on(Object.create(null),e);for(const i in t)n[i]=bn(e[i],t[i]);return n}function HT(){return{app:null,config:{isNativeTag:YC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vP=0;function gP(e,t){return function(i,o=null){Le(i)||(i=on({},i)),o!=null&&!gt(o)&&(o=null);const u=HT(),a=new WeakSet;let l=!1;const f=u.app={_uid:vP++,_component:i,_props:o,_container:null,_context:u,_instance:null,version:BP,get config(){return u.config},set config(d){},use(d,...p){return a.has(d)||(d&&Le(d.install)?(a.add(d),d.install(f,...p)):Le(d)&&(a.add(d),d(f,...p))),f},mixin(d){return u.mixins.includes(d)||u.mixins.push(d),f},component(d,p){return p?(u.components[d]=p,f):u.components[d]},directive(d,p){return p?(u.directives[d]=p,f):u.directives[d]},mount(d,p,g){if(!l){const m=Me(i,o);return m.appContext=u,p&&t?t(m,d):e(m,d,g),l=!0,f._container=d,d.__vue_app__=f,mm(m.component)||m.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,p){return u.provides[d]=p,f},runWithContext(d){Ma=f;try{return d()}finally{Ma=null}}};return f}}let Ma=null;function Bs(e,t){if(Kt){let n=Kt.provides;const i=Kt.parent&&Kt.parent.provides;i===n&&(n=Kt.provides=Object.create(i)),n[e]=t}}function hr(e,t,n=!1){const i=Kt||Qn;if(i||Ma){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Ma._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Le(t)?t.call(i&&i.proxy):t}}function mP(){return!!(Kt||Qn||Ma)}function yP(e,t,n,i=!1){const o={},u={};af(u,ih,1),e.propsDefaults=Object.create(null),zT(e,t,o,u);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=i?o:ET(o):e.type.props?e.props=o:e.props=u,e.attrs=u}function bP(e,t,n,i){const{props:o,attrs:u,vnode:{patchFlag:a}}=e,l=Je(o),[f]=e.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let g=0;g<p.length;g++){let m=p[g];if(th(e.emitsOptions,m))continue;const w=t[m];if(f)if(Qe(u,m))w!==u[m]&&(u[m]=w,d=!0);else{const _=Gr(m);o[_]=ng(f,l,_,w,e,!1)}else w!==u[m]&&(u[m]=w,d=!0)}}}else{zT(e,t,o,u)&&(d=!0);let p;for(const g in l)(!t||!Qe(t,g)&&((p=mu(g))===g||!Qe(t,p)))&&(f?n&&(n[g]!==void 0||n[p]!==void 0)&&(o[g]=ng(f,l,g,void 0,e,!0)):delete o[g]);if(u!==l)for(const g in u)(!t||!Qe(t,g))&&(delete u[g],d=!0)}d&&si(e,"set","$attrs")}function zT(e,t,n,i){const[o,u]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(Ql(f))continue;const d=t[f];let p;o&&Qe(o,p=Gr(f))?!u||!u.includes(p)?n[p]=d:(l||(l={}))[p]=d:th(e.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(u){const f=Je(n),d=l||wt;for(let p=0;p<u.length;p++){const g=u[p];n[g]=ng(o,f,g,d[g],e,!Qe(d,g))}}return a}function ng(e,t,n,i,o,u){const a=e[n];if(a!=null){const l=Qe(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&Le(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(Gs(o),i=d[n]=f.call(null,t),Do())}else i=f}a[0]&&(u&&!l?i=!1:a[1]&&(i===""||i===mu(n))&&(i=!0))}return i}function GT(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const u=e.props,a={},l=[];let f=!1;if(!Le(e)){const p=g=>{f=!0;const[m,w]=GT(g,t,!0);on(a,m),w&&l.push(...w)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!u&&!f)return gt(e)&&i.set(e,Us),Us;if(Oe(u))for(let p=0;p<u.length;p++){const g=Gr(u[p]);L_(g)&&(a[g]=wt)}else if(u)for(const p in u){const g=Gr(p);if(L_(g)){const m=u[p],w=a[g]=Oe(m)||Le(m)?{type:m}:on({},m);if(w){const _=j_(Boolean,w.type),T=j_(String,w.type);w[0]=_>-1,w[1]=T<0||_<T,(_>-1||Qe(w,"default"))&&l.push(g)}}}const d=[a,l];return gt(e)&&i.set(e,d),d}function L_(e){return e[0]!=="$"}function M_(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function F_(e,t){return M_(e)===M_(t)}function j_(e,t){return Oe(t)?t.findIndex(n=>F_(n,e)):Le(t)&&F_(t,e)?0:-1}const WT=e=>e[0]==="_"||e==="$stable",dm=e=>Oe(e)?e.map(qr):[qr(e)],wP=(e,t,n)=>{if(t._n)return t;const i=ri((...o)=>dm(t(...o)),n);return i._c=!1,i},XT=(e,t,n)=>{const i=e._ctx;for(const o in e){if(WT(o))continue;const u=e[o];if(Le(u))t[o]=wP(o,u,i);else if(u!=null){const a=dm(u);t[o]=()=>a}}},QT=(e,t)=>{const n=dm(t);e.slots.default=()=>n},_P=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Je(t),af(t,"_",n)):XT(t,e.slots={})}else e.slots={},t&&QT(e,t);af(e.slots,ih,1)},EP=(e,t,n)=>{const{vnode:i,slots:o}=e;let u=!0,a=wt;if(i.shapeFlag&32){const l=t._;l?n&&l===1?u=!1:(on(o,t),!n&&l===1&&delete o._):(u=!t.$stable,XT(t,o)),a=t}else t&&(QT(e,t),a={default:1});if(u)for(const l in o)!WT(l)&&a[l]==null&&delete o[l]};function rg(e,t,n,i,o=!1){if(Oe(e)){e.forEach((m,w)=>rg(m,t&&(Oe(t)?t[w]:t),n,i,o));return}if(Yl(i)&&!o)return;const u=i.shapeFlag&4?mm(i.component)||i.component.proxy:i.el,a=o?null:u,{i:l,r:f}=e,d=t&&t.r,p=l.refs===wt?l.refs={}:l.refs,g=l.setupState;if(d!=null&&d!==f&&(Ut(d)?(p[d]=null,Qe(g,d)&&(g[d]=null)):ht(d)&&(d.value=null)),Le(f))qi(f,l,12,[a,p]);else{const m=Ut(f),w=ht(f);if(m||w){const _=()=>{if(e.f){const T=m?Qe(g,f)?g[f]:p[f]:f.value;o?Oe(T)&&Yg(T,u):Oe(T)?T.includes(u)||T.push(u):m?(p[f]=[u],Qe(g,f)&&(g[f]=p[f])):(f.value=[u],e.k&&(p[e.k]=f.value))}else m?(p[f]=a,Qe(g,f)&&(g[f]=a)):w&&(f.value=a,e.k&&(p[e.k]=a))};a?(_.id=-1,Pn(_,n)):_()}}}const Pn=QO;function IP(e){return TP(e)}function TP(e,t){const n=Wv();n.__VUE__=!0;const{insert:i,remove:o,patchProp:u,createElement:a,createText:l,createComment:f,setText:d,setElementText:p,parentNode:g,nextSibling:m,setScopeId:w=Kr,insertStaticContent:_}=e,T=(I,S,N,L=null,U=null,z=null,te=!1,Q=null,re=!!S.dynamicChildren)=>{if(I===S)return;I&&!ha(I,S)&&(L=D(I),Dt(I,U,z,!0),I=null),S.patchFlag===-2&&(re=!1,S.dynamicChildren=null);const{type:X,ref:ge,shapeFlag:le}=S;switch(X){case rh:A(I,S,N,L);break;case Vo:C(I,S,N,L);break;case Jl:I==null&&O(S,N,L,te);break;case In:ot(I,S,N,L,U,z,te,Q,re);break;default:le&1?ee(I,S,N,L,U,z,te,Q,re):le&6?ut(I,S,N,L,U,z,te,Q,re):(le&64||le&128)&&X.process(I,S,N,L,U,z,te,Q,re,Z)}ge!=null&&U&&rg(ge,I&&I.ref,z,S||I,!S)},A=(I,S,N,L)=>{if(I==null)i(S.el=l(S.children),N,L);else{const U=S.el=I.el;S.children!==I.children&&d(U,S.children)}},C=(I,S,N,L)=>{I==null?i(S.el=f(S.children||""),N,L):S.el=I.el},O=(I,S,N,L)=>{[I.el,I.anchor]=_(I.children,S,N,L,I.el,I.anchor)},F=({el:I,anchor:S},N,L)=>{let U;for(;I&&I!==S;)U=m(I),i(I,N,L),I=U;i(S,N,L)},V=({el:I,anchor:S})=>{let N;for(;I&&I!==S;)N=m(I),o(I),I=N;o(S)},ee=(I,S,N,L,U,z,te,Q,re)=>{te=te||S.type==="svg",I==null?j(S,N,L,U,z,te,Q,re):ie(I,S,U,z,te,Q,re)},j=(I,S,N,L,U,z,te,Q)=>{let re,X;const{type:ge,props:le,shapeFlag:be,transition:xe,dirs:Ue}=I;if(re=I.el=a(I.type,z,le&&le.is,le),be&8?p(re,I.children):be&16&&H(I.children,re,null,L,U,z&&ge!=="foreignObject",te,Q),Ue&&wo(I,null,L,"created"),me(re,I,I.scopeId,te,L),le){for(const ze in le)ze!=="value"&&!Ql(ze)&&u(re,ze,null,le[ze],z,I.children,L,U,ve);"value"in le&&u(re,"value",null,le.value),(X=le.onVnodeBeforeMount)&&Ur(X,L,I)}Ue&&wo(I,null,L,"beforeMount");const Ee=SP(U,xe);Ee&&xe.beforeEnter(re),i(re,S,N),((X=le&&le.onVnodeMounted)||Ee||Ue)&&Pn(()=>{X&&Ur(X,L,I),Ee&&xe.enter(re),Ue&&wo(I,null,L,"mounted")},U)},me=(I,S,N,L,U)=>{if(N&&w(I,N),L)for(let z=0;z<L.length;z++)w(I,L[z]);if(U){let z=U.subTree;if(S===z){const te=U.vnode;me(I,te,te.scopeId,te.slotScopeIds,U.parent)}}},H=(I,S,N,L,U,z,te,Q,re=0)=>{for(let X=re;X<I.length;X++){const ge=I[X]=Q?Oi(I[X]):qr(I[X]);T(null,ge,S,N,L,U,z,te,Q)}},ie=(I,S,N,L,U,z,te)=>{const Q=S.el=I.el;let{patchFlag:re,dynamicChildren:X,dirs:ge}=S;re|=I.patchFlag&16;const le=I.props||wt,be=S.props||wt;let xe;N&&_o(N,!1),(xe=be.onVnodeBeforeUpdate)&&Ur(xe,N,S,I),ge&&wo(S,I,N,"beforeUpdate"),N&&_o(N,!0);const Ue=U&&S.type!=="foreignObject";if(X?k(I.dynamicChildren,X,Q,N,L,Ue,z):te||_e(I,S,Q,null,N,L,Ue,z,!1),re>0){if(re&16)Xe(Q,S,le,be,N,L,U);else if(re&2&&le.class!==be.class&&u(Q,"class",null,be.class,U),re&4&&u(Q,"style",le.style,be.style,U),re&8){const Ee=S.dynamicProps;for(let ze=0;ze<Ee.length;ze++){const x=Ee[ze],R=le[x],K=be[x];(K!==R||x==="value")&&u(Q,x,R,K,U,I.children,N,L,ve)}}re&1&&I.children!==S.children&&p(Q,S.children)}else!te&&X==null&&Xe(Q,S,le,be,N,L,U);((xe=be.onVnodeUpdated)||ge)&&Pn(()=>{xe&&Ur(xe,N,S,I),ge&&wo(S,I,N,"updated")},L)},k=(I,S,N,L,U,z,te)=>{for(let Q=0;Q<S.length;Q++){const re=I[Q],X=S[Q],ge=re.el&&(re.type===In||!ha(re,X)||re.shapeFlag&70)?g(re.el):N;T(re,X,ge,null,L,U,z,te,!0)}},Xe=(I,S,N,L,U,z,te)=>{if(N!==L){if(N!==wt)for(const Q in N)!Ql(Q)&&!(Q in L)&&u(I,Q,N[Q],null,te,S.children,U,z,ve);for(const Q in L){if(Ql(Q))continue;const re=L[Q],X=N[Q];re!==X&&Q!=="value"&&u(I,Q,X,re,te,S.children,U,z,ve)}"value"in L&&u(I,"value",N.value,L.value)}},ot=(I,S,N,L,U,z,te,Q,re)=>{const X=S.el=I?I.el:l(""),ge=S.anchor=I?I.anchor:l("");let{patchFlag:le,dynamicChildren:be,slotScopeIds:xe}=S;xe&&(Q=Q?Q.concat(xe):xe),I==null?(i(X,N,L),i(ge,N,L),H(S.children,N,ge,U,z,te,Q,re)):le>0&&le&64&&be&&I.dynamicChildren?(k(I.dynamicChildren,be,N,U,z,te,Q),(S.key!=null||U&&S===U.subTree)&&YT(I,S,!0)):_e(I,S,N,ge,U,z,te,Q,re)},ut=(I,S,N,L,U,z,te,Q,re)=>{S.slotScopeIds=Q,I==null?S.shapeFlag&512?U.ctx.activate(S,N,L,te,re):ft(S,N,L,U,z,te,re):Ze(I,S,re)},ft=(I,S,N,L,U,z,te)=>{const Q=I.component=PP(I,L,U);if(UT(I)&&(Q.ctx.renderer=Z),DP(Q),Q.asyncDep){if(U&&U.registerDep(Q,oe),!I.el){const re=Q.subTree=Me(Vo);C(null,re,S,N)}return}oe(Q,I,S,N,U,z,te)},Ze=(I,S,N)=>{const L=S.component=I.component;if(GO(I,S,N))if(L.asyncDep&&!L.asyncResolved){Pe(L,S,N);return}else L.next=S,qO(L.update),L.update();else S.el=I.el,L.vnode=S},oe=(I,S,N,L,U,z,te)=>{const Q=()=>{if(I.isMounted){let{next:ge,bu:le,u:be,parent:xe,vnode:Ue}=I,Ee=ge,ze;_o(I,!1),ge?(ge.el=Ue.el,Pe(I,ge,te)):ge=Ue,le&&yv(le),(ze=ge.props&&ge.props.onVnodeBeforeUpdate)&&Ur(ze,xe,ge,Ue),_o(I,!0);const x=wv(I),R=I.subTree;I.subTree=x,T(R,x,g(R.el),D(R),I,U,z),ge.el=x.el,Ee===null&&WO(I,x.el),be&&Pn(be,U),(ze=ge.props&&ge.props.onVnodeUpdated)&&Pn(()=>Ur(ze,xe,ge,Ue),U)}else{let ge;const{el:le,props:be}=S,{bm:xe,m:Ue,parent:Ee}=I,ze=Yl(S);if(_o(I,!1),xe&&yv(xe),!ze&&(ge=be&&be.onVnodeBeforeMount)&&Ur(ge,Ee,S),_o(I,!0),le&&Ne){const x=()=>{I.subTree=wv(I),Ne(le,I.subTree,I,U,null)};ze?S.type.__asyncLoader().then(()=>!I.isUnmounted&&x()):x()}else{const x=I.subTree=wv(I);T(null,x,N,L,I,U,z),S.el=x.el}if(Ue&&Pn(Ue,U),!ze&&(ge=be&&be.onVnodeMounted)){const x=S;Pn(()=>Ur(ge,Ee,x),U)}(S.shapeFlag&256||Ee&&Yl(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&I.a&&Pn(I.a,U),I.isMounted=!0,S=N=L=null}},re=I.effect=new em(Q,()=>um(X),I.scope),X=I.update=()=>re.run();X.id=I.uid,_o(I,!0),X()},Pe=(I,S,N)=>{S.component=I;const L=I.vnode.props;I.vnode=S,I.next=null,bP(I,S.props,L,N),EP(I,S.children,N),yu(),x_(I),bu()},_e=(I,S,N,L,U,z,te,Q,re=!1)=>{const X=I&&I.children,ge=I?I.shapeFlag:0,le=S.children,{patchFlag:be,shapeFlag:xe}=S;if(be>0){if(be&128){Rt(X,le,N,L,U,z,te,Q,re);return}else if(be&256){St(X,le,N,L,U,z,te,Q,re);return}}xe&8?(ge&16&&ve(X,U,z),le!==X&&p(N,le)):ge&16?xe&16?Rt(X,le,N,L,U,z,te,Q,re):ve(X,U,z,!0):(ge&8&&p(N,""),xe&16&&H(le,N,L,U,z,te,Q,re))},St=(I,S,N,L,U,z,te,Q,re)=>{I=I||Us,S=S||Us;const X=I.length,ge=S.length,le=Math.min(X,ge);let be;for(be=0;be<le;be++){const xe=S[be]=re?Oi(S[be]):qr(S[be]);T(I[be],xe,N,null,U,z,te,Q,re)}X>ge?ve(I,U,z,!0,!1,le):H(S,N,L,U,z,te,Q,re,le)},Rt=(I,S,N,L,U,z,te,Q,re)=>{let X=0;const ge=S.length;let le=I.length-1,be=ge-1;for(;X<=le&&X<=be;){const xe=I[X],Ue=S[X]=re?Oi(S[X]):qr(S[X]);if(ha(xe,Ue))T(xe,Ue,N,null,U,z,te,Q,re);else break;X++}for(;X<=le&&X<=be;){const xe=I[le],Ue=S[be]=re?Oi(S[be]):qr(S[be]);if(ha(xe,Ue))T(xe,Ue,N,null,U,z,te,Q,re);else break;le--,be--}if(X>le){if(X<=be){const xe=be+1,Ue=xe<ge?S[xe].el:L;for(;X<=be;)T(null,S[X]=re?Oi(S[X]):qr(S[X]),N,Ue,U,z,te,Q,re),X++}}else if(X>be)for(;X<=le;)Dt(I[X],U,z,!0),X++;else{const xe=X,Ue=X,Ee=new Map;for(X=Ue;X<=be;X++){const Ae=S[X]=re?Oi(S[X]):qr(S[X]);Ae.key!=null&&Ee.set(Ae.key,X)}let ze,x=0;const R=be-Ue+1;let K=!1,J=0;const Se=new Array(R);for(X=0;X<R;X++)Se[X]=0;for(X=xe;X<=le;X++){const Ae=I[X];if(x>=R){Dt(Ae,U,z,!0);continue}let Ge;if(Ae.key!=null)Ge=Ee.get(Ae.key);else for(ze=Ue;ze<=be;ze++)if(Se[ze-Ue]===0&&ha(Ae,S[ze])){Ge=ze;break}Ge===void 0?Dt(Ae,U,z,!0):(Se[Ge-Ue]=X+1,Ge>=J?J=Ge:K=!0,T(Ae,S[Ge],N,null,U,z,te,Q,re),x++)}const pe=K?AP(Se):Us;for(ze=pe.length-1,X=R-1;X>=0;X--){const Ae=Ue+X,Ge=S[Ae],qe=Ae+1<ge?S[Ae+1].el:L;Se[X]===0?T(null,Ge,N,qe,U,z,te,Q,re):K&&(ze<0||X!==pe[ze]?Bt(Ge,N,qe,2):ze--)}}},Bt=(I,S,N,L,U=null)=>{const{el:z,type:te,transition:Q,children:re,shapeFlag:X}=I;if(X&6){Bt(I.component.subTree,S,N,L);return}if(X&128){I.suspense.move(S,N,L);return}if(X&64){te.move(I,S,N,Z);return}if(te===In){i(z,S,N);for(let le=0;le<re.length;le++)Bt(re[le],S,N,L);i(I.anchor,S,N);return}if(te===Jl){F(I,S,N);return}if(L!==2&&X&1&&Q)if(L===0)Q.beforeEnter(z),i(z,S,N),Pn(()=>Q.enter(z),U);else{const{leave:le,delayLeave:be,afterLeave:xe}=Q,Ue=()=>i(z,S,N),Ee=()=>{le(z,()=>{Ue(),xe&&xe()})};be?be(z,Ue,Ee):Ee()}else i(z,S,N)},Dt=(I,S,N,L=!1,U=!1)=>{const{type:z,props:te,ref:Q,children:re,dynamicChildren:X,shapeFlag:ge,patchFlag:le,dirs:be}=I;if(Q!=null&&rg(Q,null,N,I,!0),ge&256){S.ctx.deactivate(I);return}const xe=ge&1&&be,Ue=!Yl(I);let Ee;if(Ue&&(Ee=te&&te.onVnodeBeforeUnmount)&&Ur(Ee,S,I),ge&6)fe(I.component,N,L);else{if(ge&128){I.suspense.unmount(N,L);return}xe&&wo(I,null,S,"beforeUnmount"),ge&64?I.type.remove(I,S,N,U,Z,L):X&&(z!==In||le>0&&le&64)?ve(X,S,N,!1,!0):(z===In&&le&384||!U&&ge&16)&&ve(re,S,N),L&&pt(I)}(Ue&&(Ee=te&&te.onVnodeUnmounted)||xe)&&Pn(()=>{Ee&&Ur(Ee,S,I),xe&&wo(I,null,S,"unmounted")},N)},pt=I=>{const{type:S,el:N,anchor:L,transition:U}=I;if(S===In){qn(N,L);return}if(S===Jl){V(I);return}const z=()=>{o(N),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(I.shapeFlag&1&&U&&!U.persisted){const{leave:te,delayLeave:Q}=U,re=()=>te(N,z);Q?Q(I.el,z,re):re()}else z()},qn=(I,S)=>{let N;for(;I!==S;)N=m(I),o(I),I=N;o(S)},fe=(I,S,N)=>{const{bum:L,scope:U,update:z,subTree:te,um:Q}=I;L&&yv(L),U.stop(),z&&(z.active=!1,Dt(te,I,S,N)),Q&&Pn(Q,S),Pn(()=>{I.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},ve=(I,S,N,L=!1,U=!1,z=0)=>{for(let te=z;te<I.length;te++)Dt(I[te],S,N,L,U)},D=I=>I.shapeFlag&6?D(I.component.subTree):I.shapeFlag&128?I.suspense.next():m(I.anchor||I.el),q=(I,S,N)=>{I==null?S._vnode&&Dt(S._vnode,null,null,!0):T(S._vnode||null,I,S,null,null,null,N),x_(),OT(),S._vnode=I},Z={p:T,um:Dt,m:Bt,r:pt,mt:ft,mc:H,pc:_e,pbc:k,n:D,o:e};let ae,Ne;return t&&([ae,Ne]=t(Z)),{render:q,hydrate:ae,createApp:gP(q,ae)}}function _o({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function SP(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function YT(e,t,n=!1){const i=e.children,o=t.children;if(Oe(i)&&Oe(o))for(let u=0;u<i.length;u++){const a=i[u];let l=o[u];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[u]=Oi(o[u]),l.el=a.el),n||YT(a,l)),l.type===rh&&(l.el=a.el)}}function AP(e){const t=e.slice(),n=[0];let i,o,u,a,l;const f=e.length;for(i=0;i<f;i++){const d=e[i];if(d!==0){if(o=n[n.length-1],e[o]<d){t[i]=o,n.push(i);continue}for(u=0,a=n.length-1;u<a;)l=u+a>>1,e[n[l]]<d?u=l+1:a=l;d<e[n[u]]&&(u>0&&(t[i]=n[u-1]),n[u]=i)}}for(u=n.length,a=n[u-1];u-- >0;)n[u]=a,a=t[a];return n}const kP=e=>e.__isTeleport,In=Symbol.for("v-fgt"),rh=Symbol.for("v-txt"),Vo=Symbol.for("v-cmt"),Jl=Symbol.for("v-stc"),Ea=[];let Er=null;function Ht(e=!1){Ea.push(Er=e?null:[])}function xP(){Ea.pop(),Er=Ea[Ea.length-1]||null}let Fa=1;function U_(e){Fa+=e}function JT(e){return e.dynamicChildren=Fa>0?Er||Us:null,xP(),Fa>0&&Er&&Er.push(e),e}function fn(e,t,n,i,o,u){return JT(se(e,t,n,i,o,u,!0))}function ig(e,t,n,i,o){return JT(Me(e,t,n,i,o,!0))}function og(e){return e?e.__v_isVNode===!0:!1}function ha(e,t){return e.type===t.type&&e.key===t.key}const ih="__vInternal",ZT=({key:e})=>e??null,Zl=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ut(e)||ht(e)||Le(e)?{i:Qn,r:e,k:t,f:!!n}:e:null);function se(e,t=null,n=null,i=0,o=null,u=e===In?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ZT(t),ref:t&&Zl(t),scopeId:LT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Qn};return l?(vm(f,n),u&128&&e.normalize(f)):n&&(f.shapeFlag|=Ut(n)?8:16),Fa>0&&!a&&Er&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&Er.push(f),f}const Me=NP;function NP(e,t=null,n=null,i=0,o=null,u=!1){if((!e||e===MT)&&(e=Vo),og(e)){const l=zs(e,t,!0);return n&&vm(l,n),Fa>0&&!u&&Er&&(l.shapeFlag&6?Er[Er.indexOf(e)]=l:Er.push(l)),l.patchFlag|=-2,l}if(UP(e)&&(e=e.__vccOpts),t){t=RP(t);let{class:l,style:f}=t;l&&!Ut(l)&&(t.class=ar(l)),gt(f)&&(IT(f)&&!Oe(f)&&(f=on({},f)),t.style=Yf(f))}const a=Ut(e)?1:XO(e)?128:kP(e)?64:gt(e)?4:Le(e)?2:0;return se(e,t,n,i,o,a,u,!0)}function RP(e){return e?IT(e)||ih in e?on({},e):e:null}function zs(e,t,n=!1){const{props:i,ref:o,patchFlag:u,children:a}=e,l=t?tS(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&ZT(l),ref:t&&t.ref?n&&o?Oe(o)?o.concat(Zl(t)):[o,Zl(t)]:Zl(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==In?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zs(e.ssContent),ssFallback:e.ssFallback&&zs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ia(e=" ",t=0){return Me(rh,null,e,t)}function pm(e,t){const n=Me(Jl,null,e);return n.staticCount=t,n}function eS(e="",t=!1){return t?(Ht(),ig(Vo,null,e)):Me(Vo,null,e)}function qr(e){return e==null||typeof e=="boolean"?Me(Vo):Oe(e)?Me(In,null,e.slice()):typeof e=="object"?Oi(e):Me(rh,null,String(e))}function Oi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:zs(e)}function vm(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Oe(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),vm(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(ih in t)?t._ctx=Qn:o===3&&Qn&&(Qn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Le(t)?(t={default:t,_ctx:Qn},n=32):(t=String(t),i&64?(n=16,t=[Ia(t)]):n=8);e.children=t,e.shapeFlag|=n}function tS(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=ar([t.class,i.class]));else if(o==="style")t.style=Yf([t.style,i.style]);else if(Gf(o)){const u=t[o],a=i[o];a&&u!==a&&!(Oe(u)&&u.includes(a))&&(t[o]=u?[].concat(u,a):a)}else o!==""&&(t[o]=i[o])}return t}function Ur(e,t,n,i=null){Tr(e,t,7,[n,i])}const CP=HT();let OP=0;function PP(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||CP,u={uid:OP++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new cT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:GT(i,o),emitsOptions:DT(i,o),emit:null,emitted:null,propsDefaults:wt,inheritAttrs:i.inheritAttrs,ctx:wt,data:wt,props:wt,attrs:wt,slots:wt,refs:wt,setupState:wt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=KO.bind(null,u),e.ce&&e.ce(u),u}let Kt=null;const oh=()=>Kt||Qn;let gm,As,V_="__VUE_INSTANCE_SETTERS__";(As=Wv()[V_])||(As=Wv()[V_]=[]),As.push(e=>Kt=e),gm=e=>{As.length>1?As.forEach(t=>t(e)):As[0](e)};const Gs=e=>{gm(e),e.scope.on()},Do=()=>{Kt&&Kt.scope.off(),gm(null)};function nS(e){return e.vnode.shapeFlag&4}let ja=!1;function DP(e,t=!1){ja=t;const{props:n,children:i}=e.vnode,o=nS(e);yP(e,n,o,t),_P(e,i);const u=o?LP(e,t):void 0;return ja=!1,u}function LP(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Zf(new Proxy(e.ctx,cP));const{setup:i}=n;if(i){const o=e.setupContext=i.length>1?FP(e):null;Gs(e),yu();const u=qi(i,e,0,[e.props,o]);if(bu(),Do(),iT(u)){if(u.then(Do,Do),t)return u.then(a=>{q_(e,a,t)}).catch(a=>{eh(a,e,0)});e.asyncDep=u}else q_(e,u,t)}else rS(e,t)}function q_(e,t,n){Le(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:gt(t)&&(e.setupState=xT(t)),rS(e,n)}let B_;function rS(e,t,n){const i=e.type;if(!e.render){if(!t&&B_&&!i.render){const o=i.template||hm(e).template;if(o){const{isCustomElement:u,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=i,d=on(on({isCustomElement:u,delimiters:l},a),f);i.render=B_(o,d)}}e.render=i.render||Kr}{Gs(e),yu();try{lP(e)}finally{bu(),Do()}}}function MP(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Fn(e,"get","$attrs"),t[n]}}))}function FP(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return MP(e)},slots:e.slots,emit:e.emit,expose:t}}function mm(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(xT(Zf(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in _a)return _a[n](e)},has(t,n){return n in t||n in _a}}))}function jP(e,t=!0){return Le(e)?e.displayName||e.name:e.name||t&&e.__name}function UP(e){return Le(e)&&"__vccOpts"in e}const Fe=(e,t)=>jO(e,t,ja);function Ws(e,t,n){const i=arguments.length;return i===2?gt(t)&&!Oe(t)?og(t)?Me(e,null,[t]):Me(e,t):Me(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&og(n)&&(n=[n]),Me(e,t,n))}const VP=Symbol.for("v-scx"),qP=()=>hr(VP),BP="3.3.11",$P="http://www.w3.org/2000/svg",Ao=typeof document<"u"?document:null,$_=Ao&&Ao.createElement("template"),KP={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t?Ao.createElementNS($P,e):Ao.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>Ao.createTextNode(e),createComment:e=>Ao.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ao.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,u){const a=n?n.previousSibling:t.lastChild;if(o&&(o===u||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{$_.innerHTML=i?`<svg>${e}</svg>`:e;const l=$_.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},HP=Symbol("_vtc");function zP(e,t,n){const i=e[HP];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const GP=Symbol("_vod");function WP(e,t,n){const i=e.style,o=Ut(n);if(n&&!o){if(t&&!Ut(t))for(const u in t)n[u]==null&&sg(i,u,"");for(const u in n)sg(i,u,n[u])}else{const u=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),GP in e&&(i.display=u)}}const K_=/\s*!important$/;function sg(e,t,n){if(Oe(n))n.forEach(i=>sg(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=XP(e,t);K_.test(n)?e.setProperty(mu(i),n.replace(K_,""),"important"):e[i]=n}}const H_=["Webkit","Moz","ms"],Ev={};function XP(e,t){const n=Ev[t];if(n)return n;let i=Gr(t);if(i!=="filter"&&i in e)return Ev[t]=i;i=Qf(i);for(let o=0;o<H_.length;o++){const u=H_[o]+i;if(u in e)return Ev[t]=u}return t}const z_="http://www.w3.org/1999/xlink";function QP(e,t,n,i,o){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(z_,t.slice(6,t.length)):e.setAttributeNS(z_,t,n);else{const u=aO(t);n==null||u&&!uT(n)?e.removeAttribute(t):e.setAttribute(t,u?"":n)}}function YP(e,t,n,i,o,u,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,o,u),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const d=l==="OPTION"?e.getAttribute("value"):e.value,p=n??"";d!==p&&(e.value=p),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=uT(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function JP(e,t,n,i){e.addEventListener(t,n,i)}function ZP(e,t,n,i){e.removeEventListener(t,n,i)}const G_=Symbol("_vei");function eD(e,t,n,i,o=null){const u=e[G_]||(e[G_]={}),a=u[t];if(i&&a)a.value=i;else{const[l,f]=tD(t);if(i){const d=u[t]=iD(i,o);JP(e,l,d,f)}else a&&(ZP(e,l,a,f),u[t]=void 0)}}const W_=/(?:Once|Passive|Capture)$/;function tD(e){let t;if(W_.test(e)){t={};let i;for(;i=e.match(W_);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):mu(e.slice(2)),t]}let Iv=0;const nD=Promise.resolve(),rD=()=>Iv||(nD.then(()=>Iv=0),Iv=Date.now());function iD(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Tr(oD(i,n.value),t,5,[i])};return n.value=e,n.attached=rD(),n}function oD(e,t){if(Oe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const X_=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,sD=(e,t,n,i,o=!1,u,a,l,f)=>{t==="class"?zP(e,i,o):t==="style"?WP(e,n,i):Gf(t)?Qg(t)||eD(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):uD(e,t,i,o))?YP(e,t,i,u,a,l,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),QP(e,t,i,o))};function uD(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&X_(t)&&Le(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return X_(t)&&Ut(n)?!1:t in e}const aD=["ctrl","shift","alt","meta"],cD={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>aD.some(n=>e[`${n}Key`]&&!t.includes(n))},ur=(e,t)=>e._withMods||(e._withMods=(n,...i)=>{for(let o=0;o<t.length;o++){const u=cD[t[o]];if(u&&u(n,t))return}return e(n,...i)}),lD=on({patchProp:sD},KP);let Q_;function fD(){return Q_||(Q_=IP(lD))}const hD=(...e)=>{const t=fD().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=dD(i);if(!o)return;const u=t._component;!Le(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function dD(e){return Ut(e)?document.querySelector(e):e}var pD=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let iS;const sh=e=>iS=e,oS=Symbol();function ug(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ta;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ta||(Ta={}));function vD(){const e=lT(!0),t=e.run(()=>En({}));let n=[],i=[];const o=Zf({install(u){sh(o),o._a=u,u.provide(oS,o),u.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(u){return!this._a&&!pD?i.push(u):n.push(u),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const sS=()=>{};function Y_(e,t,n,i=sS){e.push(t);const o=()=>{const u=e.indexOf(t);u>-1&&(e.splice(u,1),i())};return!n&&fT()&&lO(o),o}function ks(e,...t){e.slice().forEach(n=>{n(...t)})}const gD=e=>e();function ag(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],o=e[n];ug(o)&&ug(i)&&e.hasOwnProperty(n)&&!ht(i)&&!Vi(i)?e[n]=ag(o,i):e[n]=i}return e}const mD=Symbol();function yD(e){return!ug(e)||!e.hasOwnProperty(mD)}const{assign:Ri}=Object;function bD(e){return!!(ht(e)&&e.effect)}function wD(e,t,n,i){const{state:o,actions:u,getters:a}=t,l=n.state.value[e];let f;function d(){l||(n.state.value[e]=o?o():{});const p=DO(n.state.value[e]);return Ri(p,u,Object.keys(a||{}).reduce((g,m)=>(g[m]=Zf(Fe(()=>{sh(n);const w=n._s.get(e);return a[m].call(w,w)})),g),{}))}return f=uS(e,d,t,n,i,!0),f}function uS(e,t,n={},i,o,u){let a;const l=Ri({actions:{}},n),f={deep:!0};let d,p,g=[],m=[],w;const _=i.state.value[e];!u&&!_&&(i.state.value[e]={}),En({});let T;function A(H){let ie;d=p=!1,typeof H=="function"?(H(i.state.value[e]),ie={type:Ta.patchFunction,storeId:e,events:w}):(ag(i.state.value[e],H),ie={type:Ta.patchObject,payload:H,storeId:e,events:w});const k=T=Symbol();zn().then(()=>{T===k&&(d=!0)}),p=!0,ks(g,ie,i.state.value[e])}const C=u?function(){const{state:ie}=n,k=ie?ie():{};this.$patch(Xe=>{Ri(Xe,k)})}:sS;function O(){a.stop(),g=[],m=[],i._s.delete(e)}function F(H,ie){return function(){sh(i);const k=Array.from(arguments),Xe=[],ot=[];function ut(oe){Xe.push(oe)}function ft(oe){ot.push(oe)}ks(m,{args:k,name:H,store:ee,after:ut,onError:ft});let Ze;try{Ze=ie.apply(this&&this.$id===e?this:ee,k)}catch(oe){throw ks(ot,oe),oe}return Ze instanceof Promise?Ze.then(oe=>(ks(Xe,oe),oe)).catch(oe=>(ks(ot,oe),Promise.reject(oe))):(ks(Xe,Ze),Ze)}}const V={_p:i,$id:e,$onAction:Y_.bind(null,m),$patch:A,$reset:C,$subscribe(H,ie={}){const k=Y_(g,H,ie.detached,()=>Xe()),Xe=a.run(()=>fr(()=>i.state.value[e],ot=>{(ie.flush==="sync"?p:d)&&H({storeId:e,type:Ta.direct,events:w},ot)},Ri({},f,ie)));return k},$dispose:O},ee=li(V);i._s.set(e,ee);const me=(i._a&&i._a.runWithContext||gD)(()=>i._e.run(()=>(a=lT()).run(t)));for(const H in me){const ie=me[H];if(ht(ie)&&!bD(ie)||Vi(ie))u||(_&&yD(ie)&&(ht(ie)?ie.value=_[H]:ag(ie,_[H])),i.state.value[e][H]=ie);else if(typeof ie=="function"){const k=F(H,ie);me[H]=k,l.actions[H]=ie}}return Ri(ee,me),Ri(Je(ee),me),Object.defineProperty(ee,"$state",{get:()=>i.state.value[e],set:H=>{A(ie=>{Ri(ie,H)})}}),i._p.forEach(H=>{Ri(ee,a.run(()=>H({store:ee,app:i._a,pinia:i,options:l})))}),_&&u&&n.hydrate&&n.hydrate(ee.$state,_),d=!0,p=!0,ee}function aS(e,t,n){let i,o;const u=typeof t=="function";typeof e=="string"?(i=e,o=u?n:t):(o=e,i=e.id);function a(l,f){const d=mP();return l=l||(d?hr(oS,null):null),l&&sh(l),l=iS,l._s.has(i)||(u?uS(i,t,o,l):wD(i,o,l)),l._s.get(i)}return a.$id=i,a}let _D="Store";function ED(...e){return e.reduce((t,n)=>(t[n.$id+_D]=function(){return n(this.$pinia)},t),{})}function ID(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(){return e(this.$pinia)[i]},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(){const o=e(this.$pinia),u=t[i];return typeof u=="function"?u.call(this,o):o[u]},n),{})}function cS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[i](...o)},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[t[i]](...o)},n),{})}function lS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[i]},set(o){return e(this.$pinia)[i]=o}},n),{}):Object.keys(t).reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[t[i]]},set(o){return e(this.$pinia)[t[i]]=o}},n),{})}const cg=aS("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var lg=function(e,t){return lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},lg(e,t)};function Te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");lg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Xs=function(){return Xs=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Xs.apply(this,arguments)};function $(e,t,n,i){function o(u){return u instanceof n?u:new n(function(a){a(u)})}return new(n||(n=Promise))(function(u,a){function l(p){try{d(i.next(p))}catch(g){a(g)}}function f(p){try{d(i.throw(p))}catch(g){a(g)}}function d(p){p.done?u(p.value):o(p.value).then(l,f)}d((i=i.apply(e,t||[])).next())})}function B(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(p){return f([d,p])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(u=d[0]&2?o.return:d[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,d[1])).done)return u;switch(o=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){n.label=d[1];break}if(d[0]===6&&n.label<u[1]){n.label=u[1],u=d;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(d);break}u[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],o=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Tv(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,u=[],a;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return u}function _t(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fS=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},TD=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var u=e[n++];t[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){var u=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(u&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var u=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|a&63)}}return t.join("")},SD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var u=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,p=u>>2,g=(u&3)<<4|l>>4,m=(l&15)<<2|d>>6,w=d&63;f||(w=64,a||(m=64)),i.push(n[p],n[g],n[m],n[w])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fS(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):TD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var u=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var p=o<e.length,g=p?n[e.charAt(o)]:64;if(++o,u==null||l==null||d==null||g==null)throw Error();var m=u<<2|l>>4;if(i.push(m),d!==64){var w=l<<4&240|d>>2;if(i.push(w),g!==64){var _=d<<6&192|g;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},AD=function(e){var t=fS(e);return SD.encodeByteArray(t,!0)},J_=function(e){return AD(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(e){return Ua(void 0,e)}function Ua(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!xD(i)||(e[i]=Ua(e[i],t[i]));return e}function xD(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ND=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Xs({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[J_(JSON.stringify(n)),J_(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qo())}function dS(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CD(){return typeof self=="object"&&self.self===self}function OD(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function PD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DD(){return qo().indexOf("Electron/")>=0}function LD(){var e=qo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function MD(){return qo().indexOf("MSAppHost/")>=0}function FD(){return!dS()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jD="FirebaseError",pS=function(e){Te(t,e);function t(n,i,o){var u=e.call(this,i)||this;return u.code=n,u.customData=o,u.name=jD,Object.setPrototypeOf(u,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,ym.prototype.create),u}return t}(Error),ym=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+t,a=this.errors[t],l=a?UD(a,o):"Error",f=this.serviceName+": "+l+" ("+u+").",d=new pS(u,f,o);return d},e}();function UD(e,t){return e.replace(VD,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}var VD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qD(e,t){var n=new BD(e,t);return n.subscribe.bind(n)}var BD=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,u;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");$D(t,["next","error","complete"])?u=t:u={next:t,error:n,complete:i},u.next===void 0&&(u.next=Sv),u.error===void 0&&(u.error=Sv),u.complete===void 0&&(u.complete=Sv);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function $D(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Sv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(e){return e&&e._delegate?e._delegate:e}var sc=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KD=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new ND;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(zD(t))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}try{for(var o=Tv(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var a=Dl(u.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:d});f.resolve(p)}catch{}}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Io),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return $(this,void 0,void 0,function(){var t;return B(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(_t(_t([],Dl(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),Dl(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Io),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Io),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,u=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var f=Tv(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var p=Dl(d.value,2),g=p[0],m=p[1],w=this.normalizeInstanceIdentifier(g);a===w&&m.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(t),this.onInitCallbacks.set(o,u);var a=this.instances.get(o);return a&&t(a,o),function(){u.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,u=this.onInitCallbacks.get(n);if(u)try{for(var a=Tv(u),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:HD(n),options:o}),this.instances.set(n,u),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Io),this.component?this.component.multipleInstances?t:Io:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function HD(e){return e===Io?void 0:e}function zD(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GD=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new KD(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function wr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var u=arguments[t],a=0,l=u.length;a<l;a++,o++)i[o]=u[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eo,bm=[],tt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(tt||(tt={}));var vS={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},WD=tt.INFO,XD=(Eo={},Eo[tt.DEBUG]="log",Eo[tt.VERBOSE]="log",Eo[tt.INFO]="info",Eo[tt.WARN]="warn",Eo[tt.ERROR]="error",Eo),QD=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),u=XD[t];if(u)console[u].apply(console,wr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},gS=function(){function e(t){this.name=t,this._logLevel=WD,this._logHandler=QD,this._userLogHandler=null,bm.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in tt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?vS[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,wr([this,tt.DEBUG],t)),this._logHandler.apply(this,wr([this,tt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,wr([this,tt.VERBOSE],t)),this._logHandler.apply(this,wr([this,tt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,wr([this,tt.INFO],t)),this._logHandler.apply(this,wr([this,tt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,wr([this,tt.WARN],t)),this._logHandler.apply(this,wr([this,tt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,wr([this,tt.ERROR],t)),this._logHandler.apply(this,wr([this,tt.ERROR],t))},e}();function YD(e){bm.forEach(function(t){t.setLogLevel(e)})}function JD(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=vS[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var p=[],g=2;g<arguments.length;g++)p[g-2]=arguments[g];var m=p.map(function(w){if(w==null)return null;if(typeof w=="string")return w;if(typeof w=="number"||typeof w=="boolean")return w.toString();if(w instanceof Error)return w.message;try{return JSON.stringify(w)}catch{return null}}).filter(function(w){return w}).join(" ");d>=(l??f.logLevel)&&e({level:tt[d].toLowerCase(),message:m,args:p,type:f.name})}},i=0,o=bm;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ai,ZD=(Ai={},Ai["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ai["bad-app-name"]="Illegal App name: '{$appName}",Ai["duplicate-app"]="Firebase App named '{$appName}' already exists",Ai["app-deleted"]="Firebase App named '{$appName}' already deleted",Ai["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ai["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ai),Os=new ym("app","Firebase",ZD),mS="@firebase/app",eL="0.6.30",tL="@firebase/analytics",nL="@firebase/app-check",rL="@firebase/auth",iL="@firebase/database",oL="@firebase/functions",sL="@firebase/installations",uL="@firebase/messaging",aL="@firebase/performance",cL="@firebase/remote-config",lL="@firebase/storage",fL="@firebase/firestore",hL="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,pf="[DEFAULT]",dL=(un={},un[mS]="fire-core",un[tL]="fire-analytics",un[nL]="fire-app-check",un[rL]="fire-auth",un[iL]="fire-rtdb",un[oL]="fire-fn",un[sL]="fire-iid",un[uL]="fire-fcm",un[aL]="fire-perf",un[cL]="fire-rc",un[lL]="fire-gcs",un[fL]="fire-fst",un["fire-js"]="fire-js",un[hL]="fire-js-all",un);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qs=new gS("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ef=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=kD(t),this.container=new GD(n.name),this._addComponent(new sc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return o._addComponent(u)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=pf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=pf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Qs.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Os.create("app-deleted",{appName:this.name_})},e}();ef.prototype.name&&ef.prototype.options||ef.prototype.delete||console.log("dc");var pL="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(e){var t={},n=new Map,i={__esModule:!0,initializeApp:a,app:u,registerVersion:d,setLogLevel:YD,onLog:p,apps:null,SDK_VERSION:pL,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:g}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(m){delete t[m]}function u(m){if(m=m||pf,!Z_(t,m))throw Os.create("no-app",{appName:m});return t[m]}u.App=e;function a(m,w){if(w===void 0&&(w={}),typeof w!="object"||w===null){var _=w;w={name:_}}var T=w;T.name===void 0&&(T.name=pf);var A=T.name;if(typeof A!="string"||!A)throw Os.create("bad-app-name",{appName:String(A)});if(Z_(t,A))throw Os.create("duplicate-app",{appName:A});var C=new e(m,T,i);return t[A]=C,C}function l(){return Object.keys(t).map(function(m){return t[m]})}function f(m){var w=m.name;if(n.has(w))return Qs.debug("There were multiple attempts to register component "+w+"."),m.type==="PUBLIC"?i[w]:null;if(n.set(w,m),m.type==="PUBLIC"){var _=function(O){if(O===void 0&&(O=u()),typeof O[w]!="function")throw Os.create("invalid-app-argument",{appName:w});return O[w]()};m.serviceProps!==void 0&&Ua(_,m.serviceProps),i[w]=_,e.prototype[w]=function(){for(var O=[],F=0;F<arguments.length;F++)O[F]=arguments[F];var V=this._getService.bind(this,w);return V.apply(this,m.multipleInstances?O:[])}}for(var T=0,A=Object.keys(t);T<A.length;T++){var C=A[T];t[C]._addComponent(m)}return m.type==="PUBLIC"?i[w]:null}function d(m,w,_){var T,A=(T=dL[m])!==null&&T!==void 0?T:m;_&&(A+="-"+_);var C=A.match(/\s|\//),O=w.match(/\s|\//);if(C||O){var F=['Unable to register library "'+A+'" with version "'+w+'":'];C&&F.push('library name "'+A+'" contains illegal characters (whitespace or "/")'),C&&O&&F.push("and"),O&&F.push('version name "'+w+'" contains illegal characters (whitespace or "/")'),Qs.warn(F.join(" "));return}f(new sc(A+"-version",function(){return{library:A,version:w}},"VERSION"))}function p(m,w){if(m!==null&&typeof m!="function")throw Os.create("invalid-log-argument");JD(m,w)}function g(m,w){if(w==="serverAuth")return null;var _=w;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){var e=vL(ef);e.INTERNAL=Xs(Xs({},e.INTERNAL),{createFirebaseNamespace:yS,extendNamespace:t,createSubscribe:qD,ErrorFactory:ym,deepExtend:Ua});function t(n){Ua(e,n)}return e}var wm=yS();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gL=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(mL(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();function mL(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(e,t){e.INTERNAL.registerComponent(new sc("platform-logger",function(n){return new gL(n)},"PRIVATE")),e.registerVersion(mS,eL,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(CD()&&self.firebase!==void 0){Qs.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var eE=self.firebase.SDK_VERSION;eE&&eE.indexOf("LITE")>=0&&Qs.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var bL=wm.initializeApp;wm.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return dS()&&Qs.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),bL.apply(void 0,e)};var ke=wm;yL(ke);var wL="firebase",bS="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ke.registerVersion(wL,bS,"app");ke.SDK_VERSION=bS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){r!=Array.prototype&&r!=Object.prototype&&(r[s]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,s){if(s){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var v=r[h];v in c||(c[v]={}),c=c[v]}r=r[r.length-1],h=c[r],s=s(h),s!=h&&s!=null&&t(c,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function a(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(b){this.b=0,this.c=void 0,this.a=[];var E=this.f();try{b(E.resolve,E.reject)}catch(M){E.reject(M)}}function c(){this.a=null}function h(b){return b instanceof s?b:new s(function(E){E(b)})}if(r)return r;c.prototype.b=function(b){if(this.a==null){this.a=[];var E=this;this.c(function(){E.g()})}this.a.push(b)};var v=i.setTimeout;c.prototype.c=function(b){v(b,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var E=0;E<b.length;++E){var M=b[E];b[E]=null;try{M()}catch(G){this.f(G)}}}this.a=null},c.prototype.f=function(b){this.c(function(){throw b})},s.prototype.f=function(){function b(G){return function(Ce){M||(M=!0,G.call(E,Ce))}}var E=this,M=!1;return{resolve:b(this.m),reject:b(this.g)}},s.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof s)this.s(b);else{e:switch(typeof b){case"object":var E=b!=null;break e;case"function":E=!0;break e;default:E=!1}E?this.v(b):this.h(b)}},s.prototype.v=function(b){var E=void 0;try{E=b.then}catch(M){this.g(M);return}typeof E=="function"?this.u(E,b):this.h(b)},s.prototype.g=function(b){this.i(2,b)},s.prototype.h=function(b){this.i(1,b)},s.prototype.i=function(b,E){if(this.b!=0)throw Error("Cannot settle("+b+", "+E+"): Promise already settled in state"+this.b);this.b=b,this.c=E,this.l()},s.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)y.b(this.a[b]);this.a=null}};var y=new c;return s.prototype.s=function(b){var E=this.f();b.Ra(E.resolve,E.reject)},s.prototype.u=function(b,E){var M=this.f();try{b.call(E,M.resolve,M.reject)}catch(G){M.reject(G)}},s.prototype.then=function(b,E){function M(et,Wt){return typeof et=="function"?function(ei){try{G(et(ei))}catch(gv){Ce(gv)}}:Wt}var G,Ce,st=new s(function(et,Wt){G=et,Ce=Wt});return this.Ra(M(b,G),M(E,Ce)),st},s.prototype.catch=function(b){return this.then(void 0,b)},s.prototype.Ra=function(b,E){function M(){switch(G.b){case 1:b(G.c);break;case 2:E(G.c);break;default:throw Error("Unexpected state: "+G.b)}}var G=this;this.a==null?y.b(M):this.a.push(M)},s.resolve=h,s.reject=function(b){return new s(function(E,M){M(b)})},s.race=function(b){return new s(function(E,M){for(var G=a(b),Ce=G.next();!Ce.done;Ce=G.next())h(Ce.value).Ra(E,M)})},s.all=function(b){var E=a(b),M=E.next();return M.done?h([]):new s(function(G,Ce){function st(ei){return function(gv){et[ei]=gv,Wt--,Wt==0&&G(et)}}var et=[],Wt=0;do et.push(void 0),Wt++,h(M.value).Ra(st(et.length-1),Ce),M=E.next();while(!M.done)})},s});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,p=null;function g(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function m(){}function w(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function _(r){var s=w(r);return s=="array"||s=="object"&&typeof r.length=="number"}function T(r){return w(r)=="function"}function A(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function C(r){return Object.prototype.hasOwnProperty.call(r,O)&&r[O]||(r[O]=++F)}var O="closure_uid_"+(1e9*Math.random()>>>0),F=0;function V(r,s,c){return r.call.apply(r.bind,arguments)}function ee(r,s,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,h),r.apply(s,v)}}return function(){return r.apply(s,arguments)}}function j(r,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?j=V:j=ee,j.apply(null,arguments)}function me(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function H(r,s){function c(){}c.prototype=s.prototype,r.bb=s.prototype,r.prototype=new c,r.prototype.constructor=r}function ie(r){return r}function k(r,s,c){this.code=ot+r,this.message=s||ut[r]||"",this.a=c||null}H(k,Error),k.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},k.prototype.toJSON=function(){return this.w()};function Xe(r){var s=r&&r.code;return s?new k(s.substring(ot.length),r.message,r.serverResponse):null}var ot="auth/",ut={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ft={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ze(r){for(var s in ft)if(ft[s].id===r)return r=ft[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var oe;oe=Ze("__EID__")?"__EID__":void 0;function Pe(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function _e(r){if(Error.captureStackTrace)Error.captureStackTrace(this,_e);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}H(_e,Error),_e.prototype.name="CustomError";function St(r,s){r=r.split("%s");for(var c="",h=r.length-1,v=0;v<h;v++)c+=r[v]+(v<s.length?s[v]:"%s");_e.call(this,c+r[h])}H(St,_e),St.prototype.name="AssertionError";function Rt(r,s){throw new St("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function Bt(r,s){this.c=r,this.f=s,this.b=0,this.a=null}Bt.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Dt(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function pt(){this.b=this.a=null}var qn=new Bt(function(){return new ve},function(r){r.reset()});pt.prototype.add=function(r,s){var c=qn.get();c.set(r,s),this.b?this.b.next=c:this.a=c,this.b=c};function fe(){var r=o0,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function ve(){this.next=this.b=this.a=null}ve.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},ve.prototype.reset=function(){this.next=this.b=this.a=null};var D=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===s)return c;return-1},q=Array.prototype.forEach?function(r,s,c){Array.prototype.forEach.call(r,s,c)}:function(r,s,c){for(var h=r.length,v=typeof r=="string"?r.split(""):r,y=0;y<h;y++)y in v&&s.call(c,v[y],y,r)};function Z(r,s){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&s.call(void 0,c[h],h,r)}var ae=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=[],v=0,y=typeof r=="string"?r.split(""):r,b=0;b<c;b++)if(b in y){var E=y[b];s.call(void 0,E,b,r)&&(h[v++]=E)}return h},Ne=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=Array(c),v=typeof r=="string"?r.split(""):r,y=0;y<c;y++)y in v&&(h[y]=s.call(void 0,v[y],y,r));return h},I=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=typeof r=="string"?r.split(""):r,v=0;v<c;v++)if(v in h&&s.call(void 0,h[v],v,r))return!0;return!1};function S(r){e:{for(var s=RN,c=r.length,h=typeof r=="string"?r.split(""):r,v=0;v<c;v++)if(v in h&&s.call(void 0,h[v],v,r)){s=v;break e}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function N(r,s){return 0<=D(r,s)}function L(r,s){s=D(r,s);var c;return(c=0<=s)&&Array.prototype.splice.call(r,s,1),c}function U(r,s){var c=0;Z(r,function(h,v){s.call(void 0,h,v,r)&&Array.prototype.splice.call(r,v,1).length==1&&c++})}function z(r){return Array.prototype.concat.apply([],arguments)}function te(r){var s=r.length;if(0<s){for(var c=Array(s),h=0;h<s;h++)c[h]=r[h];return c}return[]}var Q=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},re=/&/g,X=/</g,ge=/>/g,le=/"/g,be=/'/g,xe=/\x00/g,Ue=/[\x00&<>"']/;function Ee(r,s){return r.indexOf(s)!=-1}function ze(r,s){return r<s?-1:r>s?1:0}var x;e:{var R=f.navigator;if(R){var K=R.userAgent;if(K){x=K;break e}}x=""}function J(r){return Ee(x,r)}function Se(r,s){for(var c in r)s.call(void 0,r[c],c,r)}function pe(r){for(var s in r)return!1;return!0}function Ae(r){var s={},c;for(c in r)s[c]=r[c];return s}var Ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qe(r,s){for(var c,h,v=1;v<arguments.length;v++){h=arguments[v];for(c in h)r[c]=h[c];for(var y=0;y<Ge.length;y++)c=Ge[y],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function Yt(r,s){e:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var v=h;break e}}catch{}v=null}if(v&&typeof v[s]<"u"&&(!r||!(r instanceof v[s])&&(r instanceof v.Location||r instanceof v.Element))){if(A(r))try{var y=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{y="<object could not be stringified>"}else y=r===void 0?"undefined":r===null?"null":typeof r;Rt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,y)}}function Be(r,s){this.a=r===Rr&&s||"",this.b=kt}Be.prototype.ta=!0,Be.prototype.sa=function(){return this.a},Be.prototype.toString=function(){return"Const{"+this.a+"}"};function At(r){return r instanceof Be&&r.constructor===Be&&r.b===kt?r.a:(Rt("expected object of type Const, got '"+r+"'"),"type_error:Const")}var kt={},Rr={},gi;function Nu(){if(gi===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:ie,createScript:ie,createScriptURL:ie})}catch(c){f.console&&f.console.error(c.message)}gi=r}else gi=r}return gi}function Cr(r,s){this.a=s===$y?r:""}Cr.prototype.ta=!0,Cr.prototype.sa=function(){return this.a.toString()},Cr.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function rs(r){return r instanceof Cr&&r.constructor===Cr?r.a:(Rt("expected object of type TrustedResourceUrl, got '"+r+"' of type "+w(r)),"type_error:TrustedResourceUrl")}function Kh(r,s){var c=At(r);if(!sx.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(ox,function(h,v){if(!Object.prototype.hasOwnProperty.call(s,v))throw Error('Found marker, "'+v+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[v],h instanceof Be?At(h):encodeURIComponent(String(h))}),ux(r)}var ox=/%{(\w+)}/g,sx=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,$y={};function ux(r){var s=Nu();return r=s?s.createScriptURL(r):r,new Cr(r,$y)}function Nn(r,s){this.a=s===Ru?r:""}Nn.prototype.ta=!0,Nn.prototype.sa=function(){return this.a.toString()},Nn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Nc(r){return r instanceof Nn&&r.constructor===Nn?r.a:(Rt("expected object of type SafeUrl, got '"+r+"' of type "+w(r)),"type_error:SafeUrl")}var ax=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,cx=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ky=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Hy(r){if(r instanceof Nn)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),Ky.test(r))r=new Nn(r,Ru);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(cx);r=s&&ax.test(s[1])?new Nn(r,Ru):null}return r}function zy(r){return r instanceof Nn?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),Ky.test(r)||(r="about:invalid#zClosurez"),new Nn(r,Ru))}var Ru={},Gy=new Nn("about:invalid#zClosurez",Ru);function is(r,s,c){this.a=c===Wy?r:""}is.prototype.ta=!0,is.prototype.sa=function(){return this.a.toString()},is.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function lx(r){return r instanceof is&&r.constructor===is?r.a:(Rt("expected object of type SafeHtml, got '"+r+"' of type "+w(r)),"type_error:SafeHtml")}var Wy={};function fx(r,s){Yt(r,"HTMLScriptElement"),r.src=rs(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=g(s.document):(p===null&&(p=g(f.document)),s=p),s&&r.setAttribute("nonce",s)}function Xy(r,s,c,h){return r=r instanceof Nn?r:zy(r),s=s||f,c=c instanceof Be?At(c):c||"",s.open(Nc(r),c,h,void 0)}function Qy(r,s){for(var c=r.split("%s"),h="",v=Array.prototype.slice.call(arguments,1);v.length&&1<c.length;)h+=c.shift()+v.shift();return h+c.join("%s")}function Hh(r){return Ue.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(re,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(X,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(ge,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(le,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(be,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(xe,"&#0;"))),r}function zh(r){return zh[" "](r),r}zh[" "]=m;function hx(r,s){var c=gx;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=s(r)}var dx=J("Opera"),dr=J("Trident")||J("MSIE"),Yy=J("Edge"),px=Yy||dr,Jy=J("Gecko")&&!(Ee(x.toLowerCase(),"webkit")&&!J("Edge"))&&!(J("Trident")||J("MSIE"))&&!J("Edge"),vx=Ee(x.toLowerCase(),"webkit")&&!J("Edge");function Zy(){var r=f.document;return r?r.documentMode:void 0}var Rc;e:{var Gh="",Wh=function(){var r=x;if(Jy)return/rv:([^\);]+)(\)|;)/.exec(r);if(Yy)return/Edge\/([\d\.]+)/.exec(r);if(dr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(vx)return/WebKit\/(\S+)/.exec(r);if(dx)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Wh&&(Gh=Wh?Wh[1]:""),dr){var Xh=Zy();if(Xh!=null&&Xh>parseFloat(Gh)){Rc=String(Xh);break e}}Rc=Gh}var gx={};function e0(r){return hx(r,function(){for(var s=0,c=Q(String(Rc)).split("."),h=Q(String(r)).split("."),v=Math.max(c.length,h.length),y=0;s==0&&y<v;y++){var b=c[y]||"",E=h[y]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],b[0].length==0&&E[0].length==0)break;s=ze(b[1].length==0?0:parseInt(b[1],10),E[1].length==0?0:parseInt(E[1],10))||ze(b[2].length==0,E[2].length==0)||ze(b[2],E[2]),b=b[3],E=E[3]}while(s==0)}return 0<=s})}var Qh;if(f.document&&dr){var t0=Zy();Qh=t0||parseInt(Rc,10)||void 0}else Qh=void 0;var mi=Qh;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var mx=!dr||9<=Number(mi);function Cu(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function n0(r,s){Se(s,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:r0.hasOwnProperty(h)?r.setAttribute(r0[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var r0={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function yx(r,s,c){var h=arguments,v=document,y=String(h[0]),b=h[1];if(!mx&&b&&(b.name||b.type)){if(y=["<",y],b.name&&y.push(' name="',Hh(b.name),'"'),b.type){y.push(' type="',Hh(b.type),'"');var E={};qe(E,b),delete E.type,b=E}y.push(">"),y=y.join("")}return y=Cc(v,y),b&&(typeof b=="string"?y.className=b:Array.isArray(b)?y.className=b.join(" "):n0(y,b)),2<h.length&&bx(v,y,h),y}function bx(r,s,c){function h(E){E&&s.appendChild(typeof E=="string"?r.createTextNode(E):E)}for(var v=2;v<c.length;v++){var y=c[v];if(!_(y)||A(y)&&0<y.nodeType)h(y);else{e:{if(y&&typeof y.length=="number"){if(A(y)){var b=typeof y.item=="function"||typeof y.item=="string";break e}if(T(y)){b=typeof y.item=="function";break e}}b=!1}q(b?te(y):y,h)}}}function Cc(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function i0(r){f.setTimeout(function(){throw r},0)}var Yh;function wx(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!J("Presto")&&(r=function(){var v=Cc(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var y=v.contentWindow;v=y.document,v.open(),v.close();var b="callImmediate"+Math.random(),E=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;v=j(function(M){(E=="*"||M.origin==E)&&M.data==b&&this.port1.onmessage()},this),y.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(b,E)}}}),typeof r<"u"&&!J("Trident")&&!J("MSIE")){var s=new r,c={},h=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var v=c.Hb;c.Hb=null,v()}},function(v){h.next={Hb:v},h=h.next,s.port2.postMessage(0)}}return function(v){f.setTimeout(v,0)}}function Oc(r,s){Pc||_x(),Jh||(Pc(),Jh=!0),o0.add(r,s)}var Pc;function _x(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);Pc=function(){r.then(s0)}}else Pc=function(){var s=s0;!T(f.setImmediate)||f.Window&&f.Window.prototype&&!J("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Yh||(Yh=wx()),Yh(s)):f.setImmediate(s)}}var Jh=!1,o0=new pt;function s0(){for(var r;r=fe();){try{r.a.call(r.b)}catch(s){i0(s)}Dt(qn,r)}Jh=!1}function $e(r,s){if(this.a=eo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=m)try{var c=this;r.call(s,function(h){to(c,Ou,h)},function(h){if(!(h instanceof os))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}to(c,Qr,h)})}catch(h){to(this,Qr,h)}}var eo=0,Ou=2,Qr=3;function u0(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}u0.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var a0=new Bt(function(){return new u0},function(r){r.reset()});function Zh(r,s,c){var h=a0.get();return h.g=r,h.b=s,h.f=c,h}function Ie(r){if(r instanceof $e)return r;var s=new $e(m);return to(s,Ou,r),s}function mt(r){return new $e(function(s,c){c(r)})}function c0(r,s,c){d0(r,s,c,null)||Oc(me(s,r))}function Ex(r){return new $e(function(s,c){var h=r.length,v=[];if(h)for(var y=function(G,Ce){h--,v[G]=Ce,h==0&&s(v)},b=function(G){c(G)},E=0,M;E<r.length;E++)M=r[E],c0(M,me(y,E),b);else s(v)})}function l0(r){return new $e(function(s){var c=r.length,h=[];if(c)for(var v=function(E,M,G){c--,h[E]=M?{Qb:!0,value:G}:{Qb:!1,reason:G},c==0&&s(h)},y=0,b;y<r.length;y++)b=r[y],c0(b,me(v,y,!0),me(v,y,!1));else s(h)})}$e.prototype.then=function(r,s,c){return h0(this,T(r)?r:null,T(s)?s:null,c)},$e.prototype.$goog_Thenable=!0,e=$e.prototype,e.oa=function(r,s){return r=Zh(r,r,s),r.c=!0,ed(this,r),this},e.o=function(r,s){return h0(this,null,r,s)},e.cancel=function(r){if(this.a==eo){var s=new os(r);Oc(function(){f0(this,s)},this)}};function f0(r,s){if(r.a==eo)if(r.c){var c=r.c;if(c.b){for(var h=0,v=null,y=null,b=c.b;b&&(b.c||(h++,b.a==r&&(v=b),!(v&&1<h)));b=b.next)v||(y=b);v&&(c.a==eo&&h==1?f0(c,s):(y?(h=y,h.next==c.f&&(c.f=h),h.next=h.next.next):v0(c),g0(c,v,Qr,s)))}r.c=null}else to(r,Qr,s)}function ed(r,s){r.b||r.a!=Ou&&r.a!=Qr||p0(r),r.f?r.f.next=s:r.b=s,r.f=s}function h0(r,s,c,h){var v=Zh(null,null,null);return v.a=new $e(function(y,b){v.g=s?function(E){try{var M=s.call(h,E);y(M)}catch(G){b(G)}}:y,v.b=c?function(E){try{var M=c.call(h,E);M===void 0&&E instanceof os?b(E):y(M)}catch(G){b(G)}}:b}),v.a.c=r,ed(r,v),v.a}e.$c=function(r){this.a=eo,to(this,Ou,r)},e.ad=function(r){this.a=eo,to(this,Qr,r)};function to(r,s,c){r.a==eo&&(r===c&&(s=Qr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,d0(c,r.$c,r.ad,r)||(r.i=c,r.a=s,r.c=null,p0(r),s!=Qr||c instanceof os||Tx(r,c)))}function d0(r,s,c,h){if(r instanceof $e)return ed(r,Zh(s||m,c||null,h)),!0;if(Pe(r))return r.then(s,c,h),!0;if(A(r))try{var v=r.then;if(T(v))return Ix(r,v,s,c,h),!0}catch(y){return c.call(h,y),!0}return!1}function Ix(r,s,c,h,v){function y(M){E||(E=!0,h.call(v,M))}function b(M){E||(E=!0,c.call(v,M))}var E=!1;try{s.call(r,b,y)}catch(M){y(M)}}function p0(r){r.h||(r.h=!0,Oc(r.gc,r))}function v0(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}e.gc=function(){for(var r;r=v0(this);)g0(this,r,this.a,this.i);this.h=!1};function g0(r,s,c,h){if(c==Qr&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,m0(s,c,h);else try{s.c?s.g.call(s.f):m0(s,c,h)}catch(v){y0.call(null,v)}Dt(a0,s)}function m0(r,s,c){s==Ou?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function Tx(r,s){r.g=!0,Oc(function(){r.g&&y0.call(null,s)})}var y0=i0;function os(r){_e.call(this,r)}H(os,_e),os.prototype.name="cancel";function Dc(){this.ya=this.ya,this.pa=this.pa}var Sx=0;Dc.prototype.ya=!1;function b0(r){!r.ya&&(r.ya=!0,r.Da(),Sx!=0)&&C(r)}Dc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ax=Object.freeze||function(r){return r},w0=!dr||9<=Number(mi),kx=dr&&!e0("9"),xx=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",m,s),f.removeEventListener("test",m,s)}catch{}return r}();function Rn(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}Rn.prototype.preventDefault=function(){this.defaultPrevented=!0};function no(r,s){if(Rn.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(Jy){e:{try{zh(s.nodeName);var v=!0;break e}catch{}v=!1}v||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:Nx[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}H(no,Rn);var Nx=Ax({2:"touch",3:"pen",4:"mouse"});no.prototype.preventDefault=function(){no.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,kx)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},no.prototype.g=function(){return this.a};var Pu="closure_listenable_"+(1e6*Math.random()|0),Rx=0;function Cx(r,s,c,h,v){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!h,this.Wa=v,this.key=++Rx,this.wa=this.Qa=!1}function Lc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function Mc(r){this.src=r,this.a={},this.b=0}Mc.prototype.add=function(r,s,c,h,v){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.b++);var b=nd(r,s,h,v);return-1<b?(s=r[b],c||(s.Qa=!1)):(s=new Cx(s,this.src,y,!!h,v),s.Qa=c,r.push(s)),s};function td(r,s){var c=s.type;c in r.a&&L(r.a[c],s)&&(Lc(s),r.a[c].length==0&&(delete r.a[c],r.b--))}function nd(r,s,c,h){for(var v=0;v<r.length;++v){var y=r[v];if(!y.wa&&y.listener==s&&y.capture==!!c&&y.Wa==h)return v}return-1}var rd="closure_lm_"+(1e6*Math.random()|0),id={};function nr(r,s,c,h,v){if(h&&h.once)od(r,s,c,h,v);else if(Array.isArray(s))for(var y=0;y<s.length;y++)nr(r,s[y],c,h,v);else c=ud(c),r&&r[Pu]?A0(r,s,c,A(h)?!!h.capture:!!h,v):_0(r,s,c,!1,h,v)}function _0(r,s,c,h,v,y){if(!s)throw Error("Invalid event type");var b=A(v)?!!v.capture:!!v,E=Fc(r);if(E||(r[rd]=E=new Mc(r)),c=E.add(s,c,h,b,y),!c.proxy)if(h=Ox(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)xx||(v=b),v===void 0&&(v=!1),r.addEventListener(s.toString(),h,v);else if(r.attachEvent)r.attachEvent(I0(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function Ox(){var r=Px,s=w0?function(c){return r.call(s.src,s.listener,c)}:function(c){if(c=r.call(s.src,s.listener,c),!c)return c};return s}function od(r,s,c,h,v){if(Array.isArray(s))for(var y=0;y<s.length;y++)od(r,s[y],c,h,v);else c=ud(c),r&&r[Pu]?ad(r,s,c,A(h)?!!h.capture:!!h,v):_0(r,s,c,!0,h,v)}function Bn(r,s,c,h,v){if(Array.isArray(s))for(var y=0;y<s.length;y++)Bn(r,s[y],c,h,v);else h=A(h)?!!h.capture:!!h,c=ud(c),r&&r[Pu]?(r=r.v,s=String(s).toString(),s in r.a&&(y=r.a[s],c=nd(y,c,h,v),-1<c&&(Lc(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete r.a[s],r.b--)))):r&&(r=Fc(r))&&(s=r.a[s.toString()],r=-1,s&&(r=nd(s,c,h,v)),(c=-1<r?s[r]:null)&&E0(c))}function E0(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[Pu])td(s.v,r);else{var c=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(c,h,r.capture):s.detachEvent?s.detachEvent(I0(c),h):s.addListener&&s.removeListener&&s.removeListener(h),(c=Fc(s))?(td(c,r),c.b==0&&(c.src=null,s[rd]=null)):Lc(r)}}}function I0(r){return r in id?id[r]:id[r]="on"+r}function T0(r,s,c,h){var v=!0;if((r=Fc(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var y=s[r];y&&y.capture==c&&!y.wa&&(y=S0(y,h),v=v&&y!==!1)}return v}function S0(r,s){var c=r.listener,h=r.Wa||r.src;return r.Qa&&E0(r),c.call(h,s)}function Px(r,s){if(r.wa)return!0;if(!w0){if(!s)e:{s=["window","event"];for(var c=f,h=0;h<s.length;h++)if(c=c[s[h]],c==null){s=null;break e}s=c}if(h=s,s=new no(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var v=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{v=!0}(v||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],v=s.b;v;v=v.parentNode)h.push(v);for(r=r.type,v=h.length-1;0<=v;v--){s.b=h[v];var y=T0(h[v],r,!0,s);c=c&&y}for(v=0;v<h.length;v++)s.b=h[v],y=T0(h[v],r,!1,s),c=c&&y}return c}return S0(r,new no(s,this))}function Fc(r){return r=r[rd],r instanceof Mc?r:null}var sd="__closure_events_fn_"+(1e9*Math.random()>>>0);function ud(r){return T(r)?r:(r[sd]||(r[sd]=function(s){return r.handleEvent(s)}),r[sd])}function gn(){Dc.call(this),this.v=new Mc(this),this.bc=this,this.hb=null}H(gn,Dc),gn.prototype[Pu]=!0,gn.prototype.addEventListener=function(r,s,c,h){nr(this,r,s,c,h)},gn.prototype.removeEventListener=function(r,s,c,h){Bn(this,r,s,c,h)},gn.prototype.dispatchEvent=function(r){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new Rn(r,c);else if(r instanceof Rn)r.target=r.target||c;else{var v=r;r=new Rn(h,c),qe(r,v)}if(v=!0,s)for(var y=s.length-1;0<=y;y--){var b=r.b=s[y];v=jc(b,h,!0,r)&&v}if(b=r.b=c,v=jc(b,h,!0,r)&&v,v=jc(b,h,!1,r)&&v,s)for(y=0;y<s.length;y++)b=r.b=s[y],v=jc(b,h,!1,r)&&v;return v},gn.prototype.Da=function(){if(gn.bb.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var c=r.a[s],h=0;h<c.length;h++)Lc(c[h]);delete r.a[s],r.b--}}this.hb=null};function A0(r,s,c,h,v){r.v.add(String(s),c,!1,h,v)}function ad(r,s,c,h,v){r.v.add(String(s),c,!0,h,v)}function jc(r,s,c,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var v=!0,y=0;y<s.length;++y){var b=s[y];if(b&&!b.wa&&b.capture==c){var E=b.listener,M=b.Wa||b.src;b.Qa&&td(r.v,b),v=E.call(M,h)!==!1&&v}}return v&&!h.defaultPrevented}function cd(r,s,c){if(T(r))c&&(r=j(r,c));else if(r&&typeof r.handleEvent=="function")r=j(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function ss(r){var s=null;return new $e(function(c,h){s=cd(function(){c(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(s),c})}function k0(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var s=[],c=r.length,h=0;h<c;h++)s.push(r[h]);return s}s=[],c=0;for(h in r)s[c++]=r[h];return s}function x0(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(var h in r)s[c++]=h;return s}}function Dx(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(_(r)||typeof r=="string")q(r,s,void 0);else for(var c=x0(r),h=k0(r),v=h.length,y=0;y<v;y++)s.call(void 0,h[y],c&&c[y],r)}function us(r,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof us)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}e=us.prototype,e.X=function(){ld(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},e.Y=function(){return ld(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function ld(r){if(r.c!=r.a.length){for(var s=0,c=0;s<r.a.length;){var h=r.a[s];ro(r.b,h)&&(r.a[c++]=h),s++}r.a.length=c}if(r.c!=r.a.length){var v={};for(c=s=0;s<r.a.length;)h=r.a[s],ro(v,h)||(r.a[c++]=h,v[h]=1),s++;r.a.length=c}}e.get=function(r,s){return ro(this.b,r)?this.b[r]:s},e.set=function(r,s){ro(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},e.forEach=function(r,s){for(var c=this.Y(),h=0;h<c.length;h++){var v=c[h],y=this.get(v);r.call(s,y,v,this)}};function ro(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var N0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Lx(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),v=null;if(0<=h){var y=r[c].substring(0,h);v=r[c].substring(h+1)}else y=r[c];s(y,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function yi(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof yi?(this.i=s!==void 0?s:r.i,Du(this,r.c),this.l=r.l,this.a=r.a,Lu(this,r.g),this.f=r.f,fd(this,P0(r.b)),this.h=r.h):r&&(c=String(r).match(N0))?(this.i=!!s,Du(this,c[1]||"",!0),this.l=Mu(c[2]||""),this.a=Mu(c[3]||"",!0),Lu(this,c[4]),this.f=Mu(c[5]||"",!0),fd(this,c[6]||"",!0),this.h=Mu(c[7]||"")):(this.i=!!s,this.b=new io(null,this.i))}yi.prototype.toString=function(){var r=[],s=this.c;s&&r.push(Fu(s,R0,!0),":");var c=this.a;return(c||s=="file")&&(r.push("//"),(s=this.l)&&r.push(Fu(s,R0,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(Fu(c,c.charAt(0)=="/"?jx:Fx,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",Fu(c,Vx)),r.join("")},yi.prototype.resolve=function(r){var s=new yi(this),c=!!r.c;c?Du(s,r.c):c=!!r.l,c?s.l=r.l:c=!!r.a,c?s.a=r.a:c=r.g!=null;var h=r.f;if(c)Lu(s,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var v=s.f.lastIndexOf("/");v!=-1&&(h=s.f.substr(0,v+1)+h)}if(v=h,v==".."||v==".")h="";else if(Ee(v,"./")||Ee(v,"/.")){h=v.lastIndexOf("/",0)==0,v=v.split("/");for(var y=[],b=0;b<v.length;){var E=v[b++];E=="."?h&&b==v.length&&y.push(""):E==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),h&&b==v.length&&y.push("")):(y.push(E),h=!0)}h=y.join("/")}else h=v}return c?s.f=h:c=r.b.toString()!=="",c?fd(s,P0(r.b)):c=!!r.h,c&&(s.h=r.h),s};function Du(r,s,c){r.c=c?Mu(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function Lu(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function fd(r,s,c){s instanceof io?(r.b=s,qx(r.b,r.i)):(c||(s=Fu(s,Ux)),r.b=new io(s,r.i))}function Ct(r,s,c){r.b.set(s,c)}function rr(r,s){return r.b.get(s)}function Cn(r){return r instanceof yi?new yi(r):new yi(r,void 0)}function Uc(r,s,c,h){var v=new yi(null,void 0);return r&&Du(v,r),s&&(v.a=s),c&&Lu(v,c),h&&(v.f=h),v}function Mu(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Fu(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,Mx),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Mx(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var R0=/[#\/\?@]/g,Fx=/[#\?:]/g,jx=/[#\?]/g,Ux=/[#\?@]/g,Vx=/#/g;function io(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function bi(r){r.a||(r.a=new us,r.b=0,r.c&&Lx(r.c,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function C0(r){var s=x0(r);if(typeof s>"u")throw Error("Keys are undefined");var c=new io(null,void 0);r=k0(r);for(var h=0;h<s.length;h++){var v=s[h],y=r[h];Array.isArray(y)?O0(c,v,y):c.add(v,y)}return c}e=io.prototype,e.add=function(r,s){bi(this),this.c=null,r=as(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(s),this.b+=1,this};function Or(r,s){bi(r),s=as(r,s),ro(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,ro(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&ld(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function hd(r,s){return bi(r),s=as(r,s),ro(r.a.b,s)}e.forEach=function(r,s){bi(this),this.a.forEach(function(c,h){q(c,function(v){r.call(s,v,h,this)},this)},this)},e.Y=function(){bi(this);for(var r=this.a.X(),s=this.a.Y(),c=[],h=0;h<s.length;h++)for(var v=r[h],y=0;y<v.length;y++)c.push(s[h]);return c},e.X=function(r){bi(this);var s=[];if(typeof r=="string")hd(this,r)&&(s=z(s,this.a.get(as(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)s=z(s,r[c])}return s},e.set=function(r,s){return bi(this),this.c=null,r=as(this,r),hd(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},e.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function O0(r,s,c){Or(r,s),0<c.length&&(r.c=null,r.a.set(as(r,s),te(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),c=0;c<s.length;c++){var h=s[c],v=encodeURIComponent(String(h));h=this.X(h);for(var y=0;y<h.length;y++){var b=v;h[y]!==""&&(b+="="+encodeURIComponent(String(h[y]))),r.push(b)}}return this.c=r.join("&")};function P0(r){var s=new io;return s.c=r.c,r.a&&(s.a=new us(r.a),s.b=r.b),s}function as(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function qx(r,s){s&&!r.f&&(bi(r),r.c=null,r.a.forEach(function(c,h){var v=h.toLowerCase();h!=v&&(Or(this,h),O0(this,v,c))},r)),r.f=s}function D0(r){var s=[];return dd(new Bx,r,s),s.join("")}function Bx(){}function dd(r,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,c.push("[");for(var v="",y=0;y<s;y++)c.push(v),dd(r,h[y],c),v=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),v="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(y=s[h],typeof y!="function"&&(c.push(v),M0(h,c),c.push(":"),dd(r,y,c),v=","));c.push("}");return}}switch(typeof s){case"string":M0(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var L0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},$x=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function M0(r,s){s.push('"',r.replace($x,function(c){var h=L0[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),L0[c]=h),h}),'"')}function pd(){var r=Jt();return dr&&!!mi&&mi==11||/Edge\/\d+/.test(r)}function ju(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function F0(r,s){s=s||f.window;var c="about:blank";r&&(c=Nc(Hy(r)||Gy)),s.location.href=c}function j0(r,s){var c=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<j0(r[h],s[h]).length&&c.push(h):r[h]!==s[h]&&c.push(h):c.push(h);for(h in s)h in r||c.push(h);return c}function Kx(){var r=Jt();return r=cs(r)!=B0?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!dr||!mi||9<mi}function U0(r){return r=(r||Jt()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function oo(r){r=r||f.window;try{r.close()}catch{}}function V0(r,s,c){var h=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var v=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<v?v:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=Jt().toLowerCase(),h&&(s.target=h,Ee(c,"crios/")&&(s.target="_blank")),cs(Jt())==md&&(r=r||"http://localhost",s.scrollbars=!0),c=r||"",(r=s)||(r={}),h=window,s=c instanceof Nn?c:Hy(typeof c.href<"u"?c.href:String(c))||Gy,c=r.target||c.target,v=[];for(b in r)switch(b){case"width":case"height":case"top":case"left":v.push(b+"="+r[b]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(b+"="+(r[b]?1:0))}var b=v.join(",");if((J("iPhone")&&!J("iPod")&&!J("iPad")||J("iPad")||J("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(b=Cc(document,"A"),Yt(b,"HTMLAnchorElement"),s=s instanceof Nn?s:zy(s),b.href=Nc(s),b.setAttribute("target",c),r.noreferrer&&b.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),b.dispatchEvent(r),b={}):r.noreferrer?(b=Xy("",h,c,b),r=Nc(s),b&&(px&&Ee(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),b.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Hh(r)+'">',r=(h=Nu())?h.createHTML(r):r,r=new is(r,null,Wy),h=b.document)&&(h.write(lx(r)),h.close())):(b=Xy(s,h,c,b))&&r.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function Hx(r){return new $e(function(s){function c(){ss(2e3).then(function(){if(!r||r.closed)s();else return c()})}return c()})}var zx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gx=/^[^@]+@[^@]+$/;function Vc(){var r=null;return new $e(function(s){f.document.readyState=="complete"?s():(r=function(){s()},od(window,"load",r))}).o(function(s){throw Bn(window,"load",r),s})}function Wx(){return vd(void 0)?Vc().then(function(){return new $e(function(r,s){var c=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):mt(Error("Cordova must run in an Android or iOS file scheme."))}function vd(r){return r=r||Jt(),!(fs()!=="file:"&&fs()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function gd(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function pr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Pr(){return ke.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ke.INTERNAL.hasOwnProperty("node")?"Node":pr()?"Worker":"Browser"}function q0(){var r=Pr();return r==="ReactNative"||r==="Node"}function Xx(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var md="Firefox",B0="Chrome";function cs(r){var s=r.toLowerCase();if(Ee(s,"opera/")||Ee(s,"opr/")||Ee(s,"opios/"))return"Opera";if(Ee(s,"iemobile"))return"IEMobile";if(Ee(s,"msie")||Ee(s,"trident/"))return"IE";if(Ee(s,"edge/"))return"Edge";if(Ee(s,"firefox/"))return md;if(Ee(s,"silk/"))return"Silk";if(Ee(s,"blackberry"))return"Blackberry";if(Ee(s,"webos"))return"Webos";if(!Ee(s,"safari/")||Ee(s,"chrome/")||Ee(s,"crios/")||Ee(s,"android"))if(!Ee(s,"chrome/")&&!Ee(s,"crios/")||Ee(s,"edge/")){if(Ee(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return B0;else return"Safari";return"Other"}var $0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function ls(r,s){s=s||[];var c=[],h={},v;for(v in $0)h[$0[v]]=!0;for(v=0;v<s.length;v++)typeof h[s[v]]<"u"&&(delete h[s[v]],c.push(s[v]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=Pr(),c==="Browser"?(h=Jt(),c=cs(h)):c==="Worker"&&(h=Jt(),c=cs(h)+"-"+c),c+"/JsCore/"+r+"/"+s.join(",")}function Jt(){return f.navigator&&f.navigator.userAgent||""}function yt(r,s){r=r.split("."),s=s||f;for(var c=0;c<r.length&&typeof s=="object"&&s!=null;c++)s=s[r[c]];return c!=r.length&&(s=void 0),s}function yd(){try{var r=f.localStorage,s=uo();if(r)return r.setItem(s,"1"),r.removeItem(s),pd()?!!f.indexedDB:!0}catch{return pr()&&!!f.indexedDB}return!1}function so(){return(qc()||fs()==="chrome-extension:"||vd())&&!q0()&&yd()&&!pr()}function qc(){return fs()==="http:"||fs()==="https:"}function fs(){return f.location&&f.location.protocol||null}function Uu(r){return r=r||Jt(),!(U0(r)||cs(r)==md)}function Vu(r){return typeof r>"u"?null:D0(r)}function K0(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(s[c]=r[c]);return s}function hs(r){if(r!==null)return JSON.parse(r)}function uo(r){return r||Math.floor(1e9*Math.random()).toString()}function H0(r){return r=r||Jt(),!(cs(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function z0(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function wi(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=Jt(),s=Pr(),this.b=U0(r)||s==="ReactNative"}wi.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(qc()||fs()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function bd(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function Qx(){var r=f.document,s=null;return bd()||!r?Ie():new $e(function(c){s=function(){bd()&&(r.removeEventListener("visibilitychange",s,!1),c())},r.addEventListener("visibilitychange",s,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",s,!1),c})}function qu(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function G0(){return!(!yt("fireauth.oauthhelper",f)&&!yt("fireauth.iframe",f))}function Yx(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function Jx(){var r=f.navigator;return r&&r.serviceWorker?Ie().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):Ie(null)}var W0={};function wd(r){W0[r]||(W0[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var _d;try{var Ed={};Object.defineProperty(Ed,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ed,"abcd",{configurable:!0,enumerable:!0,value:2}),_d=Ed.abcd==2}catch{_d=!1}function de(r,s,c){_d?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}):r[s]=c}function mn(r,s){if(s)for(var c in s)s.hasOwnProperty(c)&&de(r,c,s[c])}function Dr(r){var s={};return mn(s,r),s}function Zx(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);return s}function eN(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var c=0;c<s.length;c++){var h=r[s[c]];if(h==null||h==="")return!1}return!0}function Id(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var c in r)de(s,c,Id(r[c]))}return s}function Td(r){var s=r&&(r[xd]?"phone":null);if(s&&r&&r[kd]){de(this,"uid",r[kd]),de(this,"displayName",r[X0]||null);var c=null;r[Ad]&&(c=new Date(r[Ad]).toUTCString()),de(this,"enrollmentTime",c),de(this,"factorId",s)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}Td.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Sd(r){try{var s=new Bu(r)}catch{s=null}return s}var X0="displayName",Ad="enrolledAt",kd="mfaEnrollmentId",xd="phoneInfo";function Bu(r){Td.call(this,r),de(this,"phoneNumber",r[xd])}H(Bu,Td),Bu.prototype.w=function(){var r=Bu.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function tN(r){var s={},c=r[nN],h=r[iN],v=r[oN];if(r=Sd(r[rN]),!v||v!=Bc&&v!=$u&&!c||v==$u&&!h||v==Nd&&!r)throw Error("Invalid checkActionCode response!");v==$u?(s[Y0]=c||null,s[J0]=c||null,s[Q0]=h):(s[Y0]=h||null,s[J0]=h||null,s[Q0]=c||null),s[sN]=r||null,de(this,aN,v),de(this,uN,Id(s))}var Nd="REVERT_SECOND_FACTOR_ADDITION",Bc="EMAIL_SIGNIN",$u="VERIFY_AND_CHANGE_EMAIL",nN="email",rN="mfaInfo",iN="newEmail",oN="requestType",Q0="email",Y0="fromEmail",sN="multiFactorInfo",J0="previousEmail",uN="data",aN="operation";function Rd(r){r=Cn(r);var s=rr(r,Z0)||null,c=rr(r,eb)||null,h=rr(r,tb)||null;if(h=h&&hN[h]||null,!s||!c||!h)throw new k("argument-error",Z0+", "+eb+"and "+tb+" are required in a valid action code URL.");mn(this,{apiKey:s,operation:h,code:c,continueUrl:rr(r,cN)||null,languageCode:rr(r,lN)||null,tenantId:rr(r,fN)||null})}var Z0="apiKey",eb="oobCode",cN="continueUrl",lN="languageCode",tb="mode",fN="tenantId",hN={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Nd,signIn:Bc,verifyAndChangeEmail:$u,verifyEmail:"VERIFY_EMAIL"};function nb(r){try{return new Rd(r)}catch{return null}}function $c(r){var s=r[dN];if(typeof s>"u")throw new k("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new k("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=r[rb];if(c&&typeof c=="object"){s=c[ab];var h=c[sb];if(c=c[ub],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new k("argument-error",sb+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new k("argument-error",ub+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new k("argument-error",ab+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new k("missing-android-pkg-name")}}else if(typeof c<"u")throw new k("argument-error",rb+" property must be a non null object when specified.");if(this.f=null,(s=r[ob])&&typeof s=="object"){if(s=s[cb],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new k("argument-error",cb+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new k("argument-error",ob+" property must be a non null object when specified.");if(s=r[Cd],typeof s<"u"&&typeof s!="boolean")throw new k("argument-error",Cd+" property must be a boolean when specified.");if(this.c=!!s,r=r[ib],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new k("argument-error",ib+" property must be a non empty string when specified.");this.i=r||null}var rb="android",ib="dynamicLinkDomain",Cd="handleCodeInApp",ob="iOS",dN="url",sb="installApp",ub="minimumVersion",ab="packageName",cb="bundleId";function Kc(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var c in s)s[c]===null&&delete s[c];return s}function pN(r){return Ne(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var Ku=null;function vN(r){var s=[];return gN(r,function(c){s.push(c)}),s}function gN(r,s){function c(M){for(;h<r.length;){var G=r.charAt(h++),Ce=Ku[G];if(Ce!=null)return Ce;if(!/^[\s\xa0]*$/.test(G))throw Error("Unknown base64 encoding at char: "+G)}return M}mN();for(var h=0;;){var v=c(-1),y=c(0),b=c(64),E=c(64);if(E===64&&v===-1)break;s(v<<2|y>>4),b!=64&&(s(y<<4&240|b>>2),E!=64&&s(b<<6&192|E))}}function mN(){if(!Ku){Ku={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(s[c].split("")),v=0;v<h.length;v++){var y=h[v];Ku[y]===void 0&&(Ku[y]=v)}}}function Hc(r){var s=lb(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}Hc.prototype.T=function(){return this.f},Hc.prototype.l=function(){return this.c},Hc.prototype.toString=function(){return this.h};function zc(r){try{return new Hc(r)}catch{return null}}function lb(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,c=0;c<s;c++)r+=".";try{var h=vN(r);for(r=[],c=s=0;s<h.length;){var v=h[s++];if(128>v)r[c++]=String.fromCharCode(v);else if(191<v&&224>v){var y=h[s++];r[c++]=String.fromCharCode((v&31)<<6|y&63)}else if(239<v&&365>v){y=h[s++];var b=h[s++],E=h[s++],M=((v&7)<<18|(y&63)<<12|(b&63)<<6|E&63)-65536;r[c++]=String.fromCharCode(55296+(M>>10)),r[c++]=String.fromCharCode(56320+(M&1023))}else y=h[s++],b=h[s++],r[c++]=String.fromCharCode((v&15)<<12|(y&63)<<6|b&63)}return JSON.parse(r.join(""))}catch{}return null}var fb="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gc=["client_id","response_type","scope","redirect_uri","state"],Od={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Gc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Gc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Gc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:fb},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Pd(r){for(var s in Od)if(Od[s].fa==r)return Od[s];return null}function hb(r){var s={};s["facebook.com"]=pb,s["google.com"]=gb,s["github.com"]=vb,s["twitter.com"]=mb;var c=r&&r[db];try{if(c)return s[c]?new s[c](r):new Lr(r);if(typeof r[Dd]<"u")return new Ld(r)}catch{}return null}var Dd="idToken",db="providerId";function Ld(r){var s=r[db];if(!s&&r[Dd]){var c=zc(r[Dd]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),de(this,"providerId",s),de(this,"isNewUser",c)}function Lr(r){Ld.call(this,r),r=hs(r.rawUserInfo||"{}"),de(this,"profile",Id(r||{}))}H(Lr,Ld);function pb(r){if(Lr.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}H(pb,Lr);function vb(r){if(Lr.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");de(this,"username",this.profile&&this.profile.login||null)}H(vb,Lr);function gb(r){if(Lr.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}H(gb,Lr);function mb(r){if(Lr.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");de(this,"username",r.screenName||null)}H(mb,Lr);function yb(r){var s=Cn(r),c=rr(s,"link"),h=rr(Cn(c),"link");return s=rr(s,"deep_link_id"),rr(Cn(s),"link")||s||h||c||r}function Wc(r,s){if(!r&&!s)throw new k("internal-error","Internal assert: no raw session string available");if(r&&s)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?Hu:Xc}var Hu="enroll",Xc="signin";Wc.prototype.Ha=function(){return this.a?Ie(this.a):Ie(this.b)},Wc.prototype.w=function(){return this.type==Hu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ds(){}ds.prototype.ka=function(){},ds.prototype.b=function(){},ds.prototype.c=function(){},ds.prototype.w=function(){};function ps(r,s){return r.then(function(c){if(c[mr]){var h=zc(c[mr]);if(!h||s!=h.i)throw new k("user-mismatch");return c}throw new k("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==ot+"user-not-found"?new k("user-mismatch"):c})}function ao(r,s){if(s)this.a=s;else throw new k("internal-error","failed to construct a credential");de(this,"providerId",r),de(this,"signInMethod",r)}ao.prototype.ka=function(r){return op(r,Md(this))},ao.prototype.b=function(r,s){var c=Md(this);return c.idToken=s,sp(r,c)},ao.prototype.c=function(r,s){return ps(up(r,Md(this)),s)};function Md(r){return{pendingToken:r.a,requestUri:"http://localhost"}}ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function yN(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new ao(r.providerId,r.pendingToken)}catch{}return null}function Yr(r,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&de(this,"idToken",s.idToken),s.accessToken&&de(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&de(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)de(this,"accessToken",s.oauthToken),de(this,"secret",s.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");de(this,"providerId",r),de(this,"signInMethod",c)}Yr.prototype.ka=function(r){return op(r,Fd(this))},Yr.prototype.b=function(r,s){var c=Fd(this);return c.idToken=s,sp(r,c)},Yr.prototype.c=function(r,s){var c=Fd(this);return ps(up(r,c),s)};function Fd(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:C0(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}Yr.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function bN(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Yr(r.providerId,s,r.signInMethod)}catch{}}return null}function co(r,s){this.Qc=s||[],mn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(Pd(r)||{}).Ja||null,this.pb=null}co.prototype.Ka=function(r){return this.Jb=Ae(r),this};function bb(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');co.call(this,r,[])}H(bb,co);function $n(r){co.call(this,r,Gc),this.a=[]}H($n,co),$n.prototype.Ca=function(r){return N(this.a,r)||this.a.push(r),this},$n.prototype.Rb=function(){return te(this.a)},$n.prototype.credential=function(r,s){var c;if(A(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new Yr(this.providerId,c,this.providerId)};function lo(){$n.call(this,"facebook.com")}H(lo,$n),de(lo,"PROVIDER_ID","facebook.com"),de(lo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function wb(r){if(!r)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return A(r)&&(s=r.accessToken),new lo().credential({accessToken:s})}function fo(){$n.call(this,"github.com")}H(fo,$n),de(fo,"PROVIDER_ID","github.com"),de(fo,"GITHUB_SIGN_IN_METHOD","github.com");function _b(r){if(!r)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return A(r)&&(s=r.accessToken),new fo().credential({accessToken:s})}function ho(){$n.call(this,"google.com"),this.Ca("profile")}H(ho,$n),de(ho,"PROVIDER_ID","google.com"),de(ho,"GOOGLE_SIGN_IN_METHOD","google.com");function Eb(r,s){var c=r;return A(r)&&(c=r.idToken,s=r.accessToken),new ho().credential({idToken:c,accessToken:s})}function vs(){co.call(this,"twitter.com",fb)}H(vs,co),de(vs,"PROVIDER_ID","twitter.com"),de(vs,"TWITTER_SIGN_IN_METHOD","twitter.com");function Ib(r,s){var c=r;if(A(c)||(c={oauthToken:r,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Yr("twitter.com",c,"twitter.com")}function _i(r,s,c){this.a=r,this.f=s,de(this,"providerId","password"),de(this,"signInMethod",c===ir.EMAIL_LINK_SIGN_IN_METHOD?ir.EMAIL_LINK_SIGN_IN_METHOD:ir.EMAIL_PASSWORD_SIGN_IN_METHOD)}_i.prototype.ka=function(r){return this.signInMethod==ir.EMAIL_LINK_SIGN_IN_METHOD?Ke(r,rR,{email:this.a,oobCode:this.f}):Ke(r,Yb,{email:this.a,password:this.f})},_i.prototype.b=function(r,s){return this.signInMethod==ir.EMAIL_LINK_SIGN_IN_METHOD?Ke(r,iR,{idToken:s,email:this.a,oobCode:this.f}):Ke(r,Qb,{idToken:s,email:this.a,password:this.f})},_i.prototype.c=function(r,s){return ps(this.ka(r),s)},_i.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function wN(r){return r&&r.email&&r.password?new _i(r.email,r.password,r.signInMethod):null}function ir(){mn(this,{providerId:"password",isOAuthProvider:!1})}function Tb(r,s){if(s=jd(s),!s)throw new k("argument-error","Invalid email link!");return new _i(r,s.code,ir.EMAIL_LINK_SIGN_IN_METHOD)}function jd(r){return r=yb(r),(r=nb(r))&&r.operation===Bc?r:null}mn(ir,{PROVIDER_ID:"password"}),mn(ir,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),mn(ir,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Ei(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new k("internal-error");this.a=r,de(this,"providerId","phone"),this.fa="phone",de(this,"signInMethod","phone")}Ei.prototype.ka=function(r){return r.gb(zu(this))},Ei.prototype.b=function(r,s){var c=zu(this);return c.idToken=s,Ke(r,TR,c)},Ei.prototype.c=function(r,s){var c=zu(this);return c.operation="REAUTH",r=Ke(r,SR,c),ps(r,s)},Ei.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function _N(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(s[c]=r[c])}),new Ei(s)}return null}function zu(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function Jr(r){try{this.a=r||ke.auth()}catch{throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}mn(this,{providerId:"phone",isOAuthProvider:!1})}Jr.prototype.gb=function(r,s){var c=this.a.a;return Ie(s.verify()).then(function(h){if(typeof h!="string")throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var v=A(r)?r.session:null,y=A(r)?r.phoneNumber:r,b;return v&&v.type==Hu?b=v.Ha().then(function(E){return WN(c,{idToken:E,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:h}})}):v&&v.type==Xc?b=v.Ha().then(function(E){return XN(c,{mfaPendingCredential:E,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):b=GN(c,{phoneNumber:y,recaptchaToken:h}),b.then(function(E){return typeof s.reset=="function"&&s.reset(),E},function(E){throw typeof s.reset=="function"&&s.reset(),E});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Sb(r,s){if(!r)throw new k("missing-verification-id");if(!s)throw new k("missing-verification-code");return new Ei({fb:r,eb:s})}mn(Jr,{PROVIDER_ID:"phone"}),mn(Jr,{PHONE_SIGN_IN_METHOD:"phone"});function Ud(r){if(r.temporaryProof&&r.phoneNumber)return new Ei({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,v=r&&r.nonce,y=r&&r.oauthIdToken,b=r&&r.pendingToken;try{switch(s){case"google.com":return Eb(y,c);case"facebook.com":return wb(c);case"github.com":return _b(c);case"twitter.com":return Ib(c,h);default:return c||h||y||b?b?s.indexOf("saml.")==0?new ao(s,b):new Yr(s,{pendingToken:b,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new $n(s).credential({idToken:y,accessToken:c,rawNonce:v}):null}}catch{return null}}function Vd(r){if(!r.isOAuthProvider)throw new k("invalid-oauth-provider")}function vr(r,s,c,h,v,y,b){if(this.c=r,this.b=s||null,this.g=c||null,this.f=h||null,this.i=y||null,this.h=b||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}vr.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},vr.prototype.T=function(){return this.h},vr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Ab(r){return r=r||{},r.type?new vr(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&Xe(r.error),r.postBody,r.tenantId):null}function EN(){this.b=null,this.a=[]}var qd=null;function IN(r){var s=qd;s.a.push(r),s.b||(s.b=function(c){for(var h=0;h<s.a.length;h++)s.a[h](c)},r=yt("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function Bd(r){var s="unauthorized-domain",c=void 0,h=Cn(r);r=h.a,h=h.c,h=="chrome-extension"?c=Qy("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=Qy("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",k.call(this,s,c)}H(Bd,k);function Gu(r,s,c){k.call(this,r,c),r=s||{},r.Kb&&de(this,"email",r.Kb),r.ea&&de(this,"phoneNumber",r.ea),r.credential&&de(this,"credential",r.credential),r.$b&&de(this,"tenantId",r.$b)}H(Gu,k),Gu.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&qe(r,s),r},Gu.prototype.toJSON=function(){return this.w()};function Qc(r){if(r.code){var s=r.code||"";s.indexOf(ot)==0&&(s=s.substring(ot.length));var c={credential:Ud(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new k(s,r.message||void 0);return new Gu(s,c,r.message)}return null}function Wu(){}Wu.prototype.c=null;function kb(r){return r.c||(r.c=r.b())}var $d;function Yc(){}H(Yc,Wu),Yc.prototype.a=function(){var r=xb(this);return r?new ActiveXObject(r):new XMLHttpRequest},Yc.prototype.b=function(){var r={};return xb(this)&&(r[0]=!0,r[1]=!0),r};function xb(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var h=s[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}$d=new Yc;function Jc(){}H(Jc,Wu),Jc.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new Nb;throw Error("Unsupported browser")},Jc.prototype.b=function(){return{}};function Nb(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=j(this.qc,this),this.a.onerror=j(this.Tb,this),this.a.onprogress=j(this.rc,this),this.a.ontimeout=j(this.vc,this)}e=Nb.prototype,e.open=function(r,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,s)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Kd(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Kd(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Kd(this,1)};function Kd(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Hd(r,s,c){this.reset(r,s,c,void 0,void 0)}Hd.prototype.a=null,Hd.prototype.reset=function(r,s,c,h,v){delete this.a};function zd(r){this.f=r,this.b=this.c=this.a=null}function Xu(r,s){this.name=r,this.value=s}Xu.prototype.toString=function(){return this.name};var Rb=new Xu("SEVERE",1e3),Gd=new Xu("WARNING",900),TN=new Xu("CONFIG",700),SN=new Xu("FINE",500);function Cb(r){return r.c?r.c:r.a?Cb(r.a):(Rt("Root logger has no level set."),null)}zd.prototype.log=function(r,s,c){if(r.value>=Cb(this).value)for(T(s)&&(s=s()),r=new Hd(r,String(s),this.f),c&&(r.a=c),c=this;c;)c=c.a};var Wd={},Zc=null;function Xd(r){Zc||(Zc=new zd(""),Wd[""]=Zc,Zc.c=TN);var s;if(!(s=Wd[r])){s=new zd(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=Xd(r.substr(0,c)),c.b||(c.b={}),c.b[h]=s,s.a=c,Wd[r]=s}return s}function or(r,s){r&&r.log(SN,s,void 0)}function el(r){this.f=r}H(el,Wu),el.prototype.a=function(){return new tl(this.f)},el.prototype.b=function(r){return function(){return r}}({});function tl(r){gn.call(this),this.u=r,this.h=void 0,this.readyState=Qd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Xd("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}H(tl,gn);var Qd=0;e=tl.prototype,e.open=function(r,s){if(this.readyState!=Qd)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,Yu(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Qu(this)),this.readyState=Qd},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,Yu(this)),this.a&&(this.readyState=3,Yu(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,Ob(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Ob(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?Qu(this):Yu(this),this.readyState==3&&Ob(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,Qu(this))},e.sc=function(r){this.a&&(this.response=r,Qu(this))},e.Va=function(r){var s=this.i;s&&s.log(Gd,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&Qu(this)};function Qu(r){r.readyState=4,r.g=null,r.c=null,r.m=null,Yu(r)}e.setRequestHeader=function(r,s){this.l.append(r,s)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(Gd,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(Gd,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function Yu(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(tl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function Ju(r){gn.call(this),this.headers=new us,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Pb,this.u=this.S=!1}H(Ju,gn);var Pb="";Ju.prototype.b=Xd("goog.net.XhrIo");var AN=/^https?$/i,kN=["POST","PUT"];function xN(r,s,c,h,v){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);c=c?c.toUpperCase():"GET",r.l=s,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():$d.a(),r.C=r.D?kb(r.D):kb($d),r.a.onreadystatechange=j(r.Wb,r);try{or(r.b,Zr(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(s),!0),r.N=!1}catch(b){or(r.b,Zr(r,"Error opening Xhr: "+b.message)),Db(r,b);return}s=h||"";var y=new us(r.headers);v&&Dx(v,function(b,E){y.set(E,b)}),v=S(y.Y()),h=f.FormData&&s instanceof f.FormData,!N(kN,c)||v||h||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(b,E){this.a.setRequestHeader(E,b)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{Fb(r),0<r.g&&(r.u=NN(r.a),or(r.b,Zr(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=j(r.Ma,r)):r.s=cd(r.Ma,r.g,r)),or(r.b,Zr(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(b){or(r.b,Zr(r,"Send error: "+b.message)),Db(r,b)}}function NN(r){return dr&&e0(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function RN(r){return r.toLowerCase()=="content-type"}e=Ju.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",or(this.b,Zr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Db(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,Lb(r),nl(r)}function Lb(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(or(this.b,Zr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),nl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),nl(this,!0)),Ju.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Mb(this):this.Jc())},e.Jc=function(){Mb(this)};function Mb(r){if(r.c&&typeof l<"u"){if(r.C[1]&&Zu(r)==4&&rl(r)==2)or(r.b,Zr(r,"Local request error detected and ignored"));else if(r.i&&Zu(r)==4)cd(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),Zu(r)==4){or(r.b,Zr(r,"Request complete")),r.c=!1;try{var s=rl(r);e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var h;if(!(h=c)){var v;if(v=s===0){var y=String(r.l).match(N0)[1]||null;if(!y&&f.self&&f.self.location){var b=f.self.location.protocol;y=b.substr(0,b.length-1)}v=!AN.test(y?y.toLowerCase():"")}h=v}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var E=2<Zu(r)?r.a.statusText:""}catch(M){or(r.b,"Can not get status: "+M.message),E=""}r.h=E+" ["+rl(r)+"]",Lb(r)}}finally{nl(r)}}}}function nl(r,s){if(r.a){Fb(r);var c=r.a,h=r.C[0]?m:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(v){(r=r.b)&&r.log(Rb,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function Fb(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function Zu(r){return r.a?r.a.readyState:0}function rl(r){try{return 2<Zu(r)?r.a.status:-1}catch{return-1}}function CN(r){try{return r.a?r.a.responseText:""}catch(s){return or(r.b,"Can not get responseText: "+s.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Pb:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(Rb,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return or(this.b,"Can not get response: "+s.message),null}};function Zr(r,s){return s+" ["+r.P+" "+r.l+" "+rl(r)+"]"}function po(r){var s=DN;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}po.prototype.cancel=function(r){if(this.a)this.c instanceof po&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new ta,il(this),ea(this,!1,r))}},po.prototype.m=function(r,s){this.i=!1,ea(this,r,s)};function ea(r,s,c){r.a=!0,r.c=c,r.f=!s,Ub(r)}function il(r){if(r.a){if(!r.v)throw new ol;r.v=!1}}function ON(r,s){Yd(r,null,s,void 0)}function Yd(r,s,c,h){r.g.push([s,c,h]),r.a&&Ub(r)}po.prototype.then=function(r,s,c){var h,v,y=new $e(function(b,E){h=b,v=E});return Yd(this,h,function(b){b instanceof ta?y.cancel():v(b)}),y.then(r,s,c)},po.prototype.$goog_Thenable=!0;function jb(r){return I(r.g,function(s){return T(s[1])})}function Ub(r){if(r.h&&r.a&&jb(r)){var s=r.h,c=sl[s];c&&(f.clearTimeout(c.a),delete sl[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=c=!1;r.g.length&&!r.i;){var v=r.g.shift(),y=v[0],b=v[1];if(v=v[2],y=r.f?b:y)try{var E=y.call(v||r.s,s);E!==void 0&&(r.f=r.f&&(E==s||E instanceof Error),r.c=s=E),(Pe(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(M){s=M,r.f=!0,jb(r)||(c=!0)}}r.c=s,h&&(E=j(r.m,r,!0),h=j(r.m,r,!1),s instanceof po?(Yd(s,E,h),s.C=!0):s.then(E,h)),c&&(s=new Vb(s),sl[s.a]=s,r.h=s.a)}function ol(){_e.call(this)}H(ol,_e),ol.prototype.message="Deferred has already fired",ol.prototype.name="AlreadyCalledError";function ta(){_e.call(this)}H(ta,_e),ta.prototype.message="Deferred was canceled",ta.prototype.name="CanceledError";function Vb(r){this.a=f.setTimeout(j(this.c,this),0),this.b=r}Vb.prototype.c=function(){throw delete sl[this.a],this.b};var sl={};function Jd(r){var s={},c=s.document||document,h=rs(r).toString(),v=Cc(document,"SCRIPT"),y={Xb:v,Ma:void 0},b=new po(y),E=null,M=s.timeout!=null?s.timeout:5e3;return 0<M&&(E=window.setTimeout(function(){ul(v,!0);var G=new Zd(MN,"Timeout reached for loading script "+h);il(b),ea(b,!1,G)},M),y.Ma=E),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(ul(v,s.xd||!1,E),il(b),ea(b,!0,null))},v.onerror=function(){ul(v,!0,E);var G=new Zd(LN,"Error while loading script "+h);il(b),ea(b,!1,G)},y=s.attributes||{},qe(y,{type:"text/javascript",charset:"UTF-8"}),n0(v,y),fx(v,r),PN(c).appendChild(v),b}function PN(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function DN(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&ul(r,!0,this.Ma)}}function ul(r,s,c){c!=null&&f.clearTimeout(c),r.onload=m,r.onerror=m,r.onreadystatechange=m,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var LN=0,MN=1;function Zd(r,s){var c="Jsloader error (code #"+r+")";s&&(c+=": "+s),_e.call(this,c),this.code=r}H(Zd,_e);function al(r){this.f=r}H(al,Wu),al.prototype.a=function(){return new this.f},al.prototype.b=function(){return{}};function gr(r,s,c){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||FN,this.g=Ae(r.secureTokenHeaders||jN),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||UN,this.a=Ae(r.firebaseHeaders||VN),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Pr()=="Node",c=f.XMLHttpRequest||c&&ke.INTERNAL.node&&ke.INTERNAL.node.XMLHttpRequest,!c&&!pr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,pr()?this.f=new el(self):q0()?this.f=new al(c):this.f=new Jc,this.b=null}var ep,mr="idToken",FN=new wi(3e4,6e4),jN={"Content-Type":"application/x-www-form-urlencoded"},UN=new wi(3e4,6e4),VN={"Content-Type":"application/json"};function qb(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function cl(r,s){s&&(r.l=tp("https://securetoken.googleapis.com/v1/token",s),r.h=tp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=tp("https://identitytoolkit.googleapis.com/v2/",s))}function tp(r,s){return r=Cn(r),s=Cn(s.url),r.f=r.a+r.f,Du(r,s.c),r.a=s.a,Lu(r,s.g),r.toString()}function Bb(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}gr.prototype.T=function(){return this.b};function $b(r,s,c,h,v,y,b){Kx()||pr()?r=j(r.u,r):(ep||(ep=new $e(function(E,M){BN(E,M)})),r=j(r.s,r)),r(s,c,h,v,y,b)}gr.prototype.u=function(r,s,c,h,v,y){if(pr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new Ju(this.f);if(y){b.g=Math.max(0,y);var E=setTimeout(function(){b.dispatchEvent("timeout")},y)}A0(b,"complete",function(){E&&clearTimeout(E);var M=null;try{M=JSON.parse(CN(this))||null}catch{M=null}s&&s(M)}),ad(b,"ready",function(){E&&clearTimeout(E),b0(this)}),ad(b,"timeout",function(){E&&clearTimeout(E),b0(this),s&&s(null)}),xN(b,r,c,h,v)};var qN=new Be(Rr,"https://apis.google.com/js/client.js?onload=%{onload}"),Kb="__fcb"+Math.floor(1e6*Math.random()).toString();function BN(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[Kb]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var c=Kh(qN,{onload:Kb});ON(Jd(c),function(){s(Error("CORS_UNSUPPORTED"))})}}gr.prototype.s=function(r,s,c,h,v){var y=this;ep.then(function(){window.gapi.client.setApiKey(y.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:v,authType:"none",callback:function(E){window.gapi.auth.setToken(b),s&&s(E)}})}).o(function(b){s&&s({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function $N(r,s){return new $e(function(c,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?$b(r,r.l+"?key="+encodeURIComponent(r.c),function(v){v?v.error?h(cp(v)):v.access_token&&v.refresh_token?c(v):h(new k("internal-error")):h(new k("network-request-failed"))},"POST",C0(s).toString(),r.g,r.m.get()):h(new k("internal-error"))})}function Hb(r,s,c,h,v,y,b){var E=Cn(s+c);Ct(E,"key",r.c),b&&Ct(E,"cb",Date.now().toString());var M=h=="GET";if(M)for(var G in v)v.hasOwnProperty(G)&&Ct(E,G,v[G]);return new $e(function(Ce,st){$b(r,E.toString(),function(et){et?et.error?st(cp(et,y||{})):Ce(et):st(new k("network-request-failed"))},h,M?void 0:D0(K0(v)),r.a,r.v.get())})}function vo(r){if(r=r.email,typeof r!="string"||!Gx.test(r))throw new k("invalid-email")}function zb(r){"email"in r&&vo(r)}function KN(r,s){return Ke(r,eR,{identifier:s,continueUri:qc()?ju():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function HN(r){return Ke(r,hR,{}).then(function(s){return s.authorizedDomains||[]})}function On(r){if(!r[mr])throw r.mfaPendingCredential?new k("multi-factor-auth-required",null,Ae(r)):new k("internal-error")}function np(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new k("internal-error")}else{if(!r.sessionInfo)throw new k("missing-verification-id");if(!r.code)throw new k("missing-verification-code")}}gr.prototype.Ab=function(){return Ke(this,gR,{})},gr.prototype.Cb=function(r,s){return Ke(this,Xb,{idToken:r,email:s})},gr.prototype.Db=function(r,s){return Ke(this,Qb,{idToken:r,password:s})};var zN={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=gr.prototype,e.Eb=function(r,s){var c={idToken:r},h=[];return Se(zN,function(v,y){var b=s[y];b===null?h.push(v):y in s&&(c[y]=b)}),h.length&&(c.deleteAttribute=h),Ke(this,Xb,c)},e.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},qe(r,s),Ke(this,fR,r)},e.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},qe(r,s),Ke(this,aR,r)},e.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},qe(r,s),Ke(this,cR,r)},e.Fb=function(r,s,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},qe(r,c),Ke(this,lR,r)};function GN(r,s){return Ke(r,vR,s)}e.gb=function(r){return Ke(this,IR,r)};function WN(r,s){return Ke(r,mR,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function Gb(r){if(!r.phoneVerificationInfo)throw new k("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new k("missing-verification-code")}function XN(r,s){return Ke(r,yR,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function QN(r,s,c){return Ke(r,nR,{idToken:s,deleteProvider:c})}function rp(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new k("internal-error")}function ip(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new io(r.postBody),hd(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function Wb(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=Qc(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=Qc(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=Qc(r)):r.errorMessage&&(s=Jb(r.errorMessage)),s)throw s;On(r)}function op(r,s){return s.returnIdpCredential=!0,Ke(r,bR,s)}function sp(r,s){return s.returnIdpCredential=!0,Ke(r,_R,s)}function up(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,Ke(r,wR,s)}function ap(r){if(!r.oobCode)throw new k("invalid-action-code")}e.ob=function(r,s){return Ke(this,pR,{oobCode:r,newPassword:s})},e.Sa=function(r){return Ke(this,JN,{oobCode:r})},e.kb=function(r){return Ke(this,YN,{oobCode:r})};var YN={endpoint:"setAccountInfo",A:ap,Z:"email",B:!0},JN={endpoint:"resetPassword",A:ap,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},B:!0},ZN={endpoint:"signupNewUser",A:function(r){if(vo(r),!r.password)throw new k("weak-password")},G:On,V:!0,B:!0},eR={endpoint:"createAuthUri",B:!0},tR={endpoint:"deleteAccount",O:["idToken"]},nR={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new k("internal-error")}},rR={endpoint:"emailLinkSignin",O:["email","oobCode"],A:vo,G:On,V:!0,B:!0},iR={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:vo,G:On,V:!0},oR={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Gb,G:On,B:!0,Na:!0},sR={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Gb,G:On,B:!0,Na:!0},uR={endpoint:"getAccountInfo"},aR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new k("internal-error");vo(r)},Z:"email",B:!0},cR={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new k("internal-error")},Z:"email",B:!0},lR={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},Z:"email",B:!0},fR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new k("internal-error");vo(r)},Z:"email",B:!0},hR={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},dR={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new k("internal-error")}},pR={endpoint:"resetPassword",A:ap,Z:"email",B:!0},vR={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Xb={endpoint:"setAccountInfo",O:["idToken"],A:zb,V:!0},Qb={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(zb(r),!r.password)throw new k("weak-password")},G:On,V:!0},gR={endpoint:"signupNewUser",G:On,V:!0,B:!0},mR={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new k("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},yR={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},bR={endpoint:"verifyAssertion",A:rp,Za:ip,G:Wb,V:!0,B:!0},wR={endpoint:"verifyAssertion",A:rp,Za:ip,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new k("user-not-found");if(r.errorMessage)throw Jb(r.errorMessage);On(r)},V:!0,B:!0},_R={endpoint:"verifyAssertion",A:function(r){if(rp(r),!r.idToken)throw new k("internal-error")},Za:ip,G:Wb,V:!0},ER={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new k("invalid-custom-token")},G:On,V:!0,B:!0},Yb={endpoint:"verifyPassword",A:function(r){if(vo(r),!r.password)throw new k("wrong-password")},G:On,V:!0,B:!0},IR={endpoint:"verifyPhoneNumber",A:np,G:On,B:!0},TR={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new k("internal-error");np(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",Qc(r);On(r)}},SR={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:np,G:On,B:!0},AR={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[mr]^!!r.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function Ke(r,s,c){if(!eN(c,s.O))return mt(new k("internal-error"));var h=!!s.Na,v=s.Vb||"POST",y;return Ie(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?Hb(r,r.i,s.endpoint,v,c,s.Ib,s.mb||!1):Hb(r,r.h,s.endpoint,v,c,s.Ib,s.mb||!1)}).then(function(b){return y=b,s.Za?s.Za(c,y):y}).then(s.G).then(function(){if(!s.Z)return y;if(!(s.Z in y))throw new k("internal-error");return y[s.Z]})}function Jb(r){return cp({error:{errors:[{message:r}],code:400,message:r}})}function cp(r,s){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new k(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},qe(h,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var v in h)if(c.indexOf(v)===0)return new k(h[v],s);return!s&&r&&(s=Vu(r)),new k("internal-error",s)}function kR(r){this.b=r,this.a=null,this.sb=xR(this)}function xR(r){return DR().then(function(){return new $e(function(s,c){yt("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:yt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function v(){clearTimeout(y),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},PR.get());h.ping(v).then(v,function(){c(Error("Network Error"))})})})})}function NR(r,s){return r.sb.then(function(){return new $e(function(c){r.a.send(s.type,s,c,yt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function RR(r,s){r.sb.then(function(){r.a.register("authEvent",s,yt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var CR=new Be(Rr,"https://apis.google.com/js/api.js?onload=%{onload}"),OR=new wi(3e4,6e4),PR=new wi(5e3,15e3),ll=null;function DR(){return ll||(ll=new $e(function(r,s){function c(){z0(),yt("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){z0(),s(Error("Network Error"))},timeout:OR.get()})}if(yt("gapi.iframes.Iframe"))r();else if(yt("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){yt("gapi.load")?c():s(Error("Network Error"))},h=Kh(CR,{onload:h}),Ie(Jd(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw ll=null,r}))}function Zb(r,s,c,h){this.l=r,this.h=s,this.i=c,this.g=h,this.f=null,this.g?(r=Cn(this.g.url),r=Uc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Uc("https",this.l,null,"/__/auth/iframe"),this.a=r,Ct(this.a,"apiKey",this.h),Ct(this.a,"appName",this.i),this.b=null,this.c=[]}Zb.prototype.toString=function(){return this.f?Ct(this.a,"v",this.f):Or(this.a.b,"v"),this.b?Ct(this.a,"eid",this.b):Or(this.a.b,"eid"),this.c.length?Ct(this.a,"fw",this.c.join(",")):Or(this.a.b,"fw"),this.a.toString()};function lp(r,s,c,h,v,y){this.u=r,this.s=s,this.c=c,this.m=h,this.v=y,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}lp.prototype.zb=function(r){return this.h=r,this},lp.prototype.toString=function(){if(this.v){var r=Cn(this.v.url);r=Uc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Uc("https",this.u,null,"/__/auth/handler");if(Ct(r,"apiKey",this.s),Ct(r,"appName",this.c),Ct(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=ke.app(this.c).auth().la()}catch{c=null}s.pb=c,Ct(r,"providerId",this.a.providerId),c=this.a,s=K0(c.Jb);for(var h in s)s[h]=s[h].toString();h=c.Qc,s=Ae(s);for(var v=0;v<h.length;v++){var y=h[v];y in s&&delete s[y]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),pe(s)||Ct(r,"customParameters",Vu(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Ct(r,"scopes",c.join(","))),this.l?Ct(r,"redirectUrl",this.l):Or(r.b,"redirectUrl"),this.g?Ct(r,"eventId",this.g):Or(r.b,"eventId"),this.i?Ct(r,"v",this.i):Or(r.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!rr(r,b)&&Ct(r,b,this.b[b]);return this.h?Ct(r,"tid",this.h):Or(r.b,"tid"),this.f?Ct(r,"eid",this.f):Or(r.b,"eid"),b=fp(this.c),b.length&&Ct(r,"fw",b.join(",")),r.toString()};function fp(r){try{return ke.app(r).auth().Ga()}catch{return[]}}function ew(r,s,c,h,v,y){this.s=r,this.g=s,this.b=c,this.f=y,this.c=h||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function tw(r){var s=ju();return HN(r).then(function(c){e:{var h=Cn(s),v=h.c;h=h.a;for(var y=0;y<c.length;y++){var b=c[y],E=h,M=v;if(b.indexOf("chrome-extension://")==0?E=Cn(b).a==E&&M=="chrome-extension":M!="http"&&M!="https"?E=!1:zx.test(b)?E=E==b:(b=b.split(".").join("\\."),E=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(E)),E){c=!0;break e}}c=!1}if(!c)throw new Bd(ju())})}function nw(r){return r.m||(r.m=Vc().then(function(){if(!r.u){var s=r.c,c=r.i,h=fp(r.b),v=new Zb(r.s,r.g,r.b,r.f);v.f=s,v.b=c,v.c=te(h||[]),r.u=v.toString()}r.v=new kR(r.u),LR(r)})),r.m}e=ew.prototype,e.Pb=function(r,s,c){var h=new k("popup-closed-by-user"),v=new k("web-storage-unsupported"),y=this,b=!1;return this.ma().then(function(){MR(y).then(function(E){E||(r&&oo(r),s(v),b=!0)})}).o(function(){}).then(function(){if(!b)return Hx(r)}).then(function(){if(!b)return ss(c).then(function(){s(h)})})},e.Yb=function(){var r=Jt();return!Uu(r)&&!H0(r)},e.Ub=function(){return!1},e.Nb=function(r,s,c,h,v,y,b,E){if(!r)return mt(new k("popup-blocked"));if(b&&!Uu())return this.ma().o(function(G){oo(r),v(G)}),h(),Ie();this.a||(this.a=tw(rw(this)));var M=this;return this.a.then(function(){var G=M.ma().o(function(Ce){throw oo(r),v(Ce),Ce});return h(),G}).then(function(){if(Vd(c),!b){var G=na(M.s,M.g,M.b,s,c,null,y,M.c,void 0,M.i,E,M.f);F0(G,r)}}).o(function(G){throw G.code=="auth/network-request-failed"&&(M.a=null),G})};function rw(r){return r.l||(r.C=r.c?ls(r.c,fp(r.b)):null,r.l=new gr(r.g,Ze(r.i),r.C),r.f&&cl(r.l,r.f)),r.l}e.Ob=function(r,s,c,h){this.a||(this.a=tw(rw(this)));var v=this;return this.a.then(function(){Vd(s);var y=na(v.s,v.g,v.b,r,s,ju(),c,v.c,void 0,v.i,h,v.f);F0(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(v.a=null),y})},e.ma=function(){var r=this;return nw(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new k("network-request-failed")})},e.ac=function(){return!0};function na(r,s,c,h,v,y,b,E,M,G,Ce,st){return r=new lp(r,s,c,h,v,st),r.l=y,r.g=b,r.i=E,r.b=Ae(M||null),r.f=G,r.zb(Ce).toString()}function LR(r){if(!r.v)throw Error("IfcHandler must be initialized!");RR(r.v,function(s){var c={};if(s&&s.authEvent){var h=!1;for(s=Ab(s.authEvent),c=0;c<r.h.length;c++)h=r.h[c](s)||h;return c={},c.status=h?"ACK":"ERROR",Ie(c)}return c.status="ERROR",Ie(c)})}function MR(r){var s={type:"webStorageSupport"};return nw(r).then(function(){return NR(r.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){U(this.h,function(s){return s==r})};function iw(r){if(this.a=r||ke.INTERNAL.reactNative&&ke.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=iw.prototype,e.get=function(r){return Ie(this.a.getItem(r)).then(function(s){return s&&hs(s)})},e.set=function(r,s){return Ie(this.a.setItem(r,Vu(s)))},e.U=function(r){return Ie(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function ow(r){this.b=r,this.a={},this.f=j(this.c,this)}var sw=[];function FR(){var r=pr()?self:null;if(q(sw,function(c){c.b==r&&(s=c)}),!s){var s=new ow(r);sw.push(s)}return s}ow.prototype.c=function(r){var s=r.data.eventType,c=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var v=[];q(h,function(y){v.push(Ie().then(function(){return y(r.origin,r.data.data)}))}),l0(v).then(function(y){var b=[];q(y,function(E){b.push({fulfilled:E.Qb,value:E.value,reason:E.reason?E.reason.message:void 0})}),q(b,function(E){for(var M in E)typeof E[M]>"u"&&delete E[M]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:b})})}};function uw(r,s,c){pe(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(c)}function aw(r){this.a=r}aw.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function cw(r){this.c=r,this.b=!1,this.a=[]}function lw(r,s,c,h){var v,y=c||{},b,E,M,G=null;if(r.b)return mt(Error("connection_unavailable"));var Ce=h?800:50,st=typeof MessageChannel<"u"?new MessageChannel:null;return new $e(function(et,Wt){st?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),st.port1.start(),E=setTimeout(function(){Wt(Error("unsupported_event"))},Ce),b=function(ei){ei.data.eventId===v&&(ei.data.status==="ack"?(clearTimeout(E),M=setTimeout(function(){Wt(Error("timeout"))},3e3)):ei.data.status==="done"?(clearTimeout(M),typeof ei.data.response<"u"?et(ei.data.response):Wt(Error("unknown_error"))):(clearTimeout(E),clearTimeout(M),Wt(Error("invalid_response"))))},G={messageChannel:st,onMessage:b},r.a.push(G),st.port1.addEventListener("message",b),r.c.postMessage({eventType:s,eventId:v,data:y},[st.port2])):Wt(Error("connection_unavailable"))}).then(function(et){return hp(r,G),et}).o(function(et){throw hp(r,G),et})}function hp(r,s){if(s){var c=s.messageChannel,h=s.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),U(r.a,function(v){return v==s})}}cw.prototype.close=function(){for(;0<this.a.length;)hp(this,this.a[0]);this.b=!0};function fw(){if(!vp())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;pr()&&self?(this.v=FR(),uw(this.v,"keyChanged",function(s,c){return pw(r).then(function(h){return 0<h.length&&q(r.a,function(v){v(h)}),{keyProcessed:N(h,c.key)}})}),uw(this.v,"ping",function(){return Ie(["keyChanged"])})):Jx().then(function(s){(r.h=s)&&(r.g=new cw(new aw(s)),lw(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&N(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var dp;function jR(r){return new $e(function(s,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(v){c(Error(v.target.error))}})}function hw(r){return new $e(function(s,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(v){try{v.preventDefault()}catch{}c(Error(v.target.error))},h.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},h.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?s(v):jR(r).then(function(){return hw(r)}).then(function(y){s(y)}).o(function(y){c(y)})}})}function pp(r){return r.i||(r.i=hw(r)),r.i}function fl(r,s){function c(v,y){pp(r).then(s).then(v).o(function(b){if(3<++h)y(b);else return pp(r).then(function(E){return E.close(),r.i=void 0,c(v,y)}).o(function(E){y(E)})})}var h=0;return new $e(c)}function vp(){try{return!!f.indexedDB}catch{return!1}}function ra(r){return r.objectStore("firebaseLocalStorage")}function ia(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function gs(r){return new $e(function(s,c){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){c(h.target.error)}})}e=fw.prototype,e.set=function(r,s){var c=this,h=!1;return fl(this,function(v){return v=ra(ia(v,!0)),gs(v.get(r))}).then(function(v){return fl(c,function(y){if(y=ra(ia(y,!0)),v)return v.value=s,gs(y.put(v));c.b++,h=!0;var b={};return b.fbase_key=r,b.value=s,gs(y.add(b))})}).then(function(){return c.c[r]=s,dw(c,r)}).oa(function(){h&&c.b--})};function dw(r,s){return r.g&&r.h&&Yx()===r.h?lw(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):Ie()}e.get=function(r){return fl(this,function(s){return gs(ra(ia(s,!1)).get(r))}).then(function(s){return s&&s.value})},e.U=function(r){var s=this,c=!1;return fl(this,function(h){return c=!0,s.b++,gs(ra(ia(h,!0)).delete(r))}).then(function(){return delete s.c[r],dw(s,r)}).oa(function(){c&&s.b--})};function pw(r){return pp(r).then(function(s){var c=ra(ia(s,!1));return c.getAll?gs(c.getAll()):new $e(function(h,v){var y=[],b=c.openCursor();b.onsuccess=function(E){(E=E.target.result)?(y.push(E.value),E.continue()):h(y)},b.onerror=function(E){v(E.target.error)}})}).then(function(s){var c={},h=[];if(r.b==0){for(h=0;h<s.length;h++)c[s[h].fbase_key]=s[h].value;h=j0(r.c,c),r.c=c}return h})}e.ca=function(r){this.a.length==0&&UR(this),this.a.push(r)},e.ia=function(r){U(this.a,function(s){return s==r}),this.a.length==0&&vw(this)};function UR(r){function s(){r.f=setTimeout(function(){r.l=pw(r).then(function(c){0<c.length&&q(r.a,function(h){h(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}vw(r),s()}function vw(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function gw(r){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Ie().then(function(){if(vp()){var h=uo(),v="__sak"+h;return dp||(dp=new fw),c=dp,c.set(v,h).then(function(){return c.get(v)}).then(function(y){if(y!==h)throw Error("indexedDB not supported!");return c.U(v)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(v){q(s.a,function(y){y(v)})}),h})}e=gw.prototype,e.get=function(r){return this.b.then(function(s){return s.get(r)})},e.set=function(r,s){return this.b.then(function(c){return c.set(r,s)})},e.U=function(r){return this.b.then(function(s){return s.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){U(this.a,function(s){return s==r})};function oa(){this.a={},this.type="inMemory"}e=oa.prototype,e.get=function(r){return Ie(this.a[r])},e.set=function(r,s){return this.a[r]=s,Ie()},e.U=function(r){return delete this.a[r],Ie()},e.ca=function(){},e.ia=function(){};function hl(){if(!VR())throw Pr()=="Node"?new k("internal-error","The LocalStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=mw()||ke.INTERNAL.node.localStorage,this.type="localStorage"}function mw(){try{var r=f.localStorage,s=uo();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function VR(){var r=Pr()=="Node";if(r=mw()||r&&ke.INTERNAL.node&&ke.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=hl.prototype,e.get=function(r){var s=this;return Ie().then(function(){var c=s.a.getItem(r);return hs(c)})},e.set=function(r,s){var c=this;return Ie().then(function(){var h=Vu(s);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var s=this;return Ie().then(function(){s.a.removeItem(r)})},e.ca=function(r){f.window&&nr(f.window,"storage",r)},e.ia=function(r){f.window&&Bn(f.window,"storage",r)};function gp(){this.type="nullStorage"}e=gp.prototype,e.get=function(){return Ie(null)},e.set=function(){return Ie()},e.U=function(){return Ie()},e.ca=function(){},e.ia=function(){};function mp(){if(!qR())throw Pr()=="Node"?new k("internal-error","The SessionStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=yw()||ke.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function yw(){try{var r=f.sessionStorage,s=uo();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function qR(){var r=Pr()=="Node";if(r=yw()||r&&ke.INTERNAL.node&&ke.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=mp.prototype,e.get=function(r){var s=this;return Ie().then(function(){var c=s.a.getItem(r);return hs(c)})},e.set=function(r,s){var c=this;return Ie().then(function(){var h=Vu(s);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var s=this;return Ie().then(function(){s.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function BR(){var r={};r.Browser=$R,r.Node=KR,r.ReactNative=HR,r.Worker=zR,this.a=r[Pr()]}var yp,$R={F:hl,cb:mp},KR={F:hl,cb:mp},HR={F:iw,cb:gp},zR={F:hl,cb:gp},ms={rd:"local",NONE:"none",td:"session"};function GR(r){var s=new k("invalid-persistence-type"),c=new k("unsupported-persistence-type");e:{for(h in ms)if(ms[h]==r){var h=!0;break e}h=!1}if(!h||typeof r!="string")throw s;switch(Pr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!vp()&&r!=="none")throw c;break;default:if(!yd()&&r!=="none")throw c}}function bw(){var r=!!(!H0(Jt())&&gd()),s=Uu(),c=yd();this.m=r,this.h=s,this.l=c,this.a={},yp||(yp=new BR),r=yp;try{this.g=!pd()&&G0()||!f.indexedDB?new r.a.F:new gw(pr()?new oa:new r.a.F)}catch{this.g=new oa,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new oa}this.v=new oa,this.f=j(this.Zb,this),this.b={}}var bp;function sa(){return bp||(bp=new bw),bp}function go(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function ys(r,s){return"firebase:"+r.name+(s?":"+s:"")}function WR(r,s,c){var h=ys(s,c),v=go(r,s.F);return r.get(s,c).then(function(y){var b=null;try{b=hs(f.localStorage.getItem(h))}catch{}if(b&&!y)return f.localStorage.removeItem(h),r.set(s,b,c);b&&y&&v.type!="localStorage"&&f.localStorage.removeItem(h)})}e=bw.prototype,e.get=function(r,s){return go(this,r.F).get(ys(r,s))};function bs(r,s,c){return c=ys(s,c),s.F=="local"&&(r.b[c]=null),go(r,s.F).U(c)}e.set=function(r,s,c){var h=ys(r,c),v=this,y=go(this,r.F);return y.set(h,s).then(function(){return y.get(h)}).then(function(b){r.F=="local"&&(v.b[h]=b)})},e.addListener=function(r,s,c){r=ys(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),pe(this.a)&&(go(this,"local").ca(this.f),this.h||(pd()||!G0())&&f.indexedDB||!this.l||XR(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,s,c){r=ys(r,s),this.a[r]&&(U(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),pe(this.a)&&(go(this,"local").ia(this.f),wp(this))};function XR(r){wp(r),r.c=setInterval(function(){for(var s in r.a){var c=f.localStorage.getItem(s),h=r.b[s];c!=h&&(r.b[s]=c,c=new no({type:"storage",key:s,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function wp(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var v=f.localStorage.getItem(c);v!==h&&(this.b[c]=v,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?go(this,"local").ia(this.f):wp(this),this.m){if(c=f.localStorage.getItem(s),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var y=this;c=function(){(typeof r.a.a<"u"||y.b[s]!==f.localStorage.getItem(s))&&(y.b[s]=f.localStorage.getItem(s),y.nb(s))},dr&&mi&&mi==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else q(r,j(this.nb,this))},e.nb=function(r){this.a[r]&&q(this.a[r],function(s){s()})};function QR(r){this.a=r,this.b=sa()}var _p={name:"authEvent",F:"local"};function YR(r){return r.b.get(_p,r.a).then(function(s){return Ab(s)})}function JR(){this.a=sa()}function ZR(){this.b=-1}function dl(r,s){this.b=ww,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),pl===void 0&&(f.Int32Array?pl=new Int32Array(Iw):pl=Iw),this.reset()}var pl;H(dl,ZR);for(var ww=64,eC=ww-1,_w=[],Ep=0;Ep<eC;Ep++)_w[Ep]=0;var Ew=z(128,_w);dl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):te(this.h)};function Ip(r){for(var s=r.f,c=r.l,h=0,v=0;v<s.length;)c[h++]=s[v]<<24|s[v+1]<<16|s[v+2]<<8|s[v+3],v=4*h;for(s=16;64>s;s++){v=c[s-15]|0,h=c[s-2]|0;var y=(c[s-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,b=(c[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[s]=y+b|0}h=r.a[0]|0,v=r.a[1]|0;var E=r.a[2]|0,M=r.a[3]|0,G=r.a[4]|0,Ce=r.a[5]|0,st=r.a[6]|0;for(y=r.a[7]|0,s=0;64>s;s++){var et=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&v^h&E^v&E)|0;b=G&Ce^~G&st,y=y+((G>>>6|G<<26)^(G>>>11|G<<21)^(G>>>25|G<<7))|0,b=b+(pl[s]|0)|0,b=y+(b+(c[s]|0)|0)|0,y=st,st=Ce,Ce=G,G=M+b|0,M=E,E=v,v=h,h=b+et|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+v|0,r.a[2]=r.a[2]+E|0,r.a[3]=r.a[3]+M|0,r.a[4]=r.a[4]+G|0,r.a[5]=r.a[5]+Ce|0,r.a[6]=r.a[6]+st|0,r.a[7]=r.a[7]+y|0}function Tp(r,s,c){c===void 0&&(c=s.length);var h=0,v=r.c;if(typeof s=="string")for(;h<c;)r.f[v++]=s.charCodeAt(h++),v==r.b&&(Ip(r),v=0);else if(_(s))for(;h<c;){var y=s[h++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");r.f[v++]=y,v==r.b&&(Ip(r),v=0)}else throw Error("message must be string or array");r.c=v,r.g+=c}var Iw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tw(){dl.call(this,8,tC)}H(Tw,dl);var tC=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Sw(r,s,c,h,v,y){this.v=r,this.i=s,this.l=c,this.m=h||null,this.u=v||null,this.s=y,this.h=s+":"+c,this.C=new JR,this.g=new QR(this.h),this.f=null,this.b=[],this.a=this.c=null}function vl(r){return new k("invalid-cordova-configuration",r)}e=Sw.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=Wx().then(function(){if(typeof yt("universalLinks.subscribe",f)!="function")throw vl("cordova-universal-links-plugin-fix is not installed");if(typeof yt("BuildInfo.packageName",f)>"u")throw vl("cordova-plugin-buildinfo is not installed");if(typeof yt("cordova.plugins.browsertab.openUrl",f)!="function")throw vl("cordova-plugin-browsertab is not installed");if(typeof yt("cordova.InAppBrowser.open",f)!="function")throw vl("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})};function nC(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function rC(r){var s=new Tw;Tp(s,r),r=[];var c=8*s.g;56>s.c?Tp(s,Ew,56-s.c):Tp(s,Ew,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=c&255,c/=256;for(Ip(s),h=c=0;h<s.i;h++)for(var v=24;0<=v;v-=8)r[c++]=s.a[h]>>v&255;return pN(r)}e.Pb=function(r,s){return s(new k("operation-not-supported-in-this-environment")),Ie()},e.Nb=function(){return mt(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,s,c,h){if(this.c)return mt(new k("redirect-operation-pending"));var v=this,y=f.document,b=null,E=null,M=null,G=null;return this.c=Ie().then(function(){return Vd(s),kw(v)}).then(function(){return iC(v,r,s,c,h)}).then(function(){return new $e(function(Ce,st){E=function(){var et=yt("cordova.plugins.browsertab.close",f);return Ce(),typeof et=="function"&&et(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(E),M=function(){b||(b=ss(2e3).then(function(){st(new k("redirect-cancelled-by-user"))}))},G=function(){bd()&&M()},y.addEventListener("resume",M,!1),Jt().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",G,!1)}).o(function(Ce){return Sp(v).then(function(){throw Ce})})}).oa(function(){M&&y.removeEventListener("resume",M,!1),G&&y.removeEventListener("visibilitychange",G,!1),b&&b.cancel(),E&&v.Ta(E),v.c=null})};function iC(r,s,c,h,v){var y=nC(),b=new vr(s,h,null,y,new k("no-auth-event"),null,v),E=yt("BuildInfo.packageName",f);if(typeof E!="string")throw new k("invalid-cordova-configuration");var M=yt("BuildInfo.displayName",f),G={};if(Jt().toLowerCase().match(/iphone|ipad|ipod/))G.ibi=E;else if(Jt().toLowerCase().match(/android/))G.apn=E;else return mt(new k("operation-not-supported-in-this-environment"));M&&(G.appDisplayName=M),y=rC(y),G.sessionId=y;var Ce=na(r.v,r.i,r.l,s,c,null,h,r.m,G,r.u,v,r.s);return r.ma().then(function(){var st=r.h;return r.C.a.set(_p,b.w(),st)}).then(function(){var st=yt("cordova.plugins.browsertab.isAvailable",f);if(typeof st!="function")throw new k("invalid-cordova-configuration");var et=null;st(function(Wt){if(Wt){if(et=yt("cordova.plugins.browsertab.openUrl",f),typeof et!="function")throw new k("invalid-cordova-configuration");et(Ce)}else{if(et=yt("cordova.InAppBrowser.open",f),typeof et!="function")throw new k("invalid-cordova-configuration");Wt=Jt(),r.a=et(Ce,Wt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Wt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Aw(r,s){for(var c=0;c<r.b.length;c++)try{r.b[c](s)}catch{}}function kw(r){return r.f||(r.f=r.ma().then(function(){return new $e(function(s){function c(h){return s(h),r.Ta(c),!1}r.Ea(c),oC(r)})})),r.f}function Sp(r){var s=null;return YR(r.g).then(function(c){return s=c,c=r.g,bs(c.b,_p,c.a)}).then(function(){return s})}function oC(r){function s(b){h=!0,v&&v.cancel(),Sp(r).then(function(E){var M=c;if(E&&b&&b.url){var G=null;M=yb(b.url),M.indexOf("/__/auth/callback")!=-1&&(G=Cn(M),G=hs(rr(G,"firebaseError")||null),G=(G=typeof G=="object"?Xe(G):null)?new vr(E.c,E.b,null,null,G,null,E.T()):new vr(E.c,E.b,M,E.f,null,null,E.T())),M=G||c}Aw(r,M)})}var c=new vr("unknown",null,null,null,new k("no-auth-event")),h=!1,v=ss(500).then(function(){return Sp(r).then(function(){h||Aw(r,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(b){if(b.toLowerCase().indexOf(yt("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:b}),typeof y=="function")try{y(b)}catch(E){console.error(E)}},qd||(qd=new EN),IN(s)}e.Ea=function(r){this.b.push(r),kw(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new vr("unknown",null,null,null,new k("no-auth-event")),r(s))})},e.Ta=function(r){U(this.b,function(s){return s==r})};function sC(r){this.a=r,this.b=sa()}var Ap={name:"pendingRedirect",F:"session"};function uC(r){return r.b.set(Ap,"pending",r.a)}function kp(r){return bs(r.b,Ap,r.a)}function aC(r){return r.b.get(Ap,r.a).then(function(s){return s=="pending"})}function gl(r,s,c,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=j(this.s,this),this.b=new yl,this.C=new Fw,this.g=new sC(Dw(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=xw(this.D,this.v,this.m,oe,this.J)}function xw(r,s,c,h,v){var y=ke.SDK_VERSION||null;return vd()?new Sw(r,s,c,y,h,v):new ew(r,s,c,y,h,v)}gl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=xw(this.D,this.v,this.m,null,this.J),this.i={}};function Nw(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(c){throw r.a==s&&r.reset(),c})}function Rw(r){r.a.Yb()&&Nw(r).o(function(s){var c=new vr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Np(s)&&r.s(c)}),r.a.Ub()||Lw(r.b)}function ml(r,s){N(r.h,s)||r.h.push(s),r.f||aC(r.g).then(function(c){c?kp(r.g).then(function(){Nw(r).o(function(h){var v=new vr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Np(h)&&r.s(v)})}):Rw(r)}).o(function(){Rw(r)})}function xp(r,s){U(r.h,function(c){return c==s})}gl.prototype.s=function(r){if(!r)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return Lw(this.b),s};var cC=new wi(2e3,1e4),lC=new wi(3e4,6e4);gl.prototype.ra=function(){return this.b.ra()};function Cw(r,s,c,h,v,y,b){return r.a.Nb(s,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},v,y,b)}function Np(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Ow(r,s,c,h,v){var y;return uC(r.g).then(function(){return r.a.Ob(s,c,h,v).o(function(b){if(Np(b))throw new k("operation-not-supported-in-this-environment");return y=b,kp(r.g).then(function(){throw y})}).then(function(){return r.a.ac()?new $e(function(){}):kp(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Pw(r,s,c,h,v){return r.a.Pb(h,function(y){s.na(c,null,y,v)},cC.get())}var Rp={};function Dw(r,s,c){return r=r+":"+s,c&&(r=r+":"+c.url),r}function Cp(r,s,c,h){var v=Dw(s,c,h);return Rp[v]||(Rp[v]=new gl(r,s,c,h)),Rp[v]}function yl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}yl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},yl.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,v=r.a&&r.a.code=="auth/web-storage-unsupported",y=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!y),c!="unknown"||v||y?r.a?(mo(this,!0,null,r.a),Ie()):s.Fa(c,h)?fC(this,r,s):mt(new k("invalid-auth-event")):(mo(this,!1,null,null),Ie())}else mt(new k("invalid-auth-event"))};function Lw(r){r.g||(r.g=!0,mo(r,!1,null,null))}function bl(r){r.g&&!r.i&&mo(r,!1,null,null)}function fC(r,s,c){c=c.Fa(s.c,s.b);var h=s.g,v=s.f,y=s.i,b=s.T(),E=!!s.c.match(/Redirect$/);c(h,v,b,y).then(function(M){mo(r,E,M,null)}).o(function(M){mo(r,E,null,M)})}function hC(r,s){if(r.b=function(){return mt(s)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](s)}function Mw(r,s){if(r.b=function(){return Ie(s)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](s)}function mo(r,s,c,h){s?h?hC(r,h):Mw(r,c):Mw(r,{user:null}),r.f=[],r.c=[]}yl.prototype.ra=function(){var r=this;return new $e(function(s,c){r.b?r.b().then(s,c):(r.f.push(s),r.c.push(c),dC(r))})};function dC(r){var s=new k("timeout");r.a&&r.a.cancel(),r.a=ss(lC.get()).then(function(){r.b||(r.g=!0,mo(r,!0,null,s))})}function Fw(){}Fw.prototype.h=function(r,s){if(r){var c=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),Ie()):s.Fa(c,h)?pC(r,s):mt(new k("invalid-auth-event"))}else mt(new k("invalid-auth-event"))};function pC(r,s){var c=r.b,h=r.c;s.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(v){s.na(h,v,null,c)}).o(function(v){s.na(h,null,v,c)})}function jw(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Op(r,s){this.a=s,de(this,"verificationId",r)}Op.prototype.confirm=function(r){return r=Sb(this.verificationId,r),this.a(r)};function Pp(r,s,c,h){return new Jr(r).gb(s,c).then(function(v){return new Op(v,h)})}function vC(r){var s=lb(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");mn(this,{token:r,expirationTime:qu(1e3*s.exp),authTime:qu(1e3*s.auth_time),issuedAtTime:qu(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function Dp(r,s,c){var h=s&&s[Vw];if(!h)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=Ae(s),this.g=c,this.c=new Wc(null,h),this.b=[];var v=this;q(s[Uw]||[],function(y){(y=Sd(y))&&v.b.push(y)}),de(this,"auth",this.a),de(this,"session",this.c),de(this,"hints",this.b)}var Uw="mfaInfo",Vw="mfaPendingCredential";Dp.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(c){var h=Ae(s.f);return delete h[Uw],delete h[Vw],qe(h,c),s.g(h)})};function Lp(r,s,c,h){k.call(this,"multi-factor-auth-required",h,s),this.b=new Dp(r,s,c),de(this,"resolver",this.b)}H(Lp,k);function qw(r,s,c){if(r&&A(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new Lp(s,r.serverResponse,c,r.message)}catch{}return null}function Bw(){}Bw.prototype.tb=function(r,s,c){return s.type==Hu?gC(this,r,s,c):mC(this,r,s)};function gC(r,s,c,h){return c.Ha().then(function(v){return v={idToken:v},typeof h<"u"&&(v.displayName=h),qe(v,{phoneVerificationInfo:zu(r.a)}),Ke(s,oR,v)})}function mC(r,s,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},qe(h,{phoneVerificationInfo:zu(r.a)}),Ke(s,sR,h)})}function Mp(r){de(this,"factorId",r.fa),this.a=r}H(Mp,Bw);function $w(r){if(Mp.call(this,r),this.a.fa!=Jr.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}H($w,Mp);function ws(r,s){Rn.call(this,r);for(var c in s)this[c]=s[c]}H(ws,Rn);function Fp(r,s){this.a=r,this.b=[],this.c=j(this.yc,this),nr(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&q(s.multiFactor.enrolledFactors,function(h){var v=null,y={};if(h){h.uid&&(y[kd]=h.uid),h.displayName&&(y[X0]=h.displayName),h.enrollmentTime&&(y[Ad]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(y[xd]=h.phoneNumber);try{v=new Bu(y)}catch{}h=v}else h=null;h&&c.push(h)}),wl(this,c)}function yC(r){var s=[];return q(r.mfaInfo||[],function(c){(c=Sd(c))&&s.push(c)}),s}e=Fp.prototype,e.yc=function(r){wl(this,yC(r.hd))};function wl(r,s){r.b=s,de(r,"enrolledFactors",s)}e.Sb=function(){return this.a.I().then(function(r){return new Wc(r,null)})},e.fc=function(r,s){var c=this,h=this.a.a;return this.Sb().then(function(v){return r.tb(h,v,s)}).then(function(v){return Mr(c.a,v),c.a.reload()})},e.bd=function(r){var s=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(v){return Ke(h,AR,{idToken:v,mfaEnrollmentId:c})}).then(function(v){var y=ae(s.b,function(b){return b.uid!=c});return wl(s,y),Mr(s.a,v),s.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},e.w=function(){return{multiFactor:{enrolledFactors:Ne(this.b,function(r){return r.w()})}}};function jp(r,s,c){if(this.h=r,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}jp.prototype.start=function(){this.a=this.c,Up(this,!0)};function bC(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function Up(r,s){r.stop(),r.b=ss(bC(r,s)).then(function(){return Qx()}).then(function(){return r.h()}).then(function(){Up(r,!0)}).o(function(c){r.i(c)&&Up(r,!1)})}jp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Vp(r){this.f=r,this.b=this.a=null,this.c=Date.now()}Vp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function Kw(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function Hw(r,s){r.b=zc(s[mr]||""),r.a=s.refreshToken,s=s.expiresIn,Kw(r,typeof s<"u"?Number(s):void 0)}function wC(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function _C(r,s){return $N(r.f,s).then(function(c){return r.b=zc(c.access_token),r.a=c.refresh_token,Kw(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}Vp.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?mt(new k("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?_C(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})};function _l(r,s){this.a=r||null,this.b=s||null,mn(this,{lastSignInTime:qu(s||null),creationTime:qu(r||null)})}function EC(r){return new _l(r.a,r.b)}_l.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function IC(r,s,c,h,v,y){mn(this,{uid:r,displayName:h||null,photoURL:v||null,email:c||null,phoneNumber:y||null,providerId:s})}function Kn(r,s,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=ke.SDK_VERSION?ls(ke.SDK_VERSION):null;this.a=new gr(this.l,Ze(oe),h),(this.u=r.emulatorConfig||null)&&cl(this.a,this.u),this.h=new Vp(this.a),Gp(this,s[mr]),Hw(this.h,s),de(this,"refreshToken",this.h.a),Gw(this,c||{}),gn.call(this),this.P=!1,this.s&&so()&&(this.b=Cp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=TC(this),this.ba=j(this.ib,this);var v=this;this.za=null,this.Pa=function(y){v.xa(y.h)},this.qa=null,this.Ba=function(y){qp(v,y.c)},this.$=null,this.aa=[],this.Oa=function(y){ua(v,y.f)},this.ja=null,this.S=new Fp(this,c),de(this,"multiFactor",this.S)}H(Kn,gn),Kn.prototype.xa=function(r){this.za=r,qb(this.a,r)};function qp(r,s){r.u=s,cl(r.a,s),r.b&&(s=r.b,r.b=Cp(r.s,r.l,r.m,r.u),r.P&&(xp(s,r),ml(r.b,r)))}Kn.prototype.la=function(){return this.za};function Bp(r,s){r.qa&&Bn(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&nr(s,"languageCodeChanged",r.Pa)}function $p(r,s){r.$&&Bn(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&nr(s,"emulatorConfigChanged",r.Ba)}function ua(r,s){r.aa=s,Bb(r.a,ke.SDK_VERSION?ls(ke.SDK_VERSION,r.aa):null)}Kn.prototype.Ga=function(){return te(this.aa)};function Kp(r,s){r.ja&&Bn(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&nr(s,"frameworkChanged",r.Oa)}Kn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Hp(r){try{return ke.app(r.m).auth()}catch{throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function TC(r){return new jp(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function zw(r){r.J||r.D.b||(r.D.start(),Bn(r,"tokenChanged",r.ba),nr(r,"tokenChanged",r.ba))}function zp(r){Bn(r,"tokenChanged",r.ba),r.D.stop()}function Gp(r,s){r.Aa=s,de(r,"_lat",s)}function SC(r,s){U(r.W,function(c){return c==s})}function yo(r){for(var s=[],c=0;c<r.W.length;c++)s.push(r.W[c](r));return l0(s).then(function(){return r})}function aa(r){r.b&&!r.P&&(r.P=!0,ml(r.b,r))}function Gw(r,s){mn(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new _l(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}de(Kn.prototype,"providerId","firebase");function Ww(){}function Wp(r){return Ie().then(function(){if(r.J)throw new k("app-deleted")})}function Xp(r){return Ne(r.providerData,function(s){return s.providerId})}function Qp(r,s){s&&(Xw(r,s.providerId),r.providerData.push(s))}function Xw(r,s){U(r.providerData,function(c){return c.providerId==s})}function Ii(r,s,c){(s!="uid"||c)&&r.hasOwnProperty(s)&&de(r,s,c)}function El(r,s){r!=s&&(mn(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?de(r,"metadata",EC(s.metadata)):de(r,"metadata",new _l),q(s.providerData,function(c){Qp(r,c)}),wC(r.h,s.h),de(r,"refreshToken",r.h.a),wl(r.S,s.S.b))}e=Kn.prototype,e.reload=function(){var r=this;return $t(this,Wp(this).then(function(){return Yp(r).then(function(){return yo(r)}).then(Ww)}))};function Yp(r){return r.I().then(function(s){var c=r.isAnonymous;return AC(r,s).then(function(){return c||Ii(r,"isAnonymous",!1),s})})}e.oc=function(r){return this.I(r).then(function(s){return new vC(s)})},e.I=function(r){var s=this;return $t(this,Wp(this).then(function(){return s.h.getToken(r)}).then(function(c){if(!c)throw new k("internal-error");return c.accessToken!=s.Aa&&(Gp(s,c.accessToken),s.dispatchEvent(new ws("tokenChanged"))),Ii(s,"refreshToken",c.refreshToken),c.accessToken}))};function Mr(r,s){s[mr]&&r.Aa!=s[mr]&&(Hw(r.h,s),r.dispatchEvent(new ws("tokenChanged")),Gp(r,s[mr]),Ii(r,"refreshToken",r.h.a))}function AC(r,s){return Ke(r.a,uR,{idToken:s}).then(j(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new k("internal-error");r=r[0],Gw(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=kC(r),c=0;c<s.length;c++)Qp(this,s[c]);Ii(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ws("userReloaded",{hd:r}))};function kC(r){return(r=r.providerUserInfo)&&r.length?Ne(r,function(s){return new IC(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}e.Lc=function(r){return wd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var s=this,c=null;return $t(this,r.c(this.a,this.uid).then(function(h){return Mr(s,h),c=ca(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function Il(r,s){return Yp(r).then(function(){if(N(Xp(r),s))return yo(r).then(function(){throw new k("provider-already-linked")})})}e.Cc=function(r){return wd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var s=this,c=null;return $t(this,Il(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return c=ca(s,h,"link"),Qw(s,h)}).then(function(){return c}))},e.Dc=function(r,s){var c=this;return $t(this,Il(this,"phone").then(function(){return Pp(Hp(c),r,s,j(c.rb,c))}))},e.Mc=function(r,s){var c=this;return $t(this,Ie().then(function(){return Pp(Hp(c),r,s,j(c.ub,c))}),!0)};function ca(r,s,c){var h=Ud(s);return s=hb(s),Dr({user:r,credential:h,additionalUserInfo:s,operationType:c})}function Qw(r,s){return Mr(r,s),r.reload().then(function(){return r})}e.Cb=function(r){var s=this;return $t(this,this.I().then(function(c){return s.a.Cb(c,r)}).then(function(c){return Mr(s,c),s.reload()}))},e.ed=function(r){var s=this;return $t(this,this.I().then(function(c){return r.b(s.a,c)}).then(function(c){return Mr(s,c),s.reload()}))},e.Db=function(r){var s=this;return $t(this,this.I().then(function(c){return s.a.Db(c,r)}).then(function(c){return Mr(s,c),s.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return Wp(this);var s=this;return $t(this,this.I().then(function(c){return s.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Mr(s,c),Ii(s,"displayName",c.displayName||null),Ii(s,"photoURL",c.photoUrl||null),q(s.providerData,function(h){h.providerId==="password"&&(de(h,"displayName",s.displayName),de(h,"photoURL",s.photoURL))}),yo(s)}).then(Ww))},e.cd=function(r){var s=this;return $t(this,Yp(this).then(function(c){return N(Xp(s),r)?QN(s.a,c,[r]).then(function(h){var v={};return q(h.providerUserInfo||[],function(y){v[y.providerId]=!0}),q(Xp(s),function(y){v[y]||Xw(s,y)}),v[Jr.PROVIDER_ID]||de(s,"phoneNumber",null),yo(s)}):yo(s).then(function(){throw new k("no-such-provider")})}))},e.delete=function(){var r=this;return $t(this,this.I().then(function(s){return Ke(r.a,tR,{idToken:s})}).then(function(){r.dispatchEvent(new ws("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");Bp(r,null),$p(r,null),Kp(r,null),r.N=[],r.J=!0,zp(r),de(r,"refreshToken",null),r.b&&xp(r.b,r)})},e.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},e.na=function(r,s,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?j(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?j(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?j(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?j(this.Mb,this):null},e.Ec=function(r){var s=this;return Yw(this,"linkViaPopup",r,function(){return Il(s,r.providerId).then(function(){return yo(s)})},!1)},e.Nc=function(r){return Yw(this,"reauthViaPopup",r,function(){return Ie()},!0)};function Yw(r,s,c,h,v){if(!so())return mt(new k("operation-not-supported-in-this-environment"));if(r.i&&!v)return mt(r.i);var y=Pd(c.providerId),b=uo(r.uid+":::"),E=null;(!Uu()||gd())&&r.s&&c.isOAuthProvider&&(E=na(r.s,r.l,r.m,s,c,null,b,ke.SDK_VERSION||null,null,null,r.tenantId,r.u));var M=V0(E,y&&y.va,y&&y.ua);return h=h().then(function(){if(Zw(r),!v)return r.I().then(function(){})}).then(function(){return Cw(r.b,M,s,c,b,!!E,r.tenantId)}).then(function(){return new $e(function(G,Ce){r.na(s,null,new k("cancelled-popup-request"),r.g||null),r.f=G,r.C=Ce,r.g=b,r.c=Pw(r.b,r,s,M,b)})}).then(function(G){return M&&oo(M),G?Dr(G):null}).o(function(G){throw M&&oo(M),G}),$t(r,h,v)}e.Fc=function(r){var s=this;return Jw(this,"linkViaRedirect",r,function(){return Il(s,r.providerId)},!1)},e.Oc=function(r){return Jw(this,"reauthViaRedirect",r,function(){return Ie()},!0)};function Jw(r,s,c,h,v){if(!so())return mt(new k("operation-not-supported-in-this-environment"));if(r.i&&!v)return mt(r.i);var y=null,b=uo(r.uid+":::");return h=h().then(function(){if(Zw(r),!v)return r.I().then(function(){})}).then(function(){return r.ga=b,yo(r)}).then(function(E){return r.ha&&(E=r.ha,E=E.b.set(Jp,r.w(),E.a)),E}).then(function(){return Ow(r.b,s,c,b,r.tenantId)}).o(function(E){if(y=E,r.ha)return t_(r.ha);throw y}).then(function(){if(y)throw y}),$t(r,h,v)}function Zw(r){if(!r.b||!r.P)throw r.b&&!r.P?new k("internal-error"):new k("auth-domain-config-required")}e.Lb=function(r,s,c,h){var v=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(b){return sp(v.a,{requestUri:r,postBody:h,sessionId:s,idToken:b})}).then(function(b){return y=ca(v,b,"link"),Qw(v,b)}).then(function(){return y}),$t(this,c)},e.Mb=function(r,s,c,h){var v=this;this.c&&(this.c.cancel(),this.c=null);var y=null,b=Ie().then(function(){return ps(up(v.a,{requestUri:r,sessionId:s,postBody:h,tenantId:c}),v.uid)}).then(function(E){return y=ca(v,E,"reauthenticate"),Mr(v,E),v.i=null,v.reload()}).then(function(){return y});return $t(this,b,!0)},e.vb=function(r){var s=this,c=null;return $t(this,this.I().then(function(h){return c=h,typeof r>"u"||pe(r)?{}:Kc(new $c(r))}).then(function(h){return s.a.vb(c,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},e.Fb=function(r,s){var c=this,h=null;return $t(this,this.I().then(function(v){return h=v,typeof s>"u"||pe(s)?{}:Kc(new $c(s))}).then(function(v){return c.a.Fb(h,r,v)}).then(function(v){if(c.email!=v)return c.reload()}).then(function(){}))};function $t(r,s,c){var h=xC(r,s,c);return r.N.push(h),h.oa(function(){L(r.N,h)}),h.o(function(v){var y=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(y=qw(v.w(),Hp(r),j(r.jc,r))),y||v})}e.jc=function(r){var s=null,c=this;return r=ps(Ie(r),c.uid).then(function(h){return s=ca(c,h,"reauthenticate"),Mr(c,h),c.i=null,c.reload()}).then(function(){return s}),$t(this,r,!0)};function xC(r,s,c){return r.i&&!c?(s.cancel(),mt(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new ws("userInvalidated")),r.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&qe(r,this.metadata.w()),q(this.providerData,function(s){r.providerData.push(Zx(s))}),qe(r,this.S.w()),r};function e_(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[mr]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var v=new Kn(s,c,r);return r.providerData&&q(r.providerData,function(y){y&&Qp(v,Dr(y))}),r.redirectEventId&&(v.ga=r.redirectEventId),v}function NC(r,s,c,h){var v=new Kn(r,s);return c&&(v.ha=c),h&&ua(v,h),v.reload().then(function(){return v})}function RC(r,s,c,h){var v=r.h,y={};return y[mr]=v.b&&v.b.toString(),y.refreshToken=v.a,s=new Kn(s||{apiKey:r.l,authDomain:r.s,appName:r.m},y),c&&(s.ha=c),h&&ua(s,h),El(s,r),s}function CC(r){this.a=r,this.b=sa()}var Jp={name:"redirectUser",F:"session"};function t_(r){return bs(r.b,Jp,r.a)}function OC(r,s){return r.b.get(Jp,r.a).then(function(c){return c&&s&&(c.authDomain=s),e_(c||{})})}function Zp(r){this.a=r,this.b=sa(),this.c=null,this.f=PC(this),this.b.addListener(Fr("local"),this.a,j(this.g,this))}Zp.prototype.g=function(){var r=this,s=Fr("local");_s(this,function(){return Ie().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(c){if(c)return ev(r,"local").then(function(){r.c=s})})})};function ev(r,s){var c=[],h;for(h in ms)ms[h]!==s&&c.push(bs(r.b,Fr(ms[h]),r.a));return c.push(bs(r.b,tv,r.a)),Ex(c)}function PC(r){var s=Fr("local"),c=Fr("session"),h=Fr("none");return WR(r.b,s,r.a).then(function(){return r.b.get(c,r.a)}).then(function(v){return v?c:r.b.get(h,r.a).then(function(y){return y?h:r.b.get(s,r.a).then(function(b){return b?s:r.b.get(tv,r.a).then(function(E){return E?Fr(E):s})})})}).then(function(v){return r.c=v,ev(r,v.F)}).o(function(){r.c||(r.c=s)})}var tv={name:"persistence",F:"session"};function Fr(r){return{name:"authUser",F:r}}Zp.prototype.yb=function(r){var s=null,c=this;return GR(r),_s(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return s=h,ev(c,r)}).then(function(){if(c.c=Fr(r),s)return c.b.set(c.c,s,c.a)}):Ie()})};function DC(r){return _s(r,function(){return r.b.set(tv,r.c.F,r.a)})}function n_(r,s){return _s(r,function(){return r.b.set(r.c,s.w(),r.a)})}function r_(r){return _s(r,function(){return bs(r.b,r.c,r.a)})}function i_(r,s,c){return _s(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&c&&(h.emulatorConfig=c),e_(h||{})})})}function _s(r,s){return r.f=r.f.then(s,s),r.f}function yr(r){if(this.l=!1,de(this,"settings",new jw),de(this,"app",r),at(this).options&&at(this).options.apiKey)r=ke.SDK_VERSION?ls(ke.SDK_VERSION):null,this.a=new gr(at(this).options&&at(this).options.apiKey,Ze(oe),r);else throw new k("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=ke.INTERNAL.createSubscribe(j(this.zc,this)),this.W=void 0,this.ib=ke.INTERNAL.createSubscribe(j(this.Ac,this)),Es(this,null),this.i=new Zp(at(this).options.apiKey+":"+at(this).name),this.D=new CC(at(this).options.apiKey+":"+at(this).name),this.$=xt(this,VC(this)),this.h=xt(this,qC(this)),this.ba=!1,this.ja=j(this.Zc,this),this.Ba=j(this.da,this),this.qa=j(this.mc,this),this.za=j(this.wc,this),this.Aa=j(this.xc,this),this.b=null,FC(this),this.INTERNAL={},this.INTERNAL.delete=j(this.delete,this),this.INTERNAL.logFramework=j(this.Gc,this),this.u=0,gn.call(this),MC(this),this.J=[],this.R=null}H(yr,gn);function o_(r){Rn.call(this,"languageCodeChanged"),this.h=r}H(o_,Rn);function s_(r){Rn.call(this,"emulatorConfigChanged"),this.c=r}H(s_,Rn);function u_(r){Rn.call(this,"frameworkChanged"),this.f=r}H(u_,Rn),e=yr.prototype,e.yb=function(r){return r=this.i.yb(r),xt(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,qb(this.a,this.aa),this.dispatchEvent(new o_(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,LC(s),this.R={url:r,ec:s},this.settings.jb=!0,cl(this.a,this.R),this.dispatchEvent(new s_(this.R))}};function LC(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Vc().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}e.Gc=function(r){this.J.push(r),Bb(this.a,ke.SDK_VERSION?ls(ke.SDK_VERSION,this.J):null),this.dispatchEvent(new u_(this.J))},e.Ga=function(){return te(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function MC(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=Cn(this.R.url);s=Dr({protocol:s.c,host:s.a,port:s.g,options:Dr({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}e.toJSON=function(){return{apiKey:at(this).options.apiKey,authDomain:at(this).options.authDomain,appName:at(this).name,currentUser:je(this)&&je(this).w()}};function nv(r){return r.Oa||mt(new k("auth-domain-config-required"))}function FC(r){var s=at(r).options.authDomain,c=at(r).options.apiKey;s&&so()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Cp(s,c,at(r).name,r.R),ml(r.b,r),je(r)&&aa(je(r)),r.m){aa(r.m);var h=r.m;h.xa(r.la()),Bp(h,r),h=r.m,ua(h,r.J),Kp(h,r),h=r.m,qp(h,r.R),$p(h,r),r.m=null}return r.b}}))}e.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},e.na=function(r,s,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?j(this.ic,this):null},e.ic=function(r,s,c,h){var v=this,y={requestUri:r,postBody:h,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return bo(v,op(v.a,y))})},e.Xc=function(r){if(!so())return mt(new k("operation-not-supported-in-this-environment"));var s=this,c=Pd(r.providerId),h=uo(),v=null;(!Uu()||gd())&&at(this).options.authDomain&&r.isOAuthProvider&&(v=na(at(this).options.authDomain,at(this).options.apiKey,at(this).name,"signInViaPopup",r,null,h,ke.SDK_VERSION||null,null,null,this.T(),this.R));var y=V0(v,c&&c.va,c&&c.ua);return c=nv(this).then(function(b){return Cw(b,y,"signInViaPopup",r,h,!!v,s.T())}).then(function(){return new $e(function(b,E){s.na("signInViaPopup",null,new k("cancelled-popup-request"),s.g),s.f=b,s.C=E,s.g=h,s.c=Pw(s.b,s,"signInViaPopup",y,h)})}).then(function(b){return y&&oo(y),b?Dr(b):null}).o(function(b){throw y&&oo(y),b}),xt(this,c)},e.Yc=function(r){if(!so())return mt(new k("operation-not-supported-in-this-environment"));var s=this,c=nv(this).then(function(){return DC(s.i)}).then(function(){return Ow(s.b,"signInViaRedirect",r,void 0,s.T())});return xt(this,c)};function a_(r){if(!so())return mt(new k("operation-not-supported-in-this-environment"));var s=nv(r).then(function(){return r.b.ra()}).then(function(c){return c?Dr(c):null});return xt(r,s)}e.ra=function(){var r=this;return a_(this).then(function(s){return r.b&&bl(r.b.b),s}).o(function(s){throw r.b&&bl(r.b.b),s})},e.dd=function(r){if(!r)return mt(new k("null-user"));if(this.S!=r.tenantId)return mt(new k("tenant-id-mismatch"));var s=this,c={};c.apiKey=at(this).options.apiKey,c.authDomain=at(this).options.authDomain,c.appName=at(this).name;var h=RC(r,c,s.D,s.Ga());return xt(this,this.h.then(function(){if(at(s).options.apiKey!=r.l)return h.reload()}).then(function(){return je(s)&&r.uid==je(s).uid?(El(je(s),r),s.da(r)):(Es(s,h),aa(h),s.da(h))}).then(function(){la(s)}))};function jC(r,s){var c={};return c.apiKey=at(r).options.apiKey,c.authDomain=at(r).options.authDomain,c.appName=at(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return NC(c,s,r.D,r.Ga())}).then(function(h){return je(r)&&h.uid==je(r).uid?(El(je(r),h),r.da(h)):(Es(r,h),aa(h),r.da(h))}).then(function(){la(r)})}function Es(r,s){je(r)&&(SC(je(r),r.Ba),Bn(je(r),"tokenChanged",r.qa),Bn(je(r),"userDeleted",r.za),Bn(je(r),"userInvalidated",r.Aa),zp(je(r))),s&&(s.W.push(r.Ba),nr(s,"tokenChanged",r.qa),nr(s,"userDeleted",r.za),nr(s,"userInvalidated",r.Aa),0<r.u&&zw(s)),de(r,"currentUser",s),s&&(s.xa(r.la()),Bp(s,r),ua(s,r.J),Kp(s,r),qp(s,r.R),$p(s,r))}e.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&bl(r.b.b),je(r)?(Es(r,null),r_(r.i).then(function(){la(r)})):Ie()});return xt(this,s)};function UC(r){var s=OC(r.D,at(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),t_(r.D)});return xt(r,s)}function VC(r){var s=at(r).options.authDomain,c=UC(r).then(function(){return i_(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return n_(r.i,h).then(function(){return h})}).o(function(v){return v.code=="auth/network-request-failed"?h:r_(r.i)})):null}).then(function(h){Es(r,h||null)});return xt(r,c)}function qC(r){return r.$.then(function(){return a_(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(Fr("local"),s.a,r.ja)}})}e.Zc=function(){var r=this;return i_(this.i,at(this).options.authDomain).then(function(s){if(!r.l){var c;if(c=je(r)&&s){c=je(r).uid;var h=s.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return El(je(r),s),je(r).I();(je(r)||s)&&(Es(r,s),s&&(aa(s),s.ha=r.D),r.b&&ml(r.b,r),la(r))}})},e.da=function(r){return n_(this.i,r)},e.mc=function(){la(this),this.da(je(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function bo(r,s){var c=null,h=null;return xt(r,s.then(function(v){return c=Ud(v),h=hb(v),jC(r,v)},function(v){var y=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(y=qw(v.w(),r,j(r.kc,r))),y||v}).then(function(){return Dr({user:je(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(r){var s=this;return this.h.then(function(){return bo(s,Ie(r))})},e.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(je(s))})},e.Ac=function(r){var s=this;BC(this,function(){r.next(je(s))})},e.Ic=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(je(h)):typeof r.next=="function"&&r.next(je(h))}),this.Pa(r,s,c)},e.Hc=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(je(h)):typeof r.next=="function"&&r.next(je(h))}),this.ib(r,s,c)},e.nc=function(r){var s=this,c=this.h.then(function(){return je(s)?je(s).I(r).then(function(h){return{accessToken:h}}):null});return xt(this,c)},e.Tc=function(r){var s=this;return this.h.then(function(){return bo(s,Ke(s.a,ER,{token:r}))}).then(function(c){var h=c.user;return Ii(h,"isAnonymous",!1),s.da(h),c})},e.Uc=function(r,s){var c=this;return this.h.then(function(){return bo(c,Ke(c.a,Yb,{email:r,password:s}))})},e.dc=function(r,s){var c=this;return this.h.then(function(){return bo(c,Ke(c.a,ZN,{email:r,password:s}))})},e.ab=function(r){var s=this;return this.h.then(function(){return bo(s,r.ka(s.a))})},e.Sc=function(r){return wd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var s=je(r);if(s&&s.isAnonymous){var c=Dr({providerId:null,isNewUser:!1});return Dr({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return bo(r,r.a.Ab()).then(function(h){var v=h.user;return Ii(v,"isAnonymous",!0),r.da(v),h})})};function at(r){return r.app}function je(r){return r.currentUser}e.getUid=function(){return je(this)&&je(this).uid||null};function Tl(r){return je(r)&&je(r)._lat||null}function la(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](Tl(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](Tl(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&je(this)&&zw(je(this))},e.Pc=function(r){var s=this;q(this.s,function(c){c==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&je(this)&&zp(je(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var s=this;this.s.push(r),xt(this,this.h.then(function(){s.l||N(s.s,r)&&r(Tl(s))}))},e.removeAuthTokenListener=function(r){U(this.s,function(s){return s==r})};function BC(r,s){r.N.push(s),xt(r,r.h.then(function(){!r.l&&N(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(Tl(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Fr("local"),r.a,this.ja)),this.b&&(xp(this.b,this),bl(this.b.b)),Promise.resolve()};function xt(r,s){return r.P.push(s),s.oa(function(){L(r.P,s)}),s}e.hc=function(r){return xt(this,KN(this.a,r))},e.Bc=function(r){return!!jd(r)},e.xb=function(r,s){var c=this;return xt(this,Ie().then(function(){var h=new $c(s);if(!h.c)throw new k("argument-error",Cd+" must be true when sending sign in link to email");return Kc(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},e.ob=function(r,s){return xt(this,this.a.ob(r,s).then(function(){}))},e.Sa=function(r){return xt(this,this.a.Sa(r).then(function(s){return new tN(s)}))},e.kb=function(r){return xt(this,this.a.kb(r).then(function(){}))},e.wb=function(r,s){var c=this;return xt(this,Ie().then(function(){return typeof s>"u"||pe(s)?{}:Kc(new $c(s))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},e.Wc=function(r,s){return xt(this,Pp(this,r,s,j(this.ab,this)))},e.Vc=function(r,s){var c=this;return xt(this,Ie().then(function(){var h=s||ju(),v=Tb(r,h);if(h=jd(h),!h)throw new k("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new k("tenant-id-mismatch");return c.ab(v)}))};function fa(){}fa.prototype.render=function(){},fa.prototype.reset=function(){},fa.prototype.getResponse=function(){},fa.prototype.execute=function(){};function Is(){this.a={},this.b=1e12}var rv=null;Is.prototype.render=function(r,s){return this.a[this.b.toString()]=new Sl(r,s),this.b++},Is.prototype.reset=function(r){var s=iv(this,r);r=c_(r),s&&r&&(s.delete(),delete this.a[r])},Is.prototype.getResponse=function(r){return(r=iv(this,r))?r.getResponse():null},Is.prototype.execute=function(r){(r=iv(this,r))&&r.execute()};function iv(r,s){return(s=c_(s))&&r.a[s]||null}function c_(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function Sl(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Cu(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():nr(this.f,"click",this.i)}Sl.prototype.getResponse=function(){return ov(this),this.b},Sl.prototype.execute=function(){ov(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=Xx();var s=r.c.callback,c=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},Sl.prototype.delete=function(){ov(this),this.g=!0,clearTimeout(this.a),this.a=null,Bn(this.f,"click",this.i)};function ov(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function sv(){}de(sv,"FACTOR_ID","phone");function uv(){}uv.prototype.g=function(){return rv||(rv=new Is),Ie(rv)},uv.prototype.c=function(){};var av=null;function cv(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var $C=new Be(Rr,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),KC=new wi(3e4,6e4);cv.prototype.g=function(r){var s=this;return new $e(function(c,h){var v=setTimeout(function(){h(new k("network-request-failed"))},KC.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var b=f.grecaptcha.render;f.grecaptcha.render=function(E,M){return E=b(E,M),s.b++,E},clearTimeout(v),c(f.grecaptcha)}else clearTimeout(v),h(new k("internal-error"));delete f[s.a]};var y=Kh($C,{onload:s.a,hl:r||""});Ie(Jd(y)).o(function(){clearTimeout(v),h(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),c(f.grecaptcha)})},cv.prototype.c=function(){this.b--};var lv=null;function fv(r,s,c,h,v,y,b){if(de(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,b?(av||(av=new uv),b=av):(lv||(lv=new cv),b=lv),this.m=b,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[h_])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[HC]==="invisible",!f.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Cu(s)||!this.i&&Cu(s).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new gr(r,y||null,v||null),this.u=h||function(){return null};var E=this;this.l=[];var M=this.a[l_];this.a[l_]=function(Ce){if(d_(E,Ce),typeof M=="function")M(Ce);else if(typeof M=="string"){var st=yt(M,f);typeof st=="function"&&st(Ce)}};var G=this.a[f_];this.a[f_]=function(){if(d_(E,null),typeof G=="function")G();else if(typeof G=="string"){var Ce=yt(G,f);typeof Ce=="function"&&Ce()}}}var l_="callback",f_="expired-callback",h_="sitekey",HC="size";function d_(r,s){for(var c=0;c<r.l.length;c++)try{r.l[c](s)}catch{}}function zC(r,s){U(r.l,function(c){return c==s})}function hv(r,s){return r.h.push(s),s.oa(function(){L(r.h,s)}),s}e=fv.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=hv(this,Ie().then(function(){if(qc()&&!pr())return Vc();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,Ke(r.s,dR,{})}).then(function(s){r.a[h_]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},e.render=function(){Al(this);var r=this;return hv(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var c=Cu(s);s=yx("DIV"),c.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},e.verify=function(){Al(this);var r=this;return hv(this,this.render().then(function(s){return new $e(function(c){var h=r.g.getResponse(s);if(h)c(h);else{var v=function(y){y&&(zC(r,v),c(y))};r.l.push(v),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){Al(this),this.c!==null&&this.g.reset(this.c)};function Al(r){if(r.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Al(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=Cu(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function dv(r,s,c){var h=!1;try{this.b=c||ke.app()}catch{throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new k("invalid-api-key");var v=this,y=null;try{y=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}y=ke.SDK_VERSION?ls(ke.SDK_VERSION,y):null,fv.call(this,c,r,s,function(){try{var b=v.b.auth().la()}catch{b=null}return b},y,Ze(oe),h)}H(dv,fv);function p_(r,s,c,h){e:{c=Array.prototype.slice.call(c);for(var v=0,y=!1,b=0;b<s.length;b++)if(s[b].optional)y=!0;else{if(y)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(y=s.length,c.length<v||y<c.length)h="Expected "+(v==y?v==1?"1 argument":v+" arguments":v+"-"+y+" arguments")+" but got "+c.length+".";else{for(v=0;v<c.length;v++)if(y=s[v].optional&&c[v]===void 0,!s[v].M(c[v])&&!y){if(s=s[v],0>v||v>=v_.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");c=v_[v],h=(h?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break e}h=null}}if(h)throw new k("argument-error",r+" failed: "+h)}var v_="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function he(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function pv(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function Lt(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:A}}function Ts(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function jr(r,s){return{name:r||"",K:"null",optional:!!s,M:function(c){return c===null}}}function GC(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function WC(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof yr)}}}function XC(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof ke.app.App)}}}function Ti(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!r||s.providerId===r;return!(!s.ka||!c)}}}function g_(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function Ss(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function vv(r,s){return A(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function m_(r){return A(r)&&typeof r.uid=="string"}function kl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Ot(r,s,c,h){return{name:c||"",K:r.K+" or "+s.K,optional:!!h,M:function(v){return r.M(v)||s.M(v)}}}function It(r,s){for(var c in s){var h=s[c].name;r[h]=b_(h,r[c],s[c].j)}}function y_(r,s){for(var c in s){var h=s[c].name;h!==c&&Object.defineProperty(r,h,{get:me(function(v){return this[v]},c),set:me(function(v,y,b,E){p_(v,[b],[E],!0),this[y]=E},h,c,s[c].lb),enumerable:!0})}}function Pt(r,s,c,h){r[s]=b_(s,c,h)}function b_(r,s,c){function h(){var b=Array.prototype.slice.call(arguments);return p_(v,c,b),s.apply(this,b)}if(!c)return s;var v=QC(r),y;for(y in s)h[y]=s[y];for(y in s.prototype)h.prototype[y]=s.prototype[y];return h}function QC(r){return r=r.split("."),r[r.length-1]}It(yr.prototype,{kb:{name:"applyActionCode",j:[he("code")]},Sa:{name:"checkActionCode",j:[he("code")]},ob:{name:"confirmPasswordReset",j:[he("code"),he("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[he("email"),he("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[he("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[he("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ot(Lt(),Ts(),"nextOrObserver"),Ts("opt_error",!0),Ts("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ot(Lt(),Ts(),"nextOrObserver"),Ts("opt_error",!0),Ts("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[he("email"),Ot(Lt("opt_actionCodeSettings",!0),jr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[he("email"),Lt("actionCodeSettings")]},yb:{name:"setPersistence",j:[he("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ti()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ti()]},Tc:{name:"signInWithCustomToken",j:[he("token")]},Uc:{name:"signInWithEmailAndPassword",j:[he("email"),he("password")]},Vc:{name:"signInWithEmailLink",j:[he("email"),he("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[he("phoneNumber"),kl()]},Xc:{name:"signInWithPopup",j:[Ss()]},Yc:{name:"signInWithRedirect",j:[Ss()]},dd:{name:"updateCurrentUser",j:[Ot(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof Kn)}}}(),jr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[he(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[he("url"),Lt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[he("code")]}}),y_(yr.prototype,{lc:{name:"languageCode",lb:Ot(he(),jr(),"languageCode")},ti:{name:"tenantId",lb:Ot(he(),jr(),"tenantId")}}),yr.Persistence=ms,yr.Persistence.LOCAL="local",yr.Persistence.SESSION="session",yr.Persistence.NONE="none",It(Kn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[pv("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[pv("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ti()]},rb:{name:"linkWithCredential",j:[Ti()]},Dc:{name:"linkWithPhoneNumber",j:[he("phoneNumber"),kl()]},Ec:{name:"linkWithPopup",j:[Ss()]},Fc:{name:"linkWithRedirect",j:[Ss()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ti()]},ub:{name:"reauthenticateWithCredential",j:[Ti()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[he("phoneNumber"),kl()]},Nc:{name:"reauthenticateWithPopup",j:[Ss()]},Oc:{name:"reauthenticateWithRedirect",j:[Ss()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Ot(Lt("opt_actionCodeSettings",!0),jr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[he(null,!0)]},cd:{name:"unlink",j:[he("provider")]},Cb:{name:"updateEmail",j:[he("email")]},Db:{name:"updatePassword",j:[he("password")]},ed:{name:"updatePhoneNumber",j:[Ti("phone")]},Eb:{name:"updateProfile",j:[Lt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[he("email"),Ot(Lt("opt_actionCodeSettings",!0),jr(null,!0),"opt_actionCodeSettings",!0)]}}),It(Is.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),It(fa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),It($e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),y_(jw.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:pv("appVerificationDisabledForTesting")}}),It(Op.prototype,{confirm:{name:"confirm",j:[he("verificationCode")]}}),Pt(ds,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,c=[bN,wN,_N,yN],h=0;h<c.length;h++)if(s=c[h](r))return s;return null},[Ot(he(),Lt(),"json")]),Pt(ir,"credential",function(r,s){return new _i(r,s)},[he("email"),he("password")]),It(_i.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),It(lo.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Lt("customOAuthParameters")]}}),Pt(lo,"credential",wb,[Ot(he(),Lt(),"token")]),Pt(ir,"credentialWithLink",Tb,[he("email"),he("emailLink")]),It(fo.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Lt("customOAuthParameters")]}}),Pt(fo,"credential",_b,[Ot(he(),Lt(),"token")]),It(ho.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Lt("customOAuthParameters")]}}),Pt(ho,"credential",Eb,[Ot(he(),Ot(Lt(),jr()),"idToken"),Ot(he(),jr(),"accessToken",!0)]),It(vs.prototype,{Ka:{name:"setCustomParameters",j:[Lt("customOAuthParameters")]}}),Pt(vs,"credential",Ib,[Ot(he(),Lt(),"token"),he("secret",!0)]),It($n.prototype,{Ca:{name:"addScope",j:[he("scope")]},credential:{name:"credential",j:[Ot(he(),Ot(Lt(),jr()),"optionsOrIdToken"),Ot(he(),jr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Lt("customOAuthParameters")]}}),It(Yr.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),It(ao.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Pt(Jr,"credential",Sb,[he("verificationId"),he("verificationCode")]),It(Jr.prototype,{gb:{name:"verifyPhoneNumber",j:[Ot(he(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?vv(c.session,Hu)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?vv(c.session,Xc)&&m_(c.multiFactorHint):c.session&&c.multiFactorUid?vv(c.session,Xc)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),kl()]}}),It(Ei.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),It(k.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),It(Gu.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),It(Bd.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),It(Lp.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),It(Dp.prototype,{Rc:{name:"resolveSignIn",j:[g_()]}}),It(Fp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[g_(),he("displayName",!0)]},bd:{name:"unenroll",j:[Ot({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:m_},he(),"multiFactorInfoIdentifier")]}}),It(dv.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Pt(Rd,"parseLink",nb,[he("link")]),Pt(sv,"assertion",function(r){return new $w(r)},[Ti("phone")]),function(){if(typeof ke<"u"&&ke.INTERNAL&&ke.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Bc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Nd,VERIFY_AND_CHANGE_EMAIL:$u,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:yr,AuthCredential:ds,Error:k};Pt(r,"EmailAuthProvider",ir,[]),Pt(r,"FacebookAuthProvider",lo,[]),Pt(r,"GithubAuthProvider",fo,[]),Pt(r,"GoogleAuthProvider",ho,[]),Pt(r,"TwitterAuthProvider",vs,[]),Pt(r,"OAuthProvider",$n,[he("providerId")]),Pt(r,"SAMLAuthProvider",bb,[he("providerId")]),Pt(r,"PhoneAuthProvider",Jr,[WC()]),Pt(r,"RecaptchaVerifier",dv,[Ot(he(),GC(),"recaptchaContainer"),Lt("recaptchaParameters",!0),XC()]),Pt(r,"ActionCodeURL",Rd,[]),Pt(r,"PhoneMultiFactorGenerator",sv,[]),ke.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new yr(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),ke.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:j(s.getUid,s),getToken:j(s.nc,s),addAuthTokenListener:j(s.cc,s),removeAuthTokenListener:j(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ke.registerVersion("@firebase/auth","0.16.8"),ke.INTERNAL.extendNamespace({User:Kn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fg=function(e,t){return fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},fg(e,t)};function _L(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");fg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function wS(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var EL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce,_m=_m||{},De=EL||self;function vf(){}function hg(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function uc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function IL(e){return Object.prototype.hasOwnProperty.call(e,Av)&&e[Av]||(e[Av]=++TL)}var Av="closure_uid_"+(1e9*Math.random()>>>0),TL=0;function SL(e,t,n){return e.call.apply(e.bind,arguments)}function AL(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function nn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?nn=SL:nn=AL,nn.apply(null,arguments)}function Ll(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function sn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,u){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(i,a)}}function Gi(){this.s=this.s,this.o=this.o}var kL=0;Gi.prototype.s=!1;Gi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),kL!=0)&&IL(this)};Gi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _S=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ES=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,u=0;u<i;u++)u in o&&t.call(n,o[u],u,e)};function xL(e){e:{for(var t=bM,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function tE(e){return Array.prototype.concat.apply([],arguments)}function Em(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function gf(e){return/^[\s\xa0]*$/.test(e)}var nE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Tn(e,t){return e.indexOf(t)!=-1}function kv(e,t){return e<t?-1:e>t?1:0}var Sn;e:{var rE=De.navigator;if(rE){var iE=rE.userAgent;if(iE){Sn=iE;break e}}Sn=""}function Im(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function IS(e){var t={};for(var n in e)t[n]=e[n];return t}var oE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TS(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var u=0;u<oE.length;u++)n=oE[u],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Tm(e){return Tm[" "](e),e}Tm[" "]=vf;function NL(e){var t=OL;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var RL=Tn(Sn,"Opera"),Ys=Tn(Sn,"Trident")||Tn(Sn,"MSIE"),SS=Tn(Sn,"Edge"),dg=SS||Ys,AS=Tn(Sn,"Gecko")&&!(Tn(Sn.toLowerCase(),"webkit")&&!Tn(Sn,"Edge"))&&!(Tn(Sn,"Trident")||Tn(Sn,"MSIE"))&&!Tn(Sn,"Edge"),CL=Tn(Sn.toLowerCase(),"webkit")&&!Tn(Sn,"Edge");function kS(){var e=De.document;return e?e.documentMode:void 0}var mf;e:{var xv="",Nv=function(){var e=Sn;if(AS)return/rv:([^\);]+)(\)|;)/.exec(e);if(SS)return/Edge\/([\d\.]+)/.exec(e);if(Ys)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(CL)return/WebKit\/(\S+)/.exec(e);if(RL)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Nv&&(xv=Nv?Nv[1]:""),Ys){var Rv=kS();if(Rv!=null&&Rv>parseFloat(xv)){mf=String(Rv);break e}}mf=xv}var OL={};function PL(){return NL(function(){for(var e=0,t=nE(String(mf)).split("."),n=nE("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var u=t[o]||"",a=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u[0].length==0&&a[0].length==0)break;e=kv(u[1].length==0?0:parseInt(u[1],10),a[1].length==0?0:parseInt(a[1],10))||kv(u[2].length==0,a[2].length==0)||kv(u[2],a[2]),u=u[3],a=a[3]}while(e==0)}return 0<=e})}var pg;if(De.document&&Ys){var sE=kS();pg=sE||parseInt(mf,10)||void 0}else pg=void 0;var DL=pg,LL=function(){if(!De.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{De.addEventListener("test",vf,t),De.removeEventListener("test",vf,t)}catch{}return e}();function dn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}dn.prototype.h=function(){this.defaultPrevented=!0};function Va(e,t){if(dn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(AS){e:{try{Tm(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:ML[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Va.Z.h.call(this)}}sn(Va,dn);var ML={2:"touch",3:"pen",4:"mouse"};Va.prototype.h=function(){Va.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ac="closure_listenable_"+(1e6*Math.random()|0),FL=0;function jL(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++FL,this.ca=this.fa=!1}function uh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ah(e){this.src=e,this.g={},this.h=0}ah.prototype.add=function(e,t,n,i,o){var u=e.toString();e=this.g[u],e||(e=this.g[u]=[],this.h++);var a=gg(e,t,i,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new jL(t,this.src,u,!!i,o),t.fa=n,e.push(t)),t};function vg(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=_S(i,t),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(uh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function gg(e,t,n,i){for(var o=0;o<e.length;++o){var u=e[o];if(!u.ca&&u.listener==t&&u.capture==!!n&&u.ia==i)return o}return-1}var Sm="closure_lm_"+(1e6*Math.random()|0),Cv={};function xS(e,t,n,i,o){if(i&&i.once)return RS(e,t,n,i,o);if(Array.isArray(t)){for(var u=0;u<t.length;u++)xS(e,t[u],n,i,o);return null}return n=xm(n),e&&e[ac]?e.N(t,n,uc(i)?!!i.capture:!!i,o):NS(e,t,n,!1,i,o)}function NS(e,t,n,i,o,u){if(!t)throw Error("Invalid event type");var a=uc(o)?!!o.capture:!!o,l=km(e);if(l||(e[Sm]=l=new ah(e)),n=l.add(t,n,i,a,u),n.proxy)return n;if(i=UL(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)LL||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(OS(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function UL(){function e(n){return t.call(e.src,e.listener,n)}var t=VL;return e}function RS(e,t,n,i,o){if(Array.isArray(t)){for(var u=0;u<t.length;u++)RS(e,t[u],n,i,o);return null}return n=xm(n),e&&e[ac]?e.O(t,n,uc(i)?!!i.capture:!!i,o):NS(e,t,n,!0,i,o)}function CS(e,t,n,i,o){if(Array.isArray(t))for(var u=0;u<t.length;u++)CS(e,t[u],n,i,o);else i=uc(i)?!!i.capture:!!i,n=xm(n),e&&e[ac]?(e=e.i,t=String(t).toString(),t in e.g&&(u=e.g[t],n=gg(u,n,i,o),-1<n&&(uh(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete e.g[t],e.h--)))):e&&(e=km(e))&&(t=e.g[t.toString()],e=-1,t&&(e=gg(t,n,i,o)),(n=-1<e?t[e]:null)&&Am(n))}function Am(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[ac])vg(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(OS(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=km(t))?(vg(n,e),n.h==0&&(n.src=null,t[Sm]=null)):uh(e)}}}function OS(e){return e in Cv?Cv[e]:Cv[e]="on"+e}function VL(e,t){if(e.ca)e=!0;else{t=new Va(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&Am(e),e=n.call(i,t)}return e}function km(e){return e=e[Sm],e instanceof ah?e:null}var Ov="__closure_events_fn_"+(1e9*Math.random()>>>0);function xm(e){return typeof e=="function"?e:(e[Ov]||(e[Ov]=function(t){return e.handleEvent(t)}),e[Ov])}function Qt(){Gi.call(this),this.i=new ah(this),this.P=this,this.I=null}sn(Qt,Gi);Qt.prototype[ac]=!0;Qt.prototype.removeEventListener=function(e,t,n,i){CS(this,e,t,n,i)};function rn(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new dn(t,e);else if(t instanceof dn)t.target=t.target||e;else{var o=t;t=new dn(i,e),TS(t,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var a=t.g=n[u];o=Ml(a,i,!0,t)&&o}if(a=t.g=e,o=Ml(a,i,!0,t)&&o,o=Ml(a,i,!1,t)&&o,n)for(u=0;u<n.length;u++)a=t.g=n[u],o=Ml(a,i,!1,t)&&o}Qt.prototype.M=function(){if(Qt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)uh(n[i]);delete e.g[t],e.h--}}this.I=null};Qt.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};Qt.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Ml(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,u=0;u<t.length;++u){var a=t[u];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&vg(e.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Nm=De.JSON.stringify;function qL(){var e=DS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var BL=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=PS.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),PS=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new $L},function(e){return e.reset()}),$L=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function KL(e){De.setTimeout(function(){throw e},0)}function Rm(e,t){mg||HL(),yg||(mg(),yg=!0),DS.add(e,t)}var mg;function HL(){var e=De.Promise.resolve(void 0);mg=function(){e.then(zL)}}var yg=!1,DS=new BL;function zL(){for(var e;e=qL();){try{e.h.call(e.g)}catch(n){KL(n)}var t=PS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}yg=!1}function ch(e,t){Qt.call(this),this.h=e||1,this.g=t||De,this.j=nn(this.kb,this),this.l=Date.now()}sn(ch,Qt);ce=ch.prototype;ce.da=!1;ce.S=null;ce.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),rn(this,"tick"),this.da&&(Cm(this),this.start()))}};ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Cm(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ce.M=function(){ch.Z.M.call(this),Cm(this),delete this.g};function Om(e,t,n){if(typeof e=="function")n&&(e=nn(e,n));else if(e&&typeof e.handleEvent=="function")e=nn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:De.setTimeout(e,t||0)}function LS(e){e.g=Om(function(){e.g=null,e.i&&(e.i=!1,LS(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var GL=function(e){_L(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:LS(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(De.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Gi);function qa(e){Gi.call(this),this.h=e,this.g={}}sn(qa,Gi);var uE=[];function MS(e,t,n,i){Array.isArray(n)||(n&&(uE[0]=n.toString()),n=uE);for(var o=0;o<n.length;o++){var u=xS(t,n[o],i||e.handleEvent,!1,e.h||e);if(!u)break;e.g[u.key]=u}}function FS(e){Im(e.g,function(t,n){this.g.hasOwnProperty(n)&&Am(t)},e),e.g={}}qa.prototype.M=function(){qa.Z.M.call(this),FS(this)};qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lh(){this.g=!0}lh.prototype.Aa=function(){this.g=!1};function WL(e,t,n,i,o,u){e.info(function(){if(e.g)if(u)for(var a="",l=u.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var p=d[0];d=d[1];var g=p.split("_");a=2<=g.length&&g[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function XL(e,t,n,i,o,u,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+u+" "+a})}function Fs(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+YL(e,n)+(i?" "+i:"")})}function QL(e,t){e.info(function(){return"TIMEOUT: "+t})}lh.prototype.info=function(){};function YL(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Nm(n)}catch{return t}}var Xo={},aE=null;function fh(){return aE=aE||new Qt}Xo.Ma="serverreachability";function jS(e){dn.call(this,Xo.Ma,e)}sn(jS,dn);function Ba(e){var t=fh();rn(t,new jS(t))}Xo.STAT_EVENT="statevent";function US(e,t){dn.call(this,Xo.STAT_EVENT,e),this.stat=t}sn(US,dn);function An(e){var t=fh();rn(t,new US(t,e))}Xo.Na="timingevent";function VS(e,t){dn.call(this,Xo.Na,e),this.size=t}sn(VS,dn);function cc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return De.setTimeout(function(){e()},t)}var hh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},qS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Pm(){}Pm.prototype.h=null;function cE(e){return e.h||(e.h=e.i())}function BS(){}var lc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Dm(){dn.call(this,"d")}sn(Dm,dn);function Lm(){dn.call(this,"c")}sn(Lm,dn);var bg;function dh(){}sn(dh,Pm);dh.prototype.g=function(){return new XMLHttpRequest};dh.prototype.i=function(){return{}};bg=new dh;function fc(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new qa(this),this.P=JL,e=dg?125:void 0,this.W=new ch(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $S}function $S(){this.i=null,this.g="",this.h=!1}var JL=45e3,wg={},yf={};ce=fc.prototype;ce.setTimeout=function(e){this.P=e};function _g(e,t,n){e.K=1,e.v=vh(fi(t)),e.s=n,e.U=!0,KS(e,null)}function KS(e,t){e.F=Date.now(),hc(e),e.A=fi(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),YS(n.h,"t",i),e.C=0,n=e.l.H,e.h=new $S,e.g=mA(e.l,n?t:null,!e.s),0<e.O&&(e.L=new GL(nn(e.Ia,e,e.g),e.O)),MS(e.V,e.g,"readystatechange",e.gb),t=e.H?IS(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ba(),WL(e.j,e.u,e.A,e.m,e.X,e.s)}ce.gb=function(e){e=e.target;var t=this.L;t&&ii(e)==3?t.l():this.Ia(e)};ce.Ia=function(e){try{if(e==this.g)e:{var t=ii(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||dg||this.g&&(this.h.h||this.g.ga()||dE(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?Ba(3):Ba(2)),ph(this);var o=this.g.ba();this.N=o;t:if(HS(this)){var u=dE(this.g);e="";var a=u.length,l=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xo(this),Sa(this);var f="";break t}this.h.i=new De.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(u[n],{stream:l&&n==a-1});u.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,XL(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gf(d)){var g=d;break t}}g=null}if(o=g)Fs(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Eg(this,o);else{this.i=!1,this.o=3,An(12),xo(this),Sa(this);break e}}this.U?(zS(this,t,f),dg&&this.i&&t==3&&(MS(this.V,this.W,"tick",this.fb),this.W.start())):(Fs(this.j,this.m,f,null),Eg(this,f)),t==4&&xo(this),this.i&&!this.I&&(t==4?dA(this.l,this):(this.i=!1,hc(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,An(12)):(this.o=0,An(13)),xo(this),Sa(this)}}}catch{}finally{}};function HS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function zS(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=ZL(e,n),o==yf){t==4&&(e.o=4,An(14),i=!1),Fs(e.j,e.m,null,"[Incomplete Response]");break}else if(o==wg){e.o=4,An(15),Fs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Fs(e.j,e.m,o,null),Eg(e,o);HS(e)&&o!=yf&&o!=wg&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,An(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Km(t),t.L=!0,An(11))):(Fs(e.j,e.m,n,"[Invalid Chunked Response]"),xo(e),Sa(e))}ce.fb=function(){if(this.g){var e=ii(this.g),t=this.g.ga();this.C<t.length&&(ph(this),zS(this,e,t),this.i&&e!=4&&hc(this))}};function ZL(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?yf:(n=Number(t.substring(n,i)),isNaN(n)?wg:(i+=1,i+n>t.length?yf:(t=t.substr(i,n),e.C=i+n,t)))}ce.cancel=function(){this.I=!0,xo(this)};function hc(e){e.Y=Date.now()+e.P,GS(e,e.P)}function GS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=cc(nn(e.eb,e),t)}function ph(e){e.B&&(De.clearTimeout(e.B),e.B=null)}ce.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(QL(this.j,this.A),this.K!=2&&(Ba(),An(17)),xo(this),this.o=2,Sa(this)):GS(this,this.Y-e)};function Sa(e){e.l.G==0||e.I||dA(e.l,e)}function xo(e){ph(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Cm(e.W),FS(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Eg(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Ig(n.i,e))){if(n.I=e.N,!e.J&&Ig(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Ef(n),yh(n);else break e;$m(n),An(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=cc(nn(n.ab,n),6e3));if(1>=eA(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else No(n,11)}else if((e.J||n.g==e)&&Ef(n),!gf(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var u=o[t];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];var a=u[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=u[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=e.g;if(d){var p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var g=i.i;!g.g&&(Tn(p,"spdy")||Tn(p,"quic")||Tn(p,"h2"))&&(g.j=g.l,g.g=new Set,g.h&&(jm(g,g.h),g.h=null))}if(i.D){var m=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.sa=m,Et(i.F,i.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var w=e;if(i.oa=gA(i,i.H?i.la:null,i.W),w.J){tA(i.i,w);var _=w,T=i.K;T&&_.setTimeout(T),_.B&&(ph(_),hc(_)),i.g=w}else fA(i);0<n.l.length&&bh(n)}else u[0]!="stop"&&u[0]!="close"||No(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?No(n,7):Bm(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Ba(4)}catch{}}function eM(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(hg(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function Mm(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(hg(e)||typeof e=="string")ES(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(hg(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=eM(e),o=i.length;for(var u=0;u<o;u++)t.call(void 0,i[u],n&&n[u],e)}}function wu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof wu)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}ce=wu.prototype;ce.R=function(){Fm(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ce.T=function(){return Fm(this),this.g.concat()};function Fm(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Bo(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],Bo(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}ce.get=function(e,t){return Bo(this.h,e)?this.h[e]:t};ce.set=function(e,t){Bo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ce.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);e.call(t,u,o,this)}};function Bo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var WS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var u=e[n].substring(0,i);o=e[n].substring(i+1)}else u=e[n];t(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function $o(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof $o){this.g=t!==void 0?t:e.g,bf(this,e.j),this.s=e.s,wf(this,e.i),_f(this,e.m),this.l=e.l,t=e.h;var n=new $a;n.i=t.i,t.g&&(n.g=new wu(t.g),n.h=t.h),lE(this,n),this.o=e.o}else e&&(n=String(e).match(WS))?(this.g=!!t,bf(this,n[1]||"",!0),this.s=Aa(n[2]||""),wf(this,n[3]||"",!0),_f(this,n[4]),this.l=Aa(n[5]||"",!0),lE(this,n[6]||"",!0),this.o=Aa(n[7]||"")):(this.g=!!t,this.h=new $a(null,this.g))}$o.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ya(t,fE,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ya(t,fE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(ya(n,n.charAt(0)=="/"?sM:oM,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ya(n,aM)),e.join("")};function fi(e){return new $o(e)}function bf(e,t,n){e.j=n?Aa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wf(e,t,n){e.i=n?Aa(t,!0):t}function _f(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function lE(e,t,n){t instanceof $a?(e.h=t,cM(e.h,e.g)):(n||(t=ya(t,uM)),e.h=new $a(t,e.g))}function Et(e,t,n){e.h.set(t,n)}function vh(e){return Et(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function nM(e){return e instanceof $o?fi(e):new $o(e,void 0)}function rM(e,t,n,i){var o=new $o(null,void 0);return e&&bf(o,e),t&&wf(o,t),n&&_f(o,n),i&&(o.l=i),o}function Aa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ya(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,iM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function iM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var fE=/[#\/\?@]/g,oM=/[#\?:]/g,sM=/[#\?]/g,uM=/[#\?@]/g,aM=/#/g;function $a(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Wi(e){e.g||(e.g=new wu,e.h=0,e.i&&tM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ce=$a.prototype;ce.add=function(e,t){Wi(this),this.i=null,e=_u(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function XS(e,t){Wi(e),t=_u(e,t),Bo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Bo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Fm(e)))}function QS(e,t){return Wi(e),t=_u(e,t),Bo(e.g.h,t)}ce.forEach=function(e,t){Wi(this),this.g.forEach(function(n,i){ES(n,function(o){e.call(t,o,i,this)},this)},this)};ce.T=function(){Wi(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],u=0;u<o.length;u++)n.push(t[i]);return n};ce.R=function(e){Wi(this);var t=[];if(typeof e=="string")QS(this,e)&&(t=tE(t,this.g.get(_u(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=tE(t,e[n])}return t};ce.set=function(e,t){return Wi(this),this.i=null,e=_u(this,e),QS(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ce.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function YS(e,t,n){XS(e,t),0<n.length&&(e.i=null,e.g.set(_u(e,t),Em(n)),e.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var a=o;i[u]!==""&&(a+="="+encodeURIComponent(String(i[u]))),e.push(a)}}return this.i=e.join("&")};function _u(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function cM(e,t){t&&!e.j&&(Wi(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(XS(this,i),YS(this,o,n))},e)),e.j=t}var lM=function(){function e(t,n){this.h=t,this.g=n}return e}();function JS(e){this.l=e||fM,De.PerformanceNavigationTiming?(e=De.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(De.g&&De.g.Ea&&De.g.Ea()&&De.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fM=10;function ZS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function eA(e){return e.h?1:e.g?e.g.size:0}function Ig(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function jm(e,t){e.g?e.g.add(t):e.h=t}function tA(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}JS.prototype.cancel=function(){var e,t;if(this.i=nA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=wS(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function nA(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=wS(e.g.values()),u=o.next();!u.done;u=o.next()){var a=u.value;i=i.concat(a.D)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return Em(e.i)}function Um(){}Um.prototype.stringify=function(e){return De.JSON.stringify(e,void 0)};Um.prototype.parse=function(e){return De.JSON.parse(e,void 0)};function hM(){this.g=new Um}function dM(e,t,n){var i=n||"";try{Mm(e,function(o,u){var a=o;uc(o)&&(a=Nm(o)),t.push(i+u+"="+encodeURIComponent(a))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function pM(e,t){var n=new lh;if(De.Image){var i=new Image;i.onload=Ll(Fl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Ll(Fl,n,i,"TestLoadImage: error",!1,t),i.onabort=Ll(Fl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Ll(Fl,n,i,"TestLoadImage: timeout",!1,t),De.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Fl(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function dc(e){this.l=e.$b||null,this.j=e.ib||!1}sn(dc,Pm);dc.prototype.g=function(){return new gh(this.l,this.j)};dc.prototype.i=function(e){return function(){return e}}({});function gh(e,t){Qt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Vm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sn(gh,Qt);var Vm=0;ce=gh.prototype;ce.open=function(e,t){if(this.readyState!=Vm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ka(this)};ce.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||De).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pc(this)),this.readyState=Vm};ce.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof De.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rA(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function rA(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ce.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pc(this):Ka(this),this.readyState==3&&rA(this)}};ce.Ua=function(e){this.g&&(this.response=this.responseText=e,pc(this))};ce.Ta=function(e){this.g&&(this.response=e,pc(this))};ce.ha=function(){this.g&&pc(this)};function pc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ka(e)}ce.setRequestHeader=function(e,t){this.v.append(e,t)};ce.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ka(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(gh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var vM=De.JSON.parse;function Vt(e){Qt.call(this),this.headers=new wu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=iA,this.K=this.L=!1}sn(Vt,Qt);var iA="",gM=/^https?$/i,mM=["POST","PUT"];ce=Vt.prototype;ce.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():bg.g(),this.C=this.u?cE(this.u):cE(bg),this.g.onreadystatechange=nn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){hE(this,u);return}e=n||"";var o=new wu(this.headers);i&&Mm(i,function(u,a){o.set(a,u)}),i=xL(o.T()),n=De.FormData&&e instanceof De.FormData,!(0<=_S(mM,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,a){this.g.setRequestHeader(a,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{uA(this),0<this.B&&((this.K=yM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nn(this.pa,this)):this.A=Om(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){hE(this,u)}};function yM(e){return Ys&&PL()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function bM(e){return e.toLowerCase()=="content-type"}ce.pa=function(){typeof _m<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rn(this,"timeout"),this.abort(8))};function hE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,oA(e),mh(e)}function oA(e){e.D||(e.D=!0,rn(e,"complete"),rn(e,"error"))}ce.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,rn(this,"complete"),rn(this,"abort"),mh(this))};ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mh(this,!0)),Vt.Z.M.call(this)};ce.Fa=function(){this.s||(this.F||this.v||this.l?sA(this):this.cb())};ce.cb=function(){sA(this)};function sA(e){if(e.h&&typeof _m<"u"&&(!e.C[1]||ii(e)!=4||e.ba()!=2)){if(e.v&&ii(e)==4)Om(e.Fa,0,e);else if(rn(e,"readystatechange"),ii(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var u=String(e.H).match(WS)[1]||null;if(!u&&De.self&&De.self.location){var a=De.self.location.protocol;u=a.substr(0,a.length-1)}o=!gM.test(u?u.toLowerCase():"")}i=o}if(i)rn(e,"complete"),rn(e,"success");else{e.m=6;try{var l=2<ii(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",oA(e)}}finally{mh(e)}}}}function mh(e,t){if(e.g){uA(e);var n=e.g,i=e.C[0]?vf:null;e.g=null,e.C=null,t||rn(e,"ready");try{n.onreadystatechange=i}catch{}}}function uA(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(De.clearTimeout(e.A),e.A=null)}function ii(e){return e.g?e.g.readyState:0}ce.ba=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}};ce.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),vM(t)}};function dE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case iA:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ce.Da=function(){return this.m};ce.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function wM(e){var t="";return Im(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function qm(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=wM(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Et(e,t,n))}function da(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function aA(e){this.za=0,this.l=[],this.h=new lh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=da("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=da("baseRetryDelayMs",5e3,e),this.$a=da("retryDelaySeedMs",1e4,e),this.Ya=da("forwardChannelMaxRetries",2,e),this.ra=da("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new JS(e&&e.concurrentRequestLimit),this.Ca=new hM,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ce=aA.prototype;ce.ma=8;ce.G=1;function Bm(e){if(cA(e),e.G==3){var t=e.V++,n=fi(e.F);Et(n,"SID",e.J),Et(n,"RID",t),Et(n,"TYPE","terminate"),vc(e,n),t=new fc(e,e.h,t,void 0),t.K=2,t.v=vh(fi(n)),n=!1,De.navigator&&De.navigator.sendBeacon&&(n=De.navigator.sendBeacon(t.v.toString(),"")),!n&&De.Image&&(new Image().src=t.v,n=!0),n||(t.g=mA(t.l,null),t.g.ea(t.v)),t.F=Date.now(),hc(t)}vA(e)}ce.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function yh(e){e.g&&(Km(e),e.g.cancel(),e.g=null)}function cA(e){yh(e),e.u&&(De.clearTimeout(e.u),e.u=null),Ef(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&De.clearTimeout(e.m),e.m=null)}function Pv(e,t){e.l.push(new lM(e.Za++,t)),e.G==3&&bh(e)}function bh(e){ZS(e.i)||e.m||(e.m=!0,Rm(e.Ha,e),e.C=0)}function _M(e,t){return eA(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=cc(nn(e.Ha,e,t),pA(e,e.C)),e.C++,!0)}ce.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new fc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=IS(n),TS(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var u=this.l[o];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break t}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=lA(this,t,i),o=fi(this.F),Et(o,"RID",e),Et(o,"CVER",22),this.D&&Et(o,"X-HTTP-Session-Id",this.D),vc(this,o),this.o&&n&&qm(o,this.o,n),jm(this.i,t),this.Ra&&Et(o,"TYPE","init"),this.ja?(Et(o,"$req",i),Et(o,"SID","null"),t.$=!0,_g(t,o,null)):_g(t,o,i),this.G=2}}else this.G==3&&(e?pE(this,e):this.l.length==0||ZS(this.i)||pE(this))};function pE(e,t){var n;t?n=t.m:n=e.V++;var i=fi(e.F);Et(i,"SID",e.J),Et(i,"RID",n),Et(i,"AID",e.U),vc(e,i),e.o&&e.s&&qm(i,e.o,e.s),n=new fc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=lA(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),jm(e.i,n),_g(n,i,t)}function vc(e,t){e.j&&Mm({},function(n,i){Et(t,i,n)})}function lA(e,t,n){n=Math.min(e.l.length,n);var i=e.j?nn(e.j.Oa,e.j,e):null;e:for(var o=e.l,u=-1;;){var a=["count="+n];u==-1?0<n?(u=o[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var l=!0,f=0;f<n;f++){var d=o[f].h,p=o[f].g;if(d-=u,0>d)u=Math.max(0,o[f].h-100),l=!1;else try{dM(p,a,"req"+d+"_")}catch{i&&i(p)}}if(l){i=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,i}function fA(e){e.g||e.u||(e.Y=1,Rm(e.Ga,e),e.A=0)}function $m(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=cc(nn(e.Ga,e),pA(e,e.A)),e.A++,!0)}ce.Ga=function(){if(this.u=null,hA(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=cc(nn(this.bb,this),e)}};ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,An(10),yh(this),hA(this))};function Km(e){e.B!=null&&(De.clearTimeout(e.B),e.B=null)}function hA(e){e.g=new fc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=fi(e.oa);Et(t,"RID","rpc"),Et(t,"SID",e.J),Et(t,"CI",e.N?"0":"1"),Et(t,"AID",e.U),vc(e,t),Et(t,"TYPE","xmlhttp"),e.o&&e.s&&qm(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=vh(fi(t)),n.s=null,n.U=!0,KS(n,e)}ce.ab=function(){this.v!=null&&(this.v=null,yh(this),$m(this),An(19))};function Ef(e){e.v!=null&&(De.clearTimeout(e.v),e.v=null)}function dA(e,t){var n=null;if(e.g==t){Ef(e),Km(e),e.g=null;var i=2}else if(Ig(e.i,t))n=t.D,tA(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=fh(),rn(i,new VS(i,n)),bh(e)}else fA(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&_M(e,t)||i==2&&$m(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:No(e,5);break;case 4:No(e,10);break;case 3:No(e,6);break;default:No(e,2)}}}function pA(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function No(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=nn(e.jb,e);n||(n=new $o("//www.google.com/images/cleardot.gif"),De.location&&De.location.protocol=="http"||bf(n,"https"),vh(n)),pM(n.toString(),i)}else An(2);e.G=0,e.j&&e.j.va(t),vA(e),cA(e)}ce.jb=function(e){e?(this.h.info("Successfully pinged google.com"),An(2)):(this.h.info("Failed to ping google.com"),An(1))};function vA(e){e.G=0,e.I=-1,e.j&&((nA(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Em(e.l),e.l.length=0),e.j.ua())}function gA(e,t,n){var i=nM(n);if(i.i!="")t&&wf(i,t+"."+i.i),_f(i,i.m);else{var o=De.location;i=rM(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Im(e.aa,function(u,a){Et(i,a,u)}),t=e.D,n=e.sa,t&&n&&Et(i,t,n),Et(i,"VER",e.ma),vc(e,i),i}function mA(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Vt(new dc({ib:!0})):new Vt(e.qa),t.L=e.H,t}function yA(){}ce=yA.prototype;ce.xa=function(){};ce.wa=function(){};ce.va=function(){};ce.ua=function(){};ce.Oa=function(){};function If(){if(Ys&&!(10<=Number(DL)))throw Error("Environmental error: no available transport.")}If.prototype.g=function(e,t){return new tr(e,t)};function tr(e,t){Qt.call(this),this.g=new aA(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!gf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!gf(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Eu(this)}sn(tr,Qt);tr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Rm(nn(e.hb,e,t))),An(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=gA(e,null,e.W),bh(e)};tr.prototype.close=function(){Bm(this.g)};tr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Pv(this.g,t)}else this.v?(t={},t.__data__=Nm(e),Pv(this.g,t)):Pv(this.g,e)};tr.prototype.M=function(){this.g.j=null,delete this.j,Bm(this.g),delete this.g,tr.Z.M.call(this)};function bA(e){Dm.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}sn(bA,Dm);function wA(){Lm.call(this),this.status=1}sn(wA,Lm);function Eu(e){this.g=e}sn(Eu,yA);Eu.prototype.xa=function(){rn(this.g,"a")};Eu.prototype.wa=function(e){rn(this.g,new bA(e))};Eu.prototype.va=function(e){rn(this.g,new wA)};Eu.prototype.ua=function(){rn(this.g,"b")};If.prototype.createWebChannel=If.prototype.g;tr.prototype.send=tr.prototype.u;tr.prototype.open=tr.prototype.m;tr.prototype.close=tr.prototype.close;hh.NO_ERROR=0;hh.TIMEOUT=8;hh.HTTP_ERROR=6;qS.COMPLETE="complete";BS.EventType=lc;lc.OPEN="a";lc.CLOSE="b";lc.ERROR="c";lc.MESSAGE="d";Qt.prototype.listen=Qt.prototype.N;Vt.prototype.listenOnce=Vt.prototype.O;Vt.prototype.getLastError=Vt.prototype.La;Vt.prototype.getLastErrorCode=Vt.prototype.Da;Vt.prototype.getStatus=Vt.prototype.ba;Vt.prototype.getResponseJson=Vt.prototype.Qa;Vt.prototype.getResponseText=Vt.prototype.ga;Vt.prototype.send=Vt.prototype.ea;var EM=function(){return new If},IM=function(){return fh()},Dv=hh,TM=qS,SM=Xo,vE={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},AM=dc,jl=BS,kM=Vt,xM={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Yn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Te(t,e),t}(Error),Sr=new gS("@firebase/firestore");function Tg(){return Sr.logLevel}function ne(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Sr.logLevel<=tt.DEBUG){var i=t.map(Hm);Sr.debug.apply(Sr,_t(["Firestore (8.10.1): "+e],i))}}function jt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Sr.logLevel<=tt.ERROR){var i=t.map(Hm);Sr.error.apply(Sr,_t(["Firestore (8.10.1): "+e],i))}}function Tf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Sr.logLevel<=tt.WARN){var i=t.map(Hm);Sr.warn.apply(Sr,_t(["Firestore (8.10.1): "+e],i))}}function Hm(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw jt(t),new Error(t)}function Re(e,t){e||ye()}function ue(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _A=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=NM(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=t.charAt(o[u]%t.length));return i},e}();function He(e,t){return e<t?-1:e>t?1:0}function Js(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function EA(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new W(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new W(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new W(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?He(this.nanoseconds,t.nanoseconds):He(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ve=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Mn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function IA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TA=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&ye(),i===void 0?i=t.length-n:i>t.length-n&&ye(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var u=t.get(o),a=n.get(o);if(u<a)return-1;if(u>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),rt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,a=n;u<a.length;u++){var l=a[u];if(l.indexOf("//")>=0)throw new W(P.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(TA),RM=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return RM.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",u=0,a=function(){if(o.length===0)throw new W(P.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new W(P.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[u+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new W(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(o+=f,u++):(a(),u++)}if(a(),l)throw new W(P.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(TA),Zs=function(){function e(t){this.fields=t,t.sort(xr.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Js(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),jn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return He(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();jn.EMPTY_BYTE_STRING=new jn("");var CM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(e){if(Re(!!e),typeof e=="string"){var t=0,n=CM.exec(e);if(Re(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Ft(e.seconds),nanos:Ft(e.nanos)}}function Ft(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function eu(e){return typeof e=="string"?jn.fromBase64String(e):jn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function SA(e){var t=e.mapValue.fields.__previous_value__;return zm(t)?SA(t):t}function Ha(e){var t=Hi(e.mapValue.fields.__local_write_time__.timestampValue);return new Mn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(e){return e==null}function Sf(e){return e===0&&1/e==-1/0}function AA(e){return typeof e=="number"&&Number.isInteger(e)&&!Sf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(rt.fromString(t))},e.fromName=function(t){return new e(rt.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&rt.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return rt.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new rt(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zm(e)?4:10:ye()}function Wr(e,t){var n=Ko(e);if(n!==Ko(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ha(e).isEqual(Ha(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=Hi(i.timestampValue),a=Hi(o.timestampValue);return u.seconds===a.seconds&&u.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return eu(i.bytesValue).isEqual(eu(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Ft(i.geoPointValue.latitude)===Ft(o.geoPointValue.latitude)&&Ft(i.geoPointValue.longitude)===Ft(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ft(i.integerValue)===Ft(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=Ft(i.doubleValue),a=Ft(o.doubleValue);return u===a?Sf(u)===Sf(a):isNaN(u)&&isNaN(a)}return!1}(e,t);case 9:return Js(e.arrayValue.values||[],t.arrayValue.values||[],Wr);case 10:return function(i,o){var u=i.mapValue.fields||{},a=o.mapValue.fields||{};if(gE(u)!==gE(a))return!1;for(var l in u)if(u.hasOwnProperty(l)&&(a[l]===void 0||!Wr(u[l],a[l])))return!1;return!0}(e,t);default:return ye()}}function za(e,t){return(e.values||[]).find(function(n){return Wr(n,t)})!==void 0}function tu(e,t){var n=Ko(e),i=Ko(t);if(n!==i)return He(n,i);switch(n){case 0:return 0;case 1:return He(e.booleanValue,t.booleanValue);case 2:return function(o,u){var a=Ft(o.integerValue||o.doubleValue),l=Ft(u.integerValue||u.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return mE(e.timestampValue,t.timestampValue);case 4:return mE(Ha(e),Ha(t));case 5:return He(e.stringValue,t.stringValue);case 6:return function(o,u){var a=eu(o),l=eu(u);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,u){for(var a=o.split("/"),l=u.split("/"),f=0;f<a.length&&f<l.length;f++){var d=He(a[f],l[f]);if(d!==0)return d}return He(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,u){var a=He(Ft(o.latitude),Ft(u.latitude));return a!==0?a:He(Ft(o.longitude),Ft(u.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,u){for(var a=o.values||[],l=u.values||[],f=0;f<a.length&&f<l.length;++f){var d=tu(a[f],l[f]);if(d)return d}return He(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,u){var a=o.fields||{},l=Object.keys(a),f=u.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var p=0;p<l.length&&p<d.length;++p){var g=He(l[p],d[p]);if(g!==0)return g;var m=tu(a[l[p]],f[d[p]]);if(m!==0)return m}return He(l.length,d.length)}(e.mapValue,t.mapValue);default:throw ye()}}function mE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return He(e,t);var n=Hi(e),i=Hi(t),o=He(n.seconds,i.seconds);return o!==0?o:He(n.nanos,i.nanos)}function Gm(e){return Sg(e)}function Sg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=Hi(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?eu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,we.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",u=!0,a=0,l=i.values||[];a<l.length;a++)u?u=!1:o+=",",o+=Sg(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",u=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];u?u=!1:o+=",",o+=f+":"+Sg(i.fields[f])}return o+"}"}(e.mapValue):ye();var t,n}function Af(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Ag(e){return!!e&&"integerValue"in e}function Wm(e){return!!e&&"arrayValue"in e}function yE(e){return!!e&&"nullValue"in e}function bE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tf(e){return!!e&&"mapValue"in e}function ka(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Qo(e.mapValue.fields,function(o,u){return t.mapValue.fields[o]=ka(u)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=ka(e.arrayValue.values[i]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!tf(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ka(n)},e.prototype.setAll=function(t){var n=this,i=xr.emptyPath(),o={},u=[];t.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,u),o={},u=[],i=f.popLast()}l?o[f.lastSegment()]=ka(l):u.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,u)},e.prototype.delete=function(t){var n=this.field(t.popLast());tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Wr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];tf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){Qo(n,function(l,f){return t[l]=f});for(var o=0,u=i;o<u.length;o++){var a=u[o];delete t[a]}},e.prototype.clone=function(){return new e(ka(this.value))},e}();function kA(e){var t=[];return Qo(e.fields,function(n,i){var o=new xr([n]);if(tf(i)){var u=kA(i.mapValue).fields;if(u.length===0)t.push(o);else for(var a=0,l=u;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new Zs(t)}var pn=function(){function e(t,n,i,o,u){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=u}return e.newInvalidDocument=function(t){return new e(t,0,Ve.min(),Xn.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Xn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Xn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),OM=function(e,t,n,i,o,u,a){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(e,t,n,i,o,u,a){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),new OM(e,t,n,i,o,u,a)}function gc(e){var t=ue(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+Gm(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),Yo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=xf(t.startAt)),t.endAt&&(n+="|ub:",n+=xf(t.endAt)),t.h=n}return t.h}function wh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!VM(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],u=t.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!Wr(o.value,u.value))return!1;var o,u;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!EE(e.startAt,t.startAt)&&EE(e.endAt,t.endAt)}function kf(e){return we.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Jn=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).field=n,u.op=i,u.value=o,u}return Te(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new PM(n,i,o):i==="array-contains"?new MM(n,o):i==="in"?new FM(n,o):i==="not-in"?new jM(n,o):i==="array-contains-any"?new UM(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new DM(n,o):new LM(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(tu(i,this.value)):i!==null&&Ko(this.value)===Ko(i)&&this.m(tu(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ye()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),PM=function(e){function t(n,i,o){var u=this;return(u=e.call(this,n,i,o)||this).key=we.fromName(o.referenceValue),u}return Te(t,e),t.prototype.matches=function(n){var i=we.comparator(n.key,this.key);return this.m(i)},t}(Jn),DM=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=xA("in",i),o}return Te(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(Jn),LM=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=xA("not-in",i),o}return Te(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(Jn);function xA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return we.fromName(i.referenceValue)})}var MM=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return Te(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return Wm(i)&&za(i.arrayValue,this.value)},t}(Jn),FM=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return Te(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&za(this.value.arrayValue,i)},t}(Jn),jM=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return Te(t,e),t.prototype.matches=function(n){if(za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!za(this.value.arrayValue,i)},t}(Jn),UM=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return Te(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!Wm(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return za(i.value.arrayValue,u)})},t}(Jn),Ga=function(e,t){this.position=e,this.before=t};function xf(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Gm(t)}).join(",")}var $s=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function VM(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function _E(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var u=t[o],a=e.position[o];if(i=u.field.isKeyField()?we.comparator(we.fromName(a.referenceValue),n.key):tu(a,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function EE(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Wr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di=function(e,t,n,i,o,u,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=u,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function NA(e,t,n,i,o,u,a,l){return new di(e,t,n,i,o,u,a,l)}function mc(e){return new di(e)}function nf(e){return!Yo(e.limit)&&e.limitType==="F"}function Nf(e){return!Yo(e.limit)&&e.limitType==="L"}function Xm(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Qm(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function Ym(e){return e.collectionGroup!==null}function nu(e){var t=ue(e);if(t.p===null){t.p=[];var n=Qm(t),i=Xm(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new $s(n)),t.p.push(new $s(xr.keyField(),"asc"));else{for(var o=!1,u=0,a=t.explicitOrderBy;u<a.length;u++){var l=a[u];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new $s(xr.keyField(),f))}}}return t.p}function Xr(e){var t=ue(e);if(!t.T)if(t.limitType==="F")t.T=wE(t.path,t.collectionGroup,nu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=nu(t);i<o.length;i++){var u=o[i],a=u.dir==="desc"?"asc":"desc";n.push(new $s(u.field,a))}var l=t.endAt?new Ga(t.endAt.position,!t.endAt.before):null,f=t.startAt?new Ga(t.startAt.position,!t.startAt.before):null;t.T=wE(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function RA(e,t,n){return new di(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yc(e,t){return wh(Xr(e),Xr(t))&&e.limitType===t.limitType}function CA(e){return gc(Xr(e))+"|lt:"+e.limitType}function kg(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+Gm(o.value);var o}).join(", ")+"]"),Yo(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+xf(t.startAt)),t.endAt&&(n+=", endAt: "+xf(t.endAt)),"Target("+n+")"}(Xr(e))+"; limitType="+e.limitType+")"}function bc(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):we.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,u=n.explicitOrderBy;o<u.length;o++){var a=u[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!_E(n.startAt,nu(n),i))&&(!n.endAt||!_E(n.endAt,nu(n),i))}(e,t)}function OA(e){return function(t,n){for(var i=!1,o=0,u=nu(e);o<u.length;o++){var a=u[o],l=qM(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function qM(e,t,n){var i=e.field.isKeyField()?we.comparator(t.key,n.key):function(o,u,a){var l=u.data.field(o),f=a.data.field(o);return l!==null&&f!==null?tu(l,f):ye()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(t)?"-0":t}}function DA(e){return{integerValue:""+e}}function LA(e,t){return AA(t)?DA(t):PA(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _h=function(){this._=void 0};function BM(e,t,n){return e instanceof ru?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,t):e instanceof Ho?FA(e,t):e instanceof zo?jA(e,t):function(i,o){var u=MA(i,o),a=IE(u)+IE(i.A);return Ag(u)&&Ag(i.A)?DA(a):PA(i.R,a)}(e,t)}function $M(e,t,n){return e instanceof Ho?FA(e,t):e instanceof zo?jA(e,t):n}function MA(e,t){return e instanceof iu?Ag(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}var ru=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t}(_h),Ho=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Te(t,e),t}(_h);function FA(e,t){for(var n=UA(t),i=function(a){n.some(function(l){return Wr(l,a)})||n.push(a)},o=0,u=e.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var zo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Te(t,e),t}(_h);function jA(e,t){for(var n=UA(t),i=function(a){n=n.filter(function(l){return!Wr(l,a)})},o=0,u=e.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var iu=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return Te(t,e),t}(_h);function IE(e){return Ft(e.integerValue||e.doubleValue)}function UA(e){return Wm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wc=function(e,t){this.field=e,this.transform=t},KM=function(e,t){this.version=e,this.transformResults=t},hn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function rf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Eh=function(){};function HM(e,t,n){e instanceof _c?function(i,o,u){var a=i.value.clone(),l=AE(i.fieldTransforms,o,u.transformResults);a.setAll(l),o.convertToFoundDocument(u.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Xi?function(i,o,u){if(rf(i.precondition,o)){var a=AE(i.fieldTransforms,o,u.transformResults),l=o.data;l.setAll(VA(i)),l.setAll(a),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(u.version)}(e,t,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,n)}function xg(e,t,n){e instanceof _c?function(i,o,u){if(rf(i.precondition,o)){var a=i.value.clone(),l=kE(i.fieldTransforms,u,o);a.setAll(l),o.convertToFoundDocument(SE(o),a).setHasLocalMutations()}}(e,t,n):e instanceof Xi?function(i,o,u){if(rf(i.precondition,o)){var a=kE(i.fieldTransforms,u,o),l=o.data;l.setAll(VA(i)),l.setAll(a),o.convertToFoundDocument(SE(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){rf(i.precondition,o)&&o.convertToNoDocument(Ve.min())}(e,t)}function zM(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var u=o[i],a=t.data.field(u.field),l=MA(u.transform,a||null);l!=null&&(n==null&&(n=Xn.empty()),n.set(u.field,l))}return n||null}function TE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Js(n,i,function(o,u){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof Ho&&d instanceof Ho||f instanceof zo&&d instanceof zo?Js(f.elements,d.elements,Wr):f instanceof iu&&d instanceof iu?Wr(f.A,d.A):f instanceof ru&&d instanceof ru}(a.transform,l.transform)}(o,u)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function SE(e){return e.isFoundDocument()?e.version:Ve.min()}var _c=function(e){function t(n,i,o,u){u===void 0&&(u=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=u,a.type=0,a}return Te(t,e),t}(Eh),Xi=function(e){function t(n,i,o,u,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=u,l.fieldTransforms=a,l.type=1,l}return Te(t,e),t}(Eh);function VA(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function AE(e,t,n){var i=new Map;Re(e.length===n.length);for(var o=0;o<n.length;o++){var u=e[o],a=u.transform,l=t.data.field(u.field);i.set(u.field,$M(a,l,n[o]))}return i}function kE(e,t,n){for(var i=new Map,o=0,u=e;o<u.length;o++){var a=u[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,BM(l,f,t))}return i}var Mt,We,Ec=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return Te(t,e),t}(Eh),Jm=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return Te(t,e),t}(Eh),GM=function(e){this.count=e};function qA(e){switch(e){case P.OK:return ye();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return ye()}}function BA(e){if(e===void 0)return jt("GRPC error has no .code"),P.UNKNOWN;switch(e){case Mt.OK:return P.OK;case Mt.CANCELLED:return P.CANCELLED;case Mt.UNKNOWN:return P.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return P.INTERNAL;case Mt.UNAVAILABLE:return P.UNAVAILABLE;case Mt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Mt.NOT_FOUND:return P.NOT_FOUND;case Mt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Mt.ABORTED:return P.ABORTED;case Mt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Mt.DATA_LOSS:return P.DATA_LOSS;default:return ye()}}(We=Mt||(Mt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn=function(){function e(t,n){this.comparator=t,this.root=n||Li.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Li.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Li.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Ul(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Ul(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ul(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Ul(this.root,t,this.comparator,!0)},e}(),Ul=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var u=1;!t.isEmpty();)if(u=n?i(t.key,n):1,o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Li=function(){function e(t,n,i,o,u){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=u??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,u){return new e(t??this.key,n??this.value,i??this.color,o??this.left,u??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,u=i(t,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(t,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();var t=this.left.check();if(t!==this.right.check())throw ye();return t+(this.isRed()?0:1)},e}();Li.EMPTY=null,Li.RED=!0,Li.BLACK=!1,Li.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ye()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,u){return this},e.prototype.insert=function(t,n,i){return new Li(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt=function(){function e(t){this.comparator=t,this.data=new vn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new xE(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new xE(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),xE=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),WM=new vn(we.comparator);function Ar(){return WM}var XM=new vn(we.comparator);function Ng(){return XM}var QM=new vn(we.comparator);function YM(){return QM}var JM=new Gt(we.comparator);function dt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=JM,i=0,o=e;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var ZM=new Gt(He);function Ih(){return ZM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zm=function(){function e(t,n,i,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,ey.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ve.min(),i,Ih(),Ar(),dt())},e}(),ey=function(){function e(t,n,i,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(jn.EMPTY_BYTE_STRING,n,dt(),dt(),dt())},e}(),of=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},$A=function(e,t){this.targetId=e,this.V=t},KA=function(e,t,n,i){n===void 0&&(n=jn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},NE=function(){function e(){this.S=0,this.D=CE(),this.C=jn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=dt(),n=dt(),i=dt();return this.D.forEach(function(o,u){switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ye()}}),new ey(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=CE()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),eF=function(){function e(t){this.W=t,this.G=new Map,this.H=Ar(),this.J=RE(),this.Y=new Gt(He)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var u=0,a=t.removedTargetIds;u<a.length;u++)o=a[u],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:ye()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,u){i.st(u)&&n(u)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var u=o.target;if(kf(u))if(i===0){var a=new we(u.path);this.tt(n,a,pn.newNoDocument(a,Ve.min()))}else Re(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&kf(f.target)){var d=new we(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,pn.newNoDocument(d,t))}a.$&&(i.set(l,a.M()),a.L())}});var o=dt();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var p=n.ot(d);return!p||p.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var u=new Zm(t,i,this.Y,this.H,o);return this.H=Ar(),this.J=RE(),this.Y=new Gt(He),u},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new NE,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Gt(He),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new NE),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function RE(){return new vn(we.comparator)}function CE(){return new vn(we.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tF={asc:"ASCENDING",desc:"DESCENDING"},nF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rF=function(e,t){this.databaseId=e,this.I=t};function Wa(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function HA(e,t){return e.I?t.toBase64():t.toUint8Array()}function iF(e,t){return Wa(e,t.toTimestamp())}function kn(e){return Re(!!e),Ve.fromTimestamp(function(t){var n=Hi(t);return new Mn(n.seconds,n.nanos)}(e))}function ty(e,t){return function(n){return new rt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function zA(e){var t=rt.fromString(e);return Re(ZA(t)),t}function Xa(e,t){return ty(e.databaseId,t.path)}function ui(e,t){var n=zA(t);if(n.get(1)!==e.databaseId.projectId)throw new W(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new W(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new we(WA(n))}function Rg(e,t){return ty(e.databaseId,t)}function GA(e){var t=zA(e);return t.length===4?rt.emptyPath():WA(t)}function Qa(e){return new rt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function WA(e){return Re(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function OE(e,t,n){return{name:Xa(e,t),fields:n.value.mapValue.fields}}function oF(e,t,n){var i=ui(e,t.name),o=kn(t.updateTime),u=new Xn({mapValue:{fields:t.fields}}),a=pn.newFoundDocument(i,o,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Rf(e,t){var n;if(t instanceof _c)n={update:OE(e,t.key,t.value)};else if(t instanceof Ec)n={delete:Xa(e,t.key)};else if(t instanceof Xi)n={update:OE(e,t.key,t.data),updateMask:lF(t.fieldMask)};else{if(!(t instanceof Jm))return ye();n={verify:Xa(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,u){var a=u.transform;if(a instanceof ru)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ho)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zo)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof iu)return{fieldPath:u.field.canonicalString(),increment:a.A};throw ye()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:iF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(e,t.precondition)),n}function PE(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?hn.updateTime(kn(d.updateTime)):d.exists!==void 0?hn.exists(d.exists):hn.none()}(t.currentDocument):hn.none(),i=t.updateTransforms?t.updateTransforms.map(function(d){return function(p,g){var m=null;if("setToServerValue"in g)Re(g.setToServerValue==="REQUEST_TIME"),m=new ru;else if("appendMissingElements"in g){var w=g.appendMissingElements.values||[];m=new Ho(w)}else if("removeAllFromArray"in g){var _=g.removeAllFromArray.values||[];m=new zo(_)}else"increment"in g?m=new iu(p,g.increment):ye();var T=xr.fromServerFormat(g.fieldPath);return new wc(T,m)}(e,d)}):[];if(t.update){t.update.name;var o=ui(e,t.update.name),u=new Xn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(d){var p=d.fieldPaths||[];return new Zs(p.map(function(g){return xr.fromServerFormat(g)}))}(t.updateMask);return new Xi(o,u,a,n,i)}return new _c(o,u,n,i)}if(t.delete){var l=ui(e,t.delete);return new Ec(l,n)}if(t.verify){var f=ui(e,t.verify);return new Jm(f,n)}return ye()}function XA(e,t){return{documents:[Rg(e,t.path)]}}function QA(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Rg(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Rg(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(p){if(p.op==="=="){if(bE(p.value))return{unaryFilter:{field:xs(p.field),op:"IS_NAN"}};if(yE(p.value))return{unaryFilter:{field:xs(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(bE(p.value))return{unaryFilter:{field:xs(p.field),op:"IS_NOT_NAN"}};if(yE(p.value))return{unaryFilter:{field:xs(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(p.field),op:uF(p.op),value:p.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var u=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:xs(d.field),direction:sF(d.dir)}}(f)})}(t.orderBy);u&&(n.structuredQuery.orderBy=u);var a=function(l,f){return l.I||Yo(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=DE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=DE(t.endAt)),n}function YA(e){var t=GA(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Re(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:t=t.child(u.collectionId)}var a=[];n.where&&(a=JA(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(g){return function(m){return new $s(js(m.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(g)}));var f=null;n.limit&&(f=function(g){var m;return Yo(m=typeof g=="object"?g.value:g)?null:m}(n.limit));var d=null;n.startAt&&(d=LE(n.startAt));var p=null;return n.endAt&&(p=LE(n.endAt)),NA(t,o,l,a,f,"F",d,p)}function JA(e){return e?e.unaryFilter!==void 0?[cF(e)]:e.fieldFilter!==void 0?[aF(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return JA(t)}).reduce(function(t,n){return t.concat(n)}):ye():[]}function DE(e){return{before:e.before,values:e.position}}function LE(e){var t=!!e.before,n=e.values||[];return new Ga(n,t)}function sF(e){return tF[e]}function uF(e){return nF[e]}function xs(e){return{fieldPath:e.canonicalString()}}function js(e){return xr.fromServerFormat(e.fieldPath)}function aF(e){return Jn.create(js(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ye()}}(e.fieldFilter.op),e.fieldFilter.value)}function cF(e){switch(e.unaryFilter.op){case"IS_NAN":var t=js(e.unaryFilter.field);return Jn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=js(e.unaryFilter.field);return Jn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=js(e.unaryFilter.field);return Jn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=js(e.unaryFilter.field);return Jn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ye()}}function lF(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function ZA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ME(t)),t=fF(e.get(n),t);return ME(t)}function fF(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var u=e.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function ME(e){return e+""}function oi(e){var t=e.length;if(Re(t>=2),t===2)return Re(e.charAt(0)===""&&e.charAt(1)===""),rt.emptyPath();for(var n=t-2,i=[],o="",u=0;u<t;){var a=e.indexOf("",u);switch((a<0||a>n)&&ye(),e.charAt(a+1)){case"":var l=e.substring(u,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=e.substring(u,a),o+="\0";break;case"":o+=e.substring(u,a+1);break;default:ye()}u=a+2}return new rt(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hF=function(e,t){this.seconds=e,this.nanoseconds=t},Gn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Gn.store="owner",Gn.key="owner";var Bi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Bi.store="mutationQueues",Bi.keyPath="userId";var vt=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};vt.store="mutations",vt.keyPath="batchId",vt.userMutationsIndex="userMutationsIndex",vt.userMutationsKeyPath=["userId","batchId"];var an=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,kr(n)]},e.key=function(t,n,i){return[t,kr(n),i]},e}();an.store="documentMutations",an.PLACEHOLDER=new an;var dF=function(e,t){this.path=e,this.readTime=t},pF=function(e,t){this.path=e,this.version=t},Nt=function(e,t,n,i,o,u){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};Nt.store="remoteDocuments",Nt.readTimeIndex="readTimeIndex",Nt.readTimeIndexPath="readTime",Nt.collectionReadTimeIndex="collectionReadTimeIndex",Nt.collectionReadTimeIndexPath=["parentPath","readTime"];var $r=function(e){this.byteSize=e};$r.store="remoteDocumentGlobal",$r.key="remoteDocumentGlobalKey";var Ln=function(e,t,n,i,o,u,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=a};Ln.store="targets",Ln.keyPath="targetId",Ln.queryTargetsIndexName="queryTargetsIndex",Ln.queryTargetsKeyPath=["canonicalId","targetId"];var tn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};tn.store="targetDocuments",tn.keyPath=["targetId","path"],tn.documentTargetsIndex="documentTargetsIndex",tn.documentTargetsKeyPath=["path","targetId"];var Wn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Wn.key="targetGlobalKey",Wn.store="targetGlobal";var Lo=function(e,t){this.collectionId=e,this.parent=t};Lo.store="collectionParents",Lo.keyPath=["collectionId","parent"];var ai=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};ai.store="clientMetadata",ai.keyPath="clientId";var ou=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};ou.store="bundles",ou.keyPath="bundleId";var su=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};su.store="namedQueries",su.keyPath="name";var vF=_t(_t([],_t(_t([],_t(_t([],_t(_t([],[Bi.store,vt.store,an.store,Nt.store,Ln.store,Gn.store,Wn.store,tn.store]),[ai.store])),[$r.store])),[Lo.store])),[ou.store,su.store]),e1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",t1=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Un=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},Y=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,u){i.nextCallback=function(a){i.wrapSuccess(t,a).next(o,u)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,u)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,u=0,a=!1;t.forEach(function(l){++o,l.next(function(){++u,a&&u===o&&n()},function(f){return i(f)})}),a=!0,u===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,u=t;o<u.length;o++)i(u[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(u,a){o.push(n.call(i,u,a))}),this.waitFor(o)},e}(),n1=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Un,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new xa(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var u=ny(o.target.error);i.ft.reject(new xa(t,u))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(u){throw new xa(n,u)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ne("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new mF(n)},e}(),uu=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(qo())===12.2&&jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ne("SimpleDb","Removing database:",t),ko(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=qo(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),u=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||u)},e.gt=function(){var t;return typeof process<"u"&&((t=xM)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return $(this,void 0,void 0,function(){var n,i=this;return B(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ne("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;u(d)},l.onblocked=function(){a(new xa(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new W(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new xa(t,d))},l.onupgradeneeded=function(f){ne("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){ne("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return $(this,void 0,void 0,function(){var u,a,l,f,d;return B(this,function(p){switch(p.label){case 0:u=n==="readonly",a=0,l=function(){var g,m,w,_,T;return B(this,function(A){switch(A.label){case 0:++a,A.label=1;case 1:return A.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=A.sent(),g=n1.open(f.db,t,u?"readonly":"readwrite",i),m=o(g).catch(function(C){return g.abort(C),Y.reject(C)}).toPromise(),w={},m.catch(function(){}),[4,g.dt];case 3:return[2,(w.value=(A.sent(),m),w)];case 4:return _=A.sent(),T=_.name!=="FirebaseError"&&a<3,ne("SimpleDb","Transaction failed with error:",_.message,"Retrying:",T),f.close(),T?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(d=p.sent())=="object")return[2,d.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),gF=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return ko(this.Pt.delete())},e}(),xa=function(e){function t(n,i){var o=this;return(o=e.call(this,P.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return Te(t,e),t}(W);function Jo(e){return e.name==="IndexedDbTransactionError"}var mF=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(ne("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(ne("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),ko(i)},e.prototype.add=function(t){return ne("SimpleDb","ADD",this.store.name,t,t),ko(this.store.add(t))},e.prototype.get=function(t){var n=this;return ko(this.store.get(t)).next(function(i){return i===void 0&&(i=null),ne("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return ne("SimpleDb","DELETE",this.store.name,t),ko(this.store.delete(t))},e.prototype.count=function(){return ne("SimpleDb","COUNT",this.store.name),ko(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(u,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){ne("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(u,a,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new Y(function(i,o){n.onerror=function(u){var a=ny(u.target.error);o(a)},n.onsuccess=function(u){var a=u.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new Y(function(o,u){t.onerror=function(a){u(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new gF(l),d=n(l.primaryKey,l.value,f);if(d instanceof Y){var p=d.catch(function(g){return f.done(),Y.reject(g)});i.push(p)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return Y.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function ko(e){return new Y(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=ny(i.target.error);n(o)}})}var FE=!1;function ny(e){var t=uu._t(qo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new W("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return FE||(FE=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jE=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return Te(t,e),t}(t1);function Vn(e,t){var n=ue(e);return uu.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ry=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var u=this.mutations[o];u.key.isEqual(t.key)&&HM(u,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t.key)&&xg(a,t,this.localWriteTime);for(var o=0,u=this.mutations;o<u.length;o++){var a;(a=u[o]).key.isEqual(t.key)&&xg(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),u=o;n.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(Ve.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},dt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Js(this.mutations,t.mutations,function(n,i){return TE(n,i)})&&Js(this.baseMutations,t.baseMutations,function(n,i){return TE(n,i)})},e}(),yF=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){Re(t.mutations.length===i.length);for(var o=YM(),u=t.mutations,a=0;a<u.length;a++)o=o.insert(u[a].key,i[a].version);return new e(t,n,i,o)},e}(),Th=function(){function e(t,n,i,o,u,a,l){u===void 0&&(u=Ve.min()),a===void 0&&(a=Ve.min()),l===void 0&&(l=jn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),r1=function(e){this.Lt=e};function Cg(e,t){if(t.document)return oF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=we.fromSegments(t.noDocument.path),i=cu(t.noDocument.readTime),o=pn.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var u=we.fromSegments(t.unknownDocument.path);return i=cu(t.unknownDocument.version),pn.newUnknownDocument(u,i)}return ye()}function UE(e,t,n){var i=iy(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var u=function(g,m){return{name:Xa(g,m.key),fields:m.data.value.mapValue.fields,updateTime:Wa(g,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Nt(null,null,u,a,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=au(t.version);return a=t.hasCommittedMutations,new Nt(null,new dF(l,f),null,a,i,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),p=au(t.version);return new Nt(new pF(d,p),null,null,!0,i,o)}return ye()}function iy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function i1(e){var t=new Mn(e[0],e[1]);return Ve.fromTimestamp(t)}function au(e){var t=e.toTimestamp();return new hF(t.seconds,t.nanoseconds)}function cu(e){var t=new Mn(e.seconds,e.nanoseconds);return Ve.fromTimestamp(t)}function Ps(e,t){for(var n=(t.baseMutations||[]).map(function(f){return PE(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var u=t.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var a=t.mutations.map(function(f){return PE(e.Lt,f)}),l=Mn.fromMillis(t.localWriteTimeMs);return new ry(t.batchId,l,n,a)}function ba(e){var t,n,i=cu(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?cu(e.lastLimboFreeSnapshotVersion):Ve.min();return e.query.documents!==void 0?(Re((n=e.query).documents.length===1),t=Xr(mc(GA(n.documents[0])))):t=function(u){return Xr(YA(u))}(e.query),new Th(t,e.targetId,0,e.lastListenSequenceNumber,i,o,jn.fromBase64String(e.resumeToken))}function o1(e,t){var n,i=au(t.snapshotVersion),o=au(t.lastLimboFreeSnapshotVersion);n=kf(t.target)?XA(e.Lt,t.target):QA(e.Lt,t.target);var u=t.resumeToken.toBase64();return new Ln(t.targetId,gc(t.target),i,u,t.sequenceNumber,o,n)}function s1(e){var t=YA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?RA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bF=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return VE(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:cu(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return VE(t).put({bundleId:(i=n).id,createTime:au(kn(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return qE(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:s1(o.bundledQuery),readTime:cu(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return qE(t).put(function(i){return{name:i.name,readTime:au(kn(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();function VE(e){return Vn(e,ou.store)}function qE(e){return Vn(e,su.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wF=function(){function e(){this.Bt=new oy}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),Y.resolve()},e.prototype.getCollectionParents=function(t,n){return Y.resolve(this.Bt.getEntries(n))},e}(),oy=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Gt(rt.comparator),u=!o.has(i);return this.index[n]=o.add(i),u},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Gt(rt.comparator)).toArray()},e}(),_F=function(){function e(){this.qt=new oy}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),u=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:kr(u)};return BE(t).put(a)}return Y.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[EA(n),""],!1,!0);return BE(t).Nt(o).next(function(u){for(var a=0,l=u;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(oi(f.parent))}return i})},e}();function BE(e){return Vn(e,Lo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vr=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(e,t,n){var i=e.store(vt.store),o=e.store(an.store),u=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(_,T,A){return l++,A.delete()});u.push(f.next(function(){Re(l===1)}));for(var d=[],p=0,g=n.mutations;p<g.length;p++){var m=g[p],w=an.key(t,m.key.path,n.batchId);u.push(o.delete(w)),d.push(m.key)}return Y.waitFor(u).next(function(){return d})}function Cf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ye();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr.DEFAULT_COLLECTION_PERCENTILE=10,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vr.DEFAULT=new Vr(41943040,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vr.DISABLED=new Vr(-1,0,0);var EF=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return Re(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ki(t).$t({index:vt.userMutationsIndex,range:i},function(o,u,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var u=this,a=Ds(t),l=ki(t);return l.add({}).next(function(f){Re(typeof f=="number");for(var d=new ry(f,n,i,o),p=function(C,O,F){var V=F.baseMutations.map(function(j){return Rf(C.Lt,j)}),ee=F.mutations.map(function(j){return Rf(C.Lt,j)});return new vt(O,F.batchId,F.localWriteTime.toMillis(),V,ee)}(u.R,u.userId,d),g=[],m=new Gt(function(C,O){return He(C.canonicalString(),O.canonicalString())}),w=0,_=o;w<_.length;w++){var T=_[w],A=an.key(u.userId,T.key.path,f);m=m.add(T.key.path.popLast()),g.push(l.put(p)),g.push(a.put(A,an.PLACEHOLDER))}return m.forEach(function(C){g.push(u.Ut.addToCollectionParentIndex(t,C))}),t.addOnCommittedListener(function(){u.Kt[f]=d.keys()}),Y.waitFor(g).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return ki(t).get(n).next(function(o){return o?(Re(o.userId===i.userId),Ps(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?Y.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var u=o.keys();return i.Kt[n]=u,u}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),a=null;return ki(t).$t({index:vt.userMutationsIndex,range:u},function(l,f,d){f.userId===i.userId&&(Re(f.batchId>=o),a=Ps(i.R,f)),d.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return ki(t).$t({index:vt.userMutationsIndex,range:n,reverse:!0},function(o,u,a){i=u.batchId,a.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ki(t).Nt(vt.userMutationsIndex,i).next(function(o){return o.map(function(u){return Ps(n.R,u)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=an.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),a=[];return Ds(t).$t({range:u},function(l,f,d){var p=l[0],g=l[1],m=l[2],w=oi(g);if(p===i.userId&&n.path.isEqual(w))return ki(t).get(m).next(function(_){if(!_)throw ye();Re(_.userId===i.userId),a.push(Ps(i.R,_))});d.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Gt(He),u=[];return n.forEach(function(a){var l=an.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=Ds(t).$t({range:f},function(p,g,m){var w=p[0],_=p[1],T=p[2],A=oi(_);w===i.userId&&a.path.isEqual(A)?o=o.add(T):m.done()});u.push(d)}),Y.waitFor(u).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,u=o.length+1,a=an.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Gt(He);return Ds(t).$t({range:l},function(d,p,g){var m=d[0],w=d[1],_=d[2],T=oi(w);m===i.userId&&o.isPrefixOf(T)?T.length===u&&(f=f.add(_)):g.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],u=[];return n.forEach(function(a){u.push(ki(t).get(a).next(function(l){if(l===null)throw ye();Re(l.userId===i.userId),o.push(Ps(i.R,l))}))}),Y.waitFor(u).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return u1(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),Y.forEach(o,function(u){return i.referenceDelegate.markPotentiallyOrphaned(t,u)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return Y.resolve();var o=IDBKeyRange.lowerBound(an.prefixForUser(n.userId)),u=[];return Ds(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=oi(a[1]);u.push(d)}else f.done()}).next(function(){Re(u.length===0)})})},e.prototype.containsKey=function(t,n){return a1(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return c1(t).get(this.userId).next(function(i){return i||new Bi(n.userId,-1,"")})},e}();function a1(e,t,n){var i=an.prefixForPath(t,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),a=!1;return Ds(e).$t({range:u,Ft:!0},function(l,f,d){var p=l[0],g=l[1];l[2],p===t&&g===o&&(a=!0),d.done()}).next(function(){return a})}function ki(e){return Vn(e,vt.store)}function Ds(e){return Vn(e,an.store)}function c1(e){return Vn(e,Bi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Of=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),IF=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new Of(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Ve.fromTimestamp(new Mn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Zt(t,u)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Ns(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return Re(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,u=0,a=[];return Ns(t).$t(function(l,f){var d=ba(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(u++,a.push(o.removeTargetData(t,d)))}).next(function(){return Y.waitFor(a)}).next(function(){return u})},e.prototype.forEachTarget=function(t,n){return Ns(t).$t(function(i,o){var u=ba(o);n(u)})},e.prototype.Xt=function(t){return KE(t).get(Wn.key).next(function(n){return Re(n!==null),n})},e.prototype.Zt=function(t,n){return KE(t).put(Wn.key,n)},e.prototype.te=function(t,n){return Ns(t).put(o1(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=gc(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return Ns(t).$t({range:o,index:Ln.queryTargetsIndexName},function(a,l,f){var d=ba(l);wh(n,d.target)&&(u=d,f.done())}).next(function(){return u})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,u=[],a=Mi(t);return n.forEach(function(l){var f=kr(l.path);u.push(a.put(new tn(i,f))),u.push(o.referenceDelegate.addReference(t,i,l))}),Y.waitFor(u)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,u=Mi(t);return Y.forEach(n,function(a){var l=kr(a.path);return Y.waitFor([u.delete([i,l]),o.referenceDelegate.removeReference(t,i,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Mi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Mi(t),u=dt();return o.$t({range:i,Ft:!0},function(a,l,f){var d=oi(a[1]),p=new we(d);u=u.add(p)}).next(function(){return u})},e.prototype.containsKey=function(t,n){var i=kr(n.path),o=IDBKeyRange.bound([i],[EA(i)],!1,!0),u=0;return Mi(t).$t({index:tn.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(u++,f.done())}).next(function(){return u>0})},e.prototype.lt=function(t,n){return Ns(t).get(n).next(function(i){return i?ba(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(e){return Vn(e,Ln.store)}function KE(e){return Vn(e,Wn.store)}function Mi(e){return Vn(e,tn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(e){return $(this,void 0,void 0,function(){return B(this,function(t){if(e.code!==P.FAILED_PRECONDITION||e.message!==e1)throw e;return ne("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(e,t){var n=e[0],i=e[1],o=t[0],u=t[1],a=He(n,o);return a===0?He(i,u):a}var TF=function(){function e(t){this.ne=t,this.buffer=new Gt(HE),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();HE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),SF=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;ne("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return $(n,void 0,void 0,function(){var o;return B(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return Jo(o=u.sent())?(ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Zo(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return u.sent(),[2]}})})})},e}(),AF=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return Y.resolve(Yn.o);var o=new TF(n);return this.ae.forEachTarget(t,function(u){return o.re(u.sequenceNumber)}).next(function(){return i.ae.le(t,function(u){return o.re(u)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve($E)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),$E):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,u,a,l,f,d,p=this,g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>p.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+m),o=p.params.maximumSequenceNumbersToCollect):o=m,a=Date.now(),p.nthSequenceNumber(t,o)}).next(function(m){return i=m,l=Date.now(),p.removeTargets(t,i,n)}).next(function(m){return u=m,f=Date.now(),p.removeOrphanedDocuments(t,i)}).next(function(m){return d=Date.now(),Tg()<=tt.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-g)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+u+" targets in "+(f-l)+`ms
	Removed `+m+" documents in "+(d-f)+`ms
Total Duration: `+(d-g)+"ms"),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:m})})},e}(),kF=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new AF(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return Vl(t,i)},e.prototype.removeReference=function(t,n,i){return Vl(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return Vl(t,n)},e.prototype._e=function(t,n){return function(i,o){var u=!1;return c1(i).Ot(function(a){return a1(i,a,o).next(function(l){return l&&(u=!0),Y.resolve(!l)})}).next(function(){return u})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],a=0;return this.we(t,function(l,f){if(f<=n){var d=i._e(t,l).next(function(p){if(!p)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Mi(t).delete([0,kr(l.path)])})});u.push(d)}}).next(function(){return Y.waitFor(u)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return Vl(t,n)},e.prototype.we=function(t,n){var i,o=Mi(t),u=Yn.o;return o.$t({index:tn.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,p=l.sequenceNumber;f===0?(u!==Yn.o&&n(new we(oi(i)),u),u=p,i=d):u=Yn.o}).next(function(){u!==Yn.o&&n(new we(oi(i)),u)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Vl(e,t){return Mi(e).put(function(n,i){return new tn(0,kr(n.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Qo(this.inner,function(n,i){for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return IA(this.inner)},e}(),l1=function(){function e(){this.changes=new Iu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Ve.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:pn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?Y.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),xF=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Pi(t).put(ql(n),i)},e.prototype.removeEntry=function(t,n){var i=Pi(t),o=ql(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return Pi(t).get(ql(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return Pi(t).get(ql(n)).next(function(o){return{document:i.ye(n,o),size:Cf(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=Ar();return this.pe(t,n,function(u,a){var l=i.ye(u,a);o=o.insert(u,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=Ar(),u=new vn(we.comparator);return this.pe(t,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),u=u.insert(a,Cf(l))}).next(function(){return{documents:o,Te:u}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return Y.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),a=u.getNext();return Pi(t).$t({range:o},function(l,f,d){for(var p=we.fromSegments(l);a&&we.comparator(a,p)<0;)i(a,null),a=u.getNext();a&&a.isEqual(p)&&(i(a,f),a=u.hasNext()?u.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=u.hasNext()?u.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,u=Ar(),a=n.path.length+1,l={};if(i.isEqual(Ve.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),p=iy(i);l.range=IDBKeyRange.lowerBound([d,p],!0),l.index=Nt.collectionReadTimeIndex}return Pi(t).$t(l,function(g,m,w){if(g.length===a){var _=Cg(o.R,m);n.path.isPrefixOf(_.key.path)?bc(n,_)&&(u=u.insert(_.key,_)):w.done()}}).next(function(){return u})},e.prototype.newChangeBuffer=function(t){return new NF(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return zE(t).get($r.key).next(function(n){return Re(!!n),n})},e.prototype.me=function(t,n){return zE(t).put($r.key,n)},e.prototype.ye=function(t,n){if(n){var i=Cg(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(Ve.min()))return i}return pn.newInvalidDocument(t)},e}(),NF=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new Iu(function(u){return u.toString()},function(u,a){return u.isEqual(a)}),o}return Te(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],u=0,a=new Gt(function(l,f){return He(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var p=UE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var g=Cf(p);u+=g-d,o.push(i.Ie.addEntry(n,l,p))}else if(u-=d,i.trackRemovals){var m=UE(i.Ie.R,pn.newNoDocument(l,Ve.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,m))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,u)),Y.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(u){return o.Ae.set(i,u.size),u.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(u){var a=u.documents;return u.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(l1);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(e){return Vn(e,$r.store)}function Pi(e){return Vn(e,Nt.store)}function ql(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RF=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var u=this;Re(i<o&&i>=0&&o<=11);var a=new n1("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(Gn.store)}(t),function(f){f.createObjectStore(Bi.store,{keyPath:Bi.keyPath}),f.createObjectStore(vt.store,{keyPath:vt.keyPath,autoIncrement:!0}).createIndex(vt.userMutationsIndex,vt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(an.store)}(t),GE(t),function(f){f.createObjectStore(Nt.store)}(t));var l=Y.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(tn.store),f.deleteObjectStore(Ln.store),f.deleteObjectStore(Wn.store)}(t),GE(t)),l=l.next(function(){return function(f){var d=f.store(Wn.store),p=new Wn(0,0,Ve.min().toTimestamp(),0);return d.put(Wn.key,p)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(vt.store).Nt().next(function(p){f.deleteObjectStore(vt.store),f.createObjectStore(vt.store,{keyPath:vt.keyPath,autoIncrement:!0}).createIndex(vt.userMutationsIndex,vt.userMutationsKeyPath,{unique:!0});var g=d.store(vt.store),m=p.map(function(w){return g.put(w)});return Y.waitFor(m)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(ai.store,{keyPath:ai.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return u.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore($r.store)}(t),u.be(a)})),i<7&&o>=7&&(l=l.next(function(){return u.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return u.Pe(t,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(Nt.store);d.createIndex(Nt.readTimeIndex,Nt.readTimeIndexPath,{unique:!1}),d.createIndex(Nt.collectionReadTimeIndex,Nt.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return u.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(ou.store,{keyPath:ou.keyPath})})(t),function(f){f.createObjectStore(su.store,{keyPath:su.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Nt.store).$t(function(i,o){n+=Cf(o)}).next(function(){var i=new $r(n);return t.store($r.store).put($r.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(Bi.store),o=t.store(vt.store);return i.Nt().next(function(u){return Y.forEach(u,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(vt.userMutationsIndex,l).next(function(f){return Y.forEach(f,function(d){Re(d.userId===a.userId);var p=Ps(n.R,d);return u1(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(tn.store),i=t.store(Nt.store);return t.store(Wn.store).get(Wn.key).next(function(o){var u=[];return i.$t(function(a,l){var f=new rt(a),d=function(p){return[0,kr(p)]}(f);u.push(n.get(d).next(function(p){return p?Y.resolve():function(g){return n.put(new tn(0,kr(g),o.highestListenSequenceNumber))}(f)}))}).next(function(){return Y.waitFor(u)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Lo.store,{keyPath:Lo.keyPath});var i=n.store(Lo.store),o=new oy,u=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:kr(f)})}};return n.store(Nt.store).$t({Ft:!0},function(a,l){var f=new rt(a);return u(f.popLast())}).next(function(){return n.store(an.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=oi(f);return u(d.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(Ln.store);return i.$t(function(o,u){var a=ba(u),l=o1(n.R,a);return i.put(l)})},e}();function GE(e){e.createObjectStore(tn.store,{keyPath:tn.keyPath}).createIndex(tn.documentTargetsIndex,tn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ln.store,{keyPath:Ln.keyPath}).createIndex(Ln.queryTargetsIndexName,Ln.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Wn.store)}var Lv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",CF=function(){function e(t,n,i,o,u,a,l,f,d,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=u,this.window=a,this.document=l,this.De=d,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(g){return Promise.resolve()},!e.yt())throw new W(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kF(this,o),this.Le=n+"main",this.R=new r1(f),this.Be=new uu(this.Le,11,new RF(this.R)),this.qe=new IF(this.referenceDelegate,this.R),this.Ut=new _F,this.Ue=function(g,m){return new xF(g,m)}(this.R,this.Ut),this.Ke=new bF,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&jt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new W(P.FAILED_PRECONDITION,Lv);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Yn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return $(n,void 0,void 0,function(){return B(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return $(n,void 0,void 0,function(){return B(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return $(n,void 0,void 0,function(){return B(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Bl(n).put(new ai(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Jo(n))return ne("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return pa(t).get(Gn.key).next(function(i){return Y.resolve(n.tn(i))})},e.prototype.en=function(t){return Bl(t).delete(this.clientId)},e.prototype.nn=function(){return $(this,void 0,void 0,function(){var t,n,i,o,u=this;return B(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Vn(l,ai.store);return f.Nt().next(function(d){var p=u.rn(d,18e5),g=d.filter(function(m){return p.indexOf(m)===-1});return Y.forEach(g,function(m){return f.delete(m.clientId)}).next(function(){return g})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?Y.resolve(!0):pa(t).get(Gn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new W(P.FAILED_PRECONDITION,Lv);return!1}}return!(!n.networkEnabled||!n.inForeground)||Bl(t).Nt().next(function(o){return n.rn(o,5e3).find(function(u){if(n.clientId!==u.clientId){var a=!n.networkEnabled&&u.networkEnabled,l=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&ne("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return $(this,void 0,void 0,function(){var t=this;return B(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Gn.store,ai.store],function(i){var o=new jE(i,Yn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Bl(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return EF.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ne("IndexedDbPersistence","Starting transaction:",t);var u,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,vF,function(l){return u=new jE(l,o.Ne?o.Ne.next():Yn.o),n==="readwrite-primary"?o.Je(u).next(function(f){return!!f||o.Ye(u)}).next(function(f){if(!f)throw jt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new W(P.FAILED_PRECONDITION,e1);return i(u)}).next(function(f){return o.Ze(u).next(function(){return f})}):o.dn(u).next(function(){return i(u)})}).then(function(l){return u.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return pa(t).get(Gn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new W(P.FAILED_PRECONDITION,Lv)})},e.prototype.Ze=function(t){var n=new Gn(this.clientId,this.allowTabSynchronization,Date.now());return pa(t).put(Gn.key,n)},e.yt=function(){return uu.yt()},e.prototype.Xe=function(t){var n=this,i=pa(t);return i.get(Gn.key).next(function(o){return n.tn(o)?(ne("IndexedDbPersistence","Releasing primary lease."),i.delete(Gn.key)):Y.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(jt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),FD()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ne("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return jt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){jt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function pa(e){return Vn(e,Gn.store)}function Bl(e){return Vn(e,ai.store)}function sy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var f1=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var u=0,a=i;u<a.length;u++)a[u].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var u=0,a=n;u<a.length;u++)a[u].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return we.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):Ym(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new we(n)).next(function(i){var o=Ng();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,u=n.collectionGroup,a=Ng();return this.Ut.getCollectionParents(t,u).next(function(l){return Y.forEach(l,function(f){var d=function(p,g){return new di(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,f.child(u));return o.An(t,d,i).next(function(p){p.forEach(function(g,m){a=a.insert(g,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,i){var o,u,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return u=l,a.Rn(t,u,o).next(function(f){o=f;for(var d=0,p=u;d<p.length;d++)for(var g=p[d],m=0,w=g.mutations;m<w.length;m++){var _=w[m],T=_.key,A=o.get(T);A==null&&(A=pn.newInvalidDocument(T),o=o.insert(T,A)),xg(_,A,g.localWriteTime),A.isFoundDocument()||(o=o.remove(T))}})}).next(function(){return o.forEach(function(l,f){bc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=dt(),u=0,a=n;u<a.length;u++)for(var l=0,f=a[u].mutations;l<f.length;l++){var d=f[l];d instanceof Xi&&i.get(d.key)===null&&(o=o.add(d.key))}var p=i;return this.Ue.getEntries(t,o).next(function(g){return g.forEach(function(m,w){w.isFoundDocument()&&(p=p.insert(m,w))}),p})},e}(),OF=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=dt(),o=dt(),u=0,a=n.docChanges;u<a.length;u++){var l=a[u];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),h1=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var u=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(Ve.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=u.Cn(n,a);return(nf(n)||Nf(n))&&u.Nn(n.limitType,l,o,i)?u.Dn(t,n):(Tg()<=tt.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kg(n)),u.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var i=new Gt(OA(t));return n.forEach(function(o,u){bc(t,u)&&(i=i.add(u))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var u=t==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Tg()<=tt.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",kg(n)),this.Sn.getDocumentsMatchingQuery(t,n,Ve.min())},e}(),PF=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new vn(He),this.Fn=new Iu(function(u){return gc(u)},wh),this.$n=Ve.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new f1(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(e,t,n,i){return new PF(e,t,n,i)}function p1(e,t){return $(this,void 0,void 0,function(){var n,i,o,u;return B(this,function(a){switch(a.label){case 0:return n=ue(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(t),o=new f1(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var p=[],g=[],m=dt(),w=0,_=f;w<_.length;w++){var T=_[w];p.push(T.batchId);for(var A=0,C=T.mutations;A<C.length;A++){var O=C[A];m=m.add(O.key)}}for(var F=0,V=d;F<V.length;F++){var ee=V[F];g.push(ee.batchId);for(var j=0,me=ee.mutations;j<me.length;j++){var H=me[j];m=m.add(H.key)}}return o.pn(l,m).next(function(ie){return{Ln:ie,removedBatchIds:p,addedBatchIds:g}})})})];case 1:return u=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),u)]}})})}function DF(e,t){var n=ue(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var p=f.batch,g=p.keys(),m=Y.resolve();return g.forEach(function(w){m=m.next(function(){return d.getEntry(l,w)}).next(function(_){var T=f.docVersions.get(w);Re(T!==null),_.version.compareTo(T)<0&&(p.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,p)})}(n,i,t,u).next(function(){return u.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function v1(e){var t=ue(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function LF(e,t){var n=ue(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(p,g){var m=o.get(g);if(m){l.push(n.qe.removeMatchingKeys(u,p.removedDocuments,g).next(function(){return n.qe.addMatchingKeys(u,p.addedDocuments,g)}));var w=p.resumeToken;if(w.approximateByteSize()>0){var _=m.withResumeToken(w,i).withSequenceNumber(u.currentSequenceNumber);o=o.insert(g,_),function(T,A,C){return Re(A.resumeToken.approximateByteSize()>0),T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(m,_,p)&&l.push(n.qe.updateTargetData(u,_))}}});var f=Ar();if(t.documentUpdates.forEach(function(p,g){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(u,p))}),l.push(MF(u,a,t.documentUpdates,i,void 0).next(function(p){f=p})),!i.isEqual(Ve.min())){var d=n.qe.getLastRemoteSnapshotVersion(u).next(function(p){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});l.push(d)}return Y.waitFor(l).next(function(){return a.apply(u)}).next(function(){return n.Mn.En(u,f)}).next(function(){return f})}).then(function(u){return n.kn=o,u})}function MF(e,t,n,i,o){var u=dt();return n.forEach(function(a){return u=u.add(a)}),t.getEntries(e,u).next(function(a){var l=Ar();return n.forEach(function(f,d){var p=a.get(f),g=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual(Ve.min())?(t.removeEntry(f,g),l=l.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d,g),l=l.insert(f,d)):ne("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),l})}function FF(e,t){var n=ue(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function Pf(e,t){var n=ue(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(u){return u?(o=u,Y.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new Th(t,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function lu(e,t,n){return $(this,void 0,void 0,function(){var i,o,u,a;return B(this,function(l){switch(l.label){case 0:i=ue(e),o=i.kn.get(t),u=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Jo(a=l.sent()))throw a;return ne("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function Df(e,t,n){var i=ue(e),o=Ve.min(),u=dt();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var p=ue(l),g=p.Fn.get(d);return g!==void 0?Y.resolve(p.kn.get(g)):p.qe.getTargetData(f,d)}(i,a,Xr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){u=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,t,n?o:Ve.min(),n?u:dt())}).next(function(l){return{documents:l,Bn:u}})})}function g1(e,t){var n=ue(e),i=ue(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,t).next(function(a){return a?a.target:null})})}function m1(e){var t=ue(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var a=ue(i),l=Ar(),f=iy(u),d=Pi(o),p=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Nt.readTimeIndex,range:p},function(g,m){var w=Cg(a.R,m);l=l.insert(w.key,w),f=m.readTime}).next(function(){return{wn:l,readTime:i1(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function jF(e){return $(this,void 0,void 0,function(){var t;return B(this,function(n){return[2,(t=ue(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=Pi(o),a=Ve.min();return u.$t({index:Nt.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=i1(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UF=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return Y.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:kn(i.createTime)}),Y.resolve()},e.prototype.getNamedQuery=function(t,n){return Y.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:s1(i.bundledQuery),readTime:kn(i.readTime)}}(n)),Y.resolve()},e}(),uy=function(){function e(){this.Wn=new Gt(Xt.Gn),this.zn=new Gt(Xt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new Xt(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Xt(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new we(new rt([])),o=new Xt(i,t),u=new Xt(i,t+1),a=[];return this.zn.forEachInRange([o,u],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new we(new rt([])),i=new Xt(n,t),o=new Xt(n,t+1),u=dt();return this.zn.forEachInRange([i,o],function(a){u=u.add(a.key)}),u},e.prototype.containsKey=function(t){var n=new Xt(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),Xt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return we.comparator(t.key,n.key)||He(t.ns,n.ns)},e.Hn=function(t,n){return He(t.ns,n.ns)||we.comparator(t.key,n.key)},e}(),VF=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Gt(Xt.Gn)}return e.prototype.checkEmpty=function(t){return Y.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new ry(u,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new Xt(d.key,u)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return Y.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return Y.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),u=o<0?0:o;return Y.resolve(this._n.length>u?this._n[u]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Y.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return Y.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new Xt(n,0),u=new Xt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,u],function(l){var f=i.os(l.ns);a.push(f)}),Y.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Gt(He);return n.forEach(function(u){var a=new Xt(u,0),l=new Xt(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),Y.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,u=i;we.isDocumentKey(u)||(u=u.child(""));var a=new Xt(new we(u),0),l=new Gt(He);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),Y.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var u=n.os(o);u!==null&&i.push(u)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;Re(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return Y.forEach(n.mutations,function(u){var a=new Xt(u.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new Xt(n,0),o=this.rs.firstAfterOrEqual(i);return Y.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,Y.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),qF=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new vn(we.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,u=this.docs.get(o),a=u?u.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return Y.resolve(i?i.document.clone():pn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=Ar();return n.forEach(function(u){var a=i.docs.get(u);o=o.insert(u,a?a.document.clone():pn.newInvalidDocument(u))}),Y.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=Ar(),u=new we(n.path.child("")),a=this.docs.getIteratorFrom(u);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,p=d.document,g=d.readTime;if(!n.path.isPrefixOf(f.path))break;g.compareTo(i)<=0||bc(n,p)&&(o=o.insert(p.key,p.clone()))}return Y.resolve(o)},e.prototype.fs=function(t,n){return Y.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new BF(this)},e.prototype.getSize=function(t){return Y.resolve(this.size)},e}(),BF=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return Te(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(u,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),Y.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(l1),$F=function(){function e(t){this.persistence=t,this.ds=new Iu(function(n){return gc(n)},wh),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ws=0,this._s=new uy,this.targetCount=0,this.ys=Of.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),Y.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return Y.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return Y.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Y.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),Y.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Of(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,Y.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),Y.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,Y.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,u=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),u++)}),Y.waitFor(a).next(function(){return u})},e.prototype.getTargetCount=function(t){return Y.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return Y.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),Y.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(function(a){u.push(o.markPotentiallyOrphaned(t,a))}),Y.waitFor(u)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),Y.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return Y.resolve(i)},e.prototype.containsKey=function(t,n){return Y.resolve(this._s.containsKey(n))},e}(),KF=function(){function e(t,n){var i=this;this.gs={},this.Ne=new Yn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new $F(this),this.Ut=new wF,this.Ue=function(o,u){return new qF(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new r1(n),this.Ke=new UF(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new VF(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ne("MemoryPersistence","Starting transaction:",t);var u=new HF(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(a){return o.referenceDelegate.Ts(u).next(function(){return a})}).toPromise().then(function(a){return u.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return Y.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),HF=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return Te(t,e),t}(t1),zF=function(){function e(t){this.persistence=t,this.As=new uy,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ye()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),Y.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),Y.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),Y.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(u){return i.vs.add(u.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(u){u.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.vs,function(o){var u=we.fromPath(o);return n.Ps(t,u).next(function(a){a||i.removeEntry(u)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return Y.or([function(){return Y.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),Zt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(e,t){return"firestore_clients_"+e+"_"+t}function XE(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function Mv(e,t){return"firestore_targets_"+e+"_"+t}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");var QE=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,u=JSON.parse(i),a=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return a&&u.error&&(a=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(o=new W(u.error.code,u.error.message)),a?new e(t,n,u.state,o):(jt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Fv=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new W(o.error.code,o.error.message)),u?new e(t,o.state,i):(jt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),YE=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=Ih(),a=0;o&&a<i.activeTargetIds.length;++a)o=AA(i.activeTargetIds[a]),u=u.add(i.activeTargetIds[a]);return o?new e(t,u):(jt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),GF=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(jt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Og=function(){function e(){this.activeTargetIds=Ih()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),jv=function(){function e(t,n,i,o,u){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new vn(He),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=WE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Og),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return $(this,void 0,void 0,function(){var t,n,i,o,u,a,l,f,d,p,g,m=this;return B(this,function(w){switch(w.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=w.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(u=this.getItem(WE(this.persistenceKey,o)))&&(a=YE.Vs(o,u))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,p=this.$s;d<p.length;d++)g=p[d],this.ks(g);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(Mv(this.persistenceKey,t));if(i){var o=Fv.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Mv(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(u){o.Hs(u)}),this.currentUser=t,i.forEach(function(u){o.addPendingMutation(u)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ne("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ne("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ne("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(ne("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return $(n,void 0,void 0,function(){var o,u,a,l,f,d;return B(this,function(p){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(g){var m=Yn.o;if(g!=null)try{var w=JSON.parse(g);Re(typeof w=="number"),m=w}catch(_){jt("SharedClientState","Failed to read sequence number from WebStorage",_)}return m}(i.newValue))!==Yn.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new QE(this.currentUser,t,n,i),u=XE(this.persistenceKey,this.currentUser,t);this.setItem(u,o.Ss())},e.prototype.Hs=function(t){var n=XE(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=Mv(this.persistenceKey,t),u=new Fv(t,n,i);this.setItem(o,u.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return YE.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return QE.Vs(new Zt(u),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return Fv.Vs(o,n)},e.prototype.js=function(t){return GF.Vs(t)},e.prototype.ii=function(t){return $(this,void 0,void 0,function(){return B(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ne("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),u=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){u.has(d)||l.push(d)}),u.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Ih();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),y1=function(){function e(){this.li=new Og,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Og,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),WF=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),JE=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),XF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},QF=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),YF=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Te(t,e),t.prototype.Fi=function(n,i,o,u){return new Promise(function(a,l){var f=new kM;f.listenOnce(TM.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Dv.NO_ERROR:var p=f.getResponseJson();ne("Connection","XHR received:",JSON.stringify(p)),a(p);break;case Dv.TIMEOUT:ne("Connection",'RPC "'+n+'" timed out'),l(new W(P.DEADLINE_EXCEEDED,"Request time out"));break;case Dv.HTTP_ERROR:var g=f.getStatus();if(ne("Connection",'RPC "'+n+'" failed with status:',g,"response text:",f.getResponseText()),g>0){var m=f.getResponseJson().error;if(m&&m.status&&m.message){var w=function(_){var T=_.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(T)>=0?T:P.UNKNOWN}(m.status);l(new W(w,m.message))}else l(new W(P.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new W(P.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ne("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(u);f.send(i,"POST",d,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=EM(),a=IM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new AM({})),this.ki(l.initMessageHeaders,i),RD()||PD()||DD()||LD()||MD()||OD()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ne("Connection","Creating WebChannel: "+f,l);var d=u.createWebChannel(f,l),p=!1,g=!1,m=new QF({Ei:function(_){g?ne("Connection","Not sending because WebChannel is closed:",_):(p||(ne("Connection","Opening WebChannel transport."),d.open(),p=!0),ne("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),w=function(_,T,A){_.listen(T,function(C){try{A(C)}catch(O){setTimeout(function(){throw O},0)}})};return w(d,jl.EventType.OPEN,function(){g||ne("Connection","WebChannel transport opened.")}),w(d,jl.EventType.CLOSE,function(){g||(g=!0,ne("Connection","WebChannel transport closed"),m.Vi())}),w(d,jl.EventType.ERROR,function(_){g||(g=!0,Tf("Connection","WebChannel transport errored:",_),m.Vi(new W(P.UNAVAILABLE,"The operation could not be completed")))}),w(d,jl.EventType.MESSAGE,function(_){var T;if(!g){var A=_.data[0];Re(!!A);var C=A,O=C.error||((T=C[0])===null||T===void 0?void 0:T.error);if(O){ne("Connection","WebChannel received error:",O);var F=O.status,V=function(j){var me=Mt[j];if(me!==void 0)return BA(me)}(F),ee=O.message;V===void 0&&(V=P.INTERNAL,ee="Unknown error status: "+F+" with message "+O.message),g=!0,m.Vi(new W(V,ee)),d.close()}else ne("Connection","WebChannel received:",A),m.Si(A)}}),w(a,SM.STAT_EVENT,function(_){_.stat===vE.PROXY?ne("Connection","Detected buffering proxy"):_.stat===vE.NOPROXY&&ne("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var u=this.xi(t,n);ne("RestConnection","Sending: ",u,i);var a={};return this.ki(a,o),this.Fi(t,u,a,i).then(function(l){return ne("RestConnection","Received: ",l),l},function(l){throw Tf("RestConnection",t+" failed with error: ",l,"url: ",u,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=XF[t];return this.Di+"/v1/"+n+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(){return typeof window<"u"?window:null}function sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(e){return new rF(e,!0)}var ay=function(){function e(t,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-o);u>0&&ne("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),w1=function(){function e(t,n,i,o,u,a){this.Se=t,this.zi=i,this.Hi=o,this.Ji=u,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ay(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return $(this,void 0,void 0,function(){return B(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return $(this,void 0,void 0,function(){return B(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return $(this,void 0,void 0,function(){return B(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(jt(n.toString()),jt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===P.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var u=new W(P.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(u)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return $(t,void 0,void 0,function(){return B(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ne("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),JF=function(e){function t(n,i,o,u,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=u,l}return Te(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(u,a){var l;if("targetChange"in a){a.targetChange;var f=function(A){return A==="NO_CHANGE"?0:A==="ADD"?1:A==="REMOVE"?2:A==="CURRENT"?3:A==="RESET"?4:ye()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],p=function(A,C){return A.I?(Re(C===void 0||typeof C=="string"),jn.fromBase64String(C||"")):(Re(C===void 0||C instanceof Uint8Array),jn.fromUint8Array(C||new Uint8Array))}(u,a.targetChange.resumeToken),g=(m=a.targetChange.cause)&&function(A){var C=A.code===void 0?P.UNKNOWN:BA(A.code);return new W(C,A.message||"")}(m);l=new KA(f,d,p,g||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=ui(u,f.document.name),p=kn(f.document.updateTime);var m=new Xn({mapValue:{fields:f.document.fields}}),w=(g=pn.newFoundDocument(d,p,m),f.targetIds||[]),_=f.removedTargetIds||[];l=new of(w,_,g.key,g)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=ui(u,f.document),p=f.readTime?kn(f.readTime):Ve.min(),m=pn.newNoDocument(d,p),g=f.removedTargetIds||[],l=new of([],g,m.key,m);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=ui(u,f.document),p=f.removedTargetIds||[],l=new of([],p,d,null);else{if(!("filter"in a))return ye();a.filter;var T=a.filter;T.targetId,f=T.count||0,d=new GM(f),p=T.targetId,l=new $A(p,d)}return l}(this.R,n),o=function(u){if(!("targetChange"in u))return Ve.min();var a=u.targetChange;return a.targetIds&&a.targetIds.length?Ve.min():a.readTime?kn(a.readTime):Ve.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=Qa(this.R),i.addTarget=function(u,a){var l,f=a.target;return(l=kf(f)?{documents:XA(u,f)}:{query:QA(u,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=HA(u,a.resumeToken):a.snapshotVersion.compareTo(Ve.min())>0&&(l.readTime=Wa(u,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(u,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ye()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=Qa(this.R),i.removeTarget=n,this.cr(i)},t}(w1),ZF=function(e){function t(n,i,o,u,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=u,l.gr=!1,l}return Te(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Re(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(u,a){return u&&u.length>0?(Re(a!==void 0),u.map(function(l){return function(f,d){var p=f.updateTime?kn(f.updateTime):kn(d);return p.isEqual(Ve.min())&&(p=kn(d)),new KM(p,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=kn(n.commitTime);return this.listener.Tr(o,i)}return Re(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Qa(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return Rf(i.R,u)})};this.cr(o)},t}(w1),ej=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).credentials=n,u.Hi=i,u.R=o,u.Rr=!1,u}return Te(t,e),t.prototype.br=function(){if(this.Rr)throw new W(P.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new W(P.UNKNOWN,a.toString())})},t.prototype.$i=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new W(P.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),tj=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(jt(n),this.Vr=!1):ne("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),nj=function(e,t,n,i,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return $(u,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return Qi(this)?(ne("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return $(this,void 0,void 0,function(){var d;return B(this,function(p){switch(p.label){case 0:return(d=ue(f)).Or.add(4),[4,Tu(d)];case 1:return p.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Ic(d)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new tj(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(e){return $(this,void 0,void 0,function(){var t,n;return B(this,function(i){switch(i.label){case 0:if(!Qi(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Tu(e){return $(this,void 0,void 0,function(){var t,n;return B(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ah(e,t){var n=ue(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),fy(n)?ly(n):Au(n).er()&&cy(n,t))}function Ya(e,t){var n=ue(e),i=Au(n);n.$r.delete(t),i.er()&&_1(n,t),n.$r.size===0&&(i.er()?i.ir():Qi(n)&&n.Br.set("Unknown"))}function cy(e,t){e.qr.U(t.targetId),Au(e).mr(t)}function _1(e,t){e.qr.U(t),Au(e).yr(t)}function ly(e){e.qr=new eF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Au(e).start(),e.Br.Sr()}function fy(e){return Qi(e)&&!Au(e).tr()&&e.$r.size>0}function Qi(e){return ue(e).Or.size===0}function E1(e){e.qr=void 0}function rj(e){return $(this,void 0,void 0,function(){return B(this,function(t){return e.$r.forEach(function(n,i){cy(e,n)}),[2]})})}function ij(e,t){return $(this,void 0,void 0,function(){return B(this,function(n){return E1(e),fy(e)?(e.Br.Nr(t),ly(e)):e.Br.set("Unknown"),[2]})})}function oj(e,t,n){return $(this,void 0,void 0,function(){var i,o,u;return B(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof KA&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return $(this,void 0,void 0,function(){var d,p,g,m;return B(this,function(w){switch(w.label){case 0:d=f.cause,p=0,g=f.targetIds,w.label=1;case 1:return p<g.length?(m=g[p],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,d)]:[3,3]):[3,5];case 2:w.sent(),l.$r.delete(m),l.qr.removeTarget(m),w.label=3;case 3:w.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),ne("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Lf(e,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof of?e.qr.X(t):t instanceof $A?e.qr.rt(t):e.qr.et(t),n.isEqual(Ve.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,v1(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(p,g){if(p.resumeToken.approximateByteSize()>0){var m=l.$r.get(g);m&&l.$r.set(g,m.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach(function(p){var g=l.$r.get(p);if(g){l.$r.set(p,g.withResumeToken(jn.EMPTY_BYTE_STRING,g.snapshotVersion)),_1(l,p);var m=new Th(g.target,p,1,g.sequenceNumber);cy(l,m)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ne("RemoteStore","Failed to raise snapshot:",u=a.sent()),[4,Lf(e,u)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Lf(e,t,n){return $(this,void 0,void 0,function(){var i=this;return B(this,function(o){switch(o.label){case 0:if(!Jo(t))throw t;return e.Or.add(1),[4,Tu(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return v1(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return $(i,void 0,void 0,function(){return B(this,function(u){switch(u.label){case 0:return ne("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),e.Or.delete(1),[4,Ic(e)];case 2:return u.sent(),[2]}})})}),[2]}})})}function I1(e,t){return t().catch(function(n){return Lf(e,n,t)})}function Su(e){return $(this,void 0,void 0,function(){var t,n,i,o,u;return B(this,function(a){switch(a.label){case 0:t=ue(e),n=zi(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Qi(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,FF(t.localStore,i)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=zi(l);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return u=a.sent(),[4,Lf(t,u)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return T1(t)&&S1(t),[2]}})})}function T1(e){return Qi(e)&&!zi(e).tr()&&e.Fr.length>0}function S1(e){zi(e).start()}function sj(e){return $(this,void 0,void 0,function(){return B(this,function(t){return zi(e).Ar(),[2]})})}function uj(e){return $(this,void 0,void 0,function(){var t,n,i,o;return B(this,function(u){for(t=zi(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function aj(e,t,n){return $(this,void 0,void 0,function(){var i,o;return B(this,function(u){switch(u.label){case 0:return i=e.Fr.shift(),o=yF.from(i,t,n),[4,I1(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return u.sent(),[4,Su(e)];case 2:return u.sent(),[2]}})})}function cj(e,t){return $(this,void 0,void 0,function(){return B(this,function(n){switch(n.label){case 0:return t&&zi(e).pr?[4,function(i,o){return $(this,void 0,void 0,function(){var u,a;return B(this,function(l){switch(l.label){case 0:return qA(a=o.code)&&a!==P.ABORTED?(u=i.Fr.shift(),zi(i).sr(),[4,I1(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Su(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return T1(e)&&S1(e),[2]}})})}function Pg(e,t){return $(this,void 0,void 0,function(){var n;return B(this,function(i){switch(i.label){case 0:return n=ue(e),t?(n.Or.delete(2),[4,Ic(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Tu(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Au(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var u=ue(n);return u.br(),new JF(i,u.Hi,u.credentials,u.R,o)}(e.datastore,e.asyncQueue,{Ii:rj.bind(null,e),Ri:ij.bind(null,e),_r:oj.bind(null,e)}),e.Mr.push(function(n){return $(t,void 0,void 0,function(){return B(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),fy(e)?ly(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),E1(e),i.label=3;case 3:return[2]}})})})),e.Ur}function zi(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var u=ue(n);return u.br(),new ZF(i,u.Hi,u.credentials,u.R,o)}(e.datastore,e.asyncQueue,{Ii:sj.bind(null,e),Ri:cj.bind(null,e),Ir:uj.bind(null,e),Tr:aj.bind(null,e)}),e.Mr.push(function(n){return $(t,void 0,void 0,function(){return B(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,Su(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(ne("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var lj=function(){function e(t,n,i,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,i,o,u){var a=new e(t,n,Date.now()+i,o,u);return a.start(i),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function ku(e,t){if(jt("AsyncQueue",t+": "+e),Jo(e))return new W(P.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A1=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||we.comparator(n.key,i.key)}:function(n,i){return we.comparator(n.key,i.key)},this.keyedMap=Ng(),this.sortedSet=new vn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),ZE=function(){function e(){this.Qr=new vn(we.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ye():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),Mf=function(){function e(t,n,i,o,u,a,l,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var u=[];return n.forEach(function(a){u.push({type:0,doc:a})}),new e(t,n,A1.emptySet(n),u,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),fj=function(){this.Wr=void 0,this.listeners=[]},hj=function(){this.queries=new Iu(function(e){return CA(e)},yc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(e,t){return $(this,void 0,void 0,function(){var n,i,o,u,a,l,f;return B(this,function(d){switch(d.label){case 0:if(n=ue(e),i=t.query,o=!1,(u=n.queries.get(i))||(o=!0,u=new fj),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=u,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=ku(l,"Initialization of query '"+kg(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,u),u.listeners.push(t),t.zr(n.onlineState),u.Wr&&t.Hr(u.Wr)&&py(n),[2]}})})}function dy(e,t){return $(this,void 0,void 0,function(){var n,i,o,u,a;return B(this,function(l){return n=ue(e),i=t.query,o=!1,(u=n.queries.get(i))&&(a=u.listeners.indexOf(t))>=0&&(u.listeners.splice(a,1),o=u.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function dj(e,t){for(var n=ue(e),i=!1,o=0,u=t;o<u.length;o++){var a=u[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,p=f.listeners;d<p.length;d++)p[d].Hr(a)&&(i=!0);f.Wr=a}}i&&py(n)}function pj(e,t,n){var i=ue(e),o=i.queries.get(t);if(o)for(var u=0,a=o.listeners;u<a.length;u++)a[u].onError(n);i.queries.delete(t)}function py(e){e.Gr.forEach(function(t){t.next()})}var vy=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}t=new Mf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Mf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k1=function(e){this.key=e},x1=function(e){this.key=e},N1=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=dt(),this.mutatedKeys=dt(),this.lo=OA(t),this.fo=new A1(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new ZE,u=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=u,f=!1,d=nf(this.query)&&u.size===this.query.limit?u.last():null,p=Nf(this.query)&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal(function(m,w){var _=u.get(m),T=bc(i.query,w)?w:null,A=!!_&&i.mutatedKeys.has(_.key),C=!!T&&(T.hasLocalMutations||i.mutatedKeys.has(T.key)&&T.hasCommittedMutations),O=!1;_&&T?_.data.isEqual(T.data)?A!==C&&(o.track({type:3,doc:T}),O=!0):i.yo(_,T)||(o.track({type:2,doc:T}),O=!0,(d&&i.lo(T,d)>0||p&&i.lo(T,p)<0)&&(f=!0)):!_&&T?(o.track({type:0,doc:T}),O=!0):_&&!T&&(o.track({type:1,doc:_}),O=!0,(d||p)&&(f=!0)),O&&(T?(l=l.add(T),a=C?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),nf(this.query)||Nf(this.query))for(;l.size>this.query.limit;){var g=nf(this.query)?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),o.track({type:1,doc:g})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,u=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,g){return function(m,w){var _=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return _(m)-_(w)}(p.type,g.type)||o.lo(p.doc,g.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new Mf(this.query,t.fo,u,a,t.mutatedKeys,f===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ZE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=dt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new x1(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new k1(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=dt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Mf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),vj=function(e,t,n){this.query=e,this.targetId=t,this.view=n},gj=function(e){this.key=e,this.bo=!1},mj=function(){function e(t,n,i,o,u,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Iu(function(l){return CA(l)},yc),this.Vo=new Map,this.So=new Set,this.Do=new vn(we.comparator),this.Co=new Map,this.No=new uy,this.xo={},this.ko=new Map,this.Fo=Of.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function yj(e,t){return $(this,void 0,void 0,function(){var n,i,o,u,a,l;return B(this,function(f){switch(f.label){case 0:return n=wy(e),(u=n.Po.get(t))?(i=u.targetId,n.sharedClientState.addLocalQueryTarget(i),o=u.view.Ro(),[3,4]):[3,1];case 1:return[4,Pf(n.localStore,Xr(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,gy(n,t,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Ah(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function gy(e,t,n,i){return $(this,void 0,void 0,function(){var o,u,a,l,f,d;return B(this,function(p){switch(p.label){case 0:return e.Oo=function(g,m,w){return function(_,T,A,C){return $(this,void 0,void 0,function(){var O,F,V;return B(this,function(ee){switch(ee.label){case 0:return O=T.view._o(A),O.Nn?[4,Df(_.localStore,T.query,!1).then(function(j){var me=j.documents;return T.view._o(me,O)})]:[3,2];case 1:O=ee.sent(),ee.label=2;case 2:return F=C&&C.targetChanges.get(T.targetId),V=T.view.applyChanges(O,_.isPrimaryClient,F),[2,(Dg(_,T.targetId,V.To),V.snapshot)]}})})}(e,g,m,w)},[4,Df(e.localStore,t,!0)];case 1:return o=p.sent(),u=new N1(t,o.Bn),a=u._o(o.documents),l=ey.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=u.applyChanges(a,e.isPrimaryClient,l),Dg(e,n,f.To),d=new vj(t,n,u),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function bj(e,t){return $(this,void 0,void 0,function(){var n,i,o;return B(this,function(u){switch(u.label){case 0:return n=ue(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!yc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,lu(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Ya(n.remoteStore,i.targetId),fu(n,i.targetId)}).catch(Zo)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return fu(n,i.targetId),[4,lu(n.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function wj(e,t,n){return $(this,void 0,void 0,function(){var i,o,u,a;return B(this,function(l){switch(l.label){case 0:i=_y(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var p,g=ue(f),m=Mn.now(),w=d.reduce(function(_,T){return _.add(T.key)},dt());return g.persistence.runTransaction("Locally write mutations","readwrite",function(_){return g.Mn.pn(_,w).next(function(T){p=T;for(var A=[],C=0,O=d;C<O.length;C++){var F=O[C],V=zM(F,p.get(F.key));V!=null&&A.push(new Xi(F.key,V,kA(V.value.mapValue),hn.exists(!0)))}return g._n.addMutationBatch(_,m,A,d)})}).then(function(_){return _.applyToLocalDocumentSet(p),{batchId:_.batchId,changes:p}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,p){var g=f.xo[f.currentUser.toKey()];g||(g=new vn(He)),g=g.insert(d,p),f.xo[f.currentUser.toKey()]=g}(i,o.batchId,n),[4,Yi(i,o.changes)];case 3:return l.sent(),[4,Su(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return u=l.sent(),a=ku(u,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function R1(e,t){return $(this,void 0,void 0,function(){var n,i;return B(this,function(o){switch(o.label){case 0:n=ue(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,LF(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(u,a){var l=n.Co.get(a);l&&(Re(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?l.bo=!0:u.modifiedDocuments.size>0?Re(l.bo):u.removedDocuments.size>0&&(Re(l.bo),l.bo=!1))}),[4,Yi(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,Zo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function eI(e,t,n){var i=ue(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(u,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(u,a){var l=ue(u);l.onlineState=a;var f=!1;l.queries.forEach(function(d,p){for(var g=0,m=p.listeners;g<m.length;g++)m[g].zr(a)&&(f=!0)}),f&&py(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function _j(e,t,n){return $(this,void 0,void 0,function(){var i,o,u,a,l,f;return B(this,function(d){switch(d.label){case 0:return(i=ue(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(u=o&&o.key)?(a=(a=new vn(we.comparator)).insert(u,pn.newNoDocument(u,Ve.min())),l=dt().add(u),f=new Zm(Ve.min(),new Map,new Gt(He),a,l),[4,R1(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(u),i.Co.delete(t),by(i),[3,4];case 2:return[4,lu(i.localStore,t,!1).then(function(){return fu(i,t,n)}).catch(Zo)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function Ej(e,t){return $(this,void 0,void 0,function(){var n,i,o;return B(this,function(u){switch(u.label){case 0:n=ue(e),i=t.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,DF(n.localStore,t)];case 2:return o=u.sent(),yy(n,i,null),my(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Yi(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,Zo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function Ij(e,t,n){return $(this,void 0,void 0,function(){var i,o;return B(this,function(u){switch(u.label){case 0:i=ue(e),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(a,l){var f=ue(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var p;return f._n.lookupMutationBatch(d,l).next(function(g){return Re(g!==null),p=g.keys(),f._n.removeMutationBatch(d,g)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,p)})})}(i.localStore,t)];case 2:return o=u.sent(),yy(i,t,n),my(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Yi(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,Zo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function Tj(e,t){return $(this,void 0,void 0,function(){var n,i,o,u,a;return B(this,function(l){switch(l.label){case 0:Qi((n=ue(e)).remoteStore)||ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=ue(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return d._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return u=l.sent(),a=ku(u,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function my(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function yy(e,t,n){var i=ue(e),o=i.xo[i.currentUser.toKey()];if(o){var u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function fu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var u=o[i];e.Po.delete(u),n&&e.vo.Mo(u,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||C1(e,a)})}function C1(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Ya(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),by(e))}function Dg(e,t,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof k1?(e.No.addReference(u.key,t),Sj(e,u)):u instanceof x1?(ne("SyncEngine","Document no longer in limbo: "+u.key),e.No.removeReference(u.key,t),e.No.containsKey(u.key)||C1(e,u.key)):ye()}}function Sj(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(ne("SyncEngine","New document in limbo: "+n),e.So.add(i),by(e))}function by(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new we(rt.fromString(t)),i=e.Fo.next();e.Co.set(i,new gj(n)),e.Do=e.Do.insert(n,i),Ah(e.remoteStore,new Th(Xr(mc(n.path)),i,2,Yn.o))}}function Yi(e,t,n){return $(this,void 0,void 0,function(){var i,o,u,a;return B(this,function(l){switch(l.label){case 0:return i=ue(e),o=[],u=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,t,n).then(function(p){if(p){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,p.fromCache?"not-current":"current"),o.push(p);var g=OF.Pn(d.targetId,p);u.push(g)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return $(this,void 0,void 0,function(){var p,g,m,w,_,T,A,C,O;return B(this,function(F){switch(F.label){case 0:p=ue(f),F.label=1;case 1:return F.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(V){return Y.forEach(d,function(ee){return Y.forEach(ee.bn,function(j){return p.persistence.referenceDelegate.addReference(V,ee.targetId,j)}).next(function(){return Y.forEach(ee.vn,function(j){return p.persistence.referenceDelegate.removeReference(V,ee.targetId,j)})})})})];case 2:return F.sent(),[3,4];case 3:if(!Jo(g=F.sent()))throw g;return ne("LocalStore","Failed to update sequence numbers: "+g),[3,4];case 4:for(m=0,w=d;m<w.length;m++)_=w[m],T=_.targetId,_.fromCache||(A=p.kn.get(T),C=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(C),p.kn=p.kn.insert(T,O));return[2]}})})}(i.localStore,u)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Aj(e,t){return $(this,void 0,void 0,function(){var n,i;return B(this,function(o){switch(o.label){case 0:return(n=ue(e)).currentUser.isEqual(t)?[3,3]:(ne("SyncEngine","User change. New user:",t.toKey()),[4,p1(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(u,a){u.ko.forEach(function(l){l.forEach(function(f){f.reject(new W(P.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Yi(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function kj(e,t){var n=ue(e),i=n.Co.get(t);if(i&&i.bo)return dt().add(i.key);var o=dt(),u=n.Vo.get(t);if(!u)return o;for(var a=0,l=u;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function xj(e,t){return $(this,void 0,void 0,function(){var n,i,o;return B(this,function(u){switch(u.label){case 0:return[4,Df((n=ue(e)).localStore,t.query,!0)];case 1:return i=u.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Dg(n,t.targetId,o.To),o)]}})})}function Nj(e){return $(this,void 0,void 0,function(){var t;return B(this,function(n){return[2,m1((t=ue(e)).localStore).then(function(i){return Yi(t,i)})]})})}function Rj(e,t,n,i){return $(this,void 0,void 0,function(){var o,u;return B(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=ue(l),p=ue(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(g){return p.jt(g,f).next(function(m){return m?d.Mn.pn(g,m):Y.resolve(null)})})}((o=ue(e)).localStore,t)];case 1:return(u=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Su(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(yy(o,t,i||null),my(o,t),function(l,f){ue(ue(l)._n).Gt(f)}(o.localStore,t)):ye(),a.label=4;case 4:return[4,Yi(o,u)];case 5:return a.sent(),[3,7];case 6:ne("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function Cj(e,t){return $(this,void 0,void 0,function(){var n,i,o,u,a,l,f,d;return B(this,function(p){switch(p.label){case 0:return wy(n=ue(e)),_y(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,tI(n,i.toArray())]);case 1:return o=p.sent(),n.$o=!0,[4,Pg(n.remoteStore,!0)];case 2:for(p.sent(),u=0,a=o;u<a.length;u++)l=a[u],Ah(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(g,m){n.sharedClientState.isLocalQueryTarget(m)?f.push(m):d=d.then(function(){return fu(n,m),lu(n.localStore,m,!0)}),Ya(n.remoteStore,m)}),[4,d]);case 4:return p.sent(),[4,tI(n,f)];case 5:return p.sent(),function(g){var m=ue(g);m.Co.forEach(function(w,_){Ya(m.remoteStore,_)}),m.No.ts(),m.Co=new Map,m.Do=new vn(we.comparator)}(n),n.$o=!1,[4,Pg(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function tI(e,t,n){return $(this,void 0,void 0,function(){var i,o,u,a,l,f,d,p,g,m,w,_,T,A;return B(this,function(C){switch(C.label){case 0:i=ue(e),o=[],u=[],a=0,l=t,C.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(p=i.Vo.get(f))&&p.length!==0?[4,Pf(i.localStore,Xr(p[0]))]:[3,7]):[3,13];case 2:d=C.sent(),g=0,m=p,C.label=3;case 3:return g<m.length?(w=m[g],_=i.Po.get(w),[4,xj(i,_)]):[3,6];case 4:(T=C.sent()).snapshot&&u.push(T.snapshot),C.label=5;case 5:return g++,[3,3];case 6:return[3,11];case 7:return[4,g1(i.localStore,f)];case 8:return A=C.sent(),[4,Pf(i.localStore,A)];case 9:return d=C.sent(),[4,gy(i,O1(A),f,!1)];case 10:C.sent(),C.label=11;case 11:o.push(d),C.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(u),o)]}})})}function O1(e){return NA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Oj(e){var t=ue(e);return ue(ue(t.localStore).persistence).fn()}function Pj(e,t,n,i){return $(this,void 0,void 0,function(){var o,u,a;return B(this,function(l){switch(l.label){case 0:return(o=ue(e)).$o?(ne("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,m1(o.localStore)];case 3:return u=l.sent(),a=Zm.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Yi(o,u,a)];case 4:return l.sent(),[3,8];case 5:return[4,lu(o.localStore,t,!0)];case 6:return l.sent(),fu(o,t,i),[3,8];case 7:ye(),l.label=8;case 8:return[2]}})})}function Dj(e,t,n){return $(this,void 0,void 0,function(){var i,o,u,a,l,f,d,p,g,m;return B(this,function(w){switch(w.label){case 0:if(!(i=wy(e)).$o)return[3,10];o=0,u=t,w.label=1;case 1:return o<u.length?(a=u[o],i.Vo.has(a)?(ne("SyncEngine","Adding an already active target "+a),[3,5]):[4,g1(i.localStore,a)]):[3,6];case 2:return l=w.sent(),[4,Pf(i.localStore,l)];case 3:return f=w.sent(),[4,gy(i,O1(l),f.targetId,!1)];case 4:w.sent(),Ah(i.remoteStore,f),w.label=5;case 5:return o++,[3,1];case 6:d=function(_){return B(this,function(T){switch(T.label){case 0:return i.Vo.has(_)?[4,lu(i.localStore,_,!1).then(function(){Ya(i.remoteStore,_),fu(i,_)}).catch(Zo)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},p=0,g=n,w.label=7;case 7:return p<g.length?(m=g[p],[5,d(m)]):[3,10];case 8:w.sent(),w.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function wy(e){var t=ue(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=R1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_j.bind(null,t),t.vo._r=dj.bind(null,t.eventManager),t.vo.Mo=pj.bind(null,t.eventManager),t}function _y(e){var t=ue(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ej.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ij.bind(null,t),t}var P1=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return $(this,void 0,void 0,function(){return B(this,function(n){switch(n.label){case 0:return this.R=Sh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return d1(this.persistence,new h1,t.initialUser,this.R)},e.prototype.qo=function(t){return new KF(zF.bs,this.R)},e.prototype.Bo=function(t){return new y1},e.prototype.terminate=function(){return $(this,void 0,void 0,function(){return B(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),D1=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).Qo=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return Te(t,e),t.prototype.initialize=function(n){return $(this,void 0,void 0,function(){var i=this;return B(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,jF(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,_y(this.Qo.syncEngine)];case 4:return o.sent(),[4,Su(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return d1(this.persistence,new h1,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new SF(i,n.asyncQueue)},t.prototype.qo=function(n){var i=sy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Vr.withCacheSize(this.cacheSizeBytes):Vr.DEFAULT;return new CF(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,b1(),sf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new y1},t}(P1),Lj=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return Te(t,e),t.prototype.initialize=function(n){return $(this,void 0,void 0,function(){var i,o=this;return B(this,function(u){switch(u.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof jv?(this.sharedClientState.syncEngine={ui:Rj.bind(null,i),ai:Pj.bind(null,i),hi:Dj.bind(null,i),fn:Oj.bind(null,i),ci:Nj.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(a){return $(o,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return[4,Cj(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},t.prototype.Bo=function(n){var i=b1();if(!jv.yt(i))throw new W(P.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=sy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new jv(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(D1),Lg=function(){function e(){}return e.prototype.initialize=function(t,n){return $(this,void 0,void 0,function(){var i=this;return B(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return eI(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Aj.bind(null,this.syncEngine),[4,Pg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new hj},e.prototype.createDatastore=function(t){var n,i=Sh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new YF(n));return function(u,a,l){return new ej(u,a,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,u,a,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,u=function(f){return eI(l.syncEngine,f,0)},a=JE.yt()?new JE:new WF,new nj(n,i,o,u,a)},e.prototype.createSyncEngine=function(t,n){return function(i,o,u,a,l,f,d){var p=new mj(i,o,u,a,l,f);return d&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return $(this,void 0,void 0,function(){var n;return B(this,function(i){switch(i.label){case 0:return n=ue(t),ne("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Tu(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),Mj=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return $(this,void 0,void 0,function(){var n,i=this;return B(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new W(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,a){return $(this,void 0,void 0,function(){var l,f,d,p,g,m;return B(this,function(w){switch(w.label){case 0:return l=ue(u),f=Qa(l.R)+"/documents",d={documents:a.map(function(_){return Xa(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return p=w.sent(),g=new Map,p.forEach(function(_){var T=function(A,C){return"found"in C?function(O,F){Re(!!F.found),F.found.name,F.found.updateTime;var V=ui(O,F.found.name),ee=kn(F.found.updateTime),j=new Xn({mapValue:{fields:F.found.fields}});return pn.newFoundDocument(V,ee,j)}(A,C):"missing"in C?function(O,F){Re(!!F.missing),Re(!!F.readTime);var V=ui(O,F.missing),ee=kn(F.readTime);return pn.newNoDocument(V,ee)}(A,C):ye()}(l.R,_);g.set(T.key.toString(),T)}),m=[],[2,(a.forEach(function(_){var T=g.get(_.toString());Re(!!T),m.push(T)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(u){return i.recordVersion(u)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Ec(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return $(this,void 0,void 0,function(){var t,n=this;return B(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,u){var a=we.fromPath(u);n.mutations.push(new Jm(a,n.precondition(a)))}),[4,function(o,u){return $(this,void 0,void 0,function(){var a,l,f;return B(this,function(d){switch(d.label){case 0:return a=ue(o),l=Qa(a.R)+"/documents",f={writes:u.map(function(p){return Rf(a.R,p)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ye();n=Ve.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new W(P.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?hn.updateTime(n):hn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Ve.min()))throw new W(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hn.updateTime(n)}return hn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),Fj=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new ay(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return $(t,void 0,void 0,function(){var n,i,o=this;return B(this,function(u){return n=new Mj(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Yo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!qA(n)}return!1},e}(),jj=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Zt.UNAUTHENTICATED,this.clientId=_A.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return $(o,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return ne("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return a.sent(),this.user=u,[2]}})})})}return e.prototype.getConfiguration=function(){return $(this,void 0,void 0,function(){return B(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new W(P.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return $(t,void 0,void 0,function(){var i,o;return B(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=u.sent(),o=ku(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(e,t){return $(this,void 0,void 0,function(){var n,i,o=this;return B(this,function(u){switch(u.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=u.sent(),[4,t.initialize(n)];case 2:return u.sent(),i=n.initialUser,e.setCredentialChangeListener(function(a){return $(o,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,p1(t.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function M1(e,t){return $(this,void 0,void 0,function(){var n,i;return B(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Ey(e)];case 1:return n=o.sent(),ne("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(u){return function(a,l){return $(this,void 0,void 0,function(){var f,d;return B(this,function(p){switch(p.label){case 0:return(f=ue(a)).asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials"),d=Qi(f),f.Or.add(3),[4,Tu(f)];case 1:return p.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),f.Or.delete(3),[4,Ic(f)];case 3:return p.sent(),[2]}})})}(t.remoteStore,u)}),e.onlineComponents=t,[2]}})})}function Ey(e){return $(this,void 0,void 0,function(){return B(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ne("FirestoreClient","Using default OfflineComponentProvider"),[4,L1(e,new P1)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function xh(e){return $(this,void 0,void 0,function(){return B(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ne("FirestoreClient","Using default OnlineComponentProvider"),[4,M1(e,new Lg)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function nI(e){return Ey(e).then(function(t){return t.persistence})}function F1(e){return Ey(e).then(function(t){return t.localStore})}function rI(e){return xh(e).then(function(t){return t.remoteStore})}function j1(e){return xh(e).then(function(t){return t.syncEngine})}function hu(e){return $(this,void 0,void 0,function(){var t,n;return B(this,function(i){switch(i.label){case 0:return[4,xh(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=yj.bind(null,t.syncEngine),n.onUnlisten=bj.bind(null,t.syncEngine),n)]}})})}function iI(e,t,n){var i=this;n===void 0&&(n={});var o=new Un;return e.asyncQueue.enqueueAndForget(function(){return $(i,void 0,void 0,function(){var u;return B(this,function(a){switch(a.label){case 0:return u=function(l,f,d,p,g){var m=new kh({next:function(_){f.enqueueAndForget(function(){return dy(l,w)});var T=_.docs.has(d);!T&&_.fromCache?g.reject(new W(P.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&p&&p.source==="server"?g.reject(new W(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(_)},error:function(_){return g.reject(_)}}),w=new vy(mc(d.path),m,{includeMetadataChanges:!0,so:!0});return hy(l,w)},[4,hu(e)];case 1:return[2,u.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function oI(e,t,n){var i=this;n===void 0&&(n={});var o=new Un;return e.asyncQueue.enqueueAndForget(function(){return $(i,void 0,void 0,function(){var u;return B(this,function(a){switch(a.label){case 0:return u=function(l,f,d,p,g){var m=new kh({next:function(_){f.enqueueAndForget(function(){return dy(l,w)}),_.fromCache&&p.source==="server"?g.reject(new W(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(_)},error:function(_){return g.reject(_)}}),w=new vy(d,m,{includeMetadataChanges:!0,so:!0});return hy(l,w)},[4,hu(e)];case 1:return[2,u.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var Uj=function(e,t,n,i,o,u,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=a,this.useFetchStreams=l},Ff=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),sI=new Map,U1=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},uI=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Zt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Vj=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),qj=function(){function e(t){var n=this;this.currentUser=Zt.UNAUTHENTICATED,this.oc=new Un,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){ne("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(ne("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(ne("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Re(typeof o.accessToken=="string"),new U1(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return $(i,void 0,void 0,function(){return B(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Re(t===null||typeof t=="string"),new Zt(t)},e}(),Bj=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=Zt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),$j=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new Bj(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Zt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(e,t,n){if(!n)throw new W(P.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Ty(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new W(P.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function V1(e,t,n,i){if(t===!0&&i===!0)throw new W(P.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function aI(e){if(!we.isDocumentKey(e))throw new W(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function cI(e){if(we.isDocumentKey(e))throw new W(P.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Nh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ye()}function it(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new W(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Nh(e);throw new W(P.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function lI(e,t){if(t<=0)throw new W(P.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fI=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new W(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new W(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,V1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Ja=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fI({}),this._settingsFrozen=!1,t instanceof Ff?(this._databaseId=t,this._credentials=new uI):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new W(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ff(i.options.projectId)}(t),this._credentials=new qj(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new W(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new W(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fI(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new uI;switch(n.type){case"gapi":var i=n.client;return Re(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new $j(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new W(P.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=sI.get(t))&&(ne("ComponentProvider","Removing Datastore"),sI.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Tt=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new $i(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),er=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),$i=function(e){function t(n,i,o){var u=this;return(u=e.call(this,n,i,mc(o))||this)._path=o,u.type="collection",u}return Te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Tt(this.firestore,null,new we(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(er);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=lt(e),Iy("collection","path",t),e instanceof Ja)return cI(n=rt.fromString.apply(rt,_t([t],i))),new $i(e,null,n);if(!(e instanceof Tt||e instanceof $i))throw new W(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cI(n=rt.fromString.apply(rt,_t([e.path],i)).child(rt.fromString(t))),new $i(e.firestore,null,n)}function uf(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=lt(e),arguments.length===1&&(t=_A.u()),Iy("doc","path",t),e instanceof Ja)return aI(n=rt.fromString.apply(rt,_t([t],i))),new Tt(e,null,new we(n));if(!(e instanceof Tt||e instanceof $i))throw new W(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return aI(n=e._path.child(rt.fromString.apply(rt,_t([t],i)))),new Tt(e.firestore,e instanceof $i?e.converter:null,new we(n))}function B1(e,t){return e=lt(e),t=lt(t),(e instanceof Tt||e instanceof $i)&&(t instanceof Tt||t instanceof $i)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function $1(e,t){return e=lt(e),t=lt(t),e instanceof er&&t instanceof er&&e.firestore===t.firestore&&yc(e._query,t._query)&&e.converter===t.converter}var Kj=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ay(this,"async_queue_retry"),this.Ic=function(){var i=sf();i&&ne("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=sf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=sf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Un;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return $(this,void 0,void 0,function(){var t,n=this;return B(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Jo(t=i.sent()))throw t;return ne("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,jt("INTERNAL UNHANDLED ERROR: ",function(u){var a=u.message||"";return u.stack&&(a=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var u=lj.createAndSchedule(this,t,n,i,function(a){return o.vc(a)});return this.mc.push(u),u},e.prototype.Ac=function(){this.yc&&ye()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return $(this,void 0,void 0,function(){var t;return B(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var u=o[i];if(u.skipDelay(),t!=="all"&&u.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function du(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,u=["next","error","complete"];o<u.length;o++){var a=u[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(e)}var Hj=-1,zt=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new Kj,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Te(t,e),t.prototype._terminate=function(){return this._firestoreClient||K1(this),this._firestoreClient.terminate()},t}(Ja);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(e){return e._firestoreClient||K1(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function K1(e){var t,n=e._freezeSettings(),i=function(o,u,a,l){return new Uj(o,u,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new jj(e._credentials,e._queue,i)}function hI(e,t,n){var i=this,o=new Un;return e.asyncQueue.enqueue(function(){return $(i,void 0,void 0,function(){var u;return B(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,L1(e,n)];case 1:return a.sent(),[4,M1(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===P.FAILED_PRECONDITION||l.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(u=a.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function dI(e){if(e._initialized||e._terminated)throw new W(P.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new W(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Go=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(jn.fromBase64String(t))}catch(n){throw new W(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(jn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),es=function(e){this._methodName=e},Rh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new W(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new W(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return He(this._lat,t._lat)||He(this._long,t._long)},e}(),zj=/^__.*__$/,Gj=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Xi(t,this.data,this.fieldMask,n,this.fieldTransforms):new _c(t,this.data,n,this.fieldTransforms)},e}(),H1=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new Xi(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}var G1=function(){function e(t,n,i,o,u,a){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return jf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(z1(this.Nc)&&zj.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),Wj=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||Sh(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new G1({Nc:t,methodName:n,qc:i,path:xr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ts(e){var t=e._freezeSettings(),n=Sh(e._databaseId);return new Wj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ch(e,t,n,i,o,u){u===void 0&&(u={});var a=e.Uc(u.merge||u.mergeFields?2:0,t,n,o);xy("Data must be an object, but it was:",a,i);var l,f,d=Q1(i,a);if(u.merge)l=new Zs(a.fieldMask),f=a.fieldTransforms;else if(u.mergeFields){for(var p=[],g=0,m=u.mergeFields;g<m.length;g++){var w=Mg(t,m[g],n);if(!a.contains(w))throw new W(P.INVALID_ARGUMENT,"Field '"+w+"' is specified in your field mask but missing from your input data.");J1(p,w)||p.push(w)}l=new Zs(p),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new Gj(new Xn(d),l,f)}var Sy=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(es);function W1(e,t,n){return new G1({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Xj=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype._toFieldTransform=function(n){return new wc(n.path,new ru)},t.prototype.isEqual=function(n){return n instanceof t},t}(es),Qj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var i=W1(this,n,!0),o=this.Kc.map(function(a){return ns(a,i)}),u=new Ho(o);return new wc(n.path,u)},t.prototype.isEqual=function(n){return this===n},t}(es),Yj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var i=W1(this,n,!0),o=this.Kc.map(function(a){return ns(a,i)}),u=new zo(o);return new wc(n.path,u)},t.prototype.isEqual=function(n){return this===n},t}(es),Jj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var i=new iu(n.R,LA(n.R,this.Qc));return new wc(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(es);function Ay(e,t,n,i){var o=e.Uc(1,t,n);xy("Data must be an object, but it was:",o,i);var u=[],a=Xn.empty();Qo(i,function(f,d){var p=Ny(t,f,n);d=lt(d);var g=o.Oc(p);if(d instanceof Sy)u.push(p);else{var m=ns(d,g);m!=null&&(u.push(p),a.set(p,m))}});var l=new Zs(u);return new H1(a,l,o.fieldTransforms)}function ky(e,t,n,i,o,u){var a=e.Uc(1,t,n),l=[Mg(t,i,n)],f=[o];if(u.length%2!=0)throw new W(P.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<u.length;d+=2)l.push(Mg(t,u[d])),f.push(u[d+1]);for(var p=[],g=Xn.empty(),m=l.length-1;m>=0;--m)if(!J1(p,l[m])){var w=l[m],_=f[m];_=lt(_);var T=a.Oc(w);if(_ instanceof Sy)p.push(w);else{var A=ns(_,T);A!=null&&(p.push(w),g.set(w,A))}}var C=new Zs(p);return new H1(g,C,a.fieldTransforms)}function X1(e,t,n,i){return i===void 0&&(i=!1),ns(n,e.Uc(i?4:3,t))}function ns(e,t){if(Y1(e=lt(e)))return xy("Unsupported field value:",t,e),Q1(e,t);if(e instanceof es)return function(n,i){if(!z1(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,a=0,l=n;a<l.length;a++){var f=ns(l[a],i.Mc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=lt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return LA(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Mn.fromDate(n);return{timestampValue:Wa(i.R,o)}}if(n instanceof Mn)return o=new Mn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Wa(i.R,o)};if(n instanceof Rh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Go)return{bytesValue:HA(i.R,n._byteString)};if(n instanceof Tt){o=i.databaseId;var u=n.firestore._databaseId;if(!u.isEqual(o))throw i.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:ty(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+Nh(n))}(e,t)}function Q1(e,t){var n={};return IA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qo(e,function(i,o){var u=ns(o,t.kc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function Y1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Mn||e instanceof Rh||e instanceof Go||e instanceof Tt||e instanceof es)}function xy(e,t,n){if(!Y1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=Nh(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function Mg(e,t,n){if((t=lt(t))instanceof Hr)return t._internalPath;if(typeof t=="string")return Ny(e,t);throw jf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Zj=new RegExp("[~\\*/\\[\\]]");function Ny(e,t,n){if(t.search(Zj)>=0)throw jf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Hr.bind.apply(Hr,_t([void 0],t.split("."))))()._internalPath}catch{throw jf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function jf(e,t,n,i,o){var u=i&&!i.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(u||a)&&(f+=" (found",u&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new W(P.INVALID_ARGUMENT,(l+=". ")+e+f)}function J1(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Za=function(){function e(t,n,i,o,u){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Tt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new eU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Uf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),eU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Za);function Uf(e,t){return typeof t=="string"?Ny(e,t):t instanceof Hr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ci=function(e){function t(n,i,o,u,a,l){var f=this;return(f=e.call(this,n,i,o,u,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return Te(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Na(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(Uf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(Za),Na=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ci),Fi=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ro(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new Na(i._firestore,i._userDataWriter,o.key,o,new Ro(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Na(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ro(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Na(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ro(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:tU(l.type),doc:f,oldIndex:d,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function tU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}function Z1(e,t){return e instanceof ci&&t instanceof ci?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Fi&&t instanceof Fi&&e._firestore===t._firestore&&$1(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(e){if(Nf(e)&&e.explicitOrderBy.length===0)throw new W(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tc=function(){};function xi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var u=o[i];e=u._apply(e)}return e}var nU=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).jc=n,u.Wc=i,u.Gc=o,u.type="where",u}return Te(t,e),t.prototype._apply=function(n){var i=ts(n.firestore),o=function(u,a,l,f,d,p,g){var m;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new W(P.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){yI(g,p);for(var w=[],_=0,T=g;_<T.length;_++){var A=T[_];w.push(mI(f,u,A))}m={arrayValue:{values:w}}}else m=mI(f,u,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||yI(g,p),m=X1(l,"where",g,p==="in"||p==="not-in");var C=Jn.create(d,p,m);return function(O,F){if(F.g()){var V=Qm(O);if(V!==null&&!V.isEqual(F.field))throw new W(P.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+V.toString()+"' and '"+F.field.toString()+"'");var ee=Xm(O);ee!==null&&nk(O,F.field,ee)}var j=function(me,H){for(var ie=0,k=me.filters;ie<k.length;ie++){var Xe=k[ie];if(H.indexOf(Xe.op)>=0)return Xe.op}return null}(O,function(me){switch(me){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(F.op));if(j!==null)throw j===F.op?new W(P.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+F.op.toString()+"' filter."):new W(P.INVALID_ARGUMENT,"Invalid query. You cannot use '"+F.op.toString()+"' filters with '"+j.toString()+"' filters.")}(u,C),C}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new er(n.firestore,n.converter,function(u,a){var l=u.filters.concat([a]);return new di(u.path,u.collectionGroup,u.explicitOrderBy.slice(),l,u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))},t}(Tc),rU=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return Te(t,e),t.prototype._apply=function(n){var i=function(o,u,a){if(o.startAt!==null)throw new W(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new W(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new $s(u,a);return function(f,d){if(Xm(f)===null){var p=Qm(f);p!==null&&nk(f,p,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new er(n.firestore,n.converter,function(o,u){var a=o.explicitOrderBy.concat([u]);return new di(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Tc),pI=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Hc=i,u.Jc=o,u}return Te(t,e),t.prototype._apply=function(n){return new er(n.firestore,n.converter,RA(n._query,this.Hc,this.Jc))},t}(Tc),vI=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Te(t,e),t.prototype._apply=function(n){var i=tk(n,this.type,this.Yc,this.Xc);return new er(n.firestore,n.converter,function(o,u){return new di(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(n._query,i))},t}(Tc),gI=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Te(t,e),t.prototype._apply=function(n){var i=tk(n,this.type,this.Yc,this.Xc);return new er(n.firestore,n.converter,function(o,u){return new di(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(n._query,i))},t}(Tc);function tk(e,t,n,i){if(n[0]=lt(n[0]),n[0]instanceof Za)return function(u,a,l,f,d){if(!f)throw new W(P.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],g=0,m=nu(u);g<m.length;g++){var w=m[g];if(w.field.isKeyField())p.push(Af(a,f.key));else{var _=f.data.field(w.field);if(zm(_))throw new W(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var T=w.field.canonicalString();throw new W(P.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+T+"' (used as the orderBy) does not exist.")}p.push(_)}}return new Ga(p,d)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=ts(e.firestore);return function(u,a,l,f,d,p){var g=u.explicitOrderBy;if(d.length>g.length)throw new W(P.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],w=0;w<d.length;w++){var _=d[w];if(g[w].field.isKeyField()){if(typeof _!="string")throw new W(P.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!Ym(u)&&_.indexOf("/")!==-1)throw new W(P.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var T=u.path.child(rt.fromString(_));if(!we.isDocumentKey(T))throw new W(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+T+"' is not because it contains an odd number of segments.");var A=new we(T);m.push(Af(a,A))}else{var C=X1(l,f,_);m.push(C)}}return new Ga(m,p)}(e._query,e.firestore._databaseId,o,t,n,i)}function mI(e,t,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new W(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ym(t)&&n.indexOf("/")!==-1)throw new W(P.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(rt.fromString(n));if(!we.isDocumentKey(i))throw new W(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Af(e,new we(i))}if(n instanceof Tt)return Af(e,n._key);throw new W(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Nh(n)+".")}function yI(e,t){if(!Array.isArray(e)||e.length===0)throw new W(P.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new W(P.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function nk(e,t,n){if(!n.isEqual(t))throw new W(P.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ry=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Ko(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ft(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(eu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ye()}},e.prototype.convertObject=function(t,n){var i=this,o={};return Qo(t.fields,function(u,a){o[u]=i.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new Rh(Ft(t.latitude),Ft(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=SA(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ha(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Hi(t);return new Mn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=rt.fromString(t);Re(ZA(i));var o=new Ff(i.get(1),i.get(3)),u=new we(i.popFirst(5));return o.isEqual(n)||jt("Document "+u+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var iU=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Te(t,e),t.prototype.convertBytes=function(n){return new Go(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Tt(this.firestore,null,i)},t}(Ry),oU=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ts(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=ji(t,this._firestore),u=Oh(o.converter,n,i),a=Ch(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,hn.none())),this},e.prototype.update=function(t,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this._verifyNotCommitted();var a,l=ji(t,this._firestore);return a=typeof(n=lt(n))=="string"||n instanceof Hr?ky(this._dataReader,"WriteBatch.update",l._key,n,i,o):Ay(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,hn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=ji(t,this._firestore);return this._mutations=this._mutations.concat(new Ec(n._key,hn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new W(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(e,t){if((e=lt(e)).firestore!==t)throw new W(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Te(t,e),t.prototype.convertBytes=function(n){return new Go(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Tt(this.firestore,null,i)},t}(Ry);function bI(e,t,n){e=it(e,Tt);var i=it(e.firestore,zt),o=Oh(e.converter,t,n);return Sc(i,[Ch(ts(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,hn.none())])}function wI(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=it(e,Tt);var u=it(e.firestore,zt),a=ts(u);return Sc(u,[(typeof(t=lt(t))=="string"||t instanceof Hr?ky(a,"updateDoc",e._key,t,n,i):Ay(a,"updateDoc",e._key,t)).toMutation(e._key,hn.exists(!0))])}function rk(e){for(var t,n,i,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];e=lt(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||du(o[l])||(a=o[l],l++);var f,d,p,g={includeMetadataChanges:a.includeMetadataChanges};if(du(o[l])){var m=o[l];o[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),o[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),o[l+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}if(e instanceof Tt)d=it(e.firestore,zt),p=mc(e._key.path),f={next:function(T){o[l]&&o[l](Fg(d,e,T))},error:o[l+1],complete:o[l+2]};else{var w=it(e,er);d=it(w.firestore,zt),p=w._query;var _=new Mo(d);f={next:function(T){o[l]&&o[l](new Fi(d,_,w,T))},error:o[l+1],complete:o[l+2]},ek(e._query)}return function(T,A,C,O){var F=this,V=new kh(O),ee=new vy(A,V,C);return T.asyncQueue.enqueueAndForget(function(){return $(F,void 0,void 0,function(){var j;return B(this,function(me){switch(me.label){case 0:return j=hy,[4,hu(T)];case 1:return[2,j.apply(void 0,[me.sent(),ee])]}})})}),function(){V.Wo(),T.asyncQueue.enqueueAndForget(function(){return $(F,void 0,void 0,function(){var j;return B(this,function(me){switch(me.label){case 0:return j=dy,[4,hu(T)];case 1:return[2,j.apply(void 0,[me.sent(),ee])]}})})})}}(cn(d),p,g,f)}function Sc(e,t){return function(n,i){var o=this,u=new Un;return n.asyncQueue.enqueueAndForget(function(){return $(o,void 0,void 0,function(){var a;return B(this,function(l){switch(l.label){case 0:return a=wj,[4,j1(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,u])]}})})}),u.promise}(cn(e),t)}function Fg(e,t,n){var i=n.docs.get(t._key),o=new Mo(e);return new ci(e,o,t._key,i,new Ro(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sU=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return Te(t,e),t.prototype.get=function(n){var i=this,o=ji(n,this._firestore),u=new Mo(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new ci(i._firestore,u,o._key,a._document,new Ro(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=ts(t)}return e.prototype.get=function(t){var n=this,i=ji(t,this._firestore),o=new iU(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return ye();var a=u[0];if(a.isFoundDocument())return new Za(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new Za(n._firestore,o,i._key,null,i.converter);throw ye()})},e.prototype.set=function(t,n,i){var o=ji(t,this._firestore),u=Oh(o.converter,n,i),a=Ch(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var a,l=ji(t,this._firestore);return a=typeof(n=lt(n))=="string"||n instanceof Hr?ky(this._dataReader,"Transaction.update",l._key,n,i,o):Ay(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=ji(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){if(typeof Uint8Array>"u")throw new W(P.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function EI(){if(typeof atob>"u")throw new W(P.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ik=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return EI(),new e(Go.fromBase64String(t))},e.fromUint8Array=function(t){return _I(),new e(Go.fromUint8Array(t))},e.prototype.toBase64=function(){return EI(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return _I(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),uU=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){dI(i=it(i,zt));var u=cn(i),a=i._freezeSettings(),l=new Lg;return hI(u,l,new D1(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){dI(n=it(n,zt));var i=cn(n),o=n._freezeSettings(),u=new Lg;return hI(i,u,new Lj(u,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new W(P.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Un;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return $(i,void 0,void 0,function(){var u;return B(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return $(this,void 0,void 0,function(){var f;return B(this,function(d){switch(d.label){case 0:return uu.yt()?(f=l+"main",[4,uu.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(sy(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return u=a.sent(),o.reject(u),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),ok=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Ff||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Tf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,u,a,l){var f;l===void 0&&(l={});var d=(o=it(o,Ja))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==u&&Tf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:u+":"+a,ssl:!1})),l.mockUserToken){var p,g;if(typeof l.mockUserToken=="string")p=l.mockUserToken,g=Zt.MOCK_USER;else{p=hS(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new W(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Zt(m)}o._credentials=new Vj(new U1(p,g))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return $(n,void 0,void 0,function(){var i,o;return B(this,function(u){switch(u.label){case 0:return[4,nI(t)];case 1:return i=u.sent(),[4,rI(t)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=ue(a);return l.Or.delete(0),Ic(l)}(o))]}})})})}(cn(it(this._delegate,zt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return $(n,void 0,void 0,function(){var i,o;return B(this,function(u){switch(u.label){case 0:return[4,nI(t)];case 1:return i=u.sent(),[4,rI(t)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!1),function(a){return $(this,void 0,void 0,function(){var l;return B(this,function(f){switch(f.label){case 0:return(l=ue(a)).Or.add(0),[4,Tu(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(cn(it(this._delegate,zt)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&V1("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new Un;return t.asyncQueue.enqueueAndForget(function(){return $(n,void 0,void 0,function(){var o;return B(this,function(u){switch(u.label){case 0:return o=Tj,[4,j1(t)];case 1:return[2,o.apply(void 0,[u.sent(),i])]}})})}),i.promise}(cn(it(this._delegate,zt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,u){var a=this,l=new kh(u);return o.asyncQueue.enqueueAndForget(function(){return $(a,void 0,void 0,function(){var f;return B(this,function(d){switch(d.label){case 0:return f=function(p,g){ue(p).Gr.add(g),g.next()},[4,hu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return $(a,void 0,void 0,function(){var f;return B(this,function(d){switch(d.label){case 0:return f=function(p,g){ue(p).Gr.delete(g)},[4,hu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(cn(n=it(n,zt)),du(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new W(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Vf(this,q1(this._delegate,t))}catch(n){throw wn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Fo(this,uf(this._delegate,t))}catch(n){throw wn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Lh(this,function(n,i){if(n=it(n,Ja),Iy("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new W(P.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new er(n,null,function(o){return new di(rt.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw wn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(u,a){var l=this,f=new Un;return u.asyncQueue.enqueueAndForget(function(){return $(l,void 0,void 0,function(){var d;return B(this,function(p){switch(p.label){case 0:return[4,function(g){return xh(g).then(function(m){return m.datastore})}(u)];case 1:return d=p.sent(),new Fj(u.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(cn(i),function(u){return o(new sU(i,u))})}(this._delegate,function(i){return t(new sk(n,i))})},e.prototype.batch=function(){var t=this;return cn(this._delegate),new uk(new oU(this._delegate,function(n){return Sc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new W(P.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new W(P.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Ph=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Te(t,e),t.prototype.convertBytes=function(n){return new ik(new Go(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Fo.eu(i,this.firestore,null)},t}(Ry);function aU(e){var t;t=e,Sr.setLogLevel(t)}var sk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Ph(t)}return e.prototype.get=function(t){var n=this,i=Co(t);return this._delegate.get(i).then(function(o){return new ec(n._firestore,new ci(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=Co(t);return i?(Ty("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=Co(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,_t([l,n,i],u)),this},e.prototype.delete=function(t){var n=Co(t);return this._delegate.delete(n),this},e}(),uk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=Co(t);return i?(Ty("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=Co(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,_t([l,n,i],u)),this},e.prototype.delete=function(t){var n=Co(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Dh=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Na(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new tc(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var u=o.get(n);return u||(u=new e(t,new Ph(t),n),o.set(n,u)),u},e}();Dh.su=new WeakMap;var Fo=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ph(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new W(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Tt(n._delegate,i,new we(t)))},e.eu=function(t,n,i){return new e(n,new Tt(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Vf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Vf(this.firestore,q1(this._delegate,t))}catch(n){throw wn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=lt(t))instanceof Tt&&B1(this._delegate,t)},e.prototype.set=function(t,n){n=Ty("DocumentReference.set",n);try{return n?bI(this._delegate,t,n):bI(this._delegate,t)}catch(i){throw wn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?wI(this._delegate,t):wI.apply(void 0,_t([this._delegate,t,n],i))}catch(u){throw wn(u,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Sc(it((t=this._delegate).firestore,zt),[new Ec(t._key,hn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=ak(n),u=ck(n,function(a){return new ec(t.firestore,new ci(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return rk(this._delegate,o,u)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=it(i,Tt);var o=it(i.firestore,zt),u=cn(o),a=new Mo(o);return function(l,f){var d=this,p=new Un;return l.asyncQueue.enqueueAndForget(function(){return $(d,void 0,void 0,function(){var g;return B(this,function(m){switch(m.label){case 0:return g=function(w,_,T){return $(this,void 0,void 0,function(){var A,C;return B(this,function(O){switch(O.label){case 0:return O.trys.push([0,2,,3]),[4,function(F,V){var ee=ue(F);return ee.persistence.runTransaction("read document","readonly",function(j){return ee.Mn.mn(j,V)})}(w,_)];case 1:return(C=O.sent()).isFoundDocument()?T.resolve(C):C.isNoDocument()?T.resolve(null):T.reject(new W(P.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return A=O.sent(),C=ku(A,"Failed to get document '"+_+" from cache"),T.reject(C),[3,3];case 3:return[2]}})})},[4,F1(l)];case 1:return[2,g.apply(void 0,[m.sent(),f,p])]}})})}),p.promise}(u,i._key).then(function(l){return new ci(o,a,i._key,l,new Ro(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=it(i,Tt);var o=it(i.firestore,zt);return iI(cn(o),i._key,{source:"server"}).then(function(u){return Fg(o,i,u)})}(this._delegate):function(i){i=it(i,Tt);var o=it(i.firestore,zt);return iI(cn(o),i._key).then(function(u){return Fg(o,i,u)})}(this._delegate)).then(function(i){return new ec(n.firestore,new ci(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Dh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function wn(e,t,n){return e.message=e.message.replace(t,n),e}function ak(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!du(i))return i}return{}}function ck(e,t){var n,i,o;return{next:function(u){o.next&&o.next(t(u))},error:(n=(o=du(e[0])?e[0]:du(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var ec=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Fo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return Z1(this._delegate,t._delegate)},e}(),tc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(ec),Lh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ph(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,xi(this._delegate,function(o,u,a){var l=u,f=Uf("where",o);return new nU(f,l,a)}(t,n,i)))}catch(o){throw wn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,xi(this._delegate,function(i,o){o===void 0&&(o="asc");var u=o,a=Uf("orderBy",i);return new rU(a,u)}(t,n)))}catch(i){throw wn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,xi(this._delegate,function(n){return lI("limit",n),new pI("limit",n,"F")}(t)))}catch(n){throw wn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,xi(this._delegate,function(n){return lI("limitToLast",n),new pI("limitToLast",n,"L")}(t)))}catch(n){throw wn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new vI("startAt",i,!0)}).apply(void 0,t)))}catch(i){throw wn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new vI("startAfter",i,!1)}).apply(void 0,t)))}catch(i){throw wn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new gI("endBefore",i,!0)}).apply(void 0,t)))}catch(i){throw wn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new gI("endAt",i,!1)}).apply(void 0,t)))}catch(i){throw wn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return $1(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=it(i,er);var o=it(i.firestore,zt),u=cn(o),a=new Mo(o);return function(l,f){var d=this,p=new Un;return l.asyncQueue.enqueueAndForget(function(){return $(d,void 0,void 0,function(){var g;return B(this,function(m){switch(m.label){case 0:return g=function(w,_,T){return $(this,void 0,void 0,function(){var A,C,O,F,V;return B(this,function(ee){switch(ee.label){case 0:return ee.trys.push([0,2,,3]),[4,Df(w,_,!0)];case 1:return V=ee.sent(),A=new N1(_,V.Bn),C=A._o(V.documents),O=A.applyChanges(C,!1),T.resolve(O.snapshot),[3,3];case 2:return F=ee.sent(),V=ku(F,"Failed to execute query '"+_+" against cache"),T.reject(V),[3,3];case 3:return[2]}})})},[4,F1(l)];case 1:return[2,g.apply(void 0,[m.sent(),f,p])]}})})}),p.promise}(u,i._query).then(function(l){return new Fi(o,a,i,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=it(i,er);var o=it(i.firestore,zt),u=cn(o),a=new Mo(o);return oI(u,i._query,{source:"server"}).then(function(l){return new Fi(o,a,i,l)})}(this._delegate):function(i){i=it(i,er);var o=it(i.firestore,zt),u=cn(o),a=new Mo(o);return ek(i._query),oI(u,i._query).then(function(l){return new Fi(o,a,i,l)})}(this._delegate)).then(function(i){return new jg(n.firestore,new Fi(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=ak(n),u=ck(n,function(a){return new jg(t.firestore,new Fi(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return rk(this._delegate,o,u)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Dh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),cU=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new tc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),jg=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Lh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new tc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new cU(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new tc(i._firestore,o))})},e.prototype.isEqual=function(t){return Z1(this._delegate,t._delegate)},e}(),Vf=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return Te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Fo(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Fo(this.firestore,n===void 0?uf(this._delegate):uf(this._delegate,n))}catch(i){throw wn(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,u){var a=it(o.firestore,zt),l=uf(o),f=Oh(o.converter,u);return Sc(a,[Ch(ts(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,hn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Fo(i.firestore,o)})},t.prototype.isEqual=function(n){return B1(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Dh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Lh);function Co(e){return it(e,Tt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lU=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Hr.bind.apply(Hr,_t([void 0],t)))}return e.documentId=function(){return new e(xr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=lt(t))instanceof Hr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),fU=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new Xj("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Sy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new Qj("arrayUnion",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new Yj("arrayRemove",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new Jj("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),hU={Firestore:ok,GeoPoint:Rh,Timestamp:Mn,Blob:ik,Transaction:sk,WriteBatch:uk,DocumentReference:Fo,DocumentSnapshot:ec,Query:Lh,QueryDocumentSnapshot:tc,QuerySnapshot:jg,CollectionReference:Vf,FieldPath:lU,FieldValue:fU,setLogLevel:aU,CACHE_SIZE_UNLIMITED:Hj};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(e){(function(t,n){t.INTERNAL.registerComponent(new sc("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},hU)))})(e,function(t,n){return new ok(t,new zt(t,n),new uU)}),e.registerVersion("@firebase/firestore","2.4.1")}dU(ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lk="firebasestorage.googleapis.com",fk="storageBucket",pU=2*60*1e3,vU=10*60*1e3,qt=function(e){Te(t,e);function t(n,i){var o=e.call(this,Uv(n),"Firebase Storage: "+i+" ("+Uv(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return Uv(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(pS);function Uv(e){return"storage/"+e}function Cy(){var e="An unknown error occurred, please check the error payload for server response.";return new qt("unknown",e)}function gU(e){return new qt("object-not-found","Object '"+e+"' does not exist.")}function mU(e){return new qt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yU(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qt("unauthenticated",e)}function bU(){return new qt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function wU(e){return new qt("unauthorized","User does not have permission to access '"+e+"'.")}function _U(){return new qt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function hk(){return new qt("canceled","User canceled the upload/download.")}function EU(e){return new qt("invalid-url","Invalid URL '"+e+"'.")}function IU(e){return new qt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function TU(){return new qt("no-default-bucket","No default bucket found. Did you set the '"+fk+"' property when initializing the app?")}function dk(){return new qt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function SU(){return new qt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function AU(){return new qt("no-download-url","The given file does not have any download URLs.")}function Ks(e){return new qt("invalid-argument",e)}function pk(){return new qt("app-deleted","The Firebase app was deleted.")}function vk(e){return new qt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ra(e,t){return new qt("invalid-format","String does not match format '"+e+"': "+t)}function $l(e){throw new qt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Vv=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function gk(e,t){switch(e){case cr.RAW:return new Vv(mk(t));case cr.BASE64:case cr.BASE64URL:return new Vv(yk(e,t));case cr.DATA_URL:return new Vv(NU(t),RU(t))}throw Cy()}function mk(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var u=i,a=e.charCodeAt(++n);i=65536|(u&1023)<<10|a&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function xU(e){var t;try{t=decodeURIComponent(e)}catch{throw Ra(cr.DATA_URL,"Malformed data URL.")}return mk(t)}function yk(e,t){switch(e){case cr.BASE64:{var n=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(n||i){var o=n?"-":"_";throw Ra(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case cr.BASE64URL:{var u=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(u||a){var o=u?"+":"/";throw Ra(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=kU(t)}catch{throw Ra(e,"Invalid character found")}for(var f=new Uint8Array(l.length),d=0;d<l.length;d++)f[d]=l.charCodeAt(d);return f}var bk=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ra(cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;i!=null&&(this.base64=CU(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();function NU(e){var t=new bk(e);return t.base64?yk(cr.BASE64,t.rest):xU(t.rest)}function RU(e){var t=new bk(e);return t.contentType}function CU(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OU={STATE_CHANGED:"state_changed"},_n={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qv(e){switch(e){case"running":case"pausing":case"canceling":return _n.RUNNING;case"paused":return _n.PAUSED;case"success":return _n.SUCCESS;case"canceled":return _n.CANCELED;case"error":return _n.ERROR;default:return _n.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jo;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(jo||(jo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PU=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=jo.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=jo.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=jo.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,i,o){if(this.sent_)throw $l("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw $l("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw $l("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw $l("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function DU(){return new PU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LU=function(){function e(){}return e.prototype.createConnection=function(){return DU()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw IU(t)},e.makeFromUrl=function(t,n){var i=null,o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+o+a,"i"),f={bucket:1,path:3};function d(ie){ie.path_=decodeURIComponent(ie.path)}for(var p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",w=new RegExp("^https?://"+g+"/"+p+"/b/"+o+"/o"+m,"i"),_={bucket:1,path:3},T=n===lk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",C=new RegExp("^https?://"+T+"/"+o+"/"+A,"i"),O={bucket:1,path:2},F=[{regex:l,indices:f,postModify:u},{regex:w,indices:_,postModify:d},{regex:C,indices:O,postModify:d}],V=0;V<F.length;V++){var ee=F[V],j=ee.regex.exec(t);if(j){var me=j[ee.indices.bucket],H=j[ee.indices.path];H||(H=""),i=new e(me,H),ee.postModify(i);break}}if(i==null)throw EU(t);return i},e}(),MU=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(e,t,n){var i=1,o=null,u=!1,a=0;function l(){return a===2}var f=!1;function d(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];f||(f=!0,t.apply(null,_))}function p(_){o=setTimeout(function(){o=null,e(g,l())},_)}function g(_){for(var T=[],A=1;A<arguments.length;A++)T[A-1]=arguments[A];if(!f){if(_){d.call.apply(d,_t([null,_],T));return}var C=l()||u;if(C){d.call.apply(d,_t([null,_],T));return}i<64&&(i*=2);var O;a===1?(a=2,O=0):O=(i+Math.random())*1e3,p(O)}}var m=!1;function w(_){m||(m=!0,!f&&(o!==null?(_||(a=2),clearTimeout(o),p(0)):_||(a=1)))}return p(0),setTimeout(function(){u=!0,w(!0)},n),w}function jU(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(e){return e!==void 0}function VU(e){return typeof e=="function"}function qU(e){return typeof e=="object"&&!Array.isArray(e)}function Mh(e){return typeof e=="string"||e instanceof String}function II(e){return Oy()&&e instanceof Blob}function Oy(){return typeof Blob<"u"}function Ug(e,t,n,i){if(i<t)throw Ks("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>n)throw Ks("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(e,t){var n=t.match(/^(\w+):\/\/.+/),i=n==null?void 0:n[1],o=t;return i==null&&(o="https://"+t),o+"/v0"+e}function wk(e){var t=encodeURIComponent,n="?";for(var i in e)if(e.hasOwnProperty(i)){var o=t(i)+"="+t(e[i]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BU=function(){function e(t,n,i,o,u,a,l,f,d,p,g){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=u.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=p,this.timeout_=d,this.pool_=g,this.promise_=new Promise(function(w,_){m.resolve_=w,m.reject_=_,m.start_()})}return e.prototype.start_=function(){var t=this;function n(o,u){if(u){o(!1,new Kl(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(f){var d=f.loaded,p=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var f=a.getErrorCode()===jo.NO_ERROR,d=a.getStatus();if(!f||t.isRetryStatusCode_(d)){var p=a.getErrorCode()===jo.ABORT;o(!1,new Kl(!1,null,p));return}var g=t.successCodes_.indexOf(d)!==-1;o(!0,new Kl(g,a))})}function i(o,u){var a=t.resolve_,l=t.reject_,f=u.connection;if(u.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());UU(d)?a(d):a()}catch(g){l(g)}else if(f!==null){var p=Cy();p.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,p)):l(p)}else if(u.canceled){var p=t.appDelete_?pk():hk();l(p)}else{var p=_U();l(p)}}this.canceled_?i(!1,new Kl(!1,null,!0)):this.backoffId_=FU(n,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&jU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=[408,429],o=i.indexOf(t)!==-1,u=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||u},e}(),Kl=function(){function e(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}return e}();function $U(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function KU(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function HU(e,t){t&&(e["X-Firebase-GMPID"]=t)}function zU(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function GU(e,t,n,i,o,u){var a=wk(e.urlParams),l=e.url+a,f=Object.assign({},e.headers);return HU(f,t),$U(f,n),KU(f,u),zU(f,i),new BU(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function XU(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=WU();if(n!==void 0){for(var i=new n,o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}else{if(Oy())return new Blob(e);throw new qt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function QU(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Py=function(){function e(t,n){var i=0,o="";II(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(II(this.data_)){var i=this.data_,o=QU(i,t,n);return o===null?null:new e(o)}else{var u=new Uint8Array(this.data_.buffer,t,n-t);return new e(u,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Oy()){var i=t.map(function(f){return f instanceof e?f.data_:f});return new e(XU.apply(null,i))}else{var o=t.map(function(f){return Mh(f)?gk(cr.RAW,f).data:f.data_}),u=0;o.forEach(function(f){u+=f.byteLength});var a=new Uint8Array(u),l=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)a[l++]=f[d]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(e){var t;try{t=JSON.parse(e)}catch{return null}return qU(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function JU(e,t){var n=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?n:e+"/"+n}function _k(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(e,t){return t}var yn=function(){function e(t,n,i,o){this.server=t,this.local=n||t,this.writable=!!i,this.xform=o||ZU}return e}(),Hl=null;function eV(e){return!Mh(e)||e.length<2?e:_k(e)}function Fh(){if(Hl)return Hl;var e=[];e.push(new yn("bucket")),e.push(new yn("generation")),e.push(new yn("metageneration")),e.push(new yn("name","fullPath",!0));function t(u,a){return eV(a)}var n=new yn("name");n.xform=t,e.push(n);function i(u,a){return a!==void 0?Number(a):a}var o=new yn("size");return o.xform=i,e.push(o),e.push(new yn("timeCreated")),e.push(new yn("updated")),e.push(new yn("md5Hash",null,!0)),e.push(new yn("cacheControl",null,!0)),e.push(new yn("contentDisposition",null,!0)),e.push(new yn("contentEncoding",null,!0)),e.push(new yn("contentLanguage",null,!0)),e.push(new yn("contentType",null,!0)),e.push(new yn("metadata","customMetadata",!0)),Hl=e,Hl}function tV(e,t){function n(){var i=e.bucket,o=e.fullPath,u=new lr(i,o);return t._makeStorageReference(u)}Object.defineProperty(e,"ref",{get:n})}function nV(e,t,n){var i={};i.type="file";for(var o=n.length,u=0;u<o;u++){var a=n[u];i[a.local]=a.xform(i,t[a.server])}return tV(i,e),i}function Ek(e,t,n){var i=Dy(t);if(i===null)return null;var o=i;return nV(e,o,n)}function rV(e,t,n){var i=Dy(t);if(i===null||!Mh(i.downloadTokens))return null;var o=i.downloadTokens;if(o.length===0)return null;var u=encodeURIComponent,a=o.split(","),l=a.map(function(f){var d=e.bucket,p=e.fullPath,g="/b/"+u(d)+"/o/"+u(p),m=Ji(g,n),w=wk({alt:"media",token:f});return m+w});return l[0]}function Ly(e,t){for(var n={},i=t.length,o=0;o<i;o++){var u=t[o];u.writable&&(n[u.server]=e[u.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TI="prefixes",SI="items";function iV(e,t,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[TI])for(var o=0,u=n[TI];o<u.length;o++){var a=u[o],l=a.replace(/\/$/,""),f=e._makeStorageReference(new lr(t,l));i.prefixes.push(f)}if(n[SI])for(var d=0,p=n[SI];d<p.length;d++){var g=p[d],f=e._makeStorageReference(new lr(t,g.name));i.items.push(f)}return i}function oV(e,t,n){var i=Dy(n);if(i===null)return null;var o=i;return iV(e,t,o)}var pi=function(){function e(t,n,i,o){this.url=t,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(e){if(!e)throw Cy()}function jh(e,t){function n(i,o){var u=Ek(e,o,t);return zr(u!==null),u}return n}function sV(e,t){function n(i,o){var u=oV(e,t,o);return zr(u!==null),u}return n}function uV(e,t){function n(i,o){var u=Ek(e,o,t);return zr(u!==null),rV(u,o,e.host)}return n}function xu(e){function t(n,i){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=bU():o=yU():n.getStatus()===402?o=mU(e.bucket):n.getStatus()===403?o=wU(e.path):o=i,o.serverResponse=i.serverResponse,o}return t}function Uh(e){var t=xu(e);function n(i,o){var u=t(i,o);return i.getStatus()===404&&(u=gU(e.path)),u.serverResponse=o.serverResponse,u}return n}function Ik(e,t,n){var i=t.fullServerUrl(),o=Ji(i,e.host),u="GET",a=e.maxOperationRetryTime,l=new pi(o,u,jh(e,n),a);return l.errorHandler=Uh(t),l}function aV(e,t,n,i,o){var u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",n&&n.length>0&&(u.delimiter=n),i&&(u.pageToken=i),o&&(u.maxResults=o);var a=t.bucketOnlyServerUrl(),l=Ji(a,e.host),f="GET",d=e.maxOperationRetryTime,p=new pi(l,f,sV(e,t.bucket),d);return p.urlParams=u,p.errorHandler=xu(t),p}function cV(e,t,n){var i=t.fullServerUrl(),o=Ji(i,e.host),u="GET",a=e.maxOperationRetryTime,l=new pi(o,u,uV(e,n),a);return l.errorHandler=Uh(t),l}function lV(e,t,n,i){var o=t.fullServerUrl(),u=Ji(o,e.host),a="PATCH",l=Ly(n,i),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,p=new pi(u,a,jh(e,i),d);return p.headers=f,p.body=l,p.errorHandler=Uh(t),p}function fV(e,t){var n=t.fullServerUrl(),i=Ji(n,e.host),o="DELETE",u=e.maxOperationRetryTime;function a(f,d){}var l=new pi(i,o,a,u);return l.successCodes=[200,204],l.errorHandler=Uh(t),l}function hV(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Tk(e,t,n){var i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=hV(null,t)),i}function dV(e,t,n,i,o){var u=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var F="",V=0;V<2;V++)F=F+Math.random().toString().slice(2);return F}var f=l();a["Content-Type"]="multipart/related; boundary="+f;var d=Tk(t,i,o),p=Ly(d,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+f+"--",w=Py.getBlob(g,i,m);if(w===null)throw dk();var _={name:d.fullPath},T=Ji(u,e.host),A="POST",C=e.maxUploadRetryTime,O=new pi(T,A,jh(e,n),C);return O.urlParams=_,O.headers=a,O.body=w.uploadData(),O.errorHandler=xu(t),O}var qf=function(){function e(t,n,i,o){this.current=t,this.total=n,this.finalized=!!i,this.metadata=o||null}return e}();function My(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{zr(!1)}var i=t||["active"];return zr(!!n&&i.indexOf(n)!==-1),n}function pV(e,t,n,i,o){var u=t.bucketOnlyServerUrl(),a=Tk(t,i,o),l={name:a.fullPath},f=Ji(u,e.host),d="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},g=Ly(a,n),m=e.maxUploadRetryTime;function w(T){My(T);var A;try{A=T.getResponseHeader("X-Goog-Upload-URL")}catch{zr(!1)}return zr(Mh(A)),A}var _=new pi(f,d,w,m);return _.urlParams=l,_.headers=p,_.body=g,_.errorHandler=xu(t),_}function vV(e,t,n,i){var o={"X-Goog-Upload-Command":"query"};function u(d){var p=My(d,["active","final"]),g=null;try{g=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{zr(!1)}g||zr(!1);var m=Number(g);return zr(!isNaN(m)),new qf(m,i.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,f=new pi(n,a,u,l);return f.headers=o,f.errorHandler=xu(t),f}var AI=256*1024;function gV(e,t,n,i,o,u,a,l){var f=new qf(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw SU();var d=f.total-f.current,p=d;o>0&&(p=Math.min(p,o));var g=f.current,m=g+p,w=p===d?"upload, finalize":"upload",_={"X-Goog-Upload-Command":w,"X-Goog-Upload-Offset":""+f.current},T=i.slice(g,m);if(T===null)throw dk();function A(V,ee){var j=My(V,["active","final"]),me=f.current+p,H=i.size(),ie;return j==="final"?ie=jh(t,u)(V,ee):ie=null,new qf(me,H,j==="final",ie)}var C="POST",O=t.maxUploadRetryTime,F=new pi(n,C,A,O);return F.headers=_,F.body=T.uploadData(),F.progressCallback=l||null,F.errorHandler=xu(e),F}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mV=function(){function e(t,n,i){var o=VU(t)||n!=null||i!=null;if(o)this.next=t,this.error=n,this.complete=i;else{var u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sk=function(){function e(t,n,i){var o=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Fh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(u){o._request=void 0,o._chunkMultiplier=1,u._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=u,o._transition("error"))},this._metadataErrorHandler=function(u){o._request=void 0,u._codeEquals("canceled")?o.completeTransitions_():(o._error=u,o._transition("error"))},this._promise=new Promise(function(u,a){o._resolve=u,o._reject=a,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var o=i[0],u=i[1];switch(n._state){case"running":t(o,u);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,i){var o=pV(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(i,o){var u=vV(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(u,i,o);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=AI*this._chunkMultiplier,i=new qf(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(u,a){var l;try{l=gV(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(l,u,a);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=AI*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,i){var o=Ik(t._ref.storage,t._ref._location,t._mappings),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,i){var o=dV(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=hk(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=qv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,i,o){var u=this,a=new mV(n,i,o);return this._addObserver(a),function(){u._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(qv(this._state)){case _n.SUCCESS:Rs(this._resolve.bind(null,this.snapshot))();break;case _n.CANCELED:case _n.ERROR:var n=this._reject;Rs(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=qv(this._state);switch(n){case _n.RUNNING:case _n.PAUSED:t.next&&Rs(t.next.bind(t,this.snapshot))();break;case _n.SUCCESS:t.complete&&Rs(t.complete.bind(t))();break;case _n.CANCELED:case _n.ERROR:t.error&&Rs(t.error.bind(t,this._error))();break;default:t.error&&Rs(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vh=function(){function e(t,n){this._service=t,n instanceof lr?this._location=n:this._location=lr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new lr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return _k(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=YU(this._location.path);if(t===null)return null;var n=new lr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw vk(t)},e}();function yV(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Sk(e,new Py(t),n)}function bV(e){var t={prefixes:[],items:[]};return Ak(e,t).then(function(){return t})}function Ak(e,t,n){return $(this,void 0,void 0,function(){var i,o,u,a;return B(this,function(l){switch(l.label){case 0:return i={pageToken:n},[4,kk(e,i)];case 1:return o=l.sent(),(u=t.prefixes).push.apply(u,o.prefixes),(a=t.items).push.apply(a,o.items),o.nextPageToken==null?[3,3]:[4,Ak(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function kk(e,t){return $(this,void 0,void 0,function(){var n,i;return B(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Ug("options.maxResults",1,1e3,t.maxResults),n=t||{},i=aV(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise()]}})})}function wV(e){return $(this,void 0,void 0,function(){var t;return B(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Ik(e.storage,e._location,Fh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function _V(e,t){return $(this,void 0,void 0,function(){var n;return B(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),n=lV(e.storage,e._location,t,Fh()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}function EV(e){return $(this,void 0,void 0,function(){var t;return B(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=cV(e.storage,e._location,Fh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(i){if(i===null)throw AU();return i})]}})})}function IV(e){return $(this,void 0,void 0,function(){var t;return B(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=fV(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function xk(e,t){var n=JU(e._location.path,t),i=new lr(e._location.bucket,n);return new Vh(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(e){return/^[A-Za-z]+:\/\//.test(e)}function TV(e,t){return new Vh(e,t)}function Nk(e,t){if(e instanceof qh){var n=e;if(n._bucket==null)throw TU();var i=new Vh(n,n._bucket);return t!=null?Nk(i,t):i}else return t!==void 0?xk(e,t):e}function SV(e,t){if(t&&Vg(t)){if(e instanceof qh)return TV(e,t);throw Ks("To use ref(service, url), the first argument must be a Storage instance.")}else return Nk(e,t)}function kI(e,t){var n=t==null?void 0:t[fk];return n==null?null:lr.makeFromBucketSpec(n,e)}function AV(e,t,n,i){i===void 0&&(i={}),e.host="http://"+t+":"+n;var o=i.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:hS(o,e.app.options.projectId))}var qh=function(){function e(t,n,i,o,u,a){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=o,this._url=u,this._firebaseVersion=a,this._bucket=null,this._host=lk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pU,this._maxUploadRetryTime=vU,this._requests=new Set,u!=null?this._bucket=lr.makeFromBucketSpec(u,this._host):this._bucket=kI(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=lr.makeFromBucketSpec(this._url,t):this._bucket=kI(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Ug("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Ug("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return $(this,void 0,void 0,function(){var t,n;return B(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=i.sent(),n!==null)return[2,n.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return $(this,void 0,void 0,function(){var t,n;return B(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=i.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Vh(this,t)},e.prototype._makeRequest=function(t,n,i){var o=this;if(this._deleted)return new MU(pk());var u=GU(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(function(){return o._requests.delete(u)},function(){return o._requests.delete(u)}),u},e.prototype.makeRequestWithTokens=function(t){return $(this,void 0,void 0,function(){var n,i,o;return B(this,function(u){switch(u.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=u.sent(),i=n[0],o=n[1],[2,this._makeRequest(t,i,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(e,t,n){return e=lt(e),yV(e,t,n)}function xV(e){return e=lt(e),wV(e)}function NV(e,t){return e=lt(e),_V(e,t)}function RV(e,t){return e=lt(e),kk(e,t)}function CV(e){return e=lt(e),bV(e)}function OV(e){return e=lt(e),EV(e)}function PV(e){return e=lt(e),IV(e)}function xI(e,t){return e=lt(e),SV(e,t)}function DV(e,t){return xk(e,t)}function LV(e,t,n,i){i===void 0&&(i={}),AV(e,t,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zl=function(){function e(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NI=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new zl(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var i=this;return this._delegate.then(function(o){if(t)return t(new zl(o,i,i._ref))},n)},e.prototype.on=function(t,n,i,o){var u=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new zl(l,u,u._ref))}:a={next:n.next?function(l){return n.next(new zl(l,u,u._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,i||void 0,o||void 0)},e}(),RI=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new nc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new nc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=DV(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new NI(kV(this._delegate,t,n),this)},e.prototype.putString=function(t,n,i){n===void 0&&(n=cr.RAW),this._throwIfRoot("putString");var o=gk(n,t),u=Xs({},i);return u.contentType==null&&o.contentType!=null&&(u.contentType=o.contentType),new NI(new Sk(this._delegate,new Py(o.data,!0),u),this)},e.prototype.listAll=function(){var t=this;return CV(this._delegate).then(function(n){return new RI(n,t.storage)})},e.prototype.list=function(t){var n=this;return RV(this._delegate,t||void 0).then(function(i){return new RI(i,n.storage)})},e.prototype.getMetadata=function(){return xV(this._delegate)},e.prototype.updateMetadata=function(t){return NV(this._delegate,t)},e.prototype.getDownloadURL=function(){return OV(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),PV(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw vk(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MV=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Vg(t))throw Ks("ref() expected a child path but got a URL, use refFromURL instead.");return new nc(xI(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Vg(t))throw Ks("refFromURL() expected a full URL but got a child path, use ref() instead.");try{lr.makeFromUrl(t,this._delegate.host)}catch{throw Ks("refFromUrl() expected a valid full URL but got an invalid one.")}return new nc(xI(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),LV(this._delegate,t,n,i)},e}(),FV="@firebase/storage",jV="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UV="storage";function VV(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal"),a=new MV(i,new qh(i,o,u,new LU,n,ke.SDK_VERSION));return a}function qV(e){var t={TaskState:_n,TaskEvent:OU,StringFormat:cr,Storage:qh,Reference:nc};e.INTERNAL.registerComponent(new sc(UV,VV,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(FV,jV)}qV(ke);const BV={apiKey:"AIzaSyB6nywCCST_HFjLRHJZl0XE9TXsf72rqpI",authDomain:"music-f6e93.firebaseapp.com",projectId:"music-f6e93",storageBucket:"music-f6e93.appspot.com",appId:"1:671056328288:web:c8abd445fb6b61addbf505"};ke.initializeApp(BV);const Ca=ke.auth(),$V=ke.firestore(),KV=ke.storage(),HV=$V.collection("users"),Ac=aS("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await Ca.createUserWithEmailAndPassword(e.email,e.password);await HV.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country,type_music:e.type_music}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await Ca.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await Ca.signOut(),this.userLoggedIn=!1}}}),vi=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},zV={name:"Header",computed:{...ED(cg,Ac)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},GV={id:"header",class:"bg-gray-700"},WV={class:"container mx-auto flex justify-start items-center py-5 px-4"},XV={class:"flex flex-grow items-center"},QV={class:"flex flex-row mt-1"},YV={key:0};function JV(e,t,n,i,o,u){const a=Zn("router-link");return Ht(),fn("header",GV,[se("nav",WV,[Me(a,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:ri(()=>[Ia(" Music ")]),_:1}),se("div",XV,[se("ul",QV,[se("li",null,[Me(a,{class:"px-2 text-white",to:{name:"about"}},{default:ri(()=>[Ia("About")]),_:1})]),e.userStore.userLoggedIn?(Ht(),fn(In,{key:1},[se("li",null,[Me(a,{class:"px-2 text-white",to:{name:"manage"}},{default:ri(()=>[Ia("Manage")]),_:1})]),se("li",null,[se("a",{class:"px-2 text-white",href:"#",onClick:t[1]||(t[1]=ur((...l)=>u.signOut&&u.signOut(...l),["prevent"]))},"Logout")])],64)):(Ht(),fn("li",YV,[se("a",{class:"px-2 text-white",onClick:t[0]||(t[0]=ur((...l)=>u.toggleAuthModal&&u.toggleAuthModal(...l),["prevent"])),href:"#"},"Login / Register")]))])])])])}const ZV=vi(zV,[["render",JV]]),eq={name:"LoginForm",data(){return{loginSchema:{email:"required|email",password:"required"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! We are login you in."}},methods:{...cS(Ac,{authenticate:"authenticate"}),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please wait! We are login you in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="Incorrect Email or Password";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Success! You are now logged in.",window.location.reload()}}},tq={class:"mb-3"},nq=se("label",{class:"inline-block mb-2"},"Email",-1),rq={class:"mb-3"},iq=se("label",{class:"inline-block mb-2"},"Password",-1),oq=["disabled"];function sq(e,t,n,i,o,u){const a=Zn("vee-field"),l=Zn("ErrorMessage"),f=Zn("vee-form");return Ht(),fn(In,null,[o.login_show_alert?(Ht(),fn("div",{key:0,class:ar(["text-white text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},cf(o.login_alert_msg),3)):eS("",!0),Me(f,{"validation-schema":o.loginSchema,onSubmit:u.login},{default:ri(()=>[se("div",tq,[nq,Me(a,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Me(l,{class:"text-red-600",name:"email"})]),se("div",rq,[iq,Me(a,{type:"password",name:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),Me(l,{class:"text-red-600",name:"password"})]),se("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.login_in_submission}," Submit ",8,oq)]),_:1},8,["validation-schema","onSubmit"])],64)}const uq=vi(eq,[["render",sq]]),aq={name:"RegistrationForm",data(){return{registerSchema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:100",password:"required|min:9|max:100|not_one_of:password",confirm_password:"password_mismatch:@password",country:"required|country_excluded:Antarctica",type_music:"required",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Your account is being created."}},methods:{...cS(Ac,{createUser:"register"}),async register(e){this.reg_in_submission=!0,this.reg_show_alert=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! Your account is being  created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_msg="bg-red-500",this.reg_alert_msg="Something went wrong. Please try again later.";return}this.userLoggedIn=!0,this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success! Your account has been created.",window.location.reload()}}},cq={class:"mb-3"},lq=se("label",{class:"inline-block mb-2"},"Name",-1),fq={class:"mb-3"},hq=se("label",{class:"inline-block mb-2"},"Email",-1),dq={class:"mb-3"},pq=se("label",{class:"inline-block mb-2"},"Age",-1),vq={class:"mb-3"},gq=se("label",{class:"inline-block mb-2"},"Password",-1),mq={class:"mb-3"},yq=se("label",{class:"inline-block mb-2"},"Confirm Password",-1),bq={class:"mb-3"},wq=se("label",{class:"inline-block mb-2"},"Country",-1),_q=se("option",{value:"USA"},"USA",-1),Eq=se("option",{value:"Mexico"},"Mexico",-1),Iq=se("option",{value:"Germany"},"Germany",-1),Tq=se("option",{value:"Antarctica"},"Antarctica",-1),Sq={class:"mb-3"},Aq=se("label",{class:"inline-block mb-2"},"Type of music",-1),kq=se("option",{value:"rock"},"Rock",-1),xq=se("option",{value:"pop"},"Pop",-1),Nq=se("option",{value:"rap"},"Rap",-1),Rq=se("option",{value:"rnb"},"Rnb",-1),Cq={class:"mb-3 pl-6"},Oq=se("label",{class:"inline-block"},"Accept terms of service",-1),Pq=["disabled"];function Dq(e,t,n,i,o,u){const a=Zn("vee-field"),l=Zn("ErrorMessage"),f=Zn("vee-form");return Ht(),fn(In,null,[o.reg_show_alert?(Ht(),fn("div",{key:0,class:ar(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},cf(o.reg_alert_msg),3)):eS("",!0),Me(f,{"validation-schema":o.registerSchema,onSubmit:u.register,"initial-values":o.userData},{default:ri(()=>[se("div",cq,[lq,Me(a,{type:"text",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),Me(l,{class:"text-red-600",name:"name"})]),se("div",fq,[hq,Me(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Me(l,{class:"text-red-600",name:"email"})]),se("div",dq,[pq,Me(a,{type:"number",name:"age",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Me(l,{class:"text-red-600",name:"age"})]),se("div",vq,[gq,Me(a,{name:"password",bails:!1},{default:ri(({field:d,errors:p})=>[se("input",tS({type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"},d),null,16),(Ht(!0),fn(In,null,$T(p,g=>(Ht(),fn("div",{class:"text-red-600",key:g},cf(g),1))),128))]),_:1})]),se("div",mq,[yq,Me(a,{type:"password",name:"confirm_password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Me(l,{class:"text-red-600",name:"confirm_password"})]),se("div",bq,[wq,Me(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:ri(()=>[_q,Eq,Iq,Tq]),_:1}),Me(l,{class:"text-red-600",name:"country"})]),se("div",Sq,[Aq,Me(a,{as:"select",name:"type_music",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:ri(()=>[kq,xq,Nq,Rq]),_:1}),Me(l,{class:"text-red-600",name:"type_music"})]),se("div",Cq,[Me(a,{type:"checkbox",name:"tos",value:"1",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),Oq,Me(l,{class:"text-red-600",name:"tos"})]),se("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.reg_in_submission}," Submit ",8,Pq)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const Lq=vi(aq,[["render",Dq]]),Mq={name:"Auth",components:{LoginForm:uq,RegistrationForm:Lq},computed:{...ID(cg,["hiddenClass"]),...lS(cg,{modalVisibility:"isOpen"})},data(){return{tab:"login"}}},Fq={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},jq=se("div",{class:"fixed inset-0 transition-opacity"},[se("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),Uq=se("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),Vq={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},qq={class:"py-4 text-left px-6"},Bq={class:"flex justify-between items-center pb-4"},$q=se("p",{class:"text-2xl font-bold"},"Your Account",-1),Kq=se("i",{class:"fas fa-times"},null,-1),Hq=[Kq],zq={class:"flex flex-wrap mb-4"},Gq={class:"flex-auto text-center"},Wq={class:"flex-auto text-center"};function Xq(e,t,n,i,o,u){const a=Zn("LoginForm"),l=Zn("RegistrationForm");return Ht(),fn("div",{class:ar(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[se("div",Fq,[jq,Uq,se("div",Vq,[se("div",qq,[se("div",Bq,[$q,se("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=ur(f=>e.modalVisibility=!1,["prevent"]))},Hq)]),se("ul",zq,[se("li",Gq,[se("a",{onClick:t[1]||(t[1]=ur(f=>o.tab="login",["prevent"])),class:ar(["block rounded py-3 px-4 transition",{" hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#"},"Login",2)]),se("li",Wq,[se("a",{onClick:t[2]||(t[2]=ur(f=>o.tab="register",["prevent"])),class:ar([{" hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"},"block rounded py-3 px-4 transition"]),href:"#"},"Register",2)])]),o.tab==="login"?(Ht(),ig(a,{key:0})):(Ht(),ig(l,{key:1}))])])])],2)}const Qq=vi(Mq,[["render",Xq]]),Yq={name:"App",components:{Header:ZV,Auth:Qq},computed:{...lS(Ac,["userLoggedIn"])},created(){Ca.currentUser&&(this.userLoggedIn=!0)}},Jq=pm('<div class="fixed bottom-0 left-0 bg-white px-4 py-2 w-full"><div class="text-center"><span class="song-title font-bold">Song Title</span> by <span class="song-artist">Artist</span></div><div class="flex flex-nowrap gap-4 items-center"><button type="button"><i class="fa fa-play text-gray-500 text-xl"></i></button><div class="player-currenttime">00:00</div><div class="w-full h-2 rounded bg-gray-200 relative cursor-pointer"><span class="absolute -top-2.5 -ml-2.5 text-gray-800 text-lg" style="left:50%;"><i class="fas fa-circle"></i></span><span class="block h-2 rounded bg-gradient-to-r from-green-500 to-green-400" style="width:50%;"></span></div><div class="player-duration">03:06</div></div></div>',1);function Zq(e,t,n,i,o,u){const a=Zn("Header"),l=Zn("router-view"),f=Zn("Auth");return Ht(),fn(In,null,[Me(a),Me(l),Jq,Me(f)],64)}const eB=vi(Yq,[["render",Zq]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ls=typeof window<"u";function tB(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const bt=Object.assign;function Bv(e,t){const n={};for(const i in t){const o=t[i];n[i]=Nr(o)?o.map(e):e(o)}return n}const Oa=()=>{},Nr=Array.isArray,nB=/\/$/,rB=e=>e.replace(nB,"");function $v(e,t,n="/"){let i,o={},u="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=t.slice(0,f),u=t.slice(f+1,l>-1?l:t.length),o=e(u)),l>-1&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=uB(i??t,n),{fullPath:i+(u&&"?")+u+a,path:i,query:o,hash:a}}function iB(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function oB(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&pu(t.matched[i],n.matched[o])&&Rk(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function pu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Rk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!sB(e[n],t[n]))return!1;return!0}function sB(e,t){return Nr(e)?CI(e,t):Nr(t)?CI(t,e):e===t}function CI(e,t){return Nr(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function uB(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let u=n.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var rc;(function(e){e.pop="pop",e.push="push"})(rc||(rc={}));var Bf;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Bf||(Bf={}));const Kv="";function aB(e){if(!e)if(Ls){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),rB(e)}const cB=/^[^#]+#/;function lB(e,t){return e.replace(cB,"#")+t}function fB(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const hB=()=>({left:window.pageXOffset,top:window.pageYOffset});function dB(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=fB(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function OI(e,t){return(history.state?history.state.position-t:-1)+e}const qg=new Map;function pB(e,t){qg.set(e,t)}function vB(e){const t=qg.get(e);return qg.delete(e),t}function gB(e=""){let t=[],n=[Kv],i=0;e=aB(e);function o(l){i++,i!==n.length&&n.splice(i),n.push(l)}function u(l,f,{direction:d,delta:p}){const g={direction:d,delta:p,type:rc.pop};for(const m of t)m(l,f,g)}const a={location:Kv,state:{},base:e,createHref:lB.bind(null,e),replace(l){n.splice(i--,1),o(l)},push(l,f){o(l)},listen(l){return t.push(l),()=>{const f=t.indexOf(l);f>-1&&t.splice(f,1)}},destroy(){t=[],n=[Kv],i=0},go(l,f=!0){const d=this.location,p=l<0?Bf.back:Bf.forward;i=Math.max(0,Math.min(i+l,n.length-1)),f&&u(this.location,d,{direction:p,delta:l})}};return Object.defineProperty(a,"location",{enumerable:!0,get:()=>n[i]}),a}function mB(e){return typeof e=="string"||e&&typeof e=="object"}function Ck(e){return typeof e=="string"||typeof e=="symbol"}const Ni={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ok=Symbol("");var PI;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(PI||(PI={}));function vu(e,t){return bt(new Error,{type:e,[Ok]:!0},t)}function ti(e,t){return e instanceof Error&&Ok in e&&(t==null||!!(e.type&t))}const DI="[^/]+?",yB={sensitive:!1,strict:!1,start:!0,end:!0},bB=/[.+*?^${}()[\]/\\]/g;function wB(e,t){const n=bt({},yB,t),i=[];let o=n.start?"^":"";const u=[];for(const d of e){const p=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let g=0;g<d.length;g++){const m=d[g];let w=40+(n.sensitive?.25:0);if(m.type===0)g||(o+="/"),o+=m.value.replace(bB,"\\$&"),w+=40;else if(m.type===1){const{value:_,repeatable:T,optional:A,regexp:C}=m;u.push({name:_,repeatable:T,optional:A});const O=C||DI;if(O!==DI){w+=10;try{new RegExp(`(${O})`)}catch(V){throw new Error(`Invalid custom RegExp for param "${_}" (${O}): `+V.message)}}let F=T?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;g||(F=A&&d.length<2?`(?:/${F})`:"/"+F),A&&(F+="?"),o+=F,w+=20,A&&(w+=-8),T&&(w+=-20),O===".*"&&(w+=-50)}p.push(w)}i.push(p)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const p=d.match(a),g={};if(!p)return null;for(let m=1;m<p.length;m++){const w=p[m]||"",_=u[m-1];g[_.name]=w&&_.repeatable?w.split("/"):w}return g}function f(d){let p="",g=!1;for(const m of e){(!g||!p.endsWith("/"))&&(p+="/"),g=!1;for(const w of m)if(w.type===0)p+=w.value;else if(w.type===1){const{value:_,repeatable:T,optional:A}=w,C=_ in d?d[_]:"";if(Nr(C)&&!T)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const O=Nr(C)?C.join("/"):C;if(!O)if(A)m.length<2&&(p.endsWith("/")?p=p.slice(0,-1):g=!0);else throw new Error(`Missing required param "${_}"`);p+=O}}return p||"/"}return{re:a,score:i,keys:u,parse:l,stringify:f}}function _B(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function EB(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const u=_B(i[n],o[n]);if(u)return u;n++}if(Math.abs(o.length-i.length)===1){if(LI(i))return 1;if(LI(o))return-1}return o.length-i.length}function LI(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const IB={type:0,value:""},TB=/[a-zA-Z0-9_]/;function SB(e){if(!e)return[[]];if(e==="/")return[[IB]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(w){throw new Error(`ERR (${n})/"${d}": ${w}`)}let n=0,i=n;const o=[];let u;function a(){u&&o.push(u),u=[]}let l=0,f,d="",p="";function g(){d&&(n===0?u.push({type:0,value:d}):n===1||n===2||n===3?(u.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:d,regexp:p,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function m(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&g(),a()):f===":"?(g(),n=1):m();break;case 4:m(),n=i;break;case 1:f==="("?n=2:TB.test(f)?m():(g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+f:n=3:p+=f;break;case 3:g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),g(),a(),o}function AB(e,t,n){const i=wB(SB(e.path),n),o=bt(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function kB(e,t){const n=[],i=new Map;t=jI({strict:!1,end:!0,sensitive:!1},t);function o(p){return i.get(p)}function u(p,g,m){const w=!m,_=xB(p);_.aliasOf=m&&m.record;const T=jI(t,p),A=[_];if("alias"in p){const F=typeof p.alias=="string"?[p.alias]:p.alias;for(const V of F)A.push(bt({},_,{components:m?m.record.components:_.components,path:V,aliasOf:m?m.record:_}))}let C,O;for(const F of A){const{path:V}=F;if(g&&V[0]!=="/"){const ee=g.record.path,j=ee[ee.length-1]==="/"?"":"/";F.path=g.record.path+(V&&j+V)}if(C=AB(F,g,T),m?m.alias.push(C):(O=O||C,O!==C&&O.alias.push(C),w&&p.name&&!FI(C)&&a(p.name)),_.children){const ee=_.children;for(let j=0;j<ee.length;j++)u(ee[j],C,m&&m.children[j])}m=m||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&f(C)}return O?()=>{a(O)}:Oa}function a(p){if(Ck(p)){const g=i.get(p);g&&(i.delete(p),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(p);g>-1&&(n.splice(g,1),p.record.name&&i.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function f(p){let g=0;for(;g<n.length&&EB(p,n[g])>=0&&(p.record.path!==n[g].record.path||!Pk(p,n[g]));)g++;n.splice(g,0,p),p.record.name&&!FI(p)&&i.set(p.record.name,p)}function d(p,g){let m,w={},_,T;if("name"in p&&p.name){if(m=i.get(p.name),!m)throw vu(1,{location:p});T=m.record.name,w=bt(MI(g.params,m.keys.filter(O=>!O.optional).map(O=>O.name)),p.params&&MI(p.params,m.keys.map(O=>O.name))),_=m.stringify(w)}else if("path"in p)_=p.path,m=n.find(O=>O.re.test(_)),m&&(w=m.parse(_),T=m.record.name);else{if(m=g.name?i.get(g.name):n.find(O=>O.re.test(g.path)),!m)throw vu(1,{location:p,currentLocation:g});T=m.record.name,w=bt({},g.params,p.params),_=m.stringify(w)}const A=[];let C=m;for(;C;)A.unshift(C.record),C=C.parent;return{name:T,path:_,params:w,matched:A,meta:RB(A)}}return e.forEach(p=>u(p)),{addRoute:u,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function MI(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function xB(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:NB(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function NB(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function FI(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function RB(e){return e.reduce((t,n)=>bt(t,n.meta),{})}function jI(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function Pk(e,t){return t.children.some(n=>n===e||Pk(e,n))}const Dk=/#/g,CB=/&/g,OB=/\//g,PB=/=/g,DB=/\?/g,Lk=/\+/g,LB=/%5B/g,MB=/%5D/g,Mk=/%5E/g,FB=/%60/g,Fk=/%7B/g,jB=/%7C/g,jk=/%7D/g,UB=/%20/g;function Fy(e){return encodeURI(""+e).replace(jB,"|").replace(LB,"[").replace(MB,"]")}function VB(e){return Fy(e).replace(Fk,"{").replace(jk,"}").replace(Mk,"^")}function Bg(e){return Fy(e).replace(Lk,"%2B").replace(UB,"+").replace(Dk,"%23").replace(CB,"%26").replace(FB,"`").replace(Fk,"{").replace(jk,"}").replace(Mk,"^")}function qB(e){return Bg(e).replace(PB,"%3D")}function BB(e){return Fy(e).replace(Dk,"%23").replace(DB,"%3F")}function $B(e){return e==null?"":BB(e).replace(OB,"%2F")}function $f(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function KB(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const u=i[o].replace(Lk," "),a=u.indexOf("="),l=$f(a<0?u:u.slice(0,a)),f=a<0?null:$f(u.slice(a+1));if(l in t){let d=t[l];Nr(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function UI(e){let t="";for(let n in e){const i=e[n];if(n=qB(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Nr(i)?i.map(u=>u&&Bg(u)):[i&&Bg(i)]).forEach(u=>{u!==void 0&&(t+=(t.length?"&":"")+n,u!=null&&(t+="="+u))})}return t}function HB(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Nr(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const zB=Symbol(""),VI=Symbol(""),jy=Symbol(""),Uk=Symbol(""),$g=Symbol("");function va(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Di(e,t,n,i,o){const u=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=g=>{g===!1?l(vu(4,{from:n,to:t})):g instanceof Error?l(g):mB(g)?l(vu(2,{from:t,to:g})):(u&&i.enterCallbacks[o]===u&&typeof g=="function"&&u.push(g),a())},d=e.call(i&&i.instances[o],t,n,f);let p=Promise.resolve(d);e.length<3&&(p=p.then(f)),p.catch(g=>l(g))})}function Hv(e,t,n,i){const o=[];for(const u of e)for(const a in u.components){let l=u.components[a];if(!(t!=="beforeRouteEnter"&&!u.instances[a]))if(GB(l)){const d=(l.__vccOpts||l)[t];d&&o.push(Di(d,n,i,u,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${u.path}"`));const p=tB(d)?d.default:d;u.components[a]=p;const m=(p.__vccOpts||p)[t];return m&&Di(m,n,i,u,a)()}))}}return o}function GB(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function qI(e){const t=hr(jy),n=hr(Uk),i=Fe(()=>t.resolve(Ye(e.to))),o=Fe(()=>{const{matched:f}=i.value,{length:d}=f,p=f[d-1],g=n.matched;if(!p||!g.length)return-1;const m=g.findIndex(pu.bind(null,p));if(m>-1)return m;const w=BI(f[d-2]);return d>1&&BI(p)===w&&g[g.length-1].path!==w?g.findIndex(pu.bind(null,f[d-2])):m}),u=Fe(()=>o.value>-1&&YB(n.params,i.value.params)),a=Fe(()=>o.value>-1&&o.value===n.matched.length-1&&Rk(n.params,i.value.params));function l(f={}){return QB(f)?t[Ye(e.replace)?"replace":"push"](Ye(e.to)).catch(Oa):Promise.resolve()}return{route:i,href:Fe(()=>i.value.href),isActive:u,isExactActive:a,navigate:l}}const WB=oc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qI,setup(e,{slots:t}){const n=li(qI(e)),{options:i}=hr(jy),o=Fe(()=>({[$I(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[$I(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=t.default&&t.default(n);return e.custom?u:Ws("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},u)}}}),XB=WB;function QB(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function YB(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!Nr(o)||o.length!==i.length||i.some((u,a)=>u!==o[a]))return!1}return!0}function BI(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const $I=(e,t,n)=>e??t??n,JB=oc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=hr($g),o=Fe(()=>e.route||i.value),u=hr(VI,0),a=Fe(()=>{let d=Ye(u);const{matched:p}=o.value;let g;for(;(g=p[d])&&!g.components;)d++;return d}),l=Fe(()=>o.value.matched[a.value]);Bs(VI,Fe(()=>a.value+1)),Bs(zB,l),Bs($g,o);const f=En();return fr(()=>[f.value,l.value,e.name],([d,p,g],[m,w,_])=>{p&&(p.instances[g]=d,w&&w!==p&&d&&d===m&&(p.leaveGuards.size||(p.leaveGuards=w.leaveGuards),p.updateGuards.size||(p.updateGuards=w.updateGuards))),d&&p&&(!w||!pu(p,w)||!m)&&(p.enterCallbacks[g]||[]).forEach(T=>T(d))},{flush:"post"}),()=>{const d=o.value,p=e.name,g=l.value,m=g&&g.components[p];if(!m)return KI(n.default,{Component:m,route:d});const w=g.props[p],_=w?w===!0?d.params:typeof w=="function"?w(d):w:null,A=Ws(m,bt({},_,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(g.instances[p]=null)},ref:f}));return KI(n.default,{Component:A,route:d})||A}}});function KI(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ZB=JB;function e$(e){const t=kB(e.routes,e),n=e.parseQuery||KB,i=e.stringifyQuery||UI,o=e.history,u=va(),a=va(),l=va(),f=AT(Ni);let d=Ni;Ls&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Bv.bind(null,D=>""+D),g=Bv.bind(null,$B),m=Bv.bind(null,$f);function w(D,q){let Z,ae;return Ck(D)?(Z=t.getRecordMatcher(D),ae=q):ae=D,t.addRoute(ae,Z)}function _(D){const q=t.getRecordMatcher(D);q&&t.removeRoute(q)}function T(){return t.getRoutes().map(D=>D.record)}function A(D){return!!t.getRecordMatcher(D)}function C(D,q){if(q=bt({},q||f.value),typeof D=="string"){const N=$v(n,D,q.path),L=t.resolve({path:N.path},q),U=o.createHref(N.fullPath);return bt(N,L,{params:m(L.params),hash:$f(N.hash),redirectedFrom:void 0,href:U})}let Z;if("path"in D)Z=bt({},D,{path:$v(n,D.path,q.path).path});else{const N=bt({},D.params);for(const L in N)N[L]==null&&delete N[L];Z=bt({},D,{params:g(N)}),q.params=g(q.params)}const ae=t.resolve(Z,q),Ne=D.hash||"";ae.params=p(m(ae.params));const I=iB(i,bt({},D,{hash:VB(Ne),path:ae.path})),S=o.createHref(I);return bt({fullPath:I,hash:Ne,query:i===UI?HB(D.query):D.query||{}},ae,{redirectedFrom:void 0,href:S})}function O(D){return typeof D=="string"?$v(n,D,f.value.path):bt({},D)}function F(D,q){if(d!==D)return vu(8,{from:q,to:D})}function V(D){return me(D)}function ee(D){return V(bt(O(D),{replace:!0}))}function j(D){const q=D.matched[D.matched.length-1];if(q&&q.redirect){const{redirect:Z}=q;let ae=typeof Z=="function"?Z(D):Z;return typeof ae=="string"&&(ae=ae.includes("?")||ae.includes("#")?ae=O(ae):{path:ae},ae.params={}),bt({query:D.query,hash:D.hash,params:"path"in ae?{}:D.params},ae)}}function me(D,q){const Z=d=C(D),ae=f.value,Ne=D.state,I=D.force,S=D.replace===!0,N=j(Z);if(N)return me(bt(O(N),{state:typeof N=="object"?bt({},Ne,N.state):Ne,force:I,replace:S}),q||Z);const L=Z;L.redirectedFrom=q;let U;return!I&&oB(i,ae,Z)&&(U=vu(16,{to:L,from:ae}),Bt(ae,ae,!0,!1)),(U?Promise.resolve(U):k(L,ae)).catch(z=>ti(z)?ti(z,2)?z:Rt(z):_e(z,L,ae)).then(z=>{if(z){if(ti(z,2))return me(bt({replace:S},O(z.to),{state:typeof z.to=="object"?bt({},Ne,z.to.state):Ne,force:I}),q||L)}else z=ot(L,ae,!0,S,Ne);return Xe(L,ae,z),z})}function H(D,q){const Z=F(D,q);return Z?Promise.reject(Z):Promise.resolve()}function ie(D){const q=qn.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(D):D()}function k(D,q){let Z;const[ae,Ne,I]=t$(D,q);Z=Hv(ae.reverse(),"beforeRouteLeave",D,q);for(const N of ae)N.leaveGuards.forEach(L=>{Z.push(Di(L,D,q))});const S=H.bind(null,D,q);return Z.push(S),ve(Z).then(()=>{Z=[];for(const N of u.list())Z.push(Di(N,D,q));return Z.push(S),ve(Z)}).then(()=>{Z=Hv(Ne,"beforeRouteUpdate",D,q);for(const N of Ne)N.updateGuards.forEach(L=>{Z.push(Di(L,D,q))});return Z.push(S),ve(Z)}).then(()=>{Z=[];for(const N of I)if(N.beforeEnter)if(Nr(N.beforeEnter))for(const L of N.beforeEnter)Z.push(Di(L,D,q));else Z.push(Di(N.beforeEnter,D,q));return Z.push(S),ve(Z)}).then(()=>(D.matched.forEach(N=>N.enterCallbacks={}),Z=Hv(I,"beforeRouteEnter",D,q),Z.push(S),ve(Z))).then(()=>{Z=[];for(const N of a.list())Z.push(Di(N,D,q));return Z.push(S),ve(Z)}).catch(N=>ti(N,8)?N:Promise.reject(N))}function Xe(D,q,Z){l.list().forEach(ae=>ie(()=>ae(D,q,Z)))}function ot(D,q,Z,ae,Ne){const I=F(D,q);if(I)return I;const S=q===Ni,N=Ls?history.state:{};Z&&(ae||S?o.replace(D.fullPath,bt({scroll:S&&N&&N.scroll},Ne)):o.push(D.fullPath,Ne)),f.value=D,Bt(D,q,Z,S),Rt()}let ut;function ft(){ut||(ut=o.listen((D,q,Z)=>{if(!fe.listening)return;const ae=C(D),Ne=j(ae);if(Ne){me(bt(Ne,{replace:!0}),ae).catch(Oa);return}d=ae;const I=f.value;Ls&&pB(OI(I.fullPath,Z.delta),hB()),k(ae,I).catch(S=>ti(S,12)?S:ti(S,2)?(me(S.to,ae).then(N=>{ti(N,20)&&!Z.delta&&Z.type===rc.pop&&o.go(-1,!1)}).catch(Oa),Promise.reject()):(Z.delta&&o.go(-Z.delta,!1),_e(S,ae,I))).then(S=>{S=S||ot(ae,I,!1),S&&(Z.delta&&!ti(S,8)?o.go(-Z.delta,!1):Z.type===rc.pop&&ti(S,20)&&o.go(-1,!1)),Xe(ae,I,S)}).catch(Oa)}))}let Ze=va(),oe=va(),Pe;function _e(D,q,Z){Rt(D);const ae=oe.list();return ae.length?ae.forEach(Ne=>Ne(D,q,Z)):console.error(D),Promise.reject(D)}function St(){return Pe&&f.value!==Ni?Promise.resolve():new Promise((D,q)=>{Ze.add([D,q])})}function Rt(D){return Pe||(Pe=!D,ft(),Ze.list().forEach(([q,Z])=>D?Z(D):q()),Ze.reset()),D}function Bt(D,q,Z,ae){const{scrollBehavior:Ne}=e;if(!Ls||!Ne)return Promise.resolve();const I=!Z&&vB(OI(D.fullPath,0))||(ae||!Z)&&history.state&&history.state.scroll||null;return zn().then(()=>Ne(D,q,I)).then(S=>S&&dB(S)).catch(S=>_e(S,D,q))}const Dt=D=>o.go(D);let pt;const qn=new Set,fe={currentRoute:f,listening:!0,addRoute:w,removeRoute:_,hasRoute:A,getRoutes:T,resolve:C,options:e,push:V,replace:ee,go:Dt,back:()=>Dt(-1),forward:()=>Dt(1),beforeEach:u.add,beforeResolve:a.add,afterEach:l.add,onError:oe.add,isReady:St,install(D){const q=this;D.component("RouterLink",XB),D.component("RouterView",ZB),D.config.globalProperties.$router=q,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>Ye(f)}),Ls&&!pt&&f.value===Ni&&(pt=!0,V(o.location).catch(Ne=>{}));const Z={};for(const Ne in Ni)Object.defineProperty(Z,Ne,{get:()=>f.value[Ne],enumerable:!0});D.provide(jy,q),D.provide(Uk,ET(Z)),D.provide($g,f);const ae=D.unmount;qn.add(D),D.unmount=function(){qn.delete(D),qn.size<1&&(d=Ni,ut&&ut(),ut=null,f.value=Ni,pt=!1,Pe=!1),ae()}}};function ve(D){return D.reduce((q,Z)=>q.then(()=>ie(Z)),Promise.resolve())}return fe}function t$(e,t){const n=[],i=[],o=[],u=Math.max(t.matched.length,e.matched.length);for(let a=0;a<u;a++){const l=t.matched[a];l&&(e.matched.find(d=>pu(d,l))?i.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(d=>pu(d,f))||o.push(f))}return[n,i,o]}const n$="/vue/assets/img/introduction-music.png",r$={name:"Home"},i$=pm('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Lesson - 165</h1><p class="w-full md:w-8/12 mx-auto"> Login Credentials: test@test.com / qwerty123 </p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+n$+'"></section><section class="container mx-auto"><div class="bg-white rounded border border-gray-200 relative flex flex-col"><div class="px-6 pt-6 pb-5 font-bold border-b border-gray-200"><span class="card-title">Songs</span><i class="fa fa-headphones-alt float-right text-green-400 text-xl"></i></div><ol id="playlist"><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li></ol></div></section>',2);function o$(e,t,n,i,o,u){return i$}const s$=vi(r$,[["render",o$]]),u$={name:"About"},a$={class:"container mx-auto"},c$=se("div",{class:"main-header-content p2"},[se("h1",{class:"text-center font-bold text-5xl pt-10 pb-10"},"About Us"),se("p",{class:"w-full md:w-8/12 mx-auto text-center"}," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Porro, saepe! ")],-1),l$=[c$];function f$(e,t,n,i,o,u){return Ht(),fn("div",a$,l$)}const h$=vi(u$,[["render",f$]]),d$={name:"Upload",data(){return{is_dragover:!1,uploads:[]}},methods:{upload(e){[...e.dataTransfer.files].forEach(n=>{if(n.type!=="audio/mpeg")return;const u=KV.ref().child(`songs/${n.name}`).put(n),a=this.uploads.push({task:u,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;u.on("state_change",l=>{const f=l.bytesTransferred/l.totalBytes*100;this.uploads[a].current_progress=f})}),this.is_dragover=!1}}},p$={class:"col-span-1"},v$={class:"bg-white rounded border border-gray-200 relative flex flex-col"},g$=se("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[se("span",{class:"card-title"},"Upload"),se("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),m$={class:"p-6"},y$=se("h5",null,"Drop your files here",-1),b$=[y$],w$=se("hr",{class:"my-6"},null,-1),_$={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function E$(e,t,n,i,o,u){return Ht(),fn("div",p$,[se("div",v$,[g$,se("div",m$,[se("div",{onDrag:t[0]||(t[0]=ur(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=ur(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=ur(a=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=ur(a=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=ur(a=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=ur(a=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=ur(a=>u.upload(a),["prevent","stop"])),class:ar([{"bg-green-400 border-green-400 border-solid":o.is_dragover},"w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid"])},b$,34),w$,(Ht(!0),fn(In,null,$T(o.uploads,a=>(Ht(),fn("div",{class:"mb-4",key:a.name},[se("div",{class:ar(["font-bold text-sm",a.text_class])},[se("i",{class:ar(a.icon)},null,2),Ia(" "+cf(a.name),1)],2),se("div",_$,[se("div",{class:ar(["transition-all progress-bar",a.variant]),style:Yf({width:a.current_progress+"%"})},null,6)])]))),128))])])])}const I$=vi(d$,[["render",E$]]),T$={name:"Manage",components:{AppUpload:I$}},S$={class:"container mx-auto mt-6"},A$={class:"md:grid md:grid-cols-3 md:gap-4"},k$=pm('<div class="col-span-2"><div class="bg-white rounded border border-gray-200 relative flex flex-col"><div class="px-6 pt-6 pb-5 font-bold border-b border-gray-200"><span class="card-title">My Songs</span><i class="fa fa-compact-disc float-right text-green-400 text-2xl"></i></div><div class="p-6"><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div><div><form><div class="mb-3"><label class="inline-block mb-2">Song Title</label><input type="text" class="block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded" placeholder="Enter Song Title"></div><div class="mb-3"><label class="inline-block mb-2">Genre</label><input type="text" class="block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded" placeholder="Enter Genre"></div><button type="submit" class="py-1.5 px-3 rounded text-white bg-green-600"> Submit </button><button type="button" class="py-1.5 px-3 rounded text-white bg-gray-600"> Go Back </button></form></div></div><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div></div><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div></div><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div></div><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div></div></div></div></div>',1);function x$(e,t,n,i,o,u){const a=Zn("AppUpload");return Ht(),fn("section",S$,[se("div",A$,[Me(a),k$])])}const N$=vi(T$,[["render",x$]]),R$=[{name:"home",path:"/",component:s$},{name:"about",path:"/about",component:h$},{name:"manage",path:"/manage",component:N$,meta:{requiresAuth:!0}},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],Vk=e$({history:gB("/vue"),routes:R$,linkExactActiveClass:"text-yellow-500"});Vk.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}Ac().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.12.3
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function en(e){return typeof e=="function"}function qk(e){return e==null}const Wo=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Uy(e){return Number(e)>=0}function C$(e){const t=parseFloat(e);return isNaN(t)?e:t}function O$(e){return typeof e=="object"&&e!==null}function P$(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function D$(e){if(!O$(e)||P$(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ic(e,t){return Object.keys(t).forEach(n=>{if(D$(t[n])){e[n]||(e[n]={}),ic(e[n],t[n]);return}e[n]=t[n]}),e}function wa(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let i=1;i<t.length;i++){if(Uy(t[i])){n+=`[${t[i]}]`;continue}n+=`.${t[i]}`}return n}const Bk={};function br(e,t){M$(e,t),Bk[e]=t}function L$(e){return Bk[e]}function M$(e,t){if(!en(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function HI(e,t,n){typeof n.value=="object"&&(n.value=ct(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function ct(e){if(typeof e!="object")return e;var t=0,n,i,o,u=Object.prototype.toString.call(e);if(u==="[object Object]"?o=Object.create(e.__proto__||null):u==="[object Array]"?o=Array(e.length):u==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(ct(a))})):u==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(ct(l),ct(a))})):u==="[object Date]"?o=new Date(+e):u==="[object RegExp]"?o=new RegExp(e.source,e.flags):u==="[object DataView]"?o=new e.constructor(ct(e.buffer)):u==="[object ArrayBuffer]"?o=e.slice(0):u.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)HI(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||HI(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}const Bh=Symbol("vee-validate-form"),F$=Symbol("vee-validate-field-instance"),Kf=Symbol("Default empty value"),j$=typeof window<"u";function Kg(e){return en(e)&&!!e.__locatorRef}function Ir(e){return!!e&&en(e.parse)&&e.__type==="VVTypedSchema"}function Hf(e){return!!e&&en(e.validate)}function kc(e){return e==="checkbox"||e==="radio"}function U$(e){return Wo(e)||Array.isArray(e)}function V$(e){return Array.isArray(e)?e.length===0:Wo(e)&&Object.keys(e).length===0}function $h(e){return/^\[.+\]$/i.test(e)}function q$(e){return $k(e)&&e.multiple}function $k(e){return e.tagName==="SELECT"}function B$(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function $$(e,t){return!B$(e,t)&&t.type!=="file"&&!kc(t.type)}function Kk(e){return Vy(e)&&e.target&&"submit"in e.target}function Vy(e){return e?!!(typeof Event<"u"&&en(Event)&&e instanceof Event||e&&e.srcElement):!1}function zI(e,t){return t in e&&e[t]!==Kf}function xn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!xn(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!xn(i[1],t.get(i[0])))return!1;return!0}if(GI(e)&&GI(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,i=n;i--!==0;){var u=o[i];if(!xn(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function GI(e){return j$?e instanceof File:!1}function qy(e){return $h(e)?e.replace(/\[|\]/gi,""):e}function Dn(e,t,n){return e?$h(t)?e[qy(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,u)=>U$(o)&&u in o?o[u]:n,e):n}function Ci(e,t,n){if($h(t)){e[qy(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let u=0;u<i.length;u++){if(u===i.length-1){o[i[u]]=n;return}(!(i[u]in o)||qk(o[i[u]]))&&(o[i[u]]=Uy(i[u+1])?[]:{}),o=o[i[u]]}}function zv(e,t){if(Array.isArray(e)&&Uy(t)){e.splice(Number(t),1);return}Wo(e)&&delete e[t]}function WI(e,t){if($h(t)){delete e[qy(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let u=0;u<n.length;u++){if(u===n.length-1){zv(i,n[u]);break}if(!(n[u]in i)||qk(i[n[u]]))break;i=i[n[u]]}const o=n.map((u,a)=>Dn(e,n.slice(0,a).join(".")));for(let u=o.length-1;u>=0;u--)if(V$(o[u])){if(u===0){zv(e,n[0]);continue}zv(o[u-1],n[u-1])}}function sr(e){return Object.keys(e)}function Hk(e,t=void 0){const n=oh();return(n==null?void 0:n.provides[e])||hr(e,t)}function XI(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(u=>xn(u,t));return o>=0?i.splice(o,1):i.push(t),i}return xn(e,t)?n:t}function QI(e,t=0){let n=null,i=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const u=e(...o);i.forEach(a=>a(u)),i=[]},t),new Promise(u=>i.push(u))}}function K$(e,t){return Wo(t)&&t.number?C$(e):e}function Hg(e,t){let n;return async function(...o){const u=e(...o);n=u;const a=await u;return u!==n?a:(n=void 0,t(a,o))}}function zg(e){return Array.isArray(e)?e:e?[e]:[]}function Gl(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}function H$(e){let t=null,n=[];return function(...i){const o=zn(()=>{if(t!==o)return;const u=e(...i);n.forEach(a=>a(u)),n=[],t=null});return t=o,new Promise(u=>n.push(u))}}function By(e,t,n){return t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default}function Gv(e){if(zk(e))return e._value}function zk(e){return"_value"in e}function z$(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function zf(e){if(!Vy(e))return e;const t=e.target;if(kc(t.type)&&zk(t))return Gv(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(q$(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Gv);if($k(t)){const n=Array.from(t.options).find(i=>i.selected);return n?Gv(n):t.value}return z$(t)}function Gk(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Wo(e)&&e._$$isNormalized?e:Wo(e)?Object.keys(e).reduce((n,i)=>{const o=G$(e[i]);return e[i]!==!1&&(n[i]=YI(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=W$(i);return o.name&&(n[o.name]=YI(o.params)),n},t):t}function G$(e){return e===!0?[]:Array.isArray(e)||Wo(e)?e:[e]}function YI(e){const t=n=>typeof n=="string"&&n[0]==="@"?X$(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const W$=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function X$(e){const t=n=>Dn(n,e)||n[e];return t.__locatorRef=e,t}function Q$(e){return Array.isArray(e)?e.filter(Kg):sr(e).filter(t=>Kg(e[t])).map(t=>e[t])}const Y$={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Gg=Object.assign({},Y$);const Oo=()=>Gg,J$=e=>{Gg=Object.assign(Object.assign({},Gg),e)},Z$=J$;async function Wk(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await eK(o,e)).errors;return{errors:a,valid:!a.length}}async function eK(e,t){if(Ir(e.rules)||Hf(e.rules))return nK(t,e.rules);if(en(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let p=0;p<f;p++){const g=l[p],m=await g(t,a);if(!(typeof m!="string"&&!Array.isArray(m)&&m)){if(Array.isArray(m))d.push(...m);else{const _=typeof m=="string"?m:Qk(a);d.push(_)}if(e.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:Gk(e.rules)}),i=[],o=Object.keys(n.rules),u=o.length;for(let a=0;a<u;a++){const l=o[a],f=await rK(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}function tK(e){return!!e&&e.name==="ValidationError"}function Xk(e){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!tK(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const u=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(u)}}}}}async function nK(e,t){const i=await(Ir(t)?t:Xk(t)).parse(e),o=[];for(const u of i.errors)u.errors.length&&o.push(...u.errors);return{errors:o}}async function rK(e,t,n){const i=L$(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=iK(n.params,e.formData),u={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(t,o,u);return typeof a=="string"?{error:a}:{error:a?void 0:Qk(u)}}function Qk(e){const t=Oo().generateMessage;return t?t(e):"Field is invalid"}function iK(e,t){const n=i=>Kg(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function oK(e,t){const i=await(Ir(e)?e:Xk(e)).parse(ct(t)),o={},u={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,p)=>`[${p}]`);o[f]={valid:!l.length,errors:l},l.length&&(u[f]=l[0])}return{valid:!i.errors.length,results:o,errors:u,values:i.value}}async function sK(e,t,n){const o=sr(e).map(async d=>{var p,g,m;const w=(p=n==null?void 0:n.names)===null||p===void 0?void 0:p[d],_=await Wk(Dn(t,d),e[d],{name:(w==null?void 0:w.name)||d,label:w==null?void 0:w.label,values:t,bails:(m=(g=n==null?void 0:n.bailsMap)===null||g===void 0?void 0:g[d])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},_),{path:d})});let u=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(u=!1,f[d.path]=d.errors[0]);return{valid:u,results:l,errors:f}}let JI=0;function uK(e,t){const{value:n,initialValue:i,setInitialValue:o}=aK(e,t.modelValue,t.form);if(!t.form){let f=function(w){var _;"value"in w&&(n.value=w.value),"errors"in w&&p(w.errors),"touched"in w&&(m.touched=(_=w.touched)!==null&&_!==void 0?_:m.touched),"initialValue"in w&&o(w.initialValue)};const{errors:d,setErrors:p}=fK(),g=JI>=Number.MAX_SAFE_INTEGER?0:++JI,m=lK(n,i,d,t.schema);return{id:g,path:e,value:n,initialValue:i,meta:m,flags:{pendingUnmount:{[g]:!1},pendingReset:!1},errors:d,setState:f}}const u=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate,schema:t.schema}),a=Fe(()=>u.errors);function l(f){var d,p,g;"value"in f&&(n.value=f.value),"errors"in f&&((d=t.form)===null||d===void 0||d.setFieldError(Ye(e),f.errors)),"touched"in f&&((p=t.form)===null||p===void 0||p.setFieldTouched(Ye(e),(g=f.touched)!==null&&g!==void 0?g:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(u.id)?u.id[u.id.length-1]:u.id,path:e,value:n,errors:a,meta:u,initialValue:i,flags:u.__flags,setState:l}}function aK(e,t,n){const i=En(Ye(t));function o(){return n?Dn(n.initialValues.value,Ye(e),Ye(i)):Ye(i)}function u(d){if(!n){i.value=d;return}n.setFieldInitialValue(Ye(e),d,!0)}const a=Fe(o);if(!n)return{value:En(o()),initialValue:a,setInitialValue:u};const l=cK(t,n,a,e);return n.stageInitialValue(Ye(e),l,!0),{value:Fe({get(){return Dn(n.values,Ye(e))},set(d){n.setFieldValue(Ye(e),d,!1)}}),initialValue:a,setInitialValue:u}}function cK(e,t,n,i){return ht(e)?Ye(e):e!==void 0?e:Dn(t.values,Ye(i),Ye(n))}function lK(e,t,n,i){var o,u;const a=(u=(o=i==null?void 0:i.describe)===null||o===void 0?void 0:o.call(i).required)!==null&&u!==void 0?u:!1,l=li({touched:!1,pending:!1,valid:!0,required:a,validated:!!Ye(n).length,initialValue:Fe(()=>Ye(t)),dirty:Fe(()=>!xn(Ye(e),Ye(t)))});return fr(n,f=>{l.valid=!f.length},{immediate:!0,flush:"sync"}),l}function fK(){const e=En([]);return{errors:e,setErrors:t=>{e.value=zg(t)}}}function hK(e,t,n){return kc(n==null?void 0:n.type)?pK(e,t,n):Yk(e,t,n)}function Yk(e,t,n){const{initialValue:i,validateOnMount:o,bails:u,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:p,controlled:g,keepValueOnUnmount:m,syncVModel:w,form:_}=dK(n),T=g?Hk(Bh):void 0,A=_||T,C=Fe(()=>wa(nt(e))),O=Fe(()=>{if(nt(A==null?void 0:A.schema))return;const ve=Ye(t);return Hf(ve)||Ir(ve)||en(ve)||Array.isArray(ve)?ve:Gk(ve)}),{id:F,value:V,initialValue:ee,meta:j,setState:me,errors:H,flags:ie}=uK(C,{modelValue:i,form:A,bails:u,label:f,type:a,validate:O.value?Ze:void 0,schema:Ir(t)?t:void 0}),k=Fe(()=>H.value[0]);w&&vK({value:V,prop:w,handleChange:oe,shouldValidate:()=>d&&!ie.pendingReset});const Xe=(fe,ve=!1)=>{j.touched=!0,ve&&ut()};async function ot(fe){var ve,D;if(A!=null&&A.validateSchema){const{results:q}=await A.validateSchema(fe);return(ve=q[nt(C)])!==null&&ve!==void 0?ve:{valid:!0,errors:[]}}return O.value?Wk(V.value,O.value,{name:nt(C),label:nt(f),values:(D=A==null?void 0:A.values)!==null&&D!==void 0?D:{},bails:u}):{valid:!0,errors:[]}}const ut=Hg(async()=>(j.pending=!0,j.validated=!0,ot("validated-only")),fe=>(ie.pendingUnmount[pt.id]||(me({errors:fe.errors}),j.pending=!1,j.valid=fe.valid),fe)),ft=Hg(async()=>ot("silent"),fe=>(j.valid=fe.valid,fe));function Ze(fe){return(fe==null?void 0:fe.mode)==="silent"?ft():ut()}function oe(fe,ve=!0){const D=zf(fe);Rt(D,ve)}fm(()=>{if(o)return ut();(!A||!A.validateSchema)&&ft()});function Pe(fe){j.touched=fe}function _e(fe){var ve;const D=fe&&"value"in fe?fe.value:ee.value;me({value:ct(D),initialValue:ct(D),touched:(ve=fe==null?void 0:fe.touched)!==null&&ve!==void 0?ve:!1,errors:(fe==null?void 0:fe.errors)||[]}),j.pending=!1,j.validated=!1,ft()}const St=oh();function Rt(fe,ve=!0){V.value=St&&w?K$(fe,St.props.modelModifiers):fe,(ve?ut:ft)()}function Bt(fe){me({errors:Array.isArray(fe)?fe:[fe]})}const Dt=Fe({get(){return V.value},set(fe){Rt(fe,d)}}),pt={id:F,name:C,label:f,value:Dt,meta:j,errors:H,errorMessage:k,type:a,checkedValue:l,uncheckedValue:p,bails:u,keepValueOnUnmount:m,resetField:_e,handleReset:()=>_e(),validate:Ze,handleChange:oe,handleBlur:Xe,setState:me,setTouched:Pe,setErrors:Bt,setValue:Rt};if(Bs(F$,pt),ht(t)&&typeof Ye(t)!="function"&&fr(t,(fe,ve)=>{xn(fe,ve)||(j.validated?ut():ft())},{deep:!0}),!A)return pt;const qn=Fe(()=>{const fe=O.value;return!fe||en(fe)||Hf(fe)||Ir(fe)||Array.isArray(fe)?{}:Object.keys(fe).reduce((ve,D)=>{const q=Q$(fe[D]).map(Z=>Z.__locatorRef).reduce((Z,ae)=>{const Ne=Dn(A.values,ae)||A.values[ae];return Ne!==void 0&&(Z[ae]=Ne),Z},{});return Object.assign(ve,q),ve},{})});return fr(qn,(fe,ve)=>{if(!Object.keys(fe).length)return;!xn(fe,ve)&&(j.validated?ut():ft())}),qT(()=>{var fe;const ve=(fe=nt(pt.keepValueOnUnmount))!==null&&fe!==void 0?fe:nt(A.keepValuesOnUnmount),D=nt(C);if(ve||!A||ie.pendingUnmount[pt.id]){A==null||A.removePathState(D,F);return}ie.pendingUnmount[pt.id]=!0;const q=A.getPathState(D);if(Array.isArray(q==null?void 0:q.id)&&(q!=null&&q.multiple)?q!=null&&q.id.includes(pt.id):(q==null?void 0:q.id)===pt.id){if(q!=null&&q.multiple&&Array.isArray(q.value)){const ae=q.value.findIndex(Ne=>xn(Ne,nt(pt.checkedValue)));if(ae>-1){const Ne=[...q.value];Ne.splice(ae,1),A.setFieldValue(D,Ne)}Array.isArray(q.id)&&q.id.splice(q.id.indexOf(pt.id),1)}else A.unsetPathValue(nt(C));A.removePathState(D,F)}}),pt}function dK(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),i=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?Wg(oh(),i):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const u="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:a??!0,checkedValue:u,syncVModel:l})}function pK(e,t,n){const i=n!=null&&n.standalone?void 0:Hk(Bh),o=n==null?void 0:n.checkedValue,u=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=Fe(()=>{const g=nt(l.value),m=nt(o);return Array.isArray(g)?g.findIndex(w=>xn(w,m))>=0:xn(m,g)});function p(g,m=!0){var w,_;if(d.value===((w=g==null?void 0:g.target)===null||w===void 0?void 0:w.checked)){m&&l.validate();return}const T=nt(e),A=i==null?void 0:i.getPathState(T),C=zf(g);let O=(_=nt(o))!==null&&_!==void 0?_:C;i&&(A!=null&&A.multiple)&&A.type==="checkbox"?O=XI(Dn(i.values,T)||[],O,void 0):(n==null?void 0:n.type)==="checkbox"&&(O=XI(nt(l.value),O,nt(u))),f(O,m)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:u,handleChange:p})}return a(Yk(e,t,n))}function vK({prop:e,value:t,handleChange:n,shouldValidate:i}){const o=oh();if(!o||!e)return;const u=typeof e=="string"?e:"modelValue",a=`update:${u}`;u in o.props&&(fr(t,l=>{xn(l,Wg(o,u))||o.emit(a,l)}),fr(()=>Wg(o,u),l=>{if(l===Kf&&t.value===void 0)return;const f=l===Kf?void 0:l;xn(f,t.value)||n(f,i())}))}function Wg(e,t){if(e)return e.props[t]}const gK=oc({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Oo().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Kf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=To(e,"rules"),i=To(e,"name"),o=To(e,"label"),u=To(e,"uncheckedValue"),a=To(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:p,handleChange:g,handleBlur:m,setTouched:w,resetField:_,handleReset:T,meta:A,checked:C,setErrors:O}=hK(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:yK(e,t),checkedValue:t.attrs.value,uncheckedValue:u,label:o,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:a,syncVModel:!0}),F=function(ie,k=!0){g(ie,k)},V=Fe(()=>{const{validateOnInput:H,validateOnChange:ie,validateOnBlur:k,validateOnModelUpdate:Xe}=mK(e);function ot(oe){m(oe,k),en(t.attrs.onBlur)&&t.attrs.onBlur(oe)}function ut(oe){F(oe,H),en(t.attrs.onInput)&&t.attrs.onInput(oe)}function ft(oe){F(oe,ie),en(t.attrs.onChange)&&t.attrs.onChange(oe)}const Ze={name:e.name,onBlur:ot,onInput:ut,onChange:ft};return Ze["onUpdate:modelValue"]=oe=>F(oe,Xe),Ze}),ee=Fe(()=>{const H=Object.assign({},V.value);kc(t.attrs.type)&&C&&(H.checked=C.value);const ie=ZI(e,t);return $$(ie,t.attrs)&&(H.value=f.value),H}),j=Fe(()=>Object.assign(Object.assign({},V.value),{modelValue:f.value}));function me(){return{field:ee.value,componentField:j.value,value:f.value,meta:A,errors:l.value,errorMessage:d.value,validate:p,resetField:_,handleChange:F,handleInput:H=>F(H,!1),handleReset:T,handleBlur:V.value.onBlur,setTouched:w,setErrors:O}}return t.expose({value:f,meta:A,errors:l,errorMessage:d,setErrors:O,setTouched:w,reset:_,validate:p,handleChange:g}),()=>{const H=cm(ZI(e,t)),ie=By(H,t,me);return H?Ws(H,Object.assign(Object.assign({},t.attrs),ee.value),ie):ie}}});function ZI(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function mK(e){var t,n,i,o;const{validateOnInput:u,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Oo();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:u,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function yK(e,t){return kc(t.attrs.type)?zI(e,"modelValue")?e.modelValue:void 0:zI(e,"modelValue")?e.modelValue:t.attrs.value}const bK=gK;let wK=0;const Wl=["bails","fieldsCount","id","multiple","type","validate"];function Jk(e){const t=Object.assign({},nt((e==null?void 0:e.initialValues)||{})),n=Ye(e==null?void 0:e.validationSchema);return n&&Ir(n)&&en(n.cast)?ct(n.cast(t)||{}):ct(t)}function _K(e){var t;const n=wK++;let i=0;const o=En(!1),u=En(!1),a=En(0),l=[],f=li(Jk(e)),d=En([]),p=En({}),g=En({}),m=H$(()=>{g.value=d.value.reduce((x,R)=>(x[wa(nt(R.path))]=R,x),{})});function w(x,R){const K=oe(x);if(!K){typeof x=="string"&&(p.value[wa(x)]=zg(R));return}if(typeof x=="string"){const J=wa(x);p.value[J]&&delete p.value[J]}K.errors=zg(R),K.valid=!K.errors.length}function _(x){sr(x).forEach(R=>{w(R,x[R])})}e!=null&&e.initialErrors&&_(e.initialErrors);const T=Fe(()=>{const x=d.value.reduce((R,K)=>(K.errors.length&&(R[K.path]=K.errors),R),{});return Object.assign(Object.assign({},p.value),x)}),A=Fe(()=>sr(T.value).reduce((x,R)=>{const K=T.value[R];return K!=null&&K.length&&(x[R]=K[0]),x},{})),C=Fe(()=>d.value.reduce((x,R)=>(x[R.path]={name:R.path||"",label:R.label||""},x),{})),O=Fe(()=>d.value.reduce((x,R)=>{var K;return x[R.path]=(K=R.bails)!==null&&K!==void 0?K:!0,x},{})),F=Object.assign({},(e==null?void 0:e.initialErrors)||{}),V=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:ee,originalInitialValues:j,setInitialValues:me}=IK(d,f,e),H=EK(d,f,j,A),ie=Fe(()=>d.value.reduce((x,R)=>{const K=Dn(f,R.path);return Ci(x,R.path,K),x},{})),k=e==null?void 0:e.validationSchema;function Xe(x,R){var K,J;const Se=Fe(()=>Dn(ee.value,nt(x))),pe=g.value[nt(x)],Ae=(R==null?void 0:R.type)==="checkbox"||(R==null?void 0:R.type)==="radio";if(pe&&Ae){pe.multiple=!0;const kt=i++;return Array.isArray(pe.id)?pe.id.push(kt):pe.id=[pe.id,kt],pe.fieldsCount++,pe.__flags.pendingUnmount[kt]=!1,pe}const Ge=Fe(()=>Dn(f,nt(x))),qe=nt(x),Yt=Fe(()=>{var kt,Rr,gi,Nu,Cr,rs;return Ir(k)?(gi=(Rr=(kt=k).describe)===null||Rr===void 0?void 0:Rr.call(kt,nt(x)).required)!==null&&gi!==void 0?gi:!1:Ir(R==null?void 0:R.schema)&&(rs=(Cr=(Nu=R==null?void 0:R.schema).describe)===null||Cr===void 0?void 0:Cr.call(Nu).required)!==null&&rs!==void 0?rs:!1}),Be=i++,At=li({id:Be,path:x,touched:!1,pending:!1,valid:!0,validated:!!(!((K=F[qe])===null||K===void 0)&&K.length),required:Yt,initialValue:Se,errors:AT([]),bails:(J=R==null?void 0:R.bails)!==null&&J!==void 0?J:!1,label:R==null?void 0:R.label,type:(R==null?void 0:R.type)||"default",value:Ge,multiple:!1,__flags:{pendingUnmount:{[Be]:!1},pendingReset:!1},fieldsCount:1,validate:R==null?void 0:R.validate,dirty:Fe(()=>!xn(Ye(Ge),Ye(Se)))});return d.value.push(At),g.value[qe]=At,m(),A.value[qe]&&!F[qe]&&zn(()=>{Q(qe,{mode:"silent"})}),ht(x)&&fr(x,kt=>{m();const Rr=ct(Ge.value);g.value[kt]=At,zn(()=>{Ci(f,kt,Rr)})}),At}const ot=QI(le,5),ut=QI(le,5),ft=Hg(async x=>await(x==="silent"?ot():ut()),(x,[R])=>{const K=sr(ve.errorBag.value),Se=[...new Set([...sr(x.results),...d.value.map(pe=>pe.path),...K])].sort().reduce((pe,Ae)=>{var Ge;const qe=Ae,Yt=oe(qe)||Pe(qe),Be=((Ge=x.results[qe])===null||Ge===void 0?void 0:Ge.errors)||[],At=nt(Yt==null?void 0:Yt.path)||qe,kt=TK({errors:Be,valid:!Be.length},pe.results[At]);return pe.results[At]=kt,kt.valid||(pe.errors[At]=kt.errors[0]),Yt&&p.value[At]&&delete p.value[At],Yt?(Yt.valid=kt.valid,R==="silent"||R==="validated-only"&&!Yt.validated||w(Yt,kt.errors),pe):(w(At,Be),pe)},{valid:x.valid,results:{},errors:{}});return x.values&&(Se.values=x.values),Se});function Ze(x){d.value.forEach(x)}function oe(x){const R=typeof x=="string"?wa(x):x;return typeof R=="string"?g.value[R]:R}function Pe(x){return d.value.filter(K=>x.startsWith(K.path)).reduce((K,J)=>K?J.path.length>K.path.length?J:K:J,void 0)}let _e=[],St;function Rt(x){return _e.push(x),St||(St=zn(()=>{[..._e].sort().reverse().forEach(K=>{WI(f,K)}),_e=[],St=null})),St}function Bt(x){return function(K,J){return function(pe){return pe instanceof Event&&(pe.preventDefault(),pe.stopPropagation()),Ze(Ae=>Ae.touched=!0),o.value=!0,a.value++,te().then(Ae=>{const Ge=ct(f);if(Ae.valid&&typeof K=="function"){const qe=ct(ie.value);let Yt=x?qe:Ge;return Ae.values&&(Yt=Ae.values),K(Yt,{evt:pe,controlledValues:qe,setErrors:_,setFieldError:w,setTouched:L,setFieldTouched:Ne,setValues:Z,setFieldValue:D,resetForm:z,resetField:U})}!Ae.valid&&typeof J=="function"&&J({values:Ge,evt:pe,errors:Ae.errors,results:Ae.results})}).then(Ae=>(o.value=!1,Ae),Ae=>{throw o.value=!1,Ae})}}}const pt=Bt(!1);pt.withControlled=Bt(!0);function qn(x,R){const K=d.value.findIndex(Se=>Se.path===x),J=d.value[K];if(!(K===-1||!J)){if(zn(()=>{Q(x,{mode:"silent",warn:!1})}),J.multiple&&J.fieldsCount&&J.fieldsCount--,Array.isArray(J.id)){const Se=J.id.indexOf(R);Se>=0&&J.id.splice(Se,1),delete J.__flags.pendingUnmount[R]}(!J.multiple||J.fieldsCount<=0)&&(d.value.splice(K,1),re(x),m(),delete g.value[x])}}function fe(x){sr(g.value).forEach(R=>{R.startsWith(x)&&delete g.value[R]}),d.value=d.value.filter(R=>!R.path.startsWith(x)),zn(()=>{m()})}const ve={formId:n,values:f,controlledValues:ie,errorBag:T,errors:A,schema:k,submitCount:a,meta:H,isSubmitting:o,isValidating:u,fieldArrays:l,keepValuesOnUnmount:V,validateSchema:Ye(k)?ft:void 0,validate:te,setFieldError:w,validateField:Q,setFieldValue:D,setValues:Z,setErrors:_,setFieldTouched:Ne,setTouched:L,resetForm:z,resetField:U,handleSubmit:pt,useFieldModel:Ue,defineInputBinds:Ee,defineComponentBinds:ze,defineField:xe,stageInitialValue:X,unsetInitialValue:re,setFieldInitialValue:ge,createPathState:Xe,getPathState:oe,unsetPathValue:Rt,removePathState:qn,initialValues:ee,getAllPathStates:()=>d.value,destroyPath:fe,isFieldTouched:I,isFieldDirty:S,isFieldValid:N};function D(x,R,K=!0){const J=ct(R),Se=typeof x=="string"?x:x.path;oe(Se)||Xe(Se),Ci(f,Se,J),K&&Q(Se)}function q(x,R=!0){sr(f).forEach(K=>{delete f[K]}),sr(x).forEach(K=>{D(K,x[K],!1)}),R&&te()}function Z(x,R=!0){ic(f,x),l.forEach(K=>K&&K.reset()),R&&te()}function ae(x,R){const K=oe(nt(x))||Xe(x);return Fe({get(){return K.value},set(J){var Se;const pe=nt(x);D(pe,J,(Se=nt(R))!==null&&Se!==void 0?Se:!1)}})}function Ne(x,R){const K=oe(x);K&&(K.touched=R)}function I(x){const R=oe(x);return R?R.touched:d.value.filter(K=>K.path.startsWith(x)).some(K=>K.touched)}function S(x){const R=oe(x);return R?R.dirty:d.value.filter(K=>K.path.startsWith(x)).some(K=>K.dirty)}function N(x){const R=oe(x);return R?R.valid:d.value.filter(K=>K.path.startsWith(x)).every(K=>K.valid)}function L(x){if(typeof x=="boolean"){Ze(R=>{R.touched=x});return}sr(x).forEach(R=>{Ne(R,!!x[R])})}function U(x,R){var K;const J=R&&"value"in R?R.value:Dn(ee.value,x),Se=oe(x);Se&&(Se.__flags.pendingReset=!0),ge(x,ct(J),!0),D(x,J,!1),Ne(x,(K=R==null?void 0:R.touched)!==null&&K!==void 0?K:!1),w(x,(R==null?void 0:R.errors)||[]),zn(()=>{Se&&(Se.__flags.pendingReset=!1)})}function z(x,R){let K=ct(x!=null&&x.values?x.values:j.value);K=R!=null&&R.force?K:ic(j.value,K),K=Ir(k)&&en(k.cast)?k.cast(K):K,me(K),Ze(J=>{var Se;J.__flags.pendingReset=!0,J.validated=!1,J.touched=((Se=x==null?void 0:x.touched)===null||Se===void 0?void 0:Se[J.path])||!1,D(J.path,Dn(K,J.path),!1),w(J.path,void 0)}),R!=null&&R.force?q(K,!1):Z(K,!1),_((x==null?void 0:x.errors)||{}),a.value=(x==null?void 0:x.submitCount)||0,zn(()=>{te({mode:"silent"}),Ze(J=>{J.__flags.pendingReset=!1})})}async function te(x){const R=(x==null?void 0:x.mode)||"force";if(R==="force"&&Ze(pe=>pe.validated=!0),ve.validateSchema)return ve.validateSchema(R);u.value=!0;const K=await Promise.all(d.value.map(pe=>pe.validate?pe.validate(x).then(Ae=>({key:pe.path,valid:Ae.valid,errors:Ae.errors})):Promise.resolve({key:pe.path,valid:!0,errors:[]})));u.value=!1;const J={},Se={};for(const pe of K)J[pe.key]={valid:pe.valid,errors:pe.errors},pe.errors.length&&(Se[pe.key]=pe.errors[0]);return{valid:K.every(pe=>pe.valid),results:J,errors:Se}}async function Q(x,R){var K;const J=oe(x);if(J&&(R==null?void 0:R.mode)!=="silent"&&(J.validated=!0),k){const{results:Se}=await ft((R==null?void 0:R.mode)||"validated-only");return Se[x]||{errors:[],valid:!0}}return J!=null&&J.validate?J.validate(R):(!J&&(K=R==null?void 0:R.warn),Promise.resolve({errors:[],valid:!0}))}function re(x){WI(ee.value,x)}function X(x,R,K=!1){ge(x,R),Ci(f,x,R),K&&!(e!=null&&e.initialValues)&&Ci(j.value,x,ct(R))}function ge(x,R,K=!1){Ci(ee.value,x,ct(R)),K&&Ci(j.value,x,ct(R))}async function le(){const x=Ye(k);if(!x)return{valid:!0,results:{},errors:{}};u.value=!0;const R=Hf(x)||Ir(x)?await oK(x,f):await sK(x,f,{names:C.value,bailsMap:O.value});return u.value=!1,R}const be=pt((x,{evt:R})=>{Kk(R)&&R.target.submit()});fm(()=>{if(e!=null&&e.initialErrors&&_(e.initialErrors),e!=null&&e.initialTouched&&L(e.initialTouched),e!=null&&e.validateOnMount){te();return}ve.validateSchema&&ve.validateSchema("silent")}),ht(k)&&fr(k,()=>{var x;(x=ve.validateSchema)===null||x===void 0||x.call(ve,"validated-only")}),Bs(Bh,ve);function xe(x,R){const K=en(R)||R==null?void 0:R.label,J=oe(nt(x))||Xe(x,{label:K}),Se=()=>en(R)?R(Gl(J,Wl)):R||{};function pe(){var Be;J.touched=!0,((Be=Se().validateOnBlur)!==null&&Be!==void 0?Be:Oo().validateOnBlur)&&Q(J.path)}function Ae(){var Be;((Be=Se().validateOnInput)!==null&&Be!==void 0?Be:Oo().validateOnInput)&&zn(()=>{Q(J.path)})}function Ge(){var Be;((Be=Se().validateOnChange)!==null&&Be!==void 0?Be:Oo().validateOnChange)&&zn(()=>{Q(J.path)})}const qe=Fe(()=>{const Be={onChange:Ge,onInput:Ae,onBlur:pe};return en(R)?Object.assign(Object.assign({},Be),R(Gl(J,Wl)).props||{}):R!=null&&R.props?Object.assign(Object.assign({},Be),R.props(Gl(J,Wl))):Be});return[ae(x,()=>{var Be,At,kt;return(kt=(Be=Se().validateOnModelUpdate)!==null&&Be!==void 0?Be:(At=Oo())===null||At===void 0?void 0:At.validateOnModelUpdate)!==null&&kt!==void 0?kt:!0}),qe]}function Ue(x){return Array.isArray(x)?x.map(R=>ae(R,!0)):ae(x)}function Ee(x,R){const[K,J]=xe(x,R);function Se(Ge){J.value.onBlur(Ge)}function pe(Ge){const qe=zf(Ge);D(nt(x),qe,!1),J.value.onInput(Ge)}function Ae(Ge){const qe=zf(Ge);D(nt(x),qe,!1),J.value.onChange(Ge)}return Fe(()=>Object.assign(Object.assign({},J.value),{onBlur:Se,onInput:pe,onChange:Ae,value:K.value}))}function ze(x,R){const[K,J]=xe(x,R),Se=oe(nt(x));function pe(Ae){K.value=Ae}return Fe(()=>{const Ae=en(R)?R(Gl(Se,Wl)):R||{};return Object.assign({[Ae.model||"modelValue"]:K.value,[`onUpdate:${Ae.model||"modelValue"}`]:pe},J.value)})}return Object.assign(Object.assign({},ve),{values:rm(f),handleReset:()=>z(),submitForm:be})}function EK(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},u=Fe(()=>!xn(t,Ye(n)));function a(){const f=e.value;return sr(o).reduce((d,p)=>{const g=o[p];return d[p]=f[g](m=>m[p]),d},{})}const l=li(a());return YO(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Fe(()=>Object.assign(Object.assign({initialValues:Ye(n)},l),{valid:l.valid&&!sr(i.value).length,dirty:u.value}))}function IK(e,t,n){const i=Jk(n),o=En(i),u=En(ct(i));function a(l,f=!1){o.value=ic(ct(o.value)||{},ct(l)),u.value=ic(ct(u.value)||{},ct(l)),f&&e.value.forEach(d=>{if(d.touched)return;const g=Dn(o.value,d.path);Ci(t,d.path,ct(g))})}return{initialValues:o,originalInitialValues:u,setInitialValues:a}}function TK(e,t){return t?{valid:e.valid&&t.valid,errors:[...e.errors,...t.errors]}:e}const SK=oc({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=To(e,"validationSchema"),i=To(e,"keepValues"),{errors:o,errorBag:u,values:a,meta:l,isSubmitting:f,isValidating:d,submitCount:p,controlledValues:g,validate:m,validateField:w,handleReset:_,resetForm:T,handleSubmit:A,setErrors:C,setFieldError:O,setFieldValue:F,setValues:V,setFieldTouched:ee,setTouched:j,resetField:me}=_K({validationSchema:n.value?n:void 0,initialValues:e.initialValues,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:i}),H=A((oe,{evt:Pe})=>{Kk(Pe)&&Pe.target.submit()},e.onInvalidSubmit),ie=e.onSubmit?A(e.onSubmit,e.onInvalidSubmit):H;function k(oe){Vy(oe)&&oe.preventDefault(),_(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function Xe(oe,Pe){return A(typeof oe=="function"&&!Pe?oe:Pe,e.onInvalidSubmit)(oe)}function ot(){return ct(a)}function ut(){return ct(l.value)}function ft(){return ct(o.value)}function Ze(){return{meta:l.value,errors:o.value,errorBag:u.value,values:a,isSubmitting:f.value,isValidating:d.value,submitCount:p.value,controlledValues:g.value,validate:m,validateField:w,handleSubmit:Xe,handleReset:_,submitForm:H,setErrors:C,setFieldError:O,setFieldValue:F,setValues:V,setFieldTouched:ee,setTouched:j,resetForm:T,resetField:me,getValues:ot,getMeta:ut,getErrors:ft}}return t.expose({setFieldError:O,setErrors:C,setFieldValue:F,setValues:V,setFieldTouched:ee,setTouched:j,resetForm:T,validate:m,validateField:w,resetField:me,getValues:ot,getMeta:ut,getErrors:ft,values:a,meta:l,errors:o}),function(){const Pe=e.as==="form"?e.as:e.as?cm(e.as):null,_e=By(Pe,t,Ze);return Pe?Ws(Pe,Object.assign(Object.assign(Object.assign({},Pe==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:ie,onReset:k}),_e):_e}}}),AK=SK,kK=oc({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=hr(Bh,void 0),i=Fe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const u=e.as?cm(e.as):e.as,a=By(u,t,o),l=Object.assign({role:"alert"},t.attrs);return!u&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Ws(u||"span",l,i.value):Ws(u,l,a)}}}),xK=kK;/**
  * vee-validate v4.12.3
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const Xl={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},NK=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function xc(e,t){return Array.isArray(e)?e[0]:e[t]}function Zi(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const Zk=(e,t)=>{if(Zi(e))return!0;const n=NK(t);if(Array.isArray(e))return e.every(o=>Zk(o,{locale:n}));const i=String(e);return n?(Xl[n]||Xl.en).test(i):Object.keys(Xl).some(o=>Xl[o].test(i))},RK=(e,t)=>{const n=xc(t,"target");return String(e)===String(n)},eT=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,CK=e=>Zi(e)?!0:Array.isArray(e)?e.every(t=>eT.test(String(t))):eT.test(String(e)),ex=(e,t)=>{if(Zi(e))return!0;const n=xc(t,"length");return Array.isArray(e)?e.every(i=>ex(i,{length:n})):[...String(e)].length<=Number(n)},tx=(e,t)=>{if(Zi(e))return!0;const n=xc(t,"max");return Array.isArray(e)?e.length>0&&e.every(i=>tx(i,{max:n})):Number(e)<=Number(n)},nx=(e,t)=>{if(Zi(e))return!0;const n=xc(t,"length");return Array.isArray(e)?e.every(i=>nx(i,{length:n})):[...String(e)].length>=Number(n)},rx=(e,t)=>{if(Zi(e))return!0;const n=xc(t,"min");return Array.isArray(e)?e.length>0&&e.every(i=>rx(i,{min:n})):Number(e)>=Number(n)},ix=(e,t)=>Zi(e)?!0:Array.isArray(e)?e.every(n=>ix(n,t)):Array.from(t).some(n=>n==e),tT=(e,t)=>Zi(e)?!0:!ix(e,t);function OK(e){return e==null}function PK(e){return Array.isArray(e)&&e.length===0}const nT=e=>OK(e)||PK(e)||e===!1?!1:!!String(e).trim().length,DK={install(e){e.component("VeeForm",AK),e.component("VeeField",bK),e.component("ErrorMessage",xK),br("required",nT),br("tos",nT),br("min",nx),br("max",ex),br("alpha_spaces",Zk),br("email",CK),br("min_value",rx),br("max_value",tx),br("password_mismatch",RK),br("not_one_of",tT),br("country_excluded",tT),Z$({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too short.`,alpha_spaces:`The field ${t.field} may only contain alphabetical chars`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,password_mismatch:"The password don't match.",not_one_of:`You are not arrowed to use this value for the field ${t.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",tos:"You must accept the Terms of Service."};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let Cs;Ca.onAuthStateChanged(()=>{Cs||(Cs=hD(eB),Cs.use(vD()),Cs.use(Vk),Cs.use(DK),Cs.mount("#app"))});
